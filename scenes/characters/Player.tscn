[gd_scene load_steps=17 format=3 uid="uid://bk8nq2vj5r7p1"]

[ext_resource type="Script" path="res://scripts/characters/player.gd" id="1_player"]
[ext_resource type="Script" path="res://scripts/objects/hit_area.gd" id="2_hit_area"]
[ext_resource type="Script" path="res://scripts/components/threat_sphere.gd" id="3_threat_sphere"]
[ext_resource type="Texture2D" path="res://assets/sprites/characters/player/player_body.png" id="4_body"]
[ext_resource type="Texture2D" path="res://assets/sprites/characters/player/player_head.png" id="5_head"]
[ext_resource type="Texture2D" path="res://assets/sprites/characters/player/player_right_shoulder.png" id="6_right_shoulder"]
[ext_resource type="Texture2D" path="res://assets/sprites/characters/player/player_right_forearm.png" id="7_right_forearm"]
[ext_resource type="Texture2D" path="res://assets/sprites/characters/player/player_armband.png" id="8_armband"]
[ext_resource type="Script" path="res://scripts/components/bloody_feet_component.gd" id="9_bloody_feet"]
[ext_resource type="Texture2D" path="res://assets/sprites/characters/player/player_left_shoulder.png" id="10_left_shoulder"]
[ext_resource type="Texture2D" path="res://assets/sprites/characters/player/player_left_forearm.png" id="11_left_forearm"]

[sub_resource type="CircleShape2D" id="CircleShape2D_player"]
radius = 16.0

[sub_resource type="CircleShape2D" id="CircleShape2D_threat"]
radius = 150.0

[sub_resource type="CircleShape2D" id="CircleShape2D_casing_pusher"]
radius = 20.0

[node name="Player" type="CharacterBody2D" groups=["player"]]
collision_layer = 1
collision_mask = 4
script = ExtResource("1_player")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_player")

[node name="PlayerModel" type="Node2D" parent="."]

[node name="Body" type="Sprite2D" parent="PlayerModel"]
z_index = 1
position = Vector2(-4, 0)
texture = ExtResource("4_body")

[node name="LeftShoulder" type="Sprite2D" parent="PlayerModel"]
z_index = 1
position = Vector2(8, -2)
texture = ExtResource("10_left_shoulder")

[node name="LeftForearm" type="Sprite2D" parent="PlayerModel"]
z_index = 1
position = Vector2(18, 2)
rotation = 0.3
texture = ExtResource("11_left_forearm")

[node name="RightShoulder" type="Sprite2D" parent="PlayerModel"]
z_index = 4
position = Vector2(24, 6)
texture = ExtResource("6_right_shoulder")

[node name="RightForearm" type="Sprite2D" parent="PlayerModel"]
z_index = 4
position = Vector2(-2, 6)
texture = ExtResource("7_right_forearm")

[node name="Armband" type="Sprite2D" parent="PlayerModel"]
z_index = 5
position = Vector2(-2, 6)
modulate = Color(2, 0.3, 0.3, 1)
texture = ExtResource("8_armband")

[node name="Head" type="Sprite2D" parent="PlayerModel"]
z_index = 3
position = Vector2(-6, -2)
texture = ExtResource("5_head")

[node name="WeaponMount" type="Node2D" parent="PlayerModel"]
position = Vector2(0, 6)

[node name="Camera2D" type="Camera2D" parent="."]
process_callback = 0
limit_left = 0
limit_top = 0
limit_right = 4128
limit_bottom = 3088
limit_smoothed = true
position_smoothing_enabled = true
position_smoothing_speed = 5.0

[node name="HitArea" type="Area2D" parent="."]
collision_layer = 1
collision_mask = 16
script = ExtResource("2_hit_area")

[node name="HitCollisionShape" type="CollisionShape2D" parent="HitArea"]
shape = SubResource("CircleShape2D_player")

[node name="ThreatSphere" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 16
monitorable = false
script = ExtResource("3_threat_sphere")
threat_radius = 150.0
trajectory_tolerance_degrees = 15.0

[node name="ThreatCollisionShape" type="CollisionShape2D" parent="ThreatSphere"]
shape = SubResource("CircleShape2D_threat")

[node name="CasingPusher" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 64
monitorable = false

[node name="CasingPusherShape" type="CollisionShape2D" parent="CasingPusher"]
shape = SubResource("CircleShape2D_casing_pusher")

[node name="BloodyFeetComponent" type="Node" parent="."]
script = ExtResource("9_bloody_feet")
blood_steps_count = 12
step_distance = 30.0
initial_alpha = 0.8
alpha_decay_rate = 0.06
footprint_scale = 0.72
debug_logging = false
