[16:55:08] [INFO] ============================================================
[16:55:08] [INFO] GAME LOG STARTED
[16:55:08] [INFO] ============================================================
[16:55:08] [INFO] Timestamp: 2026-02-04T16:55:08
[16:55:08] [INFO] Log file: I:/Загрузки/godot exe/аним счёт/game_log_20260204_165508.txt
[16:55:08] [INFO] Executable: I:/Загрузки/godot exe/аним счёт/Godot-Top-Down-Template.exe
[16:55:08] [INFO] OS: Windows
[16:55:08] [INFO] Debug build: false
[16:55:08] [INFO] Engine version: 4.3-stable (official)
[16:55:08] [INFO] Project: Godot Top-Down Template
[16:55:08] [INFO] ------------------------------------------------------------
[16:55:08] [INFO] [GameManager] GameManager ready
[16:55:08] [INFO] [ScoreManager] ScoreManager ready
[16:55:08] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[16:55:08] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[16:55:08] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[16:55:08] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[16:55:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:55:08] [INFO] [PenultimateHit] Saturation shader loaded successfully
[16:55:08] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[16:55:08] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[16:55:08] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[16:55:08] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[16:55:08] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[16:55:08] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[16:55:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:55:08] [INFO] [LastChance] Last chance shader loaded successfully
[16:55:08] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[16:55:08] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[16:55:08] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[16:55:08] [INFO] [LastChance]   Sepia intensity: 0.70
[16:55:08] [INFO] [LastChance]   Brightness: 0.60
[16:55:08] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[16:55:08] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[16:55:08] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false
[16:55:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:08] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:55:08] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:55:08] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:55:08] [ENEMY] [Enemy1] Death animation component initialized
[16:55:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:08] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:55:08] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:55:08] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:55:08] [ENEMY] [Enemy2] Death animation component initialized
[16:55:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:08] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:55:08] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:55:08] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:55:08] [ENEMY] [Enemy3] Death animation component initialized
[16:55:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:08] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:55:08] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:55:08] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:55:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:55:08] [ENEMY] [Enemy4] Death animation component initialized
[16:55:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:08] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:55:08] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:55:08] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:55:08] [ENEMY] [Enemy5] Death animation component initialized
[16:55:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:08] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:55:08] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:55:08] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:55:08] [ENEMY] [Enemy6] Death animation component initialized
[16:55:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:08] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:55:08] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:55:08] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:55:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:55:08] [ENEMY] [Enemy7] Death animation component initialized
[16:55:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:08] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:55:08] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:55:08] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:55:08] [ENEMY] [Enemy8] Death animation component initialized
[16:55:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:08] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:55:08] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:55:08] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:55:08] [ENEMY] [Enemy9] Death animation component initialized
[16:55:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:08] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:55:08] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:55:08] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:55:08] [ENEMY] [Enemy10] Death animation component initialized
[16:55:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:08] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:55:08] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:55:08] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:55:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:55:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:55:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:55:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:55:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:55:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:55:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[16:55:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:55:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[16:55:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:55:09] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[16:55:09] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:55:09] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:55:09] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:55:09] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:55:09] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:55:09] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:55:09] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:55:09] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:55:09] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:55:09] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:55:09] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:55:09] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:55:09] [INFO] [ScoreManager] Level started with 10 enemies
[16:55:09] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:55:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[16:55:09] [ENEMY] [Enemy1] Registered as sound listener
[16:55:09] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[16:55:09] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:55:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[16:55:09] [ENEMY] [Enemy2] Registered as sound listener
[16:55:09] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[16:55:09] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:55:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[16:55:09] [ENEMY] [Enemy3] Registered as sound listener
[16:55:09] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:55:09] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:55:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[16:55:09] [ENEMY] [Enemy4] Registered as sound listener
[16:55:09] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[16:55:09] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:55:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[16:55:09] [ENEMY] [Enemy5] Registered as sound listener
[16:55:09] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[16:55:09] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:55:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[16:55:09] [ENEMY] [Enemy6] Registered as sound listener
[16:55:09] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[16:55:09] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:55:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[16:55:09] [ENEMY] [Enemy7] Registered as sound listener
[16:55:09] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 2, behavior: PATROL
[16:55:09] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:55:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[16:55:09] [ENEMY] [Enemy8] Registered as sound listener
[16:55:09] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[16:55:09] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:55:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[16:55:09] [ENEMY] [Enemy9] Registered as sound listener
[16:55:09] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[16:55:09] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:55:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[16:55:09] [ENEMY] [Enemy10] Registered as sound listener
[16:55:09] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[16:55:09] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:55:09] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:09] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:09] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:09] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:09] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:09] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:09] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:09] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:55:09] [INFO] [Player] Detected weapon: Rifle (default pose)
[16:55:09] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[16:55:09] [INFO] [PenultimateHit] Shader warmup complete in 175 ms
[16:55:09] [INFO] [LastChance] Shader warmup complete in 174 ms
[16:55:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:55:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:55:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:55:09] [INFO] [LastChance] Found player: Player
[16:55:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:55:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:55:09] [INFO] [LastChance] Connected to player Died signal (C#)
[16:55:09] [INFO] [ImpactEffects] Particle shader warmup complete: 5 effects warmed up in 407 ms
[16:55:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:55:10] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:55:10] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[16:55:10] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[16:55:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[16:55:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:55:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[16:55:10] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:55:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[16:55:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[16:55:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[16:55:11] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:55:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[16:55:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1250), corner_timer=-0.02
[16:55:11] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:55:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1250), corner_timer=0.30
[16:55:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1250), corner_timer=-0.02
[16:55:11] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:55:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1250), corner_timer=0.30
[16:55:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1250), corner_timer=-0.02
[16:55:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:55:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,1250), corner_timer=0.30
[16:55:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,1250), corner_timer=-0.02
[16:55:12] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[16:55:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,1250), corner_timer=0.30
[16:55:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,1250), corner_timer=-0.02
[16:55:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,1250), corner_timer=0.30
[16:55:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(450,1250), corner_timer=-0.02
[16:55:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[16:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(450,1250), corner_timer=0.30
[16:55:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(450,1250), corner_timer=-0.02
[16:55:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[16:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(450,1250), corner_timer=0.30
[16:55:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(450,1250), corner_timer=-0.02
[16:55:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(450,1250), corner_timer=0.30
[16:55:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(450,1250), corner_timer=-0.02
[16:55:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(450,1250), corner_timer=0.30
[16:55:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(450,1250), corner_timer=-0.02
[16:55:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(450,1250), corner_timer=0.30
[16:55:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:55:15] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[16:55:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[16:55:15] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=168.8°, player=(450,1250), corner_timer=0.00
[16:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(450,1250), corner_timer=-0.02
[16:55:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(450,1250), corner_timer=0.30
[16:55:15] [ENEMY] [Enemy3] Memory: medium confidence (0.61) - transitioning to PURSUING
[16:55:15] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[16:55:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=50465867480, bullet_pos=(441.4012, 689.3987)
[16:55:15] [INFO] [Bullet] Using shooter_position, distance=566,66656
[16:55:15] [INFO] [Bullet] Distance to wall: 566,66656 (38,58537% of viewport)
[16:55:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:15] [INFO] [Bullet] Starting wall penetration at (441.4012, 689.3987)
[16:55:15] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-123.8°, player=(450,1250), corner_timer=0.00
[16:55:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,26785
[16:55:15] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:15] [INFO] [Bullet] Exiting penetration at (440.69308, 642.73737) after traveling 41,66667 pixels through wall
[16:55:15] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:55:15] [ENEMY] [Enemy3] PURSUING corner check: angle 25.7°
[16:55:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:55:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:15] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:55:15] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:55:15] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:55:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:55:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:55:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:55:15] [ENEMY] [Enemy1] Death animation component initialized
[16:55:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:15] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:55:15] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:55:15] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:55:15] [ENEMY] [Enemy2] Death animation component initialized
[16:55:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:15] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:55:15] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:55:15] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:55:15] [ENEMY] [Enemy3] Death animation component initialized
[16:55:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:15] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:55:15] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:55:15] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:55:15] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:55:15] [ENEMY] [Enemy4] Death animation component initialized
[16:55:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:15] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:55:15] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:55:15] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:55:15] [ENEMY] [Enemy5] Death animation component initialized
[16:55:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:15] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:55:15] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:55:15] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:55:15] [ENEMY] [Enemy6] Death animation component initialized
[16:55:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:15] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:55:15] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:55:15] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:55:15] [ENEMY] [Enemy7] Death animation component initialized
[16:55:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:15] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:55:15] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:55:15] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:55:15] [ENEMY] [Enemy8] Death animation component initialized
[16:55:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:15] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:55:15] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:55:15] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:55:15] [ENEMY] [Enemy9] Death animation component initialized
[16:55:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:15] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:55:15] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:55:15] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:55:15] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:55:15] [ENEMY] [Enemy10] Death animation component initialized
[16:55:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:15] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:55:15] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:55:15] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:55:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:55:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:55:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:55:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:55:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:55:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:55:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[16:55:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:55:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[16:55:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:55:15] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:55:15] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:55:15] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:55:15] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:55:15] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:55:15] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:55:15] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:55:15] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:55:15] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:55:15] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:55:15] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:55:15] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:55:15] [INFO] [ScoreManager] Level started with 10 enemies
[16:55:15] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:55:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[16:55:15] [ENEMY] [Enemy1] Registered as sound listener
[16:55:15] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[16:55:15] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:55:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[16:55:15] [ENEMY] [Enemy2] Registered as sound listener
[16:55:15] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[16:55:15] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:55:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[16:55:15] [ENEMY] [Enemy3] Registered as sound listener
[16:55:15] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[16:55:15] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:55:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[16:55:15] [ENEMY] [Enemy4] Registered as sound listener
[16:55:15] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[16:55:15] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:55:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[16:55:15] [ENEMY] [Enemy5] Registered as sound listener
[16:55:15] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:55:15] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:55:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[16:55:15] [ENEMY] [Enemy6] Registered as sound listener
[16:55:15] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[16:55:15] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:55:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[16:55:15] [ENEMY] [Enemy7] Registered as sound listener
[16:55:15] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[16:55:15] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:55:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[16:55:15] [ENEMY] [Enemy8] Registered as sound listener
[16:55:15] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[16:55:15] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:55:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[16:55:15] [ENEMY] [Enemy9] Registered as sound listener
[16:55:15] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[16:55:15] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:55:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[16:55:15] [ENEMY] [Enemy10] Registered as sound listener
[16:55:15] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[16:55:15] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:55:15] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:15] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:15] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:15] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:15] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:15] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:15] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:15] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:55:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:55:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:55:15] [INFO] [LastChance] Found player: Player
[16:55:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:55:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:55:15] [INFO] [LastChance] Connected to player Died signal (C#)
[16:55:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:55:15] [INFO] [Player] Detected weapon: Rifle (default pose)
[16:55:15] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[16:55:18] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:55:18] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:55:18] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,986), corner_timer=0.30
[16:55:18] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,986), corner_timer=0.30
[16:55:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,915), corner_timer=-0.02
[16:55:18] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:55:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,915), corner_timer=-0.02
[16:55:18] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:55:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,909), corner_timer=0.30
[16:55:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,909), corner_timer=0.30
[16:55:18] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.0°, current=-168.8°, player=(450,821), corner_timer=0.00
[16:55:18] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[16:55:18] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.4°, current=-9.3°, player=(450,810), corner_timer=0.00
[16:55:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,805), corner_timer=-0.02
[16:55:18] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:55:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,799), corner_timer=0.30
[16:55:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.8477, 773.3766), source=PLAYER (AssaultRifle), range=1469, listeners=20
[16:55:19] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[16:55:19] [ENEMY] [Enemy1] Heard gunshot at (451.8477, 773.3766), source_type=0, intensity=0.01, distance=450
[16:55:19] [ENEMY] [Enemy2] Heard gunshot at (451.8477, 773.3766), source_type=0, intensity=0.05, distance=229
[16:55:19] [ENEMY] [Enemy4] Heard gunshot at (451.8477, 773.3766), source_type=0, intensity=0.02, distance=370
[16:55:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:55:19] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.0°, current=33.8°, player=(451,767), corner_timer=0.00
[16:55:19] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=76.6°, current=-101.3°, player=(451,767), corner_timer=0.00
[16:55:19] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-159.1°, current=-101.3°, player=(451,767), corner_timer=0.00
[16:55:19] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[16:55:19] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:19] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4765, 753.8723), dir=(1, 0), lethal=false
[16:55:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:19] [INFO] [ImpactEffects] Blood effect spawned at (684.4765, 753.8723) (scale=1)
[16:55:19] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-177.9°, current=180.0°, player=(459,745), corner_timer=0.00
[16:55:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.005, 745.1486), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:55:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:55:19] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[16:55:19] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:19] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4765, 753.8723), dir=(1, 0), lethal=false
[16:55:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:19] [INFO] [ImpactEffects] Blood effect spawned at (684.4765, 753.8723) (scale=1)
[16:55:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(481,728), corner_timer=-0.01
[16:55:19] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[16:55:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.0388, 735.3332), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:55:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:55:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.1°, player=(484,729), corner_timer=0.30
[16:55:19] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[16:55:19] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[16:55:19] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:19] [INFO] [ImpactEffects] spawn_blood_effect called at (688.5368, 755.1831), dir=(1, 0), lethal=false
[16:55:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:19] [INFO] [ImpactEffects] Blood effect spawned at (688.5368, 755.1831) (scale=1)
[16:55:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.5971, 756.4939), source=ENEMY (Enemy3), range=1469, listeners=10
[16:55:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[16:55:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(507.1517, 748), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:55:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:55:19] [INFO] [LastChance] Threat detected: Bullet
[16:55:19] [INFO] [LastChance] Not in hard mode - effect disabled
[16:55:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:55:19] [INFO] [BloodDecal] Blood puddle created at (735.0037, 762.4898) (added to group)
[16:55:19] [INFO] [Player] Spawning blood effect at (516.3255, 750.2334), dir=(1, 0), lethal=False (C#)
[16:55:19] [INFO] [ImpactEffects] spawn_blood_effect called at (516.3255, 750.2334), dir=(1, 0), lethal=false
[16:55:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:19] [INFO] [ImpactEffects] Blood effect spawned at (516.3255, 750.2334) (scale=1)
[16:55:19] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[16:55:19] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[16:55:19] [INFO] [PenultimateHit] Starting penultimate hit effect:
[16:55:19] [INFO] [PenultimateHit]   - Time scale: 0.10
[16:55:19] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[16:55:19] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[16:55:19] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[16:55:19] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[16:55:19] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[16:55:19] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[16:55:19] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[16:55:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(701.5993, 764.0172), source=ENEMY (Enemy3), range=1469, listeners=10
[16:55:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[16:55:19] [INFO] [LastChance] Threat detected: Bullet
[16:55:19] [INFO] [LastChance] Not in hard mode - effect disabled
[16:55:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:55:19] [INFO] [BloodDecal] Blood puddle created at (778.8241, 772.6299) (added to group)
[16:55:19] [INFO] [BloodDecal] Blood puddle created at (731.7352, 768.2628) (added to group)
[16:55:20] [INFO] [Player] Spawning blood effect at (529.22595, 764.1399), dir=(1, 0), lethal=True (C#)
[16:55:20] [INFO] [ImpactEffects] spawn_blood_effect called at (529.226, 764.1399), dir=(1, 0), lethal=true
[16:55:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:55:20] [INFO] [ImpactEffects] Blood effect spawned at (529.226, 764.1399) (scale=1.5)
[16:55:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[16:55:20] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[16:55:20] [INFO] [PenultimateHit] Player died - ending penultimate effect
[16:55:20] [INFO] [PenultimateHit] Ending penultimate hit effect
[16:55:20] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[16:55:20] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[16:55:20] [INFO] [LastChance] Player died
[16:55:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(708.2585, 770.147), source=ENEMY (Enemy3), range=1469, listeners=10
[16:55:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[16:55:20] [INFO] [LastChance] Threat detected: Bullet
[16:55:20] [INFO] [LastChance] Not in hard mode - effect disabled
[16:55:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:55:20] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=49.3°, current=126.6°, player=(535,773), corner_timer=0.00
[16:55:20] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:55:20] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[16:55:20] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[16:55:20] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (787.3964, 751.1317) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (777.2911, 792.5417) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (738.6151, 785.8441) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (730.499, 757.6019) (added to group)
[16:55:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(542,792), corner_timer=-0.01
[16:55:20] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (815.9026, 823.4058) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (760.5234, 786.23) (added to group)
[16:55:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=6.3°, player=(543,797), corner_timer=0.30
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (816.181, 740.467) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (779.0573, 788.8293) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (744.4722, 762.4893) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (810.1044, 800.5319) (added to group)
[16:55:20] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-149.5°, current=-151.9°, player=(544,807), corner_timer=0.00
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (738.0655, 779.5994) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (788.5956, 771.5798) (added to group)
[16:55:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:55:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:20] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:55:20] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:55:20] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:55:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:55:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:55:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:55:20] [ENEMY] [Enemy1] Death animation component initialized
[16:55:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:20] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:55:20] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:55:20] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:55:20] [ENEMY] [Enemy2] Death animation component initialized
[16:55:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:20] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:55:20] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:55:20] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:55:20] [ENEMY] [Enemy3] Death animation component initialized
[16:55:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:20] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:55:20] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:55:20] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:55:20] [ENEMY] [Enemy4] Death animation component initialized
[16:55:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:20] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:55:20] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:55:20] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:55:20] [ENEMY] [Enemy5] Death animation component initialized
[16:55:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:20] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:55:20] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:55:20] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:55:20] [ENEMY] [Enemy6] Death animation component initialized
[16:55:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:20] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:55:20] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:55:20] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:55:20] [ENEMY] [Enemy7] Death animation component initialized
[16:55:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:20] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:55:20] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:55:20] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:55:20] [ENEMY] [Enemy8] Death animation component initialized
[16:55:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:20] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:55:20] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:55:20] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:55:20] [ENEMY] [Enemy9] Death animation component initialized
[16:55:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:20] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:55:20] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:55:20] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:55:20] [ENEMY] [Enemy10] Death animation component initialized
[16:55:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:20] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:55:20] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:55:20] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:55:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:55:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:55:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:55:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:55:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:55:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:55:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[16:55:20] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:55:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[16:55:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:55:20] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:55:20] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:55:20] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:55:20] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:55:20] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:55:20] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:55:20] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:55:20] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:55:20] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:55:20] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:55:20] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:55:20] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:55:20] [INFO] [ScoreManager] Level started with 10 enemies
[16:55:20] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:55:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[16:55:20] [ENEMY] [Enemy1] Registered as sound listener
[16:55:20] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[16:55:20] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:55:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[16:55:20] [ENEMY] [Enemy2] Registered as sound listener
[16:55:20] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[16:55:20] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:55:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[16:55:20] [ENEMY] [Enemy3] Registered as sound listener
[16:55:20] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[16:55:20] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:55:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[16:55:20] [ENEMY] [Enemy4] Registered as sound listener
[16:55:20] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[16:55:20] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:55:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[16:55:20] [ENEMY] [Enemy5] Registered as sound listener
[16:55:20] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[16:55:20] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:55:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[16:55:20] [ENEMY] [Enemy6] Registered as sound listener
[16:55:20] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:55:20] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:55:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[16:55:20] [ENEMY] [Enemy7] Registered as sound listener
[16:55:20] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[16:55:20] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:55:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[16:55:20] [ENEMY] [Enemy8] Registered as sound listener
[16:55:20] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[16:55:20] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:55:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[16:55:20] [ENEMY] [Enemy9] Registered as sound listener
[16:55:20] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[16:55:20] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:55:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[16:55:20] [ENEMY] [Enemy10] Registered as sound listener
[16:55:20] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[16:55:20] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:55:20] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:20] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:20] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:20] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:20] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:20] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:20] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:20] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:55:20] [INFO] [Player] Detected weapon: Rifle (default pose)
[16:55:20] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[16:55:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:55:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:55:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:55:20] [INFO] [LastChance] Found player: Player
[16:55:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:55:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:55:20] [INFO] [LastChance] Connected to player Died signal (C#)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (799.9374, 776.9337) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (749.3165, 786.1558) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (556.4414, 766.8865) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (588.2573, 735.9831) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (582.4482, 774.7852) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (605.4269, 792.9559) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (597.6603, 782.7078) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (576.3082, 763.8689) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (618.5043, 755.7804) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (599.0594, 812.3026) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (584.8461, 772.351) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (600.2693, 754.9282) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (586.7416, 754.5313) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (792.9839, 752.2743) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (572.4987, 748.3911) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (894.7592, 861.0977) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (608.097, 791.9547) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (609.9532, 780.3708) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (602.5522, 816.4564) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (594.4837, 788.0521) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (617.2659, 750.8744) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (631.4115, 836.8157) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (829.4749, 790.9371) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (795.4094, 824.0085) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (871.3451, 849.3991) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (677.249, 776.2442) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (813.6583, 839.899) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (875.3561, 852.0479) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (660.1281, 752.1522) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (835.0141, 810.1205) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (650.7855, 765.3525) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (671.9438, 783.6693) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (681.7966, 750.6378) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (607.2885, 866.1342) (added to group)
[16:55:20] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (816.8521, 835.9801) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (886.3197, 894.0796) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (655.9742, 860.1127) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (715.2042, 768.7534) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (640.8009, 905.2118) (added to group)
[16:55:20] [INFO] [BloodDecal] Blood puddle created at (639.0607, 906.5458) (added to group)
[16:55:21] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:55:21] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:55:21] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,914), corner_timer=0.30
[16:55:21] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,914), corner_timer=0.30
[16:55:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(438,814), corner_timer=-0.02
[16:55:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:55:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(438,814), corner_timer=-0.02
[16:55:22] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:55:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(436,810), corner_timer=0.30
[16:55:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(436,810), corner_timer=0.30
[16:55:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(414.0648, 794.0295), source=PLAYER (AssaultRifle), range=1469, listeners=20
[16:55:22] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[16:55:22] [ENEMY] [Enemy1] Heard gunshot at (414.0648, 794.0295), source_type=0, intensity=0.01, distance=458
[16:55:22] [ENEMY] [Enemy2] Heard gunshot at (414.0648, 794.0295), source_type=0, intensity=0.04, distance=244
[16:55:22] [ENEMY] [Enemy3] Heard gunshot at (414.0648, 794.0295), source_type=0, intensity=0.03, distance=289
[16:55:22] [ENEMY] [Enemy4] Heard gunshot at (414.0648, 794.0295), source_type=0, intensity=0.02, distance=400
[16:55:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:55:22] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.4°, current=168.8°, player=(414,788), corner_timer=0.00
[16:55:22] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=86.6°, current=168.8°, player=(414,788), corner_timer=0.00
[16:55:22] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=172.4°, current=-78.7°, player=(414,788), corner_timer=0.00
[16:55:22] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-163.8°, current=-67.5°, player=(414,788), corner_timer=0.00
[16:55:22] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[16:55:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:22] [INFO] [ImpactEffects] spawn_blood_effect called at (668.1879, 753.425), dir=(1, 0), lethal=false
[16:55:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:22] [INFO] [ImpactEffects] Blood effect spawned at (668.1879, 753.425) (scale=1)
[16:55:22] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=175.4°, current=180.0°, player=(386,776), corner_timer=0.00
[16:55:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(381.6413, 781.1367), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:55:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:55:22] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[16:55:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:22] [INFO] [ImpactEffects] spawn_blood_effect called at (633.0797, 755.9625), dir=(1, 0), lethal=false
[16:55:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:22] [INFO] [ImpactEffects] Blood effect spawned at (633.0797, 755.9625) (scale=1)
[16:55:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(356,775), corner_timer=-0.01
[16:55:22] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[16:55:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(352.9801, 782.3477), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:55:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:55:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(352,776), corner_timer=0.30
[16:55:22] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[16:55:22] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[16:55:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:22] [INFO] [ImpactEffects] spawn_blood_effect called at (608.9826, 763.3053), dir=(1, 0), lethal=false
[16:55:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:22] [INFO] [ImpactEffects] Blood effect spawned at (608.9826, 763.3053) (scale=1)
[16:55:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(332.6846, 794.1582), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:55:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:55:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(608.0413, 765.2197), source=ENEMY (Enemy3), range=1469, listeners=10
[16:55:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (754.4197, 771.9462) (added to group)
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (711.6872, 773.1521) (added to group)
[16:55:22] [INFO] [LastChance] Threat detected: Bullet
[16:55:22] [INFO] [LastChance] Not in hard mode - effect disabled
[16:55:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:55:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(603.3349, 774.7919), source=ENEMY (Enemy3), range=1469, listeners=10
[16:55:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[16:55:22] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[16:55:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:22] [INFO] [ImpactEffects] spawn_blood_effect called at (601.4524, 778.6207), dir=(1, 0), lethal=true
[16:55:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:22] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:55:22] [INFO] [ImpactEffects] Blood effect spawned at (601.4524, 778.6207) (scale=1.5)
[16:55:22] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:55:22] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:55:22] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[16:55:22] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:55:22] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (745.484, 775.7775) (added to group)
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (745.5422, 771.417) (added to group)
[16:55:22] [INFO] [LastChance] Threat detected: @Area2D@865
[16:55:22] [INFO] [LastChance] Not in hard mode - effect disabled
[16:55:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (691.0774, 748.3501) (added to group)
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (713.927, 757.48) (added to group)
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (738.4274, 800.9305) (added to group)
[16:55:22] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[16:55:22] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[16:55:22] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[16:55:22] [INFO] [Player] Spawning blood effect at (318.66577, 829.0064), dir=(1, 0), lethal=False (C#)
[16:55:22] [INFO] [ImpactEffects] spawn_blood_effect called at (318.6658, 829.0064), dir=(1, 0), lethal=false
[16:55:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:22] [INFO] [ImpactEffects] Blood effect spawned at (318.6658, 829.0064) (scale=1)
[16:55:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[16:55:22] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (794.4796, 821.0842) (added to group)
[16:55:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(318,836), corner_timer=-0.01
[16:55:22] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (705.116, 757.3114) (added to group)
[16:55:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(541.2948, 778.607), shooter_id=262848644815, bullet_pos=(56.53233, 901.1036)
[16:55:22] [INFO] [Bullet] Using shooter_position, distance=500.000061035156
[16:55:22] [INFO] [Bullet] Distance to wall: 500.000061035156 (34.0459235749237% of viewport)
[16:55:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:22] [INFO] [Bullet] Starting wall penetration at (56.53233, 901.1036)
[16:55:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.2°, player=(317,839), corner_timer=0.30
[16:55:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.0298738479614
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (684.8336, 801.6) (added to group)
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (727.7061, 738.7725) (added to group)
[16:55:22] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:22] [INFO] [Bullet] Exiting penetration at (19.36722, 910.4951) after traveling 33.3333358764648 pixels through wall
[16:55:22] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (824.9823, 746.7252) (added to group)
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (786.2141, 785.9605) (added to group)
[16:55:22] [INFO] [BloodDecal] Blood puddle created at (693.9287, 762.8724) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (649.7365, 769.2543) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (689.4783, 800.2449) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (825.7754, 849.3969) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (645.2807, 803.6211) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (683.8766, 801.7791) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (741.5436, 737.3809) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (700.3732, 790.5823) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (703.7487, 787.9797) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (706.4064, 774.1544) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (367.9549, 862.9731) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (880.6469, 866.3908) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (745.8383, 794.8495) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (405.1368, 884.3168) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (783.4574, 796.2042) (added to group)
[16:55:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(315,867), corner_timer=-0.01
[16:55:23] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[16:55:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.9°, player=(315,867), corner_timer=0.30
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (418.1082, 865.996) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (438.9893, 865.6288) (added to group)
[16:55:23] [ENEMY] [Enemy3] Ragdoll activated
[16:55:23] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (743.9228, 796.0386) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (420.7542, 862.2537) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (434.2636, 846.3) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (429.5099, 908.0142) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (782.7434, 777.5792) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (461.726, 940.8487) (added to group)
[16:55:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(315,842), corner_timer=-0.01
[16:55:23] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[16:55:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.2°, player=(315,838), corner_timer=0.30
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (455.0504, 965.9718) (added to group)
[16:55:23] [INFO] [BloodDecal] Blood puddle created at (475.801, 931.4182) (added to group)
[16:55:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:24] [INFO] [PauseMenu] Armory button pressed
[16:55:24] [INFO] [PauseMenu] Creating new armory menu instance
[16:55:24] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[16:55:24] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[16:55:24] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[16:55:24] [INFO] [PauseMenu] back_pressed signal exists on instance
[16:55:24] [INFO] [PauseMenu] back_pressed signal connected
[16:55:24] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[16:55:24] [INFO] [PauseMenu] _populate_weapon_grid method exists
[16:55:26] [INFO] [GrenadeManager] Grenade type changed from Flashbang to Frag Grenade
[16:55:26] [INFO] [GrenadeManager] Restarting level due to grenade type change
[16:55:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:55:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:26] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:55:26] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:55:26] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:55:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:55:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:55:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:55:26] [ENEMY] [Enemy1] Death animation component initialized
[16:55:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:26] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:55:26] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:55:26] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:55:26] [ENEMY] [Enemy2] Death animation component initialized
[16:55:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:26] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:55:26] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:55:26] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:55:26] [ENEMY] [Enemy3] Death animation component initialized
[16:55:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:26] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:55:26] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:55:26] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:55:26] [ENEMY] [Enemy4] Death animation component initialized
[16:55:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:26] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:55:26] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:55:26] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:55:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:55:26] [ENEMY] [Enemy5] Death animation component initialized
[16:55:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:26] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:55:26] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:55:26] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:55:26] [ENEMY] [Enemy6] Death animation component initialized
[16:55:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:26] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:55:26] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:55:26] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:55:26] [ENEMY] [Enemy7] Death animation component initialized
[16:55:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:26] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:55:26] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:55:26] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:55:26] [ENEMY] [Enemy8] Death animation component initialized
[16:55:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:26] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:55:26] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:55:26] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:55:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:55:26] [ENEMY] [Enemy9] Death animation component initialized
[16:55:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:26] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:55:26] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:55:26] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:55:26] [ENEMY] [Enemy10] Death animation component initialized
[16:55:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:26] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:55:26] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:55:26] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:55:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[16:55:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:55:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:55:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:55:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:55:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:55:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[16:55:26] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:55:26] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[16:55:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:55:26] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:55:26] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:55:26] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:55:26] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:55:26] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:55:26] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:55:26] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:55:26] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:55:26] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:55:26] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:55:26] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:55:26] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:55:26] [INFO] [ScoreManager] Level started with 10 enemies
[16:55:26] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:55:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[16:55:26] [ENEMY] [Enemy1] Registered as sound listener
[16:55:26] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[16:55:26] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:55:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[16:55:26] [ENEMY] [Enemy2] Registered as sound listener
[16:55:26] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[16:55:26] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:55:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[16:55:26] [ENEMY] [Enemy3] Registered as sound listener
[16:55:26] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[16:55:26] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:55:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[16:55:26] [ENEMY] [Enemy4] Registered as sound listener
[16:55:26] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[16:55:26] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:55:26] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[16:55:26] [ENEMY] [Enemy5] Registered as sound listener
[16:55:26] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:55:26] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:55:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[16:55:26] [ENEMY] [Enemy6] Registered as sound listener
[16:55:26] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:55:26] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:55:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[16:55:26] [ENEMY] [Enemy7] Registered as sound listener
[16:55:26] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[16:55:26] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:55:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[16:55:26] [ENEMY] [Enemy8] Registered as sound listener
[16:55:26] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[16:55:26] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:55:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[16:55:26] [ENEMY] [Enemy9] Registered as sound listener
[16:55:26] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[16:55:26] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:55:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[16:55:26] [ENEMY] [Enemy10] Registered as sound listener
[16:55:26] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[16:55:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:55:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=19
[16:55:26] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[16:55:26] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[16:55:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[16:55:26] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:26] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:26] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:26] [ENEMY] [Enemy4] ROT_CHANGE: none -> P2:combat_state, state=COMBAT, target=135.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:26] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:26] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:26] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:26] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:55:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:55:26] [INFO] [Player] Detected weapon: Rifle (default pose)
[16:55:26] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[16:55:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:55:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:55:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:55:26] [INFO] [LastChance] Found player: Player
[16:55:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:55:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:55:26] [INFO] [LastChance] Connected to player Died signal (C#)
[16:55:26] [ENEMY] [Enemy3] Memory: medium confidence (0.58) - transitioning to PURSUING
[16:55:26] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[16:55:26] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[16:55:26] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=118.5°, current=11.3°, player=(450,1210), corner_timer=0.00
[16:55:26] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[16:55:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:55:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:27] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:55:27] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:55:27] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:55:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:55:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:55:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:55:27] [ENEMY] [Enemy1] Death animation component initialized
[16:55:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:27] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:55:27] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:55:27] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:55:27] [ENEMY] [Enemy2] Death animation component initialized
[16:55:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:27] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:55:27] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:55:27] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:55:27] [ENEMY] [Enemy3] Death animation component initialized
[16:55:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:27] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:55:27] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:55:27] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:55:27] [ENEMY] [Enemy4] Death animation component initialized
[16:55:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:27] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:55:27] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:55:27] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:55:27] [ENEMY] [Enemy5] Death animation component initialized
[16:55:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:27] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:55:27] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:55:27] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:55:27] [ENEMY] [Enemy6] Death animation component initialized
[16:55:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:27] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:55:27] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:55:27] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:55:27] [ENEMY] [Enemy7] Death animation component initialized
[16:55:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:27] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:55:27] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:55:27] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:55:27] [ENEMY] [Enemy8] Death animation component initialized
[16:55:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:27] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:55:27] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:55:27] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:55:27] [ENEMY] [Enemy9] Death animation component initialized
[16:55:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:27] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:55:27] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:55:27] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:55:27] [ENEMY] [Enemy10] Death animation component initialized
[16:55:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:55:27] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:55:27] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:55:27] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:55:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[16:55:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:55:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:55:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:55:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:55:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:55:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[16:55:27] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:55:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[16:55:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:55:27] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:55:27] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:55:27] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:55:27] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:55:27] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:55:27] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:55:27] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:55:27] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:55:27] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:55:27] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:55:27] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:55:27] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:55:27] [INFO] [ScoreManager] Level started with 10 enemies
[16:55:27] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:55:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[16:55:27] [ENEMY] [Enemy1] Registered as sound listener
[16:55:27] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[16:55:27] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:55:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[16:55:27] [ENEMY] [Enemy2] Registered as sound listener
[16:55:27] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[16:55:27] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:55:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[16:55:27] [ENEMY] [Enemy3] Registered as sound listener
[16:55:27] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:55:27] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:55:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[16:55:27] [ENEMY] [Enemy4] Registered as sound listener
[16:55:27] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[16:55:27] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:55:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[16:55:27] [ENEMY] [Enemy5] Registered as sound listener
[16:55:27] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:55:27] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:55:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[16:55:27] [ENEMY] [Enemy6] Registered as sound listener
[16:55:27] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:55:27] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:55:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[16:55:27] [ENEMY] [Enemy7] Registered as sound listener
[16:55:27] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[16:55:27] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:55:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[16:55:27] [ENEMY] [Enemy8] Registered as sound listener
[16:55:27] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[16:55:27] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:55:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[16:55:27] [ENEMY] [Enemy9] Registered as sound listener
[16:55:27] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[16:55:27] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:55:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[16:55:27] [ENEMY] [Enemy10] Registered as sound listener
[16:55:27] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[16:55:27] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:55:27] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:55:27] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:55:27] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:55:27] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:55:27] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:55:27] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:55:27] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:55:27] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:55:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:55:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[16:55:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[16:55:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:55:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:55:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:55:27] [INFO] [LastChance] Found player: Player
[16:55:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:55:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:55:27] [INFO] [LastChance] Connected to player Died signal (C#)
[16:55:28] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=123.7°, player=(450,819), corner_timer=0.00
[16:55:28] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[16:55:28] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-64.9°, player=(450,808), corner_timer=0.00
[16:55:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.7669, 799.0484), source=PLAYER (AssaultRifle), range=1469, listeners=20
[16:55:28] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[16:55:28] [ENEMY] [Enemy1] Heard gunshot at (451.7669, 799.0484), source_type=0, intensity=0.01, distance=474
[16:55:28] [ENEMY] [Enemy2] Heard gunshot at (451.7669, 799.0484), source_type=0, intensity=0.04, distance=254
[16:55:28] [ENEMY] [Enemy4] Heard gunshot at (451.7669, 799.0484), source_type=0, intensity=0.02, distance=363
[16:55:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:55:28] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=71.1°, current=33.8°, player=(451,793), corner_timer=0.00
[16:55:28] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=78.0°, current=-101.3°, player=(451,793), corner_timer=0.00
[16:55:28] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-162.9°, current=168.8°, player=(451,793), corner_timer=0.00
[16:55:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.76694, 799.0484), shooter_id=379483851333, bullet_pos=(518.4193, 797.6679)
[16:55:28] [INFO] [Bullet] Using shooter_position, distance=66,66667
[16:55:28] [INFO] [Bullet] Distance to wall: 66,66667 (4,5394564% of viewport)
[16:55:28] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[16:55:28] [INFO] [Bullet] Starting wall penetration at (518.4193, 797.6679)
[16:55:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:55:28] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:55:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:55:28] [INFO] [Bullet] Exiting penetration at (565.0759, 796.7016) after traveling 41,66667 pixels through wall
[16:55:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:55:28] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(454,783), corner_timer=0.30
[16:55:28] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(454,783), corner_timer=0.30
[16:55:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.0291, 770.8723), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:55:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:55:28] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/3 -> 2/3
[16:55:28] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:28] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[16:55:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:28] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[16:55:28] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-179.7°, current=180.0°, player=(478,752), corner_timer=0.00
[16:55:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.1197, 756.1138), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:55:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:55:28] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/3 -> 1/3
[16:55:28] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:28] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[16:55:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:28] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[16:55:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(505.2514, 755.8818), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:55:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:55:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.4°, player=(505,749), corner_timer=-0.00
[16:55:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:55:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(505,749), corner_timer=-0.00
[16:55:28] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[16:55:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(508,750), corner_timer=0.30
[16:55:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(508,750), corner_timer=0.30
[16:55:28] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[16:55:28] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/3 -> 0/3
[16:55:28] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:28] [INFO] [ImpactEffects] spawn_blood_effect called at (684.3539, 755.8895), dir=(1, 0), lethal=true
[16:55:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:28] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:55:28] [INFO] [ImpactEffects] Blood effect spawned at (684.3539, 755.8895) (scale=1.5)
[16:55:28] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:55:28] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:55:28] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[16:55:28] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:55:28] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[16:55:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.4033, 769.1528), source=PLAYER (AssaultRifle), range=1469, listeners=9
[16:55:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (732.7417, 754.5793) (added to group)
[16:55:29] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[16:55:29] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[16:55:29] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (751.7667, 800.9582) (added to group)
[16:55:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(528.4033, 769.1528), shooter_id=379483851333, bullet_pos=(919.69183, 751.948)
[16:55:29] [INFO] [Bullet] Using shooter_position, distance=391,66656
[16:55:29] [INFO] [Bullet] Distance to wall: 391,66656 (26,669296% of viewport)
[16:55:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (750.8747, 759.5438) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (756.0353, 766.5401) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (786.6715, 736.1075) (added to group)
[16:55:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(562,818), corner_timer=-0.01
[16:55:29] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (750.9168, 771.0706) (added to group)
[16:55:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.6°, player=(563,822), corner_timer=0.30
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (738.0307, 779.761) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (761.9102, 800.6514) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (776.2498, 757.4612) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (770.3874, 774.8411) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (771.7295, 738.5841) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (740.2426, 807.4394) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (796.679, 813.7119) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (805.428, 821.6807) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (755.0247, 785.8411) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (797.8976, 833.6002) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (885.5848, 783.6681) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (821.6985, 814.8081) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (801.0524, 777.7465) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (761.194, 786.6076) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (853.2654, 769.8591) (added to group)
[16:55:29] [ENEMY] [Enemy3] Ragdoll activated
[16:55:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (814.3972, 826.6741) (added to group)
[16:55:29] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-173.2°, current=-123.5°, player=(563,892), corner_timer=0.00
[16:55:29] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[16:55:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.735, 911.988), source=PLAYER (AssaultRifle), range=1469, listeners=9
[16:55:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (835.4103, 825.8658) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (788.2852, 811.941) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (806.2144, 798.9939) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (796.3752, 791.4909) (added to group)
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (866.2615, 799.7843) (added to group)
[16:55:29] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[16:55:29] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:29] [INFO] [ImpactEffects] spawn_blood_effect called at (741.7952, 914.0654), dir=(1, 0), lethal=false
[16:55:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:29] [INFO] [ImpactEffects] Blood effect spawned at (741.7952, 914.0654) (scale=1)
[16:55:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.3°, player=(563,923), corner_timer=-0.01
[16:55:29] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (857.0633, 830.1508) (added to group)
[16:55:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.5°, player=(563,927), corner_timer=0.30
[16:55:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.735, 945.4103), source=PLAYER (AssaultRifle), range=1469, listeners=9
[16:55:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[16:55:29] [INFO] [BloodDecal] Blood puddle created at (867.1534, 801.2646) (added to group)
[16:55:29] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/2 -> 0/2
[16:55:29] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:29] [INFO] [ImpactEffects] spawn_blood_effect called at (741.7952, 914.0654), dir=(1, 0), lethal=true
[16:55:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:29] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:55:29] [INFO] [ImpactEffects] Blood effect spawned at (741.7952, 914.0654) (scale=1.5)
[16:55:29] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[16:55:29] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[16:55:29] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[16:55:29] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:55:29] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[16:55:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.735, 968.4859), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:55:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[16:55:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.73505, 968.4859), shooter_id=379483851333, bullet_pos=(740.0903, 893.4193)
[16:55:29] [INFO] [Bullet] Using shooter_position, distance=191,6668
[16:55:29] [INFO] [Bullet] Distance to wall: 191,6668 (13,050945% of viewport)
[16:55:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.735, 978.6548), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:55:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[16:55:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(563,972), corner_timer=-0.01
[16:55:30] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[16:55:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.73505, 978.6548), shooter_id=379483851333, bullet_pos=(731.21674, 885.45593)
[16:55:30] [INFO] [Bullet] Using shooter_position, distance=191,66675
[16:55:30] [INFO] [Bullet] Distance to wall: 191,66675 (13,050942% of viewport)
[16:55:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(563,972), corner_timer=0.30
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (800.6746, 947.2365) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (785.7458, 946.9026) (added to group)
[16:55:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.735, 975.1703), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:55:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (822.3084, 955.6031) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (805.5533, 937.8398) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (813.0551, 909.0347) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (792.1386, 957.8328) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (849.7149, 952.2089) (added to group)
[16:55:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.73505, 978.6548), shooter_id=379483851333, bullet_pos=(917.41644, 967.15094)
[16:55:30] [INFO] [Bullet] Using shooter_position, distance=353,86844
[16:55:30] [INFO] [Bullet] Distance to wall: 353,86844 (24,095552% of viewport)
[16:55:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:30] [INFO] [Bullet] Starting wall penetration at (917.41644, 967.15094)
[16:55:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,039767
[16:55:30] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:30] [INFO] [Bullet] Exiting penetration at (947.941, 980.5436) after traveling 28,333334 pixels through wall
[16:55:30] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (853.1789, 933.9977) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (843.7314, 908.9009) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (835.5784, 911.7047) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (808.9339, 934.6596) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (878.1039, 976.8635) (added to group)
[16:55:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.73505, 975.1703), shooter_id=379483851333, bullet_pos=(920.5818, 813.729)
[16:55:30] [INFO] [Bullet] Using shooter_position, distance=391,66678
[16:55:30] [INFO] [Bullet] Distance to wall: 391,66678 (26,669312% of viewport)
[16:55:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:30] [INFO] [Bullet] Starting wall penetration at (920.5818, 813.729)
[16:55:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,410654
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (821.4908, 937.8834) (added to group)
[16:55:30] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:30] [INFO] [Bullet] Exiting penetration at (955.5072, 797.92834) after traveling 33,333336 pixels through wall
[16:55:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (808.3291, 961.7509) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (818.6165, 959.8228) (added to group)
[16:55:30] [ENEMY] [Enemy4] Ragdoll activated
[16:55:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (830.4399, 924.5025) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (897.3959, 926.0375) (added to group)
[16:55:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.73505, 968.4859), shooter_id=379483851333, bullet_pos=(799.33997, 40.474915)
[16:55:30] [INFO] [Bullet] Using shooter_position, distance=957,45184
[16:55:30] [INFO] [Bullet] Distance to wall: 957,45184 (65,194664% of viewport)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (903.5204, 967.5558) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (843.9569, 928.5635) (added to group)
[16:55:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(563,903), corner_timer=-0.01
[16:55:30] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[16:55:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.3°, player=(563,899), corner_timer=0.30
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (897.6094, 999.037) (added to group)
[16:55:30] [INFO] [BloodDecal] Blood puddle created at (895.2172, 985.9157) (added to group)
[16:55:30] [ENEMY] [Enemy3] Death animation completed
[16:55:30] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.1°, current=56.8°, player=(584,824), corner_timer=0.00
[16:55:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.3864, 827.2333), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:55:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[16:55:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(596,811), corner_timer=-0.01
[16:55:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(587.3864, 827.23334), shooter_id=379483851333, bullet_pos=(480.94287, 710.0188)
[16:55:30] [INFO] [Bullet] Using shooter_position, distance=158,33344
[16:55:30] [INFO] [Bullet] Distance to wall: 158,33344 (10,781215% of viewport)
[16:55:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:30] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[16:55:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(599,808), corner_timer=0.30
[16:55:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(612.2766, 802.3432), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:55:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[16:55:30] [ENEMY] [Enemy1] PURSUING corner check: angle -134.3°
[16:55:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(612.27655, 802.3432), shooter_id=379483851333, bullet_pos=(492.48053, 698.81354)
[16:55:31] [INFO] [Bullet] Using shooter_position, distance=158,33344
[16:55:31] [INFO] [Bullet] Distance to wall: 158,33344 (10,781215% of viewport)
[16:55:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.1667, 777.4531), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:55:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[16:55:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-126.7°, player=(652,755), corner_timer=-0.01
[16:55:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[16:55:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-129.0°, player=(655,752), corner_timer=0.30
[16:55:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(662.3018, 753.1542), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:55:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[16:55:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:31] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/3 -> 2/3
[16:55:31] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:31] [INFO] [ImpactEffects] spawn_blood_effect called at (461.6703, 608.4952), dir=(1, 0), lethal=false
[16:55:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:31] [INFO] [ImpactEffects] Blood effect spawned at (461.6703, 608.4952) (scale=1)
[16:55:31] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=29.8°, current=180.0°, player=(680,733), corner_timer=0.00
[16:55:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(637.1667, 777.45306), shooter_id=379483851333, bullet_pos=(217.32407, 462.24332)
[16:55:31] [INFO] [Bullet] Using shooter_position, distance=525
[16:55:31] [INFO] [Bullet] Distance to wall: 525 (35,748215% of viewport)
[16:55:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.7947, 735.7005), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:55:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[16:55:31] [ENEMY] [Enemy1] PURSUING corner check: angle -67.5°
[16:55:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(612.27655, 802.3432), shooter_id=379483851333, bullet_pos=(992.26276, 272.86908)
[16:55:31] [INFO] [Bullet] Using shooter_position, distance=651,71497
[16:55:31] [INFO] [Bullet] Distance to wall: 651,71497 (44,376472% of viewport)
[16:55:31] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[16:55:31] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-110.6°, current=162.2°, player=(692,721), corner_timer=0.00
[16:55:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(637.1667, 777.45306), shooter_id=379483851333, bullet_pos=(57.788193, 630.22473)
[16:55:31] [INFO] [Bullet] Using shooter_position, distance=597,7923
[16:55:31] [INFO] [Bullet] Distance to wall: 597,7923 (40,704777% of viewport)
[16:55:31] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/3 -> 1/3
[16:55:31] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:31] [INFO] [ImpactEffects] spawn_blood_effect called at (459.487, 602.4795), dir=(1, 0), lethal=false
[16:55:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:31] [INFO] [ImpactEffects] Blood effect spawned at (459.487, 602.4795) (scale=1)
[16:55:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(695.949, 724.4606), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:55:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[16:55:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(637.1667, 777.45306), shooter_id=379483851333, bullet_pos=(113.01819, 684.2359)
[16:55:31] [INFO] [Bullet] Using shooter_position, distance=532,3731
[16:55:31] [INFO] [Bullet] Distance to wall: 532,3731 (36,250267% of viewport)
[16:55:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:31] [INFO] [Bullet] Starting wall penetration at (113.01819, 684.2359)
[16:55:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:55:31] [INFO] [Bullet] Exiting penetration at (133.81136, 704.5702) after traveling 24,083334 pixels through wall
[16:55:31] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[16:55:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=178.1°, player=(697,716), corner_timer=-0.01
[16:55:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:55:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=179.0°, player=(697,716), corner_timer=0.30
[16:55:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(612.27655, 802.3432), shooter_id=379483851333, bullet_pos=(787.3345, 62.060154)
[16:55:31] [INFO] [Bullet] Using shooter_position, distance=760,6998
[16:55:31] [INFO] [Bullet] Distance to wall: 760,6998 (51,79745% of viewport)
[16:55:31] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/3 -> 0/3
[16:55:31] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:31] [INFO] [ImpactEffects] spawn_blood_effect called at (454.8289, 586.0699), dir=(1, 0), lethal=true
[16:55:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:31] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:55:31] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 586.0699) (dist=45 px)
[16:55:31] [INFO] [BloodDecal] Blood puddle created at (499, 586.0699) (added to group)
[16:55:31] [INFO] [ImpactEffects] Blood effect spawned at (454.8289, 586.0699) (scale=1.5)
[16:55:31] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[16:55:31] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[16:55:31] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[16:55:31] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:55:31] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[16:55:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(697.4257, 722.8142), source=PLAYER (AssaultRifle), range=1469, listeners=7
[16:55:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[16:55:31] [INFO] [BloodDecal] Blood puddle created at (525.6808, 640.0111) (added to group)
[16:55:31] [ENEMY] [Enemy4] Death animation completed
[16:55:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.2789, 730.8532), source=PLAYER (AssaultRifle), range=1469, listeners=7
[16:55:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[16:55:31] [INFO] [BloodDecal] Blood puddle created at (546.0081, 659.4726) (added to group)
[16:55:31] [ENEMY] [Enemy1] PURSUING corner check: angle -65.0°
[16:55:31] [INFO] [BloodDecal] Blood puddle created at (545.6978, 675.4517) (added to group)
[16:55:31] [INFO] [BloodDecal] Blood puddle created at (558.9318, 674.2698) (added to group)
[16:55:31] [INFO] [BloodDecal] Blood puddle created at (586.339, 675.704) (added to group)
[16:55:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(697.42566, 722.8142), shooter_id=379483851333, bullet_pos=(272.27444, 475.86786)
[16:55:31] [INFO] [Bullet] Using shooter_position, distance=491,66663
[16:55:31] [INFO] [Bullet] Distance to wall: 491,66663 (33,478485% of viewport)
[16:55:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:31] [INFO] [BloodDecal] Blood puddle created at (504.3675, 608.4402) (added to group)
[16:55:31] [INFO] [BloodDecal] Blood puddle created at (605.1893, 621.8903) (added to group)
[16:55:31] [INFO] [BloodDecal] Blood puddle created at (536.8926, 610.6394) (added to group)
[16:55:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(612.27655, 802.3432), shooter_id=379483851333, bullet_pos=(515.1578, 374.56836)
[16:55:31] [INFO] [Bullet] Using shooter_position, distance=438,6609
[16:55:31] [INFO] [Bullet] Distance to wall: 438,6609 (29,869228% of viewport)
[16:55:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:31] [INFO] [BloodDecal] Blood puddle created at (530.9798, 611.3881) (added to group)
[16:55:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=126.1°, player=(655,745), corner_timer=-0.01
[16:55:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (535.616, 640.0809) (added to group)
[16:55:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(689.27893, 730.8532), shooter_id=379483851333, bullet_pos=(273.65945, 468.18106)
[16:55:32] [INFO] [Bullet] Using shooter_position, distance=491,66675
[16:55:32] [INFO] [Bullet] Distance to wall: 491,66675 (33,478493% of viewport)
[16:55:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=128.4°, player=(651,745), corner_timer=0.30
[16:55:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(697.42566, 722.8142), shooter_id=379483851333, bullet_pos=(63.33722, 630.6104)
[16:55:32] [INFO] [Bullet] Using shooter_position, distance=640,75714
[16:55:32] [INFO] [Bullet] Distance to wall: 640,75714 (43,630333% of viewport)
[16:55:32] [INFO] [Bullet] Distance-based penetration chance: 95,76461%
[16:55:32] [INFO] [Bullet] Starting wall penetration at (63.33722, 630.6104)
[16:55:32] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:55:32] [INFO] [Bullet] Exiting penetration at (36.550392, 650.4492) after traveling 28,33333 pixels through wall
[16:55:32] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (506.6448, 631.0579) (added to group)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (609.5798, 619.04) (added to group)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (547.2588, 615.9165) (added to group)
[16:55:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (590.7346, 687.1298) (added to group)
[16:55:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(689.27893, 730.8532), shooter_id=379483851333, bullet_pos=(59.463654, 661.1998)
[16:55:32] [INFO] [Bullet] Using shooter_position, distance=633,6552
[16:55:32] [INFO] [Bullet] Distance to wall: 633,6552 (43,14675% of viewport)
[16:55:32] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (615.7634, 677.0802) (added to group)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (634.4672, 759.4259) (added to group)
[16:55:32] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-65.0°, current=63.1°, player=(610,740), corner_timer=0.25
[16:55:32] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (571.817, 733.1377) (added to group)
[16:55:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(689.27893, 730.8532), shooter_id=379483851333, bullet_pos=(102.49782, 692.4209)
[16:55:32] [INFO] [Bullet] Using shooter_position, distance=588,0384
[16:55:32] [INFO] [Bullet] Distance to wall: 588,0384 (40,040615% of viewport)
[16:55:32] [INFO] [Bullet] Distance-based penetration chance: 99,952614%
[16:55:32] [INFO] [Bullet] Starting wall penetration at (102.49782, 692.4209)
[16:55:32] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[16:55:32] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:55:32] [INFO] [Bullet] Exiting penetration at (126.03845, 709.4995) after traveling 24,083334 pixels through wall
[16:55:32] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[16:55:32] [ENEMY] [Enemy2] Ragdoll activated
[16:55:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (566.3636, 681.0664) (added to group)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (545.4476, 642.8387) (added to group)
[16:55:32] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (609.371, 706.6471) (added to group)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (542.3397, 651.3499) (added to group)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (574.0896, 659.8672) (added to group)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (640.0766, 745.8831) (added to group)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (684.265, 804.5267) (added to group)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (615.0433, 662.8757) (added to group)
[16:55:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.6°, player=(571,709), corner_timer=-0.01
[16:55:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (558.5778, 668.1522) (added to group)
[16:55:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(568,705), corner_timer=0.30
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (641.198, 663.9337) (added to group)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (568.0778, 730.8597) (added to group)
[16:55:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (698.9321, 709.921) (added to group)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (645.66, 792.8956) (added to group)
[16:55:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(612.27655, 802.3432), shooter_id=379483851333, bullet_pos=(911.78107, 820.24774)
[16:55:32] [INFO] [Bullet] Using shooter_position, distance=300,0392
[16:55:32] [INFO] [Bullet] Distance to wall: 300,0392 (20,430222% of viewport)
[16:55:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:32] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[16:55:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(612.27655, 802.3432), shooter_id=379483851333, bullet_pos=(795.89777, 997.84753)
[16:55:32] [INFO] [Bullet] Using shooter_position, distance=268,2139
[16:55:32] [INFO] [Bullet] Distance to wall: 268,2139 (18,263178% of viewport)
[16:55:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:32] [INFO] [Bullet] Starting wall penetration at (795.89777, 997.84753)
[16:55:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(496.1274, 652.4058), source=PLAYER (AssaultRifle), range=1469, listeners=7
[16:55:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=4
[16:55:32] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:55:32] [INFO] [Bullet] Exiting penetration at (785.08325, 1014.4216) after traveling 14,790179 pixels through wall
[16:55:32] [INFO] [Bullet] Damage multiplier after penetration: 0,028125
[16:55:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.5°, player=(492,645), corner_timer=-0.01
[16:55:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.8°, player=(488,644), corner_timer=0.30
[16:55:32] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/2 -> 1/2
[16:55:32] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:32] [INFO] [ImpactEffects] spawn_blood_effect called at (464.017, 398.4978), dir=(1, 0), lethal=false
[16:55:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:32] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 398.4978) (dist=35 px)
[16:55:32] [INFO] [BloodDecal] Blood puddle created at (499, 398.4978) (added to group)
[16:55:32] [INFO] [ImpactEffects] Blood effect spawned at (464.017, 398.4978) (scale=1)
[16:55:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.5368, 648.5202), source=PLAYER (AssaultRifle), range=1469, listeners=7
[16:55:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[16:55:32] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=93.7°, current=139.5°, player=(444,642), corner_timer=0.25
[16:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(427.3369, 648.5202), source=PLAYER (AssaultRifle), range=1469, listeners=7
[16:55:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[16:55:33] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/2 -> 0/2
[16:55:33] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:33] [INFO] [ImpactEffects] spawn_blood_effect called at (423.8152, 368.6206), dir=(1, 0), lethal=true
[16:55:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:33] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:55:33] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 368.6206) (dist=76 px)
[16:55:33] [INFO] [BloodDecal] Blood puddle created at (499, 368.6206) (added to group)
[16:55:33] [INFO] [ImpactEffects] Blood effect spawned at (423.8152, 368.6206) (scale=1.5)
[16:55:33] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[16:55:33] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[16:55:33] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[16:55:33] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:55:33] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[16:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.1369, 648.5202), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:55:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[16:55:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(387,642), corner_timer=-0.01
[16:55:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:55:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(383,642), corner_timer=0.30
[16:55:33] [INFO] [BloodDecal] Blood puddle created at (499.8976, 426.5792) (added to group)
[16:55:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.937, 648.5202), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:55:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[16:55:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.13693, 648.5202), shooter_id=379483851333, bullet_pos=(504.055, 204.06131)
[16:55:33] [INFO] [Bullet] Using shooter_position, distance=458,33325
[16:55:33] [INFO] [Bullet] Distance to wall: 458,33325 (31,208754% of viewport)
[16:55:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:33] [ENEMY] [Enemy2] Death animation completed
[16:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(321.737, 648.5202), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:55:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[16:55:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.13693, 648.5202), shooter_id=379483851333, bullet_pos=(478.3477, 59.66517)
[16:55:33] [INFO] [Bullet] Using shooter_position, distance=595,1324
[16:55:33] [INFO] [Bullet] Distance to wall: 595,1324 (40,52366% of viewport)
[16:55:33] [INFO] [Bullet] Distance-based penetration chance: 99,38906%
[16:55:33] [INFO] [Bullet] Starting wall penetration at (478.3477, 59.66517)
[16:55:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5,2331467
[16:55:33] [INFO] [BloodDecal] Blood puddle created at (487.495, 363.891) (added to group)
[16:55:33] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:33] [INFO] [Bullet] Exiting penetration at (472.50513, 26.847864) after traveling 28,333334 pixels through wall
[16:55:33] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[16:55:33] [INFO] [BloodDecal] Blood puddle created at (478.7417, 380.5544) (added to group)
[16:55:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.93698, 648.5202), shooter_id=379483851333, bullet_pos=(503.69815, 249.66406)
[16:55:33] [INFO] [Bullet] Using shooter_position, distance=425,00006
[16:55:33] [INFO] [Bullet] Distance to wall: 425,00006 (28,939035% of viewport)
[16:55:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(282,642), corner_timer=-0.01
[16:55:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:55:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(277,642), corner_timer=0.30
[16:55:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.93698, 648.5202), shooter_id=379483851333, bullet_pos=(460.28958, 51.01831)
[16:55:33] [INFO] [Bullet] Using shooter_position, distance=606,3747
[16:55:33] [INFO] [Bullet] Distance to wall: 606,3747 (41,28917% of viewport)
[16:55:33] [INFO] [BloodDecal] Blood puddle created at (499.7404, 412.7908) (added to group)
[16:55:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(321.73703, 648.5202), shooter_id=379483851333, bullet_pos=(508.50842, 229.96796)
[16:55:33] [INFO] [Bullet] Using shooter_position, distance=458,33344
[16:55:33] [INFO] [Bullet] Distance to wall: 458,33344 (31,208769% of viewport)
[16:55:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:33] [ENEMY] [Enemy1] Ragdoll activated
[16:55:33] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:55:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(321.73703, 648.5202), shooter_id=379483851333, bullet_pos=(410.71106, 51.69815)
[16:55:33] [INFO] [Bullet] Using shooter_position, distance=603,41766
[16:55:33] [INFO] [Bullet] Distance to wall: 603,41766 (41,08782% of viewport)
[16:55:33] [INFO] [Bullet] Distance-based penetration chance: 98,73088%
[16:55:33] [INFO] [Bullet] Starting wall penetration at (410.71106, 51.69815)
[16:55:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,865767
[16:55:33] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:33] [INFO] [Bullet] Exiting penetration at (394.6787, 22.473595) after traveling 28,33333 pixels through wall
[16:55:33] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[16:55:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(190,609), corner_timer=-0.01
[16:55:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:55:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(187,606), corner_timer=0.30
[16:55:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:34] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[16:55:34] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[16:55:34] [ENEMY] [Enemy1] Player reloading: false -> true
[16:55:34] [ENEMY] [Enemy5] Player reloading: false -> true
[16:55:34] [ENEMY] [Enemy6] Player reloading: false -> true
[16:55:34] [ENEMY] [Enemy7] Player reloading: false -> true
[16:55:34] [ENEMY] [Enemy8] Player reloading: false -> true
[16:55:34] [ENEMY] [Enemy9] Player reloading: false -> true
[16:55:34] [ENEMY] [Enemy10] Player reloading: false -> true
[16:55:34] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(153.4279, 554.3666), source=PLAYER (Player), range=900, listeners=6
[16:55:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[16:55:34] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1560), can_see=false
[16:55:34] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1800), can_see=false
[16:55:34] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1498), can_see=false
[16:55:34] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1963), can_see=false
[16:55:34] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2186), can_see=false
[16:55:34] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1452), can_see=false
[16:55:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(151,519), corner_timer=-0.01
[16:55:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:55:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(151,515), corner_timer=0.30
[16:55:34] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[16:55:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:34] [INFO] [Player.Reload.Anim] LeftArm: pos=(11.654863, 5.825434), target=(12, 6), base=(24, 6)
[16:55:34] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.999928, 7.9120393), target=(-2, 8), base=(-2, 6)
[16:55:34] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[16:55:34] [ENEMY] [Enemy1] Player reloading: true -> false
[16:55:34] [ENEMY] [Enemy5] Player reloading: true -> false
[16:55:34] [ENEMY] [Enemy6] Player reloading: true -> false
[16:55:34] [ENEMY] [Enemy7] Player reloading: true -> false
[16:55:34] [ENEMY] [Enemy8] Player reloading: true -> false
[16:55:34] [ENEMY] [Enemy9] Player reloading: true -> false
[16:55:34] [ENEMY] [Enemy10] Player reloading: true -> false
[16:55:34] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[16:55:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(151,414), corner_timer=-0.01
[16:55:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[16:55:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(151,409), corner_timer=0.30
[16:55:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:34] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[16:55:34] [ENEMY] [Enemy1] Death animation completed
[16:55:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(151,308), corner_timer=-0.01
[16:55:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[16:55:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(151,304), corner_timer=0.30
[16:55:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(184,216), corner_timer=-0.01
[16:55:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[16:55:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(187,213), corner_timer=0.30
[16:55:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(262,150), corner_timer=-0.01
[16:55:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[16:55:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(266,149), corner_timer=0.30
[16:55:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(370,147), corner_timer=-0.02
[16:55:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:55:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(375,147), corner_timer=0.30
[16:55:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(478,142), corner_timer=-0.02
[16:55:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:55:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(483,141), corner_timer=0.30
[16:55:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:36] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[16:55:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(586,141), corner_timer=-0.02
[16:55:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(591,142), corner_timer=0.30
[16:55:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(669,206), corner_timer=-0.02
[16:55:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(673,210), corner_timer=0.30
[16:55:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(747,283), corner_timer=-0.02
[16:55:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(751,287), corner_timer=0.30
[16:55:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(824,361), corner_timer=-0.02
[16:55:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(828,365), corner_timer=0.30
[16:55:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(912,415), corner_timer=-0.02
[16:55:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(918,415), corner_timer=0.30
[16:55:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1022,415), corner_timer=-0.02
[16:55:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1028,415), corner_timer=0.30
[16:55:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1132,415), corner_timer=-0.02
[16:55:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1138,415), corner_timer=0.30
[16:55:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1236,401), corner_timer=-0.02
[16:55:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1241,398), corner_timer=0.30
[16:55:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1315,325), corner_timer=-0.02
[16:55:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1319,321), corner_timer=0.30
[16:55:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,259), corner_timer=-0.02
[16:55:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,258), corner_timer=0.30
[16:55:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,252), corner_timer=-0.02
[16:55:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,251), corner_timer=0.30
[16:55:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1348,166), corner_timer=-0.02
[16:55:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1348,161), corner_timer=0.30
[16:55:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:40] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-150.2°, current=-168.8°, player=(1370,117), corner_timer=0.00
[16:55:40] [ENEMY] [Enemy6] State: IDLE -> COMBAT
[16:55:40] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-149.4°, current=47.2°, player=(1377,111), corner_timer=0.00
[16:55:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1381.494, 115.2812), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:55:40] [ENEMY] [Enemy5] Heard gunshot at (1381.494, 115.2812), source_type=0, intensity=0.02, distance=396
[16:55:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[16:55:40] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-142.9°, current=56.2°, player=(1381,109), corner_timer=0.00
[16:55:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1406,100), corner_timer=-0.02
[16:55:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1411.007, 105.7342), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:55:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[16:55:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1381.4944, 115.28115), shooter_id=379483851333, bullet_pos=(1652.8567, 278.49933)
[16:55:41] [INFO] [Bullet] Using shooter_position, distance=316,6665
[16:55:41] [INFO] [Bullet] Distance to wall: 316,6665 (21,562405% of viewport)
[16:55:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1411,99), corner_timer=0.30
[16:55:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:41] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-142.8°, current=-114.9°, player=(1431,102), corner_timer=0.00
[16:55:41] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-142.2°, current=-118.1°, player=(1435,104), corner_timer=0.00
[16:55:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1439.869, 112.3003), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:55:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[16:55:41] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 3/3 -> 2/3
[16:55:41] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:41] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.067, 292.4674), dir=(1, 0), lethal=false
[16:55:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:41] [INFO] [ImpactEffects] Blood effect spawned at (1684.067, 292.4674) (scale=1)
[16:55:41] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-142.7°, current=180.0°, player=(1439,106), corner_timer=0.00
[16:55:41] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[16:55:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1460.501, 128.6334), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:55:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=2
[16:55:41] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 2/3 -> 1/3
[16:55:41] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:41] [INFO] [ImpactEffects] spawn_blood_effect called at (1690.011, 289.456), dir=(1, 0), lethal=false
[16:55:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:41] [INFO] [ImpactEffects] Blood effect spawned at (1690.011, 289.456) (scale=1)
[16:55:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1381.4944, 115.28115), shooter_id=379483851333, bullet_pos=(2151.8364, 63.486736)
[16:55:41] [INFO] [Bullet] Using shooter_position, distance=772,0813
[16:55:41] [INFO] [Bullet] Distance to wall: 772,0813 (52,572433% of viewport)
[16:55:41] [INFO] [Bullet] Distance-based penetration chance: 85,33216%
[16:55:41] [INFO] [Bullet] Penetration failed (distance roll)
[16:55:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1472,144), corner_timer=-0.01
[16:55:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:55:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1473.062, 154.509), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:55:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=2
[16:55:41] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 1/3 -> 0/3
[16:55:41] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:41] [INFO] [ImpactEffects] spawn_blood_effect called at (1703.866, 295.0284), dir=(1, 0), lethal=true
[16:55:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:41] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:55:41] [INFO] [ImpactEffects] Blood effect spawned at (1703.866, 295.0284) (scale=1.5)
[16:55:41] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[16:55:41] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:55:41] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 5)
[16:55:41] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:55:41] [ENEMY] [Enemy5] Death animation started with hit direction: (1, 0)
[16:55:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(1473,148), corner_timer=0.30
[16:55:41] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[16:55:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1735.359, 317.7656) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1736.535, 335.5967) (added to group)
[16:55:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1475.345, 188.0141), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:55:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[16:55:41] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 2/2 -> 1/2
[16:55:41] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:41] [INFO] [ImpactEffects] spawn_blood_effect called at (1813.067, 361.2749), dir=(1, 0), lethal=false
[16:55:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:41] [INFO] [ImpactEffects] Blood effect spawned at (1813.067, 361.2749) (scale=1)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1739.024, 321.914) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1762.789, 295.0684) (added to group)
[16:55:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1475.345, 223.214), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:55:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1778.058, 329.5832) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1758.126, 354.3654) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1819.781, 269.0795) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1777.883, 283.4097) (added to group)
[16:55:41] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 1/2 -> 0/2
[16:55:41] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:41] [INFO] [ImpactEffects] spawn_blood_effect called at (1813.067, 361.2749), dir=(1, 0), lethal=true
[16:55:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:41] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:55:41] [INFO] [ImpactEffects] Blood effect spawned at (1813.067, 361.2749) (scale=1.5)
[16:55:41] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[16:55:41] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[16:55:41] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 4)
[16:55:41] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:55:41] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1814.697, 396.2748) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1773.177, 288.9691) (added to group)
[16:55:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1475.3448, 223.21402), shooter_id=379483851333, bullet_pos=(1658.4092, 279.99075)
[16:55:41] [INFO] [Bullet] Using shooter_position, distance=191,66676
[16:55:41] [INFO] [Bullet] Distance to wall: 191,66676 (13,050942% of viewport)
[16:55:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1784.77, 312.4703) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1788.665, 354.2163) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1793.686, 352.542) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1795.269, 337.3324) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1747.968, 297.7538) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1761.778, 306.3949) (added to group)
[16:55:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(1475,243), corner_timer=-0.01
[16:55:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:55:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(1475,246), corner_timer=0.30
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1801.986, 322.2758) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1765.255, 369.8898) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1823.83, 360.1308) (added to group)
[16:55:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1769.084, 340.2708) (added to group)
[16:55:41] [INFO] [BloodyFeet:Enemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1862.409, 381.1473) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1872.145, 373.3078) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1769.458, 351.5062) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1786.75, 311.3783) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1786.566, 310.4347) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1829.047, 345.7166) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1916.303, 390.6696) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1780.403, 391.9011) (added to group)
[16:55:41] [INFO] [BloodDecal] Blood puddle created at (1817.047, 363.978) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1771.532, 321.6401) (added to group)
[16:55:42] [ENEMY] [Enemy5] Ragdoll activated
[16:55:42] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1881.846, 365.9146) (added to group)
[16:55:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1475.3448, 223.21402), shooter_id=379483851333, bullet_pos=(2126.4382, 65.11061)
[16:55:42] [INFO] [Bullet] Using shooter_position, distance=670,0144
[16:55:42] [INFO] [Bullet] Distance to wall: 670,0144 (45,622517% of viewport)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1854.838, 373.0406) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1884.543, 383.9132) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1876.229, 431.3247) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1866.23, 400.9483) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1931.775, 425.9608) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1867.415, 362.9075) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1884.318, 391.4064) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1874.484, 392.1586) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1854.423, 389.0428) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1877.062, 393.7727) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1874.383, 385.3076) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1914.546, 347.4662) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1867.797, 369.8763) (added to group)
[16:55:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(1488,269), corner_timer=-0.01
[16:55:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1953.916, 393.6436) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1974.881, 383.1941) (added to group)
[16:55:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(1490,268), corner_timer=0.30
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1880.351, 346.2102) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1938.242, 455.7952) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1897.441, 341.2363) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1935.149, 346.1213) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1920.585, 374.3353) (added to group)
[16:55:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1824.325, 443.5604) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1916.048, 442.735) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1940.62, 377.8791) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1962.988, 481.8726) (added to group)
[16:55:42] [ENEMY] [Enemy6] Ragdoll activated
[16:55:42] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1922.565, 386.0342) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1910.006, 364.4301) (added to group)
[16:55:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1475.3448, 223.21402), shooter_id=379483851333, bullet_pos=(2476.6904, 286.615)
[16:55:42] [INFO] [Bullet] Using shooter_position, distance=1003,3507
[16:55:42] [INFO] [Bullet] Distance to wall: 1003,3507 (68,31999% of viewport)
[16:55:42] [INFO] [Bullet] Distance-based penetration chance: 66,960014%
[16:55:42] [INFO] [Bullet] Penetration failed (distance roll)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1908.737, 411.9878) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1970.189, 444.7564) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1961.049, 490.3795) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1989.182, 473.0811) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (2009.268, 405.7936) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1972.284, 428.3475) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1996.166, 405.8445) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (1998.321, 541.1321) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (2011.326, 408.445) (added to group)
[16:55:42] [INFO] [BloodDecal] Blood puddle created at (2027.374, 525.028) (added to group)
[16:55:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(1564,238), corner_timer=-0.01
[16:55:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:55:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(1568,238), corner_timer=0.30
[16:55:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(1661,259), corner_timer=-0.01
[16:55:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:55:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(1664,260), corner_timer=0.30
[16:55:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:43] [ENEMY] [Enemy5] Death animation completed
[16:55:43] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:55:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(1726,313), corner_timer=-0.01
[16:55:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[16:55:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(1727,316), corner_timer=0.30
[16:55:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:43] [ENEMY] [Enemy6] Death animation completed
[16:55:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(1729,416), corner_timer=-0.01
[16:55:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[16:55:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(1729,421), corner_timer=0.30
[16:55:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(1729,522), corner_timer=-0.01
[16:55:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[16:55:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(1729,526), corner_timer=0.30
[16:55:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(1740,583), corner_timer=-0.01
[16:55:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[16:55:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(1742,583), corner_timer=0.30
[16:55:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(1830,590), corner_timer=-0.01
[16:55:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:55:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1835,592), corner_timer=0.30
[16:55:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:45] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[16:55:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(1911,662), corner_timer=-0.02
[16:55:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:55:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1914,666), corner_timer=0.30
[16:55:45] [INFO] [ScoreManager] Combo ended at 2. Max combo: 4
[16:55:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1959.398, 736.6335), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:55:45] [ENEMY] [Enemy7] Heard gunshot at (1959.398, 736.6335), source_type=0, intensity=0.02, distance=384
[16:55:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:55:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-25.8°, current=89.3°, player=(1959,730), corner_timer=0.05
[16:55:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1960.055, 774.0154), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:55:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:55:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1959.3977, 736.63354), shooter_id=379483851333, bullet_pos=(1509.0397, 912.10126)
[16:55:45] [INFO] [Bullet] Using shooter_position, distance=483,3335
[16:55:45] [INFO] [Bullet] Distance to wall: 483,3335 (32,911068% of viewport)
[16:55:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:45] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 4/4 -> 3/4
[16:55:45] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:45] [INFO] [ImpactEffects] spawn_blood_effect called at (1675.724, 877.4996), dir=(1, 0), lethal=false
[16:55:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:45] [INFO] [ImpactEffects] Blood effect spawned at (1675.724, 877.4996) (scale=1)
[16:55:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1949.792, 803.2333), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:55:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:55:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1959.3977, 736.63354), shooter_id=379483851333, bullet_pos=(1374.545, 874.7549)
[16:55:45] [INFO] [Bullet] Using shooter_position, distance=600,94104
[16:55:45] [INFO] [Bullet] Distance to wall: 600,94104 (40,91918% of viewport)
[16:55:45] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[16:55:45] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=89.3°, current=-163.4°, player=(1938,808), corner_timer=0.05
[16:55:45] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 3/4 -> 2/4
[16:55:45] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:45] [INFO] [ImpactEffects] spawn_blood_effect called at (1701.984, 865.9915), dir=(1, 0), lethal=false
[16:55:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:45] [INFO] [ImpactEffects] Blood effect spawned at (1701.984, 865.9915) (scale=1)
[16:55:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1930.623, 819.8221), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:55:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:55:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1959.3977, 736.63354), shooter_id=379483851333, bullet_pos=(1584.4263, 803.17896)
[16:55:45] [INFO] [Bullet] Using shooter_position, distance=380,8305
[16:55:45] [INFO] [Bullet] Distance to wall: 380,8305 (25,93145% of viewport)
[16:55:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:46] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 2/4 -> 1/4
[16:55:46] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1702.559, 851.8074), dir=(1, 0), lethal=false
[16:55:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:46] [INFO] [ImpactEffects] Blood effect spawned at (1702.559, 851.8074) (scale=1)
[16:55:46] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 1/4 -> 0/4
[16:55:46] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1702.06, 849.7332), dir=(1, 0), lethal=true
[16:55:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:46] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:55:46] [INFO] [ImpactEffects] Blood effect spawned at (1702.06, 849.7332) (scale=1.5)
[16:55:46] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[16:55:46] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:55:46] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[16:55:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:55:46] [ENEMY] [Enemy7] Death animation started with hit direction: (1, 0)
[16:55:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1901.967, 826.5932), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:55:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[16:55:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1737.215, 866.0702) (added to group)
[16:55:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1871.718, 836.3105), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:55:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1781.055, 972.6874) (added to group)
[16:55:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1901.9672, 826.5932), shooter_id=379483851333, bullet_pos=(1383.1055, 906.6429)
[16:55:46] [INFO] [Bullet] Using shooter_position, distance=525,00037
[16:55:46] [INFO] [Bullet] Distance to wall: 525,00037 (35,74824% of viewport)
[16:55:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:46] [INFO] [Bullet] Starting wall penetration at (1383.1055, 906.6429)
[16:55:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1847.201, 857.8687), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:55:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[16:55:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,00185
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1798.286, 982.4665) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1741.608, 952.5649) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1801.65, 928.336) (added to group)
[16:55:46] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:46] [INFO] [Bullet] Exiting penetration at (1345.2203, 912.4878) after traveling 33,333336 pixels through wall
[16:55:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1764.014, 925.9226) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1763.795, 907.4108) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1741.115, 881.7614) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1775.064, 836.806) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1826.246, 921.8304) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1744.448, 859.3045) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1747.024, 866.9584) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1743.237, 867.5785) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1792.645, 873.2906) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1760.735, 903.4437) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1801.517, 852.3284) (added to group)
[16:55:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1871.7177, 836.31055), shooter_id=379483851333, bullet_pos=(1388.2014, 925.4678)
[16:55:46] [INFO] [Bullet] Using shooter_position, distance=491,66754
[16:55:46] [INFO] [Bullet] Distance to wall: 491,66754 (33,47855% of viewport)
[16:55:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1802.468, 865.4732) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1794.018, 836.7122) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1775.762, 894.0219) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1771.906, 875.7953) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1763.1, 848.7717) (added to group)
[16:55:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1805.583, 918.79) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1790.982, 875.0531) (added to group)
[16:55:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1871.7177, 836.31055), shooter_id=379483851333, bullet_pos=(1532.7173, 950.4917)
[16:55:46] [INFO] [Bullet] Using shooter_position, distance=357,71298
[16:55:46] [INFO] [Bullet] Distance to wall: 357,71298 (24,357336% of viewport)
[16:55:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:46] [INFO] [Bullet] Starting wall penetration at (1532.7173, 950.4917)
[16:55:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:55:46] [INFO] [Bullet] Exiting penetration at (1565.5618, 956.17896) after traveling 28,33333 pixels through wall
[16:55:46] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1848.947, 1045.581) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1844.017, 887.6406) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1829.405, 913.3674) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1774.601, 859.3646) (added to group)
[16:55:46] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1816.725, 978.7224) (added to group)
[16:55:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1847.2008, 857.86865), shooter_id=379483851333, bullet_pos=(1389.4913, 833.97314)
[16:55:46] [INFO] [Bullet] Using shooter_position, distance=458,33282
[16:55:46] [INFO] [Bullet] Distance to wall: 458,33282 (31,208727% of viewport)
[16:55:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:46] [INFO] [Bullet] Starting wall penetration at (1389.4913, 833.97314)
[16:55:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,807214
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1794.962, 909.7783) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1788.713, 870.9424) (added to group)
[16:55:46] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:46] [INFO] [Bullet] Exiting penetration at (1351.2102, 831.9746) after traveling 33,333336 pixels through wall
[16:55:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1875.938, 968.9072) (added to group)
[16:55:46] [ENEMY] [Enemy7] Ragdoll activated
[16:55:46] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1858.493, 961.5596) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1797.439, 925.7941) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1807.901, 944.3411) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1806.693, 947.4749) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1892.364, 976.8707) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1835.906, 964.2538) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1831.875, 911.9684) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1789.514, 880.1965) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1814.62, 896.6801) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1807.695, 944.8313) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1899.029, 885.1486) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1854.747, 908.5067) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1880.659, 865.5244) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1920.345, 937.6212) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1819.854, 976.8848) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1867.38, 943.5513) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1888.89, 970.6408) (added to group)
[16:55:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1848.302, 968.9789) (added to group)
[16:55:46] [INFO] [BloodDecal] Blood puddle created at (1912.358, 947.924) (added to group)
[16:55:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.4°, current=0.6°, player=(1850,1034), corner_timer=0.15
[16:55:47] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[16:55:47] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.6°, current=-133.7°, player=(1855,1041), corner_timer=0.15
[16:55:47] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[16:55:47] [ENEMY] [Enemy7] Death animation completed
[16:55:49] [INFO] [ScoreManager] Combo ended at 1. Max combo: 4
[16:55:49] [ENEMY] [Enemy10] PURSUING corner check: angle 59.5°
[16:55:50] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-40.3°, current=-39.6°, player=(1776,1136), corner_timer=-0.02
[16:55:50] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[16:55:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1716.227, 1088.589), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:55:50] [ENEMY] [Enemy8] Heard gunshot at (1716.227, 1088.589), source_type=0, intensity=0.02, distance=405
[16:55:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[16:55:50] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-116.6°, current=-147.9°, player=(1716,1082), corner_timer=0.00
[16:55:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1687.476, 1077.158), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:55:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[16:55:50] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[16:55:50] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 4/4 -> 3/4
[16:55:50] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1497.166, 1347.931), dir=(1, 0), lethal=false
[16:55:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:50] [INFO] [ImpactEffects] Blood effect spawned at (1497.166, 1347.931) (scale=1)
[16:55:50] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-56.0°, current=180.0°, player=(1684,1069), corner_timer=-0.02
[16:55:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1675.022, 1069.725), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:55:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[16:55:50] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 3/4 -> 2/4
[16:55:50] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1513.962, 1321.957), dir=(1, 0), lethal=false
[16:55:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:50] [INFO] [ImpactEffects] Blood effect spawned at (1513.962, 1321.957) (scale=1)
[16:55:50] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[16:55:50] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 2/4 -> 1/4
[16:55:50] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1527.315, 1300.115), dir=(1, 0), lethal=false
[16:55:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:50] [INFO] [ImpactEffects] Blood effect spawned at (1527.315, 1300.115) (scale=1)
[16:55:50] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-58.7°, current=180.0°, player=(1674,1058), corner_timer=-0.02
[16:55:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1674.722, 1063.919), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:55:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[16:55:50] [ENEMY] [Enemy9] Memory: high confidence (0.88) - transitioning to PURSUING
[16:55:50] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[16:55:50] [INFO] [BloodDecal] Blood puddle created at (1537.802, 1347.625) (added to group)
[16:55:50] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-130.2°, current=-56.3°, player=(1681,1055), corner_timer=0.00
[16:55:50] [ENEMY] [Enemy9] PURSUING_MEMORY corner check: angle 162.5°
[16:55:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1687.896, 1060.318), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:55:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[16:55:50] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 1/4 -> 0/4
[16:55:50] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1522.431, 1318.683), dir=(1, 0), lethal=true
[16:55:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:50] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:55:50] [INFO] [ImpactEffects] Blood effect spawned at (1522.431, 1318.683) (scale=1.5)
[16:55:50] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[16:55:50] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:55:50] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 2)
[16:55:50] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:55:50] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[16:55:51] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[16:55:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1714.544, 1058.919), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:55:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1578.377, 1312.462) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1609.5, 1342.456) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1610.11, 1318.78) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1579.463, 1357.565) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1584.414, 1295.686) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1573.848, 1300.137) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1619.431, 1345.189) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1619.78, 1368.23) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1583.658, 1403.555) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1608.045, 1390.035) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1666.768, 1373.376) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1618.778, 1413.117) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1657.948, 1328.829) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1611.31, 1311.866) (added to group)
[16:55:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1714.5437, 1058.9193), shooter_id=379483851333, bullet_pos=(1409.0343, 1400.583)
[16:55:51] [INFO] [Bullet] Using shooter_position, distance=458,334
[16:55:51] [INFO] [Bullet] Distance to wall: 458,334 (31,208807% of viewport)
[16:55:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1607.883, 1318.583) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1592.182, 1396.783) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1599.277, 1361.443) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1646.731, 1301.319) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1609.442, 1379.06) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1607.47, 1362.748) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1605.55, 1367.943) (added to group)
[16:55:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1714.5437, 1058.9193), shooter_id=379483851333, bullet_pos=(1490.4873, 1522.5524)
[16:55:51] [INFO] [Bullet] Using shooter_position, distance=514,93384
[16:55:51] [INFO] [Bullet] Distance to wall: 514,93384 (35,062794% of viewport)
[16:55:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1607.585, 1376.472) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1662.13, 1454.989) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1660.904, 1377.752) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1601.413, 1343.326) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1670.172, 1462.214) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1630.054, 1337.951) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1667.859, 1530.769) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1631.212, 1354.229) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1613.859, 1406.35) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1634.207, 1336.827) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1612.571, 1378.93) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1585.808, 1340.121) (added to group)
[16:55:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1687.8955, 1060.3177), shooter_id=379483851333, bullet_pos=(1000.56934, 2074.3252)
[16:55:51] [INFO] [Bullet] Using shooter_position, distance=1225,0013
[16:55:51] [INFO] [Bullet] Distance to wall: 1225,0013 (83,41259% of viewport)
[16:55:51] [INFO] [Bullet] Distance-based penetration chance: 49,35198%
[16:55:51] [INFO] [Bullet] Penetration failed (distance roll)
[16:55:51] [ENEMY] [Enemy10] Ragdoll activated
[16:55:51] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1599.484, 1364.791) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1648.94, 1485.737) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1652.777, 1372.243) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1669.181, 1448.487) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1675.205, 1449.604) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1607.262, 1389.347) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1631.78, 1459.195) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1631.431, 1405.243) (added to group)
[16:55:51] [INFO] [BloodDecal] Blood puddle created at (1626.729, 1462.189) (added to group)
[16:55:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1714.5437, 1058.9193), shooter_id=379483851333, bullet_pos=(1172.3009, 2067.6465)
[16:55:51] [INFO] [Bullet] Using shooter_position, distance=1145,2327
[16:55:51] [INFO] [Bullet] Distance to wall: 1145,2327 (77,981% of viewport)
[16:55:51] [INFO] [Bullet] Distance-based penetration chance: 55,688835%
[16:55:51] [INFO] [Bullet] Starting wall penetration at (1172.3009, 2067.6465)
[16:55:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:55:51] [INFO] [Bullet] Exiting penetration at (1157.6393, 2092.7637) after traveling 24,083336 pixels through wall
[16:55:51] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[16:55:52] [ENEMY] [Enemy10] Death animation completed
[16:55:52] [ENEMY] [Enemy8] PURSUING corner check: angle 142.8°
[16:55:53] [ENEMY] [Enemy9] PURSUING corner check: angle -175.0°
[16:55:53] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-86.9°, current=-116.0°, player=(2093,1171), corner_timer=0.17
[16:55:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2106.432, 1178.125), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:55:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[16:55:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2106.4324, 1178.1252), shooter_id=379483851333, bullet_pos=(2097, 1212.1763)
[16:55:53] [INFO] [Bullet] Using shooter_position, distance=35,333298
[16:55:53] [INFO] [Bullet] Distance to wall: 35,333298 (2,4059093% of viewport)
[16:55:53] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[16:55:53] [INFO] [Bullet] Starting wall penetration at (2097, 1212.1763)
[16:55:53] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[16:55:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,51629
[16:55:53] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:53] [INFO] [Bullet] Exiting penetration at (2086.7668, 1249.1185) after traveling 33,333336 pixels through wall
[16:55:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:55:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2141.632, 1178.125), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:55:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[16:55:53] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 2/2 -> 1/2
[16:55:53] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2071.184, 1387.74), dir=(1, 0), lethal=false
[16:55:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:53] [INFO] [ImpactEffects] Blood effect spawned at (2071.184, 1387.74) (scale=1)
[16:55:53] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-65.8°, current=180.0°, player=(2168,1172), corner_timer=0.11
[16:55:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2176.831, 1178.125), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:55:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[16:55:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2212.03, 1178.125), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:55:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[16:55:53] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[16:55:53] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-175.0°, current=-142.6°, player=(2220,1172), corner_timer=0.11
[16:55:53] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 1/2 -> 0/2
[16:55:53] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2062.811, 1394.349), dir=(1, 0), lethal=true
[16:55:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:53] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:55:53] [INFO] [ImpactEffects] Blood effect spawned at (2062.811, 1394.349) (scale=1.5)
[16:55:53] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[16:55:53] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[16:55:53] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 1)
[16:55:53] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:55:53] [ENEMY] [Enemy9] Death animation started with hit direction: (1, 0)
[16:55:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2246.74, 1179.308), source=PLAYER (AssaultRifle), range=1469, listeners=1
[16:55:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[16:55:53] [INFO] [BloodDecal] Blood puddle created at (2139.129, 1396.116) (added to group)
[16:55:54] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-8.3°, current=-8.6°, player=(2269,1180), corner_timer=0.11
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2156.68, 1385.924) (added to group)
[16:55:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2277.041, 1191.134), source=PLAYER (AssaultRifle), range=1469, listeners=1
[16:55:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=1
[16:55:54] [ENEMY] [Enemy8] State: PURSUING -> COMBAT
[16:55:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2246.7397, 1179.3079), shooter_id=379483851333, bullet_pos=(2030.9419, 1465.3744)
[16:55:54] [INFO] [Bullet] Using shooter_position, distance=358,3333
[16:55:54] [INFO] [Bullet] Distance to wall: 358,3333 (24,399576% of viewport)
[16:55:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:54] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-6.9°, current=112.3°, player=(2283,1190), corner_timer=0.11
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2163.686, 1396.074) (added to group)
[16:55:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2176.8308, 1178.1252), shooter_id=379483851333, bullet_pos=(1860.7866, 2082.845)
[16:55:54] [INFO] [Bullet] Using shooter_position, distance=958,3328
[16:55:54] [INFO] [Bullet] Distance to wall: 958,3328 (65,25465% of viewport)
[16:55:54] [INFO] [Bullet] Distance-based penetration chance: 70,53625%
[16:55:54] [INFO] [Bullet] Starting wall penetration at (1860.7866, 2082.845)
[16:55:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,398634
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2132.059, 1413.809) (added to group)
[16:55:54] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:54] [INFO] [Bullet] Exiting penetration at (1848.1449, 2119.0337) after traveling 33,333332 pixels through wall
[16:55:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:55:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2302.678, 1214.222), source=PLAYER (AssaultRifle), range=1469, listeners=1
[16:55:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2187.017, 1454.38) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2140.005, 1414.482) (added to group)
[16:55:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2277.0413, 1191.1335), shooter_id=379483851333, bullet_pos=(2004.032, 1471.9703)
[16:55:54] [INFO] [Bullet] Using shooter_position, distance=391,66742
[16:55:54] [INFO] [Bullet] Distance to wall: 391,66742 (26,669355% of viewport)
[16:55:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2188.595, 1452.869) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2209.601, 1388.283) (added to group)
[16:55:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2246.7397, 1179.3079), shooter_id=379483851333, bullet_pos=(1848.9423, 1206.2336)
[16:55:54] [INFO] [Bullet] Using shooter_position, distance=398,7077
[16:55:54] [INFO] [Bullet] Distance to wall: 398,7077 (27,14874% of viewport)
[16:55:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2174.538, 1494.051) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2122.279, 1444.822) (added to group)
[16:55:54] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 2/2 -> 1/2
[16:55:54] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1836.447, 1267.114), dir=(1, 0), lethal=false
[16:55:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:55:54] [INFO] [ImpactEffects] Blood effect spawned at (1836.447, 1267.114) (scale=1)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2122.338, 1404.648) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2146.803, 1460.118) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2183.707, 1448.064) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2168.289, 1421.336) (added to group)
[16:55:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2302.678, 1214.2219), shooter_id=379483851333, bullet_pos=(1958.2822, 1463.2532)
[16:55:54] [INFO] [Bullet] Using shooter_position, distance=425
[16:55:54] [INFO] [Bullet] Distance to wall: 425 (28,939034% of viewport)
[16:55:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2143.756, 1453.944) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2188.108, 1403.558) (added to group)
[16:55:54] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2150.924, 1406.469) (added to group)
[16:55:54] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=142.8°, current=-154.4°, player=(2355,1261), corner_timer=0.11
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2195.652, 1536.456) (added to group)
[16:55:54] [ENEMY] [Enemy9] Ragdoll activated
[16:55:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2203.976, 1400.543) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2234.403, 1502.103) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (1878.183, 1285.277) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (1895.504, 1271.02) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (1928.355, 1320.234) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2193.317, 1459.863) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2248.492, 1457.634) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2164.532, 1483.337) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2222.815, 1534.118) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2206.697, 1536.835) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2274.648, 1533.226) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2208.417, 1429.741) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2234.543, 1505.995) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2265.206, 1547.165) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (1955.528, 1265.443) (added to group)
[16:55:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2302.678, 1214.2219), shooter_id=379483851333, bullet_pos=(1360.7001, 1023.97296)
[16:55:54] [INFO] [Bullet] Using shooter_position, distance=960,9979
[16:55:54] [INFO] [Bullet] Distance to wall: 960,9979 (65,43612% of viewport)
[16:55:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2302.678, 1214.2219), shooter_id=379483851333, bullet_pos=(1356.2252, 1026.2036)
[16:55:54] [INFO] [Bullet] Using shooter_position, distance=964,9475
[16:55:54] [INFO] [Bullet] Distance to wall: 964,9475 (65,705055% of viewport)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (1928.382, 1322.652) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (1911.5, 1310.028) (added to group)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (1920.673, 1339.712) (added to group)
[16:55:54] [INFO] [BloodyFeet:Enemy8] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:55:54] [INFO] [BloodDecal] Blood puddle created at (2002.665, 1278.536) (added to group)
[16:55:55] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[16:55:55] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[16:55:55] [INFO] [BloodDecal] Blood puddle created at (1942.845, 1396.069) (added to group)
[16:55:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2302.678, 1214.2219), shooter_id=379483851333, bullet_pos=(1716.3572, 1185.8872)
[16:55:55] [INFO] [Bullet] Using shooter_position, distance=587,00507
[16:55:55] [INFO] [Bullet] Distance to wall: 587,00507 (39,970253% of viewport)
[16:55:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:55] [INFO] [BloodDecal] Blood puddle created at (1993.573, 1335.338) (added to group)
[16:55:55] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[16:55:55] [ENEMY] [Enemy8] Player reloading: false -> true
[16:55:55] [ENEMY] [Enemy9] Player reloading: false -> true
[16:55:55] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2340.068, 1424.317), source=PLAYER (Player), range=900, listeners=1
[16:55:55] [ENEMY] [Enemy8] Heard player RELOAD at (2340.068, 1424.317), intensity=0.01, distance=467
[16:55:55] [ENEMY] [Enemy8] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[16:55:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[16:55:55] [ENEMY] [Enemy8] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=19.8°, current=142.8°, player=(2340,1424), corner_timer=0.11
[16:55:55] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=467), can_see=false
[16:55:55] [ENEMY] [Enemy8] Pursuing vulnerability sound at (2340.068, 1424.317), distance=467
[16:55:55] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[16:55:55] [ENEMY] [Enemy9] Death animation completed
[16:55:55] [INFO] [Player.Reload.Anim] LeftArm: pos=(11.350851, 5.6653404), target=(12, 6), base=(24, 6)
[16:55:55] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9933568, 7.8282013), target=(-2, 8), base=(-2, 6)
[16:55:55] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[16:55:55] [ENEMY] [Enemy8] Player reloading: true -> false
[16:55:55] [ENEMY] [Enemy9] Player reloading: true -> false
[16:55:55] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[16:55:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2302.678, 1214.2219), shooter_id=379483851333, bullet_pos=(2468.0278, 737.9663)
[16:55:55] [INFO] [Bullet] Using shooter_position, distance=504,14282
[16:55:55] [INFO] [Bullet] Distance to wall: 504,14282 (34,328014% of viewport)
[16:55:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:55] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[16:55:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2340.068, 1361.685), source=PLAYER (AssaultRifle), range=1469, listeners=1
[16:55:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[16:55:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2340.0679, 1361.6854), shooter_id=379483851333, bullet_pos=(2304.9211, 1365.3119)
[16:55:56] [INFO] [Bullet] Using shooter_position, distance=35,333324
[16:55:56] [INFO] [Bullet] Distance to wall: 35,333324 (2,4059112% of viewport)
[16:55:56] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[16:55:56] [INFO] [Bullet] Starting wall penetration at (2304.9211, 1365.3119)
[16:55:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,258604
[16:55:56] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:56] [INFO] [Bullet] Exiting penetration at (2266.7903, 1369.2462) after traveling 33,333336 pixels through wall
[16:55:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:55:56] [ENEMY] [Enemy8] Pursuing vulnerability sound at (2340.068, 1424.317), distance=217
[16:55:56] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-15.0°, current=-13.2°, player=(2340,1342), corner_timer=0.11
[16:55:56] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-21.0°, current=-85.6°, player=(2344,1326), corner_timer=0.11
[16:55:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2345.586, 1328.771), source=PLAYER (AssaultRifle), range=1469, listeners=1
[16:55:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[16:55:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2345.5864, 1328.7714), shooter_id=379483851333, bullet_pos=(2290.9922, 1349.3202)
[16:55:56] [INFO] [Bullet] Using shooter_position, distance=58,333397
[16:55:56] [INFO] [Bullet] Distance to wall: 58,333397 (3,9720283% of viewport)
[16:55:56] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[16:55:56] [INFO] [Bullet] Starting wall penetration at (2290.9922, 1349.3202)
[16:55:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,314157
[16:55:56] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:56] [INFO] [Bullet] Exiting penetration at (2255.1162, 1362.8237) after traveling 33,333336 pixels through wall
[16:55:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:55:56] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-24.0°, current=-71.8°, player=(2354,1304), corner_timer=0.11
[16:55:56] [ENEMY] [Enemy8] State: PURSUING -> COMBAT
[16:55:56] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[16:55:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2357.806, 1298.633), source=PLAYER (AssaultRifle), range=1469, listeners=1
[16:55:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[16:55:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2357.8062, 1298.6328), shooter_id=379483851333, bullet_pos=(2288.5352, 1358.6686)
[16:55:56] [INFO] [Bullet] Using shooter_position, distance=91,66659
[16:55:56] [INFO] [Bullet] Distance to wall: 91,66659 (6,2417464% of viewport)
[16:55:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:55:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2359.186, 1264.494), source=PLAYER (AssaultRifle), range=1469, listeners=1
[16:55:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[16:55:56] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 1/2 -> 0/2
[16:55:56] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[16:55:56] [INFO] [ImpactEffects] spawn_blood_effect called at (2211.041, 1396.684), dir=(1, 0), lethal=true
[16:55:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:55:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:55:56] [INFO] [ImpactEffects] Wall found for blood splatter at (2276, 1396.684) (dist=64 px)
[16:55:56] [INFO] [BloodDecal] Blood puddle created at (2275, 1396.684) (added to group)
[16:55:56] [INFO] [ImpactEffects] Blood effect spawned at (2211.041, 1396.684) (scale=1.5)
[16:55:56] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[16:55:56] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[16:55:56] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 0)
[16:55:56] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:55:56] [ENEMY] [Enemy8] Death animation started with hit direction: (1, 0)
[16:55:56] [INFO] [BuildingLevel] Level completed, setting _level_completed = true
[16:55:56] [INFO] [ScoreManager] Combo ended at 3. Max combo: 4
[16:55:56] [INFO] [ScoreManager] Level completed! Final score: 23237, Rank: C
[16:55:56] [INFO] [BuildingLevel] _show_score_screen called with score_data: { "total_score": 23237, "rank": "C", "kills": 10, "total_enemies": 10, "kill_points": 1000, "combo_points": 17500, "max_combo": 4, "time_bonus": 3756, "completion_time": 29.835, "accuracy_bonus": 981, "accuracy": 49.0909090909091, "shots_fired": 55, "hits_landed": 27, "damage_penalty": 0, "damage_taken": 0, "special_kill_bonus": 0, "ricochet_kills": 0, "penetration_kills": 0, "aggressiveness": 0, "special_kills_eligible": false, "max_possible_score": 50000 }
[16:55:56] [INFO] [BuildingLevel] Found UI node: UI, size: (1280, 720)
[16:55:56] [INFO] [BuildingLevel] Using preloaded AnimatedScoreScreen scene (compile-time embedding)
[16:55:56] [INFO] [BuildingLevel] Created ScoreScreenCanvasLayer at layer 100
[16:55:56] [INFO] [BuildingLevel] Instantiated AnimatedScoreScreen from preloaded scene
[16:55:56] [INFO] [BuildingLevel] Script IS attached to instantiated node: res://scripts/ui/animated_score_screen.gd
[16:55:56] [INFO] [BuildingLevel] has_method('show_score'): false
[16:55:56] [INFO] [BuildingLevel] Added AnimatedScoreScreen to ScoreScreenCanvasLayer (triggers _ready)
[16:55:56] [INFO] [BuildingLevel] Set score_screen size to viewport: (1280, 720)
[16:55:56] [INFO] [BuildingLevel] score_screen.is_inside_tree() = true
[16:55:56] [INFO] [BuildingLevel] ERROR: show_score method not found, script likely not attached correctly
[16:55:56] [INFO] [BuildingLevel] Tried calling show_score() anyway
[16:55:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2348.937, 1233.539), source=PLAYER (AssaultRifle), range=1469, listeners=0
[16:55:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[16:55:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2326.792, 1207.512), source=PLAYER (AssaultRifle), range=1469, listeners=0
[16:55:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[16:55:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2301.901, 1182.621), source=PLAYER (AssaultRifle), range=1469, listeners=0
[16:55:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[16:55:57] [INFO] [BloodDecal] Blood puddle created at (2258.292, 1401.391) (added to group)
[16:55:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2277.011, 1157.731), source=PLAYER (AssaultRifle), range=1469, listeners=0
[16:55:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[16:55:57] [INFO] [BloodDecal] Blood puddle created at (2271.143, 1414.347) (added to group)
[16:55:57] [INFO] [BloodDecal] Blood puddle created at (2269.398, 1407.4) (added to group)
[16:55:57] [ENEMY] [Enemy8] Ragdoll activated
[16:55:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:55:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2348.937, 1233.5394), shooter_id=379483851333, bullet_pos=(1557.8542, 2079.6628)
[16:55:57] [INFO] [Bullet] Using shooter_position, distance=1158,3336
[16:55:57] [INFO] [Bullet] Distance to wall: 1158,3336 (78,87307% of viewport)
[16:55:57] [INFO] [BloodDecal] Blood puddle created at (2303.848, 1493.194) (added to group)
[16:55:57] [INFO] [BloodDecal] Blood puddle created at (2286.7, 1483.075) (added to group)
[16:55:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2326.792, 1207.512), shooter_id=379483851333, bullet_pos=(1847.5292, 2075.6765)
[16:55:57] [INFO] [Bullet] Using shooter_position, distance=991,6665
[16:55:57] [INFO] [Bullet] Distance to wall: 991,6665 (67,5244% of viewport)
[16:55:57] [INFO] [Bullet] Distance-based penetration chance: 67,88821%
[16:55:57] [INFO] [Bullet] Penetration failed (distance roll)
[16:55:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2301.9014, 1182.6213), shooter_id=379483851333, bullet_pos=(1950.7397, 2074.2993)
[16:55:57] [INFO] [Bullet] Using shooter_position, distance=958,33405
[16:55:57] [INFO] [Bullet] Distance to wall: 958,33405 (65,25473% of viewport)
[16:55:57] [INFO] [Bullet] Distance-based penetration chance: 70,53615%
[16:55:57] [INFO] [Bullet] Starting wall penetration at (1950.7397, 2074.2993)
[16:55:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,010572
[16:55:57] [INFO] [Bullet] Body exited signal received for penetrating body
[16:55:57] [INFO] [Bullet] Exiting penetration at (1936.6934, 2109.9666) after traveling 33,333336 pixels through wall
[16:55:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:55:57] [INFO] [BloodDecal] Blood puddle created at (2344.589, 1537.683) (added to group)
[16:55:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2277.0107, 1157.7307), shooter_id=379483851333, bullet_pos=(1923.8965, 2084.3967)
[16:55:57] [INFO] [Bullet] Using shooter_position, distance=991,66504
[16:55:57] [INFO] [Bullet] Distance to wall: 991,66504 (67,5243% of viewport)
[16:55:58] [ENEMY] [Enemy8] Death animation completed
[16:55:59] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:56:00] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[16:56:11] [INFO] ------------------------------------------------------------
[16:56:11] [INFO] GAME LOG ENDED: 2026-02-04T16:56:11
[16:56:11] [INFO] ============================================================
