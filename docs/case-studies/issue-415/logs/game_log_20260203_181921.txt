[18:19:21] [INFO] ============================================================
[18:19:21] [INFO] GAME LOG STARTED
[18:19:21] [INFO] ============================================================
[18:19:21] [INFO] Timestamp: 2026-02-03T18:19:21
[18:19:21] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260203_181921.txt
[18:19:21] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[18:19:21] [INFO] OS: Windows
[18:19:21] [INFO] Debug build: false
[18:19:21] [INFO] Engine version: 4.3-stable (official)
[18:19:21] [INFO] Project: Godot Top-Down Template
[18:19:21] [INFO] ------------------------------------------------------------
[18:19:21] [INFO] [GameManager] GameManager ready
[18:19:21] [INFO] [ScoreManager] ScoreManager ready
[18:19:21] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[18:19:21] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[18:19:21] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[18:19:21] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[18:19:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:19:21] [INFO] [PenultimateHit] Saturation shader loaded successfully
[18:19:21] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[18:19:21] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[18:19:21] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[18:19:21] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[18:19:21] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[18:19:21] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[18:19:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:19:21] [INFO] [LastChance] Last chance shader loaded successfully
[18:19:21] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[18:19:21] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[18:19:21] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[18:19:21] [INFO] [LastChance]   Sepia intensity: 0.70
[18:19:21] [INFO] [LastChance]   Brightness: 0.60
[18:19:21] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[18:19:21] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[18:19:21] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false
[18:19:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:21] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:19:21] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:19:21] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:19:21] [ENEMY] [Enemy1] Death animation component initialized
[18:19:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:21] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:19:21] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:19:21] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:19:21] [ENEMY] [Enemy2] Death animation component initialized
[18:19:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:21] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:19:21] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:19:21] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:19:21] [ENEMY] [Enemy3] Death animation component initialized
[18:19:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:21] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:19:21] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:19:21] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:19:21] [ENEMY] [Enemy4] Death animation component initialized
[18:19:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:21] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:19:21] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:19:21] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:19:21] [ENEMY] [Enemy5] Death animation component initialized
[18:19:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:21] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:19:21] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:19:21] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:19:21] [ENEMY] [Enemy6] Death animation component initialized
[18:19:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:21] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:19:21] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:19:21] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:19:21] [ENEMY] [Enemy7] Death animation component initialized
[18:19:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:21] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:19:21] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:19:21] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:19:21] [ENEMY] [Enemy8] Death animation component initialized
[18:19:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:21] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:19:21] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:19:21] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:19:21] [ENEMY] [Enemy9] Death animation component initialized
[18:19:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:21] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:19:21] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:19:21] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:19:21] [ENEMY] [Enemy10] Death animation component initialized
[18:19:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:21] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:19:21] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:19:21] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:19:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:19:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:19:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:19:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:19:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:19:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:19:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:19:21] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:19:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:19:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:19:22] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[18:19:22] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:19:22] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:19:22] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:19:22] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:19:22] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:19:22] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:19:22] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:19:22] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:19:22] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:19:22] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:19:22] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:19:22] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:19:22] [INFO] [ScoreManager] Level started with 10 enemies
[18:19:22] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:19:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[18:19:22] [ENEMY] [Enemy1] Registered as sound listener
[18:19:22] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:19:22] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:19:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[18:19:22] [ENEMY] [Enemy2] Registered as sound listener
[18:19:22] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:19:22] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:19:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[18:19:22] [ENEMY] [Enemy3] Registered as sound listener
[18:19:22] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:19:22] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:19:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[18:19:22] [ENEMY] [Enemy4] Registered as sound listener
[18:19:22] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:19:22] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:19:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[18:19:22] [ENEMY] [Enemy5] Registered as sound listener
[18:19:22] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:19:22] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:19:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[18:19:22] [ENEMY] [Enemy6] Registered as sound listener
[18:19:22] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:19:22] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:19:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[18:19:22] [ENEMY] [Enemy7] Registered as sound listener
[18:19:22] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 2, behavior: PATROL
[18:19:22] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:19:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[18:19:22] [ENEMY] [Enemy8] Registered as sound listener
[18:19:22] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:19:22] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:19:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[18:19:22] [ENEMY] [Enemy9] Registered as sound listener
[18:19:22] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:19:22] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:19:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[18:19:22] [ENEMY] [Enemy10] Registered as sound listener
[18:19:22] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:19:22] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:19:22] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:22] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:22] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:22] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:22] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:22] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:22] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:22] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:19:22] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:19:22] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:19:22] [INFO] [PenultimateHit] Shader warmup complete in 156 ms
[18:19:22] [INFO] [LastChance] Shader warmup complete in 155 ms
[18:19:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:19:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:19:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:19:22] [INFO] [LastChance] Found player: Player
[18:19:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:19:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:19:22] [INFO] [LastChance] Connected to player Died signal (C#)
[18:19:22] [INFO] [ImpactEffects] Particle shader warmup complete: 5 effects warmed up in 385 ms
[18:19:26] [INFO] [PauseMenu] Armory button pressed
[18:19:26] [INFO] [PauseMenu] Creating new armory menu instance
[18:19:26] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[18:19:26] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[18:19:26] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[18:19:26] [INFO] [PauseMenu] back_pressed signal exists on instance
[18:19:26] [INFO] [PauseMenu] back_pressed signal connected
[18:19:26] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[18:19:26] [INFO] [PauseMenu] _populate_weapon_grid method exists
[18:19:30] [INFO] [GameManager] Weapon selected: mini_uzi
[18:19:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:19:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:30] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:19:30] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:19:30] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:19:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:19:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:19:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:19:30] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:19:30] [ENEMY] [Enemy1] Death animation component initialized
[18:19:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:30] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:19:30] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:19:30] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:19:30] [ENEMY] [Enemy2] Death animation component initialized
[18:19:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:30] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:19:30] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:19:30] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:19:30] [ENEMY] [Enemy3] Death animation component initialized
[18:19:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:30] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:19:30] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:19:30] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:19:30] [ENEMY] [Enemy4] Death animation component initialized
[18:19:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:30] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:19:30] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:19:30] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:19:30] [ENEMY] [Enemy5] Death animation component initialized
[18:19:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:30] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:19:30] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:19:30] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:19:30] [ENEMY] [Enemy6] Death animation component initialized
[18:19:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:30] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:19:30] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:19:30] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:19:30] [ENEMY] [Enemy7] Death animation component initialized
[18:19:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:30] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:19:30] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:19:30] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:19:30] [ENEMY] [Enemy8] Death animation component initialized
[18:19:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:30] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:19:30] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:19:30] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:19:30] [ENEMY] [Enemy9] Death animation component initialized
[18:19:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:30] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:19:30] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:19:30] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:19:30] [ENEMY] [Enemy10] Death animation component initialized
[18:19:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:30] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:19:30] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:19:30] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:19:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:19:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:19:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:19:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:19:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:19:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:19:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:19:30] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:19:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:19:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:19:30] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:19:30] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:19:30] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:19:30] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:19:30] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:19:30] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:19:30] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:19:30] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:19:30] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:19:30] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:19:30] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:19:30] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:19:30] [INFO] [ScoreManager] Level started with 10 enemies
[18:19:30] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:19:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:19:30] [ENEMY] [Enemy1] Registered as sound listener
[18:19:30] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:19:30] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:19:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:19:30] [ENEMY] [Enemy2] Registered as sound listener
[18:19:30] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:19:30] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:19:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:19:30] [ENEMY] [Enemy3] Registered as sound listener
[18:19:30] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:19:30] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:19:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:19:30] [ENEMY] [Enemy4] Registered as sound listener
[18:19:30] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:19:30] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:19:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:19:30] [ENEMY] [Enemy5] Registered as sound listener
[18:19:30] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:19:30] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:19:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:19:30] [ENEMY] [Enemy6] Registered as sound listener
[18:19:30] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:19:30] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:19:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:19:30] [ENEMY] [Enemy7] Registered as sound listener
[18:19:30] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:19:30] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:19:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:19:30] [ENEMY] [Enemy8] Registered as sound listener
[18:19:30] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:19:30] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:19:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:19:30] [ENEMY] [Enemy9] Registered as sound listener
[18:19:30] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:19:30] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:19:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:19:30] [ENEMY] [Enemy10] Registered as sound listener
[18:19:30] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:19:30] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:19:30] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:30] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:30] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:30] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:30] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:30] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:30] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:30] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:19:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:19:30] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[18:19:30] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[18:19:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:19:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:19:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:19:30] [INFO] [LastChance] Found player: Player
[18:19:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:19:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:19:30] [INFO] [LastChance] Connected to player Died signal (C#)
[18:19:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:19:31] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:19:31] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,863), corner_timer=0.30
[18:19:31] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,863), corner_timer=0.30
[18:19:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 794.9443), source=PLAYER (MiniUzi), range=1469, listeners=20
[18:19:31] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:19:31] [ENEMY] [Enemy1] Heard gunshot at (450, 794.9443), source_type=0, intensity=0.01, distance=470
[18:19:31] [ENEMY] [Enemy2] Heard gunshot at (450, 794.9443), source_type=0, intensity=0.04, distance=250
[18:19:31] [ENEMY] [Enemy3] Heard gunshot at (450, 794.9443), source_type=0, intensity=0.04, distance=254
[18:19:31] [ENEMY] [Enemy4] Heard gunshot at (450, 794.9443), source_type=0, intensity=0.02, distance=365
[18:19:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:19:31] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=71.4°, current=168.8°, player=(450,794), corner_timer=0.00
[18:19:31] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=78.5°, current=-101.3°, player=(450,794), corner_timer=0.00
[18:19:31] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=169.8°, current=-33.8°, player=(450,794), corner_timer=0.00
[18:19:31] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-163.3°, current=-67.5°, player=(450,794), corner_timer=0.00
[18:19:31] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=170.7°, current=133.2°, player=(450,790), corner_timer=0.00
[18:19:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 783.4444), source=PLAYER (MiniUzi), range=1469, listeners=10
[18:19:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:19:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 774.4999), source=PLAYER (MiniUzi), range=1469, listeners=10
[18:19:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:19:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,774), corner_timer=-0.02
[18:19:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:19:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,774), corner_timer=-0.02
[18:19:31] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:19:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,772), corner_timer=0.30
[18:19:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,772), corner_timer=0.30
[18:19:32] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[18:19:32] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:32] [INFO] [ImpactEffects] spawn_blood_effect called at (689.5016, 751.8873), dir=(0.995649, -0.093182), lethal=false
[18:19:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:32] [INFO] [ImpactEffects] Blood effect spawned at (689.5016, 751.8873) (scale=0.9)
[18:19:32] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[18:19:32] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:32] [INFO] [ImpactEffects] spawn_blood_effect called at (689.5016, 751.8873), dir=(0.983002, -0.183597), lethal=true
[18:19:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:32] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:19:32] [INFO] [ImpactEffects] Blood effect spawned at (689.5016, 751.8873) (scale=1.35)
[18:19:32] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:19:32] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:19:32] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:19:32] [INFO] [DeathAnim] Started - Angle: -10.6 deg, Index: 11
[18:19:32] [ENEMY] [Enemy3] Death animation started with hit direction: (0.983002, -0.183597)
[18:19:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 794.9443), shooter_id=113816636269, bullet_pos=(909.3514, 770.5293)
[18:19:32] [INFO] [Bullet] Using shooter_position, distance=459.999816894531
[18:19:32] [INFO] [Bullet] Distance to wall: 459.999816894531 (31.3222333974254% of viewport)
[18:19:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:32] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(476,765), corner_timer=-0.02
[18:19:32] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:19:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(480,765), corner_timer=0.30
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (766.5911, 734.9247) (added to group)
[18:19:32] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:19:32] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:19:32] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (763.1292, 796.8121) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (757.4771, 747.6293) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (748.231, 760.0476) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (747.3074, 752.2017) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (744.4431, 756.7062) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (802.1757, 799.2121) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (811.8503, 773.4479) (added to group)
[18:19:32] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=57.1°, current=58.1°, player=(539,765), corner_timer=0.00
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (788.611, 741.4048) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (760.4808, 790.4941) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (771.718, 791.3182) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (809.1029, 760.0699) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (833.0938, 841.0215) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (778.004, 813.8109) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (837.3438, 804.7755) (added to group)
[18:19:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(579,765), corner_timer=-0.02
[18:19:32] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:19:32] [ENEMY] [Enemy3] Ragdoll activated
[18:19:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (784.0711, 790.8354) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (850.5792, 798.9326) (added to group)
[18:19:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(584,765), corner_timer=0.30
[18:19:32] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (833.4219, 834.4883) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (834.3135, 848.9083) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (784.8216, 787.6416) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (837.0625, 748.3194) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (851.1256, 830.0825) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (848.5646, 871.8009) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (884.5897, 727.9388) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (870.4083, 873.2019) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (862.6262, 711.3622) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (810.1754, 828.9403) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (911.5928, 913.858) (added to group)
[18:19:32] [INFO] [BloodDecal] Blood puddle created at (842.1631, 783.2323) (added to group)
[18:19:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(629,802), corner_timer=-0.02
[18:19:32] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:19:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(630,807), corner_timer=0.30
[18:19:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.4988, 623.7284), source=ENEMY (Enemy2), range=1469, listeners=9
[18:19:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:19:33] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-164.8°, current=-162.9°, player=(624,870), corner_timer=0.00
[18:19:33] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:19:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(498.7798, 685.0332), shooter_id=110561856171, bullet_pos=(498.7798, 685.0332)
[18:19:33] [INFO] [Bullet] Using shooter_position, distance=0
[18:19:33] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:19:33] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:19:33] [INFO] [Bullet] Starting wall penetration at (498.7798, 685.0332)
[18:19:33] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:19:33] [INFO] [Bullet] Exiting penetration at (523.5939, 724.5558) after traveling 41.6666679382324 pixels through wall
[18:19:33] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:19:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(602,899), corner_timer=-0.02
[18:19:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:19:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(598,903), corner_timer=0.30
[18:19:33] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=67.1°, current=67.1°, player=(591,911), corner_timer=0.00
[18:19:33] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:19:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.5439, 915.4863), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:19:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:19:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(578.6732, 928.1555), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:19:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:19:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(572.5482, 939.9881), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:19:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:19:33] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 3/3 -> 2/3
[18:19:33] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:33] [INFO] [ImpactEffects] spawn_blood_effect called at (773.5109, 910.7153), dir=(0.997925, -0.06439), lethal=false
[18:19:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:33] [INFO] [ImpactEffects] Blood effect spawned at (773.5109, 910.7153) (scale=0.9)
[18:19:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.0817, 950.4304), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:19:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:19:33] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/3 -> 1/3
[18:19:33] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:33] [INFO] [ImpactEffects] spawn_blood_effect called at (773.5109, 910.7153), dir=(0.996673, -0.081506), lethal=false
[18:19:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:33] [INFO] [ImpactEffects] Blood effect spawned at (773.5109, 910.7153) (scale=0.9)
[18:19:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.2736, 959.4824), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:19:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:19:33] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/3 -> 0/3
[18:19:33] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:33] [INFO] [ImpactEffects] spawn_blood_effect called at (773.5109, 910.7153), dir=(0.993527, -0.113596), lethal=true
[18:19:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:33] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:19:33] [INFO] [ImpactEffects] Blood effect spawned at (773.5109, 910.7153) (scale=1.35)
[18:19:33] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[18:19:33] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:19:33] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[18:19:33] [INFO] [DeathAnim] Started - Angle: -6.5 deg, Index: 11
[18:19:33] [ENEMY] [Enemy4] Death animation started with hit direction: (0.993527, -0.113596)
[18:19:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.1238, 967.1441), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:19:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[18:19:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:33] [ENEMY] [Enemy3] Death animation completed
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (840.1899, 931.1572) (added to group)
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (830.291, 901.1691) (added to group)
[18:19:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.0817, 950.4304), shooter_id=113816636269, bullet_pos=(928.7763, 935.6)
[18:19:33] [INFO] [Bullet] Using shooter_position, distance=360.000183105469
[18:19:33] [INFO] [Bullet] Distance to wall: 360.000183105469 (24.513074449616% of viewport)
[18:19:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:33] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (860.02, 974.9193) (added to group)
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (866.9545, 905.4313) (added to group)
[18:19:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(608,983), corner_timer=-0.02
[18:19:33] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (872.3437, 908.6443) (added to group)
[18:19:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.2736, 959.4824), shooter_id=113816636269, bullet_pos=(927.6375, 938.0844)
[18:19:33] [INFO] [Bullet] Using shooter_position, distance=360.000396728516
[18:19:33] [INFO] [Bullet] Distance to wall: 360.000396728516 (24.5130889956021% of viewport)
[18:19:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:33] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(613,983), corner_timer=0.30
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (844.3823, 930.9606) (added to group)
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (889.9858, 939.165) (added to group)
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (824.4951, 915.1381) (added to group)
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (844.0245, 895.4412) (added to group)
[18:19:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.1238, 967.1441), shooter_id=113816636269, bullet_pos=(928.6978, 935.1288)
[18:19:33] [INFO] [Bullet] Using shooter_position, distance=360.000366210938
[18:19:33] [INFO] [Bullet] Distance to wall: 360.000366210938 (24.5130869176041% of viewport)
[18:19:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:33] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:33] [ENEMY] [Enemy1] PURSUING corner check: angle -144.1°
[18:19:33] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=65.9°, current=66.7°, player=(630,983), corner_timer=0.00
[18:19:33] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (844.173, 910.2909) (added to group)
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (879.9512, 934.0062) (added to group)
[18:19:33] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=62.4°, current=62.4°, player=(652,983), corner_timer=0.00
[18:19:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (891.4328, 981.4358) (added to group)
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (880.1246, 992.6031) (added to group)
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (870.2885, 984.0497) (added to group)
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (866.3969, 981.5928) (added to group)
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (865.4092, 921.0385) (added to group)
[18:19:33] [INFO] [BloodDecal] Blood puddle created at (896.9944, 892.8394) (added to group)
[18:19:34] [INFO] [BloodDecal] Blood puddle created at (877.2515, 949.7654) (added to group)
[18:19:34] [INFO] [BloodDecal] Blood puddle created at (899.8212, 997.1138) (added to group)
[18:19:34] [INFO] [BloodDecal] Blood puddle created at (874.0488, 909.8875) (added to group)
[18:19:34] [ENEMY] [Enemy4] Ragdoll activated
[18:19:34] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:19:34] [INFO] [BloodDecal] Blood puddle created at (893.5209, 991.8066) (added to group)
[18:19:34] [INFO] [BloodDecal] Blood puddle created at (898.3652, 952.5211) (added to group)
[18:19:34] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.2°, current=27.2°, player=(699,964), corner_timer=0.08
[18:19:34] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:19:34] [INFO] [BloodDecal] Blood puddle created at (850.2855, 936.5677) (added to group)
[18:19:34] [INFO] [BloodDecal] Blood puddle created at (864.053, 980.7771) (added to group)
[18:19:34] [INFO] [BloodDecal] Blood puddle created at (886.0319, 979.9208) (added to group)
[18:19:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(708,959), corner_timer=-0.02
[18:19:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:19:34] [INFO] [BloodDecal] Blood puddle created at (898.5761, 953.7843) (added to group)
[18:19:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(713,957), corner_timer=0.30
[18:19:34] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=54.0°, current=89.5°, player=(722,954), corner_timer=0.08
[18:19:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:34] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:19:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(812,944), corner_timer=-0.02
[18:19:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:19:34] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:19:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(816,942), corner_timer=0.30
[18:19:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:34] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:19:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(857,857), corner_timer=-0.02
[18:19:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:19:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(857,852), corner_timer=0.30
[18:19:34] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=19.1°, current=19.7°, player=(856,813), corner_timer=0.00
[18:19:34] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:19:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(825,760), corner_timer=-0.02
[18:19:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:19:35] [ENEMY] [Enemy4] Death animation completed
[18:19:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(821,756), corner_timer=0.30
[18:19:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(786.0726, 722.7241), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:19:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:19:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.0475, 713.8664), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:19:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:19:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(766.7817, 705.9892), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:19:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:19:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(549.2723, 657.5197), source=ENEMY (Enemy2), range=1469, listeners=8
[18:19:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[18:19:35] [INFO] [LastChance] Threat detected: Bullet
[18:19:35] [INFO] [LastChance] Not in hard mode - effect disabled
[18:19:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:19:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(760,696), corner_timer=-0.02
[18:19:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:19:35] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/2 -> 1/2
[18:19:35] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:35] [INFO] [ImpactEffects] spawn_blood_effect called at (549.2723, 657.5197), dir=(-0.977318, -0.211779), lethal=false
[18:19:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:35] [INFO] [ImpactEffects] Blood effect spawned at (549.2723, 657.5197) (scale=0.9)
[18:19:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(759,694), corner_timer=0.30
[18:19:35] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/2 -> 0/2
[18:19:35] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:35] [INFO] [ImpactEffects] spawn_blood_effect called at (549.2723, 657.5197), dir=(-0.979237, -0.202719), lethal=true
[18:19:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:35] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:19:35] [INFO] [ImpactEffects] Blood effect spawned at (549.2723, 657.5197) (scale=1.35)
[18:19:35] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[18:19:35] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:19:35] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[18:19:35] [INFO] [DeathAnim] Started - Angle: -168.3 deg, Index: 0
[18:19:35] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.979237, -0.202719)
[18:19:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (476.4803, 629.6497) (added to group)
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (488.9276, 664.8376) (added to group)
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (506.0947, 676.5905) (added to group)
[18:19:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(614.183, 678.1683), shooter_id=110561856171, bullet_pos=(1391.116, 830.1891)
[18:19:35] [INFO] [Bullet] Using shooter_position, distance=791.666625976563
[18:19:35] [INFO] [Bullet] Distance to wall: 791.666625976563 (53.9060363093049% of viewport)
[18:19:35] [INFO] [Bullet] Distance-based penetration chance: 83.7762909724777%
[18:19:35] [INFO] [Bullet] Starting wall penetration at (1391.116, 830.1891)
[18:19:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49.8422546386719
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (473.9042, 658.5383) (added to group)
[18:19:35] [INFO] [Bullet] Body exited signal received for penetrating body
[18:19:35] [INFO] [Bullet] Exiting penetration at (1436.915, 839.1504) after traveling 41.6666717529297 pixels through wall
[18:19:35] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:19:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(767,703), corner_timer=-0.02
[18:19:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (489.9321, 682.5543) (added to group)
[18:19:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(767,707), corner_timer=0.30
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (445.6024, 651.4406) (added to group)
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (480.0366, 677.4036) (added to group)
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (445.2306, 615.1932) (added to group)
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (458.1929, 649.0816) (added to group)
[18:19:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (470.3607, 683.3961) (added to group)
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (462.9263, 630.8515) (added to group)
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (413.3883, 648.679) (added to group)
[18:19:35] [ENEMY] [Enemy2] Ragdoll activated
[18:19:35] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (479.4916, 653.7319) (added to group)
[18:19:35] [INFO] [BloodDecal] Blood puddle created at (420.9564, 614.8787) (added to group)
[18:19:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(766.7817, 705.9892), shooter_id=113816636269, bullet_pos=(50.74908, 519.1803)
[18:19:35] [INFO] [Bullet] Using shooter_position, distance=740.000183105469
[18:19:35] [INFO] [Bullet] Distance to wall: 740.000183105469 (50.3879732080011% of viewport)
[18:19:35] [INFO] [Bullet] Distance-based penetration chance: 87.8806979239988%
[18:19:35] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:36] [INFO] [BloodDecal] Blood puddle created at (452.4921, 643.4551) (added to group)
[18:19:36] [INFO] [BloodDecal] Blood puddle created at (440.7736, 679.0363) (added to group)
[18:19:36] [INFO] [BloodDecal] Blood puddle created at (374.4124, 665.9398) (added to group)
[18:19:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(733,771), corner_timer=-0.02
[18:19:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:36] [INFO] [BloodDecal] Blood puddle created at (386.1346, 623.2234) (added to group)
[18:19:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(729,772), corner_timer=0.30
[18:19:36] [INFO] [BloodDecal] Blood puddle created at (445.4535, 780.1533) (added to group)
[18:19:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:36] [ENEMY] [Enemy1] PURSUING corner check: angle -86.4°
[18:19:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(651,737), corner_timer=-0.02
[18:19:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(647,733), corner_timer=0.30
[18:19:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:36] [ENEMY] [Enemy1] PURSUING corner check: angle 117.5°
[18:19:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(571,664), corner_timer=-0.02
[18:19:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(566,662), corner_timer=0.30
[18:19:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:36] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=76.6°, current=75.5°, player=(519,656), corner_timer=0.28
[18:19:36] [ENEMY] [Enemy2] Death animation completed
[18:19:36] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:19:37] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=79.6°, current=136.9°, player=(503,656), corner_timer=0.28
[18:19:37] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=83.3°, current=131.4°, player=(486,656), corner_timer=0.28
[18:19:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(464,656), corner_timer=-0.02
[18:19:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(459,656), corner_timer=0.30
[18:19:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.5762, 656.2192), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:19:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:19:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(437.0762, 656.2192), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:19:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:19:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(420.5762, 656.2192), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:19:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:19:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(404.0762, 656.2192), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:19:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:19:37] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/3 -> 2/3
[18:19:37] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:37] [INFO] [ImpactEffects] spawn_blood_effect called at (458.4026, 416.9858), dir=(-0.079181, -0.99686), lethal=false
[18:19:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:37] [INFO] [ImpactEffects] Blood effect spawned at (458.4026, 416.9858) (scale=0.9)
[18:19:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.5762, 656.2192), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:19:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:19:37] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/3 -> 1/3
[18:19:37] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:37] [INFO] [ImpactEffects] spawn_blood_effect called at (458.4026, 416.9858), dir=(-0.013681, -0.999906), lethal=false
[18:19:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:37] [INFO] [ImpactEffects] Blood effect spawned at (458.4026, 416.9858) (scale=0.9)
[18:19:37] [INFO] [EnemyGrenade] Unsafe throw distance (253 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:19:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(371.0762, 656.2192), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:19:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:19:37] [INFO] [EnemyGrenade] Unsafe throw distance (255 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:19:37] [INFO] [EnemyGrenade] Unsafe throw distance (257 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:19:37] [INFO] [EnemyGrenade] Unsafe throw distance (259 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:19:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(354.5762, 656.2192), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:19:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:19:37] [INFO] [EnemyGrenade] Unsafe throw distance (261 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:19:37] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[18:19:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(354,656), corner_timer=-0.02
[18:19:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:37] [INFO] [EnemyGrenade] Unsafe throw distance (263 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:19:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(349,656), corner_timer=0.30
[18:19:37] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/3 -> 0/3
[18:19:37] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:37] [INFO] [ImpactEffects] spawn_blood_effect called at (457.617, 414.4375), dir=(0.137985, -0.990434), lethal=true
[18:19:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:37] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:19:37] [INFO] [ImpactEffects] Blood effect spawned at (457.617, 414.4375) (scale=1.35)
[18:19:37] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[18:19:37] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[18:19:37] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[18:19:37] [INFO] [DeathAnim] Started - Angle: -82.1 deg, Index: 6
[18:19:37] [ENEMY] [Enemy1] Death animation started with hit direction: (0.137985, -0.990434)
[18:19:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(387.5762, 656.2192), shooter_id=113816636269, bullet_pos=(497.6453, 442.9475)
[18:19:37] [INFO] [Bullet] Using shooter_position, distance=240.000076293945
[18:19:37] [INFO] [Bullet] Distance to wall: 240.000076293945 (16.3420465160803% of viewport)
[18:19:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(371.0762, 656.2192), shooter_id=113816636269, bullet_pos=(501.11, 431.072)
[18:19:37] [INFO] [Bullet] Using shooter_position, distance=260.000091552734
[18:19:37] [INFO] [Bullet] Distance to wall: 260.000091552734 (17.7038843318364% of viewport)
[18:19:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(354.5762, 656.2192), shooter_id=113816636269, bullet_pos=(509.1818, 499.7036)
[18:19:37] [INFO] [Bullet] Using shooter_position, distance=220.000091552734
[18:19:37] [INFO] [Bullet] Distance to wall: 220.000091552734 (14.9802107783222% of viewport)
[18:19:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (423.1306, 364.2761) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (428.4524, 351.5837) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (441.2146, 390.1909) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (467.1264, 356.7257) (added to group)
[18:19:37] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:19:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(420.5762, 656.2192), shooter_id=113816636269, bullet_pos=(440.4917, 56.54999)
[18:19:37] [INFO] [Bullet] Using shooter_position, distance=599.999877929688
[18:19:37] [INFO] [Bullet] Distance to wall: 599.999877929688 (40.8550949907212% of viewport)
[18:19:37] [INFO] [Bullet] Distance-based penetration chance: 99.0023891774919%
[18:19:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (458.0459, 371.2925) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (438.5109, 363.035) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (475.3467, 339.531) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (454.9507, 344.8343) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (496.7206, 349.6306) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (458.3811, 393.3721) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (475.4959, 368.6211) (added to group)
[18:19:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(246,651), corner_timer=-0.02
[18:19:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (468.9679, 340.1567) (added to group)
[18:19:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(241,649), corner_timer=0.30
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (467.7974, 334.4486) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (452.6371, 387.5598) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (476.9075, 360.6626) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (486.1865, 354.0454) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (479.0263, 307.8144) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (459.1714, 345.9829) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (414.4793, 324.3958) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (485.4951, 387.56) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (383.4757, 310.3988) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (426.4736, 345.6598) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (485.8395, 355.999) (added to group)
[18:19:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (471.24, 324.7025) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (479.4956, 380.2605) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (457.2564, 363.7514) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (406.7737, 397.6733) (added to group)
[18:19:37] [ENEMY] [Enemy1] Ragdoll activated
[18:19:37] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (427.9303, 398.347) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (462.8865, 387.8433) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (458.2353, 319.153) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (425.6301, 302.3429) (added to group)
[18:19:37] [INFO] [BloodDecal] Blood puddle created at (453.0323, 373.278) (added to group)
[18:19:38] [INFO] [BloodDecal] Blood puddle created at (418.0598, 415.7881) (added to group)
[18:19:38] [INFO] [BloodDecal] Blood puddle created at (479.1486, 349.3298) (added to group)
[18:19:38] [INFO] [BloodDecal] Blood puddle created at (422.0834, 325.1778) (added to group)
[18:19:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(168,580), corner_timer=-0.02
[18:19:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:38] [INFO] [BloodDecal] Blood puddle created at (498.4117, 361.8492) (added to group)
[18:19:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(166,575), corner_timer=0.30
[18:19:38] [INFO] [BloodDecal] Blood puddle created at (433.2794, 292.0987) (added to group)
[18:19:38] [INFO] [BloodDecal] Blood puddle created at (466.0778, 369.655) (added to group)
[18:19:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(158,474), corner_timer=-0.02
[18:19:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(158,469), corner_timer=0.30
[18:19:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:38] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:19:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(158,364), corner_timer=-0.02
[18:19:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(158,359), corner_timer=0.30
[18:19:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:38] [ENEMY] [Enemy1] Death animation completed
[18:19:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(162,256), corner_timer=-0.02
[18:19:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(164,251), corner_timer=0.30
[18:19:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(232,175), corner_timer=-0.02
[18:19:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(236,171), corner_timer=0.30
[18:19:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(312,102), corner_timer=-0.02
[18:19:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(317,100), corner_timer=0.30
[18:19:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(419,94), corner_timer=-0.02
[18:19:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(424,94), corner_timer=0.30
[18:19:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(529,94), corner_timer=-0.02
[18:19:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(534,94), corner_timer=0.30
[18:19:40] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[18:19:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(629,118), corner_timer=-0.02
[18:19:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(633,122), corner_timer=0.30
[18:19:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:41] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:19:41] [ENEMY] [Enemy5] Player reloading: false -> true
[18:19:41] [ENEMY] [Enemy6] Player reloading: false -> true
[18:19:41] [ENEMY] [Enemy7] Player reloading: false -> true
[18:19:41] [ENEMY] [Enemy8] Player reloading: false -> true
[18:19:41] [ENEMY] [Enemy9] Player reloading: false -> true
[18:19:41] [ENEMY] [Enemy10] Player reloading: false -> true
[18:19:41] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(667.6649, 196.1809), source=PLAYER (Player), range=900, listeners=6
[18:19:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[18:19:41] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1044), can_see=false
[18:19:41] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1307), can_see=false
[18:19:41] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1177), can_see=false
[18:19:41] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1758), can_see=false
[18:19:41] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1971), can_see=false
[18:19:41] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1489), can_see=false
[18:19:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(667,212), corner_timer=-0.02
[18:19:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(667,218), corner_timer=0.30
[18:19:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:41] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:19:41] [INFO] [Player.Reload.Anim] LeftArm: pos=(0.5798202, 5.2887306), target=(2, 6), base=(14, 6)
[18:19:41] [INFO] [Player.Reload.Anim] RightArm: pos=(0.999575, 7.644043), target=(1, 8), base=(1, 6)
[18:19:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(667,322), corner_timer=-0.02
[18:19:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(667,328), corner_timer=0.30
[18:19:41] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:19:41] [ENEMY] [Enemy5] Player reloading: true -> false
[18:19:41] [ENEMY] [Enemy6] Player reloading: true -> false
[18:19:41] [ENEMY] [Enemy7] Player reloading: true -> false
[18:19:41] [ENEMY] [Enemy8] Player reloading: true -> false
[18:19:41] [ENEMY] [Enemy9] Player reloading: true -> false
[18:19:41] [ENEMY] [Enemy10] Player reloading: true -> false
[18:19:41] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:19:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:41] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:19:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(667,432), corner_timer=-0.02
[18:19:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(667,438), corner_timer=0.30
[18:19:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(688,528), corner_timer=-0.02
[18:19:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(691,530), corner_timer=0.30
[18:19:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(784,544), corner_timer=-0.02
[18:19:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(790,544), corner_timer=0.30
[18:19:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(873,492), corner_timer=-0.02
[18:19:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(877,488), corner_timer=0.30
[18:19:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(951,415), corner_timer=-0.02
[18:19:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(955,411), corner_timer=0.30
[18:19:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1051,391), corner_timer=-0.02
[18:19:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1056,390), corner_timer=0.30
[18:19:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1135,329), corner_timer=-0.02
[18:19:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1139,325), corner_timer=0.30
[18:19:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1213,251), corner_timer=-0.02
[18:19:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1217,247), corner_timer=0.30
[18:19:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1291,173), corner_timer=-0.02
[18:19:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1295,170), corner_timer=0.30
[18:19:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1377,116), corner_timer=-0.02
[18:19:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1383,116), corner_timer=0.30
[18:19:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1479.435, 122.7496), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:19:45] [ENEMY] [Enemy5] Heard gunshot at (1479.435, 122.7496), source_type=0, intensity=0.02, distance=317
[18:19:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:19:45] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-134.1°, current=-180.0°, player=(1479,122), corner_timer=0.00
[18:19:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1484,124), corner_timer=-0.02
[18:19:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1488,127), corner_timer=0.30
[18:19:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1492.446, 129.8042), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:19:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:19:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1503.031, 138.6211), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:19:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:19:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1511.187, 149.2004), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:19:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:19:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1516.916, 161.542), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:19:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:19:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1520.216, 175.646), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:19:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:19:45] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 3/3 -> 2/3
[18:19:45] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:45] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.065, 289.77), dir=(0.794574, 0.607167), lethal=false
[18:19:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:45] [INFO] [ImpactEffects] Blood effect spawned at (1684.065, 289.77) (scale=0.9)
[18:19:45] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-146.3°, current=-142.6°, player=(1520,180), corner_timer=0.00
[18:19:45] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 2/3 -> 1/3
[18:19:45] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:45] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.065, 289.77), dir=(0.805042, 0.593217), lethal=false
[18:19:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:45] [INFO] [ImpactEffects] Blood effect spawned at (1684.065, 289.77) (scale=0.9)
[18:19:45] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 1/3 -> 0/3
[18:19:45] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:45] [INFO] [ImpactEffects] spawn_blood_effect called at (1685.914, 286.5214), dir=(0.834776, 0.550589), lethal=true
[18:19:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:45] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:19:45] [INFO] [ImpactEffects] Blood effect spawned at (1685.914, 286.5214) (scale=1.35)
[18:19:45] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[18:19:45] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:19:45] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 5)
[18:19:45] [INFO] [DeathAnim] Started - Angle: 33.4 deg, Index: 14
[18:19:45] [ENEMY] [Enemy5] Death animation started with hit direction: (0.834776, 0.550589)
[18:19:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1521,208), corner_timer=-0.02
[18:19:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1521,213), corner_timer=0.30
[18:19:45] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 3/3 -> 2/3
[18:19:45] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:45] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.828364, 0.56019), lethal=false
[18:19:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:45] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=0.9)
[18:19:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:45] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 2/3 -> 1/3
[18:19:45] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:45] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.840458, 0.541876), lethal=false
[18:19:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:45] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=0.9)
[18:19:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1520.216, 175.646), shooter_id=113816636269, bullet_pos=(1840.577, 289.5298)
[18:19:45] [INFO] [Bullet] Using shooter_position, distance=340.000396728516
[18:19:45] [INFO] [Bullet] Distance to wall: 340.000396728516 (23.151252218845% of viewport)
[18:19:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:45] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1740.344, 323.9329) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1766.507, 316.8714) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1717.237, 323.6772) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1773.283, 332.5467) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1755.891, 383.7546) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1775.764, 326.1528) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1742.326, 350.7693) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1739.597, 378.2232) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1747.754, 348.2238) (added to group)
[18:19:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1521,296), corner_timer=-0.02
[18:19:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1813.384, 370.8648) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1793.946, 371.9719) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1769.561, 375.4296) (added to group)
[18:19:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1521,298), corner_timer=0.30
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1796.463, 385.2071) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1772.762, 387.2157) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1729.399, 376.4735) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1768.821, 354.1756) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1779.005, 349.158) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1770.984, 394.0601) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1750.992, 394.3677) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (2002.302, 501.2389) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1783.063, 362.3953) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1739.106, 415.1126) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1766.311, 369.5196) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1752.322, 474.8926) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1754.996, 353.5655) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1995.727, 519.772) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1775.301, 412.0744) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1816.571, 407.7327) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (2000.55, 532.0581) (added to group)
[18:19:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:45] [ENEMY] [Enemy5] Ragdoll activated
[18:19:45] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1777.912, 447.0121) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1730.409, 422.7141) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1767.054, 442.0327) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (2005.947, 542.4614) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (2040.534, 533.9103) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (2004.825, 501.197) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (1823.816, 364.889) (added to group)
[18:19:45] [INFO] [BloodDecal] Blood puddle created at (2081.773, 500.8372) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (1874.547, 439.3909) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (1815.817, 501.4504) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (1811.048, 587.3815) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2038.135, 573.8041) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (1815.76, 429.4766) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (1855.894, 512.1948) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (1847.085, 470.7971) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (1852.049, 491.0289) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2031.857, 585.595) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2039.917, 628.0573) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (1777.724, 540.0441) (added to group)
[18:19:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1523,302), corner_timer=-0.02
[18:19:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1523,301), corner_timer=0.30
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2040.063, 572.7712) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2018.713, 596.2365) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (1808.403, 527.118) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (1827.794, 521.5019) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2038.894, 561.9512) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2092.118, 570.8536) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2052.768, 537.9989) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2040.138, 612.5037) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2033.472, 626.3356) (added to group)
[18:19:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2118.927, 647.0204) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2116.239, 588.8727) (added to group)
[18:19:46] [INFO] [BloodDecal] Blood puddle created at (2066.324, 603.0094) (added to group)
[18:19:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1523,277), corner_timer=-0.02
[18:19:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1523,277), corner_timer=0.30
[18:19:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:46] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-163.8°, current=146.3°, player=(1523,325), corner_timer=0.00
[18:19:46] [ENEMY] [Enemy6] State: IDLE -> COMBAT
[18:19:46] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[18:19:46] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-90.0°, current=-10.3°, player=(1523,342), corner_timer=0.00
[18:19:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1523,342), corner_timer=-0.02
[18:19:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:19:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1523,347), corner_timer=0.30
[18:19:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1521.313, 384.4756), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:19:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[18:19:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1516.914, 396.9976), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:19:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[18:19:46] [ENEMY] [Enemy5] Death animation completed
[18:19:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1510.431, 407.3622), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:19:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[18:19:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1501.863, 415.5697), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:19:47] [ENEMY] [Enemy7] Heard gunshot at (1501.863, 415.5697), source_type=0, intensity=0.01, distance=496
[18:19:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[18:19:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-102.8°, current=89.4°, player=(1501,415), corner_timer=0.03
[18:19:47] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=168.4°, current=156.1°, player=(1466,452), corner_timer=0.00
[18:19:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:47] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-58.5°, current=30.5°, player=(1457,470), corner_timer=0.00
[18:19:47] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=165.0°, current=-150.9°, player=(1453,490), corner_timer=0.00
[18:19:47] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-86.2°, current=-23.0°, player=(1456,512), corner_timer=0.00
[18:19:47] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=159.6°, current=160.2°, player=(1465,530), corner_timer=0.00
[18:19:47] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[18:19:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:47] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-85.8°, current=-31.6°, player=(1477,540), corner_timer=0.00
[18:19:47] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=156.5°, current=152.9°, player=(1492,546), corner_timer=0.00
[18:19:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1521.313, 384.4756), shooter_id=113816636269, bullet_pos=(2471.129, 523.9551)
[18:19:47] [INFO] [Bullet] Using shooter_position, distance=960.002990722656
[18:19:47] [INFO] [Bullet] Distance to wall: 960.002990722656 (65.3683689281463% of viewport)
[18:19:47] [INFO] [Bullet] Distance-based penetration chance: 70.4035695838293%
[18:19:47] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:47] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-90.7°, current=-37.9°, player=(1509,548), corner_timer=0.00
[18:19:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1516.914, 396.9976), shooter_id=113816636269, bullet_pos=(2470.613, 506.7964)
[18:19:47] [INFO] [Bullet] Using shooter_position, distance=959.998352050781
[18:19:47] [INFO] [Bullet] Distance to wall: 959.998352050781 (65.3680530724486% of viewport)
[18:19:47] [INFO] [Bullet] Distance-based penetration chance: 70.4039380821433%
[18:19:47] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1510.431, 407.3622), shooter_id=113816636269, bullet_pos=(2466.856, 490.0937)
[18:19:47] [INFO] [Bullet] Using shooter_position, distance=959.997253417969
[18:19:47] [INFO] [Bullet] Distance to wall: 959.997253417969 (65.3679782645202% of viewport)
[18:19:47] [INFO] [Bullet] Distance-based penetration chance: 70.4040253580598%
[18:19:47] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:47] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=154.7°, current=156.1°, player=(1525,544), corner_timer=0.00
[18:19:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1501.863, 415.5697), shooter_id=113816636269, bullet_pos=(2461.863, 413.6156)
[18:19:47] [INFO] [Bullet] Using shooter_position, distance=960.002014160156
[18:19:47] [INFO] [Bullet] Distance to wall: 960.002014160156 (65.3683024322099% of viewport)
[18:19:47] [INFO] [Bullet] Distance-based penetration chance: 70.4036471624217%
[18:19:47] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:47] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-73.5°, current=-31.5°, player=(1544,533), corner_timer=0.00
[18:19:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1547.196, 530.1598), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:19:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[18:19:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1554.643, 519.9863), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:19:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[18:19:47] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=156.2°, current=145.5°, player=(1556,516), corner_timer=0.00
[18:19:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1559.804, 507.8704), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:19:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[18:19:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1562.208, 495.2433), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:19:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[18:19:48] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-83.1°, current=-35.4°, player=(1562,495), corner_timer=0.00
[18:19:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1561.618, 482.8203), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:19:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[18:19:48] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=161.5°, current=138.5°, player=(1559,474), corner_timer=0.00
[18:19:48] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-53.7°, current=-3.1°, player=(1551,458), corner_timer=0.00
[18:19:48] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 1/3 -> 0/3
[18:19:48] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:48] [INFO] [ImpactEffects] spawn_blood_effect called at (1925.285, 360.5306), dir=(0.933005, -0.359864), lethal=true
[18:19:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:48] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:19:48] [INFO] [ImpactEffects] Blood effect spawned at (1925.285, 360.5306) (scale=1.35)
[18:19:48] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[18:19:48] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:19:48] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 4)
[18:19:48] [INFO] [DeathAnim] Started - Angle: -21.1 deg, Index: 10
[18:19:48] [ENEMY] [Enemy6] Death animation started with hit direction: (0.933005, -0.359864)
[18:19:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (1997.719, 346.873) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (1963.885, 336.1172) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (1961.267, 358.8539) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (1994.636, 348.1044) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (1982.397, 348.9736) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (2025.601, 334.8152) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (1978.335, 375.452) (added to group)
[18:19:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:48] [ENEMY] [Enemy6] Ragdoll activated
[18:19:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (1996.499, 341.4456) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (1999.404, 386.0168) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (2093.457, 416.9288) (added to group)
[18:19:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1554.643, 519.9863), shooter_id=113816636269, bullet_pos=(2470.018, 230.6913)
[18:19:48] [INFO] [Bullet] Using shooter_position, distance=960.001525878906
[18:19:48] [INFO] [Bullet] Distance to wall: 960.001525878906 (65.3682691842418% of viewport)
[18:19:48] [INFO] [Bullet] Distance-based penetration chance: 70.4036859517179%
[18:19:48] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1559.804, 507.8704), shooter_id=113816636269, bullet_pos=(2473.037, 285.1482)
[18:19:48] [INFO] [Bullet] Using shooter_position, distance=939.999633789063
[18:19:48] [INFO] [Bullet] Distance to wall: 939.999633789063 (64.0063035716079% of viewport)
[18:19:48] [INFO] [Bullet] Distance-based penetration chance: 71.9926458331241%
[18:19:48] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (2086.233, 370.4823) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (2078.051, 419.6934) (added to group)
[18:19:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1562.208, 495.2433), shooter_id=113816636269, bullet_pos=(2469.218, 248.4029)
[18:19:48] [INFO] [Bullet] Using shooter_position, distance=939.999084472656
[18:19:48] [INFO] [Bullet] Distance to wall: 939.999084472656 (64.0062661676437% of viewport)
[18:19:48] [INFO] [Bullet] Distance-based penetration chance: 71.9926894710823%
[18:19:48] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (2023.5, 373.1892) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (2057.52, 378.1906) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (2055.115, 381.8975) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (2061.416, 402.6505) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (2094.429, 382.3622) (added to group)
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (2023.661, 365.5642) (added to group)
[18:19:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1561.618, 482.8203), shooter_id=113816636269, bullet_pos=(2467.031, 230.1723)
[18:19:48] [INFO] [Bullet] Using shooter_position, distance=940.001342773438
[18:19:48] [INFO] [Bullet] Distance to wall: 940.001342773438 (64.0064199394966% of viewport)
[18:19:48] [INFO] [Bullet] Distance-based penetration chance: 71.9925100705873%
[18:19:48] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (2033.544, 468.2623) (added to group)
[18:19:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:48] [INFO] [BloodDecal] Blood puddle created at (2087.6, 485.8893) (added to group)
[18:19:49] [ENEMY] [Enemy7] Warning: No valid flank position (both sides behind walls)
[18:19:49] [ENEMY] [Enemy7] FLANKING started: target=(1690.584, 379.4833), side=left, pos=(1629.891, 824.067)
[18:19:49] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[18:19:49] [ENEMY] [Enemy7] FLANKING corner check: angle 110.3°
[18:19:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:49] [ENEMY] [Enemy7] FLANKING corner check: angle 84.5°
[18:19:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:49] [ENEMY] [Enemy8] Memory: medium confidence (0.66) - transitioning to PURSUING
[18:19:49] [ENEMY] [Enemy8] State: IDLE -> PURSUING
[18:19:49] [ENEMY] [Enemy9] Memory: medium confidence (0.59) - transitioning to PURSUING
[18:19:49] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[18:19:49] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-107.5°, current=-56.3°, player=(1592,476), corner_timer=0.00
[18:19:49] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-115.3°, current=11.3°, player=(1592,476), corner_timer=0.00
[18:19:49] [ENEMY] [Enemy9] PURSUING_MEMORY corner check: angle 4.4°
[18:19:49] [ENEMY] [Enemy8] PURSUING corner check: angle 154.1°
[18:19:49] [ENEMY] [Enemy6] Death animation completed
[18:19:49] [ENEMY] [Enemy7] FLANKING corner check: angle -17.5°
[18:19:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:50] [ENEMY] [Enemy8] PURSUING corner check: angle 154.1°
[18:19:50] [ENEMY] [Enemy9] PURSUING corner check: angle -40.4°
[18:19:50] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-123.1°, current=-121.8°, player=(1716,522), corner_timer=0.03
[18:19:50] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[18:19:50] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:19:50] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-118.6°, current=-172.7°, player=(1760,522), corner_timer=-0.02
[18:19:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:50] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-115.5°, current=-163.9°, player=(1771,522), corner_timer=-0.02
[18:19:50] [ENEMY] [Enemy9] PURSUING corner check: angle 163.4°
[18:19:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1826.585, 522.3506), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:19:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:19:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1842.32, 524.1984), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:19:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:19:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1856.907, 528.8178), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:19:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:19:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1870.345, 536.2089), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:19:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:19:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1882.635, 546.3715), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:19:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:19:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1826.585, 522.3506), shooter_id=113816636269, bullet_pos=(1762.506, 774.3304)
[18:19:50] [INFO] [Bullet] Using shooter_position, distance=259.999969482422
[18:19:50] [INFO] [Bullet] Distance to wall: 259.999969482422 (17.7038760198444% of viewport)
[18:19:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:50] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1847.099, 681.0173), source=ENEMY (Enemy7), range=1469, listeners=4
[18:19:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[18:19:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1894.303, 558.0388), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:19:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:19:50] [INFO] [LastChance] Threat detected: Bullet
[18:19:50] [INFO] [LastChance] Not in hard mode - effect disabled
[18:19:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:19:50] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 3/3 -> 2/3
[18:19:50] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1847.099, 681.0173), dir=(-0.289309, 0.957236), lethal=false
[18:19:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:50] [INFO] [ImpactEffects] Blood effect spawned at (1847.099, 681.0173) (scale=0.9)
[18:19:50] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[18:19:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1842.32, 524.1984), shooter_id=113816636269, bullet_pos=(1777.09, 796.4943)
[18:19:50] [INFO] [Bullet] Using shooter_position, distance=280.000061035156
[18:19:50] [INFO] [Bullet] Distance to wall: 280.000061035156 (19.0657190305955% of viewport)
[18:19:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:50] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:50] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 2/3 -> 1/3
[18:19:50] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1845.767, 678.7075), dir=(-0.288218, 0.957565), lethal=false
[18:19:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:50] [INFO] [ImpactEffects] Blood effect spawned at (1845.767, 678.7075) (scale=0.9)
[18:19:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1905.97, 569.7061), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:19:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:19:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.102, 674.0877), source=ENEMY (Enemy7), range=1469, listeners=4
[18:19:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[18:19:50] [INFO] [LastChance] Threat detected: @Area2D@1050
[18:19:50] [INFO] [LastChance] Not in hard mode - effect disabled
[18:19:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:19:50] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 1/3 -> 0/3
[18:19:50] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1841.769, 671.7778), dir=(-0.30075, 0.953703), lethal=true
[18:19:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:50] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:19:50] [INFO] [ImpactEffects] Blood effect spawned at (1841.769, 671.7778) (scale=1.35)
[18:19:50] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[18:19:50] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:19:50] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[18:19:50] [INFO] [DeathAnim] Started - Angle: 107.5 deg, Index: 19
[18:19:50] [ENEMY] [Enemy7] Death animation started with hit direction: (-0.30075, 0.953703)
[18:19:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1917.637, 581.3734), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[18:19:50] [INFO] [Player] Spawning blood effect at (1917.6368, 581.3734), dir=(1, 0), lethal=False (C#)
[18:19:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1917.637, 581.3734), dir=(1, 0), lethal=false
[18:19:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:50] [INFO] [ImpactEffects] Blood effect spawned at (1917.637, 581.3734) (scale=1)
[18:19:50] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:19:50] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[18:19:50] [INFO] [PenultimateHit] Starting penultimate hit effect:
[18:19:50] [INFO] [PenultimateHit]   - Time scale: 0.10
[18:19:50] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[18:19:50] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[18:19:50] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[18:19:50] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[18:19:50] [INFO] [PenultimateHit] Applying saturation to 4 enemies
[18:19:50] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[18:19:50] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:19:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1923.47, 587.2071), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[18:19:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1876.227, 619.8284), shooter_id=112071805701, bullet_pos=(2064.705, 67.78244)
[18:19:51] [INFO] [Bullet] Using shooter_position, distance=583.334228515625
[18:19:51] [INFO] [Bullet] Distance to wall: 583.334228515625 (39.7203002766907% of viewport)
[18:19:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:51] [INFO] [Bullet] Starting wall penetration at (2064.705, 67.78244)
[18:19:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:19:51] [INFO] [Bullet] Exiting penetration at (2067.667, 59.10743) after traveling 4.16666698455811 pixels through wall
[18:19:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:19:52] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:19:52] [ENEMY] [Enemy7] Player reloading: false -> true
[18:19:52] [ENEMY] [Enemy8] Player reloading: false -> true
[18:19:52] [ENEMY] [Enemy9] Player reloading: false -> true
[18:19:52] [ENEMY] [Enemy10] Player reloading: false -> true
[18:19:52] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1951.232, 615.3085), source=PLAYER (Player), range=900, listeners=3
[18:19:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=2
[18:19:52] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=655), can_see=false
[18:19:52] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=639), can_see=false
[18:19:52] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1265), can_see=false
[18:19:52] [INFO] [BloodDecal] Blood puddle created at (1796.067, 767.2563) (added to group)
[18:19:52] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:19:52] [INFO] [Player.Reload.Anim] LeftArm: pos=(3.0944414, 4.3369846), target=(2, 6), base=(14, 6)
[18:19:52] [INFO] [Player.Reload.Anim] RightArm: pos=(2.1636276, 6.2378087), target=(1, 8), base=(1, 6)
[18:19:52] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:19:52] [ENEMY] [Enemy7] Player reloading: true -> false
[18:19:52] [ENEMY] [Enemy8] Player reloading: true -> false
[18:19:52] [ENEMY] [Enemy9] Player reloading: true -> false
[18:19:52] [ENEMY] [Enemy10] Player reloading: true -> false
[18:19:52] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:19:52] [INFO] [BloodDecal] Blood puddle created at (1819.041, 746.3167) (added to group)
[18:19:52] [INFO] [BloodDecal] Blood puddle created at (1812.028, 789.2964) (added to group)
[18:19:52] [INFO] [BloodDecal] Blood puddle created at (1863.358, 797.6161) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1804.739, 752.411) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1792.882, 749.8045) (added to group)
[18:19:53] [INFO] [Player.Reload.Anim] LeftArm: pos=(10.940329, 5.63594), target=(14, 6), base=(14, 6)
[18:19:53] [INFO] [Player.Reload.Anim] RightArm: pos=(1.254736, 6.164106), target=(1, 6), base=(1, 6)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1784.704, 779.168) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1795.564, 763.3265) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1798.316, 780.2067) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1810.819, 796.0134) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1994.512, 607.4083) (added to group)
[18:19:53] [INFO] [PenultimateHit] Effect duration expired after 3.01 real seconds
[18:19:53] [INFO] [PenultimateHit] Ending penultimate hit effect
[18:19:53] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[18:19:53] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1812.635, 816.1251) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1816.331, 835.1822) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1784.281, 800.7054) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (2015.626, 569.2633) (added to group)
[18:19:53] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1846.229, 903.098) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1825.913, 841.2911) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1786.189, 842.2806) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1821.683, 778.8337) (added to group)
[18:19:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1797.717, 777.7281) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1800.805, 822.5125) (added to group)
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1852.412, 787.6662) (added to group)
[18:19:53] [ENEMY] [Enemy7] Ragdoll activated
[18:19:53] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:19:53] [INFO] [BloodDecal] Blood puddle created at (1765.285, 926.3021) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1807.775, 861.4622) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1794.388, 850.3763) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1798.185, 892.2008) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (2029.503, 679.8358) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (2051.648, 639.5279) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1861.299, 898.5531) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1831.389, 836.4744) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1825.034, 899.5796) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1856.657, 850.4253) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1848.286, 894.0707) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1819.083, 888.1005) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1742.902, 865.5237) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1994.278, 677.9061) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (2083.811, 647.622) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (2043.976, 684.3525) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (2064.681, 623.1544) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1834.249, 899.2678) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (2000.088, 616.8605) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1810.388, 883.3152) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (2115.433, 690.7173) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1805.318, 880.784) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1787.065, 836.4409) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1821.922, 892.1516) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1806.005, 877.8746) (added to group)
[18:19:54] [INFO] [BloodDecal] Blood puddle created at (1794.431, 906.6973) (added to group)
[18:19:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1905.97, 569.7061), shooter_id=113816636269, bullet_pos=(1508.006, 1423.516)
[18:19:54] [INFO] [Bullet] Using shooter_position, distance=942.000854492188
[18:19:54] [INFO] [Bullet] Distance to wall: 942.000854492188 (64.1425703692041% of viewport)
[18:19:54] [INFO] [Bullet] Distance-based penetration chance: 71.8336679025952%
[18:19:54] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1917.637, 581.3734), shooter_id=113816636269, bullet_pos=(1404.817, 1395.292)
[18:19:54] [INFO] [Bullet] Using shooter_position, distance=962.002258300781
[18:19:54] [INFO] [Bullet] Distance to wall: 962.002258300781 (65.5045027338698% of viewport)
[18:19:54] [INFO] [Bullet] Distance-based penetration chance: 70.2447468104853%
[18:19:54] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1856.907, 528.8178), shooter_id=113816636269, bullet_pos=(1509.903, 1742.17)
[18:19:54] [INFO] [Bullet] Using shooter_position, distance=1261.99633789063
[18:19:54] [INFO] [Bullet] Distance to wall: 1261.99633789063 (85.9316512536122% of viewport)
[18:19:54] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:19:54] [ENEMY] [Enemy8] FLANKING started: target=(1771.517, 925.7616), side=right, pos=(1804.477, 1253.301)
[18:19:54] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[18:19:54] [ENEMY] [Enemy8] FLANKING corner check: angle 97.7°
[18:19:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:19:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.2°, current=0.6°, player=(1971,939), corner_timer=0.25
[18:19:54] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[18:19:54] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.5°, current=-134.7°, player=(1971,950), corner_timer=0.25
[18:19:54] [ENEMY] [Enemy9] FLANKING started: target=(1817.633, 1144.642), side=right, pos=(2012.145, 1251.493)
[18:19:54] [ENEMY] [Enemy9] State: PURSUING -> FLANKING
[18:19:54] [ENEMY] [Enemy7] Death animation completed
[18:19:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1923.47, 587.2071), shooter_id=113816636269, bullet_pos=(1113.132, 2072.552)
[18:19:54] [INFO] [Bullet] Using shooter_position, distance=1692.01025390625
[18:19:54] [INFO] [Bullet] Distance to wall: 1692.01025390625 (115.212089520983% of viewport)
[18:19:54] [INFO] [Bullet] Distance-based penetration chance: 26.9575820958034%
[18:19:54] [INFO] [Bullet] Penetration failed (distance roll)
[18:19:54] [ENEMY] [Enemy9] FLANKING corner check: angle 115.6°
[18:19:54] [ENEMY] [Enemy8] FLANKING corner check: angle 113.3°
[18:19:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1856.907, 528.8178), shooter_id=113816636269, bullet_pos=(1555.641, 2063.937)
[18:19:54] [INFO] [Bullet] Using shooter_position, distance=1564.40100097656
[18:19:54] [INFO] [Bullet] Distance to wall: 1564.40100097656 (106.522940836276% of viewport)
[18:19:54] [INFO] [Bullet] Distance-based penetration chance: 28.6954118327448%
[18:19:54] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:55] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-18.0°, current=1.7°, player=(1971,1098), corner_timer=0.12
[18:19:55] [ENEMY] [Enemy8] State: FLANKING -> COMBAT
[18:19:55] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-15.0°, current=87.8°, player=(1971,1109), corner_timer=0.12
[18:19:55] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[18:19:55] [ENEMY] [Enemy9] FLANKING corner check: angle 113.2°
[18:19:55] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=5.1°, current=54.4°, player=(1967,1171), corner_timer=0.12
[18:19:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1959.773, 1171.036), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:55] [ENEMY] [Enemy9] FLANKING corner check: angle 113.2°
[18:19:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1952.983, 1167.458), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1947.589, 1161.225), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1727.354, 1150.636), source=ENEMY (Enemy8), range=1469, listeners=3
[18:19:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:19:55] [INFO] [LastChance] Threat detected: Bullet
[18:19:55] [INFO] [LastChance] Not in hard mode - effect disabled
[18:19:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:19:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1943.591, 1152.336), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1942.042, 1142.315), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:55] [ENEMY] [Enemy9] State: FLANKING -> RETREATING
[18:19:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1727.354, 1150.636), source=ENEMY (Enemy8), range=1469, listeners=3
[18:19:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:19:55] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=113.2°, current=-38.6°, player=(1942,1138), corner_timer=0.15
[18:19:55] [ENEMY] [Enemy9] State: RETREATING -> IN_COVER
[18:19:55] [INFO] [LastChance] Threat detected: @Area2D@1143
[18:19:55] [INFO] [LastChance] Not in hard mode - effect disabled
[18:19:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:19:55] [ENEMY] [Enemy9] State: IN_COVER -> SUPPRESSED
[18:19:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1943.47, 1131.923), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1947.875, 1121.16), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:55] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[18:19:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1954.657, 1109.871), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1959.773, 1171.036), shooter_id=113816636269, bullet_pos=(1537.639, 988.2687)
[18:19:55] [INFO] [Bullet] Using shooter_position, distance=460.000701904297
[18:19:55] [INFO] [Bullet] Distance to wall: 460.000701904297 (31.3222936593678% of viewport)
[18:19:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:55] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1952.983, 1167.458), shooter_id=113816636269, bullet_pos=(1577.178, 979.9197)
[18:19:55] [INFO] [Bullet] Using shooter_position, distance=420.000823974609
[18:19:55] [INFO] [Bullet] Distance to wall: 420.000823974609 (28.5986284178456% of viewport)
[18:19:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:55] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1959.613, 1096.974), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1792.126, 1161.182), shooter_id=112373795607, bullet_pos=(2499.643, 1195.201)
[18:19:55] [INFO] [Bullet] Using shooter_position, distance=708.33447265625
[18:19:55] [INFO] [Bullet] Distance to wall: 708.33447265625 (48.2317967554067% of viewport)
[18:19:55] [INFO] [Bullet] Distance-based penetration chance: 90.3962371186922%
[18:19:55] [INFO] [Bullet] Starting wall penetration at (2499.643, 1195.201)
[18:19:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:19:55] [INFO] [Bullet] Exiting penetration at (2546.256, 1197.442) after traveling 41.6666717529297 pixels through wall
[18:19:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1947.589, 1161.225), shooter_id=113816636269, bullet_pos=(1566.306, 985.0943)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=419.999389648438
[18:19:56] [INFO] [Bullet] Distance to wall: 419.999389648438 (28.598530751939% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1962.142, 1082.312), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1943.591, 1152.336), shooter_id=113816636269, bullet_pos=(1589.66, 965.9691)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=399.999542236328
[18:19:56] [INFO] [Bullet] Distance to wall: 399.999542236328 (27.236704365172% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1962.48, 1066.058), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1795.403, 1154.727), shooter_id=112373795607, bullet_pos=(2461.075, 1118.336)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=666.665954589844
[18:19:56] [INFO] [Bullet] Distance to wall: 666.665954589844 (45.3945107386167% of viewport)
[18:19:56] [INFO] [Bullet] Distance-based penetration chance: 93.7064041382805%
[18:19:56] [INFO] [Bullet] Starting wall penetration at (2461.075, 1118.336)
[18:19:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.689302444458
[18:19:56] [INFO] [Bullet] Body exited signal received for penetrating body
[18:19:56] [INFO] [Bullet] Exiting penetration at (2507.672, 1115.789) after traveling 41.6666679382324 pixels through wall
[18:19:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1942.042, 1142.315), shooter_id=113816636269, bullet_pos=(1582.797, 966.4115)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=399.999237060547
[18:19:56] [INFO] [Bullet] Distance to wall: 399.999237060547 (27.2366835851919% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1962.48, 1049.558), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1943.47, 1131.923), shooter_id=113816636269, bullet_pos=(1576.675, 927.3232)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=419.999389648438
[18:19:56] [INFO] [Bullet] Distance to wall: 419.999389648438 (28.598530751939% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1962.48, 1033.058), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1947.875, 1121.16), shooter_id=113816636269, bullet_pos=(1571.296, 986.299)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=399.999542236328
[18:19:56] [INFO] [Bullet] Distance to wall: 399.999542236328 (27.236704365172% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1962.48, 1016.558), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1960.632, 1000.823), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:56] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-37.0°, current=-36.7°, player=(1960,1000), corner_timer=0.25
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1959.613, 1096.974), shooter_id=113816636269, bullet_pos=(1586.791, 952.047)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=400.000244140625
[18:19:56] [INFO] [Bullet] Distance to wall: 400.000244140625 (27.2367521591263% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1956.013, 986.2367), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1962.142, 1082.312), shooter_id=113816636269, bullet_pos=(1591.795, 931.1721)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=400
[18:19:56] [INFO] [Bullet] Distance to wall: 400 (27.2367355351422% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1948.622, 972.7982), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1954.657, 1109.871), shooter_id=113816636269, bullet_pos=(1361.399, 1020.179)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=599.999816894531
[18:19:56] [INFO] [Bullet] Distance to wall: 599.999816894531 (40.8550908347252% of viewport)
[18:19:56] [INFO] [Bullet] Distance-based penetration chance: 99.002394026154%
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1954.657, 1109.871), shooter_id=113816636269, bullet_pos=(1361.399, 1020.179)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=599.999816894531
[18:19:56] [INFO] [Bullet] Distance to wall: 599.999816894531 (40.8550908347252% of viewport)
[18:19:56] [INFO] [Bullet] Distance-based penetration chance: 99.002394026154%
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1938.459, 960.5078), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1926.792, 948.8405), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1962.48, 1033.058), shooter_id=113816636269, bullet_pos=(1586.645, 976.9531)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=379.999053955078
[18:19:56] [INFO] [Bullet] Distance to wall: 379.999053955078 (25.8748343404467% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 2/2 -> 1/2
[18:19:56] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:56] [INFO] [ImpactEffects] spawn_blood_effect called at (1727.354, 1150.636), dir=(-0.815927, 0.578155), lethal=false
[18:19:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:56] [INFO] [ImpactEffects] Blood effect spawned at (1727.354, 1150.636) (scale=0.9)
[18:19:56] [INFO] [ScoreManager] Combo ended at 3. Max combo: 4
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1915.125, 937.1732), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:19:56] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 1/2 -> 0/2
[18:19:56] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:56] [INFO] [ImpactEffects] spawn_blood_effect called at (1727.354, 1150.636), dir=(-0.780467, 0.625197), lethal=true
[18:19:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:19:56] [INFO] [ImpactEffects] Blood effect spawned at (1727.354, 1150.636) (scale=1.35)
[18:19:56] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[18:19:56] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:19:56] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 2)
[18:19:56] [INFO] [DeathAnim] Started - Angle: 141.3 deg, Index: 21
[18:19:56] [ENEMY] [Enemy8] Death animation started with hit direction: (-0.780467, 0.625197)
[18:19:56] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-42.9°, current=-42.9°, player=(1911,933), corner_timer=0.25
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1903.458, 925.5059), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1948.622, 972.7982), shooter_id=113816636269, bullet_pos=(1811.533, 1193.721)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=260.000122070313
[18:19:56] [INFO] [Bullet] Distance to wall: 260.000122070313 (17.7038864098345% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1891.791, 913.8386), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:56] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-45.3°, current=-45.3°, player=(1891,913), corner_timer=0.25
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1880.123, 902.1713), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1938.459, 960.5078), shooter_id=113816636269, bullet_pos=(1713.227, 1187.819)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=319.999755859375
[18:19:56] [INFO] [Bullet] Distance to wall: 319.999755859375 (21.7893718041296% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1926.792, 948.8405), shooter_id=113816636269, bullet_pos=(1782.227, 1188.635)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=280.000518798828
[18:19:56] [INFO] [Bullet] Distance to wall: 280.000518798828 (19.0657502005657% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1962.48, 1016.558), shooter_id=113816636269, bullet_pos=(1382.961, 992.9476)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=579.999328613281
[18:19:56] [INFO] [Bullet] Distance to wall: 579.999328613281 (39.4932208099999% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1868.456, 890.504), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1915.125, 937.1732), shooter_id=113816636269, bullet_pos=(1758.85, 1193.255)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=299.999908447266
[18:19:56] [INFO] [Bullet] Distance to wall: 299.999908447266 (20.4275454173626% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1856.789, 878.8367), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [BloodDecal] Blood puddle created at (1664.785, 1211.836) (added to group)
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1903.458, 925.5059), shooter_id=113816636269, bullet_pos=(1802.404, 1186.635)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=280.000518798828
[18:19:56] [INFO] [Bullet] Distance to wall: 280.000518798828 (19.0657502005657% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1845.122, 867.1694), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [BloodDecal] Blood puddle created at (1651.032, 1212.879) (added to group)
[18:19:56] [INFO] [BloodDecal] Blood puddle created at (1639.64, 1214.6) (added to group)
[18:19:56] [INFO] [BloodDecal] Blood puddle created at (1639.666, 1189.254) (added to group)
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1891.791, 913.8386), shooter_id=113816636269, bullet_pos=(1836.648, 1188.355)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=279.999664306641
[18:19:56] [INFO] [Bullet] Distance to wall: 279.999664306641 (19.0656920166214% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:56] [INFO] [BloodDecal] Blood puddle created at (1658.896, 1193.887) (added to group)
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1429.475, 1433.267), source=ENEMY (Enemy10), range=1469, listeners=2
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:19:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1833.455, 855.5021), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:19:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:56] [INFO] [BloodDecal] Blood puddle created at (1633.615, 1202.309) (added to group)
[18:19:56] [INFO] [BloodDecal] Blood puddle created at (1640.044, 1243.618) (added to group)
[18:19:56] [INFO] [BloodDecal] Blood puddle created at (1580.105, 1227.085) (added to group)
[18:19:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1880.123, 902.1713), shooter_id=113816636269, bullet_pos=(1712.141, 1197.775)
[18:19:56] [INFO] [Bullet] Using shooter_position, distance=339.999725341797
[18:19:56] [INFO] [Bullet] Distance to wall: 339.999725341797 (23.1512065028887% of viewport)
[18:19:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1868.456, 890.504), shooter_id=113816636269, bullet_pos=(1778.689, 1197.655)
[18:19:57] [INFO] [Bullet] Using shooter_position, distance=319.999694824219
[18:19:57] [INFO] [Bullet] Distance to wall: 319.999694824219 (21.7893676481336% of viewport)
[18:19:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1460.832, 1413.055), source=ENEMY (Enemy10), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1621.785, 1254.216) (added to group)
[18:19:57] [ENEMY] [Enemy8] Ragdoll activated
[18:19:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1559.156, 1276.6) (added to group)
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1602.279, 1313.782) (added to group)
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1649.424, 1233.142) (added to group)
[18:19:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1856.789, 878.8367), shooter_id=113816636269, bullet_pos=(1777.848, 1188.947)
[18:19:57] [INFO] [Bullet] Using shooter_position, distance=319.999725341797
[18:19:57] [INFO] [Bullet] Distance to wall: 319.999725341797 (21.7893697261316% of viewport)
[18:19:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1845.122, 867.1694), shooter_id=113816636269, bullet_pos=(1758.335, 1195.907)
[18:19:57] [INFO] [Bullet] Using shooter_position, distance=340.000335693359
[18:19:57] [INFO] [Bullet] Distance to wall: 340.000335693359 (23.151248062849% of viewport)
[18:19:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:19:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1465.539, 1390.873), source=ENEMY (Enemy10), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1529.019, 1356.747) (added to group)
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1479.958, 1365.123), source=ENEMY (Enemy10), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1583.528, 1315.157) (added to group)
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1559.813, 1374.322) (added to group)
[18:19:57] [INFO] [LastChance] Threat detected: @Area2D@1336
[18:19:57] [INFO] [LastChance] Not in hard mode - effect disabled
[18:19:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1497.598, 1332.22), source=ENEMY (Enemy10), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:19:57] [INFO] [LastChance] Threat detected: @Area2D@1339
[18:19:57] [INFO] [LastChance] Not in hard mode - effect disabled
[18:19:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1515.046, 1299.215), source=ENEMY (Enemy10), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:19:57] [INFO] [LastChance] Threat detected: @Area2D@1343
[18:19:57] [INFO] [LastChance] Not in hard mode - effect disabled
[18:19:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:19:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1475.049, 1382.607), shooter_id=112977775419, bullet_pos=(2416.438, 58.06393)
[18:19:57] [INFO] [Bullet] Using shooter_position, distance=1625.0009765625
[18:19:57] [INFO] [Bullet] Distance to wall: 1625.0009765625 (110.649304607451% of viewport)
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1797.065, 774.7438), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1833.455, 855.5021), shooter_id=113816636269, bullet_pos=(1512.787, 1610.203)
[18:19:57] [INFO] [Bullet] Using shooter_position, distance=820.001098632813
[18:19:57] [INFO] [Bullet] Distance to wall: 820.001098632813 (55.8353826549698% of viewport)
[18:19:57] [INFO] [Bullet] Distance-based penetration chance: 81.5253869025352%
[18:19:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:19:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1475.049, 1382.607), shooter_id=112977775419, bullet_pos=(2470.291, 111.455)
[18:19:57] [INFO] [Bullet] Using shooter_position, distance=1614.41430664063
[18:19:57] [INFO] [Bullet] Distance to wall: 1614.41430664063 (109.928438785302% of viewport)
[18:19:57] [INFO] [Bullet] Distance-based penetration chance: 28.0143122429397%
[18:19:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1532.567, 1266.248), source=ENEMY (Enemy10), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:19:57] [INFO] [Player] Spawning blood effect at (1801.3984, 774.7438), dir=(1, 0), lethal=True (C#)
[18:19:57] [INFO] [ImpactEffects] spawn_blood_effect called at (1801.398, 774.7438), dir=(1, 0), lethal=true
[18:19:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:57] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:19:57] [INFO] [ImpactEffects] Blood effect spawned at (1801.398, 774.7438) (scale=1.5)
[18:19:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[18:19:57] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[18:19:57] [INFO] [PenultimateHit] Player died - ending penultimate effect
[18:19:57] [INFO] [LastChance] Player died
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1806.832, 774.4258), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1502.396, 1359.067), shooter_id=112977775419, bullet_pos=(2296.842, 37.85785)
[18:19:57] [INFO] [Bullet] Using shooter_position, distance=1541.66772460938
[18:19:57] [INFO] [Bullet] Distance to wall: 1541.66772460938 (104.974990245625% of viewport)
[18:19:57] [INFO] [LastChance] Threat detected: @Area2D@1345
[18:19:57] [INFO] [LastChance] Not in hard mode - effect disabled
[18:19:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:19:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1962.48, 1066.058), shooter_id=113816636269, bullet_pos=(62.5524, 1049.208)
[18:19:57] [INFO] [Bullet] Using shooter_position, distance=1900.00219726563
[18:19:57] [INFO] [Bullet] Distance to wall: 1900.00219726563 (129.374643407782% of viewport)
[18:19:57] [INFO] [Bullet] Distance-based penetration chance: 24.1250713184436%
[18:19:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1818.898, 769.9739), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1550.752, 1233.645), source=ENEMY (Enemy10), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:19:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1505.24, 1335.62), shooter_id=112977775419, bullet_pos=(2214.819, 61.55899)
[18:19:57] [INFO] [Bullet] Using shooter_position, distance=1458.33239746094
[18:19:57] [INFO] [Bullet] Distance to wall: 1458.33239746094 (99.3005345799335% of viewport)
[18:19:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1962.48, 1049.558), shooter_id=113816636269, bullet_pos=(62.59527, 1070.362)
[18:19:57] [INFO] [Bullet] Using shooter_position, distance=1899.99853515625
[18:19:57] [INFO] [Bullet] Distance to wall: 1899.99853515625 (129.374394048021% of viewport)
[18:19:57] [INFO] [Bullet] Distance-based penetration chance: 24.1251211903959%
[18:19:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:19:57] [INFO] [LastChance] Threat detected: @Area2D@1351
[18:19:57] [INFO] [LastChance] Not in hard mode - effect disabled
[18:19:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1832.563, 760.4341), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:57] [ENEMY] [Enemy8] Death animation completed
[18:19:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1502.396, 1359.067), shooter_id=112977775419, bullet_pos=(2466.833, 354.2499)
[18:19:57] [INFO] [Bullet] Using shooter_position, distance=1392.76599121094
[18:19:57] [INFO] [Bullet] Distance to wall: 1392.76599121094 (94.8359974123811% of viewport)
[18:19:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1519.023, 1309.388), shooter_id=112977775419, bullet_pos=(2193.84, 63.76942)
[18:19:57] [INFO] [Bullet] Using shooter_position, distance=1416.66674804688
[18:19:57] [INFO] [Bullet] Distance to wall: 1416.66674804688 (96.4634438949565% of viewport)
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1569.756, 1201.511), source=ENEMY (Enemy10), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1847.75, 746.0512), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:57] [ENEMY] [Enemy8] Player ammo empty: false -> true
[18:19:57] [ENEMY] [Enemy9] Player ammo empty: false -> true
[18:19:57] [ENEMY] [Enemy10] Player ammo empty: false -> true
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1851.639, 742.1621), source=PLAYER (Player), range=600, listeners=2
[18:19:57] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (1851.639, 742.1621), intensity=0.01, distance=496
[18:19:57] [ENEMY] [Enemy9] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:19:57] [ENEMY] [Enemy9] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-85.3°, current=113.2°, player=(1851,742), corner_timer=0.15
[18:19:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=496), can_see=false
[18:19:57] [ENEMY] [Enemy9] Pursuing vulnerability sound at (1851.639, 742.1621), distance=496
[18:19:57] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=528), can_see=true
[18:19:57] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) - pursuing to attack (dist=528)
[18:19:57] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1855.528, 738.273), source=PLAYER (Player), range=600, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:57] [INFO] [LastChance] Threat detected: Bullet
[18:19:57] [INFO] [LastChance] Not in hard mode - effect disabled
[18:19:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1859.417, 734.3839), source=PLAYER (Player), range=600, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1845.073, 796.1697) (added to group)
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1849.42, 803.2202) (added to group)
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1863.307, 730.4948), source=PLAYER (Player), range=600, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1854.113, 820.6642) (added to group)
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1887.023, 833.6459) (added to group)
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1867.196, 726.6057), source=PLAYER (Player), range=600, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1871.085, 722.7166), source=PLAYER (Player), range=600, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1902.934, 763.5508) (added to group)
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1892.319, 755.1059) (added to group)
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1874.974, 718.8275), source=PLAYER (Player), range=600, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1863.543, 818.8452) (added to group)
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1878.863, 714.9384), source=PLAYER (Player), range=600, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1882.752, 711.0493), source=PLAYER (Player), range=600, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:57] [INFO] [LastChance] Threat detected: @Area2D@1367
[18:19:57] [INFO] [LastChance] Not in hard mode - effect disabled
[18:19:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1886.641, 707.1602), source=PLAYER (Player), range=600, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1937.127, 764.773) (added to group)
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1890.53, 703.2711), source=PLAYER (Player), range=600, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1881.623, 830.2261) (added to group)
[18:19:57] [INFO] [BloodDecal] Blood puddle created at (1941.622, 848.7239) (added to group)
[18:19:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1894.419, 699.382), source=PLAYER (Player), range=600, listeners=2
[18:19:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:58] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1898.308, 695.4929), source=PLAYER (Player), range=600, listeners=2
[18:19:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1925.34, 846.1509) (added to group)
[18:19:58] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1902.197, 691.6038), source=PLAYER (Player), range=600, listeners=2
[18:19:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=2
[18:19:58] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1906.086, 687.7147), source=PLAYER (Player), range=600, listeners=2
[18:19:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=1
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1918.742, 846.6049) (added to group)
[18:19:58] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 2/2 -> 1/2
[18:19:58] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[18:19:58] [INFO] [ImpactEffects] spawn_blood_effect called at (1575.302, 1192.4), dir=(-0.509631, 0.860393), lethal=false
[18:19:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:19:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:19:58] [INFO] [ImpactEffects] Blood effect spawned at (1575.302, 1192.4) (scale=0.9)
[18:19:58] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1909.975, 683.8256), source=PLAYER (Player), range=600, listeners=2
[18:19:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=1
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1894.137, 841.2839) (added to group)
[18:19:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:19:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:58] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:19:58] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:19:58] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:19:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:19:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:19:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:19:58] [ENEMY] [Enemy1] Death animation component initialized
[18:19:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:58] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:19:58] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:19:58] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:19:58] [ENEMY] [Enemy2] Death animation component initialized
[18:19:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:58] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:19:58] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:19:58] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:19:58] [ENEMY] [Enemy3] Death animation component initialized
[18:19:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:58] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:19:58] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:19:58] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:19:58] [ENEMY] [Enemy4] Death animation component initialized
[18:19:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:58] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:19:58] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:19:58] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:19:58] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:19:58] [ENEMY] [Enemy5] Death animation component initialized
[18:19:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:58] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:19:58] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:19:58] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:19:58] [ENEMY] [Enemy6] Death animation component initialized
[18:19:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:58] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:19:58] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:19:58] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:19:58] [ENEMY] [Enemy7] Death animation component initialized
[18:19:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:58] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:19:58] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:19:58] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:19:58] [ENEMY] [Enemy8] Death animation component initialized
[18:19:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:58] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:19:58] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:19:58] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:19:58] [ENEMY] [Enemy9] Death animation component initialized
[18:19:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:58] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:19:58] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:19:58] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:19:58] [ENEMY] [Enemy10] Death animation component initialized
[18:19:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:19:58] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:19:58] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:19:58] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:19:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:19:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:19:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:19:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:19:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:19:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:19:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:19:58] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:19:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:19:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:19:58] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:19:58] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:19:58] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:19:58] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:19:58] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:19:58] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:19:58] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:19:58] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:19:58] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:19:58] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:19:58] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:19:58] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:19:58] [INFO] [ScoreManager] Level started with 10 enemies
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1950.103, 863.8593) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1986.26, 881.3297) (added to group)
[18:19:58] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:19:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 3)
[18:19:58] [ENEMY] [Enemy1] Registered as sound listener
[18:19:58] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:19:58] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:19:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 4)
[18:19:58] [ENEMY] [Enemy2] Registered as sound listener
[18:19:58] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:19:58] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:19:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 5)
[18:19:58] [ENEMY] [Enemy3] Registered as sound listener
[18:19:58] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:19:58] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:19:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 6)
[18:19:58] [ENEMY] [Enemy4] Registered as sound listener
[18:19:58] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:19:58] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:19:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 7)
[18:19:58] [ENEMY] [Enemy5] Registered as sound listener
[18:19:58] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:19:58] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:19:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 8)
[18:19:58] [ENEMY] [Enemy6] Registered as sound listener
[18:19:58] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:19:58] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:19:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 9)
[18:19:58] [ENEMY] [Enemy7] Registered as sound listener
[18:19:58] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:19:58] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:19:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 10)
[18:19:58] [ENEMY] [Enemy8] Registered as sound listener
[18:19:58] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:19:58] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:19:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 11)
[18:19:58] [ENEMY] [Enemy9] Registered as sound listener
[18:19:58] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:19:58] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:19:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 12)
[18:19:58] [ENEMY] [Enemy10] Registered as sound listener
[18:19:58] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:19:58] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:19:58] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:19:58] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:19:58] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:19:58] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:19:58] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:19:58] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:19:58] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:19:58] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:19:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:19:58] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[18:19:58] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[18:19:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:19:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:19:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:19:58] [INFO] [LastChance] Found player: Player
[18:19:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:19:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:19:58] [INFO] [LastChance] Connected to player Died signal (C#)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1911.154, 893.7505) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1912.946, 865.431) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1903.622, 892.597) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1988.91, 849.2818) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1988.064, 900.5931) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1535.858, 1248.767) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1564.994, 1262.961) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1564.807, 1277.543) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1565.014, 1286.792) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1515.746, 1272.463) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1537.178, 1300.38) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1546.024, 1308.719) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1512.409, 1283.401) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1478.774, 1350.808) (added to group)
[18:19:58] [INFO] [BloodDecal] Blood puddle created at (1548.496, 1368.546) (added to group)
[18:19:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:19:59] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:19:59] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(449,941), corner_timer=0.30
[18:19:59] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(449,941), corner_timer=0.30
[18:19:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(449,836), corner_timer=-0.02
[18:19:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:19:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(449,836), corner_timer=-0.02
[18:19:59] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:19:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(449,831), corner_timer=0.30
[18:19:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(449,831), corner_timer=0.30
[18:20:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(447.6981, 766.2246), source=PLAYER (MiniUzi), range=1469, listeners=12
[18:20:00] [INFO] [SoundPropagation] Cleaned up 2 invalid listeners
[18:20:00] [ENEMY] [Enemy1] Heard gunshot at (447.6981, 766.2246), source_type=0, intensity=0.01, distance=442
[18:20:00] [ENEMY] [Enemy2] Heard gunshot at (447.6981, 766.2246), source_type=0, intensity=0.05, distance=221
[18:20:00] [ENEMY] [Enemy3] Heard gunshot at (447.6981, 766.2246), source_type=0, intensity=0.04, distance=253
[18:20:00] [ENEMY] [Enemy4] Heard gunshot at (447.6981, 766.2246), source_type=0, intensity=0.02, distance=377
[18:20:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:20:00] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.5°, current=-33.8°, player=(447,766), corner_timer=0.00
[18:20:00] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.6°, current=-101.3°, player=(447,766), corner_timer=0.00
[18:20:00] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=176.3°, current=11.3°, player=(447,766), corner_timer=0.00
[18:20:00] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-159.2°, current=168.8°, player=(447,766), corner_timer=0.00
[18:20:00] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=177.4°, current=-169.6°, player=(446,761), corner_timer=0.00
[18:20:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(443.9944, 752.9836), source=PLAYER (MiniUzi), range=1469, listeners=10
[18:20:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:20:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.6313, 742.1437), source=PLAYER (MiniUzi), range=1469, listeners=10
[18:20:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:20:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(436,739), corner_timer=-0.02
[18:20:00] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:20:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(434,736), corner_timer=0.30
[18:20:00] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[18:20:00] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:00] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3553, 750.6846), dir=(0.999725, 0.023459), lethal=false
[18:20:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:00] [INFO] [ImpactEffects] Blood effect spawned at (689.3553, 750.6846) (scale=0.9)
[18:20:00] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[18:20:00] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:00] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3553, 750.6846), dir=(0.998923, 0.046394), lethal=true
[18:20:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:00] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:00] [INFO] [ImpactEffects] Blood effect spawned at (689.3553, 750.6846) (scale=1.35)
[18:20:00] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:20:00] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:20:00] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:20:00] [INFO] [DeathAnim] Started - Angle: 2.7 deg, Index: 12
[18:20:00] [ENEMY] [Enemy3] Death animation started with hit direction: (0.998923, 0.046394)
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (733.7588, 777.9033) (added to group)
[18:20:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(413,757), corner_timer=-0.02
[18:20:00] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:20:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(413,761), corner_timer=0.30
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (755.3149, 784.6602) (added to group)
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (769.2869, 770.9352) (added to group)
[18:20:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.6313, 742.1437), shooter_id=612385165626, bullet_pos=(918.1962, 762.5681)
[18:20:00] [INFO] [Bullet] Using shooter_position, distance=479.999664306641
[18:20:00] [INFO] [Bullet] Distance to wall: 479.999664306641 (32.6840597841925% of viewport)
[18:20:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:00] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:00] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:20:00] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:20:00] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (756.0082, 780.2919) (added to group)
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (770.6629, 782.489) (added to group)
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (763.8517, 760.0166) (added to group)
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (770.6616, 799.5223) (added to group)
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (747.7067, 802.7599) (added to group)
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (819.5775, 787.7264) (added to group)
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (780.8947, 790.4077) (added to group)
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (792.8467, 823.3392) (added to group)
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (821.1914, 816.9764) (added to group)
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (829.0523, 801.5421) (added to group)
[18:20:00] [ENEMY] [Enemy3] Ragdoll activated
[18:20:00] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:00] [INFO] [BloodDecal] Blood puddle created at (829.32, 842.4363) (added to group)
[18:20:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(419,842), corner_timer=-0.02
[18:20:00] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:20:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(421,844), corner_timer=0.30
[18:20:01] [INFO] [BloodDecal] Blood puddle created at (860.4579, 844.71) (added to group)
[18:20:01] [INFO] [BloodDecal] Blood puddle created at (864.1293, 848.6105) (added to group)
[18:20:01] [INFO] [BloodDecal] Blood puddle created at (901.0666, 817.8413) (added to group)
[18:20:01] [INFO] [BloodDecal] Blood puddle created at (905.0893, 838.5303) (added to group)
[18:20:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(469,829), corner_timer=-0.02
[18:20:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:20:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(472,826), corner_timer=0.30
[18:20:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:01] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=57.1°, current=58.1°, player=(527,747), corner_timer=0.00
[18:20:01] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:20:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(552,747), corner_timer=-0.02
[18:20:01] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:20:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(555,748), corner_timer=0.30
[18:20:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(559.9082, 750.4938), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:20:01] [ENEMY] [Enemy3] Death animation completed
[18:20:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.6107, 755.1603), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:20:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.5548, 761.0064), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:20:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(559.9082, 750.4938), shooter_id=612385165626, bullet_pos=(677.959, 858.4938)
[18:20:02] [INFO] [Bullet] Using shooter_position, distance=159.999969482422
[18:20:02] [INFO] [Bullet] Distance to wall: 159.999969482422 (10.8946921360589% of viewport)
[18:20:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:02] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.7406, 768.0322), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:20:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.6107, 755.1603), shooter_id=612385165626, bullet_pos=(677.616, 868.4288)
[18:20:02] [INFO] [Bullet] Using shooter_position, distance=159.999938964844
[18:20:02] [INFO] [Bullet] Distance to wall: 159.999938964844 (10.8946900580608% of viewport)
[18:20:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:02] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.1681, 776.2376), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:20:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(566.5548, 761.0064), shooter_id=612385165626, bullet_pos=(689.0172, 892.9269)
[18:20:02] [INFO] [Bullet] Using shooter_position, distance=180.000183105469
[18:20:02] [INFO] [Bullet] Distance to wall: 180.000183105469 (12.256543458802% of viewport)
[18:20:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:02] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:02] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=57.3°, current=57.3°, player=(557,794), corner_timer=0.00
[18:20:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(557,794), corner_timer=-0.02
[18:20:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:20:02] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:20:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(556,799), corner_timer=0.30
[18:20:02] [ENEMY] [Enemy1] PURSUING corner check: angle -140.0°
[18:20:02] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=0.0°, current=-140.7°, player=(556,809), corner_timer=0.00
[18:20:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(565.7406, 768.0322), shooter_id=612385165626, bullet_pos=(779.2426, 1006.396)
[18:20:02] [INFO] [Bullet] Using shooter_position, distance=320.000213623047
[18:20:02] [INFO] [Bullet] Distance to wall: 320.000213623047 (21.7894029740998% of viewport)
[18:20:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:02] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:02] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-156.5°, current=-136.2°, player=(556,831), corner_timer=0.00
[18:20:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.1681, 776.2376), shooter_id=612385165626, bullet_pos=(755.6721, 1005.488)
[18:20:02] [INFO] [Bullet] Using shooter_position, distance=299.999542236328
[18:20:02] [INFO] [Bullet] Distance to wall: 299.999542236328 (20.4275204813865% of viewport)
[18:20:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:02] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:02] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:20:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(556,903), corner_timer=-0.02
[18:20:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:20:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(556,908), corner_timer=0.30
[18:20:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(556.1055, 914.0735), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:20:02] [ENEMY] [Enemy1] PURSUING corner check: angle -82.1°
[18:20:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(556.1055, 930.5735), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:20:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(556.1055, 947.0735), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:20:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(556.1055, 914.0735), shooter_id=612385165626, bullet_pos=(692.3555, 881.8878)
[18:20:02] [INFO] [Bullet] Using shooter_position, distance=140
[18:20:02] [INFO] [Bullet] Distance to wall: 140 (9.53285743729976% of viewport)
[18:20:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:02] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(556.1055, 963.5735), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:20:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(556.1055, 930.5735), shooter_id=612385165626, bullet_pos=(711.3506, 891.8577)
[18:20:02] [INFO] [Bullet] Using shooter_position, distance=159.999877929688
[18:20:02] [INFO] [Bullet] Distance to wall: 159.999877929688 (10.8946859020648% of viewport)
[18:20:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(556.4135, 979.946), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:20:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(556.1055, 947.0735), shooter_id=612385165626, bullet_pos=(726.3952, 888.7526)
[18:20:02] [INFO] [Bullet] Using shooter_position, distance=179.999786376953
[18:20:02] [INFO] [Bullet] Distance to wall: 179.999786376953 (12.2565164448279% of viewport)
[18:20:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(556.1055, 963.5735), shooter_id=612385165626, bullet_pos=(697.1719, 888.0735)
[18:20:02] [INFO] [Bullet] Using shooter_position, distance=159.999938964844
[18:20:02] [INFO] [Bullet] Distance to wall: 159.999938964844 (10.8946900580608% of viewport)
[18:20:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:02] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:02] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=77.1°, current=76.8°, player=(561,983), corner_timer=0.05
[18:20:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(563,983), corner_timer=-0.02
[18:20:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:20:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(556.4135, 979.946), shooter_id=612385165626, bullet_pos=(680.2675, 878.6535)
[18:20:02] [INFO] [Bullet] Using shooter_position, distance=159.999938964844
[18:20:02] [INFO] [Bullet] Distance to wall: 159.999938964844 (10.8946900580608% of viewport)
[18:20:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:02] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(565,983), corner_timer=0.30
[18:20:02] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:20:02] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=77.7°, current=148.5°, player=(573,983), corner_timer=0.00
[18:20:02] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[18:20:02] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:02] [INFO] [ImpactEffects] spawn_blood_effect called at (846.6052, 912.8339), dir=(0.995143, 0.098443), lethal=false
[18:20:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:02] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 919.303) (dist=65 px)
[18:20:02] [INFO] [BloodDecal] Blood puddle created at (911, 919.303) (added to group)
[18:20:02] [INFO] [ImpactEffects] Blood effect spawned at (846.6052, 912.8339) (scale=0.9)
[18:20:02] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/2 -> 0/2
[18:20:02] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:02] [INFO] [ImpactEffects] spawn_blood_effect called at (847.9863, 905.4961), dir=(0.990627, 0.136595), lethal=true
[18:20:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:02] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:02] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 914.3228) (dist=64 px)
[18:20:02] [INFO] [BloodDecal] Blood puddle created at (911, 914.3228) (added to group)
[18:20:02] [INFO] [ImpactEffects] Blood effect spawned at (847.9863, 905.4961) (scale=1.35)
[18:20:02] [ENEMY] [Enemy4] Enemy died (ricochet: true, penetration: false)
[18:20:02] [INFO] [ScoreManager] Ricochet kill registered
[18:20:02] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:20:02] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[18:20:02] [INFO] [DeathAnim] Started - Angle: 7.9 deg, Index: 12
[18:20:02] [ENEMY] [Enemy4] Death animation started with hit direction: (0.990627, 0.136595)
[18:20:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:03] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=74.4°, current=122.2°, player=(607,981), corner_timer=0.00
[18:20:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(612.3989, 980.6801), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:20:03] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=73.4°, current=115.5°, player=(616,979), corner_timer=0.00
[18:20:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(624.3376, 975.4057), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:20:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.0908, 968.0762), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:20:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(636,965), corner_timer=-0.02
[18:20:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:20:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(639,962), corner_timer=0.30
[18:20:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(641.6583, 958.6917), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:20:03] [INFO] [BloodDecal] Blood puddle created at (886.3594, 941.6943) (added to group)
[18:20:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(641.6583, 958.6917), shooter_id=612385165626, bullet_pos=(758.8271, 882.0664)
[18:20:03] [INFO] [Bullet] Using shooter_position, distance=139.999893188477
[18:20:03] [INFO] [Bullet] Distance to wall: 139.999893188477 (9.53285016430672% of viewport)
[18:20:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:03] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(612.3989, 980.6801), shooter_id=612385165626, bullet_pos=(915.2415, 826.1278)
[18:20:03] [INFO] [Bullet] Using shooter_position, distance=340.000061035156
[18:20:03] [INFO] [Bullet] Distance to wall: 340.000061035156 (23.1512293608669% of viewport)
[18:20:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:03] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.3376, 975.4057), shooter_id=612385165626, bullet_pos=(914.5164, 840.5121)
[18:20:03] [INFO] [Bullet] Using shooter_position, distance=319.999938964844
[18:20:03] [INFO] [Bullet] Distance to wall: 319.999938964844 (21.7893842721177% of viewport)
[18:20:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:03] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:03] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:20:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(634.0908, 968.0762), shooter_id=612385165626, bullet_pos=(910.666, 807.1231)
[18:20:03] [INFO] [Bullet] Using shooter_position, distance=319.999603271484
[18:20:03] [INFO] [Bullet] Distance to wall: 319.999603271484 (21.7893614141396% of viewport)
[18:20:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:03] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:03] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=65.2°, current=65.5°, player=(645,913), corner_timer=0.00
[18:20:03] [ENEMY] [Enemy4] Ragdoll activated
[18:20:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(631,897), corner_timer=-0.02
[18:20:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:20:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(628,895), corner_timer=0.30
[18:20:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:03] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:20:03] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.2°, current=56.6°, player=(580,819), corner_timer=0.00
[18:20:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(580,819), corner_timer=-0.02
[18:20:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:20:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(581,815), corner_timer=0.30
[18:20:03] [ENEMY] [Enemy2] PURSUING corner check: angle 172.5°
[18:20:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(585.2808, 797.7878), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[18:20:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.9322, 785.324), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[18:20:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(601.5464, 773.3307), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[18:20:04] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:20:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(613.1878, 761.6593), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[18:20:04] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/3 -> 2/3
[18:20:04] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:04] [INFO] [ImpactEffects] spawn_blood_effect called at (475.9346, 596.9961), dir=(-0.544902, -0.8385), lethal=false
[18:20:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:04] [INFO] [ImpactEffects] Blood effect spawned at (475.9346, 596.9961) (scale=0.9)
[18:20:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(624.8551, 749.992), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[18:20:04] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/3 -> 1/3
[18:20:04] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:04] [INFO] [ImpactEffects] spawn_blood_effect called at (475.9346, 596.9961), dir=(-0.554103, -0.832448), lethal=false
[18:20:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:04] [INFO] [ImpactEffects] Blood effect spawned at (475.9346, 596.9961) (scale=0.9)
[18:20:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.5224, 738.3247), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[18:20:04] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/3 -> 0/3
[18:20:04] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:04] [INFO] [ImpactEffects] spawn_blood_effect called at (475.9346, 596.9961), dir=(-0.55699, -0.830519), lethal=true
[18:20:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:04] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:04] [INFO] [ImpactEffects] Blood effect spawned at (475.9346, 596.9961) (scale=1.35)
[18:20:04] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[18:20:04] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:20:04] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[18:20:04] [INFO] [DeathAnim] Started - Angle: -123.8 deg, Index: 3
[18:20:04] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.55699, -0.830519)
[18:20:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(636,738), corner_timer=-0.02
[18:20:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(640,734), corner_timer=0.30
[18:20:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(648.1897, 726.6574), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[18:20:04] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:20:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(659.857, 714.9901), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[18:20:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.8551, 749.992), shooter_id=612385165626, bullet_pos=(503.3463, 591.1346)
[18:20:04] [INFO] [Bullet] Using shooter_position, distance=200.00016784668
[18:20:04] [INFO] [Bullet] Distance to wall: 200.00016784668 (13.6183791965601% of viewport)
[18:20:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:04] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.5243, 703.3228), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (446.8057, 576.7312) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (412.0335, 565.3455) (added to group)
[18:20:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(648.1897, 726.6574), shooter_id=612385165626, bullet_pos=(525.8105, 568.4702)
[18:20:04] [INFO] [Bullet] Using shooter_position, distance=199.999664306641
[18:20:04] [INFO] [Bullet] Distance to wall: 199.999664306641 (13.618344909593% of viewport)
[18:20:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:04] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (466.6567, 542.1532) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (437.245, 571.5451) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (440.0311, 571.4376) (added to group)
[18:20:04] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:20:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(659.857, 714.9901), shooter_id=612385165626, bullet_pos=(520.9162, 544.4163)
[18:20:04] [INFO] [Bullet] Using shooter_position, distance=219.999969482422
[18:20:04] [INFO] [Bullet] Distance to wall: 219.999969482422 (14.9802024663302% of viewport)
[18:20:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:04] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:04] [ENEMY] [Enemy4] Death animation completed
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (435.4638, 511.6314) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (450.0045, 544.8502) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (431.8954, 582.856) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (419.4813, 514.4028) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (431.8216, 587.6108) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (437.042, 577.4026) (added to group)
[18:20:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(671.5243, 703.3228), shooter_id=612385165626, bullet_pos=(523.6091, 540.4699)
[18:20:04] [INFO] [Bullet] Using shooter_position, distance=219.999954223633
[18:20:04] [INFO] [Bullet] Distance to wall: 219.999954223633 (14.9802014273312% of viewport)
[18:20:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:04] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:04] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=172.5°, current=18.4°, player=(710,664), corner_timer=0.15
[18:20:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.5224, 738.3247), shooter_id=612385165626, bullet_pos=(337.5617, 443.3288)
[18:20:04] [INFO] [Bullet] Using shooter_position, distance=420.000122070313
[18:20:04] [INFO] [Bullet] Distance to wall: 420.000122070313 (28.5985806238913% of viewport)
[18:20:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:04] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(714,660), corner_timer=-0.02
[18:20:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (395.8581, 578.8842) (added to group)
[18:20:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(718,656), corner_timer=0.30
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (412.8972, 566.1222) (added to group)
[18:20:04] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (459.0103, 558.0588) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (453.0991, 529.4105) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (448.1778, 565.7635) (added to group)
[18:20:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (450.8333, 575.1807) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (461.528, 556.662) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (434.2028, 553.791) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (388.7392, 545.6658) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (431.1682, 579.7772) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (420.1721, 562.9935) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (439.5369, 539.1009) (added to group)
[18:20:04] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (448.1138, 480.0661) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (325.875, 566.6528) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (417.1426, 517.5097) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (429.7668, 543.313) (added to group)
[18:20:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:04] [ENEMY] [Enemy1] Ragdoll activated
[18:20:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (443.6047, 475.7206) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (454.8438, 493.2715) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (339.4538, 582.2984) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (425.5335, 535.2456) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (356.758, 576.1083) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (441.7167, 518.8253) (added to group)
[18:20:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(613.1878, 761.6593), shooter_id=612385165626, bullet_pos=(64.84595, 99.14839)
[18:20:04] [INFO] [Bullet] Using shooter_position, distance=859.999694824219
[18:20:04] [INFO] [Bullet] Distance to wall: 859.999694824219 (58.5589606205755% of viewport)
[18:20:04] [INFO] [Bullet] Distance-based penetration chance: 78.3478792759952%
[18:20:04] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (420.3653, 532.9478) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (379.4497, 508.2359) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (362.2117, 554.6009) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (377.9152, 623.6315) (added to group)
[18:20:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(752.5089, 571.8674), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (386.5219, 638.0787) (added to group)
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (315.543, 570.9037) (added to group)
[18:20:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(752,566), corner_timer=-0.02
[18:20:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:04] [INFO] [BloodDecal] Blood puddle created at (459.261, 595.8726) (added to group)
[18:20:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(752,560), corner_timer=0.30
[18:20:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(753.4328, 555.7501), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[18:20:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(757.1283, 540.7809), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[18:20:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(799,475), corner_timer=-0.02
[18:20:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(800,470), corner_timer=0.30
[18:20:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(757.1283, 540.7809), shooter_id=612385165626, bullet_pos=(386.442, 691.0861)
[18:20:05] [INFO] [Bullet] Using shooter_position, distance=399.999908447266
[18:20:05] [INFO] [Bullet] Distance to wall: 399.999908447266 (27.2367293011481% of viewport)
[18:20:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:05] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(752.5089, 571.8674), shooter_id=612385165626, bullet_pos=(245.7216, 688.3438)
[18:20:05] [INFO] [Bullet] Using shooter_position, distance=520.000122070313
[18:20:05] [INFO] [Bullet] Distance to wall: 520.000122070313 (35.4077645076769% of viewport)
[18:20:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:05] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(753.4328, 555.7501), shooter_id=612385165626, bullet_pos=(229.6981, 687.2878)
[18:20:05] [INFO] [Bullet] Using shooter_position, distance=540.000244140625
[18:20:05] [INFO] [Bullet] Distance to wall: 540.000244140625 (36.769609596426% of viewport)
[18:20:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:05] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:05] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[18:20:05] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[18:20:05] [INFO] [Player.Grenade] G pressed - starting grab animation
[18:20:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(803,367), corner_timer=-0.02
[18:20:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(803,361), corner_timer=0.30
[18:20:05] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[18:20:05] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (339.2041, 504.41705)
[18:20:05] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:20:05] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[18:20:05] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[18:20:05] [INFO] [Player.Grenade] Timer started, grenade created at (803.067, 323.30945)
[18:20:05] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[18:20:05] [INFO] [Player.Grenade] Step 1 complete! Drag: (389.46948, 29.591492)
[18:20:05] [ENEMY] [Enemy1] Death animation completed
[18:20:05] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from SUPPRESSED
[18:20:05] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (366.0781, 614.2831)
[18:20:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:05] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[18:20:05] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[18:20:05] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped danger zone, returning to SUPPRESSED
[18:20:05] [ENEMY] [Enemy2] State: EVADING_GRENADE -> SUPPRESSED
[18:20:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(802,257), corner_timer=-0.02
[18:20:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(801,252), corner_timer=0.30
[18:20:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(740,173), corner_timer=-0.02
[18:20:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(736,169), corner_timer=0.30
[18:20:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(662,95), corner_timer=-0.02
[18:20:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(658,91), corner_timer=0.30
[18:20:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(562,80), corner_timer=-0.02
[18:20:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(556,80), corner_timer=0.30
[18:20:06] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[18:20:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:06] [INFO] [Player.Grenade.Simple] Throwing! Target: (161.65866, 719.36316), Distance: 672,3, Speed: 635,1, Friction: 300,0
[18:20:06] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 2,0803165
[18:20:06] [INFO] [GrenadeBase] Simple mode throw! Dir: (-0.487758, 0.872979), Speed: 635.1 (clamped from 635.1, max: 1352.8)
[18:20:06] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[18:20:06] [INFO] [Player.Grenade.Simple] Grenade thrown!
[18:20:06] [INFO] [Player.Grenade] State reset to IDLE
[18:20:06] [INFO] [Player.Grenade] State reset to IDLE
[18:20:06] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[18:20:06] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from SEEKING_COVER
[18:20:06] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (405.6277, 660.6709)
[18:20:07] [INFO] [Player.Grenade] Player rotation restored to 0
[18:20:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(500,80), corner_timer=-0.02
[18:20:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:07] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[18:20:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(500,80), corner_timer=0.30
[18:20:07] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[18:20:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(567,80), corner_timer=-0.02
[18:20:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(573,80), corner_timer=0.30
[18:20:07] [INFO] [GrenadeBase] Collision detected with Desk2 (type: StaticBody2D)
[18:20:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:07] [INFO] [BloodyFeet:Enemy2] Blood ran out - no more footprints
[18:20:07] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped danger zone, returning to SEEKING_COVER
[18:20:07] [ENEMY] [Enemy2] State: EVADING_GRENADE -> SEEKING_COVER
[18:20:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(677,80), corner_timer=-0.02
[18:20:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(683,80), corner_timer=0.30
[18:20:07] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from SEEKING_COVER
[18:20:07] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (460.7922, 893.0054)
[18:20:07] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped danger zone, returning to SEEKING_COVER
[18:20:07] [ENEMY] [Enemy2] State: EVADING_GRENADE -> SEEKING_COVER
[18:20:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:07] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from SEEKING_COVER
[18:20:07] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (464.5346, 883.2383)
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped danger zone, returning to SEEKING_COVER
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> SEEKING_COVER
[18:20:08] [INFO] [GrenadeBase] Grenade landed at (297.2327, 383.8775)
[18:20:08] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-67.6°, current=-20.6°, player=(751,100), corner_timer=0.15
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from SEEKING_COVER
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (469.9736, 877.1292)
[18:20:08] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=EVADING_GRENADE, target=172.5°, current=0.6°, player=(759,108), corner_timer=0.15
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped danger zone, returning to SEEKING_COVER
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> SEEKING_COVER
[18:20:08] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-66.4°, current=-44.9°, player=(767,115), corner_timer=0.15
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from SEEKING_COVER
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (470.1959, 875.7382)
[18:20:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(771,119), corner_timer=-0.02
[18:20:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(775,123), corner_timer=0.30
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped danger zone, returning to SEEKING_COVER
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> SEEKING_COVER
[18:20:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(783.1118, 131.3362), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=4
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from SEEKING_COVER
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (471.4304, 875.2795)
[18:20:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(794.7791, 143.0034), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=4
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped danger zone, returning to SEEKING_COVER
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> SEEKING_COVER
[18:20:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(806.4464, 154.6707), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=4
[18:20:08] [ENEMY] [Enemy2] Player ammo empty: false -> true
[18:20:08] [ENEMY] [Enemy5] Player ammo empty: false -> true
[18:20:08] [ENEMY] [Enemy6] Player ammo empty: false -> true
[18:20:08] [ENEMY] [Enemy7] Player ammo empty: false -> true
[18:20:08] [ENEMY] [Enemy8] Player ammo empty: false -> true
[18:20:08] [ENEMY] [Enemy9] Player ammo empty: false -> true
[18:20:08] [ENEMY] [Enemy10] Player ammo empty: false -> true
[18:20:08] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(810.3355, 158.5598), source=PLAYER (Player), range=600, listeners=7
[18:20:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=0
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from SEEKING_COVER
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (474.1866, 874.2844)
[18:20:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=910), can_see=false
[18:20:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1176), can_see=false
[18:20:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1091), can_see=false
[18:20:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1690), can_see=false
[18:20:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[18:20:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1485), can_see=false
[18:20:08] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=749), can_see=true
[18:20:08] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=749)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(849,197), corner_timer=-0.02
[18:20:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(853,201), corner_timer=0.30
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(927,275), corner_timer=-0.02
[18:20:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=772), can_see=false
[18:20:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1033), can_see=false
[18:20:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(930,279), corner_timer=0.30
[18:20:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=920), can_see=false
[18:20:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1520), can_see=false
[18:20:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1727), can_see=false
[18:20:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1342), can_see=false
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=720), can_see=true
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(783.1118, 131.3362), shooter_id=612385165626, bullet_pos=(527.4109, 1015.087)
[18:20:08] [INFO] [Bullet] Using shooter_position, distance=919.999328613281
[18:20:08] [INFO] [Bullet] Distance to wall: 919.999328613281 (62.6444460148707% of viewport)
[18:20:08] [INFO] [Bullet] Distance-based penetration chance: 73.5814796493175%
[18:20:08] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:08] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:08] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:08] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(794.7791, 143.0034), shooter_id=612385165626, bullet_pos=(548.7348, 1008.718)
[18:20:09] [INFO] [Bullet] Using shooter_position, distance=899.999572753906
[18:20:09] [INFO] [Bullet] Distance to wall: 899.999572753906 (61.2826258620977% of viewport)
[18:20:09] [INFO] [Bullet] Distance-based penetration chance: 75.1702698275527%
[18:20:09] [INFO] [Bullet] Penetration failed (distance roll)
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(806.4464, 154.6707), shooter_id=612385165626, bullet_pos=(524.1539, 967.02)
[18:20:09] [INFO] [Bullet] Using shooter_position, distance=860.000244140625
[18:20:09] [INFO] [Bullet] Distance to wall: 860.000244140625 (58.5589980245397% of viewport)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(806.4464, 154.6707), shooter_id=612385165626, bullet_pos=(540.8363, 1000.046)
[18:20:09] [INFO] [Bullet] Using shooter_position, distance=886.119445800781
[18:20:09] [INFO] [Bullet] Distance to wall: 886.119445800781 (60.3375024945566% of viewport)
[18:20:09] [INFO] [Bullet] Distance-based penetration chance: 76.2729137563507%
[18:20:09] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(965,369), corner_timer=-0.02
[18:20:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(965,374), corner_timer=0.30
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=740), can_see=false
[18:20:09] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=985), can_see=false
[18:20:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=795), can_see=false
[18:20:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1380), can_see=false
[18:20:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1591), can_see=false
[18:20:09] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1183), can_see=false
[18:20:09] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=635)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=629), can_see=true
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(965,479), corner_timer=-0.02
[18:20:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(965,484), corner_timer=0.30
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:09] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (475.3276, 873.8674)
[18:20:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:09] [INFO] [GrenadeBase] EXPLODED at (294.5373, 380.9781)!
[18:20:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(294.5373, 380.9781), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=7
[18:20:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[18:20:09] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:09] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-24.4°, current=-24.9°, player=(965,589), corner_timer=0.15
[18:20:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(965,589), corner_timer=-0.02
[18:20:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(965,594), corner_timer=0.30
[18:20:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=777), can_see=false
[18:20:09] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=997), can_see=false
[18:20:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=710), can_see=false
[18:20:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1260), can_see=false
[18:20:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1477), can_see=false
[18:20:09] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1016), can_see=false
[18:20:09] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=548), can_see=false
[18:20:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:10] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:20:10] [ENEMY] [Enemy2] Player reloading: false -> true
[18:20:10] [ENEMY] [Enemy5] Player reloading: false -> true
[18:20:10] [ENEMY] [Enemy6] Player reloading: false -> true
[18:20:10] [ENEMY] [Enemy7] Player reloading: false -> true
[18:20:10] [ENEMY] [Enemy8] Player reloading: false -> true
[18:20:10] [ENEMY] [Enemy9] Player reloading: false -> true
[18:20:10] [ENEMY] [Enemy10] Player reloading: false -> true
[18:20:10] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(965.521, 645.0022), source=PLAYER (Player), range=900, listeners=7
[18:20:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[18:20:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(965,646), corner_timer=-0.02
[18:20:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:10] [INFO] [Player.Reload.Anim] LeftArm: pos=(-3.7104554, 2.4631557), target=(-6, 2), base=(14, 6)
[18:20:10] [INFO] [Player.Reload.Anim] RightArm: pos=(1.0262346, 6), target=(1, 6), base=(1, 6)
[18:20:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(965,646), corner_timer=0.30
[18:20:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:10] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:20:10] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=792), can_see=false
[18:20:10] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1004), can_see=false
[18:20:10] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=693), can_see=false
[18:20:10] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1232), can_see=false
[18:20:10] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1450), can_see=false
[18:20:10] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=975), can_see=false
[18:20:10] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=539), can_see=false
[18:20:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(965,646), corner_timer=-0.02
[18:20:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:10] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:20:10] [ENEMY] [Enemy2] Player reloading: true -> false
[18:20:10] [ENEMY] [Enemy5] Player reloading: true -> false
[18:20:10] [ENEMY] [Enemy6] Player reloading: true -> false
[18:20:10] [ENEMY] [Enemy7] Player reloading: true -> false
[18:20:10] [ENEMY] [Enemy8] Player reloading: true -> false
[18:20:10] [ENEMY] [Enemy9] Player reloading: true -> false
[18:20:10] [ENEMY] [Enemy10] Player reloading: true -> false
[18:20:10] [ENEMY] [Enemy2] Player ammo empty: true -> false
[18:20:10] [ENEMY] [Enemy5] Player ammo empty: true -> false
[18:20:10] [ENEMY] [Enemy6] Player ammo empty: true -> false
[18:20:10] [ENEMY] [Enemy7] Player ammo empty: true -> false
[18:20:10] [ENEMY] [Enemy8] Player ammo empty: true -> false
[18:20:10] [ENEMY] [Enemy9] Player ammo empty: true -> false
[18:20:10] [ENEMY] [Enemy10] Player ammo empty: true -> false
[18:20:10] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:20:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(965,646), corner_timer=0.30
[18:20:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:10] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:20:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(965,644), corner_timer=-0.02
[18:20:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(965,643), corner_timer=0.30
[18:20:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:11] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-24.7°, current=-24.2°, player=(962,587), corner_timer=0.15
[18:20:11] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:20:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(954,570), corner_timer=-0.02
[18:20:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:11] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-27.1°, current=45.0°, player=(951,566), corner_timer=0.15
[18:20:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(951,566), corner_timer=0.30
[18:20:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(937.8076, 551.076), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=6
[18:20:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(925.5132, 542.1074), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=6
[18:20:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:11] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-30.3°, current=18.9°, player=(921,539), corner_timer=0.15
[18:20:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(911.9451, 535.855), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=6
[18:20:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(872,533), corner_timer=-0.02
[18:20:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(868,534), corner_timer=0.30
[18:20:11] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/3 -> 2/3
[18:20:11] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:11] [INFO] [ImpactEffects] spawn_blood_effect called at (528.8204, 760.3537), dir=(-0.910285, 0.413982), lethal=false
[18:20:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:11] [INFO] [ImpactEffects] Blood effect spawned at (528.8204, 760.3537) (scale=0.9)
[18:20:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:11] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/3 -> 1/3
[18:20:11] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:11] [INFO] [ImpactEffects] spawn_blood_effect called at (537.732, 754.4918), dir=(-0.871843, 0.489785), lethal=false
[18:20:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:11] [INFO] [ImpactEffects] Blood effect spawned at (537.732, 754.4918) (scale=0.9)
[18:20:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.2059, 751.5886), source=ENEMY (Enemy2), range=1469, listeners=7
[18:20:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=4
[18:20:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(844.9064, 560.3497), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[18:20:11] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/3 -> 0/3
[18:20:11] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:11] [INFO] [ImpactEffects] spawn_blood_effect called at (547.4667, 750.7119), dir=(-0.863067, 0.505089), lethal=true
[18:20:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:11] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:11] [INFO] [ImpactEffects] Blood effect spawned at (547.4667, 750.7119) (scale=1.35)
[18:20:11] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[18:20:11] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:20:11] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 6)
[18:20:11] [INFO] [DeathAnim] Started - Angle: 149.7 deg, Index: 21
[18:20:11] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.863067, 0.505089)
[18:20:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(841.8508, 573.0706), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:20:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=5
[18:20:11] [INFO] [LastChance] Threat detected: Bullet
[18:20:11] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(840.7942, 587.78), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:20:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=5
[18:20:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(842,602), corner_timer=-0.02
[18:20:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(843,606), corner_timer=0.30
[18:20:11] [INFO] [BloodDecal] Blood puddle created at (474.9188, 833.7736) (added to group)
[18:20:11] [INFO] [BloodDecal] Blood puddle created at (453.8738, 816.9344) (added to group)
[18:20:11] [INFO] [BloodDecal] Blood puddle created at (468.7462, 804.6583) (added to group)
[18:20:11] [INFO] [BloodDecal] Blood puddle created at (436.7101, 812.5441) (added to group)
[18:20:11] [INFO] [BloodDecal] Blood puddle created at (509.2001, 789.0462) (added to group)
[18:20:11] [INFO] [BloodDecal] Blood puddle created at (495.96, 789.1451) (added to group)
[18:20:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:11] [INFO] [BloodDecal] Blood puddle created at (466.0244, 812.5308) (added to group)
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (447.5361, 795.324) (added to group)
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (432.6457, 813.493) (added to group)
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (432.007, 828.2252) (added to group)
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (437.328, 813.4444) (added to group)
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (491.0764, 784.4196) (added to group)
[18:20:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(603.2898, 721.6971), shooter_id=609130385528, bullet_pos=(1375.011, 227.0023)
[18:20:12] [INFO] [Bullet] Using shooter_position, distance=916.666259765625
[18:20:12] [INFO] [Bullet] Distance to wall: 916.666259765625 (62.4174912280606% of viewport)
[18:20:12] [INFO] [Bullet] Distance-based penetration chance: 73.8462602339293%
[18:20:12] [INFO] [Bullet] Starting wall penetration at (1375.011, 227.0023)
[18:20:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.2382831573486
[18:20:12] [INFO] [Bullet] Body exited signal received for penetrating body
[18:20:12] [INFO] [Bullet] Exiting penetration at (1414.299, 201.8178) after traveling 41.6666717529297 pixels through wall
[18:20:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (434.8354, 823.3419) (added to group)
[18:20:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(840.7942, 587.78), shooter_id=612385165626, bullet_pos=(524.3115, 798.1102)
[18:20:12] [INFO] [Bullet] Using shooter_position, distance=380.000061035156
[18:20:12] [INFO] [Bullet] Distance to wall: 380.000061035156 (25.8749029143811% of viewport)
[18:20:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:12] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (459.9364, 810.2374) (added to group)
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (380.7638, 844.0845) (added to group)
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (459.7159, 819.7292) (added to group)
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (423.0941, 849.4346) (added to group)
[18:20:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(895,680), corner_timer=-0.02
[18:20:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:12] [ENEMY] [Enemy2] Ragdoll activated
[18:20:12] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(895,683), corner_timer=0.30
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (393.8262, 856.3481) (added to group)
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (370.0074, 910.2525) (added to group)
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (441.8011, 852.9091) (added to group)
[18:20:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:12] [INFO] [BloodDecal] Blood puddle created at (413.5584, 873.4941) (added to group)
[18:20:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(844.9064, 560.3497), shooter_id=612385165626, bullet_pos=(50.47268, 1099.307)
[18:20:12] [INFO] [Bullet] Using shooter_position, distance=959.999877929688
[18:20:12] [INFO] [Bullet] Distance to wall: 959.999877929688 (65.3681569723491% of viewport)
[18:20:12] [INFO] [Bullet] Distance-based penetration chance: 70.4038168655927%
[18:20:12] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(841.8508, 573.0706), shooter_id=612385165626, bullet_pos=(55.37567, 1050.416)
[18:20:12] [INFO] [Bullet] Using shooter_position, distance=920.001037597656
[18:20:12] [INFO] [Bullet] Distance to wall: 920.001037597656 (62.6445623827594% of viewport)
[18:20:12] [INFO] [Bullet] Distance-based penetration chance: 73.5813438867807%
[18:20:12] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(895,673), corner_timer=-0.02
[18:20:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(895,669), corner_timer=0.30
[18:20:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(895,568), corner_timer=-0.02
[18:20:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(895,562), corner_timer=0.30
[18:20:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:13] [ENEMY] [Enemy2] Death animation completed
[18:20:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(943,477), corner_timer=-0.02
[18:20:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(947,474), corner_timer=0.30
[18:20:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1021,400), corner_timer=-0.02
[18:20:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1024,396), corner_timer=0.30
[18:20:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1115,361), corner_timer=-0.02
[18:20:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1120,361), corner_timer=0.30
[18:20:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1223,358), corner_timer=-0.02
[18:20:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1228,357), corner_timer=0.30
[18:20:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1305,291), corner_timer=-0.02
[18:20:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1309,287), corner_timer=0.30
[18:20:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:14] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[18:20:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,213), corner_timer=-0.02
[18:20:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,209), corner_timer=0.30
[18:20:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1369.885, 143.161), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:20:15] [ENEMY] [Enemy5] Heard gunshot at (1369.885, 143.161), source_type=0, intensity=0.02, distance=390
[18:20:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:20:15] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-147.9°, current=-56.3°, player=(1369,143), corner_timer=0.00
[18:20:15] [ENEMY] [Enemy6] Memory: medium confidence (0.63) - transitioning to PURSUING
[18:20:15] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[18:20:15] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-151.8°, current=-22.5°, player=(1370,139), corner_timer=0.00
[18:20:15] [ENEMY] [Enemy6] PURSUING corner check: angle 150.2°
[18:20:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1370,136), corner_timer=-0.02
[18:20:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1370.932, 133.3808), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:20:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:20:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1370,133), corner_timer=0.30
[18:20:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1369.359, 125.061), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:20:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:20:15] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-151.7°, current=-151.7°, player=(1369,125), corner_timer=0.25
[18:20:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1366.057, 119.0362), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:20:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:20:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1361.473, 115.7235), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:20:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:20:15] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-152.4°, current=-173.5°, player=(1357,115), corner_timer=0.00
[18:20:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1355.607, 115.1229), source=PLAYER (MiniUzi), range=1469, listeners=6
[18:20:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:20:15] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 2/2 -> 1/2
[18:20:15] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:15] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.067, 285.166), dir=(0.94003, 0.341092), lethal=false
[18:20:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:15] [INFO] [ImpactEffects] Blood effect spawned at (1684.067, 285.166) (scale=0.9)
[18:20:15] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[18:20:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1336,124), corner_timer=-0.02
[18:20:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1333,126), corner_timer=0.30
[18:20:15] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[18:20:15] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 1/2 -> 0/2
[18:20:15] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:15] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.067, 274.913), dir=(0.918527, 0.395359), lethal=true
[18:20:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:15] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:15] [INFO] [ImpactEffects] Blood effect spawned at (1684.067, 274.913) (scale=1.35)
[18:20:15] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[18:20:15] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:20:15] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 5)
[18:20:15] [INFO] [DeathAnim] Started - Angle: 23.3 deg, Index: 13
[18:20:15] [ENEMY] [Enemy5] Death animation started with hit direction: (0.918527, 0.395359)
[18:20:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1370.932, 133.3808), shooter_id=612385165626, bullet_pos=(1845.569, 290.6099)
[18:20:15] [INFO] [Bullet] Using shooter_position, distance=500.001129150391
[18:20:15] [INFO] [Bullet] Distance to wall: 500.001129150391 (34.0459963048541% of viewport)
[18:20:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:15] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1369.359, 125.061), shooter_id=612385165626, bullet_pos=(1844.713, 280.1013)
[18:20:15] [INFO] [Bullet] Using shooter_position, distance=499.998901367188
[18:20:15] [INFO] [Bullet] Distance to wall: 499.998901367188 (34.0458446109993% of viewport)
[18:20:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:15] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1355.607, 115.1229), shooter_id=612385165626, bullet_pos=(1656.109, 274.1778)
[18:20:15] [INFO] [Bullet] Using shooter_position, distance=340.000579833984
[18:20:15] [INFO] [Bullet] Distance to wall: 340.000579833984 (23.1512646868331% of viewport)
[18:20:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:15] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:15] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-160.5°, current=-164.5°, player=(1303,155), corner_timer=0.05
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1749.971, 304.6184) (added to group)
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1719.387, 334.0424) (added to group)
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1746.638, 333.816) (added to group)
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1780.813, 303.4642) (added to group)
[18:20:15] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[18:20:15] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=150.2°, current=-164.0°, player=(1273,186), corner_timer=0.05
[18:20:15] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1790.186, 391.7738) (added to group)
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1754.997, 306.854) (added to group)
[18:20:15] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[18:20:15] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:20:15] [INFO] [GrenadeBase] Grenade created at (1646.632, 260.8179) (frozen)
[18:20:15] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:20:15] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:20:15] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.935859, -0.352376), Speed: 734.2 (unfrozen)
[18:20:15] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[18:20:15] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1761.524, 295.5136) (added to group)
[18:20:15] [ENEMY] [Enemy6] GRENADE DANGER: Entering EVADING_GRENADE state from SUPPRESSED
[18:20:15] [ENEMY] [Enemy6] EVADING_GRENADE started: escaping to (1968.453, 398.4097)
[18:20:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1265,199), corner_timer=-0.02
[18:20:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1774.399, 319.4) (added to group)
[18:20:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1263,203), corner_timer=0.30
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1756.652, 305.3286) (added to group)
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1737.149, 307.2088) (added to group)
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1739.44, 350.3647) (added to group)
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1822.838, 405.7479) (added to group)
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1800.718, 406.5516) (added to group)
[18:20:15] [ENEMY] [Enemy6] EVADING_GRENADE: Escaped danger zone, returning to SUPPRESSED
[18:20:15] [ENEMY] [Enemy6] State: EVADING_GRENADE -> SUPPRESSED
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1743.76, 353.5912) (added to group)
[18:20:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:15] [INFO] [BloodDecal] Blood puddle created at (1767.404, 345.8883) (added to group)
[18:20:16] [ENEMY] [Enemy5] Ragdoll activated
[18:20:16] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1879.481, 359.9973) (added to group)
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1798.576, 396.5963) (added to group)
[18:20:16] [INFO] [BloodyFeet:Enemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1832.22, 463.3276) (added to group)
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1802.818, 393.5341) (added to group)
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1788.917, 401.3117) (added to group)
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1778.482, 411.1712) (added to group)
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1788.77, 363.6044) (added to group)
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1832.179, 465.0431) (added to group)
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1783.888, 366.747) (added to group)
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1767.677, 393.1446) (added to group)
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1781.335, 463.0676) (added to group)
[18:20:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1283,265), corner_timer=-0.02
[18:20:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1771.841, 402.7303) (added to group)
[18:20:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1287,266), corner_timer=0.30
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1883.672, 433.1938) (added to group)
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1879.104, 425.2608) (added to group)
[18:20:16] [INFO] [BloodDecal] Blood puddle created at (1880.361, 386.9805) (added to group)
[18:20:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1361.473, 115.7235), shooter_id=612385165626, bullet_pos=(2468.951, 386.0717)
[18:20:16] [INFO] [Bullet] Using shooter_position, distance=1139.99841308594
[18:20:16] [INFO] [Bullet] Distance to wall: 1139.99841308594 (77.6245882192586% of viewport)
[18:20:16] [INFO] [Bullet] Distance-based penetration chance: 56.1046470775317%
[18:20:16] [INFO] [Bullet] Penetration failed (distance roll)
[18:20:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,254), corner_timer=-0.02
[18:20:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,254), corner_timer=0.30
[18:20:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:16] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[18:20:16] [INFO] [FragGrenade] Impact detected! Body: WallTop (type: StaticBody2D), triggering explosion
[18:20:16] [INFO] [FragGrenade] Impact detected - exploding immediately!
[18:20:16] [INFO] [GrenadeBase] EXPLODED at (1135.559, 72.40304)!
[18:20:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1135.559, 72.40304), source=NEUTRAL (FragGrenade), range=2937, listeners=5
[18:20:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[18:20:16] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -8.1 degrees
[18:20:16] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 109.1 degrees
[18:20:16] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 163.5 degrees
[18:20:16] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 289.8 degrees
[18:20:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,311), corner_timer=-0.02
[18:20:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,316), corner_timer=0.30
[18:20:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:17] [ENEMY] [Enemy5] Death animation completed
[18:20:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,421), corner_timer=-0.02
[18:20:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,426), corner_timer=0.30
[18:20:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,496), corner_timer=-0.02
[18:20:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,496), corner_timer=0.30
[18:20:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,445), corner_timer=-0.02
[18:20:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,439), corner_timer=0.30
[18:20:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:18] [ENEMY] [Enemy6] State: SUPPRESSED -> IN_COVER
[18:20:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,335), corner_timer=-0.02
[18:20:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:18] [ENEMY] [Enemy6] State: IN_COVER -> PURSUING
[18:20:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,329), corner_timer=0.30
[18:20:18] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-175.4°, current=150.2°, player=(1347,324), corner_timer=0.05
[18:20:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,225), corner_timer=-0.02
[18:20:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,219), corner_timer=0.30
[18:20:18] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[18:20:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:18] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-157.4°, current=-157.9°, player=(1361,156), corner_timer=0.05
[18:20:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1373.522, 144.2219), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:20:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[18:20:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1380,139), corner_timer=-0.02
[18:20:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1384.551, 137.5917), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:20:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[18:20:18] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[18:20:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1384,137), corner_timer=0.30
[18:20:18] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-154.2°, current=-33.9°, player=(1392,134), corner_timer=0.05
[18:20:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1395.85, 133.8893), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:20:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[18:20:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1407.221, 133.1861), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:20:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[18:20:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1418.663, 135.482), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:20:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[18:20:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1430.178, 140.7771), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:20:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[18:20:19] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 4/4 -> 3/4
[18:20:19] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:19] [INFO] [ImpactEffects] spawn_blood_effect called at (1792.92, 311.2665), dir=(0.913393, 0.40708), lethal=false
[18:20:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:19] [INFO] [ImpactEffects] Blood effect spawned at (1792.92, 311.2665) (scale=0.9)
[18:20:19] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-156.0°, current=-156.0°, player=(1453,160), corner_timer=0.05
[18:20:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1456,164), corner_timer=-0.02
[18:20:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:19] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 3/4 -> 2/4
[18:20:19] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:19] [INFO] [ImpactEffects] spawn_blood_effect called at (1785.625, 303.4845), dir=(0.92087, 0.389869), lethal=false
[18:20:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:19] [INFO] [ImpactEffects] Blood effect spawned at (1785.625, 303.4845) (scale=0.9)
[18:20:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1460,168), corner_timer=0.30
[18:20:19] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[18:20:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1407.221, 133.1861), shooter_id=612385165626, bullet_pos=(1841.932, 283.6059)
[18:20:19] [INFO] [Bullet] Using shooter_position, distance=460.00048828125
[18:20:19] [INFO] [Bullet] Distance to wall: 460.00048828125 (31.3222791133817% of viewport)
[18:20:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:19] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1755.896, 284.6214), source=ENEMY (Enemy6), range=1469, listeners=5
[18:20:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[18:20:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1688.217, 277.5338), shooter_id=610338345152, bullet_pos=(1646.685, 274.1892)
[18:20:19] [INFO] [Bullet] Using shooter_position, distance=41.666675567627
[18:20:19] [INFO] [Bullet] Distance to wall: 41.666675567627 (2.83716055766006% of viewport)
[18:20:19] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:20:19] [INFO] [Bullet] Starting wall penetration at (1646.685, 274.1892)
[18:20:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:20:19] [INFO] [Bullet] Exiting penetration at (1600.169, 270.4434) after traveling 41.666675567627 pixels through wall
[18:20:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1418.663, 135.482), shooter_id=612385165626, bullet_pos=(1919.779, 274.3418)
[18:20:19] [INFO] [Bullet] Using shooter_position, distance=519.9990234375
[18:20:19] [INFO] [Bullet] Distance to wall: 519.9990234375 (35.4076896997484% of viewport)
[18:20:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:19] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1856.725, 354.8763) (added to group)
[18:20:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1766.52, 283.67), source=ENEMY (Enemy6), range=1469, listeners=5
[18:20:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1840.94, 353.0166) (added to group)
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1843.014, 329.374) (added to group)
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1859.51, 389.625) (added to group)
[18:20:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1696.205, 281.6387), shooter_id=610338345152, bullet_pos=(1654.862, 276.4483)
[18:20:19] [INFO] [Bullet] Using shooter_position, distance=41.6667060852051
[18:20:19] [INFO] [Bullet] Distance to wall: 41.6667060852051 (2.83716263565807% of viewport)
[18:20:19] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:20:19] [INFO] [Bullet] Starting wall penetration at (1654.862, 276.4483)
[18:20:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43.067756652832
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1874.556, 378.2705) (added to group)
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1836.637, 331.0258) (added to group)
[18:20:19] [INFO] [Bullet] Body exited signal received for penetrating body
[18:20:19] [INFO] [Bullet] Exiting penetration at (1608.559, 270.6351) after traveling 41.6666679382324 pixels through wall
[18:20:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:19] [INFO] [LastChance] Threat detected: Bullet
[18:20:19] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1777.144, 282.7185), source=ENEMY (Enemy6), range=1469, listeners=5
[18:20:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[18:20:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1476,265), corner_timer=-0.02
[18:20:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:19] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=150.2°, current=-110.8°, player=(1477,271), corner_timer=0.05
[18:20:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1477,271), corner_timer=0.30
[18:20:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1704.653, 284.9247), shooter_id=610338345152, bullet_pos=(1663.717, 277.159)
[18:20:19] [INFO] [Bullet] Using shooter_position, distance=41.6667060852051
[18:20:19] [INFO] [Bullet] Distance to wall: 41.6667060852051 (2.83716263565807% of viewport)
[18:20:19] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:20:19] [INFO] [Bullet] Starting wall penetration at (1663.717, 277.159)
[18:20:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.4479637145996
[18:20:19] [INFO] [Bullet] Body exited signal received for penetrating body
[18:20:19] [INFO] [Bullet] Exiting penetration at (1617.868, 268.4615) after traveling 41.6666717529297 pixels through wall
[18:20:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:19] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[18:20:19] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1951.665, 364.6557) (added to group)
[18:20:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1895.908, 414.0642) (added to group)
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1851.283, 437.7112) (added to group)
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1896.173, 369.2914) (added to group)
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1972.684, 501.5486) (added to group)
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1915.006, 408.8171) (added to group)
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1923.066, 534.7419) (added to group)
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1925.775, 557.1301) (added to group)
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1937.621, 489.4796) (added to group)
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1931.462, 493.4049) (added to group)
[18:20:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1523,317), corner_timer=-0.02
[18:20:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1895.008, 435.3262) (added to group)
[18:20:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1523,317), corner_timer=0.30
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1956.637, 557.6996) (added to group)
[18:20:19] [INFO] [BloodDecal] Blood puddle created at (1931.095, 429.1927) (added to group)
[18:20:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1430.178, 140.7771), shooter_id=612385165626, bullet_pos=(2462.236, 712.8413)
[18:20:20] [INFO] [Bullet] Using shooter_position, distance=1180.00036621094
[18:20:20] [INFO] [Bullet] Distance to wall: 1180.00036621094 (80.3483947646455% of viewport)
[18:20:20] [INFO] [Bullet] Distance-based penetration chance: 52.9268727745802%
[18:20:20] [INFO] [Bullet] Penetration failed (distance roll)
[18:20:20] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-179.6°, current=150.8°, player=(1523,279), corner_timer=0.05
[18:20:20] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=150.2°, current=129.8°, player=(1523,274), corner_timer=0.05
[18:20:20] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[18:20:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1523,252), corner_timer=-0.02
[18:20:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1523,247), corner_timer=0.30
[18:20:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1523.687, 204.809), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:20:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[18:20:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1521.456, 191.9814), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:20:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:20:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1517.14, 181.2539), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:20:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:20:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1511.763, 173.2888), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:20:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[18:20:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1507,169), corner_timer=-0.02
[18:20:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1505.47, 168.1807), source=PLAYER (MiniUzi), range=1469, listeners=5
[18:20:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[18:20:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1505,168), corner_timer=0.30
[18:20:20] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 2/4 -> 1/4
[18:20:20] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:20] [INFO] [ImpactEffects] spawn_blood_effect called at (1797.954, 298.9913), dir=(0.936278, 0.35126), lethal=false
[18:20:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:20] [INFO] [ImpactEffects] Wall found for blood splatter at (1840, 314.7654) (dist=44 px)
[18:20:20] [INFO] [BloodDecal] Blood puddle created at (1839, 314.7654) (added to group)
[18:20:20] [INFO] [ImpactEffects] Blood effect spawned at (1797.954, 298.9913) (scale=0.9)
[18:20:20] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-155.9°, current=-159.4°, player=(1503,167), corner_timer=0.05
[18:20:20] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 1/4 -> 0/4
[18:20:20] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:20] [INFO] [ImpactEffects] spawn_blood_effect called at (1797.954, 298.9913), dir=(0.947922, 0.318502), lethal=true
[18:20:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:20] [INFO] [ImpactEffects] Wall found for blood splatter at (1840, 313.1186) (dist=44 px)
[18:20:20] [INFO] [BloodDecal] Blood puddle created at (1839, 313.1186) (added to group)
[18:20:20] [INFO] [ImpactEffects] Blood effect spawned at (1797.954, 298.9913) (scale=1.35)
[18:20:20] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[18:20:20] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:20:20] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 4)
[18:20:20] [INFO] [DeathAnim] Started - Angle: 18.6 deg, Index: 13
[18:20:20] [ENEMY] [Enemy6] Death animation started with hit direction: (0.947922, 0.318502)
[18:20:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1517.14, 181.2539), shooter_id=612385165626, bullet_pos=(1842.427, 280.1894)
[18:20:20] [INFO] [Bullet] Using shooter_position, distance=339.999664306641
[18:20:20] [INFO] [Bullet] Distance to wall: 339.999664306641 (23.1512023468927% of viewport)
[18:20:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:20] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1511.763, 173.2888), shooter_id=612385165626, bullet_pos=(1847.881, 302.2245)
[18:20:20] [INFO] [Bullet] Using shooter_position, distance=359.999542236328
[18:20:20] [INFO] [Bullet] Distance to wall: 359.999542236328 (24.5130308116578% of viewport)
[18:20:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:20] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1461,199), corner_timer=-0.02
[18:20:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:20] [INFO] [BloodDecal] Blood puddle created at (1867.465, 358.246) (added to group)
[18:20:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1460,203), corner_timer=0.30
[18:20:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1505.47, 168.1807), shooter_id=612385165626, bullet_pos=(1931.822, 276.9196)
[18:20:20] [INFO] [Bullet] Using shooter_position, distance=440.000244140625
[18:20:20] [INFO] [Bullet] Distance to wall: 440.000244140625 (29.9604257126405% of viewport)
[18:20:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:20] [INFO] [BloodDecal] Blood puddle created at (1860.309, 340.3821) (added to group)
[18:20:20] [INFO] [BloodDecal] Blood puddle created at (1874.2, 377.9903) (added to group)
[18:20:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:20] [INFO] [BloodDecal] Blood puddle created at (1906.621, 436.2949) (added to group)
[18:20:20] [INFO] [BloodDecal] Blood puddle created at (1869.318, 388.8156) (added to group)
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1943.94, 390.2205) (added to group)
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1874.821, 435.6328) (added to group)
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1934.646, 418.3563) (added to group)
[18:20:21] [ENEMY] [Enemy6] Ragdoll activated
[18:20:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1907.175, 426.7079) (added to group)
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1987.296, 412.2072) (added to group)
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1889.733, 361.0803) (added to group)
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1886.641, 403.6094) (added to group)
[18:20:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1490,293), corner_timer=-0.02
[18:20:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1946.557, 545.423) (added to group)
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1949.588, 483.4714) (added to group)
[18:20:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1494,297), corner_timer=0.30
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1905.042, 412.2217) (added to group)
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1906.229, 482.3664) (added to group)
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1928.642, 468.0352) (added to group)
[18:20:21] [INFO] [BloodDecal] Blood puddle created at (1933.078, 382.9871) (added to group)
[18:20:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1513,393), corner_timer=-0.02
[18:20:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1513,399), corner_timer=0.30
[18:20:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1552,487), corner_timer=-0.02
[18:20:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1556,491), corner_timer=0.30
[18:20:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1505.47, 168.1807), shooter_id=612385165626, bullet_pos=(2367.459, 63.73114)
[18:20:21] [INFO] [Bullet] Using shooter_position, distance=868.293823242188
[18:20:21] [INFO] [Bullet] Distance to wall: 868.293823242188 (59.1237230761123% of viewport)
[18:20:21] [INFO] [Bullet] Distance-based penetration chance: 77.6889897445356%
[18:20:21] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:21] [ENEMY] [Enemy6] Death animation completed
[18:20:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1627,565), corner_timer=-0.02
[18:20:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1630,568), corner_timer=0.30
[18:20:22] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:20:22] [ENEMY] [Enemy6] Player reloading: false -> true
[18:20:22] [ENEMY] [Enemy7] Player reloading: false -> true
[18:20:22] [ENEMY] [Enemy8] Player reloading: false -> true
[18:20:22] [ENEMY] [Enemy9] Player reloading: false -> true
[18:20:22] [ENEMY] [Enemy10] Player reloading: false -> true
[18:20:22] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1643.662, 583.9337), source=PLAYER (Player), range=900, listeners=4
[18:20:22] [ENEMY] [Enemy7] Heard player RELOAD at (1643.662, 583.9337), intensity=0.02, distance=317
[18:20:22] [ENEMY] [Enemy7] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[18:20:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[18:20:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-84.1°, current=89.4°, player=(1643,583), corner_timer=0.20
[18:20:22] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=true (dist=317), can_see=false
[18:20:22] [ENEMY] [Enemy7] Pursuing vulnerability sound at (1643.662, 583.9337), distance=317
[18:20:22] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=903), can_see=false
[18:20:22] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1068), can_see=false
[18:20:22] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1127), can_see=false
[18:20:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:22] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:20:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:22] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:20:22] [ENEMY] [Enemy7] Player reloading: true -> false
[18:20:22] [ENEMY] [Enemy8] Player reloading: true -> false
[18:20:22] [ENEMY] [Enemy9] Player reloading: true -> false
[18:20:22] [ENEMY] [Enemy10] Player reloading: true -> false
[18:20:22] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:20:22] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:20:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:23] [ENEMY] [Enemy7] Pursuing vulnerability sound at (1643.662, 583.9337), distance=220
[18:20:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:23] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[18:20:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:23] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-173.7°, current=-167.6°, player=(1641,583), corner_timer=0.20
[18:20:23] [ENEMY] [Enemy7] State: PURSUING -> COMBAT
[18:20:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1636.171, 583.9337), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:20:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:20:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1626.171, 583.9337), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:20:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:20:23] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-177.4°, current=125.5°, player=(1626,583), corner_timer=0.20
[18:20:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1614.199, 582.934), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:20:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:20:23] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 4/4 -> 3/4
[18:20:23] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1800.066, 591.7559), dir=(0.999729, 0.023267), lethal=false
[18:20:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:23] [INFO] [ImpactEffects] Blood effect spawned at (1800.066, 591.7559) (scale=0.9)
[18:20:23] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-177.3°, current=-178.7°, player=(1614,582), corner_timer=0.20
[18:20:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1602.313, 578.9357), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:20:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:20:23] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 3/4 -> 2/4
[18:20:23] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1800.066, 591.7559), dir=(0.999294, -0.037564), lethal=false
[18:20:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:23] [INFO] [ImpactEffects] Blood effect spawned at (1800.066, 591.7559) (scale=0.9)
[18:20:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1590.512, 571.9385), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:20:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:20:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:23] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 2/4 -> 1/4
[18:20:23] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1800.066, 591.7559), dir=(0.997901, -0.064753), lethal=false
[18:20:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:23] [INFO] [ImpactEffects] Blood effect spawned at (1800.066, 591.7559) (scale=0.9)
[18:20:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1578.797, 561.9426), source=PLAYER (MiniUzi), range=1469, listeners=4
[18:20:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:20:24] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[18:20:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1590.512, 571.9385), shooter_id=612385165626, bullet_pos=(1707.859, 597.0364)
[18:20:24] [INFO] [Bullet] Using shooter_position, distance=120.000373840332
[18:20:24] [INFO] [Bullet] Distance to wall: 120.000373840332 (8.17104611601829% of viewport)
[18:20:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:24] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:24] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 1/4 -> 0/4
[18:20:24] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1800.063, 594.4225), dir=(0.999738, 0.022908), lethal=true
[18:20:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:24] [INFO] [ImpactEffects] Blood effect spawned at (1800.063, 594.4225) (scale=1.35)
[18:20:24] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[18:20:24] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:20:24] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[18:20:24] [INFO] [DeathAnim] Started - Angle: 1.3 deg, Index: 12
[18:20:24] [ENEMY] [Enemy7] Death animation started with hit direction: (0.999738, 0.022908)
[18:20:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1567.13, 550.2753), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[18:20:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1555.463, 538.608), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[18:20:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1578.797, 561.9426), shooter_id=612385165626, bullet_pos=(1734.738, 597.757)
[18:20:24] [INFO] [Bullet] Using shooter_position, distance=160.000289916992
[18:20:24] [INFO] [Bullet] Distance to wall: 160.000289916992 (10.894713955038% of viewport)
[18:20:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:24] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1841.958, 592.8549) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1860.014, 589.0972) (added to group)
[18:20:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1543.796, 526.9407), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1876.916, 642.1762) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1874.137, 604.3691) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1851.155, 595.6176) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1878.594, 589.3101) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1877.549, 644.5821) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1872.673, 608.1463) (added to group)
[18:20:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1555.463, 538.608), shooter_id=612385165626, bullet_pos=(1723.539, 603.0345)
[18:20:24] [INFO] [Bullet] Using shooter_position, distance=180.000381469727
[18:20:24] [INFO] [Bullet] Distance to wall: 180.000381469727 (12.2565569657891% of viewport)
[18:20:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:24] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1906.898, 631.0211) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1893.408, 657.7548) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1864.622, 628.6176) (added to group)
[18:20:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1543.796, 526.9407), shooter_id=612385165626, bullet_pos=(1708.808, 598.8495)
[18:20:24] [INFO] [Bullet] Using shooter_position, distance=179.999969482422
[18:20:24] [INFO] [Bullet] Distance to wall: 179.999969482422 (12.256528912816% of viewport)
[18:20:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:24] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1874.465, 578.2895) (added to group)
[18:20:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1877.409, 649.3963) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1885.491, 598.9429) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1942.629, 596.0831) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1870.297, 612.2526) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1917.755, 608.8375) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1939.472, 664.6407) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1879.473, 630.9904) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1940.681, 638.6292) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1906.368, 584.476) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1892.08, 645.1188) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1924.265, 649.7891) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1894.541, 664.7784) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1874.859, 663.3433) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1871.718, 607.0351) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1931.698, 671.7496) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1880.112, 620.5086) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1916.875, 632.0853) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1879.429, 634.3027) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1996.713, 740.2877) (added to group)
[18:20:24] [ENEMY] [Enemy7] Ragdoll activated
[18:20:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1934.456, 581.5499) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1912.803, 629.4995) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (2017.462, 641.1832) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1883.492, 644.7144) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1951.911, 689.9568) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1968.314, 716.3762) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1910.099, 611.6004) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1929.413, 621.2068) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1948.145, 626.8713) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1948.267, 591.5661) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1980.672, 707.8311) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1912.651, 719.8737) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1967.715, 673.2704) (added to group)
[18:20:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1928.526, 731.017) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1919.078, 690.2595) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1959.328, 679.8563) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1989.264, 705.4457) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1913.648, 667.7924) (added to group)
[18:20:24] [INFO] [BloodDecal] Blood puddle created at (1992.156, 764.2765) (added to group)
[18:20:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1567.13, 550.2753), shooter_id=612385165626, bullet_pos=(2463.999, 755.2762)
[18:20:24] [INFO] [Bullet] Using shooter_position, distance=919.998962402344
[18:20:24] [INFO] [Bullet] Distance to wall: 919.998962402344 (62.6444210788946% of viewport)
[18:20:24] [INFO] [Bullet] Distance-based penetration chance: 73.5815087412897%
[18:20:24] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:25] [ENEMY] [Enemy7] Death animation completed
[18:20:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:25] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:20:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:27] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[18:20:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.2°, current=0.6°, player=(1891,1005), corner_timer=0.30
[18:20:27] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[18:20:27] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.4°, current=-134.7°, player=(1891,1016), corner_timer=0.30
[18:20:27] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[18:20:29] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:20:29] [ENEMY] [Enemy8] Memory: medium confidence (0.69) - transitioning to PURSUING
[18:20:29] [ENEMY] [Enemy8] State: IDLE -> PURSUING
[18:20:29] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-58.8°, current=123.7°, player=(2068,1171), corner_timer=0.00
[18:20:29] [ENEMY] [Enemy8] PURSUING corner check: angle 180.0°
[18:20:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2139.953, 1171.998), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:29] [ENEMY] [Enemy9] Heard gunshot at (2139.953, 1171.998), source_type=0, intensity=0.02, distance=380
[18:20:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:29] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-41.7°, current=8.0°, player=(2139,1171), corner_timer=0.12
[18:20:29] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-84.0°, current=-180.0°, player=(2139,1171), corner_timer=0.00
[18:20:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2156.453, 1171.998), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:29] [ENEMY] [Enemy8] State: PURSUING -> COMBAT
[18:20:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2172.571, 1172.922), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:29] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-34.4°, current=45.8°, player=(2172,1172), corner_timer=0.05
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2218.004, 1196.019), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:30] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-25.3°, current=22.9°, player=(2221,1199), corner_timer=0.05
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2229.672, 1207.686), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2241.339, 1219.353), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:30] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[18:20:30] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-64.3°, current=-175.6°, player=(2249,1227), corner_timer=0.00
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2264.674, 1242.687), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2241.339, 1219.353), shooter_id=612385165626, bullet_pos=(2101.431, 1214.252)
[18:20:30] [INFO] [Bullet] Using shooter_position, distance=140.000686645508
[18:20:30] [INFO] [Bullet] Distance to wall: 140.000686645508 (9.53290419225501% of viewport)
[18:20:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:30] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2276.342, 1254.354), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2046.392, 1299.042), source=ENEMY (Enemy8), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:20:30] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[18:20:30] [INFO] [LastChance] Threat detected: Bullet
[18:20:30] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:30] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 3/3 -> 2/3
[18:20:30] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:30] [INFO] [ImpactEffects] spawn_blood_effect called at (2045.666, 1295.38), dir=(-0.989638, 0.143583), lethal=false
[18:20:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:30] [INFO] [ImpactEffects] Blood effect spawned at (2045.666, 1295.38) (scale=0.9)
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2311.344, 1289.356), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2276.342, 1254.354), shooter_id=612385165626, bullet_pos=(2060.426, 1212.154)
[18:20:30] [INFO] [Bullet] Using shooter_position, distance=220.000701904297
[18:20:30] [INFO] [Bullet] Distance to wall: 220.000701904297 (14.9802523382825% of viewport)
[18:20:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:30] [INFO] [Player] Spawning blood effect at (2315.2332, 1293.2448), dir=(1, 0), lethal=False (C#)
[18:20:30] [INFO] [ImpactEffects] spawn_blood_effect called at (2315.233, 1293.245), dir=(1, 0), lethal=false
[18:20:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:30] [INFO] [ImpactEffects] Blood effect spawned at (2315.233, 1293.245) (scale=1)
[18:20:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[18:20:30] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2042.759, 1280.733), source=ENEMY (Enemy8), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2323.011, 1301.023), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2218.004, 1196.019), shooter_id=612385165626, bullet_pos=(1692.747, 1390.197)
[18:20:30] [INFO] [Bullet] Using shooter_position, distance=560.00048828125
[18:20:30] [INFO] [Bullet] Distance to wall: 560.00048828125 (38.1314629971672% of viewport)
[18:20:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:30] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2139.953, 1171.998), shooter_id=612385165626, bullet_pos=(1916.826, 2064.534)
[18:20:30] [INFO] [Bullet] Using shooter_position, distance=920.003112792969
[18:20:30] [INFO] [Bullet] Distance to wall: 920.003112792969 (62.6447036866241% of viewport)
[18:20:30] [INFO] [Bullet] Distance-based penetration chance: 73.5811790322718%
[18:20:30] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:30] [INFO] [LastChance] Threat detected: Bullet
[18:20:30] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2334.679, 1312.69), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2156.453, 1171.998), shooter_id=612385165626, bullet_pos=(1941.763, 2066.6)
[18:20:30] [INFO] [Bullet] Using shooter_position, distance=920.002624511719
[18:20:30] [INFO] [Bullet] Distance to wall: 920.002624511719 (62.644670438656% of viewport)
[18:20:30] [INFO] [Bullet] Distance-based penetration chance: 73.5812178215681%
[18:20:30] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:30] [ENEMY] [Enemy9] State: RETREATING -> IN_COVER
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2039.422, 1256.887), source=ENEMY (Enemy8), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:20:30] [ENEMY] [Enemy9] State: IN_COVER -> SUPPRESSED
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2350.236, 1328.246), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2350.236, 1328.246), shooter_id=612385165626, bullet_pos=(2317.896, 1351.786)
[18:20:30] [INFO] [Bullet] Using shooter_position, distance=39.9998435974121
[18:20:30] [INFO] [Bullet] Distance to wall: 39.9998435974121 (2.72366290377441% of viewport)
[18:20:30] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:20:30] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2109.57, 1292.509), shooter_id=610942324964, bullet_pos=(2484.569, 1293.834)
[18:20:30] [INFO] [Bullet] Using shooter_position, distance=375.000885009766
[18:20:30] [INFO] [Bullet] Distance to wall: 375.000885009766 (25.5344998261381% of viewport)
[18:20:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2172.571, 1172.922), shooter_id=612385165626, bullet_pos=(1905.778, 2074.27)
[18:20:30] [INFO] [Bullet] Using shooter_position, distance=940.003173828125
[18:20:30] [INFO] [Bullet] Distance to wall: 940.003173828125 (64.0065446193773% of viewport)
[18:20:30] [INFO] [Bullet] Distance-based penetration chance: 71.9923646107265%
[18:20:30] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2361.903, 1339.913), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:30] [INFO] [LastChance] Threat detected: @Area2D@2350
[18:20:30] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2361.903, 1339.913), shooter_id=612385165626, bullet_pos=(2324.971, 1355.276)
[18:20:30] [INFO] [Bullet] Using shooter_position, distance=39.9999694824219
[18:20:30] [INFO] [Bullet] Distance to wall: 39.9999694824219 (2.72367147551621% of viewport)
[18:20:30] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:20:30] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:30] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 2/3 -> 1/3
[18:20:30] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:30] [INFO] [ImpactEffects] spawn_blood_effect called at (2052.758, 1259.282), dir=(-0.997547, -0.069993), lethal=false
[18:20:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:30] [INFO] [ImpactEffects] Blood effect spawned at (2052.758, 1259.282) (scale=0.9)
[18:20:30] [INFO] [BloodDecal] Blood puddle created at (1983.518, 1348.717) (added to group)
[18:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2055.615, 1261.685), source=ENEMY (Enemy8), range=1469, listeners=3
[18:20:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:20:30] [INFO] [BloodDecal] Blood puddle created at (2364.97, 1308.964) (added to group)
[18:20:30] [INFO] [Player] Spawning blood effect at (2377.4597, 1355.4694), dir=(1, 0), lethal=False (C#)
[18:20:30] [INFO] [ImpactEffects] spawn_blood_effect called at (2377.46, 1355.469), dir=(1, 0), lethal=false
[18:20:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:30] [INFO] [ImpactEffects] Wall found for blood splatter at (2464, 1355.469) (dist=86 px)
[18:20:30] [INFO] [BloodDecal] Blood puddle created at (2463, 1355.469) (added to group)
[18:20:30] [INFO] [ImpactEffects] Blood effect spawned at (2377.46, 1355.469) (scale=1)
[18:20:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:20:30] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:20:30] [INFO] [LastChance] Threat detected: @Area2D@2367
[18:20:30] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2119.291, 1287.755), shooter_id=610942324964, bullet_pos=(2318.534, 1348.623)
[18:20:30] [INFO] [Bullet] Using shooter_position, distance=208.333251953125
[18:20:30] [INFO] [Bullet] Distance to wall: 208.333251953125 (14.1857942165585% of viewport)
[18:20:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:30] [INFO] [Bullet] Starting wall penetration at (2318.534, 1348.623)
[18:20:30] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:20:30] [INFO] [Bullet] Exiting penetration at (2363.165, 1362.257) after traveling 41.6666679382324 pixels through wall
[18:20:30] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2334.679, 1312.69), shooter_id=612385165626, bullet_pos=(1984.978, 1461.378)
[18:20:30] [INFO] [Bullet] Using shooter_position, distance=379.998260498047
[18:20:30] [INFO] [Bullet] Distance to wall: 379.998260498047 (25.8747803124984% of viewport)
[18:20:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:30] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:30] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[18:20:30] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=180.0°, current=17.9°, player=(2402,1388), corner_timer=0.05
[18:20:30] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[18:20:30] [INFO] [BloodDecal] Blood puddle created at (2444.324, 1380.287) (added to group)
[18:20:30] [INFO] [BloodDecal] Blood puddle created at (1957.292, 1317.416) (added to group)
[18:20:30] [INFO] [BloodDecal] Blood puddle created at (2411.174, 1318.698) (added to group)
[18:20:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2311.344, 1289.356), shooter_id=612385165626, bullet_pos=(1697.063, 1373.372)
[18:20:31] [INFO] [Bullet] Using shooter_position, distance=619.999450683594
[18:20:31] [INFO] [Bullet] Distance to wall: 619.999450683594 (42.2169026755061% of viewport)
[18:20:31] [INFO] [Bullet] Distance-based penetration chance: 97.4136135452428%
[18:20:31] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1949.1, 1389.598) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1864.407, 1423.973) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (2417.301, 1380.112) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (2394.241, 1390.455) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (2454.203, 1349.176) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1954.617, 1372.887) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1976.867, 1293.002) (added to group)
[18:20:31] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1851.943, 1440.073) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1982.982, 1249.924) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1857.343, 1364.446) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1956.562, 1233.182) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1976.978, 1309.512) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1906.231, 1388.99) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1928.561, 1449.846) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1862.428, 1427.603) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1991.779, 1281.052) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (2433.661, 1409.602) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (2415.645, 1413.321) (added to group)
[18:20:31] [ENEMY] [Enemy9] State: SUPPRESSED -> SEEKING_COVER
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (2446.265, 1353.422) (added to group)
[18:20:31] [ENEMY] [Enemy10] PURSUING corner check: angle 97.7°
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1914.671, 1355.148) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1936.168, 1336.338) (added to group)
[18:20:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2276.342, 1254.354), shooter_id=612385165626, bullet_pos=(1700.361, 1336.71)
[18:20:31] [INFO] [Bullet] Using shooter_position, distance=581.838439941406
[18:20:31] [INFO] [Bullet] Distance to wall: 581.838439941406 (39.6184492821594% of viewport)
[18:20:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:31] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1892.8, 1253.701) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1835.482, 1326.067) (added to group)
[18:20:31] [INFO] [BloodDecal] Blood puddle created at (1898.205, 1414.947) (added to group)
[18:20:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2229.672, 1207.686), shooter_id=612385165626, bullet_pos=(683.2028, 1412.712)
[18:20:31] [INFO] [Bullet] Using shooter_position, distance=1560.00061035156
[18:20:31] [INFO] [Bullet] Distance to wall: 1560.00061035156 (106.223310147015% of viewport)
[18:20:31] [INFO] [Bullet] Distance-based penetration chance: 28.7553379705971%
[18:20:31] [INFO] [Bullet] Penetration failed (distance roll)
[18:20:31] [ENEMY] [Enemy9] State: SEEKING_COVER -> IN_COVER
[18:20:31] [ENEMY] [Enemy9] State: IN_COVER -> SUPPRESSED
[18:20:31] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[18:20:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2331.512, 1329.724), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2332.509, 1329.416), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2336.505, 1329.168), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2343.5, 1328.98), source=PLAYER (MiniUzi), range=1469, listeners=3
[18:20:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:20:32] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 1/3 -> 0/3
[18:20:32] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:32] [INFO] [ImpactEffects] spawn_blood_effect called at (2103.636, 1416.091), dir=(-0.955403, 0.295305), lethal=true
[18:20:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:32] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:32] [INFO] [ImpactEffects] Blood effect spawned at (2103.636, 1416.091) (scale=1.35)
[18:20:32] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[18:20:32] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:20:32] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 2)
[18:20:32] [INFO] [DeathAnim] Started - Angle: 162.8 deg, Index: 22
[18:20:32] [ENEMY] [Enemy8] Death animation started with hit direction: (-0.955403, 0.295305)
[18:20:32] [INFO] [BloodDecal] Blood puddle created at (2048.998, 1484.933) (added to group)
[18:20:32] [INFO] [BloodDecal] Blood puddle created at (2040.851, 1466.801) (added to group)
[18:20:32] [INFO] [BloodDecal] Blood puddle created at (2054.495, 1465.001) (added to group)
[18:20:32] [INFO] [BloodDecal] Blood puddle created at (2034.193, 1443.561) (added to group)
[18:20:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2332.509, 1329.416), shooter_id=612385165626, bullet_pos=(1701.98, 1524.443)
[18:20:32] [INFO] [Bullet] Using shooter_position, distance=660.001647949219
[18:20:32] [INFO] [Bullet] Distance to wall: 660.001647949219 (44.9407258448772% of viewport)
[18:20:32] [INFO] [Bullet] Distance-based penetration chance: 94.2358198476433%
[18:20:32] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2336.505, 1329.168), shooter_id=612385165626, bullet_pos=(1702.936, 1514.072)
[18:20:32] [INFO] [Bullet] Using shooter_position, distance=659.998718261719
[18:20:32] [INFO] [Bullet] Distance to wall: 659.998718261719 (44.9405263570681% of viewport)
[18:20:32] [INFO] [Bullet] Distance-based penetration chance: 94.2360525834206%
[18:20:32] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:32] [INFO] [BloodDecal] Blood puddle created at (1988.053, 1457.188) (added to group)
[18:20:32] [ENEMY] [Enemy8] Ragdoll activated
[18:20:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2343.5, 1328.98), shooter_id=612385165626, bullet_pos=(1689.698, 1515.905)
[18:20:32] [INFO] [Bullet] Using shooter_position, distance=679.999328613281
[18:20:32] [INFO] [Bullet] Distance to wall: 679.999328613281 (46.3024046937854% of viewport)
[18:20:32] [INFO] [Bullet] Distance-based penetration chance: 92.647194523917%
[18:20:32] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:32] [ENEMY] [Enemy10] Warning: No valid flank position (both sides behind walls)
[18:20:32] [ENEMY] [Enemy10] FLANKING started: target=(2330.712, 1198.79), side=right, pos=(1446.005, 1424.892)
[18:20:32] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[18:20:33] [ENEMY] [Enemy10] FLANKING corner check: angle 156.9°
[18:20:33] [INFO] [BloodyFeet:Enemy10] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:20:33] [ENEMY] [Enemy10] FLANKING corner check: angle -135.7°
[18:20:33] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=3.4°, current=3.3°, player=(2351,1336), corner_timer=0.18
[18:20:33] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[18:20:33] [ENEMY] [Enemy9] State: SUPPRESSED -> SEEKING_COVER
[18:20:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2289.999, 1284.536), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:20:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:20:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2275.461, 1280.28), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:20:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:20:33] [ENEMY] [Enemy8] Death animation completed
[18:20:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2261.298, 1278.95), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:20:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2230.451, 1287.303), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2218.174, 1295.794), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[18:20:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2289.999, 1284.536), shooter_id=612385165626, bullet_pos=(2028.936, 1502.357)
[18:20:34] [INFO] [Bullet] Using shooter_position, distance=340.000244140625
[18:20:34] [INFO] [Bullet] Distance to wall: 340.000244140625 (23.1512418288549% of viewport)
[18:20:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:34] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2275.461, 1280.28), shooter_id=612385165626, bullet_pos=(2038.395, 1495.219)
[18:20:34] [INFO] [Bullet] Using shooter_position, distance=319.999145507813
[18:20:34] [INFO] [Bullet] Distance to wall: 319.999145507813 (21.7893302441694% of viewport)
[18:20:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:34] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1717.575, 1266.331), source=ENEMY (Enemy10), range=1469, listeners=2
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[18:20:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2261.298, 1278.95), shooter_id=612385165626, bullet_pos=(2041.825, 1511.828)
[18:20:34] [INFO] [Bullet] Using shooter_position, distance=320.001220703125
[18:20:34] [INFO] [Bullet] Distance to wall: 320.001220703125 (21.7894715480342% of viewport)
[18:20:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:34] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2194.747, 1318.647), source=PLAYER (MiniUzi), range=1469, listeners=2
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [ENEMY] [Enemy8] Player ammo empty: false -> true
[18:20:34] [ENEMY] [Enemy9] Player ammo empty: false -> true
[18:20:34] [ENEMY] [Enemy10] Player ammo empty: false -> true
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2190.857, 1322.536), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2190.857, 1322.536), intensity=0.19, distance=116
[18:20:34] [ENEMY] [Enemy9] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2190.857, 1322.536), intensity=0.01, distance=450
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [ENEMY] [Enemy9] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-112.5°, current=76.7°, player=(2190,1322), corner_timer=0.00
[18:20:34] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=116), can_see=false
[18:20:34] [ENEMY] [Enemy9] Pursuing vulnerability sound at (2190.857, 1322.536), distance=116
[18:20:34] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=450), can_see=true
[18:20:34] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) - pursuing to attack (dist=450)
[18:20:34] [ENEMY] [Enemy10] Pursuing vulnerability sound at (2190.857, 1322.536), distance=450
[18:20:34] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2186.968, 1326.425), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2186.968, 1326.425), intensity=0.21, distance=108
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2186.968, 1326.425), intensity=0.01, distance=441
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2183.079, 1330.314), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2183.079, 1330.314), intensity=0.24, distance=101
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2183.079, 1330.314), intensity=0.01, distance=433
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [LastChance] Threat detected: Bullet
[18:20:34] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2179.19, 1334.203), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2179.19, 1334.203), intensity=0.28, distance=94
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2179.19, 1334.203), intensity=0.01, distance=424
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 3/3 -> 2/3
[18:20:34] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2228.251, 1414.831), dir=(0.108803, 0.994063), lethal=false
[18:20:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:34] [INFO] [ImpactEffects] Blood effect spawned at (2228.251, 1414.831) (scale=0.9)
[18:20:34] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-121.3°, current=-96.2°, player=(2179,1334), corner_timer=0.00
[18:20:34] [ENEMY] [Enemy9] Player empty ammo - priority attack triggered
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2228.251, 1414.831), source=ENEMY (Enemy9), range=1469, listeners=2
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2175.301, 1338.092), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2175.301, 1338.092), intensity=0.32, distance=88
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2175.301, 1338.092), intensity=0.01, distance=415
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [LastChance] Threat detected: @Area2D@2465
[18:20:34] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:34] [INFO] [Player] Spawning blood effect at (2171.4116, 1341.9814), dir=(1, 0), lethal=False (C#)
[18:20:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2171.412, 1341.981), dir=(1, 0), lethal=false
[18:20:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:34] [INFO] [ImpactEffects] Blood effect spawned at (2171.412, 1341.981) (scale=1)
[18:20:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:20:34] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[18:20:34] [INFO] [PenultimateHit] Starting penultimate hit effect:
[18:20:34] [INFO] [PenultimateHit]   - Time scale: 0.10
[18:20:34] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[18:20:34] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[18:20:34] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[18:20:34] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[18:20:34] [INFO] [PenultimateHit] Applying saturation to 3 enemies
[18:20:34] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[18:20:34] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:20:34] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1775.785, 1273.412), source=ENEMY (Enemy10), range=1469, listeners=2
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2166.356, 1347.037), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2166.356, 1347.037), intensity=0.45, distance=74
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2166.356, 1347.037), intensity=0.02, distance=396
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2165.967, 1347.426), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2165.967, 1347.426), intensity=0.46, distance=74
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2165.967, 1347.426), intensity=0.02, distance=395
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2165.578, 1347.815), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2165.578, 1347.815), intensity=0.46, distance=73
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2165.578, 1347.815), intensity=0.02, distance=394
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2165.189, 1348.204), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2165.189, 1348.204), intensity=0.47, distance=73
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2165.189, 1348.204), intensity=0.02, distance=393
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2164.8, 1348.593), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2164.8, 1348.593), intensity=0.48, distance=72
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2164.8, 1348.593), intensity=0.02, distance=392
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2164.411, 1348.982), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2164.411, 1348.982), intensity=0.48, distance=72
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2164.411, 1348.982), intensity=0.02, distance=392
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2164.025, 1349.372), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2164.025, 1349.372), intensity=0.49, distance=71
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2164.025, 1349.372), intensity=0.02, distance=391
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2163.643, 1349.763), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2163.643, 1349.763), intensity=0.50, distance=71
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2163.643, 1349.763), intensity=0.02, distance=390
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2163.263, 1350.156), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2163.263, 1350.156), intensity=0.51, distance=70
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2163.263, 1350.156), intensity=0.02, distance=389
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2162.886, 1350.55), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2162.886, 1350.55), intensity=0.51, distance=70
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2162.886, 1350.55), intensity=0.02, distance=388
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2162.513, 1350.945), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2162.513, 1350.945), intensity=0.52, distance=69
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2162.513, 1350.945), intensity=0.02, distance=387
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2162.142, 1351.342), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2162.142, 1351.342), intensity=0.53, distance=69
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2162.142, 1351.342), intensity=0.02, distance=387
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2161.775, 1351.74), source=PLAYER (Player), range=600, listeners=2
[18:20:34] [ENEMY] [Enemy9] Heard player EMPTY_CLICK at (2161.775, 1351.74), intensity=0.54, distance=68
[18:20:34] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (2161.775, 1351.74), intensity=0.02, distance=386
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[18:20:34] [ENEMY] [Enemy9] Player empty ammo - priority attack triggered
[18:20:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2202.664, 1388.447), source=ENEMY (Enemy9), range=1469, listeners=2
[18:20:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:20:34] [INFO] [LastChance] Threat detected: @Area2D@2472
[18:20:34] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:34] [INFO] [Player] Spawning blood effect at (2153.3047, 1362.5314), dir=(1, 0), lethal=True (C#)
[18:20:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2153.305, 1362.531), dir=(1, 0), lethal=true
[18:20:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:34] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:34] [INFO] [ImpactEffects] Blood effect spawned at (2153.305, 1362.531) (scale=1.5)
[18:20:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[18:20:34] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[18:20:34] [INFO] [PenultimateHit] Player died - ending penultimate effect
[18:20:34] [INFO] [PenultimateHit] Ending penultimate hit effect
[18:20:34] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[18:20:34] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[18:20:34] [INFO] [LastChance] Player died
[18:20:35] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[18:20:35] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[18:20:35] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[18:20:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1784.343, 1279.133), shooter_id=611546304776, bullet_pos=(2499.02, 1332.45)
[18:20:35] [INFO] [Bullet] Using shooter_position, distance=716.6630859375
[18:20:35] [INFO] [Bullet] Distance to wall: 716.6630859375 (48.7989073486964% of viewport)
[18:20:35] [INFO] [Bullet] Distance-based penetration chance: 89.7346080931876%
[18:20:35] [INFO] [Bullet] Starting wall penetration at (2499.02, 1332.45)
[18:20:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49.6953430175781
[18:20:35] [INFO] [Bullet] Body exited signal received for penetrating body
[18:20:35] [INFO] [Bullet] Exiting penetration at (2545.558, 1335.922) after traveling 41.6666679382324 pixels through wall
[18:20:35] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:35] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=9.8°, current=114.9°, player=(2144,1381), corner_timer=0.00
[18:20:35] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=45), can_see=false
[18:20:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1840.839, 1293.378), shooter_id=611546304776, bullet_pos=(2295.624, 1377.496)
[18:20:35] [INFO] [Bullet] Using shooter_position, distance=462.499694824219
[18:20:35] [INFO] [Bullet] Distance to wall: 462.499694824219 (31.492454682528% of viewport)
[18:20:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:35] [INFO] [Bullet] Starting wall penetration at (2295.624, 1377.496)
[18:20:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.8094902038574
[18:20:35] [INFO] [Bullet] Body exited signal received for penetrating body
[18:20:35] [INFO] [Bullet] Exiting penetration at (2341.512, 1385.984) after traveling 41.6666679382324 pixels through wall
[18:20:35] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:35] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[18:20:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1838.635, 1289.962), source=ENEMY (Enemy10), range=1469, listeners=2
[18:20:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:20:35] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2255.842, 1489.934) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2237.975, 1370.218) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2224.957, 1356.222) (added to group)
[18:20:35] [INFO] [LastChance] Threat detected: Bullet
[18:20:35] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:35] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2197.271, 1367.553) (added to group)
[18:20:35] [INFO] [BloodyFeet:Enemy9] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:20:35] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[18:20:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1873.031, 1304.394), source=ENEMY (Enemy10), range=1469, listeners=2
[18:20:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2198.454, 1372.822) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2204.498, 1404.912) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2249.574, 1370.749) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2248.783, 1358.489) (added to group)
[18:20:35] [INFO] [LastChance] Threat detected: @Area2D@2515
[18:20:35] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2241.481, 1346.285) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2206.642, 1407.275) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2244.047, 1387.669) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2264.152, 1409.282) (added to group)
[18:20:35] [ENEMY] [Enemy9] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=145.4°, current=-171.7°, player=(2141,1473), corner_timer=0.00
[18:20:35] [ENEMY] [Enemy9] Player empty ammo - priority attack triggered
[18:20:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2246.655, 1400.879), source=ENEMY (Enemy9), range=1469, listeners=2
[18:20:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:20:35] [INFO] [LastChance] Threat detected: @Area2D@2526
[18:20:35] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:35] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[18:20:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1905.461, 1322.838), source=ENEMY (Enemy10), range=1469, listeners=2
[18:20:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2265.367, 1547.063) (added to group)
[18:20:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2218.174, 1295.794), shooter_id=612385165626, bullet_pos=(1948.055, 2074.261)
[18:20:35] [INFO] [Bullet] Using shooter_position, distance=823.999084472656
[18:20:35] [INFO] [Bullet] Distance to wall: 823.999084472656 (56.1076128624525% of viewport)
[18:20:35] [INFO] [Bullet] Distance-based penetration chance: 81.2077849938054%
[18:20:35] [INFO] [Bullet] Penetration failed (distance roll)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2252.884, 1422.767) (added to group)
[18:20:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1899.313, 1320.764), shooter_id=611546304776, bullet_pos=(2485.375, 1537.923)
[18:20:35] [INFO] [Bullet] Using shooter_position, distance=625.001037597656
[18:20:35] [INFO] [Bullet] Distance to wall: 625.001037597656 (42.557469925592% of viewport)
[18:20:35] [INFO] [Bullet] Distance-based penetration chance: 97.0162850868093%
[18:20:35] [INFO] [Bullet] Starting wall penetration at (2485.375, 1537.923)
[18:20:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.3358535766602
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2219.9, 1619.426) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2266.831, 1435.297) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2241.388, 1446.867) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2214.219, 1372.684) (added to group)
[18:20:35] [INFO] [Bullet] Body exited signal received for penetrating body
[18:20:35] [INFO] [Bullet] Exiting penetration at (2529.134, 1554.138) after traveling 41.666675567627 pixels through wall
[18:20:35] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2230.451, 1287.303), shooter_id=612385165626, bullet_pos=(1751.825, 2077.68)
[18:20:35] [INFO] [Bullet] Using shooter_position, distance=924.000854492188
[18:20:35] [INFO] [Bullet] Distance to wall: 924.000854492188 (62.9169172701227% of viewport)
[18:20:35] [INFO] [Bullet] Distance-based penetration chance: 73.2635965181902%
[18:20:35] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:35] [INFO] [LastChance] Threat detected: @Area2D@2528
[18:20:35] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:35] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=38.7°, current=30.1°, player=(2141,1495), corner_timer=0.00
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2275.538, 1439.901) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2255.645, 1584.138) (added to group)
[18:20:35] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[18:20:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1935.567, 1344.873), source=ENEMY (Enemy10), range=1469, listeners=2
[18:20:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[18:20:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:20:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:35] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:20:35] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:20:35] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:20:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:20:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:20:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:20:35] [ENEMY] [Enemy1] Death animation component initialized
[18:20:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:35] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:20:35] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:20:35] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:20:35] [ENEMY] [Enemy2] Death animation component initialized
[18:20:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:35] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:20:35] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:20:35] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:20:35] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:20:35] [ENEMY] [Enemy3] Death animation component initialized
[18:20:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:35] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:20:35] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:20:35] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:20:35] [ENEMY] [Enemy4] Death animation component initialized
[18:20:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:35] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:20:35] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:20:35] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:20:35] [ENEMY] [Enemy5] Death animation component initialized
[18:20:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:35] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:20:35] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:20:35] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:20:35] [ENEMY] [Enemy6] Death animation component initialized
[18:20:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:35] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:20:35] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:20:35] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:20:35] [ENEMY] [Enemy7] Death animation component initialized
[18:20:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:35] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:20:35] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:20:35] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:20:35] [ENEMY] [Enemy8] Death animation component initialized
[18:20:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:35] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:20:35] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:20:35] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:20:35] [ENEMY] [Enemy9] Death animation component initialized
[18:20:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:35] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:20:35] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:20:35] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:20:35] [ENEMY] [Enemy10] Death animation component initialized
[18:20:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:35] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:20:35] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:20:35] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:20:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:20:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:20:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:20:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:20:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:20:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:20:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:20:35] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:20:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:20:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:20:35] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:20:35] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:20:35] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:20:35] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:20:35] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:20:35] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:20:35] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:20:35] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:20:35] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:20:35] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:20:35] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:20:35] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:20:35] [INFO] [ScoreManager] Level started with 10 enemies
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2227.162, 1605.963) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2302.25, 1648.958) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2278.642, 1488.88) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2273.85, 1392.884) (added to group)
[18:20:35] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:20:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 3)
[18:20:35] [ENEMY] [Enemy1] Registered as sound listener
[18:20:35] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:20:35] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:20:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 4)
[18:20:35] [ENEMY] [Enemy2] Registered as sound listener
[18:20:35] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:20:35] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:20:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 5)
[18:20:35] [ENEMY] [Enemy3] Registered as sound listener
[18:20:35] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:20:35] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:20:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 6)
[18:20:35] [ENEMY] [Enemy4] Registered as sound listener
[18:20:35] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:20:35] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:20:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 7)
[18:20:35] [ENEMY] [Enemy5] Registered as sound listener
[18:20:35] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:20:35] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:20:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 8)
[18:20:35] [ENEMY] [Enemy6] Registered as sound listener
[18:20:35] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:20:35] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:20:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 9)
[18:20:35] [ENEMY] [Enemy7] Registered as sound listener
[18:20:35] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:20:35] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:20:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 10)
[18:20:35] [ENEMY] [Enemy8] Registered as sound listener
[18:20:35] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:20:35] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:20:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 11)
[18:20:35] [ENEMY] [Enemy9] Registered as sound listener
[18:20:35] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:20:35] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:20:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 12)
[18:20:35] [ENEMY] [Enemy10] Registered as sound listener
[18:20:35] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:20:35] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:20:35] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:35] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:35] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:35] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:35] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:35] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:35] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:35] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:20:35] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[18:20:35] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[18:20:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:20:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:20:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:20:35] [INFO] [LastChance] Found player: Player
[18:20:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:20:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:20:35] [INFO] [LastChance] Connected to player Died signal (C#)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2244.656, 1631.075) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2214.353, 1764.964) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2282.003, 1719.065) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2274.606, 1640.071) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2337.829, 1519.569) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2272.133, 1430.969) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2270.441, 1432.971) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2247.787, 1417.068) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2255.63, 1450.827) (added to group)
[18:20:35] [INFO] [BloodDecal] Blood puddle created at (2277.908, 1500.649) (added to group)
[18:20:37] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:20:37] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:20:37] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(388,1029), corner_timer=0.30
[18:20:37] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(388,1029), corner_timer=0.30
[18:20:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(388,924), corner_timer=-0.02
[18:20:37] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:20:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(388,924), corner_timer=-0.02
[18:20:37] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:20:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(388,919), corner_timer=0.30
[18:20:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(388,919), corner_timer=0.30
[18:20:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(383,817), corner_timer=-0.02
[18:20:37] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:20:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(382,812), corner_timer=0.30
[18:20:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(378.2892, 804.6547), source=PLAYER (MiniUzi), range=1469, listeners=12
[18:20:37] [INFO] [SoundPropagation] Cleaned up 2 invalid listeners
[18:20:37] [ENEMY] [Enemy1] Heard gunshot at (378.2892, 804.6547), source_type=0, intensity=0.01, distance=461
[18:20:37] [ENEMY] [Enemy2] Heard gunshot at (378.2892, 804.6547), source_type=0, intensity=0.04, distance=256
[18:20:37] [ENEMY] [Enemy3] Heard gunshot at (378.2892, 804.6547), source_type=0, intensity=0.02, distance=326
[18:20:37] [ENEMY] [Enemy4] Heard gunshot at (378.2892, 804.6547), source_type=0, intensity=0.01, distance=432
[18:20:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:20:37] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=80.2°, current=-157.5°, player=(378,804), corner_timer=0.00
[18:20:37] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=94.9°, current=45.0°, player=(378,804), corner_timer=0.00
[18:20:37] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=170.4°, current=-78.7°, player=(378,804), corner_timer=0.00
[18:20:37] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-167.3°, current=168.8°, player=(378,804), corner_timer=0.00
[18:20:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(370.8515, 794.5208), source=PLAYER (MiniUzi), range=1469, listeners=10
[18:20:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:20:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(362.5799, 787.0899), source=PLAYER (MiniUzi), range=1469, listeners=10
[18:20:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:20:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(355.14, 782.5024), source=PLAYER (MiniUzi), range=1469, listeners=10
[18:20:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:20:37] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[18:20:37] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:37] [INFO] [ImpactEffects] spawn_blood_effect called at (636.4563, 757.4203), dir=(0.982252, -0.187564), lethal=false
[18:20:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:37] [INFO] [ImpactEffects] Blood effect spawned at (636.4563, 757.4203) (scale=0.9)
[18:20:37] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=175.4°, current=169.2°, player=(348,780), corner_timer=0.00
[18:20:38] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[18:20:38] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:38] [INFO] [ImpactEffects] spawn_blood_effect called at (625.8245, 758.2822), dir=(0.9841, -0.177614), lethal=true
[18:20:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:38] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:38] [INFO] [ImpactEffects] Blood effect spawned at (625.8245, 758.2822) (scale=1.35)
[18:20:38] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:20:38] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:20:38] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:20:38] [INFO] [DeathAnim] Started - Angle: -10.2 deg, Index: 11
[18:20:38] [ENEMY] [Enemy3] Death animation started with hit direction: (0.9841, -0.177614)
[18:20:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(343,781), corner_timer=-0.02
[18:20:38] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:20:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(343,782), corner_timer=0.30
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (683.0054, 740.5724) (added to group)
[18:20:38] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:20:38] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:20:38] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (731.4643, 771.9844) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (706.3478, 729.2758) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (681.8054, 756.1827) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (725.7892, 806.5403) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (739.4037, 762.8712) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (724.3188, 772.9578) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (737.3674, 798.6364) (added to group)
[18:20:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(362.5799, 787.0899), shooter_id=1113721933251, bullet_pos=(921.6904, 632.8327)
[18:20:38] [INFO] [Bullet] Using shooter_position, distance=579.999816894531
[18:20:38] [INFO] [Bullet] Distance to wall: 579.999816894531 (39.4932540579681% of viewport)
[18:20:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:38] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (707.5824, 770.0566) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (696.0162, 762.0494) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (681.2604, 783.0933) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (712.3363, 735.8226) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (729.4579, 732.9545) (added to group)
[18:20:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(355.14, 782.5024), shooter_id=1113721933251, bullet_pos=(909.6454, 704.2446)
[18:20:38] [INFO] [Bullet] Using shooter_position, distance=560.000427246094
[18:20:38] [INFO] [Bullet] Distance to wall: 560.000427246094 (38.1314588411712% of viewport)
[18:20:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:38] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:38] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:20:38] [INFO] [GrenadeBase] Grenade created at (585.8326, 757.4768) (frozen)
[18:20:38] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:20:38] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:20:38] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.999797, -0.020134), Speed: 555.7 (unfrozen)
[18:20:38] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[18:20:38] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[18:20:38] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:38] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (344.9518, 503.5547)
[18:20:38] [ENEMY] [Enemy4] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:38] [ENEMY] [Enemy4] EVADING_GRENADE started: escaping to (864.1611, 969.6873)
[18:20:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(386,833), corner_timer=-0.02
[18:20:38] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (709.9671, 799.367) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (741.6292, 755.0973) (added to group)
[18:20:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(390,837), corner_timer=0.30
[18:20:38] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=EVADING_GRENADE, target=-133.5°, current=113.7°, player=(394,840), corner_timer=0.00
[18:20:38] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=EVADING_GRENADE, target=-0.0°, current=-73.4°, player=(394,840), corner_timer=0.00
[18:20:38] [ENEMY] [Enemy4] EVADING_GRENADE: Escaped danger zone, returning to PURSUING
[18:20:38] [ENEMY] [Enemy4] State: EVADING_GRENADE -> PURSUING
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (755.1745, 756.6652) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (721.6999, 799.8359) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (728.0932, 749.0845) (added to group)
[18:20:38] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-169.6°, current=-119.8°, player=(408,848), corner_timer=0.00
[18:20:38] [ENEMY] [Enemy3] Ragdoll activated
[18:20:38] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (744.5922, 781.0064) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (796.0145, 802.0284) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (827.6057, 822.6804) (added to group)
[18:20:38] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped danger zone, returning to PURSUING
[18:20:38] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:38] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=72.9°, current=-156.1°, player=(436,856), corner_timer=0.00
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (777.8475, 813.558) (added to group)
[18:20:38] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[18:20:38] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (300.6439, 455.988)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (736.502, 781.1387) (added to group)
[18:20:38] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=EVADING_GRENADE, target=-176.7°, current=-162.9°, player=(449,856), corner_timer=0.00
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (745.3977, 780.3677) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (778.5831, 731.0886) (added to group)
[18:20:38] [INFO] [BloodDecal] Blood puddle created at (730.8107, 794.0388) (added to group)
[18:20:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(468,848), corner_timer=-0.02
[18:20:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:20:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(471,846), corner_timer=0.30
[18:20:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(499,728), corner_timer=-0.02
[18:20:39] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:20:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(501,728), corner_timer=0.30
[18:20:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(537.0291, 724.7545), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:20:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(537.0291, 724.7545), shooter_id=1113721933251, bullet_pos=(486.9125, 691.7647)
[18:20:39] [INFO] [Bullet] Using shooter_position, distance=59.9999542236328
[18:20:39] [INFO] [Bullet] Distance to wall: 59.9999542236328 (4.08550721327431% of viewport)
[18:20:39] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:20:39] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(549.3231, 718.7903), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:20:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(549.3231, 718.7903), shooter_id=1113721933251, bullet_pos=(498.9378, 686.2124)
[18:20:39] [INFO] [Bullet] Using shooter_position, distance=60.0000190734863
[18:20:39] [INFO] [Bullet] Distance to wall: 60.0000190734863 (4.08551162902008% of viewport)
[18:20:39] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:20:39] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.5825, 710.2604), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:20:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.7697, 702.2482), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:20:39] [ENEMY] [Enemy3] Death animation completed
[18:20:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(572,699), corner_timer=-0.02
[18:20:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:20:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(574,697), corner_timer=0.30
[18:20:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(576.7385, 695.6039), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:20:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.9184, 689.9337), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:20:39] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped danger zone, returning to PURSUING
[18:20:39] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[18:20:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.9933, 686.3362), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:20:39] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=34.7°, current=-79.5°, player=(582,686), corner_timer=0.00
[18:20:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:39] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[18:20:39] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:39] [INFO] [ImpactEffects] spawn_blood_effect called at (311.056, 498.0665), dir=(-0.808443, -0.588575), lethal=false
[18:20:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:39] [INFO] [ImpactEffects] Wall found for blood splatter at (277.9993, 474) (dist=40 px)
[18:20:39] [INFO] [BloodDecal] Blood puddle created at (277.9993, 475) (added to group)
[18:20:39] [INFO] [ImpactEffects] Blood effect spawned at (311.056, 498.0665) (scale=0.9)
[18:20:39] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=34.5°, current=36.1°, player=(583,684), corner_timer=0.00
[18:20:39] [ENEMY] [Enemy1] PURSUING corner check: angle -40.5°
[18:20:39] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[18:20:39] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[18:20:39] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:39] [INFO] [ImpactEffects] spawn_blood_effect called at (311.056, 498.0665), dir=(-0.846352, -0.532623), lethal=false
[18:20:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:39] [INFO] [ImpactEffects] Wall found for blood splatter at (272.8138, 474) (dist=45 px)
[18:20:39] [INFO] [BloodDecal] Blood puddle created at (272.8138, 475) (added to group)
[18:20:39] [INFO] [ImpactEffects] Blood effect spawned at (311.056, 498.0665) (scale=0.9)
[18:20:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(571,694), corner_timer=-0.02
[18:20:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:20:39] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=23.1°, current=134.9°, player=(569,696), corner_timer=0.00
[18:20:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(569,696), corner_timer=0.30
[18:20:39] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=54.7°, current=5.4°, player=(567,699), corner_timer=0.17
[18:20:39] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:20:39] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[18:20:39] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:39] [INFO] [ImpactEffects] spawn_blood_effect called at (318.4799, 501.0529), dir=(-0.781249, -0.624219), lethal=false
[18:20:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:39] [INFO] [ImpactEffects] Wall found for blood splatter at (284.6214, 474) (dist=43 px)
[18:20:39] [INFO] [BloodDecal] Blood puddle created at (284.6214, 475) (added to group)
[18:20:39] [INFO] [ImpactEffects] Blood effect spawned at (318.4799, 501.0529) (scale=0.9)
[18:20:40] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=39.1°, current=38.6°, player=(565,701), corner_timer=0.00
[18:20:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(318.4799, 501.0529), source=ENEMY (Enemy2), range=1469, listeners=9
[18:20:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[18:20:40] [ENEMY] [Enemy4] PURSUING corner check: angle -92.9°
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (262.3863, 484.1389) (added to group)
[18:20:40] [INFO] [GrenadeBase] Grenade landed at (106.3888, 747.8217)
[18:20:40] [INFO] [FragGrenade] Impact detected - exploding immediately!
[18:20:40] [INFO] [GrenadeBase] EXPLODED at (106.3888, 747.8217)!
[18:20:40] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(106.3888, 747.8217), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[18:20:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[18:20:40] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 8.5 degrees
[18:20:40] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 79.6 degrees
[18:20:40] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 168.0 degrees
[18:20:40] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 287.4 degrees
[18:20:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.7697, 702.2482), shooter_id=1113721933251, bullet_pos=(49.08398, 446.7368)
[18:20:40] [INFO] [Bullet] Using shooter_position, distance=579.999694824219
[18:20:40] [INFO] [Bullet] Distance to wall: 579.999694824219 (39.493245745976% of viewport)
[18:20:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:40] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(328.6661, 504.2032), source=ENEMY (Enemy2), range=1469, listeners=9
[18:20:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[18:20:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (246.9178, 502.1361) (added to group)
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (228.1192, 496.375) (added to group)
[18:20:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(576.7385, 695.6039), shooter_id=1113721933251, bullet_pos=(54.43575, 443.4135)
[18:20:40] [INFO] [Bullet] Using shooter_position, distance=580.000122070313
[18:20:40] [INFO] [Bullet] Distance to wall: 580.000122070313 (39.4932748379482% of viewport)
[18:20:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:40] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:40] [INFO] [LastChance] Threat detected: @Area2D@2891
[18:20:40] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (275.2815, 481.6464) (added to group)
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (258.1412, 501.8041) (added to group)
[18:20:40] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[18:20:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(373.4768, 555.7072), shooter_id=1110467151604, bullet_pos=(687.8958, 829.1148)
[18:20:40] [INFO] [Bullet] Using shooter_position, distance=416.66650390625
[18:20:40] [INFO] [Bullet] Distance to wall: 416.66650390625 (28.371588433117% of viewport)
[18:20:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.0147, 549.7463), shooter_id=1110467151604, bullet_pos=(927.516, 824.2296)
[18:20:40] [INFO] [Bullet] Using shooter_position, distance=624.999755859375
[18:20:40] [INFO] [Bullet] Distance to wall: 624.999755859375 (42.5573826496755% of viewport)
[18:20:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(558,784), corner_timer=-0.02
[18:20:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:20:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(558,789), corner_timer=0.30
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (273.1011, 507.5787) (added to group)
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (272.9391, 480.8528) (added to group)
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (223.609, 493.1091) (added to group)
[18:20:40] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[18:20:40] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:40] [INFO] [ImpactEffects] spawn_blood_effect called at (761.8473, 924.7081), dir=(-0.84165, 0.540023), lethal=false
[18:20:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:40] [INFO] [ImpactEffects] Blood effect spawned at (761.8473, 924.7081) (scale=1)
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (253.3796, 503.7723) (added to group)
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (253.9114, 503.3425) (added to group)
[18:20:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(373.4768, 555.7072), shooter_id=1110467151604, bullet_pos=(522.6959, 1020.624)
[18:20:40] [INFO] [Bullet] Using shooter_position, distance=488.276733398438
[18:20:40] [INFO] [Bullet] Distance to wall: 488.276733398438 (33.2476606388409% of viewport)
[18:20:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(373.4768, 555.7072), shooter_id=1110467151604, bullet_pos=(502.653, 991.8043)
[18:20:40] [INFO] [Bullet] Using shooter_position, distance=454.826538085938
[18:20:40] [INFO] [Bullet] Distance to wall: 454.826538085938 (30.9699753305274% of viewport)
[18:20:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:40] [INFO] [Bullet] Starting wall penetration at (502.653, 991.8043)
[18:20:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(373.4768, 555.7072), shooter_id=1110467151604, bullet_pos=(499.7982, 987.6994)
[18:20:40] [INFO] [Bullet] Using shooter_position, distance=450.082611083984
[18:20:40] [INFO] [Bullet] Distance to wall: 450.082611083984 (30.6469526176518% of viewport)
[18:20:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.9070835113525
[18:20:40] [INFO] [Bullet] Body exited signal received for penetrating body
[18:20:40] [INFO] [Bullet] Exiting penetration at (480.4232, 1011.369) after traveling 25.5885429382324 pixels through wall
[18:20:40] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[18:20:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (235.944, 506.2332) (added to group)
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (223.681, 514.1712) (added to group)
[18:20:40] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/3 -> 2/3
[18:20:40] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:40] [INFO] [ImpactEffects] spawn_blood_effect called at (465.1095, 426.2891), dir=(0.092576, 0.995706), lethal=false
[18:20:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:40] [INFO] [ImpactEffects] Blood effect spawned at (465.1095, 426.2891) (scale=1)
[18:20:40] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-40.5°, current=-95.3°, player=(558,855), corner_timer=0.17
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (270.1212, 484.5487) (added to group)
[18:20:40] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:20:40] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-92.9°, current=-64.2°, player=(558,866), corner_timer=0.18
[18:20:40] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=172.2°, current=-83.2°, player=(558,877), corner_timer=0.00
[18:20:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(558.3531, 883.3231), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (204.4995, 546.3399) (added to group)
[18:20:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(556,893), corner_timer=-0.02
[18:20:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:20:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(555.5815, 898.675), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (196.4439, 559.5933) (added to group)
[18:20:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(555,898), corner_timer=0.30
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (136.272, 516.1896) (added to group)
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (178.766, 526.8119) (added to group)
[18:20:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(550.0382, 912.8789), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (216.0779, 531.0284) (added to group)
[18:20:40] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[18:20:40] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:20:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(541.7233, 925.9347), source=PLAYER (MiniUzi), range=1469, listeners=9
[18:20:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:20:40] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/2 -> 0/2
[18:20:40] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:40] [INFO] [ImpactEffects] spawn_blood_effect called at (780.9422, 904.6518), dir=(0.980348, 0.197276), lethal=true
[18:20:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:40] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:40] [INFO] [ImpactEffects] Blood effect spawned at (780.9422, 904.6518) (scale=1.35)
[18:20:40] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[18:20:40] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:20:40] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[18:20:40] [INFO] [DeathAnim] Started - Angle: 11.4 deg, Index: 12
[18:20:40] [ENEMY] [Enemy4] Death animation started with hit direction: (0.980348, 0.197276)
[18:20:40] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[18:20:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:40] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[18:20:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0652, 938.5229), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[18:20:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0652, 953.149), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=6
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (453.254, 549.4778) (added to group)
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (452.1801, 506.4405) (added to group)
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (471.7227, 526.8018) (added to group)
[18:20:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(555.5815, 898.675), shooter_id=1113721933251, bullet_pos=(927.3757, 977.2182)
[18:20:40] [INFO] [Bullet] Using shooter_position, distance=379.999938964844
[18:20:40] [INFO] [Bullet] Distance to wall: 379.999938964844 (25.874894602389% of viewport)
[18:20:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:40] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (438.6862, 545.0135) (added to group)
[18:20:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(540,978), corner_timer=-0.02
[18:20:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:20:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(540,981), corner_timer=0.30
[18:20:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(550.0382, 912.8789), shooter_id=1113721933251, bullet_pos=(923.6821, 982.0914)
[18:20:40] [INFO] [Bullet] Using shooter_position, distance=380.000122070313
[18:20:40] [INFO] [Bullet] Distance to wall: 380.000122070313 (25.8749070703771% of viewport)
[18:20:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:40] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:40] [INFO] [BloodDecal] Blood puddle created at (440.4416, 641.6385) (added to group)
[18:20:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(541.7233, 925.9347), shooter_id=1113721933251, bullet_pos=(893.9175, 1000.497)
[18:20:41] [INFO] [Bullet] Using shooter_position, distance=360.000366210938
[18:20:41] [INFO] [Bullet] Distance to wall: 360.000366210938 (24.5130869176041% of viewport)
[18:20:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:41] [INFO] [BloodDecal] Blood puddle created at (832.3771, 927.33) (added to group)
[18:20:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(541.7233, 925.9347), shooter_id=1113721933251, bullet_pos=(906.8903, 999.6566)
[18:20:41] [INFO] [Bullet] Using shooter_position, distance=372.534423828125
[18:20:41] [INFO] [Bullet] Distance to wall: 372.534423828125 (25.366553948858% of viewport)
[18:20:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:41] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:41] [INFO] [BloodDecal] Blood puddle created at (822.5555, 954.6978) (added to group)
[18:20:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.0652, 938.5229), shooter_id=1113721933251, bullet_pos=(919.9307, 948.6167)
[18:20:41] [INFO] [Bullet] Using shooter_position, distance=379.999572753906
[18:20:41] [INFO] [Bullet] Distance to wall: 379.999572753906 (25.8748696664129% of viewport)
[18:20:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:41] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:41] [INFO] [BloodDecal] Blood puddle created at (500.8456, 659.2362) (added to group)
[18:20:41] [INFO] [BloodDecal] Blood puddle created at (901.7855, 954.7806) (added to group)
[18:20:41] [INFO] [BloodDecal] Blood puddle created at (862.1959, 931.7339) (added to group)
[18:20:41] [INFO] [BloodDecal] Blood puddle created at (841.9354, 930.323) (added to group)
[18:20:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.0652, 953.149), shooter_id=1113721933251, bullet_pos=(918.8673, 983.2957)
[18:20:41] [INFO] [Bullet] Using shooter_position, distance=379.999786376953
[18:20:41] [INFO] [Bullet] Distance to wall: 379.999786376953 (25.874884212399% of viewport)
[18:20:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:41] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:41] [INFO] [BloodDecal] Blood puddle created at (505.0098, 647.0441) (added to group)
[18:20:41] [INFO] [BloodDecal] Blood puddle created at (843.698, 928.6727) (added to group)
[18:20:41] [INFO] [BloodDecal] Blood puddle created at (858.5598, 932.0499) (added to group)
[18:20:41] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[18:20:41] [ENEMY] [Enemy4] Ragdoll activated
[18:20:41] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(559,945), corner_timer=-0.02
[18:20:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:20:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(563,941), corner_timer=0.30
[18:20:41] [INFO] [BloodDecal] Blood puddle created at (874.8311, 992.0572) (added to group)
[18:20:41] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[18:20:41] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[18:20:41] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[18:20:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:41] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=64.4°, current=49.0°, player=(599,890), corner_timer=0.00
[18:20:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(601,852), corner_timer=-0.02
[18:20:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(601,847), corner_timer=0.30
[18:20:41] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-31.4°, current=53.1°, player=(601,836), corner_timer=0.00
[18:20:41] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[18:20:41] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:20:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(598,744), corner_timer=-0.02
[18:20:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(597,739), corner_timer=0.30
[18:20:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:42] [ENEMY] [Enemy4] Death animation completed
[18:20:42] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=SUPPRESSED, target=72.0°, current=41.7°, player=(529,665), corner_timer=0.00
[18:20:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(529,665), corner_timer=-0.02
[18:20:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:42] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:20:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(525,662), corner_timer=0.30
[18:20:42] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[18:20:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.0082, 416.7808), source=ENEMY (Enemy2), range=1469, listeners=8
[18:20:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:20:42] [INFO] [LastChance] Threat detected: Bullet
[18:20:42] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(457.1426, 480.2118), shooter_id=1110467151604, bullet_pos=(501.5401, 597.0615)
[18:20:42] [INFO] [Bullet] Using shooter_position, distance=124.999961853027
[18:20:42] [INFO] [Bullet] Distance to wall: 124.999961853027 (8.51147725723441% of viewport)
[18:20:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.0082, 416.7808), source=ENEMY (Enemy2), range=1469, listeners=8
[18:20:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:20:42] [INFO] [Player] Spawning blood effect at (473.41348, 655.1521), dir=(1, 0), lethal=False (C#)
[18:20:42] [INFO] [ImpactEffects] spawn_blood_effect called at (473.4135, 655.1521), dir=(1, 0), lethal=false
[18:20:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:42] [INFO] [ImpactEffects] Blood effect spawned at (473.4135, 655.1521) (scale=1)
[18:20:42] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:20:42] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[18:20:42] [INFO] [PenultimateHit] Starting penultimate hit effect:
[18:20:42] [INFO] [PenultimateHit]   - Time scale: 0.10
[18:20:42] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[18:20:42] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[18:20:42] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[18:20:42] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[18:20:42] [INFO] [PenultimateHit] Applying saturation to 9 enemies
[18:20:42] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[18:20:42] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:20:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(466.2635, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:20:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.0082, 416.7808), source=ENEMY (Enemy2), range=1469, listeners=8
[18:20:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:20:42] [INFO] [LastChance] Threat detected: Bullet
[18:20:42] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.5138, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:20:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.7641, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:20:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.0082, 416.7808), source=ENEMY (Enemy2), range=1469, listeners=8
[18:20:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:20:43] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[18:20:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.5138, 655.1521), shooter_id=1113721933251, bullet_pos=(497.3362, 591.3174)
[18:20:43] [INFO] [Bullet] Using shooter_position, distance=77.9994430541992
[18:20:43] [INFO] [Bullet] Distance to wall: 77.9994430541992 (5.31112550588901% of viewport)
[18:20:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:43] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:43] [INFO] [LastChance] Threat detected: @Area2D@3064
[18:20:43] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(459.1164, 487.2098), shooter_id=1110467151604, bullet_pos=(468.0329, 687.0116)
[18:20:43] [INFO] [Bullet] Using shooter_position, distance=200.000610351563
[18:20:43] [INFO] [Bullet] Distance to wall: 200.000610351563 (13.6184093275313% of viewport)
[18:20:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:43] [INFO] [Bullet] Starting wall penetration at (468.0329, 687.0116)
[18:20:43] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:20:43] [INFO] [Bullet] Exiting penetration at (468.4415, 696.1692) after traveling 4.16666650772095 pixels through wall
[18:20:43] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=174.4°, current=89.4°, player=(428,655), corner_timer=-0.00
[18:20:43] [ENEMY] [Enemy7] PATROL corner check: angle 88.4°
[18:20:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=88.4°, current=89.7°, player=(428,655), corner_timer=0.30
[18:20:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(425.0144, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:20:43] [INFO] [Player] Spawning blood effect at (417.8646, 655.1521), dir=(1, 0), lethal=True (C#)
[18:20:43] [INFO] [ImpactEffects] spawn_blood_effect called at (417.8646, 655.1521), dir=(1, 0), lethal=true
[18:20:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:43] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:43] [INFO] [ImpactEffects] Blood effect spawned at (417.8646, 655.1521) (scale=1.5)
[18:20:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[18:20:43] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[18:20:43] [INFO] [PenultimateHit] Player died - ending penultimate effect
[18:20:43] [INFO] [PenultimateHit] Ending penultimate hit effect
[18:20:43] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[18:20:43] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[18:20:43] [INFO] [LastChance] Player died
[18:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(466.2635, 655.1521), shooter_id=1113721933251, bullet_pos=(498.9191, 439.6125)
[18:20:44] [INFO] [Bullet] Using shooter_position, distance=217.99934387207
[18:20:44] [INFO] [Bullet] Distance to wall: 217.99934387207 (14.8439761896952% of viewport)
[18:20:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(406.3146, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.7641, 655.1521), shooter_id=1113721933251, bullet_pos=(501.5623, 532.2675)
[18:20:44] [INFO] [Bullet] Using shooter_position, distance=138.000915527344
[18:20:44] [INFO] [Bullet] Distance to wall: 138.000915527344 (9.39673609956439% of viewport)
[18:20:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(465.6977, 487.5422), shooter_id=1110467151604, bullet_pos=(603.6292, 1019.965)
[18:20:44] [INFO] [Bullet] Using shooter_position, distance=549.99951171875
[18:20:44] [INFO] [Bullet] Distance to wall: 549.99951171875 (37.4504781128523% of viewport)
[18:20:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(389.8146, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:20:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (530.4309, 698.0218) (added to group)
[18:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(373.3146, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=8
[18:20:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (550.6309, 714.846) (added to group)
[18:20:44] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/4 -> 0/4
[18:20:44] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:44] [INFO] [ImpactEffects] spawn_blood_effect called at (455.235, 419.8259), dir=(0.103319, -0.994648), lethal=true
[18:20:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:44] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:44] [INFO] [ImpactEffects] Blood effect spawned at (455.235, 419.8259) (scale=1.35)
[18:20:44] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[18:20:44] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:20:44] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[18:20:44] [INFO] [DeathAnim] Started - Angle: -84.1 deg, Index: 6
[18:20:44] [ENEMY] [Enemy2] Death animation started with hit direction: (0.103319, -0.994648)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (568.5771, 673.2805) (added to group)
[18:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.8146, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (564.0452, 638.9839) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (579.7237, 639.9206) (added to group)
[18:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(345.8146, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (464.9765, 655.4466) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (485.8824, 687.9346) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (554.8704, 716.1875) (added to group)
[18:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(329.3146, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (502.4431, 652.3721) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (489.6752, 645.5133) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (466.6559, 663.5439) (added to group)
[18:20:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=174.4°, current=88.4°, player=(323,655), corner_timer=-0.02
[18:20:44] [ENEMY] [Enemy7] PATROL corner check: angle 88.4°
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (514.7799, 636.1594) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (483.7241, 650.1136) (added to group)
[18:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(373.3146, 655.1521), shooter_id=1113721933251, bullet_pos=(506.508, 480.0532)
[18:20:44] [INFO] [Bullet] Using shooter_position, distance=220.000244140625
[18:20:44] [INFO] [Bullet] Distance to wall: 220.000244140625 (14.9802211683123% of viewport)
[18:20:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=88.4°, current=91.3°, player=(318,655), corner_timer=0.30
[18:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(312.8146, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (616.4677, 655.0508) (added to group)
[18:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(389.8146, 655.1521), shooter_id=1113721933251, bullet_pos=(498.8568, 333.1119)
[18:20:44] [INFO] [Bullet] Using shooter_position, distance=340.000152587891
[18:20:44] [INFO] [Bullet] Distance to wall: 340.000152587891 (23.1512355948609% of viewport)
[18:20:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(296.3146, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.8146, 655.1521), shooter_id=1113721933251, bullet_pos=(499.3011, 462.0264)
[18:20:44] [INFO] [Bullet] Using shooter_position, distance=239.999862670898
[18:20:44] [INFO] [Bullet] Distance to wall: 239.999862670898 (16.3420319700942% of viewport)
[18:20:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (471.6252, 660.1348) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (461.2859, 380.0298) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (639.2957, 697.598) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (656.4025, 733.4712) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (471.0757, 370.6046) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (465.3248, 350.4173) (added to group)
[18:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(345.8146, 655.1521), shooter_id=1113721933251, bullet_pos=(503.5975, 448.5011)
[18:20:44] [INFO] [Bullet] Using shooter_position, distance=260.000152587891
[18:20:44] [INFO] [Bullet] Distance to wall: 260.000152587891 (17.7038884878325% of viewport)
[18:20:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(274.3146, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(329.3146, 655.1521), shooter_id=1113721933251, bullet_pos=(498.2097, 514.1757)
[18:20:44] [INFO] [Bullet] Using shooter_position, distance=219.999755859375
[18:20:44] [INFO] [Bullet] Distance to wall: 219.999755859375 (14.9801879203441% of viewport)
[18:20:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (447.2439, 347.3366) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (499.5643, 343.7111) (added to group)
[18:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(252.3146, 655.1521), source=PLAYER (MiniUzi), range=1469, listeners=7
[18:20:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[18:20:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:20:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:44] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:20:44] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:20:44] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:20:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:20:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:20:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:20:44] [ENEMY] [Enemy1] Death animation component initialized
[18:20:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:44] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:20:44] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:20:44] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:20:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:20:44] [ENEMY] [Enemy2] Death animation component initialized
[18:20:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:44] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:20:44] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:20:44] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:20:44] [ENEMY] [Enemy3] Death animation component initialized
[18:20:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:44] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:20:44] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:20:44] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:20:44] [ENEMY] [Enemy4] Death animation component initialized
[18:20:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:44] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:20:44] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:20:44] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:20:44] [ENEMY] [Enemy5] Death animation component initialized
[18:20:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:44] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:20:44] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:20:44] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:20:44] [ENEMY] [Enemy6] Death animation component initialized
[18:20:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:44] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:20:44] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:20:44] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:20:44] [ENEMY] [Enemy7] Death animation component initialized
[18:20:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:44] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:20:44] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:20:44] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:20:44] [ENEMY] [Enemy8] Death animation component initialized
[18:20:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:44] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:20:44] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:20:44] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:20:44] [ENEMY] [Enemy9] Death animation component initialized
[18:20:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:44] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:20:44] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:20:44] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:20:44] [ENEMY] [Enemy10] Death animation component initialized
[18:20:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:44] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:20:44] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:20:44] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:20:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:20:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:20:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:20:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:20:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:20:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:20:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:20:44] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:20:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:20:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:20:44] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:20:44] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:20:44] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:20:44] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:20:44] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:20:44] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:20:44] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:20:44] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:20:44] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:20:44] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:20:44] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:20:44] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:20:44] [INFO] [ScoreManager] Level started with 10 enemies
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (618.0499, 708.7012) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (588.2469, 721.2747) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (472.5581, 365.3673) (added to group)
[18:20:44] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:20:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[18:20:44] [ENEMY] [Enemy1] Registered as sound listener
[18:20:44] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:20:44] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:20:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[18:20:44] [ENEMY] [Enemy2] Registered as sound listener
[18:20:44] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:20:44] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:20:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[18:20:44] [ENEMY] [Enemy3] Registered as sound listener
[18:20:44] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:20:44] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:20:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[18:20:44] [ENEMY] [Enemy4] Registered as sound listener
[18:20:44] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:20:44] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:20:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[18:20:44] [ENEMY] [Enemy5] Registered as sound listener
[18:20:44] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:20:44] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:20:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[18:20:44] [ENEMY] [Enemy6] Registered as sound listener
[18:20:44] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:20:44] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:20:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[18:20:44] [ENEMY] [Enemy7] Registered as sound listener
[18:20:44] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:20:44] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:20:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[18:20:44] [ENEMY] [Enemy8] Registered as sound listener
[18:20:44] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:20:44] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:20:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[18:20:44] [ENEMY] [Enemy9] Registered as sound listener
[18:20:44] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:20:44] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:20:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[18:20:44] [ENEMY] [Enemy10] Registered as sound listener
[18:20:44] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:20:44] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:20:44] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(449,1250), corner_timer=0.00
[18:20:44] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[18:20:44] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[18:20:44] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[18:20:44] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[18:20:44] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[18:20:44] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[18:20:44] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[18:20:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:20:44] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[18:20:44] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[18:20:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:20:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:20:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:20:44] [INFO] [LastChance] Found player: Player
[18:20:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:20:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:20:44] [INFO] [LastChance] Connected to player Died signal (C#)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (490.9269, 339.8338) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (477.5321, 328.5046) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (411.0553, 355.6538) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (477.5153, 338.9151) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (495.9213, 396.5885) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (459.4739, 321.8706) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (460.1757, 375.4576) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (396.5516, 335.0047) (added to group)
[18:20:44] [INFO] [BloodDecal] Blood puddle created at (489.0061, 412.7571) (added to group)
[18:20:46] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=-168.8°, player=(386,837), corner_timer=0.00
[18:20:46] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:20:46] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.3°, current=-9.2°, player=(385,826), corner_timer=0.00
[18:20:46] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[18:20:46] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[18:20:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:20:46] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:20:46] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-169.3°, current=-101.3°, player=(385,821), corner_timer=0.00
[18:20:46] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(385,821), corner_timer=0.30
[18:20:46] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(385,821), corner_timer=0.30
[18:20:46] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[18:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(382.0117, 807.3538), source=PLAYER (MiniUzi), range=1469, listeners=17
[18:20:46] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[18:20:46] [ENEMY] [Enemy1] Heard gunshot at (382.0117, 807.3538), source_type=0, intensity=0.01, distance=465
[18:20:46] [ENEMY] [Enemy2] Heard gunshot at (382.0117, 807.3538), source_type=0, intensity=0.04, distance=258
[18:20:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:20:46] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=79.8°, current=-157.5°, player=(382,807), corner_timer=0.00
[18:20:46] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=94.0°, current=168.8°, player=(382,807), corner_timer=0.00
[18:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(377.7183, 795.3312), source=PLAYER (MiniUzi), range=1469, listeners=10
[18:20:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:20:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(382.0117, 807.3538), shooter_id=1351673186850, bullet_pos=(501.9453, 803.3577)
[18:20:46] [INFO] [Bullet] Using shooter_position, distance=120.000091552734
[18:20:46] [INFO] [Bullet] Distance to wall: 120.000091552734 (8.17102689453668% of viewport)
[18:20:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:46] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.2158, 785.7319), source=PLAYER (MiniUzi), range=1469, listeners=10
[18:20:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:20:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(377.7183, 795.3312), shooter_id=1351673186850, bullet_pos=(497.6782, 798.4308)
[18:20:46] [INFO] [Bullet] Using shooter_position, distance=119.999938964844
[18:20:46] [INFO] [Bullet] Distance to wall: 119.999938964844 (8.17101650454663% of viewport)
[18:20:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:46] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(371.1556, 779.038), source=PLAYER (MiniUzi), range=1469, listeners=10
[18:20:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:20:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(367,774), corner_timer=-0.02
[18:20:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:20:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(367,774), corner_timer=-0.02
[18:20:46] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:20:46] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/3 -> 2/3
[18:20:46] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:46] [INFO] [ImpactEffects] spawn_blood_effect called at (611.041, 764.4938), dir=(0.999931, 0.011729), lethal=false
[18:20:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:46] [INFO] [ImpactEffects] Blood effect spawned at (611.041, 764.4938) (scale=0.9)
[18:20:46] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=177.7°, current=-179.3°, player=(367,774), corner_timer=0.00
[18:20:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(367,774), corner_timer=0.30
[18:20:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(367,774), corner_timer=0.30
[18:20:46] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/3 -> 1/3
[18:20:46] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:46] [INFO] [ImpactEffects] spawn_blood_effect called at (611.041, 764.4938), dir=(0.999497, -0.031703), lethal=false
[18:20:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:46] [INFO] [ImpactEffects] Blood effect spawned at (611.041, 764.4938) (scale=0.9)
[18:20:46] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:20:46] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[18:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.3503, 771.5917), source=ENEMY (Enemy3), range=1469, listeners=10
[18:20:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[18:20:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.8224, 785.8972), shooter_id=1348720397835, bullet_pos=(501.6484, 800.0924)
[18:20:46] [INFO] [Bullet] Using shooter_position, distance=41.666690826416
[18:20:46] [INFO] [Bullet] Distance to wall: 41.666690826416 (2.83716159665907% of viewport)
[18:20:46] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:20:46] [INFO] [Bullet] Starting wall penetration at (501.6484, 800.0924)
[18:20:46] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:20:46] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:20:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44.9134254455566
[18:20:46] [INFO] [Bullet] Body exited signal received for penetrating body
[18:20:46] [INFO] [Bullet] Exiting penetration at (457.7734, 815.9911) after traveling 41.6666717529297 pixels through wall
[18:20:46] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(602.4296, 781.0556), source=ENEMY (Enemy3), range=1469, listeners=10
[18:20:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[18:20:46] [INFO] [LastChance] Threat detected: Bullet
[18:20:46] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:46] [INFO] [BloodDecal] Blood puddle created at (675.1768, 782.2344) (added to group)
[18:20:46] [INFO] [Player] Spawning blood effect at (416.29605, 822.5135), dir=(1, 0), lethal=False (C#)
[18:20:46] [INFO] [ImpactEffects] spawn_blood_effect called at (416.2961, 822.5135), dir=(1, 0), lethal=false
[18:20:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:46] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 822.5135) (dist=83 px)
[18:20:46] [INFO] [BloodDecal] Blood puddle created at (499, 822.5135) (added to group)
[18:20:46] [INFO] [ImpactEffects] Blood effect spawned at (416.2961, 822.5135) (scale=1)
[18:20:46] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[18:20:46] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[18:20:46] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=117.5°, current=169.9°, player=(416,822), corner_timer=0.00
[18:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(597.5087, 790.5195), source=ENEMY (Enemy3), range=1469, listeners=10
[18:20:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[18:20:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(416,822), corner_timer=-0.02
[18:20:46] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:20:46] [INFO] [LastChance] Threat detected: @Area2D@3416
[18:20:46] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:46] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[18:20:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(420,826), corner_timer=0.30
[18:20:46] [INFO] [BloodDecal] Blood puddle created at (713.36, 784.2614) (added to group)
[18:20:46] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:20:46] [INFO] [BloodDecal] Blood puddle created at (717.4996, 797.6783) (added to group)
[18:20:46] [INFO] [BloodDecal] Blood puddle created at (691.8589, 767.6369) (added to group)
[18:20:46] [INFO] [BloodDecal] Blood puddle created at (678.3058, 779.9866) (added to group)
[18:20:46] [INFO] [BloodDecal] Blood puddle created at (719.82, 803.4063) (added to group)
[18:20:46] [INFO] [BloodDecal] Blood puddle created at (764.7788, 782.8734) (added to group)
[18:20:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(533.399, 813.335), shooter_id=1348720397835, bullet_pos=(35.44696, 858.543)
[18:20:46] [INFO] [Bullet] Using shooter_position, distance=499.999969482422
[18:20:46] [INFO] [Bullet] Distance to wall: 499.999969482422 (34.0459173409297% of viewport)
[18:20:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:47] [INFO] [BloodDecal] Blood puddle created at (725.9954, 783.6826) (added to group)
[18:20:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(483,900), corner_timer=-0.02
[18:20:47] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:20:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(483,903), corner_timer=0.30
[18:20:47] [INFO] [BloodDecal] Blood puddle created at (470.4019, 879.0346) (added to group)
[18:20:47] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:20:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:20:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:47] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:20:47] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:20:47] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:20:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:20:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:20:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:20:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:20:47] [ENEMY] [Enemy1] Death animation component initialized
[18:20:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:47] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:20:47] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:20:47] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:20:47] [ENEMY] [Enemy2] Death animation component initialized
[18:20:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:47] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:20:47] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:20:47] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:20:47] [ENEMY] [Enemy3] Death animation component initialized
[18:20:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:47] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:20:47] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:20:47] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:20:47] [ENEMY] [Enemy4] Death animation component initialized
[18:20:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:47] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:20:47] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:20:47] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:20:47] [ENEMY] [Enemy5] Death animation component initialized
[18:20:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:47] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:20:47] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:20:47] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:20:47] [ENEMY] [Enemy6] Death animation component initialized
[18:20:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:47] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:20:47] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:20:47] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:20:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:20:47] [ENEMY] [Enemy7] Death animation component initialized
[18:20:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:47] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:20:47] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:20:47] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:20:47] [ENEMY] [Enemy8] Death animation component initialized
[18:20:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:47] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:20:47] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:20:47] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:20:47] [ENEMY] [Enemy9] Death animation component initialized
[18:20:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:47] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:20:47] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:20:47] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:20:47] [ENEMY] [Enemy10] Death animation component initialized
[18:20:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:47] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:20:47] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:20:47] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:20:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:20:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:20:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:20:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:20:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:20:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:20:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:20:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:20:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:20:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:20:47] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:20:47] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:20:47] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:20:47] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:20:47] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:20:47] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:20:47] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:20:47] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:20:47] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:20:47] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:20:47] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:20:47] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:20:47] [INFO] [ScoreManager] Level started with 10 enemies
[18:20:47] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:20:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:20:47] [ENEMY] [Enemy1] Registered as sound listener
[18:20:47] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:20:47] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:20:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:20:47] [ENEMY] [Enemy2] Registered as sound listener
[18:20:47] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:20:47] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:20:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:20:47] [ENEMY] [Enemy3] Registered as sound listener
[18:20:47] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:20:47] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:20:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:20:47] [ENEMY] [Enemy4] Registered as sound listener
[18:20:47] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:20:47] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:20:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:20:47] [ENEMY] [Enemy5] Registered as sound listener
[18:20:47] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:20:47] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:20:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:20:47] [ENEMY] [Enemy6] Registered as sound listener
[18:20:47] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:20:47] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:20:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:20:47] [ENEMY] [Enemy7] Registered as sound listener
[18:20:47] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:20:47] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:20:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:20:47] [ENEMY] [Enemy8] Registered as sound listener
[18:20:47] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:20:47] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:20:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:20:47] [ENEMY] [Enemy9] Registered as sound listener
[18:20:47] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:20:47] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:20:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:20:47] [ENEMY] [Enemy10] Registered as sound listener
[18:20:47] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:20:47] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:20:47] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:47] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:47] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:47] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:47] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:47] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:47] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:47] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:20:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:20:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:20:47] [INFO] [LastChance] Found player: Player
[18:20:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:20:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:20:47] [INFO] [LastChance] Connected to player Died signal (C#)
[18:20:47] [INFO] [BloodDecal] Blood puddle created at (497.1033, 860.4748) (added to group)
[18:20:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:20:47] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[18:20:47] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[18:20:48] [INFO] [PauseMenu] Armory button pressed
[18:20:48] [INFO] [PauseMenu] Creating new armory menu instance
[18:20:48] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[18:20:48] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[18:20:48] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[18:20:48] [INFO] [PauseMenu] back_pressed signal exists on instance
[18:20:48] [INFO] [PauseMenu] back_pressed signal connected
[18:20:48] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[18:20:48] [INFO] [PauseMenu] _populate_weapon_grid method exists
[18:20:49] [INFO] [GameManager] Weapon selected: silenced_pistol
[18:20:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:20:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:20:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:20:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:20:49] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:20:49] [ENEMY] [Enemy1] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:20:49] [ENEMY] [Enemy2] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:20:49] [ENEMY] [Enemy3] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:20:49] [ENEMY] [Enemy4] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:20:49] [ENEMY] [Enemy5] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:20:49] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:20:49] [ENEMY] [Enemy6] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:20:49] [ENEMY] [Enemy7] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:20:49] [ENEMY] [Enemy8] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:20:49] [ENEMY] [Enemy9] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:20:49] [ENEMY] [Enemy10] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:20:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:20:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:20:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:20:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:20:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:20:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:20:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:20:49] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:20:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[18:20:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:20:49] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:20:49] [INFO] [ScoreManager] Level started with 10 enemies
[18:20:49] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[18:20:49] [ENEMY] [Enemy1] Registered as sound listener
[18:20:49] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[18:20:49] [ENEMY] [Enemy2] Registered as sound listener
[18:20:49] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[18:20:49] [ENEMY] [Enemy3] Registered as sound listener
[18:20:49] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[18:20:49] [ENEMY] [Enemy4] Registered as sound listener
[18:20:49] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[18:20:49] [ENEMY] [Enemy5] Registered as sound listener
[18:20:49] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[18:20:49] [ENEMY] [Enemy6] Registered as sound listener
[18:20:49] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[18:20:49] [ENEMY] [Enemy7] Registered as sound listener
[18:20:49] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:20:49] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[18:20:49] [ENEMY] [Enemy8] Registered as sound listener
[18:20:49] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[18:20:49] [ENEMY] [Enemy9] Registered as sound listener
[18:20:49] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[18:20:49] [ENEMY] [Enemy10] Registered as sound listener
[18:20:49] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:20:49] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:20:49] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:20:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:20:49] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[18:20:49] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[18:20:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:20:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:20:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:20:49] [INFO] [LastChance] Found player: Player
[18:20:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:20:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:20:49] [INFO] [LastChance] Connected to player Died signal (C#)
[18:20:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:20:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:20:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:20:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:20:49] [ENEMY] [Enemy1] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:20:49] [ENEMY] [Enemy2] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:20:49] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:20:49] [ENEMY] [Enemy3] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:20:49] [ENEMY] [Enemy4] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:20:49] [ENEMY] [Enemy5] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:20:49] [ENEMY] [Enemy6] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:20:49] [ENEMY] [Enemy7] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:20:49] [ENEMY] [Enemy8] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:20:49] [ENEMY] [Enemy9] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:20:49] [ENEMY] [Enemy10] Death animation component initialized
[18:20:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:49] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:20:49] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:20:49] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:20:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:20:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:20:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:20:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:20:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:20:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:20:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:20:49] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:20:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[18:20:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:20:49] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:20:49] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:20:49] [INFO] [ScoreManager] Level started with 10 enemies
[18:20:49] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[18:20:49] [ENEMY] [Enemy1] Registered as sound listener
[18:20:49] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[18:20:49] [ENEMY] [Enemy2] Registered as sound listener
[18:20:49] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[18:20:49] [ENEMY] [Enemy3] Registered as sound listener
[18:20:49] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[18:20:49] [ENEMY] [Enemy4] Registered as sound listener
[18:20:49] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[18:20:49] [ENEMY] [Enemy5] Registered as sound listener
[18:20:49] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[18:20:49] [ENEMY] [Enemy6] Registered as sound listener
[18:20:49] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[18:20:49] [ENEMY] [Enemy7] Registered as sound listener
[18:20:49] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:20:49] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[18:20:49] [ENEMY] [Enemy8] Registered as sound listener
[18:20:49] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[18:20:49] [ENEMY] [Enemy9] Registered as sound listener
[18:20:49] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:20:49] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:20:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[18:20:49] [ENEMY] [Enemy10] Registered as sound listener
[18:20:49] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:20:49] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:20:49] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:49] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:20:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:20:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:20:49] [INFO] [LastChance] Found player: Player
[18:20:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:20:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:20:49] [INFO] [LastChance] Connected to player Died signal (C#)
[18:20:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:20:49] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[18:20:49] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[18:20:51] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=123.7°, player=(450,819), corner_timer=0.00
[18:20:51] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:20:51] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-64.9°, player=(450,808), corner_timer=0.00
[18:20:51] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[18:20:51] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[18:20:51] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:20:51] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:20:51] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-161.9°, current=168.8°, player=(450,785), corner_timer=0.00
[18:20:51] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,785), corner_timer=0.30
[18:20:51] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,785), corner_timer=0.30
[18:20:51] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[18:20:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,756), corner_timer=-0.02
[18:20:51] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:20:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,756), corner_timer=-0.02
[18:20:51] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:20:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,756), corner_timer=0.30
[18:20:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,756), corner_timer=0.30
[18:20:51] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=179.2°, current=-131.5°, player=(450,756), corner_timer=0.00
[18:20:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=40
[18:20:51] [INFO] [SoundPropagation] Cleaned up 30 invalid listeners
[18:20:51] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[18:20:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:20:51] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=76.4°, current=45.0°, player=(450,756), corner_timer=0.00
[18:20:51] [INFO] [LastChance] Threat detected: Bullet
[18:20:51] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:51] [INFO] [Player] Spawning blood effect at (450, 756.9444), dir=(1, 0), lethal=False (C#)
[18:20:51] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 756.9444), dir=(1, 0), lethal=false
[18:20:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:51] [INFO] [ImpactEffects] Blood effect spawned at (450, 756.9444) (scale=1)
[18:20:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:20:51] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:20:51] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[18:20:51] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 4/4 -> -6/4
[18:20:51] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:51] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(0.998171, -0.060454), lethal=true
[18:20:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:51] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:51] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1.35)
[18:20:51] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:20:51] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:20:51] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:20:51] [INFO] [DeathAnim] Started - Angle: -3.5 deg, Index: 11
[18:20:51] [ENEMY] [Enemy3] Death animation started with hit direction: (0.998171, -0.060454)
[18:20:51] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[18:20:51] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[18:20:51] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=69.8°, current=-157.5°, player=(450,756), corner_timer=0.00
[18:20:51] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[18:20:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,756), corner_timer=-0.02
[18:20:51] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:20:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,756), corner_timer=0.30
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (514.1908, 797.9182) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (723.3671, 773.2402) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (775.8914, 784.3321) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (769.7695, 750.4529) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (763.5694, 762.9236) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (748.7599, 757.8254) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (768.9087, 787.4196) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (788.5847, 823.1556) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (809.0426, 779.1569) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (762.1651, 740.7858) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (548.1124, 755.3127) (added to group)
[18:20:52] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (568.3445, 804.353) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (775.6665, 746.4819) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (752.3556, 752.9943) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (761.11, 745.2164) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (746.1017, 760.9023) (added to group)
[18:20:52] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (810.4725, 826.1514) (added to group)
[18:20:52] [ENEMY] [Enemy3] Ragdoll activated
[18:20:52] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,756), corner_timer=-0.02
[18:20:52] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (853.5085, 831.7349) (added to group)
[18:20:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,756), corner_timer=0.30
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (607.7677, 786.3017) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (767.2095, 806.6292) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (564.5984, 775.8151) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (582.684, 796.6721) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (781.1854, 783.7901) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (615.1364, 810.5043) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (798.1113, 818.8337) (added to group)
[18:20:52] [INFO] [BloodDecal] Blood puddle created at (784.8896, 817.5874) (added to group)
[18:20:52] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[18:20:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,756), corner_timer=-0.02
[18:20:52] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:20:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,756), corner_timer=0.30
[18:20:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(490,756), corner_timer=-0.02
[18:20:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:20:52] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-116.2°, current=-117.9°, player=(495,756), corner_timer=0.02
[18:20:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(495,756), corner_timer=0.30
[18:20:53] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=78.2°, current=79.6°, player=(506,756), corner_timer=0.18
[18:20:53] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:20:53] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:20:53] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:20:53] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=57.1°, current=58.2°, player=(533,756), corner_timer=0.00
[18:20:53] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-98.3°, current=-38.7°, player=(544,757), corner_timer=0.02
[18:20:53] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:20:53] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-82.2°, current=-32.9°, player=(583,770), corner_timer=0.02
[18:20:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:53] [ENEMY] [Enemy4] Hit taken, damage: 10, health: 4/4 -> -6/4
[18:20:53] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:53] [INFO] [ImpactEffects] spawn_blood_effect called at (565.3544, 899.5032), dir=(-0.104344, 0.994541), lethal=true
[18:20:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:53] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:53] [INFO] [ImpactEffects] Blood effect spawned at (565.3544, 899.5032) (scale=1.35)
[18:20:53] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[18:20:53] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:20:53] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[18:20:53] [INFO] [DeathAnim] Started - Angle: 96.0 deg, Index: 18
[18:20:53] [ENEMY] [Enemy4] Death animation started with hit direction: (-0.104344, 0.994541)
[18:20:53] [ENEMY] [Enemy3] Death animation completed
[18:20:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(615,828), corner_timer=-0.02
[18:20:53] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:20:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(616,834), corner_timer=0.30
[18:20:53] [INFO] [BloodDecal] Blood puddle created at (538.1726, 957.0129) (added to group)
[18:20:53] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=53.9°, current=54.0°, player=(617,855), corner_timer=0.00
[18:20:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.407, 542.7338), source=ENEMY (Enemy1), range=1469, listeners=8
[18:20:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:20:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:53] [INFO] [BloodDecal] Blood puddle created at (579.9266, 972.313) (added to group)
[18:20:53] [INFO] [LastChance] Threat detected: Bullet
[18:20:53] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:53] [INFO] [BloodDecal] Blood puddle created at (584.9751, 995.4406) (added to group)
[18:20:53] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:20:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.407, 542.7338), source=ENEMY (Enemy1), range=1469, listeners=8
[18:20:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:20:53] [INFO] [Player] Spawning blood effect at (644.0003, 899.83563), dir=(1, 0), lethal=False (C#)
[18:20:53] [INFO] [ImpactEffects] spawn_blood_effect called at (644.0003, 899.8356), dir=(1, 0), lethal=false
[18:20:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:20:53] [INFO] [ImpactEffects] Blood effect spawned at (644.0003, 899.8356) (scale=1)
[18:20:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:20:53] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[18:20:53] [INFO] [PenultimateHit] Starting penultimate hit effect:
[18:20:53] [INFO] [PenultimateHit]   - Time scale: 0.10
[18:20:53] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[18:20:53] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[18:20:53] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[18:20:53] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[18:20:53] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[18:20:53] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[18:20:53] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:20:54] [ENEMY] [Enemy4] Ragdoll activated
[18:20:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:54] [INFO] [LastChance] Threat detected: @Area2D@4266
[18:20:54] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:54] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[18:20:54] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[18:20:54] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:20:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=174.6°, player=(659,915), corner_timer=-0.00
[18:20:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:20:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=174.9°, player=(660,916), corner_timer=0.30
[18:20:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.407, 542.7338), source=ENEMY (Enemy1), range=1469, listeners=8
[18:20:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:20:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(484.7296, 606.6863), shooter_id=1480740310787, bullet_pos=(680.7328, 997.8221)
[18:20:55] [INFO] [Bullet] Using shooter_position, distance=437.498046875
[18:20:55] [INFO] [Bullet] Distance to wall: 437.498046875 (29.790046499689% of viewport)
[18:20:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:55] [INFO] [Bullet] Starting wall penetration at (680.7328, 997.8221)
[18:20:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:20:55] [INFO] [Bullet] Exiting penetration at (684.8396, 1006.017) after traveling 4.16666650772095 pixels through wall
[18:20:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:55] [INFO] [LastChance] Threat detected: Bullet
[18:20:55] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.407, 542.7338), source=ENEMY (Enemy1), range=1469, listeners=8
[18:20:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:20:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(486.5368, 605.976), shooter_id=1480740310787, bullet_pos=(697.5722, 998.6968)
[18:20:56] [INFO] [Bullet] Using shooter_position, distance=445.831329345703
[18:20:56] [INFO] [Bullet] Distance to wall: 445.831329345703 (30.3574750266745% of viewport)
[18:20:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:56] [INFO] [Bullet] Starting wall penetration at (697.5722, 998.6968)
[18:20:56] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:20:56] [INFO] [Bullet] Exiting penetration at (701.9113, 1006.771) after traveling 4.16666650772095 pixels through wall
[18:20:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:56] [INFO] [BloodDecal] Blood puddle created at (691.2261, 931.7725) (added to group)
[18:20:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.407, 542.7338), source=ENEMY (Enemy1), range=1469, listeners=8
[18:20:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:20:56] [INFO] [LastChance] Threat detected: @Area2D@4283
[18:20:56] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:56] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[18:20:56] [INFO] [PenultimateHit] Ending penultimate hit effect
[18:20:56] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[18:20:56] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[18:20:56] [INFO] [BloodDecal] Blood puddle created at (713.8576, 921.1371) (added to group)
[18:20:56] [INFO] [BloodDecal] Blood puddle created at (714.3052, 938.833) (added to group)
[18:20:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(443.7662, 545.1198), source=ENEMY (Enemy1), range=1469, listeners=8
[18:20:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:20:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=172.7°, current=118.8°, player=(738,978), corner_timer=-0.01
[18:20:56] [ENEMY] [Enemy7] PATROL corner check: angle 87.3°
[18:20:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=87.3°, current=121.7°, player=(741,982), corner_timer=0.30
[18:20:56] [INFO] [LastChance] Threat detected: Bullet
[18:20:56] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:56] [INFO] [BloodDecal] Blood puddle created at (726.1827, 913.0513) (added to group)
[18:20:56] [INFO] [BloodDecal] Blood puddle created at (743.3264, 960.9565) (added to group)
[18:20:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(490.1921, 604.3966), shooter_id=1480740310787, bullet_pos=(745.6753, 1019.589)
[18:20:56] [INFO] [Bullet] Using shooter_position, distance=487.499877929688
[18:20:56] [INFO] [Bullet] Distance to wall: 487.499877929688 (33.1947631214625% of viewport)
[18:20:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:56] [INFO] [Player] Spawning blood effect at (765.26556, 983.9338), dir=(1, 0), lethal=True (C#)
[18:20:56] [INFO] [ImpactEffects] spawn_blood_effect called at (765.2656, 983.9338), dir=(1, 0), lethal=true
[18:20:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:56] [INFO] [ImpactEffects] Blood effect spawned at (765.2656, 983.9338) (scale=1.5)
[18:20:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[18:20:56] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[18:20:56] [INFO] [PenultimateHit] Player died - ending penultimate effect
[18:20:56] [INFO] [LastChance] Player died
[18:20:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:56] [INFO] [LastChance] Threat detected: @Area2D@4292
[18:20:56] [INFO] [LastChance] Not in hard mode - effect disabled
[18:20:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:20:56] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=50.4°, current=50.4°, player=(773,983), corner_timer=0.18
[18:20:56] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:20:56] [INFO] [BloodDecal] Blood puddle created at (819.2623, 922.8292) (added to group)
[18:20:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(757.4874, 983.9338), shooter_id=1484297078513, bullet_pos=(677.9512, 875.4709)
[18:20:56] [INFO] [Bullet] Using shooter_position, distance=134.499801635742
[18:20:56] [INFO] [Bullet] Distance to wall: 134.499801635742 (9.15833881670448% of viewport)
[18:20:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:20:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.347, 605.4744), shooter_id=1480740310787, bullet_pos=(756.3597, 1019.034)
[18:20:57] [INFO] [Bullet] Using shooter_position, distance=499.999877929688
[18:20:57] [INFO] [Bullet] Distance to wall: 499.999877929688 (34.0459111069357% of viewport)
[18:20:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:20:57] [INFO] [Bullet] Starting wall penetration at (756.3597, 1019.034)
[18:20:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.6629981994629
[18:20:57] [INFO] [BloodDecal] Blood puddle created at (846.4442, 921.7684) (added to group)
[18:20:57] [INFO] [BloodDecal] Blood puddle created at (806.8301, 944.9329) (added to group)
[18:20:57] [INFO] [Bullet] Body exited signal received for penetrating body
[18:20:57] [INFO] [Bullet] Exiting penetration at (782.5876, 1057.633) after traveling 41.6666679382324 pixels through wall
[18:20:57] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:57] [INFO] [BloodDecal] Blood puddle created at (833.5236, 938.1251) (added to group)
[18:20:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=173.5°, current=87.3°, player=(815,983), corner_timer=-0.02
[18:20:57] [ENEMY] [Enemy7] PATROL corner check: angle 87.9°
[18:20:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=87.9°, current=90.2°, player=(819,983), corner_timer=0.30
[18:20:57] [INFO] [BloodDecal] Blood puddle created at (860.4954, 986.2911) (added to group)
[18:20:57] [INFO] [BloodDecal] Blood puddle created at (869.4395, 987.3759) (added to group)
[18:20:57] [INFO] [BloodDecal] Blood puddle created at (818.2799, 984.7502) (added to group)
[18:20:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:20:57] [INFO] [BloodDecal] Blood puddle created at (869.674, 972.3836) (added to group)
[18:20:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(488.7677, 605.0443), shooter_id=1480740310787, bullet_pos=(1346.155, 2072.996)
[18:20:57] [INFO] [Bullet] Using shooter_position, distance=1699.99841308594
[18:20:57] [INFO] [Bullet] Distance to wall: 1699.99841308594 (115.756017968458% of viewport)
[18:20:57] [INFO] [Bullet] Distance-based penetration chance: 26.8487964063085%
[18:20:57] [INFO] [Bullet] Starting wall penetration at (1346.155, 2072.996)
[18:20:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.0259666442871
[18:20:57] [INFO] [Bullet] Body exited signal received for penetrating body
[18:20:57] [INFO] [Bullet] Exiting penetration at (1369.692, 2113.292) after traveling 41.6666679382324 pixels through wall
[18:20:57] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[18:20:57] [ENEMY] [Enemy4] Death animation completed
[18:20:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:20:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:57] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:20:57] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:20:57] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:20:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:20:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:20:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:20:57] [ENEMY] [Enemy1] Death animation component initialized
[18:20:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:57] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:20:57] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:20:57] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:20:57] [ENEMY] [Enemy2] Death animation component initialized
[18:20:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:57] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:20:57] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:20:57] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:20:57] [ENEMY] [Enemy3] Death animation component initialized
[18:20:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:57] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:20:57] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:20:57] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:20:57] [ENEMY] [Enemy4] Death animation component initialized
[18:20:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:57] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:20:57] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:20:57] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:20:57] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:20:57] [ENEMY] [Enemy5] Death animation component initialized
[18:20:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:57] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:20:57] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:20:57] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:20:57] [ENEMY] [Enemy6] Death animation component initialized
[18:20:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:57] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:20:57] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:20:57] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:20:57] [ENEMY] [Enemy7] Death animation component initialized
[18:20:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:57] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:20:57] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:20:57] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:20:57] [ENEMY] [Enemy8] Death animation component initialized
[18:20:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:57] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:20:57] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:20:57] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:20:57] [ENEMY] [Enemy9] Death animation component initialized
[18:20:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:57] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:20:57] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:20:57] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:20:57] [ENEMY] [Enemy10] Death animation component initialized
[18:20:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:20:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:20:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:20:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:20:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:20:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:20:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:20:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:20:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:20:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:20:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:20:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:20:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:20:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:20:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:20:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:20:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:20:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:20:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:20:57] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:20:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:20:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:20:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:20:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:20:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:20:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:20:57] [INFO] [ScoreManager] Level started with 10 enemies
[18:20:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:20:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[18:20:57] [ENEMY] [Enemy1] Registered as sound listener
[18:20:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:20:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:20:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[18:20:57] [ENEMY] [Enemy2] Registered as sound listener
[18:20:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:20:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:20:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[18:20:57] [ENEMY] [Enemy3] Registered as sound listener
[18:20:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:20:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:20:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[18:20:57] [ENEMY] [Enemy4] Registered as sound listener
[18:20:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:20:57] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:20:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[18:20:57] [ENEMY] [Enemy5] Registered as sound listener
[18:20:57] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:20:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:20:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[18:20:57] [ENEMY] [Enemy6] Registered as sound listener
[18:20:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:20:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:20:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[18:20:57] [ENEMY] [Enemy7] Registered as sound listener
[18:20:57] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:20:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:20:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[18:20:57] [ENEMY] [Enemy8] Registered as sound listener
[18:20:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:20:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:20:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[18:20:57] [ENEMY] [Enemy9] Registered as sound listener
[18:20:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:20:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:20:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[18:20:57] [ENEMY] [Enemy10] Registered as sound listener
[18:20:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:20:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:20:57] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:57] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:57] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:57] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:57] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:57] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:57] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:57] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:20:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:20:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:20:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:20:57] [INFO] [LastChance] Found player: Player
[18:20:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:20:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:20:57] [INFO] [LastChance] Connected to player Died signal (C#)
[18:20:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:20:57] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[18:20:57] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[18:20:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:20:59] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:20:59] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(454,784), corner_timer=0.30
[18:20:59] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(454,784), corner_timer=0.30
[18:20:59] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 3/3 -> -7/3
[18:20:59] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[18:20:59] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.991894, -0.127067), lethal=true
[18:20:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:20:59] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:20:59] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.35)
[18:20:59] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:20:59] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:20:59] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 17)
[18:20:59] [INFO] [DeathAnim] Started - Angle: -7.3 deg, Index: 11
[18:20:59] [ENEMY] [Enemy3] Death animation started with hit direction: (0.991894, -0.127067)
[18:20:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(441,730), corner_timer=-0.02
[18:20:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:20:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(441,730), corner_timer=-0.02
[18:20:59] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:20:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(440,730), corner_timer=0.30
[18:20:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(440,730), corner_timer=0.30
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (758.9984, 786.1165) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (793.3792, 768.1822) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (749.0922, 752.2197) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (779.2909, 753.0059) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (808.7941, 790.0814) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (808.0225, 733.0947) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (753.2939, 768.2971) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (786.951, 769.2015) (added to group)
[18:20:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(440,729), corner_timer=-0.02
[18:20:59] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:20:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(440,729), corner_timer=0.30
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (769.0306, 775.47) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (812.3281, 734.8082) (added to group)
[18:20:59] [ENEMY] [Enemy3] Ragdoll activated
[18:20:59] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (778.5765, 821.7213) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (777.0786, 783.5518) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (819.7047, 806.712) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (867.1843, 805.6704) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (836.2727, 765.7958) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (862.5125, 835.0228) (added to group)
[18:20:59] [INFO] [BloodDecal] Blood puddle created at (882.7578, 800.2708) (added to group)
[18:21:00] [INFO] [BloodDecal] Blood puddle created at (795.1875, 812.3988) (added to group)
[18:21:00] [INFO] [BloodDecal] Blood puddle created at (900.5162, 767.8033) (added to group)
[18:21:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(507,729), corner_timer=-0.02
[18:21:00] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:21:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(512,729), corner_timer=0.30
[18:21:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(595,729), corner_timer=-0.02
[18:21:00] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:21:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(597,729), corner_timer=0.30
[18:21:00] [ENEMY] [Enemy1] Hit taken, damage: 10, health: 2/2 -> -8/2
[18:21:00] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[18:21:00] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 350), dir=(-0.609323, -0.792922), lethal=true
[18:21:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:21:00] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:21:00] [INFO] [ImpactEffects] Wall found for blood splatter at (241.5976, 274) (dist=95 px)
[18:21:00] [INFO] [BloodDecal] Blood puddle created at (241.5976, 275) (added to group)
[18:21:00] [INFO] [ImpactEffects] Blood effect spawned at (300, 350) (scale=1.35)
[18:21:00] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[18:21:00] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:21:00] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 16)
[18:21:00] [INFO] [DeathAnim] Started - Angle: -127.5 deg, Index: 3
[18:21:00] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.609323, -0.792922)
[18:21:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(603,729), corner_timer=-0.02
[18:21:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:21:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(603,729), corner_timer=0.30
[18:21:00] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:00] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:21:00] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:21:00] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:21:00] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:00] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:21:00] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:21:00] [ENEMY] [Enemy1] Death animation component initialized
[18:21:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:00] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:21:00] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:21:00] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:21:00] [ENEMY] [Enemy2] Death animation component initialized
[18:21:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:00] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:21:00] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:21:00] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:21:00] [ENEMY] [Enemy3] Death animation component initialized
[18:21:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:00] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:21:00] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:21:00] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:21:00] [ENEMY] [Enemy4] Death animation component initialized
[18:21:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:00] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:21:00] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:21:00] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:21:00] [ENEMY] [Enemy5] Death animation component initialized
[18:21:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:00] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:21:00] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:21:00] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:21:00] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:21:00] [ENEMY] [Enemy6] Death animation component initialized
[18:21:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:00] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:21:00] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:21:00] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:21:00] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:21:00] [ENEMY] [Enemy7] Death animation component initialized
[18:21:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:00] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:21:00] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:21:00] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:21:00] [ENEMY] [Enemy8] Death animation component initialized
[18:21:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:00] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:21:00] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:21:00] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:21:00] [ENEMY] [Enemy9] Death animation component initialized
[18:21:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:00] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:21:00] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:21:00] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:21:00] [ENEMY] [Enemy10] Death animation component initialized
[18:21:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:00] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:21:00] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:21:00] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:21:00] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:21:00] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:21:00] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:21:00] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:21:00] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:21:00] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:21:00] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:21:00] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:21:00] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[18:21:00] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:21:00] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:21:00] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:21:00] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:21:00] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:21:00] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:21:00] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:21:00] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:21:00] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:21:00] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:21:00] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:21:00] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:21:00] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:21:00] [INFO] [ScoreManager] Level started with 10 enemies
[18:21:00] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:21:00] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 17)
[18:21:00] [ENEMY] [Enemy1] Registered as sound listener
[18:21:00] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:21:00] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:21:00] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 18)
[18:21:00] [ENEMY] [Enemy2] Registered as sound listener
[18:21:00] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:21:00] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:21:00] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 19)
[18:21:00] [ENEMY] [Enemy3] Registered as sound listener
[18:21:00] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:21:00] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:21:00] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 20)
[18:21:00] [ENEMY] [Enemy4] Registered as sound listener
[18:21:00] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:21:00] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:21:00] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 21)
[18:21:00] [ENEMY] [Enemy5] Registered as sound listener
[18:21:00] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:21:00] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:21:00] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 22)
[18:21:00] [ENEMY] [Enemy6] Registered as sound listener
[18:21:00] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:21:00] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:21:00] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 23)
[18:21:00] [ENEMY] [Enemy7] Registered as sound listener
[18:21:00] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:21:00] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:21:00] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 24)
[18:21:00] [ENEMY] [Enemy8] Registered as sound listener
[18:21:00] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:21:00] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:21:00] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 25)
[18:21:00] [ENEMY] [Enemy9] Registered as sound listener
[18:21:00] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:21:00] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:21:00] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 26)
[18:21:00] [ENEMY] [Enemy10] Registered as sound listener
[18:21:00] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:21:00] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:21:00] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:00] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:00] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:00] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:00] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:00] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:00] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:00] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:00] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:21:00] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:21:00] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:21:00] [INFO] [LastChance] Found player: Player
[18:21:00] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:21:00] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:21:00] [INFO] [LastChance] Connected to player Died signal (C#)
[18:21:00] [INFO] [BloodDecal] Blood puddle created at (279.2441, 326.4246) (added to group)
[18:21:00] [INFO] [BloodDecal] Blood puddle created at (281.6846, 287.3581) (added to group)
[18:21:00] [INFO] [BloodDecal] Blood puddle created at (284.6163, 286.5128) (added to group)
[18:21:00] [INFO] [BloodDecal] Blood puddle created at (269.3093, 313.1374) (added to group)
[18:21:00] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:21:00] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[18:21:00] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[18:21:00] [INFO] [BloodDecal] Blood puddle created at (268.9637, 320.8717) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (233.3111, 325.6524) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (283.9245, 315.7721) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (238.0942, 297.206) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (236.258, 280.0849) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (195.904, 337.9692) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (271.1991, 321.8066) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (261.1506, 316.5244) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (199.1355, 322.713) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (201.3889, 327.5492) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (271.5225, 288.2054) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (253.2866, 308.9651) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (261.7037, 284.368) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (186.2065, 373.8049) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (242.0979, 356.8262) (added to group)
[18:21:01] [INFO] [BloodDecal] Blood puddle created at (172.4944, 383.7281) (added to group)
[18:21:02] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:21:02] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:21:02] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,841), corner_timer=0.30
[18:21:02] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,841), corner_timer=0.30
[18:21:02] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=-168.8°, player=(450,819), corner_timer=0.00
[18:21:02] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:21:02] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-8.9°, player=(450,808), corner_timer=0.00
[18:21:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,766), corner_timer=-0.02
[18:21:02] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:21:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,766), corner_timer=-0.02
[18:21:02] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:21:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,764), corner_timer=0.30
[18:21:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,764), corner_timer=0.30
[18:21:02] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 4/4 -> -6/4
[18:21:02] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[18:21:02] [INFO] [ImpactEffects] spawn_blood_effect called at (684.451, 753.7694), dir=(0.997317, -0.073208), lethal=true
[18:21:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:21:02] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:21:02] [INFO] [ImpactEffects] Blood effect spawned at (684.451, 753.7694) (scale=1.35)
[18:21:02] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:21:02] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:21:02] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 25)
[18:21:02] [INFO] [DeathAnim] Started - Angle: -4.2 deg, Index: 11
[18:21:02] [ENEMY] [Enemy3] Death animation started with hit direction: (0.997317, -0.073208)
[18:21:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,762), corner_timer=-0.02
[18:21:03] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:21:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,762), corner_timer=0.30
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (754.6711, 741.2114) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (736.3812, 753.1592) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (756.6884, 748.0839) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (788.0026, 822.3859) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (748.6003, 763.9804) (added to group)
[18:21:03] [ENEMY] [Enemy3] Ragdoll activated
[18:21:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (826.1125, 718.6343) (added to group)
[18:21:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(476,762), corner_timer=-0.02
[18:21:03] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (802.4274, 745.5141) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (770.8666, 817.295) (added to group)
[18:21:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(480,762), corner_timer=0.30
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (802.6398, 740.947) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (820.7756, 842.6244) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (807.0089, 803.6804) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (770.6144, 771.762) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (801.5272, 797.6339) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (813.025, 829.7672) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (803.0216, 835.6248) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (845.7569, 819.7502) (added to group)
[18:21:03] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=60.5°, current=33.8°, player=(533,762), corner_timer=0.00
[18:21:03] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (896.5043, 902.3444) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (806.1507, 792.1143) (added to group)
[18:21:03] [INFO] [BloodDecal] Blood puddle created at (829.7928, 852.0864) (added to group)
[18:21:03] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=55.9°, current=76.0°, player=(565,762), corner_timer=0.00
[18:21:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(565,762), corner_timer=-0.02
[18:21:03] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:21:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(567,762), corner_timer=0.30
[18:21:03] [ENEMY] [Enemy2] Memory: high confidence (0.88) - transitioning to PURSUING
[18:21:03] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[18:21:03] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=50.6°, current=-67.5°, player=(574,762), corner_timer=0.00
[18:21:04] [ENEMY] [Enemy2] PURSUING corner check: angle 180.0°
[18:21:04] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=49.9°, current=28.2°, player=(574,762), corner_timer=0.30
[18:21:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(574,762), corner_timer=-0.02
[18:21:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:21:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(574,762), corner_timer=0.30
[18:21:04] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:21:04] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=40.4°, current=41.4°, player=(574,762), corner_timer=0.12
[18:21:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(574.5556, 762.4444), shooter_id=1777881583020, bullet_pos=(324.3268, 473.8106)
[18:21:04] [INFO] [Bullet] Using shooter_position, distance=381.999908447266
[18:21:04] [INFO] [Bullet] Distance to wall: 381.999908447266 (26.0110762020667% of viewport)
[18:21:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:21:04] [INFO] [Bullet] Caliber cannot penetrate walls
[18:21:04] [ENEMY] [Enemy3] Death animation completed
[18:21:04] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[18:21:04] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=180.0°, current=33.3°, player=(574,762), corner_timer=0.03
[18:21:04] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[18:21:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:21:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(574,762), corner_timer=-0.02
[18:21:04] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:21:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(574,762), corner_timer=0.30
[18:21:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:04] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:21:04] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:21:04] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:21:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:21:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:21:04] [ENEMY] [Enemy1] Death animation component initialized
[18:21:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:04] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:21:04] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:21:04] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:21:04] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:21:04] [ENEMY] [Enemy2] Death animation component initialized
[18:21:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:04] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:21:04] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:21:04] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:21:04] [ENEMY] [Enemy3] Death animation component initialized
[18:21:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:04] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:21:04] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:21:04] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:21:04] [ENEMY] [Enemy4] Death animation component initialized
[18:21:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:04] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:21:04] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:21:04] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:21:04] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:21:04] [ENEMY] [Enemy5] Death animation component initialized
[18:21:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:04] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:21:04] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:21:04] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:21:04] [ENEMY] [Enemy6] Death animation component initialized
[18:21:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:04] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:21:04] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:21:04] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:21:04] [ENEMY] [Enemy7] Death animation component initialized
[18:21:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:04] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:21:04] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:21:04] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:21:04] [ENEMY] [Enemy8] Death animation component initialized
[18:21:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:04] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:21:04] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:21:04] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:21:04] [ENEMY] [Enemy9] Death animation component initialized
[18:21:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:04] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:21:04] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:21:04] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:21:04] [ENEMY] [Enemy10] Death animation component initialized
[18:21:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:04] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:21:04] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:21:04] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:21:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:21:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:21:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:21:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:21:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:21:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:21:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:21:04] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:21:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[18:21:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:21:04] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:21:04] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:21:04] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:21:04] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:21:04] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:21:04] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:21:04] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:21:04] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:21:04] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:21:04] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:21:04] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:21:04] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:21:04] [INFO] [ScoreManager] Level started with 10 enemies
[18:21:04] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:21:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 26)
[18:21:04] [ENEMY] [Enemy1] Registered as sound listener
[18:21:04] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:21:04] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:21:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 27)
[18:21:04] [ENEMY] [Enemy2] Registered as sound listener
[18:21:04] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:21:04] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:21:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 28)
[18:21:04] [ENEMY] [Enemy3] Registered as sound listener
[18:21:04] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:21:04] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:21:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 29)
[18:21:04] [ENEMY] [Enemy4] Registered as sound listener
[18:21:04] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:21:04] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:21:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 30)
[18:21:04] [ENEMY] [Enemy5] Registered as sound listener
[18:21:04] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:21:04] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:21:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 31)
[18:21:04] [ENEMY] [Enemy6] Registered as sound listener
[18:21:04] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:21:04] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:21:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 32)
[18:21:04] [ENEMY] [Enemy7] Registered as sound listener
[18:21:04] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:21:04] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:21:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 33)
[18:21:04] [ENEMY] [Enemy8] Registered as sound listener
[18:21:04] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:21:04] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:21:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 34)
[18:21:04] [ENEMY] [Enemy9] Registered as sound listener
[18:21:04] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:21:04] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:21:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 35)
[18:21:04] [ENEMY] [Enemy10] Registered as sound listener
[18:21:04] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:21:04] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:21:04] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:04] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:04] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:04] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:04] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:04] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:04] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:04] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:21:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:21:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:21:04] [INFO] [LastChance] Found player: Player
[18:21:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:21:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:21:04] [INFO] [LastChance] Connected to player Died signal (C#)
[18:21:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:21:04] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[18:21:04] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[18:21:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:21:06] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:21:06] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,830), corner_timer=0.30
[18:21:06] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,830), corner_timer=0.30
[18:21:06] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=123.7°, player=(450,819), corner_timer=0.00
[18:21:06] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:21:06] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-64.9°, player=(450,808), corner_timer=0.00
[18:21:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,759), corner_timer=-0.02
[18:21:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:21:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,759), corner_timer=-0.02
[18:21:06] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:21:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,758), corner_timer=0.30
[18:21:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,758), corner_timer=0.30
[18:21:06] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 4/4 -> -6/4
[18:21:06] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[18:21:06] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(0.997052, -0.076723), lethal=true
[18:21:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:21:06] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:21:06] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1.35)
[18:21:06] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:21:06] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:21:06] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 34)
[18:21:06] [INFO] [DeathAnim] Started - Angle: -4.4 deg, Index: 11
[18:21:06] [ENEMY] [Enemy3] Death animation started with hit direction: (0.997052, -0.076723)
[18:21:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(505,751), corner_timer=-0.02
[18:21:07] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:21:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(511,751), corner_timer=0.30
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (745.3096, 784.4261) (added to group)
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (771.9655, 803.6865) (added to group)
[18:21:07] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=56.5°, current=45.0°, player=(533,751), corner_timer=0.00
[18:21:07] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (771.438, 776.9834) (added to group)
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (779.1361, 761.4293) (added to group)
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (786.6613, 814.9695) (added to group)
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (754.9698, 755.2911) (added to group)
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (776.4277, 772.9598) (added to group)
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (820.4818, 764.0201) (added to group)
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (803.7282, 832.7169) (added to group)
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (749.7672, 774.3214) (added to group)
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (824.8836, 790.1251) (added to group)
[18:21:07] [ENEMY] [Enemy3] Ragdoll activated
[18:21:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:21:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(615,751), corner_timer=-0.02
[18:21:07] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (889.8334, 797.6271) (added to group)
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (770.6685, 780.8558) (added to group)
[18:21:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(621,751), corner_timer=0.30
[18:21:07] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[18:21:07] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (828.3586, 793.917) (added to group)
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (899.9224, 818.8717) (added to group)
[18:21:07] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=49.9°, current=168.8°, player=(637,751), corner_timer=0.00
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (833.9321, 856.6387) (added to group)
[18:21:07] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[18:21:07] [INFO] [BloodDecal] Blood puddle created at (881.4783, 874.5075) (added to group)
[18:21:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(683,751), corner_timer=-0.02
[18:21:07] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:21:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(683,751), corner_timer=0.30
[18:21:07] [ENEMY] [Enemy2] Hit taken, damage: 10, health: 3/3 -> -7/3
[18:21:07] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[18:21:07] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.841597, -0.540107), lethal=true
[18:21:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:21:07] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:21:07] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1.35)
[18:21:07] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[18:21:07] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:21:07] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 33)
[18:21:07] [INFO] [DeathAnim] Started - Angle: -147.3 deg, Index: 2
[18:21:07] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.841597, -0.540107)
[18:21:07] [ENEMY] [Enemy1] PURSUING corner check: angle -58.4°
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (364.7599, 547.1464) (added to group)
[18:21:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(684,751), corner_timer=-0.02
[18:21:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (336.5731, 529.9284) (added to group)
[18:21:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(684,751), corner_timer=0.30
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (368.5269, 526.2231) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (333.9105, 543.6932) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (344.9375, 488.8343) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (336.9482, 568.9094) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (303.4538, 559.0347) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (321.1122, 484.2636) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (314.3402, 525.2507) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (339.7761, 546.3741) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (318.5945, 500.3312) (added to group)
[18:21:08] [ENEMY] [Enemy2] Ragdoll activated
[18:21:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (287.7044, 496.4131) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (259.1008, 587.7449) (added to group)
[18:21:08] [ENEMY] [Enemy3] Death animation completed
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (267.2047, 595.7733) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (311.0353, 474.1664) (added to group)
[18:21:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (243.2657, 493.1233) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (210.5836, 603.1776) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (216.9434, 594.2852) (added to group)
[18:21:08] [INFO] [BloodDecal] Blood puddle created at (227.8223, 610.621) (added to group)
[18:21:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(684,793), corner_timer=-0.02
[18:21:08] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:21:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(684,793), corner_timer=0.30
[18:21:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(672,795), corner_timer=-0.02
[18:21:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:21:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(670,796), corner_timer=0.30
[18:21:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:09] [ENEMY] [Enemy2] Death animation completed
[18:21:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(642,855), corner_timer=-0.02
[18:21:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:21:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(642,861), corner_timer=0.30
[18:21:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(642,964), corner_timer=-0.02
[18:21:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:21:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(642,969), corner_timer=0.30
[18:21:09] [ENEMY] [Enemy4] Hit taken, damage: 10, health: 3/3 -> -7/3
[18:21:09] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[18:21:09] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.957791, -0.287465), lethal=true
[18:21:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:21:09] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:21:09] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1.35)
[18:21:09] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[18:21:09] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:21:09] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 32)
[18:21:09] [INFO] [DeathAnim] Started - Angle: -16.7 deg, Index: 10
[18:21:09] [ENEMY] [Enemy4] Death animation started with hit direction: (0.957791, -0.287465)
[18:21:09] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=68.0°, current=117.8°, player=(642,983), corner_timer=-0.02
[18:21:09] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:21:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(642,983), corner_timer=-0.02
[18:21:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:21:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(642,982), corner_timer=0.30
[18:21:09] [INFO] [BloodDecal] Blood puddle created at (876.1841, 881.9405) (added to group)
[18:21:09] [INFO] [BloodDecal] Blood puddle created at (850.6926, 883.1499) (added to group)
[18:21:09] [INFO] [BloodDecal] Blood puddle created at (853.5528, 929.1088) (added to group)
[18:21:09] [INFO] [BloodDecal] Blood puddle created at (901.9863, 890.3323) (added to group)
[18:21:09] [INFO] [BloodDecal] Blood puddle created at (864.3168, 924.259) (added to group)
[18:21:09] [INFO] [BloodDecal] Blood puddle created at (890.2759, 936.3242) (added to group)
[18:21:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:10] [INFO] [BloodDecal] Blood puddle created at (866.6559, 872.5379) (added to group)
[18:21:10] [INFO] [BloodDecal] Blood puddle created at (881.6531, 882.8818) (added to group)
[18:21:10] [ENEMY] [Enemy4] Ragdoll activated
[18:21:10] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:21:10] [INFO] [BloodDecal] Blood puddle created at (894.1622, 975.1763) (added to group)
[18:21:10] [INFO] [BloodDecal] Blood puddle created at (906.0681, 871.6054) (added to group)
[18:21:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(486.0453, 630.8128), source=ENEMY (Enemy1), range=1469, listeners=32
[18:21:10] [INFO] [SoundPropagation] Cleaned up 25 invalid listeners
[18:21:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[18:21:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(642,911), corner_timer=-0.02
[18:21:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:21:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(642,905), corner_timer=0.30
[18:21:10] [INFO] [BloodDecal] Blood puddle created at (893.5294, 895.9789) (added to group)
[18:21:10] [INFO] [LastChance] Threat detected: Bullet
[18:21:10] [INFO] [LastChance] Not in hard mode - effect disabled
[18:21:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:21:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.7494, 663.933), source=ENEMY (Enemy1), range=1469, listeners=7
[18:21:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[18:21:10] [INFO] [LastChance] Threat detected: @Area2D@5233
[18:21:10] [INFO] [LastChance] Not in hard mode - effect disabled
[18:21:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:21:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(511.1078, 694.1424), shooter_id=1863478939395, bullet_pos=(688.1239, 1024.733)
[18:21:10] [INFO] [Bullet] Using shooter_position, distance=374.999938964844
[18:21:10] [INFO] [Bullet] Distance to wall: 374.999938964844 (25.5344354081998% of viewport)
[18:21:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:21:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:10] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=48.1°, current=48.2°, player=(642,850), corner_timer=-0.02
[18:21:10] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:21:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(511.1078, 694.1424), shooter_id=1863478939395, bullet_pos=(738.3536, 886.9359)
[18:21:10] [INFO] [Bullet] Using shooter_position, distance=298.010101318359
[18:21:10] [INFO] [Bullet] Distance to wall: 298.010101318359 (20.2920557910227% of viewport)
[18:21:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:21:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(511.1078, 694.1424), shooter_id=1863478939395, bullet_pos=(777.2048, 1006.183)
[18:21:10] [INFO] [Bullet] Using shooter_position, distance=410.094085693359
[18:21:10] [INFO] [Bullet] Distance to wall: 410.094085693359 (27.9240603913899% of viewport)
[18:21:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:21:10] [INFO] [Bullet] Starting wall penetration at (777.2048, 1006.183)
[18:21:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.3657054901123
[18:21:10] [INFO] [Bullet] Body exited signal received for penetrating body
[18:21:10] [INFO] [Bullet] Exiting penetration at (788.0792, 1039.561) after traveling 30.1041698455811 pixels through wall
[18:21:10] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[18:21:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(642,801), corner_timer=-0.02
[18:21:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:21:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(642,795), corner_timer=0.30
[18:21:10] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=29.8°, current=29.9°, player=(642,773), corner_timer=-0.02
[18:21:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(517.8402, 723.5507), shooter_id=1863478939395, bullet_pos=(1002.944, 1401.134)
[18:21:10] [INFO] [Bullet] Using shooter_position, distance=833.333374023438
[18:21:10] [INFO] [Bullet] Distance to wall: 833.333374023438 (56.7432018022102% of viewport)
[18:21:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(517.8402, 723.5507), shooter_id=1863478939395, bullet_pos=(1000.004, 1405.178)
[18:21:10] [INFO] [Bullet] Using shooter_position, distance=834.923522949219
[18:21:10] [INFO] [Bullet] Distance to wall: 834.923522949219 (56.8514779665927% of viewport)
[18:21:10] [INFO] [Bullet] Distance-based penetration chance: 80.3399423723085%
[18:21:10] [INFO] [Bullet] Penetration failed (distance roll)
[18:21:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:10] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:21:10] [ENEMY] [Enemy1] Hit taken, damage: 10, health: 4/4 -> -6/4
[18:21:10] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[18:21:10] [INFO] [ImpactEffects] spawn_blood_effect called at (453.7987, 650.2126), dir=(-0.828419, -0.560109), lethal=true
[18:21:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:21:10] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:21:10] [INFO] [ImpactEffects] Blood effect spawned at (453.7987, 650.2126) (scale=1.35)
[18:21:10] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[18:21:10] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[18:21:10] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[18:21:10] [INFO] [DeathAnim] Started - Angle: -145.9 deg, Index: 2
[18:21:10] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.828419, -0.560109)
[18:21:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(642,691), corner_timer=-0.02
[18:21:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(642,685), corner_timer=0.30
[18:21:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (411.7869, 639.2496) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (365.7025, 624.8887) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (404.1568, 637.9597) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (391.369, 610.1129) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (353.1748, 622.4311) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (392.3819, 607.0845) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (354.8278, 673.8861) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (355.6451, 581.3631) (added to group)
[18:21:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(642,581), corner_timer=-0.02
[18:21:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(642,575), corner_timer=0.30
[18:21:11] [ENEMY] [Enemy1] Ragdoll activated
[18:21:11] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:21:11] [ENEMY] [Enemy4] Death animation completed
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (316.7686, 678.3673) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (359.8401, 672.6314) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (366.4354, 657.6355) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (346.2715, 608.6049) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (381.04, 603.3865) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (361.5695, 684.6178) (added to group)
[18:21:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (377.8562, 613.8188) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (286.9916, 676.8992) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (360.3633, 687.0346) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (344.054, 571.7703) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (346.0399, 571.9921) (added to group)
[18:21:11] [INFO] [BloodDecal] Blood puddle created at (307.4088, 649.4644) (added to group)
[18:21:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(677,485), corner_timer=-0.02
[18:21:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(681,481), corner_timer=0.30
[18:21:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(755,408), corner_timer=-0.02
[18:21:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(759,404), corner_timer=0.30
[18:21:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:12] [ENEMY] [Enemy1] Death animation completed
[18:21:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(854,381), corner_timer=-0.02
[18:21:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(859,381), corner_timer=0.30
[18:21:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(964,381), corner_timer=-0.02
[18:21:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(969,381), corner_timer=0.30
[18:21:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1074,381), corner_timer=-0.02
[18:21:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1079,381), corner_timer=0.30
[18:21:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1171,349), corner_timer=-0.02
[18:21:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1175,345), corner_timer=0.30
[18:21:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1249,271), corner_timer=-0.02
[18:21:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1252,268), corner_timer=0.30
[18:21:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:13] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[18:21:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1326,194), corner_timer=-0.02
[18:21:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1330,190), corner_timer=0.30
[18:21:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1405,117), corner_timer=-0.02
[18:21:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1409,114), corner_timer=0.30
[18:21:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1481,112), corner_timer=-0.02
[18:21:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1483,115), corner_timer=0.30
[18:21:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1496,174), corner_timer=-0.02
[18:21:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1496,175), corner_timer=0.30
[18:21:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1497,177), corner_timer=-0.02
[18:21:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1497,177), corner_timer=0.30
[18:21:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1493,177), corner_timer=-0.02
[18:21:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:15] [ENEMY] [Enemy6] Hit taken, damage: 10, health: 4/4 -> -6/4
[18:21:15] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[18:21:15] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.866096, 0.499878), lethal=true
[18:21:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:21:15] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:21:15] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=1.35)
[18:21:15] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[18:21:15] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:21:15] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 5)
[18:21:15] [INFO] [DeathAnim] Started - Angle: 30.0 deg, Index: 13
[18:21:15] [ENEMY] [Enemy6] Death animation started with hit direction: (0.866096, 0.499878)
[18:21:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1492,177), corner_timer=0.30
[18:21:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:15] [INFO] [BloodDecal] Blood puddle created at (2008.649, 488.8038) (added to group)
[18:21:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1427,196), corner_timer=-0.02
[18:21:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:15] [INFO] [BloodDecal] Blood puddle created at (2029.726, 540.6945) (added to group)
[18:21:15] [INFO] [BloodDecal] Blood puddle created at (1990.091, 502.6789) (added to group)
[18:21:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1424,199), corner_timer=0.30
[18:21:15] [INFO] [BloodDecal] Blood puddle created at (2044.645, 516.5361) (added to group)
[18:21:15] [INFO] [BloodDecal] Blood puddle created at (2033.156, 560.2972) (added to group)
[18:21:15] [INFO] [BloodDecal] Blood puddle created at (2012.348, 568.7307) (added to group)
[18:21:15] [INFO] [BloodDecal] Blood puddle created at (1988.768, 526.1704) (added to group)
[18:21:15] [INFO] [BloodDecal] Blood puddle created at (2017.052, 567.186) (added to group)
[18:21:15] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:15] [INFO] [EnemyGrenade] Unsafe throw distance (155 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [INFO] [BloodDecal] Blood puddle created at (2075.55, 549.6083) (added to group)
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (155 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (154 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [ENEMY] [Enemy6] Ragdoll activated
[18:21:16] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:21:16] [INFO] [BloodDecal] Blood puddle created at (2025.033, 535.977) (added to group)
[18:21:16] [INFO] [BloodDecal] Blood puddle created at (1995.423, 564.248) (added to group)
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [INFO] [BloodDecal] Blood puddle created at (2104.916, 513.0294) (added to group)
[18:21:16] [INFO] [BloodDecal] Blood puddle created at (2065.169, 565.222) (added to group)
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [INFO] [BloodDecal] Blood puddle created at (2070.162, 544.145) (added to group)
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (151 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [INFO] [BloodDecal] Blood puddle created at (2025.237, 563.754) (added to group)
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (149 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (149 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [INFO] [BloodDecal] Blood puddle created at (2032.958, 594.6016) (added to group)
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (148 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [INFO] [BloodDecal] Blood puddle created at (2132.29, 573.674) (added to group)
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [INFO] [BloodDecal] Blood puddle created at (2160.236, 568.8445) (added to group)
[18:21:16] [INFO] [BloodDecal] Blood puddle created at (2012.57, 616.3683) (added to group)
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (145 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1414,294), corner_timer=-0.02
[18:21:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:16] [INFO] [BloodDecal] Blood puddle created at (2083.863, 725.1029) (added to group)
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (145 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1414,299), corner_timer=0.30
[18:21:16] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1414,382), corner_timer=-0.02
[18:21:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1414,384), corner_timer=0.30
[18:21:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:16] [ENEMY] [Enemy5] Hit taken, damage: 10, health: 4/4 -> -6/4
[18:21:16] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[18:21:16] [INFO] [ImpactEffects] spawn_blood_effect called at (1700, 350), dir=(0.990542, -0.137213), lethal=true
[18:21:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:21:16] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:21:16] [INFO] [ImpactEffects] Blood effect spawned at (1700, 350) (scale=1.35)
[18:21:16] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[18:21:16] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:21:16] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 4)
[18:21:16] [INFO] [DeathAnim] Started - Angle: -7.9 deg, Index: 11
[18:21:16] [ENEMY] [Enemy5] Death animation started with hit direction: (0.990542, -0.137213)
[18:21:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1414,390), corner_timer=-0.02
[18:21:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1414,390), corner_timer=0.30
[18:21:16] [ENEMY] [Enemy6] Death animation completed
[18:21:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1752.309, 342.7412) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1777.258, 340.4831) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1785.826, 332.0899) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1748.461, 364.2119) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1754.426, 378.3744) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1771.639, 363.4406) (added to group)
[18:21:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1440,446), corner_timer=-0.02
[18:21:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1443,450), corner_timer=0.30
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1827.353, 323.77) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1821.561, 366.8503) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1807.59, 362.0758) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1773.949, 379.8994) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1785.374, 380.1559) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1800.248, 336.4742) (added to group)
[18:21:17] [ENEMY] [Enemy5] Ragdoll activated
[18:21:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1821.42, 368.8942) (added to group)
[18:21:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1873.133, 402.4173) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1767.577, 366.2063) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1810.034, 444.0934) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1829.348, 392.5495) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1843.397, 362.1775) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1872.979, 415.9362) (added to group)
[18:21:17] [INFO] [BloodDecal] Blood puddle created at (1926.132, 511.2815) (added to group)
[18:21:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1517,524), corner_timer=-0.02
[18:21:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1522,527), corner_timer=0.30
[18:21:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1620,543), corner_timer=-0.02
[18:21:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1625,543), corner_timer=0.30
[18:21:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1730,543), corner_timer=-0.02
[18:21:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1735,543), corner_timer=0.30
[18:21:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:18] [ENEMY] [Enemy5] Death animation completed
[18:21:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1822,586), corner_timer=-0.02
[18:21:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1825,590), corner_timer=0.30
[18:21:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1882,671), corner_timer=-0.02
[18:21:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1883,676), corner_timer=0.30
[18:21:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1883,781), corner_timer=-0.02
[18:21:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1883,786), corner_timer=0.30
[18:21:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1883,857), corner_timer=-0.02
[18:21:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:21:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1883,858), corner_timer=0.30
[18:21:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:19] [ENEMY] [Enemy7] Hit taken, damage: 10, health: 3/3 -> -7/3
[18:21:19] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[18:21:19] [INFO] [ImpactEffects] spawn_blood_effect called at (1611.336, 898.8669), dir=(-0.986608, 0.163111), lethal=true
[18:21:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:21:19] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:21:19] [INFO] [ImpactEffects] Wall found for blood splatter at (1543.995, 910) (dist=68 px)
[18:21:19] [INFO] [BloodDecal] Blood puddle created at (1543.995, 909) (added to group)
[18:21:19] [INFO] [ImpactEffects] Blood effect spawned at (1611.336, 898.8669) (scale=1.35)
[18:21:19] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[18:21:19] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:21:19] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[18:21:19] [INFO] [DeathAnim] Started - Angle: 170.6 deg, Index: 23
[18:21:19] [ENEMY] [Enemy7] Death animation started with hit direction: (-0.986608, 0.163111)
[18:21:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:20] [INFO] [BloodDecal] Blood puddle created at (1556.759, 899.3533) (added to group)
[18:21:20] [INFO] [BloodDecal] Blood puddle created at (1508.121, 907.6014) (added to group)
[18:21:20] [ENEMY] [Enemy7] Ragdoll activated
[18:21:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:21:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:21:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.2°, current=0.6°, player=(1883,1010), corner_timer=0.22
[18:21:20] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[18:21:20] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.5°, current=-134.7°, player=(1883,1021), corner_timer=0.22
[18:21:20] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[18:21:21] [ENEMY] [Enemy7] Death animation completed
[18:21:22] [ENEMY] [Enemy10] PURSUING corner check: angle 73.1°
[18:21:22] [INFO] [ScoreManager] Combo ended at 3. Max combo: 4
[18:21:23] [ENEMY] [Enemy9] Hit taken, damage: 10, health: 2/2 -> -8/2
[18:21:23] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[18:21:23] [INFO] [ImpactEffects] spawn_blood_effect called at (2100, 1550), dir=(-0.352472, 0.935822), lethal=true
[18:21:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:21:23] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:21:23] [INFO] [ImpactEffects] Blood effect spawned at (2100, 1550) (scale=1.35)
[18:21:23] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[18:21:23] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:21:23] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 2)
[18:21:23] [INFO] [DeathAnim] Started - Angle: 110.6 deg, Index: 19
[18:21:23] [ENEMY] [Enemy9] Death animation started with hit direction: (-0.352472, 0.935822)
[18:21:23] [INFO] [BloodDecal] Blood puddle created at (2070.431, 1594.8) (added to group)
[18:21:23] [INFO] [BloodDecal] Blood puddle created at (2083.542, 1630.359) (added to group)
[18:21:23] [INFO] [BloodDecal] Blood puddle created at (2107.807, 1644.378) (added to group)
[18:21:23] [INFO] [BloodDecal] Blood puddle created at (2077.946, 1604.661) (added to group)
[18:21:23] [INFO] [BloodDecal] Blood puddle created at (2073.403, 1626.532) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2094.658, 1659.544) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2081.396, 1664.051) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2095.655, 1704.259) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2075.492, 1690.156) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2007.955, 1700.985) (added to group)
[18:21:24] [ENEMY] [Enemy9] Ragdoll activated
[18:21:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2017.075, 1730.629) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2033.077, 1731.313) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2048.281, 1705.015) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2008.852, 1693.812) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2019.085, 1746.721) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (1997.53, 1769.933) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2068.848, 1788.444) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2104.36, 1753.321) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (2109.948, 1852.753) (added to group)
[18:21:24] [INFO] [BloodDecal] Blood puddle created at (1961.823, 1821.233) (added to group)
[18:21:25] [ENEMY] [Enemy9] Death animation completed
[18:21:26] [ENEMY] [Enemy10] Warning: No valid flank position (both sides behind walls)
[18:21:26] [ENEMY] [Enemy10] FLANKING started: target=(2118.441, 1109.823), side=right, pos=(1445.651, 1423.834)
[18:21:26] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[18:21:26] [ENEMY] [Enemy10] FLANKING corner check: angle 156.9°
[18:21:26] [ENEMY] [Enemy8] Hit taken, damage: 10, health: 2/2 -> -8/2
[18:21:26] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[18:21:26] [INFO] [ImpactEffects] spawn_blood_effect called at (1900, 1450), dir=(-0.886255, 0.463199), lethal=true
[18:21:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:21:26] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:21:26] [INFO] [ImpactEffects] Blood effect spawned at (1900, 1450) (scale=1.35)
[18:21:26] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[18:21:26] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:21:26] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 1)
[18:21:26] [INFO] [DeathAnim] Started - Angle: 152.4 deg, Index: 22
[18:21:26] [ENEMY] [Enemy8] Death animation started with hit direction: (-0.886255, 0.463199)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1855.978, 1488.27) (added to group)
[18:21:26] [ENEMY] [Enemy10] FLANKING corner check: angle -135.5°
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1843.316, 1546.147) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1841.467, 1533.956) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1846, 1495.159) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1824.749, 1508.988) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1777.962, 1539.929) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1824.899, 1549.298) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1784.433, 1517.561) (added to group)
[18:21:26] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=7.7°, current=7.1°, player=(2165,1363), corner_timer=0.15
[18:21:26] [ENEMY] [Enemy8] Ragdoll activated
[18:21:26] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:21:26] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1802.497, 1506.641) (added to group)
[18:21:26] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=11.1°, current=67.0°, player=(2143,1378), corner_timer=0.10
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1720.343, 1512.584) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1801.101, 1580.775) (added to group)
[18:21:26] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=12.6°, current=59.7°, player=(2132,1389), corner_timer=0.10
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1828.544, 1589.894) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1793.828, 1650.737) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1789.444, 1575.59) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1777.797, 1655.299) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1721.162, 1659.463) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1822.134, 1650.926) (added to group)
[18:21:26] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=15.9°, current=40.5°, player=(2099,1417), corner_timer=0.10
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1736.533, 1701.602) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1790.891, 1661.618) (added to group)
[18:21:26] [INFO] [BloodDecal] Blood puddle created at (1761.181, 1658.24) (added to group)
[18:21:27] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=20.9°, current=19.6°, player=(2032,1427), corner_timer=0.10
[18:21:27] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=20.6°, current=21.9°, player=(2027,1427), corner_timer=0.10
[18:21:27] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=21.7°, current=20.4°, player=(2021,1427), corner_timer=0.10
[18:21:27] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=21.4°, current=22.8°, player=(2016,1427), corner_timer=0.10
[18:21:27] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[18:21:27] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=23.4°, current=22.2°, player=(1999,1427), corner_timer=0.10
[18:21:27] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=27.6°, current=27.2°, player=(1939,1427), corner_timer=0.10
[18:21:27] [ENEMY] [Enemy8] Death animation completed
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=27.1°, current=27.8°, player=(1921,1415), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=24.8°, current=31.6°, player=(1928,1409), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=23.4°, current=22.8°, player=(1935,1402), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=21.7°, current=23.5°, player=(1939,1398), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=20.1°, current=18.4°, player=(1947,1390), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=18.5°, current=20.2°, player=(1951,1387), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=16.9°, current=15.2°, player=(1958,1379), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=15.3°, current=17.0°, player=(1962,1375), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=13.8°, current=12.1°, player=(1970,1367), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=12.3°, current=13.9°, player=(1973,1363), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=12.3°, current=10.7°, player=(1976,1359), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=9.3°, current=9.3°, player=(1981,1350), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=9.5°, current=7.8°, player=(1984,1346), corner_timer=0.10
[18:21:28] [ENEMY] [Enemy10] Hit taken, damage: 10, health: 2/2 -> -8/2
[18:21:28] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[18:21:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1697.971, 1269.266), dir=(-0.985016, -0.17246), lethal=true
[18:21:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:21:28] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:21:28] [INFO] [ImpactEffects] Blood effect spawned at (1697.971, 1269.266) (scale=1.35)
[18:21:28] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[18:21:28] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:21:28] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 0)
[18:21:28] [INFO] [DeathAnim] Started - Angle: -170.1 deg, Index: 0
[18:21:28] [ENEMY] [Enemy10] Death animation started with hit direction: (-0.985016, -0.17246)
[18:21:28] [INFO] [ScoreManager] Combo ended at 3. Max combo: 4
[18:21:28] [INFO] [ScoreManager] Level completed! Final score: 26997, Rank: C
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1627.292, 1249.342) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1638.709, 1246.327) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1611.269, 1270.366) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1639.916, 1258.137) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1613.1, 1284.959) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1624.84, 1303.523) (added to group)
[18:21:29] [ENEMY] [Enemy10] Ragdoll activated
[18:21:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1587.429, 1328.891) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1626.792, 1295.258) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1539.313, 1252.416) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1625.133, 1290.3) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1544.745, 1302.853) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1501.546, 1330.986) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1585.854, 1367.125) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1522.298, 1299.335) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1523.083, 1397.583) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1514.82, 1394.961) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1500.574, 1277.888) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1535.057, 1312.463) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1552.927, 1421.619) (added to group)
[18:21:29] [INFO] [BloodDecal] Blood puddle created at (1477.805, 1391.425) (added to group)
[18:21:30] [ENEMY] [Enemy10] Death animation completed
[18:21:31] [INFO] ------------------------------------------------------------
[18:21:31] [INFO] GAME LOG ENDED: 2026-02-03T18:21:31
[18:21:31] [INFO] ============================================================
