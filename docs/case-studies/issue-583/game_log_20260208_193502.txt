[19:35:02] [INFO] ============================================================
[19:35:02] [INFO] GAME LOG STARTED
[19:35:02] [INFO] ============================================================
[19:35:02] [INFO] Timestamp: 2026-02-08T19:35:02
[19:35:02] [INFO] Log file: I:/Загрузки/godot exe/РПГ враг/game_log_20260208_193502.txt
[19:35:02] [INFO] Executable: I:/Загрузки/godot exe/РПГ враг/Godot-Top-Down-Template.exe
[19:35:02] [INFO] OS: Windows
[19:35:02] [INFO] Debug build: false
[19:35:02] [INFO] Engine version: 4.3-stable (official)
[19:35:02] [INFO] Project: Godot Top-Down Template
[19:35:02] [INFO] ------------------------------------------------------------
[19:35:02] [INFO] [GameManager] GameManager ready
[19:35:02] [INFO] [ScoreManager] ScoreManager ready
[19:35:02] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[19:35:02] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[19:35:02] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[19:35:02] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[19:35:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[19:35:02] [INFO] [PenultimateHit] Saturation shader loaded successfully
[19:35:02] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[19:35:02] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[19:35:02] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[19:35:02] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[19:35:02] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[19:35:02] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[19:35:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[19:35:02] [INFO] [LastChance] Last chance shader loaded successfully
[19:35:02] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[19:35:02] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[19:35:02] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[19:35:02] [INFO] [LastChance]   Sepia intensity: 0.70
[19:35:02] [INFO] [LastChance]   Brightness: 0.60
[19:35:02] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[19:35:02] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[19:35:02] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[19:35:02] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: false, Realistic visibility: false
[19:35:02] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[19:35:02] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[19:35:02] [INFO] [CinemaEffects] Created effects layer at layer 99
[19:35:02] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[19:35:02] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[19:35:02] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[19:35:02] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[19:35:02] [INFO] [CinemaEffects]   Grain intensity: 0.15
[19:35:02] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[19:35:02] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[19:35:02] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[19:35:02] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[19:35:02] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[19:35:02] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[19:35:02] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[19:35:02] [INFO] [GrenadeTimerHelper] Autoload ready
[19:35:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[19:35:02] [INFO] [PowerFantasy] Saturation shader loaded successfully
[19:35:02] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[19:35:02] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[19:35:02] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[19:35:02] [INFO] [ProgressManager] ProgressManager ready, loaded 8 entries
[19:35:02] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[19:35:02] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[19:35:02] [INFO] [FlashbangPlayer] Flashbang player shader loaded successfully
[19:35:02] [INFO] [FlashbangPlayer] Starting shader warmup (Issue #343 fix)...
[19:35:02] [INFO] [FlashbangPlayer] FlashbangPlayerEffectsManager ready
[19:35:02] [INFO] [FlashbangPlayer]   Duration range: 1.0-5.0 seconds
[19:35:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:02] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[19:35:02] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[19:35:02] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[19:35:02] [ENEMY] [Enemy1] Death animation component initialized
[19:35:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:02] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[19:35:02] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[19:35:02] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[19:35:02] [ENEMY] [Enemy2] Death animation component initialized
[19:35:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:02] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[19:35:02] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[19:35:02] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[19:35:02] [ENEMY] [Enemy3] Death animation component initialized
[19:35:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:02] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[19:35:02] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[19:35:02] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[19:35:02] [ENEMY] [Enemy4] Death animation component initialized
[19:35:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:02] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[19:35:02] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[19:35:02] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[19:35:02] [ENEMY] [Enemy5] Death animation component initialized
[19:35:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:02] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[19:35:02] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[19:35:02] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[19:35:02] [ENEMY] [Enemy6] Death animation component initialized
[19:35:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:02] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[19:35:02] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[19:35:02] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[19:35:02] [ENEMY] [Enemy7] Death animation component initialized
[19:35:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:02] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[19:35:02] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[19:35:02] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[19:35:02] [ENEMY] [Enemy8] Death animation component initialized
[19:35:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:02] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[19:35:02] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[19:35:02] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[19:35:02] [ENEMY] [Enemy9] Death animation component initialized
[19:35:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:02] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[19:35:02] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[19:35:02] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[19:35:02] [ENEMY] [Enemy10] Death animation component initialized
[19:35:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[19:35:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[19:35:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[19:35:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[19:35:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[19:35:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[19:35:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[19:35:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[19:35:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[19:35:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[19:35:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[19:35:02] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[19:35:02] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[19:35:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[19:35:02] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[19:35:02] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[19:35:02] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[19:35:02] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[19:35:02] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[19:35:02] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[19:35:02] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[19:35:02] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[19:35:02] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[19:35:02] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[19:35:02] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[19:35:02] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[19:35:02] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[19:35:02] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[19:35:02] [INFO] [ScoreManager] Level started with 10 enemies
[19:35:02] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[19:35:02] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[19:35:02] [INFO] [ReplayManager] Replay data cleared
[19:35:02] [INFO] [BuildingLevel] Previous replay data cleared
[19:35:02] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[19:35:02] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[19:35:02] [INFO] [ReplayManager] Level: BuildingLevel
[19:35:02] [INFO] [ReplayManager] Player: Player (valid: True)
[19:35:02] [INFO] [ReplayManager] Enemies count: 10
[19:35:02] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[19:35:02] [INFO] [ReplayManager]   Enemy 0: Enemy1
[19:35:02] [INFO] [ReplayManager]   Enemy 1: Enemy2
[19:35:02] [INFO] [ReplayManager]   Enemy 2: Enemy3
[19:35:02] [INFO] [ReplayManager]   Enemy 3: Enemy4
[19:35:02] [INFO] [ReplayManager]   Enemy 4: Enemy5
[19:35:02] [INFO] [ReplayManager]   Enemy 5: Enemy6
[19:35:02] [INFO] [ReplayManager]   Enemy 6: Enemy7
[19:35:02] [INFO] [ReplayManager]   Enemy 7: Enemy8
[19:35:02] [INFO] [ReplayManager]   Enemy 8: Enemy9
[19:35:02] [INFO] [ReplayManager]   Enemy 9: Enemy10
[19:35:02] [INFO] [BuildingLevel] Replay recording started successfully
[19:35:02] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[19:35:02] [INFO] [CinemaEffects] Found player node: Player
[19:35:02] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[19:35:02] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[19:35:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[19:35:02] [ENEMY] [Enemy1] Registered as sound listener
[19:35:02] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[19:35:02] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[19:35:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[19:35:02] [ENEMY] [Enemy2] Registered as sound listener
[19:35:02] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[19:35:02] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[19:35:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[19:35:02] [ENEMY] [Enemy3] Registered as sound listener
[19:35:02] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[19:35:02] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[19:35:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[19:35:02] [ENEMY] [Enemy4] Registered as sound listener
[19:35:02] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[19:35:02] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[19:35:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[19:35:02] [ENEMY] [Enemy5] Registered as sound listener
[19:35:02] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[19:35:02] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[19:35:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[19:35:02] [ENEMY] [Enemy6] Registered as sound listener
[19:35:02] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[19:35:02] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[19:35:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[19:35:02] [ENEMY] [Enemy7] Registered as sound listener
[19:35:02] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 3, behavior: PATROL
[19:35:02] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[19:35:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[19:35:02] [ENEMY] [Enemy8] Registered as sound listener
[19:35:02] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[19:35:02] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[19:35:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[19:35:02] [ENEMY] [Enemy9] Registered as sound listener
[19:35:02] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[19:35:02] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[19:35:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[19:35:02] [ENEMY] [Enemy10] Registered as sound listener
[19:35:02] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[19:35:02] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[19:35:02] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[19:35:02] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[19:35:02] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[19:35:02] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[19:35:02] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[19:35:02] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[19:35:02] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[19:35:02] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[19:35:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[19:35:02] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[19:35:02] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[19:35:02] [INFO] [PenultimateHit] Shader warmup complete in 458 ms
[19:35:02] [INFO] [LastChance] Shader warmup complete in 457 ms
[19:35:02] [INFO] [CinemaEffects] Cinema shader warmup complete in 402 ms
[19:35:02] [INFO] [FlashbangPlayer] Shader warmup complete in 392 ms
[19:35:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[19:35:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[19:35:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[19:35:02] [INFO] [LastChance] Found player: Player
[19:35:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[19:35:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[19:35:02] [INFO] [LastChance] Connected to player Died signal (C#)
[19:35:02] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[19:35:03] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 751 ms
[19:35:03] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[19:35:04] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[19:35:05] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[19:35:06] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[19:35:07] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[19:35:08] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[19:35:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:ShotgunEnemy1] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:ShotgunEnemy1] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:ShotgunEnemy1] BloodyFeetComponent ready on ShotgunEnemy1
[19:35:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[19:35:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[19:35:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[19:35:09] [INFO] [CinemaEffects] Scene changed to: CastleLevel
[19:35:09] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[19:35:09] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[19:35:09] [ENEMY] [ShotgunEnemy1] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:ShotgunEnemy2] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:ShotgunEnemy2] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:ShotgunEnemy2] BloodyFeetComponent ready on ShotgunEnemy2
[19:35:09] [ENEMY] [ShotgunEnemy2] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:UziEnemy1] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:UziEnemy1] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:UziEnemy1] BloodyFeetComponent ready on UziEnemy1
[19:35:09] [ENEMY] [UziEnemy1] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:UziEnemy2] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:UziEnemy2] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:UziEnemy2] BloodyFeetComponent ready on UziEnemy2
[19:35:09] [ENEMY] [UziEnemy2] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:UziEnemy3] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:UziEnemy3] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:UziEnemy3] BloodyFeetComponent ready on UziEnemy3
[19:35:09] [ENEMY] [UziEnemy3] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:UziEnemyRight1] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:UziEnemyRight1] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:UziEnemyRight1] BloodyFeetComponent ready on UziEnemyRight1
[19:35:09] [ENEMY] [UziEnemyRight1] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:ShotgunEnemyRight1] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:ShotgunEnemyRight1] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:ShotgunEnemyRight1] BloodyFeetComponent ready on ShotgunEnemyRight1
[19:35:09] [ENEMY] [ShotgunEnemyRight1] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:UziEnemyCenter1] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:UziEnemyCenter1] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:UziEnemyCenter1] BloodyFeetComponent ready on UziEnemyCenter1
[19:35:09] [ENEMY] [UziEnemyCenter1] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:UziEnemyCenter2] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:UziEnemyCenter2] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:UziEnemyCenter2] BloodyFeetComponent ready on UziEnemyCenter2
[19:35:09] [ENEMY] [UziEnemyCenter2] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[19:35:09] [ENEMY] [PatrolEnemy1] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[19:35:09] [ENEMY] [PatrolEnemy2] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:LowerEnemy1] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:LowerEnemy1] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:LowerEnemy1] BloodyFeetComponent ready on LowerEnemy1
[19:35:09] [ENEMY] [LowerEnemy1] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:LowerEnemy2] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:LowerEnemy2] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:LowerEnemy2] BloodyFeetComponent ready on LowerEnemy2
[19:35:09] [ENEMY] [LowerEnemy2] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:RpgEnemy1] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:RpgEnemy1] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:RpgEnemy1] BloodyFeetComponent ready on RpgEnemy1
[19:35:09] [ENEMY] [RpgEnemy1] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:RpgEnemy2] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:RpgEnemy2] Found EnemyModel for facing direction
[19:35:09] [INFO] [BloodyFeet:RpgEnemy2] BloodyFeetComponent ready on RpgEnemy2
[19:35:09] [ENEMY] [RpgEnemy2] Death animation component initialized
[19:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:09] [INFO] [BloodyFeet:Player] Footprint scene loaded
[19:35:09] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[19:35:09] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[19:35:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[19:35:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[19:35:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[19:35:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[19:35:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[19:35:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[19:35:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[19:35:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[19:35:09] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[19:35:09] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[19:35:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[19:35:09] [INFO] [CastleLevel] Found Environment/Enemies node with 15 children
[19:35:09] [INFO] [CastleLevel] Child 'ShotgunEnemy1': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'ShotgunEnemy2': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'UziEnemy1': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'UziEnemy2': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'UziEnemy3': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'UziEnemyRight1': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'ShotgunEnemyRight1': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'UziEnemyCenter1': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'UziEnemyCenter2': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'PatrolEnemy1': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'PatrolEnemy2': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'LowerEnemy1': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'LowerEnemy2': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'RpgEnemy1': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Child 'RpgEnemy2': script=true, has_died_signal=true
[19:35:09] [INFO] [CastleLevel] Enemy tracking complete: 15 enemies registered
[19:35:09] [INFO] [ScoreManager] Level started with 15 enemies
[19:35:09] [INFO] [BloodyFeet:ShotgunEnemy1] Blood detector created and attached to ShotgunEnemy1
[19:35:09] [INFO] [CinemaEffects] Found player node: Player
[19:35:09] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[19:35:09] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy1 (total: 11)
[19:35:09] [ENEMY] [ShotgunEnemy1] Registered as sound listener
[19:35:09] [ENEMY] [ShotgunEnemy1] Spawned at (1000, 500), hp: 3, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:ShotgunEnemy2] Blood detector created and attached to ShotgunEnemy2
[19:35:09] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy2 (total: 12)
[19:35:09] [ENEMY] [ShotgunEnemy2] Registered as sound listener
[19:35:09] [ENEMY] [ShotgunEnemy2] Spawned at (1400, 500), hp: 3, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:UziEnemy1] Blood detector created and attached to UziEnemy1
[19:35:09] [INFO] [SoundPropagation] Registered listener: UziEnemy1 (total: 13)
[19:35:09] [ENEMY] [UziEnemy1] Registered as sound listener
[19:35:09] [ENEMY] [UziEnemy1] Spawned at (2500, 550), hp: 3, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:UziEnemy2] Blood detector created and attached to UziEnemy2
[19:35:09] [INFO] [SoundPropagation] Registered listener: UziEnemy2 (total: 14)
[19:35:09] [ENEMY] [UziEnemy2] Registered as sound listener
[19:35:09] [ENEMY] [UziEnemy2] Spawned at (3500, 550), hp: 4, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:UziEnemy3] Blood detector created and attached to UziEnemy3
[19:35:09] [INFO] [SoundPropagation] Registered listener: UziEnemy3 (total: 15)
[19:35:09] [ENEMY] [UziEnemy3] Registered as sound listener
[19:35:09] [ENEMY] [UziEnemy3] Spawned at (3000, 300), hp: 4, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:UziEnemyRight1] Blood detector created and attached to UziEnemyRight1
[19:35:09] [INFO] [SoundPropagation] Registered listener: UziEnemyRight1 (total: 16)
[19:35:09] [ENEMY] [UziEnemyRight1] Registered as sound listener
[19:35:09] [ENEMY] [UziEnemyRight1] Spawned at (4800, 500), hp: 4, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:ShotgunEnemyRight1] Blood detector created and attached to ShotgunEnemyRight1
[19:35:09] [INFO] [SoundPropagation] Registered listener: ShotgunEnemyRight1 (total: 17)
[19:35:09] [ENEMY] [ShotgunEnemyRight1] Registered as sound listener
[19:35:09] [ENEMY] [ShotgunEnemyRight1] Spawned at (5000, 500), hp: 2, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:UziEnemyCenter1] Blood detector created and attached to UziEnemyCenter1
[19:35:09] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter1 (total: 18)
[19:35:09] [ENEMY] [UziEnemyCenter1] Registered as sound listener
[19:35:09] [ENEMY] [UziEnemyCenter1] Spawned at (2200, 1050), hp: 2, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:UziEnemyCenter2] Blood detector created and attached to UziEnemyCenter2
[19:35:09] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter2 (total: 19)
[19:35:09] [ENEMY] [UziEnemyCenter2] Registered as sound listener
[19:35:09] [ENEMY] [UziEnemyCenter2] Spawned at (3800, 1050), hp: 2, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[19:35:09] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 20)
[19:35:09] [ENEMY] [PatrolEnemy1] Registered as sound listener
[19:35:09] [ENEMY] [PatrolEnemy1] Spawned at (1100, 1050), hp: 3, behavior: PATROL
[19:35:09] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[19:35:09] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 21)
[19:35:09] [ENEMY] [PatrolEnemy2] Registered as sound listener
[19:35:09] [ENEMY] [PatrolEnemy2] Spawned at (4900, 1050), hp: 4, behavior: PATROL
[19:35:09] [INFO] [BloodyFeet:LowerEnemy1] Blood detector created and attached to LowerEnemy1
[19:35:09] [INFO] [SoundPropagation] Registered listener: LowerEnemy1 (total: 22)
[19:35:09] [ENEMY] [LowerEnemy1] Registered as sound listener
[19:35:09] [ENEMY] [LowerEnemy1] Spawned at (2150, 1250), hp: 2, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:LowerEnemy2] Blood detector created and attached to LowerEnemy2
[19:35:09] [INFO] [SoundPropagation] Registered listener: LowerEnemy2 (total: 23)
[19:35:09] [ENEMY] [LowerEnemy2] Registered as sound listener
[19:35:09] [ENEMY] [LowerEnemy2] Spawned at (3850, 1250), hp: 3, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:RpgEnemy1] Blood detector created and attached to RpgEnemy1
[19:35:09] [INFO] [SoundPropagation] Registered listener: RpgEnemy1 (total: 24)
[19:35:09] [ENEMY] [RpgEnemy1] Registered as sound listener
[19:35:09] [ENEMY] [RpgEnemy1] Spawned at (2000, 300), hp: 2, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:RpgEnemy2] Blood detector created and attached to RpgEnemy2
[19:35:09] [INFO] [SoundPropagation] Registered listener: RpgEnemy2 (total: 25)
[19:35:09] [ENEMY] [RpgEnemy2] Registered as sound listener
[19:35:09] [ENEMY] [RpgEnemy2] Spawned at (4200, 1050), hp: 1, behavior: GUARD
[19:35:09] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[19:35:09] [ENEMY] [ShotgunEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [ShotgunEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [UziEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [UziEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [UziEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [UziEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [LowerEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [LowerEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [RpgEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [RpgEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=52.7°, current=2.9°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [UziEnemyCenter1] State: IDLE -> COMBAT
[19:35:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[19:35:09] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[19:35:09] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[19:35:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[19:35:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[19:35:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[19:35:09] [INFO] [LastChance] Found player: Player
[19:35:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[19:35:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[19:35:09] [INFO] [LastChance] Connected to player Died signal (C#)
[19:35:09] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[19:35:09] [ENEMY] [LowerEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[19:35:09] [ENEMY] [LowerEnemy1] State: IDLE -> PURSUING
[19:35:09] [ENEMY] [UziEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[19:35:09] [ENEMY] [UziEnemy1] State: IDLE -> PURSUING
[19:35:09] [ENEMY] [LowerEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=45.0°, current=-78.7°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [UziEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=72.1°, current=11.3°, player=(3000,2100), corner_timer=0.00
[19:35:09] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -0.0°
[19:35:09] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[19:35:09] [INFO] [ReplayManager] Recording frame 420 (7,1s): player_valid=False, enemies=10
[19:35:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2351.912, 1249.389), source=ENEMY (UziEnemyCenter1), range=1200, listeners=25
[19:35:10] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[19:35:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:10] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[19:35:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2364.841, 1266.358), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:35:10] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -0.0°
[19:35:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2368.4, 1287.347), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:35:10] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=39.7°, current=39.9°, player=(3000,2100), corner_timer=0.27
[19:35:10] [ENEMY] [LowerEnemy1] State: PURSUING -> COMBAT
[19:35:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2399.605, 1324.856), shooter_id=124151401687, bullet_pos=(2529.66, 1538.364)
[19:35:10] [INFO] [Bullet] Using shooter_position, distance=250.000030517578
[19:35:10] [INFO] [Bullet] Distance to wall: 250.000030517578 (17.0229617874619% of viewport)
[19:35:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:10] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:10] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=39.5°, current=-11.0°, player=(3000,2100), corner_timer=0.27
[19:35:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2366.404, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:35:10] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=39.5°, current=-8.1°, player=(3000,2100), corner_timer=0.27
[19:35:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2362.505, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:35:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2402.331, 1359.732), shooter_id=124151401687, bullet_pos=(2506.134, 1540.364)
[19:35:10] [INFO] [Bullet] Using shooter_position, distance=208.33332824707
[19:35:10] [INFO] [Bullet] Distance to wall: 208.33332824707 (14.1857994115535% of viewport)
[19:35:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:10] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:10] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=51.3°, current=51.3°, player=(3000,2100), corner_timer=0.00
[19:35:10] [ENEMY] [UziEnemyCenter1] State: COMBAT -> PURSUING
[19:35:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2398.605, 1359.624), shooter_id=124151401687, bullet_pos=(2479.138, 1551.762)
[19:35:10] [INFO] [Bullet] Using shooter_position, distance=208.333084106445
[19:35:10] [INFO] [Bullet] Distance to wall: 208.333084106445 (14.1857827875695% of viewport)
[19:35:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:10] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:10] [INFO] [LastChance] Threat detected: Bullet9mm
[19:35:10] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:10] [INFO] [Player] Spawning blood effect at (3000, 2100), dir=(1, 0), lethal=False (C#)
[19:35:10] [INFO] [ImpactEffects] spawn_blood_effect called at (3000, 2100), dir=(1, 0), lethal=false
[19:35:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:10] [INFO] [ImpactEffects] Blood effect spawned at (3000, 2100) (scale=1)
[19:35:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[19:35:10] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[19:35:10] [INFO] [Player] Invincibility mode: ON
[19:35:10] [INFO] [ExperimentalSettings] Invincibility mode enabled
[19:35:10] [INFO] [GameManager] Invincibility mode toggled: ON
[19:35:10] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=40.0°, current=40.0°, player=(3000,2100), corner_timer=0.27
[19:35:10] [INFO] [BloodDecal] Blood puddle created at (3041.592, 2094.831) (added to group)
[19:35:10] [ENEMY] [LowerEnemy1] State: COMBAT -> PURSUING
[19:35:10] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:10] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:10] [INFO] [BloodDecal] Blood puddle created at (3098.912, 2090.037) (added to group)
[19:35:10] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(3000,2100), corner_timer=0.30
[19:35:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(3000,2100), corner_timer=0.30
[19:35:10] [INFO] [ReplayManager] Recording frame 480 (8,1s): player_valid=False, enemies=10
[19:35:10] [INFO] [BloodDecal] Blood puddle created at (3121.775, 2213.705) (added to group)
[19:35:11] [INFO] [BloodDecal] Blood puddle created at (3106.473, 2180.903) (added to group)
[19:35:11] [INFO] [BloodDecal] Blood puddle created at (3151.096, 2174.942) (added to group)
[19:35:11] [INFO] [BloodDecal] Blood puddle created at (3112.189, 2202.41) (added to group)
[19:35:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(3000,2100), corner_timer=-0.02
[19:35:11] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:11] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(3000,2100), corner_timer=-0.02
[19:35:11] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:11] [INFO] [BloodDecal] Blood puddle created at (3168.552, 2179.619) (added to group)
[19:35:11] [INFO] [BloodDecal] Blood puddle created at (3132.31, 2221.792) (added to group)
[19:35:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(3000,2100), corner_timer=0.30
[19:35:11] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(3000,2100), corner_timer=0.30
[19:35:11] [INFO] [BloodDecal] Blood puddle created at (3092.01, 2151.28) (added to group)
[19:35:11] [INFO] [BloodDecal] Blood puddle created at (3157.713, 2233.138) (added to group)
[19:35:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,2100), corner_timer=-0.02
[19:35:11] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:11] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,2100), corner_timer=-0.02
[19:35:11] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,2100), corner_timer=0.30
[19:35:11] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,2100), corner_timer=0.30
[19:35:11] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=49.2°, current=49.4°, player=(3000,2043), corner_timer=0.00
[19:35:11] [ENEMY] [UziEnemyCenter1] State: PURSUING -> COMBAT
[19:35:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,2038), corner_timer=-0.02
[19:35:11] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:11] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,2038), corner_timer=-0.02
[19:35:11] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:11] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=48.7°, current=46.6°, player=(3000,2032), corner_timer=0.00
[19:35:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,2032), corner_timer=0.30
[19:35:11] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,2032), corner_timer=0.30
[19:35:11] [ENEMY] [UziEnemy1] Warning: No valid flank position (both sides behind walls)
[19:35:11] [ENEMY] [UziEnemy1] FLANKING started: target=(3133.992, 1878.688), side=right, pos=(2570.06, 698.8902)
[19:35:11] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[19:35:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:ShotgunEnemy1] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:ShotgunEnemy1] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:ShotgunEnemy1] BloodyFeetComponent ready on ShotgunEnemy1
[19:35:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[19:35:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[19:35:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[19:35:11] [INFO] [CinemaEffects] Scene changed to: CastleLevel
[19:35:11] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[19:35:11] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[19:35:11] [ENEMY] [ShotgunEnemy1] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:ShotgunEnemy2] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:ShotgunEnemy2] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:ShotgunEnemy2] BloodyFeetComponent ready on ShotgunEnemy2
[19:35:11] [ENEMY] [ShotgunEnemy2] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:UziEnemy1] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:UziEnemy1] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:UziEnemy1] BloodyFeetComponent ready on UziEnemy1
[19:35:11] [ENEMY] [UziEnemy1] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:UziEnemy2] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:UziEnemy2] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:UziEnemy2] BloodyFeetComponent ready on UziEnemy2
[19:35:11] [ENEMY] [UziEnemy2] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:UziEnemy3] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:UziEnemy3] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:UziEnemy3] BloodyFeetComponent ready on UziEnemy3
[19:35:11] [ENEMY] [UziEnemy3] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:UziEnemyRight1] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:UziEnemyRight1] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:UziEnemyRight1] BloodyFeetComponent ready on UziEnemyRight1
[19:35:11] [ENEMY] [UziEnemyRight1] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:ShotgunEnemyRight1] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:ShotgunEnemyRight1] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:ShotgunEnemyRight1] BloodyFeetComponent ready on ShotgunEnemyRight1
[19:35:11] [ENEMY] [ShotgunEnemyRight1] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:UziEnemyCenter1] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:UziEnemyCenter1] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:UziEnemyCenter1] BloodyFeetComponent ready on UziEnemyCenter1
[19:35:11] [ENEMY] [UziEnemyCenter1] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:UziEnemyCenter2] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:UziEnemyCenter2] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:UziEnemyCenter2] BloodyFeetComponent ready on UziEnemyCenter2
[19:35:11] [ENEMY] [UziEnemyCenter2] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[19:35:11] [ENEMY] [PatrolEnemy1] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[19:35:11] [ENEMY] [PatrolEnemy2] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:LowerEnemy1] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:LowerEnemy1] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:LowerEnemy1] BloodyFeetComponent ready on LowerEnemy1
[19:35:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[19:35:11] [ENEMY] [LowerEnemy1] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:LowerEnemy2] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:LowerEnemy2] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:LowerEnemy2] BloodyFeetComponent ready on LowerEnemy2
[19:35:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[19:35:11] [ENEMY] [LowerEnemy2] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:RpgEnemy1] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:RpgEnemy1] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:RpgEnemy1] BloodyFeetComponent ready on RpgEnemy1
[19:35:11] [ENEMY] [RpgEnemy1] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:RpgEnemy2] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:RpgEnemy2] Found EnemyModel for facing direction
[19:35:11] [INFO] [BloodyFeet:RpgEnemy2] BloodyFeetComponent ready on RpgEnemy2
[19:35:11] [ENEMY] [RpgEnemy2] Death animation component initialized
[19:35:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:11] [INFO] [BloodyFeet:Player] Footprint scene loaded
[19:35:11] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[19:35:11] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[19:35:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[19:35:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[19:35:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[19:35:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[19:35:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[19:35:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[19:35:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[19:35:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[19:35:11] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[19:35:11] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[19:35:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[19:35:11] [INFO] [CastleLevel] Found Environment/Enemies node with 15 children
[19:35:11] [INFO] [CastleLevel] Child 'ShotgunEnemy1': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'ShotgunEnemy2': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'UziEnemy1': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'UziEnemy2': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'UziEnemy3': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'UziEnemyRight1': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'ShotgunEnemyRight1': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'UziEnemyCenter1': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'UziEnemyCenter2': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'PatrolEnemy1': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'PatrolEnemy2': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'LowerEnemy1': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'LowerEnemy2': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'RpgEnemy1': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Child 'RpgEnemy2': script=true, has_died_signal=true
[19:35:11] [INFO] [CastleLevel] Enemy tracking complete: 15 enemies registered
[19:35:11] [INFO] [ScoreManager] Level started with 15 enemies
[19:35:11] [INFO] [BloodyFeet:ShotgunEnemy1] Blood detector created and attached to ShotgunEnemy1
[19:35:11] [INFO] [CinemaEffects] Found player node: Player
[19:35:11] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[19:35:11] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy1 (total: 16)
[19:35:11] [ENEMY] [ShotgunEnemy1] Registered as sound listener
[19:35:11] [ENEMY] [ShotgunEnemy1] Spawned at (1000, 500), hp: 3, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:ShotgunEnemy2] Blood detector created and attached to ShotgunEnemy2
[19:35:11] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy2 (total: 17)
[19:35:11] [ENEMY] [ShotgunEnemy2] Registered as sound listener
[19:35:11] [ENEMY] [ShotgunEnemy2] Spawned at (1400, 500), hp: 4, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:UziEnemy1] Blood detector created and attached to UziEnemy1
[19:35:11] [INFO] [SoundPropagation] Registered listener: UziEnemy1 (total: 18)
[19:35:11] [ENEMY] [UziEnemy1] Registered as sound listener
[19:35:11] [ENEMY] [UziEnemy1] Spawned at (2500, 550), hp: 3, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:UziEnemy2] Blood detector created and attached to UziEnemy2
[19:35:11] [INFO] [SoundPropagation] Registered listener: UziEnemy2 (total: 19)
[19:35:11] [ENEMY] [UziEnemy2] Registered as sound listener
[19:35:11] [ENEMY] [UziEnemy2] Spawned at (3500, 550), hp: 2, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:UziEnemy3] Blood detector created and attached to UziEnemy3
[19:35:11] [INFO] [SoundPropagation] Registered listener: UziEnemy3 (total: 20)
[19:35:11] [ENEMY] [UziEnemy3] Registered as sound listener
[19:35:11] [ENEMY] [UziEnemy3] Spawned at (3000, 300), hp: 4, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:UziEnemyRight1] Blood detector created and attached to UziEnemyRight1
[19:35:11] [INFO] [SoundPropagation] Registered listener: UziEnemyRight1 (total: 21)
[19:35:11] [ENEMY] [UziEnemyRight1] Registered as sound listener
[19:35:11] [ENEMY] [UziEnemyRight1] Spawned at (4800, 500), hp: 4, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:ShotgunEnemyRight1] Blood detector created and attached to ShotgunEnemyRight1
[19:35:11] [INFO] [SoundPropagation] Registered listener: ShotgunEnemyRight1 (total: 22)
[19:35:11] [ENEMY] [ShotgunEnemyRight1] Registered as sound listener
[19:35:11] [ENEMY] [ShotgunEnemyRight1] Spawned at (5000, 500), hp: 2, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:UziEnemyCenter1] Blood detector created and attached to UziEnemyCenter1
[19:35:11] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter1 (total: 23)
[19:35:11] [ENEMY] [UziEnemyCenter1] Registered as sound listener
[19:35:11] [ENEMY] [UziEnemyCenter1] Spawned at (2200, 1050), hp: 3, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:UziEnemyCenter2] Blood detector created and attached to UziEnemyCenter2
[19:35:11] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter2 (total: 24)
[19:35:11] [ENEMY] [UziEnemyCenter2] Registered as sound listener
[19:35:11] [ENEMY] [UziEnemyCenter2] Spawned at (3800, 1050), hp: 4, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[19:35:11] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 25)
[19:35:11] [ENEMY] [PatrolEnemy1] Registered as sound listener
[19:35:11] [ENEMY] [PatrolEnemy1] Spawned at (1100, 1050), hp: 3, behavior: PATROL
[19:35:11] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[19:35:11] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 26)
[19:35:11] [ENEMY] [PatrolEnemy2] Registered as sound listener
[19:35:11] [ENEMY] [PatrolEnemy2] Spawned at (4900, 1050), hp: 4, behavior: PATROL
[19:35:11] [INFO] [BloodyFeet:LowerEnemy1] Blood detector created and attached to LowerEnemy1
[19:35:11] [INFO] [SoundPropagation] Registered listener: LowerEnemy1 (total: 27)
[19:35:11] [ENEMY] [LowerEnemy1] Registered as sound listener
[19:35:11] [ENEMY] [LowerEnemy1] Spawned at (2150, 1250), hp: 3, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:LowerEnemy2] Blood detector created and attached to LowerEnemy2
[19:35:11] [INFO] [SoundPropagation] Registered listener: LowerEnemy2 (total: 28)
[19:35:11] [ENEMY] [LowerEnemy2] Registered as sound listener
[19:35:11] [ENEMY] [LowerEnemy2] Spawned at (3850, 1250), hp: 4, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:RpgEnemy1] Blood detector created and attached to RpgEnemy1
[19:35:11] [INFO] [SoundPropagation] Registered listener: RpgEnemy1 (total: 29)
[19:35:11] [ENEMY] [RpgEnemy1] Registered as sound listener
[19:35:11] [ENEMY] [RpgEnemy1] Spawned at (2000, 300), hp: 2, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:RpgEnemy2] Blood detector created and attached to RpgEnemy2
[19:35:11] [INFO] [SoundPropagation] Registered listener: RpgEnemy2 (total: 30)
[19:35:11] [ENEMY] [RpgEnemy2] Registered as sound listener
[19:35:11] [ENEMY] [RpgEnemy2] Spawned at (4200, 1050), hp: 1, behavior: GUARD
[19:35:11] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[19:35:11] [ENEMY] [ShotgunEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [ShotgunEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [UziEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [UziEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [UziEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [UziEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=22.5°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [LowerEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [LowerEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [RpgEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [RpgEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=52.7°, current=2.9°, player=(3000,2099), corner_timer=0.00
[19:35:11] [ENEMY] [UziEnemyCenter1] State: IDLE -> COMBAT
[19:35:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[19:35:11] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[19:35:11] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[19:35:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[19:35:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[19:35:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[19:35:11] [INFO] [LastChance] Found player: Player
[19:35:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[19:35:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[19:35:11] [INFO] [LastChance] Connected to player Died signal (C#)
[19:35:11] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[19:35:11] [INFO] [ReplayManager] Recording frame 540 (9,1s): player_valid=False, enemies=10
[19:35:12] [ENEMY] [LowerEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[19:35:12] [ENEMY] [LowerEnemy1] State: IDLE -> PURSUING
[19:35:12] [ENEMY] [UziEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[19:35:12] [ENEMY] [UziEnemy1] State: IDLE -> PURSUING
[19:35:12] [ENEMY] [LowerEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=40.4°, current=-78.7°, player=(3000,1972), corner_timer=0.00
[19:35:12] [ENEMY] [UziEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.6°, current=-56.3°, player=(3000,1966), corner_timer=0.00
[19:35:12] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -77.4°
[19:35:12] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[19:35:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2362.917, 1240.212), source=ENEMY (UziEnemyCenter1), range=1200, listeners=30
[19:35:12] [INFO] [SoundPropagation] Cleaned up 15 invalid listeners
[19:35:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:12] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -96.6°
[19:35:12] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[19:35:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2378.216, 1255.079), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2393.788, 1269.661), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2410.715, 1282.121), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:12] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=37.4°, current=20.9°, player=(3000,1801), corner_timer=0.15
[19:35:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2456.294, 1332.705), shooter_id=220167408261, bullet_pos=(2529.719, 1372.116)
[19:35:12] [INFO] [Bullet] Using shooter_position, distance=83.3334197998047
[19:35:12] [INFO] [Bullet] Distance to wall: 83.3334197998047 (5.67432579081565% of viewport)
[19:35:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:12] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:12] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=40.5°, current=40.5°, player=(3000,1779), corner_timer=0.00
[19:35:12] [ENEMY] [UziEnemyCenter1] State: COMBAT -> PURSUING
[19:35:12] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=36.3°, current=100.9°, player=(3000,1779), corner_timer=0.08
[19:35:12] [INFO] [ReplayManager] Recording frame 600 (10,1s): player_valid=False, enemies=10
[19:35:13] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=34.2°, current=83.7°, player=(3000,1746), corner_timer=0.08
[19:35:13] [INFO] [LastChance] Threat detected: @Area2D@1194
[19:35:13] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:13] [ENEMY] [LowerEnemy1] State: PURSUING -> COMBAT
[19:35:13] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=30.6°, current=30.6°, player=(3000,1653), corner_timer=0.08
[19:35:13] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:13] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(3000,1631), corner_timer=0.30
[19:35:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(3000,1631), corner_timer=0.30
[19:35:13] [ENEMY] [LowerEnemy1] State: COMBAT -> PURSUING
[19:35:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(3000,1526), corner_timer=-0.02
[19:35:13] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(3000,1526), corner_timer=-0.02
[19:35:13] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(3000,1521), corner_timer=0.30
[19:35:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(3000,1521), corner_timer=0.30
[19:35:13] [INFO] [ReplayManager] Recording frame 660 (11,1s): player_valid=False, enemies=10
[19:35:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,1416), corner_timer=-0.02
[19:35:14] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:14] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,1416), corner_timer=-0.02
[19:35:14] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,1411), corner_timer=0.30
[19:35:14] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,1411), corner_timer=0.30
[19:35:14] [ENEMY] [LowerEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=171.4°, current=168.8°, player=(3000,1378), corner_timer=0.00
[19:35:14] [ENEMY] [LowerEnemy2] State: IDLE -> COMBAT
[19:35:14] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=7.7°, current=8.3°, player=(3000,1372), corner_timer=0.00
[19:35:14] [ENEMY] [LowerEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=172.2°, current=-16.4°, player=(3000,1367), corner_timer=0.00
[19:35:14] [ENEMY] [UziEnemyCenter1] State: PURSUING -> COMBAT
[19:35:14] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=1.5°, current=2.0°, player=(3000,1338), corner_timer=0.08
[19:35:14] [ENEMY] [LowerEnemy1] State: PURSUING -> COMBAT
[19:35:14] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=0.4°, current=-22.5°, player=(3000,1330), corner_timer=0.08
[19:35:14] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=0.4°, current=-20.4°, player=(3000,1327), corner_timer=0.08
[19:35:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,1321), corner_timer=-0.02
[19:35:14] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:14] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,1321), corner_timer=-0.02
[19:35:14] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,1319), corner_timer=0.30
[19:35:14] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,1319), corner_timer=0.30
[19:35:14] [ENEMY] [UziEnemy1] Warning: No valid flank position (both sides behind walls)
[19:35:14] [ENEMY] [UziEnemy1] FLANKING started: target=(3085.134, 1136.358), side=right, pos=(2570.059, 698.892)
[19:35:14] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[19:35:14] [ENEMY] [UziEnemyCenter2] Memory: high confidence (0.88) - transitioning to PURSUING
[19:35:14] [ENEMY] [UziEnemyCenter2] State: IDLE -> PURSUING
[19:35:14] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=161.7°, current=56.2°, player=(3000,1313), corner_timer=0.00
[19:35:14] [ENEMY] [UziEnemyCenter2] PURSUING corner check: angle 25.6°
[19:35:14] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=162.2°, current=177.6°, player=(3000,1311), corner_timer=0.30
[19:35:14] [ENEMY] [UziEnemy1] FLANKING corner check: angle -108.3°
[19:35:14] [ENEMY] [LowerEnemy2] State: COMBAT -> PURSUING
[19:35:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,1309), corner_timer=-0.02
[19:35:14] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:14] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,1309), corner_timer=-0.02
[19:35:14] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:14] [ENEMY] [UziEnemyCenter2] State: PURSUING -> COMBAT
[19:35:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,1309), corner_timer=0.30
[19:35:14] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,1309), corner_timer=0.30
[19:35:14] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-141.8°, player=(3000,1309), corner_timer=0.05
[19:35:14] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=166.8°, current=-144.6°, player=(3000,1309), corner_timer=0.05
[19:35:14] [ENEMY] [LowerEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=176.2°, current=-135.2°, player=(3000,1309), corner_timer=0.00
[19:35:14] [ENEMY] [UziEnemy1] FLANKING corner check: angle -103.5°
[19:35:14] [ENEMY] [RpgEnemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[19:35:14] [ENEMY] [RpgEnemy2] State: IDLE -> PURSUING
[19:35:14] [ENEMY] [UziEnemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[19:35:14] [ENEMY] [UziEnemy2] State: IDLE -> PURSUING
[19:35:14] [ENEMY] [RpgEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=167.9°, current=56.2°, player=(3000,1307), corner_timer=0.00
[19:35:14] [ENEMY] [RpgEnemy2] PURSUING_MEMORY corner check: angle 77.8°
[19:35:14] [INFO] [ReplayManager] Recording frame 720 (12,1s): player_valid=False, enemies=10
[19:35:14] [ENEMY] [UziEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=123.5°, current=-56.3°, player=(3000,1306), corner_timer=0.00
[19:35:14] [ENEMY] [UziEnemy2] PURSUING corner check: angle 50.9°
[19:35:14] [ENEMY] [LowerEnemy2] State: PURSUING -> COMBAT
[19:35:15] [ENEMY] [RpgEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=168.3°, current=-144.5°, player=(3000,1297), corner_timer=0.23
[19:35:15] [ENEMY] [RpgEnemy2] FLANKING started: target=(3062.921, 1108.1), side=left, pos=(4173.933, 1055.625)
[19:35:15] [ENEMY] [RpgEnemy2] State: PURSUING -> FLANKING
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2676.207, 1267.093), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=6
[19:35:15] [ENEMY] [RpgEnemy2] State: FLANKING -> COMBAT
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2685.879, 1268.178), source=ENEMY (LowerEnemy1), range=1469, listeners=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=7
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2697.488, 1268.562), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=6
[19:35:15] [INFO] [LastChance] Threat detected: Bullet
[19:35:15] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:15] [INFO] [LastChance] Threat detected: @Area2D@1222
[19:35:15] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2718.816, 1268.816), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=1, below_threshold=5
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2723.192, 1268.301), source=ENEMY (LowerEnemy1), range=1469, listeners=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=8
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2740.113, 1267.632), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=1, below_threshold=5
[19:35:15] [INFO] [LastChance] Threat detected: @Area2D@1228
[19:35:15] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:15] [ENEMY] [UziEnemy1] FLANKING corner check: angle -93.1°
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (136 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [ENEMY] [LowerEnemy1] State: COMBAT -> RETREATING
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (135 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.962, 1280.663), shooter_id=220167408261, bullet_pos=(3319.819, 1367.352)
[19:35:15] [INFO] [Bullet] Using shooter_position, distance=583.334655761719
[19:35:15] [INFO] [Bullet] Distance to wall: 583.334655761719 (39.7203293686628% of viewport)
[19:35:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:15] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:15] [ENEMY] [UziEnemy2] PURSUING corner check: angle 50.9°
[19:35:15] [ENEMY] [UziEnemyCenter1] State: COMBAT -> RETREATING
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2766.572, 1264.345), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:15] [ENEMY] [LowerEnemy1] Heard gunshot at (2766.572, 1264.345), source_type=1, intensity=1.00, distance=29
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=1, below_threshold=5
[19:35:15] [ENEMY] [LowerEnemy1] State: COMBAT -> RETREATING
[19:35:15] [INFO] [LastChance] Threat detected: @Area2D@1235
[19:35:15] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2751.931, 1267.199), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:15] [ENEMY] [LowerEnemy1] Heard gunshot at (2751.931, 1267.199), source_type=1, intensity=1.00, distance=29
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=1, below_threshold=5
[19:35:15] [ENEMY] [LowerEnemy1] State: COMBAT -> RETREATING
[19:35:15] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=72.3°, current=74.6°, player=(3048,1193), corner_timer=0.13
[19:35:15] [ENEMY] [UziEnemy1] State: FLANKING -> COMBAT
[19:35:15] [ENEMY] [UziEnemy3] Memory: medium confidence (0.76) - transitioning to PURSUING
[19:35:15] [ENEMY] [UziEnemy3] State: IDLE -> PURSUING
[19:35:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2753.1016, 1279.3615), shooter_id=221576694494, bullet_pos=(3626.9343, 1324.5094)
[19:35:15] [INFO] [Bullet] Using shooter_position, distance=874,9983
[19:35:15] [INFO] [Bullet] Distance to wall: 874,9983 (59,580242% of viewport)
[19:35:15] [INFO] [Bullet] Distance-based penetration chance: 77,15638%
[19:35:15] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:15] [INFO] [LastChance] Threat detected: @Area2D@1237
[19:35:15] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:15] [ENEMY] [UziEnemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=86.8°, current=56.2°, player=(3052,1189), corner_timer=0.00
[19:35:15] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -81.4°
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2737.678, 1271.436), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:15] [ENEMY] [LowerEnemy1] Heard gunshot at (2737.678, 1271.436), source_type=1, intensity=1.00, distance=28
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=1, below_threshold=5
[19:35:15] [ENEMY] [LowerEnemy1] State: COMBAT -> RETREATING
[19:35:15] [ENEMY] [UziEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=71.5°, current=132.7°, player=(3056,1185), corner_timer=0.13
[19:35:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:15] [INFO] [Player] Spawning blood effect at (3063.8916, 1178.1953), dir=(1, 0), lethal=False (C#)
[19:35:15] [INFO] [ImpactEffects] spawn_blood_effect called at (3063.892, 1178.195), dir=(1, 0), lethal=false
[19:35:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:15] [INFO] [ImpactEffects] Blood effect spawned at (3063.892, 1178.195) (scale=1)
[19:35:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2786.755, 1274.548), shooter_id=220167408261, bullet_pos=(3618.63, 1323.818)
[19:35:15] [INFO] [Bullet] Using shooter_position, distance=833.332824707031
[19:35:15] [INFO] [Bullet] Distance to wall: 833.332824707031 (56.743164398246% of viewport)
[19:35:15] [INFO] [Bullet] Distance-based penetration chance: 80.4663082020463%
[19:35:15] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2723.084, 1274.579), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:15] [ENEMY] [LowerEnemy1] Heard gunshot at (2723.084, 1274.579), source_type=1, intensity=1.00, distance=23
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=1, below_threshold=5
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3513.875, 1171.201), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=6
[19:35:15] [ENEMY] [LowerEnemy1] State: COMBAT -> RETREATING
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2708.597, 1278.201), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:15] [ENEMY] [LowerEnemy1] Heard gunshot at (2708.597, 1278.201), source_type=1, intensity=1.00, distance=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=1, below_threshold=5
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3492.543, 1171.076), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=6
[19:35:15] [ENEMY] [LowerEnemy1] State: COMBAT -> RETREATING
[19:35:15] [INFO] [LastChance] Threat detected: @Area2D@1272
[19:35:15] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:15] [ENEMY] [UziEnemyCenter2] Hit: dmg=1, hp=4/4->3/4
[19:35:15] [INFO] [ImpactEffects] spawn_blood_effect called at (3487.212, 1170.939), dir=(0.994191, -0.107632), lethal=false
[19:35:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:15] [INFO] [ImpactEffects] Blood effect spawned at (3487.212, 1170.939) (scale=0.5)
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [ENEMY] [LowerEnemy2] State: COMBAT -> RETREATING
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [ENEMY] [UziEnemy2] PURSUING corner check: angle -129.1°
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2693.869, 1277.692), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:15] [ENEMY] [LowerEnemy1] Heard gunshot at (2693.869, 1277.692), source_type=1, intensity=1.00, distance=9
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=6
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3471.224, 1170.318), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:35:15] [ENEMY] [LowerEnemy2] Heard gunshot at (3471.224, 1170.318), source_type=1, intensity=0.32, distance=88
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=6
[19:35:15] [ENEMY] [LowerEnemy1] State: COMBAT -> RETREATING
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (199 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [ENEMY] [LowerEnemy2] State: COMBAT -> RETREATING
[19:35:15] [INFO] [LastChance] Threat detected: @Area2D@1281
[19:35:15] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (198 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [ENEMY] [UziEnemyCenter2] State: COMBAT -> RETREATING
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (197 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2808.274, 1268.88), shooter_id=220167408261, bullet_pos=(3903.593, 1525.595)
[19:35:15] [INFO] [Bullet] Using shooter_position, distance=1125.00073242188
[19:35:15] [INFO] [Bullet] Distance to wall: 1125.00073242188 (76.6033685645396% of viewport)
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (196 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2678.958, 1277.883), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:15] [ENEMY] [LowerEnemy1] Heard gunshot at (2678.958, 1277.883), source_type=1, intensity=1.00, distance=8
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=6
[19:35:15] [ENEMY] [LowerEnemy1] State: COMBAT -> RETREATING
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (194 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (193 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3455.035, 1177.464), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=1, below_threshold=4
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (192 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (190 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -113.7°
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2664.437, 1281.255), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:15] [ENEMY] [LowerEnemy1] Heard gunshot at (2664.437, 1281.255), source_type=1, intensity=1.00, distance=6
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=6
[19:35:15] [ENEMY] [LowerEnemy1] State: COMBAT -> RETREATING
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (188 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3454.759, 1188.128), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=5
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (188 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [BloodDecal] Blood puddle created at (3143.931, 1189.827) (added to group)
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (187 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3914.902, 1088.336), source=ENEMY (RpgEnemy2), range=2500, listeners=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=9
[19:35:15] [INFO] [LastChance] Threat detected: Bullet9mm
[19:35:15] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (186 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [BloodDecal] Blood puddle created at (3154.08, 1233.225) (added to group)
[19:35:15] [INFO] [BloodDecal] Blood puddle created at (3536.542, 1153.745) (added to group)
[19:35:15] [INFO] [LastChance] Threat detected: @Area2D@1310
[19:35:15] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (185 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3454.468, 1198.79), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:35:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=5
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (185 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [BloodDecal] Blood puddle created at (3137.566, 1183.292) (added to group)
[19:35:15] [INFO] [BloodDecal] Blood puddle created at (3542.979, 1200.206) (added to group)
[19:35:15] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[19:35:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2791.2732, 1271.8745), shooter_id=221576694494, bullet_pos=(4538.4365, 1172.345)
[19:35:15] [INFO] [Bullet] Using shooter_position, distance=1749,996
[19:35:15] [INFO] [Bullet] Distance to wall: 1749,996 (119,160446% of viewport)
[19:35:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:15] [INFO] [Player] Spawning blood effect at (3176.289, 1147.7689), dir=(1, 0), lethal=False (C#)
[19:35:15] [INFO] [ImpactEffects] spawn_blood_effect called at (3176.289, 1147.769), dir=(1, 0), lethal=false
[19:35:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:15] [INFO] [ImpactEffects] Blood effect spawned at (3176.289, 1147.769) (scale=1)
[19:35:15] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=25.6°, current=126.5°, player=(3176,1147), corner_timer=0.05
[19:35:15] [INFO] [LastChance] Threat detected: @Area2D@1329
[19:35:15] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:15] [INFO] [LastChance] Threat detected: @Area2D@1305
[19:35:15] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:15] [INFO] [BloodDecal] Blood puddle created at (3168.597, 1224.495) (added to group)
[19:35:16] [INFO] [ReplayManager] Recording frame 780 (13,1s): player_valid=False, enemies=10
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3181.204, 1209.947) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3207.736, 1194.36) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3558.054, 1160.523) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3557.385, 1170.773) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3556.343, 1188.303) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3173.079, 1238.208) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3659.563, 1300.71) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3261.612, 1286.4) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3638.511, 1267.582) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3269.032, 1287.898) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3666.397, 1295.862) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3608.547, 1264.662) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3215.312, 1367.756) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3595.659, 1245.135) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3254.582, 1167.683) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3253.16, 1192.532) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3302.025, 1218.128) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3273.943, 1165.471) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3259.787, 1184.02) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3305.418, 1239.305) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3270.499, 1207.684) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3325.169, 1279.73) (added to group)
[19:35:16] [INFO] [BloodDecal] Blood puddle created at (3369.693, 1320.335) (added to group)
[19:35:16] [INFO] [PauseMenu] Armory button pressed
[19:35:16] [INFO] [PauseMenu] Creating new armory menu instance
[19:35:16] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[19:35:16] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[19:35:16] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[19:35:16] [INFO] [PauseMenu] back_pressed signal exists on instance
[19:35:16] [INFO] [PauseMenu] back_pressed signal connected
[19:35:16] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[19:35:16] [INFO] [PauseMenu] _populate_weapon_grid method exists
[19:35:16] [INFO] [ReplayManager] Recording frame 840 (14,1s): player_valid=False, enemies=10
[19:35:17] [INFO] [ReplayManager] Recording frame 900 (15,1s): player_valid=False, enemies=10
[19:35:18] [INFO] [ReplayManager] Recording frame 960 (16,1s): player_valid=False, enemies=10
[19:35:19] [INFO] [ReplayManager] Recording frame 1020 (17,1s): player_valid=False, enemies=10
[19:35:20] [INFO] [GameManager] Weapon selected: sniper
[19:35:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:ShotgunEnemy1] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:ShotgunEnemy1] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:ShotgunEnemy1] BloodyFeetComponent ready on ShotgunEnemy1
[19:35:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[19:35:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[19:35:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[19:35:20] [INFO] [CinemaEffects] Scene changed to: CastleLevel
[19:35:20] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[19:35:20] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[19:35:20] [ENEMY] [ShotgunEnemy1] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:ShotgunEnemy2] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:ShotgunEnemy2] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:ShotgunEnemy2] BloodyFeetComponent ready on ShotgunEnemy2
[19:35:20] [ENEMY] [ShotgunEnemy2] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:UziEnemy1] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:UziEnemy1] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:UziEnemy1] BloodyFeetComponent ready on UziEnemy1
[19:35:20] [ENEMY] [UziEnemy1] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:UziEnemy2] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:UziEnemy2] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:UziEnemy2] BloodyFeetComponent ready on UziEnemy2
[19:35:20] [ENEMY] [UziEnemy2] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:UziEnemy3] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:UziEnemy3] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:UziEnemy3] BloodyFeetComponent ready on UziEnemy3
[19:35:20] [INFO] [EnemyGrenade] Initialized: 1 grenades
[19:35:20] [ENEMY] [UziEnemy3] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:UziEnemyRight1] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:UziEnemyRight1] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:UziEnemyRight1] BloodyFeetComponent ready on UziEnemyRight1
[19:35:20] [ENEMY] [UziEnemyRight1] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:ShotgunEnemyRight1] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:ShotgunEnemyRight1] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:ShotgunEnemyRight1] BloodyFeetComponent ready on ShotgunEnemyRight1
[19:35:20] [ENEMY] [ShotgunEnemyRight1] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:UziEnemyCenter1] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:UziEnemyCenter1] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:UziEnemyCenter1] BloodyFeetComponent ready on UziEnemyCenter1
[19:35:20] [INFO] [EnemyGrenade] Initialized: 1 grenades
[19:35:20] [ENEMY] [UziEnemyCenter1] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:UziEnemyCenter2] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:UziEnemyCenter2] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:UziEnemyCenter2] BloodyFeetComponent ready on UziEnemyCenter2
[19:35:20] [INFO] [EnemyGrenade] Initialized: 1 grenades
[19:35:20] [ENEMY] [UziEnemyCenter2] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[19:35:20] [ENEMY] [PatrolEnemy1] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[19:35:20] [ENEMY] [PatrolEnemy2] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:LowerEnemy1] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:LowerEnemy1] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:LowerEnemy1] BloodyFeetComponent ready on LowerEnemy1
[19:35:20] [ENEMY] [LowerEnemy1] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:LowerEnemy2] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:LowerEnemy2] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:LowerEnemy2] BloodyFeetComponent ready on LowerEnemy2
[19:35:20] [ENEMY] [LowerEnemy2] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:RpgEnemy1] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:RpgEnemy1] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:RpgEnemy1] BloodyFeetComponent ready on RpgEnemy1
[19:35:20] [ENEMY] [RpgEnemy1] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:RpgEnemy2] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:RpgEnemy2] Found EnemyModel for facing direction
[19:35:20] [INFO] [BloodyFeet:RpgEnemy2] BloodyFeetComponent ready on RpgEnemy2
[19:35:20] [ENEMY] [RpgEnemy2] Death animation component initialized
[19:35:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:20] [INFO] [BloodyFeet:Player] Footprint scene loaded
[19:35:20] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[19:35:20] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[19:35:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[19:35:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[19:35:20] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[19:35:20] [INFO] [Player.Weapon] Removed default MakarovPM
[19:35:20] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[19:35:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[19:35:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[19:35:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[19:35:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[19:35:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[19:35:20] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[19:35:20] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[19:35:20] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[19:35:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[19:35:20] [INFO] [CastleLevel] Found Environment/Enemies node with 15 children
[19:35:20] [INFO] [CastleLevel] Child 'ShotgunEnemy1': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'ShotgunEnemy2': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'UziEnemy1': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'UziEnemy2': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'UziEnemy3': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'UziEnemyRight1': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'ShotgunEnemyRight1': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'UziEnemyCenter1': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'UziEnemyCenter2': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'PatrolEnemy1': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'PatrolEnemy2': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'LowerEnemy1': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'LowerEnemy2': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'RpgEnemy1': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Child 'RpgEnemy2': script=true, has_died_signal=true
[19:35:20] [INFO] [CastleLevel] Enemy tracking complete: 15 enemies registered
[19:35:20] [INFO] [ScoreManager] Level started with 15 enemies
[19:35:20] [INFO] [BloodyFeet:ShotgunEnemy1] Blood detector created and attached to ShotgunEnemy1
[19:35:20] [INFO] [CinemaEffects] Found player node: Player
[19:35:20] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[19:35:20] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy1 (total: 16)
[19:35:20] [ENEMY] [ShotgunEnemy1] Registered as sound listener
[19:35:20] [ENEMY] [ShotgunEnemy1] Spawned at (1000, 500), hp: 2, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:ShotgunEnemy2] Blood detector created and attached to ShotgunEnemy2
[19:35:20] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy2 (total: 17)
[19:35:20] [ENEMY] [ShotgunEnemy2] Registered as sound listener
[19:35:20] [ENEMY] [ShotgunEnemy2] Spawned at (1400, 500), hp: 4, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:UziEnemy1] Blood detector created and attached to UziEnemy1
[19:35:20] [INFO] [SoundPropagation] Registered listener: UziEnemy1 (total: 18)
[19:35:20] [ENEMY] [UziEnemy1] Registered as sound listener
[19:35:20] [ENEMY] [UziEnemy1] Spawned at (2500, 550), hp: 4, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:UziEnemy2] Blood detector created and attached to UziEnemy2
[19:35:20] [INFO] [SoundPropagation] Registered listener: UziEnemy2 (total: 19)
[19:35:20] [ENEMY] [UziEnemy2] Registered as sound listener
[19:35:20] [ENEMY] [UziEnemy2] Spawned at (3500, 550), hp: 4, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:UziEnemy3] Blood detector created and attached to UziEnemy3
[19:35:20] [INFO] [SoundPropagation] Registered listener: UziEnemy3 (total: 20)
[19:35:20] [ENEMY] [UziEnemy3] Registered as sound listener
[19:35:20] [ENEMY] [UziEnemy3] Spawned at (3000, 300), hp: 3, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:UziEnemyRight1] Blood detector created and attached to UziEnemyRight1
[19:35:20] [INFO] [SoundPropagation] Registered listener: UziEnemyRight1 (total: 21)
[19:35:20] [ENEMY] [UziEnemyRight1] Registered as sound listener
[19:35:20] [ENEMY] [UziEnemyRight1] Spawned at (4800, 500), hp: 4, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:ShotgunEnemyRight1] Blood detector created and attached to ShotgunEnemyRight1
[19:35:20] [INFO] [SoundPropagation] Registered listener: ShotgunEnemyRight1 (total: 22)
[19:35:20] [ENEMY] [ShotgunEnemyRight1] Registered as sound listener
[19:35:20] [ENEMY] [ShotgunEnemyRight1] Spawned at (5000, 500), hp: 4, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:UziEnemyCenter1] Blood detector created and attached to UziEnemyCenter1
[19:35:20] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter1 (total: 23)
[19:35:20] [ENEMY] [UziEnemyCenter1] Registered as sound listener
[19:35:20] [ENEMY] [UziEnemyCenter1] Spawned at (2200, 1050), hp: 3, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:UziEnemyCenter2] Blood detector created and attached to UziEnemyCenter2
[19:35:20] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter2 (total: 24)
[19:35:20] [ENEMY] [UziEnemyCenter2] Registered as sound listener
[19:35:20] [ENEMY] [UziEnemyCenter2] Spawned at (3800, 1050), hp: 2, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[19:35:20] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 25)
[19:35:20] [ENEMY] [PatrolEnemy1] Registered as sound listener
[19:35:20] [ENEMY] [PatrolEnemy1] Spawned at (1100, 1050), hp: 3, behavior: PATROL
[19:35:20] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[19:35:20] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 26)
[19:35:20] [ENEMY] [PatrolEnemy2] Registered as sound listener
[19:35:20] [ENEMY] [PatrolEnemy2] Spawned at (4900, 1050), hp: 2, behavior: PATROL
[19:35:20] [INFO] [BloodyFeet:LowerEnemy1] Blood detector created and attached to LowerEnemy1
[19:35:20] [INFO] [SoundPropagation] Registered listener: LowerEnemy1 (total: 27)
[19:35:20] [ENEMY] [LowerEnemy1] Registered as sound listener
[19:35:20] [ENEMY] [LowerEnemy1] Spawned at (2150, 1250), hp: 3, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:LowerEnemy2] Blood detector created and attached to LowerEnemy2
[19:35:20] [INFO] [SoundPropagation] Registered listener: LowerEnemy2 (total: 28)
[19:35:20] [ENEMY] [LowerEnemy2] Registered as sound listener
[19:35:20] [ENEMY] [LowerEnemy2] Spawned at (3850, 1250), hp: 3, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:RpgEnemy1] Blood detector created and attached to RpgEnemy1
[19:35:20] [INFO] [SoundPropagation] Registered listener: RpgEnemy1 (total: 29)
[19:35:20] [ENEMY] [RpgEnemy1] Registered as sound listener
[19:35:20] [ENEMY] [RpgEnemy1] Spawned at (2000, 300), hp: 2, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:RpgEnemy2] Blood detector created and attached to RpgEnemy2
[19:35:20] [INFO] [SoundPropagation] Registered listener: RpgEnemy2 (total: 30)
[19:35:20] [ENEMY] [RpgEnemy2] Registered as sound listener
[19:35:20] [ENEMY] [RpgEnemy2] Spawned at (4200, 1050), hp: 2, behavior: GUARD
[19:35:20] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[19:35:20] [ENEMY] [ShotgunEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [ShotgunEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [UziEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [UziEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [UziEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [UziEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [LowerEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [LowerEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=112.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [RpgEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [RpgEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=52.7°, current=2.9°, player=(3000,2100), corner_timer=0.00
[19:35:20] [ENEMY] [UziEnemyCenter1] State: IDLE -> COMBAT
[19:35:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[19:35:20] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[19:35:20] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[19:35:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[19:35:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[19:35:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[19:35:20] [INFO] [LastChance] Found player: Player
[19:35:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[19:35:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[19:35:20] [INFO] [LastChance] Connected to player Died signal (C#)
[19:35:20] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[19:35:20] [INFO] [ReplayManager] Recording frame 1080 (18,1s): player_valid=False, enemies=10
[19:35:21] [ENEMY] [LowerEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[19:35:21] [ENEMY] [LowerEnemy1] State: IDLE -> PURSUING
[19:35:21] [ENEMY] [UziEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[19:35:21] [ENEMY] [UziEnemy1] State: IDLE -> PURSUING
[19:35:21] [ENEMY] [LowerEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=45.0°, current=-78.7°, player=(3000,2100), corner_timer=0.00
[19:35:21] [ENEMY] [UziEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=72.1°, current=-56.3°, player=(3000,2100), corner_timer=0.00
[19:35:21] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -0.4°
[19:35:21] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[19:35:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2351.912, 1249.389), source=ENEMY (UziEnemyCenter1), range=1200, listeners=30
[19:35:21] [INFO] [SoundPropagation] Cleaned up 15 invalid listeners
[19:35:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:21] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[19:35:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2364.841, 1266.358), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:35:21] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -0.6°
[19:35:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2368.4, 1287.347), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:35:21] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=39.7°, current=39.9°, player=(3000,2100), corner_timer=0.27
[19:35:21] [ENEMY] [LowerEnemy1] State: PURSUING -> COMBAT
[19:35:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2366.404, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:35:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2362.505, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:35:21] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=51.3°, current=51.3°, player=(3000,2100), corner_timer=0.00
[19:35:21] [ENEMY] [UziEnemyCenter1] State: COMBAT -> PURSUING
[19:35:21] [INFO] [ReplayManager] Recording frame 1140 (19,1s): player_valid=False, enemies=10
[19:35:22] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=40.0°, current=40.0°, player=(3000,2100), corner_timer=0.27
[19:35:22] [ENEMY] [LowerEnemy1] State: COMBAT -> PURSUING
[19:35:22] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:22] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:22] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(3000,2100), corner_timer=0.30
[19:35:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(3000,2100), corner_timer=0.30
[19:35:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2398.605, 1359.624), shooter_id=486119837842, bullet_pos=(3372.128, 1923.437)
[19:35:22] [INFO] [Bullet] Using shooter_position, distance=1125.00280761719
[19:35:22] [INFO] [Bullet] Distance to wall: 1125.00280761719 (76.6035098684044% of viewport)
[19:35:22] [INFO] [Bullet] Distance-based penetration chance: 57.2959051535282%
[19:35:22] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:22] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(3000,2100), corner_timer=-0.02
[19:35:22] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(3000,2100), corner_timer=-0.02
[19:35:22] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:22] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(3000,2100), corner_timer=0.30
[19:35:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(3000,2100), corner_timer=0.30
[19:35:22] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,2100), corner_timer=-0.02
[19:35:22] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,2100), corner_timer=-0.02
[19:35:22] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:22] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,2100), corner_timer=0.30
[19:35:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,2100), corner_timer=0.30
[19:35:22] [INFO] [ReplayManager] Recording frame 1200 (20,1s): player_valid=False, enemies=10
[19:35:23] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,2100), corner_timer=-0.02
[19:35:23] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,2100), corner_timer=-0.02
[19:35:23] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:23] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,2100), corner_timer=0.30
[19:35:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,2100), corner_timer=0.30
[19:35:23] [ENEMY] [UziEnemy1] Warning: No valid flank position (both sides behind walls)
[19:35:23] [ENEMY] [UziEnemy1] FLANKING started: target=(2805.08, 2055.211), side=left, pos=(2570.059, 698.892)
[19:35:23] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[19:35:23] [ENEMY] [UziEnemyCenter1] PURSUING corner check: angle -116.1°
[19:35:23] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=52.0°, current=3.5°, player=(3000,2100), corner_timer=0.27
[19:35:23] [ENEMY] [UziEnemyCenter1] State: PURSUING -> COMBAT
[19:35:23] [ENEMY] [UziEnemy1] FLANKING corner check: angle -108.3°
[19:35:23] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,2100), corner_timer=-0.02
[19:35:23] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,2100), corner_timer=-0.02
[19:35:23] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:23] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,2100), corner_timer=0.30
[19:35:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,2100), corner_timer=0.30
[19:35:23] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=39.9°, current=85.0°, player=(3000,2100), corner_timer=0.25
[19:35:23] [ENEMY] [LowerEnemy1] State: PURSUING -> COMBAT
[19:35:23] [ENEMY] [UziEnemy1] FLANKING corner check: angle -103.5°
[19:35:23] [INFO] [ReplayManager] Recording frame 1260 (21,1s): player_valid=False, enemies=10
[19:35:24] [ENEMY] [UziEnemy1] FLANKING corner check: angle -93.1°
[19:35:24] [ENEMY] [LowerEnemy1] Hit: dmg=50, hp=3/3->-47/3
[19:35:24] [INFO] [ImpactEffects] spawn_blood_effect called at (2374.971, 1608.558), dir=(1, 0), lethal=true
[19:35:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:35:24] [INFO] [ImpactEffects] Blood effect spawned at (2374.971, 1608.558) (scale=1.5)
[19:35:24] [ENEMY] [LowerEnemy1] Enemy died (ricochet: false, penetration: false)
[19:35:24] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[19:35:24] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:35:24] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:35:24] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:35:24] [INFO] [PowerFantasy]   - Duration: 300ms
[19:35:24] [ENEMY] [LowerEnemy1] [AllyDeath] Notified 1 enemies
[19:35:24] [INFO] [SoundPropagation] Unregistered listener: LowerEnemy1 (remaining: 14)
[19:35:24] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:35:24] [ENEMY] [LowerEnemy1] Death animation started with hit direction: (1, 0)
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3000, 2100), source=PLAYER (SniperRifle), range=3000, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=14
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2545.761, 1481.484), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:24] [ENEMY] [UziEnemy2] Memory: medium confidence (0.60) - transitioning to PURSUING
[19:35:24] [ENEMY] [UziEnemy2] State: IDLE -> PURSUING
[19:35:24] [ENEMY] [UziEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=107.9°, current=56.2°, player=(3000,2100), corner_timer=0.00
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2561.154, 1494.171), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:24] [ENEMY] [UziEnemy2] PURSUING corner check: angle 27.0°
[19:35:24] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=85.9°, current=88.1°, player=(3000,2100), corner_timer=0.09
[19:35:24] [ENEMY] [UziEnemy1] State: FLANKING -> COMBAT
[19:35:24] [ENEMY] [UziEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=85.9°, current=153.2°, player=(3000,2100), corner_timer=0.09
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2578.259, 1506.448), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2592.902, 1521.371), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2429.935, 1619.918) (added to group)
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2422.229, 1635.42) (added to group)
[19:35:24] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[19:35:24] [INFO] [PowerFantasy] Ending power fantasy effect
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2434.548, 1618.52) (added to group)
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2420.124, 1616.672) (added to group)
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2603.336, 1536.202), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2432.363, 1613.254) (added to group)
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2439.269, 1613.616) (added to group)
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2465.935, 1599.1) (added to group)
[19:35:24] [INFO] [LastChance] Threat detected: @Area2D@1860
[19:35:24] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2615.611, 1553.65), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2484.509, 1595.056) (added to group)
[19:35:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2625.42, 1581.147), shooter_id=486119837842, bullet_pos=(2722.221, 1926.158)
[19:35:24] [INFO] [Bullet] Using shooter_position, distance=358.333374023438
[19:35:24] [INFO] [Bullet] Distance to wall: 358.333374023438 (24.3995783542289% of viewport)
[19:35:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:24] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:24] [INFO] [LastChance] Threat detected: @Area2D@1863
[19:35:24] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2467.385, 1611.368) (added to group)
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2449.907, 1666.57) (added to group)
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2627.887, 1571.097), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2635.854, 1595.978), shooter_id=486119837842, bullet_pos=(2684.22, 1925.783)
[19:35:24] [INFO] [Bullet] Using shooter_position, distance=333.333129882813
[19:35:24] [INFO] [Bullet] Distance to wall: 333.333129882813 (22.6972657592984% of viewport)
[19:35:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:24] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:24] [ENEMY] [UziEnemy2] PURSUING corner check: angle 27.0°
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2492.704, 1713.866) (added to group)
[19:35:24] [ENEMY] [LowerEnemy1] Ragdoll activated
[19:35:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2640.162, 1588.545), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2502.674, 1647.548) (added to group)
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2652.438, 1605.993), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2660.405, 1630.873), shooter_id=486119837842, bullet_pos=(2740.218, 1954.511)
[19:35:24] [INFO] [Bullet] Using shooter_position, distance=333.333740234375
[19:35:24] [INFO] [Bullet] Distance to wall: 333.333740234375 (22.6973073192586% of viewport)
[19:35:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:24] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2494.175, 1706.246) (added to group)
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2481.18, 1686.589) (added to group)
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2506.948, 1647.563) (added to group)
[19:35:24] [ENEMY] [UziEnemy3] Memory: high confidence (0.86) - transitioning to PURSUING
[19:35:24] [ENEMY] [UziEnemy3] State: IDLE -> PURSUING
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2464.619, 1645.601) (added to group)
[19:35:24] [ENEMY] [UziEnemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=90.0°, current=168.8°, player=(3000,2100), corner_timer=0.00
[19:35:24] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -81.4°
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2567.345, 1709.833) (added to group)
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2524.438, 1647.057) (added to group)
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2664.713, 1623.441), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:24] [ENEMY] [UziEnemy1] State: COMBAT -> PURSUING
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2588.708, 1678.812) (added to group)
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2676.988, 1640.888), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:24] [INFO] [BloodDecal] Blood puddle created at (2534.331, 1717.73) (added to group)
[19:35:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2697.231, 1683.216), shooter_id=486119837842, bullet_pos=(2712.866, 1932.727)
[19:35:24] [INFO] [Bullet] Using shooter_position, distance=249.99983215332
[19:35:24] [INFO] [Bullet] Distance to wall: 249.99983215332 (17.0229482804748% of viewport)
[19:35:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:24] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:24] [INFO] [LastChance] Threat detected: @Area2D@1915
[19:35:24] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2689.264, 1658.336), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:24] [INFO] [ReplayManager] Recording frame 1320 (22,0s): player_valid=False, enemies=10
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2701.539, 1675.784), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2713.814, 1693.232), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:25] [INFO] [LastChance] Threat detected: @Area2D@1940
[19:35:25] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:25] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -113.7°
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2726.09, 1710.679), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2746.333, 1753.007), shooter_id=486119837842, bullet_pos=(2670.667, 1947.114)
[19:35:25] [INFO] [Bullet] Using shooter_position, distance=208.333236694336
[19:35:25] [INFO] [Bullet] Distance to wall: 208.333236694336 (14.1857931775595% of viewport)
[19:35:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:25] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2738.365, 1728.127), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2758.608, 1770.455), shooter_id=486119837842, bullet_pos=(2706.636, 1928.811)
[19:35:25] [INFO] [Bullet] Using shooter_position, distance=166.666625976563
[19:35:25] [INFO] [Bullet] Distance to wall: 166.666625976563 (11.3486370356452% of viewport)
[19:35:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:25] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2750.641, 1745.575), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2762.916, 1763.023), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=12, self=1, below_threshold=1
[19:35:25] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=38.4°, player=(3000,2100), corner_timer=-0.02
[19:35:25] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=38.4°, player=(3000,2100), corner_timer=-0.02
[19:35:25] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2795.435, 1822.798), shooter_id=486119837842, bullet_pos=(2764.51, 1943.913)
[19:35:25] [INFO] [Bullet] Using shooter_position, distance=125.000030517578
[19:35:25] [INFO] [Bullet] Distance to wall: 125.000030517578 (8.51148193272994% of viewport)
[19:35:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:25] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2775.191, 1780.47), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=11, self=1, below_threshold=2
[19:35:25] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=41.3°, player=(3000,2100), corner_timer=0.30
[19:35:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=41.3°, player=(3000,2100), corner_timer=0.30
[19:35:25] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -126.6°
[19:35:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2770.884, 1787.903), shooter_id=486119837842, bullet_pos=(3379.849, 1928.568)
[19:35:25] [INFO] [Bullet] Using shooter_position, distance=624.999938964844
[19:35:25] [INFO] [Bullet] Distance to wall: 624.999938964844 (42.5573951176636% of viewport)
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2781.329, 1789.194), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=11, self=1, below_threshold=2
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2781.329, 1789.194), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=11, self=1, below_threshold=2
[19:35:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2813.848, 1848.97), shooter_id=486119837842, bullet_pos=(2779.363, 1969.119)
[19:35:25] [INFO] [Bullet] Using shooter_position, distance=124.999931335449
[19:35:25] [INFO] [Bullet] Distance to wall: 124.999931335449 (8.5114751792364% of viewport)
[19:35:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:25] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2781.329, 1789.194), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=11, self=1, below_threshold=2
[19:35:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2807.71, 1840.246), shooter_id=486119837842, bullet_pos=(3300.346, 1925.748)
[19:35:25] [INFO] [Bullet] Using shooter_position, distance=500.000457763672
[19:35:25] [INFO] [Bullet] Distance to wall: 500.000457763672 (34.0459505888979% of viewport)
[19:35:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2781.329, 1789.194), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=11, self=1, below_threshold=2
[19:35:25] [INFO] [LastChance] Threat detected: @Area2D@1974
[19:35:25] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:25] [ENEMY] [LowerEnemy1] Death animation completed
[19:35:25] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-13.1°, player=(3000,2100), corner_timer=-0.02
[19:35:25] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[19:35:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-13.1°, player=(3000,2100), corner_timer=-0.02
[19:35:25] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 90.0°
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2781.329, 1789.194), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=11, self=1, below_threshold=2
[19:35:25] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-16.0°, player=(3000,2100), corner_timer=0.30
[19:35:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-16.0°, player=(3000,2100), corner_timer=0.30
[19:35:25] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -164.0°
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2781.329, 1789.194), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=11, self=1, below_threshold=2
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2781.329, 1789.194), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=11, self=1, below_threshold=2
[19:35:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2781.329, 1789.194), source=ENEMY (UziEnemyCenter1), range=1200, listeners=14
[19:35:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=11, self=1, below_threshold=2
[19:35:25] [INFO] [ReplayManager] Recording frame 1380 (23,0s): player_valid=False, enemies=10
[19:35:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=38.4°, player=(3000,2100), corner_timer=-0.02
[19:35:26] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[19:35:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=38.4°, player=(3000,2100), corner_timer=-0.02
[19:35:26] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 90.0°
[19:35:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=41.3°, player=(3000,2100), corner_timer=0.30
[19:35:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=41.3°, player=(3000,2100), corner_timer=0.30
[19:35:26] [ENEMY] [UziEnemy3] PURSUING corner check: angle -171.6°
[19:35:26] [ENEMY] [UziEnemy2] Warning: No valid flank position (both sides behind walls)
[19:35:26] [ENEMY] [UziEnemy2] FLANKING started: target=(3194.773, 2054.573), side=right, pos=(3425.974, 695.4446)
[19:35:26] [ENEMY] [UziEnemy2] State: PURSUING -> FLANKING
[19:35:26] [ENEMY] [UziEnemy1] Warning: No valid flank position (both sides behind walls)
[19:35:26] [ENEMY] [UziEnemy1] FLANKING started: target=(2816.05, 2021.499), side=left, pos=(2832.524, 713.9338)
[19:35:26] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[19:35:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(3000,2100), corner_timer=-0.02
[19:35:26] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(3000,2100), corner_timer=-0.02
[19:35:26] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=92.9°, player=(3000,2100), corner_timer=0.30
[19:35:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=92.9°, player=(3000,2100), corner_timer=0.30
[19:35:26] [ENEMY] [UziEnemy1] FLANKING corner check: angle -103.9°
[19:35:26] [ENEMY] [UziEnemy3] PURSUING corner check: angle 8.4°
[19:35:26] [ENEMY] [UziEnemy2] FLANKING corner check: angle -113.2°
[19:35:26] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=85.8°, current=36.0°, player=(3000,2100), corner_timer=0.20
[19:35:26] [ENEMY] [UziEnemy1] State: FLANKING -> COMBAT
[19:35:26] [ENEMY] [UziEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=85.6°, current=111.5°, player=(3000,2100), corner_timer=0.20
[19:35:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=147.3°, player=(3000,2100), corner_timer=-0.02
[19:35:26] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=147.3°, player=(3000,2100), corner_timer=-0.02
[19:35:26] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=150.2°, player=(3000,2100), corner_timer=0.30
[19:35:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=150.2°, player=(3000,2100), corner_timer=0.30
[19:35:26] [ENEMY] [UziEnemy2] FLANKING corner check: angle -113.2°
[19:35:26] [INFO] [ReplayManager] Recording frame 1440 (24,0s): player_valid=False, enemies=10
[19:35:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-155.4°, player=(3000,2100), corner_timer=-0.02
[19:35:27] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[19:35:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-155.4°, player=(3000,2100), corner_timer=-0.02
[19:35:27] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 90.0°
[19:35:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-158.3°, player=(3000,2100), corner_timer=0.30
[19:35:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-158.3°, player=(3000,2100), corner_timer=0.30
[19:35:27] [ENEMY] [UziEnemy1] State: COMBAT -> PURSUING
[19:35:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=147.3°, player=(3002,2100), corner_timer=-0.02
[19:35:27] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[19:35:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=147.3°, player=(3002,2100), corner_timer=-0.02
[19:35:27] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 90.0°
[19:35:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=150.2°, player=(3003,2100), corner_timer=0.30
[19:35:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=150.2°, player=(3003,2100), corner_timer=0.30
[19:35:27] [ENEMY] [UziEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=93.7°, current=94.0°, player=(3007,2100), corner_timer=-0.02
[19:35:27] [ENEMY] [UziEnemy2] State: FLANKING -> COMBAT
[19:35:27] [ENEMY] [UziEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=93.3°, current=30.3°, player=(3010,2100), corner_timer=-0.02
[19:35:27] [ENEMY] [UziEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=92.7°, current=43.9°, player=(3013,2100), corner_timer=-0.02
[19:35:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=95.7°, player=(3013,2100), corner_timer=-0.02
[19:35:27] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=95.7°, player=(3013,2100), corner_timer=-0.02
[19:35:27] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=98.6°, player=(3013,2100), corner_timer=0.30
[19:35:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=98.6°, player=(3013,2100), corner_timer=0.30
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:27] [ENEMY] [UziEnemyCenter1] State: COMBAT -> SEEKING_COVER
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:27] [INFO] [ReplayManager] Recording frame 1500 (25,0s): player_valid=False, enemies=10
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:27] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [ENEMY] [UziEnemyCenter1] Hit: dmg=50, hp=3/3->-47/3
[19:35:28] [INFO] [ImpactEffects] spawn_blood_effect called at (2772.125, 1836.304), dir=(1, 0), lethal=true
[19:35:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:28] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:35:28] [INFO] [ImpactEffects] Blood effect spawned at (2772.125, 1836.304) (scale=1.5)
[19:35:28] [ENEMY] [UziEnemyCenter1] Enemy died (ricochet: false, penetration: false)
[19:35:28] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[19:35:28] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:35:28] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:35:28] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:35:28] [INFO] [PowerFantasy]   - Duration: 300ms
[19:35:28] [INFO] [SoundPropagation] Unregistered listener: UziEnemyCenter1 (remaining: 13)
[19:35:28] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:35:28] [ENEMY] [UziEnemyCenter1] Death animation started with hit direction: (1, 0)
[19:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3013.222, 2100), source=PLAYER (SniperRifle), range=3000, listeners=13
[19:35:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=13
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [ENEMY] [UziEnemy3] FLANKING started: target=(2824.835, 2032.841), side=left, pos=(2755.935, 695.2838)
[19:35:28] [ENEMY] [UziEnemy3] State: PURSUING -> FLANKING
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2858.644, 1286.427)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2860.753, 1289.402)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2863.002, 1288.183)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2865.323, 1287.229)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2867.656, 1286.314)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2870, 1285.438)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2872.354, 1284.604)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2874.72, 1283.811)
[19:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3060.92, 945.0587), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2877.096, 1283.063)
[19:35:28] [INFO] [PowerFantasy] Effect duration expired after 315.00 ms
[19:35:28] [INFO] [PowerFantasy] Ending power fantasy effect
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2807.855, 1833.324) (added to group)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2834.412, 1839.781) (added to group)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2879.482, 1282.359)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2882.477, 1281.538)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2844.233, 1866.68) (added to group)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2885.488, 1280.793)
[19:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3060.084, 965.3082), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2888.514, 1280.129)
[19:35:28] [ENEMY] [UziEnemy3] FLANKING corner check: angle -99.5°
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2891.554, 1279.548)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2866.729, 1831.882) (added to group)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2894.607, 1279.056)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2897.673, 1278.656)
[19:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3059.204, 986.6234), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2906.219, 1277.668)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2858.48, 1880.13) (added to group)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2909.313, 1277.488)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2912.416, 1277.417)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2915.528, 1277.462)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2893.873, 1843.682) (added to group)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2838.26, 1886.104) (added to group)
[19:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3058.324, 1007.939), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2918.645, 1277.629)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2921.767, 1277.926)
[19:35:28] [ENEMY] [UziEnemyCenter1] Ragdoll activated
[19:35:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2868.921, 1905.951) (added to group)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2903.353, 1920.455) (added to group)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2846.493, 1870.983) (added to group)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2924.891, 1278.361)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2928.014, 1278.946)
[19:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3057.444, 1029.254), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2931.132, 1279.69)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2879.24, 1923.595) (added to group)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2934.241, 1280.607)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2886.612, 1857.526) (added to group)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2937.335, 1281.711)
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2940.409, 1283.018)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2914.007, 1855.466) (added to group)
[19:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3056.564, 1050.569), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:28] [INFO] [EnemyGrenade] Throw path blocked to (2943.454, 1284.55)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2952.02, 1992.092) (added to group)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2862.322, 1905.694) (added to group)
[19:35:28] [ENEMY] [UziEnemy1] Warning: No valid flank position (both sides behind walls)
[19:35:28] [ENEMY] [UziEnemy1] FLANKING started: target=(3171.967, 1978.344), side=right, pos=(2831.602, 713.9338)
[19:35:28] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[19:35:28] [ENEMY] [UziEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=85.3°, current=74.4°, player=(3013,2100), corner_timer=0.03
[19:35:28] [ENEMY] [UziEnemy3] State: FLANKING -> COMBAT
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2928.035, 1964.896) (added to group)
[19:35:28] [ENEMY] [UziEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=85.4°, current=148.1°, player=(3013,2100), corner_timer=0.03
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2960.055, 1883.485) (added to group)
[19:35:28] [INFO] [LastChance] Threat detected: Bullet9mm
[19:35:28] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3055.684, 1071.884), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2935.566, 1950.012) (added to group)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2899.774, 1957.455) (added to group)
[19:35:28] [INFO] [BloodDecal] Blood puddle created at (2902.801, 1970.249) (added to group)
[19:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3054.804, 1093.198), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3053.925, 1114.513), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:28] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=85.4°, current=41.7°, player=(3013,2100), corner_timer=-0.02
[19:35:28] [ENEMY] [UziEnemy1] State: FLANKING -> COMBAT
[19:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3053.045, 1135.828), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:28] [INFO] [ReplayManager] Recording frame 1560 (25,9s): player_valid=False, enemies=10
[19:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3052.165, 1157.143), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3051.284, 1178.458), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=4
[19:35:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3060.688, 1139.748), shooter_id=484710551614, bullet_pos=(3283.476, 1942.748)
[19:35:29] [INFO] [Bullet] Using shooter_position, distance=833.333312988281
[19:35:29] [INFO] [Bullet] Distance to wall: 833.333312988281 (56.7431976462142% of viewport)
[19:35:29] [INFO] [Bullet] Distance-based penetration chance: 80.4662694127501%
[19:35:29] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:29] [ENEMY] [UziEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=85.2°, current=99.0°, player=(3013,2100), corner_timer=-0.02
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3050.404, 1199.773), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3058.049, 1203.693), shooter_id=484710551614, bullet_pos=(3484.671, 1537.454)
[19:35:29] [INFO] [Bullet] Using shooter_position, distance=541.66748046875
[19:35:29] [INFO] [Bullet] Distance to wall: 541.66748046875 (36.8831347837853% of viewport)
[19:35:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:29] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3058.928, 1182.378), shooter_id=484710551614, bullet_pos=(3632.839, 1727.686)
[19:35:29] [INFO] [Bullet] Using shooter_position, distance=791.665588378906
[19:35:29] [INFO] [Bullet] Distance to wall: 791.665588378906 (53.9059656573725% of viewport)
[19:35:29] [INFO] [Bullet] Distance-based penetration chance: 83.7763733997321%
[19:35:29] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3049.523, 1221.088), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [ENEMY] [UziEnemy3] State: COMBAT -> PURSUING
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3048.643, 1242.403), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3057.168, 1225.008), shooter_id=484710551614, bullet_pos=(3366.266, 1953.838)
[19:35:29] [INFO] [Bullet] Using shooter_position, distance=791.666137695313
[19:35:29] [INFO] [Bullet] Distance to wall: 791.666137695313 (53.9060030613367% of viewport)
[19:35:29] [INFO] [Bullet] Distance-based penetration chance: 83.7763297617739%
[19:35:29] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3047.763, 1263.718), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3046.882, 1285.033), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [ENEMY] [UziEnemy1] State: COMBAT -> PURSUING
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3046.002, 1306.348), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3054.527, 1288.952), shooter_id=484710551614, bullet_pos=(3643.803, 1752.905)
[19:35:29] [INFO] [Bullet] Using shooter_position, distance=749.998779296875
[19:35:29] [INFO] [Bullet] Distance to wall: 749.998779296875 (51.0687960084711% of viewport)
[19:35:29] [INFO] [Bullet] Distance-based penetration chance: 87.0864046567837%
[19:35:29] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3045.122, 1327.663), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [ENEMY] [UziEnemyCenter1] Death animation completed
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3052.766, 1331.582), shooter_id=484710551614, bullet_pos=(2695.833, 1943.41)
[19:35:29] [INFO] [Bullet] Using shooter_position, distance=708.332397460938
[19:35:29] [INFO] [Bullet] Distance to wall: 708.332397460938 (48.2316554515419% of viewport)
[19:35:29] [INFO] [Bullet] Distance-based penetration chance: 90.3964019732011%
[19:35:29] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=44.2°, player=(3013,2100), corner_timer=-0.02
[19:35:29] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=44.2°, player=(3013,2100), corner_timer=-0.02
[19:35:29] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:29] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=41.3°, player=(3013,2100), corner_timer=0.30
[19:35:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=41.3°, player=(3013,2100), corner_timer=0.30
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3050.125, 1395.527), shooter_id=484710551614, bullet_pos=(2731.914, 1933.454)
[19:35:29] [INFO] [Bullet] Using shooter_position, distance=624.99951171875
[19:35:29] [INFO] [Bullet] Distance to wall: 624.99951171875 (42.5573660256915% of viewport)
[19:35:29] [INFO] [Bullet] Distance-based penetration chance: 97.01640630336%
[19:35:29] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [INFO] [ReplayManager] Recording frame 1620 (26,9s): player_valid=False, enemies=10
[19:35:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:29] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-13.1°, player=(3013,2100), corner_timer=-0.02
[19:35:29] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-13.1°, player=(3013,2100), corner_timer=-0.02
[19:35:29] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:30] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-10.3°, player=(3013,2100), corner_timer=0.30
[19:35:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-10.3°, player=(3013,2100), corner_timer=0.30
[19:35:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3049.685, 1406.185), shooter_id=484710551614, bullet_pos=(2734.791, 1946.06)
[19:35:30] [INFO] [Bullet] Using shooter_position, distance=624.998901367188
[19:35:30] [INFO] [Bullet] Distance to wall: 624.998901367188 (42.5573244657312% of viewport)
[19:35:30] [INFO] [Bullet] Distance-based penetration chance: 97.0164547899802%
[19:35:30] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:30] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-64.7°, player=(3035,2072), corner_timer=-0.02
[19:35:30] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-64.7°, player=(3035,2072), corner_timer=-0.02
[19:35:30] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:30] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-61.8°, player=(3036,2068), corner_timer=0.30
[19:35:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-61.8°, player=(3036,2068), corner_timer=0.30
[19:35:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3044.682, 1338.32), source=ENEMY (UziEnemy2), range=1200, listeners=13
[19:35:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3051.752, 1406), shooter_id=484710551614, bullet_pos=(3274.214, 1945.249)
[19:35:30] [INFO] [Bullet] Using shooter_position, distance=583.334655761719
[19:35:30] [INFO] [Bullet] Distance to wall: 583.334655761719 (39.7203293686628% of viewport)
[19:35:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:30] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:30] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3036,1965), corner_timer=-0.02
[19:35:30] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3036,1965), corner_timer=-0.02
[19:35:30] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:30] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3036,1959), corner_timer=0.30
[19:35:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3036,1959), corner_timer=0.30
[19:35:30] [ENEMY] [UziEnemy3] Warning: No valid flank position (both sides behind walls)
[19:35:30] [ENEMY] [UziEnemy3] FLANKING started: target=(2849.49, 1879.235), side=left, pos=(2827.665, 713.9329)
[19:35:30] [ENEMY] [UziEnemy3] State: PURSUING -> FLANKING
[19:35:30] [ENEMY] [UziEnemy3] FLANKING corner check: angle -109.4°
[19:35:30] [ENEMY] [UziEnemy1] Warning: No valid flank position (both sides behind walls)
[19:35:30] [ENEMY] [UziEnemy1] FLANKING started: target=(2849.146, 1798.5), side=left, pos=(2835.611, 713.9338)
[19:35:30] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[19:35:30] [ENEMY] [UziEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=83.2°, current=38.1°, player=(3036,1867), corner_timer=0.13
[19:35:30] [ENEMY] [UziEnemy3] State: FLANKING -> COMBAT
[19:35:30] [INFO] [ReplayManager] Recording frame 1680 (27,9s): player_valid=False, enemies=10
[19:35:30] [ENEMY] [UziEnemy1] FLANKING corner check: angle -133.7°
[19:35:31] [ENEMY] [UziEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=82.8°, current=103.7°, player=(3036,1835), corner_timer=0.13
[19:35:31] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=83.1°, current=34.9°, player=(3036,1827), corner_timer=0.12
[19:35:31] [ENEMY] [UziEnemy1] State: FLANKING -> COMBAT
[19:35:31] [ENEMY] [UziEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=82.8°, current=85.9°, player=(3036,1825), corner_timer=0.12
[19:35:31] [ENEMY] [UziEnemy3] State: COMBAT -> PURSUING
[19:35:31] [ENEMY] [UziEnemy1] State: COMBAT -> PURSUING
[19:35:31] [INFO] [ReplayManager] Recording frame 1740 (28,9s): player_valid=False, enemies=10
[19:35:31] [ENEMY] [UziEnemy2] State: COMBAT -> SEEKING_COVER
[19:35:32] [ENEMY] [UziEnemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=1.0°, current=24.9°, player=(3036,1825), corner_timer=-0.02
[19:35:32] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3036,1825), corner_timer=-0.02
[19:35:32] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3036,1825), corner_timer=-0.02
[19:35:32] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:32] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3036,1825), corner_timer=0.30
[19:35:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3036,1825), corner_timer=0.30
[19:35:32] [ENEMY] [UziEnemyCenter2] Memory: high confidence (0.84) - transitioning to PURSUING
[19:35:32] [ENEMY] [UziEnemyCenter2] State: IDLE -> PURSUING
[19:35:32] [ENEMY] [LowerEnemy2] Memory: medium confidence (0.76) - transitioning to PURSUING
[19:35:32] [ENEMY] [LowerEnemy2] State: IDLE -> PURSUING
[19:35:32] [ENEMY] [RpgEnemy2] Memory: medium confidence (0.76) - transitioning to PURSUING
[19:35:32] [ENEMY] [RpgEnemy2] State: IDLE -> PURSUING
[19:35:32] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=134.5°, current=11.3°, player=(3036,1825), corner_timer=0.00
[19:35:32] [ENEMY] [LowerEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=144.7°, current=-168.8°, player=(3036,1825), corner_timer=0.00
[19:35:32] [ENEMY] [RpgEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=146.3°, current=-33.8°, player=(3036,1825), corner_timer=0.00
[19:35:32] [ENEMY] [RpgEnemy2] PURSUING_MEMORY corner check: angle 15.4°
[19:35:32] [ENEMY] [UziEnemyCenter2] PURSUING corner check: angle 25.6°
[19:35:32] [ENEMY] [LowerEnemy2] PURSUING corner check: angle 76.5°
[19:35:32] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=134.6°, current=132.6°, player=(3036,1825), corner_timer=0.30
[19:35:32] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3036,1825), corner_timer=-0.02
[19:35:32] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3036,1825), corner_timer=-0.02
[19:35:32] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:32] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3036,1825), corner_timer=0.30
[19:35:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3036,1825), corner_timer=0.30
[19:35:32] [ENEMY] [UziEnemyCenter2] State: PURSUING -> COMBAT
[19:35:32] [ENEMY] [LowerEnemy2] PURSUING corner check: angle -103.5°
[19:35:32] [ENEMY] [RpgEnemy2] PURSUING corner check: angle 43.3°
[19:35:32] [INFO] [ReplayManager] Recording frame 1800 (29,9s): player_valid=False, enemies=10
[19:35:32] [ENEMY] [UziEnemy3] Warning: No valid flank position (both sides behind walls)
[19:35:32] [ENEMY] [UziEnemy3] FLANKING started: target=(3188.993, 1695.707), side=right, pos=(2830.412, 713.9338)
[19:35:32] [ENEMY] [UziEnemy3] State: PURSUING -> FLANKING
[19:35:33] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[19:35:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3036,1825), corner_timer=-0.02
[19:35:33] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:33] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3036,1825), corner_timer=-0.02
[19:35:33] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3036,1825), corner_timer=0.30
[19:35:33] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3036,1825), corner_timer=0.30
[19:35:33] [ENEMY] [UziEnemy1] Warning: No valid flank position (both sides behind walls)
[19:35:33] [ENEMY] [UziEnemy1] FLANKING started: target=(3189.61, 1696.431), side=right, pos=(2835.876, 713.9338)
[19:35:33] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[19:35:33] [ENEMY] [UziEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=82.8°, current=35.0°, player=(3036,1825), corner_timer=-0.02
[19:35:33] [ENEMY] [UziEnemy3] State: FLANKING -> COMBAT
[19:35:33] [ENEMY] [RpgEnemy2] PURSUING corner check: angle 42.9°
[19:35:33] [ENEMY] [UziEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=82.6°, current=108.5°, player=(3036,1825), corner_timer=-0.02
[19:35:33] [ENEMY] [UziEnemy1] FLANKING corner check: angle -99.0°
[19:35:33] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=83.1°, current=37.7°, player=(3036,1825), corner_timer=0.23
[19:35:33] [ENEMY] [UziEnemy1] State: FLANKING -> COMBAT
[19:35:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3036,1825), corner_timer=-0.02
[19:35:33] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:33] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3036,1825), corner_timer=-0.02
[19:35:33] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3036,1825), corner_timer=0.30
[19:35:33] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3036,1825), corner_timer=0.30
[19:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3579.842, 1305.22), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=1, below_threshold=2
[19:35:33] [ENEMY] [UziEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=82.8°, current=85.6°, player=(3036,1825), corner_timer=0.23
[19:35:33] [ENEMY] [UziEnemy3] State: COMBAT -> PURSUING
[19:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3564.442, 1319.984), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=1, below_threshold=2
[19:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3549.043, 1334.748), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=1, below_threshold=2
[19:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3533.644, 1349.511), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=1, below_threshold=2
[19:35:33] [INFO] [LastChance] Threat detected: Bullet9mm
[19:35:33] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3513.708, 1357.107), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=1, below_threshold=2
[19:35:33] [INFO] [ReplayManager] Recording frame 1860 (30,9s): player_valid=False, enemies=10
[19:35:33] [ENEMY] [UziEnemy1] State: COMBAT -> PURSUING
[19:35:33] [INFO] [LastChance] Threat detected: @Area2D@2171
[19:35:33] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3504.067, 1364.924), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:34] [INFO] [Player] Spawning blood effect at (3036.97, 1825.6641), dir=(1, 0), lethal=False (C#)
[19:35:34] [INFO] [ImpactEffects] spawn_blood_effect called at (3036.97, 1825.664), dir=(1, 0), lethal=false
[19:35:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:34] [INFO] [ImpactEffects] Blood effect spawned at (3036.97, 1825.664) (scale=1)
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3504.067, 1372.648), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3503.34, 1380.143), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3500.529, 1386.66), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3496.565, 1391.501), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [INFO] [BloodDecal] Blood puddle created at (3088.383, 1848.114) (added to group)
[19:35:34] [INFO] [BloodDecal] Blood puddle created at (3089.167, 1860.956) (added to group)
[19:35:34] [INFO] [BloodDecal] Blood puddle created at (3102.667, 1872.681) (added to group)
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3477.945, 1400.4), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [INFO] [BloodDecal] Blood puddle created at (3110.118, 1860.207) (added to group)
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3456.654, 1399.055), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [INFO] [BloodDecal] Blood puddle created at (3123.32, 1846.186) (added to group)
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3435.351, 1398.066), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [INFO] [BloodDecal] Blood puddle created at (3144.33, 1858.68) (added to group)
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3414.029, 1398.065), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [INFO] [BloodDecal] Blood puddle created at (3177.699, 1843.97) (added to group)
[19:35:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3434.719, 1452.921), shooter_id=486472159399, bullet_pos=(3264.774, 1923.154)
[19:35:34] [INFO] [Bullet] Using shooter_position, distance=499.999938964844
[19:35:34] [INFO] [Bullet] Distance to wall: 499.999938964844 (34.0459152629317% of viewport)
[19:35:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:34] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:34] [INFO] [BloodDecal] Blood puddle created at (3121.239, 1912.956) (added to group)
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3392.697, 1398.129), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [INFO] [BloodDecal] Blood puddle created at (3207.97, 1845.473) (added to group)
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3377.646, 1403.827), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [ENEMY] [LowerEnemy2] FLANKING started: target=(3003.744, 1628.443), side=left, pos=(3676, 1297.712)
[19:35:34] [ENEMY] [LowerEnemy2] State: PURSUING -> FLANKING
[19:35:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3395.013, 1452.805), shooter_id=486472159399, bullet_pos=(3327.334, 1948.203)
[19:35:34] [INFO] [Bullet] Using shooter_position, distance=500.000030517578
[19:35:34] [INFO] [Bullet] Distance to wall: 500.000030517578 (34.0459214969257% of viewport)
[19:35:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:34] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:34] [INFO] [BloodDecal] Blood puddle created at (3249.584, 1902.781) (added to group)
[19:35:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3452.781, 1443.593), shooter_id=486472159399, bullet_pos=(2366.703, 1736.958)
[19:35:34] [INFO] [Bullet] Using shooter_position, distance=1125.00109863281
[19:35:34] [INFO] [Bullet] Distance to wall: 1125.00109863281 (76.6033935005158% of viewport)
[19:35:34] [INFO] [Bullet] Distance-based penetration chance: 57.296040916065%
[19:35:34] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3367.72, 1416.451), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3356.375, 1430.766), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [ENEMY] [LowerEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=139.3°, current=140.8°, player=(3036,1825), corner_timer=-0.02
[19:35:34] [ENEMY] [LowerEnemy2] State: FLANKING -> COMBAT
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3344.923, 1448.325), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=3
[19:35:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3375.206, 1453.885), shooter_id=486472159399, bullet_pos=(2701.197, 1943.944)
[19:35:34] [INFO] [Bullet] Using shooter_position, distance=833.333801269531
[19:35:34] [INFO] [Bullet] Distance to wall: 833.333801269531 (56.7432308941824% of viewport)
[19:35:34] [INFO] [Bullet] Distance-based penetration chance: 80.4662306234539%
[19:35:34] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:34] [ENEMY] [UziEnemy1] Hit: dmg=50, hp=4/4->-46/4
[19:35:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2836.668, 713.9338), dir=(1, 0), lethal=true
[19:35:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:34] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:35:34] [INFO] [ImpactEffects] Blood effect spawned at (2836.668, 713.9338) (scale=1.5)
[19:35:34] [ENEMY] [UziEnemy1] Enemy died (ricochet: false, penetration: false)
[19:35:34] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[19:35:34] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:35:34] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:35:34] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:35:34] [INFO] [PowerFantasy]   - Duration: 300ms
[19:35:34] [ENEMY] [UziEnemy1] [AllyDeath] Notified 1 enemies
[19:35:34] [INFO] [SoundPropagation] Unregistered listener: UziEnemy1 (remaining: 12)
[19:35:34] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:35:34] [ENEMY] [UziEnemy1] Death animation started with hit direction: (1, 0)
[19:35:34] [ENEMY] [UziEnemy3] Hit: dmg=50, hp=3/3->-47/3
[19:35:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2828.707, 713.9338), dir=(1, 0), lethal=true
[19:35:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:34] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:35:34] [INFO] [ImpactEffects] Blood effect spawned at (2828.707, 713.9338) (scale=1.5)
[19:35:34] [ENEMY] [UziEnemy3] Enemy died (ricochet: false, penetration: false)
[19:35:34] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[19:35:34] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:35:34] [INFO] [PowerFantasy] Effect timer reset to 300ms
[19:35:34] [INFO] [SoundPropagation] Unregistered listener: UziEnemy3 (remaining: 11)
[19:35:34] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:35:34] [ENEMY] [UziEnemy3] Death animation started with hit direction: (1, 0)
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3036.97, 1825.664), source=PLAYER (SniperRifle), range=3000, listeners=11
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=10
[19:35:34] [INFO] [ReplayManager] Recording frame 1920 (31,9s): player_valid=False, enemies=10
[19:35:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [ENEMY] [RpgEnemy2] Warning: No valid flank position (both sides behind walls)
[19:35:35] [ENEMY] [RpgEnemy2] FLANKING started: target=(3208.391, 1928.693), side=right, pos=(4008.728, 1287.166)
[19:35:35] [ENEMY] [RpgEnemy2] State: PURSUING -> FLANKING
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [ENEMY] [RpgEnemy2] FLANKING corner check: angle -118.8°
[19:35:35] [INFO] [LastChance] Threat detected: @Area2D@2304
[19:35:35] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:35] [INFO] [PowerFantasy] Effect duration expired after 313.00 ms
[19:35:35] [INFO] [PowerFantasy] Ending power fantasy effect
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2916.109, 733.6752) (added to group)
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2884.528, 720.8041) (added to group)
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2914.796, 715.2018) (added to group)
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2880.026, 731.994) (added to group)
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2924.396, 697.61) (added to group)
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2941.537, 715.1604) (added to group)
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2991.399, 748.3624) (added to group)
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2955.455, 725.624) (added to group)
[19:35:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3298.782, 1517.198), shooter_id=486472159399, bullet_pos=(3255.371, 1931.598)
[19:35:35] [INFO] [Bullet] Using shooter_position, distance=416.666961669922
[19:35:35] [INFO] [Bullet] Distance to wall: 416.666961669922 (28.3716196030872% of viewport)
[19:35:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:35] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.0°, player=(3036,1825), corner_timer=-0.01
[19:35:35] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.0°, player=(3036,1825), corner_timer=-0.01
[19:35:35] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:35] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=53.9°, player=(3036,1825), corner_timer=0.30
[19:35:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=53.9°, player=(3036,1825), corner_timer=0.30
[19:35:35] [ENEMY] [UziEnemy1] Ragdoll activated
[19:35:35] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:35:35] [ENEMY] [UziEnemy3] Ragdoll activated
[19:35:35] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2959.094, 752.0394) (added to group)
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2947.912, 723.6526) (added to group)
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2994.028, 724.7762) (added to group)
[19:35:35] [ENEMY] [RpgEnemy2] FLANKING corner check: angle 89.1°
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2945.408, 733.2778) (added to group)
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (2986.767, 726.0495) (added to group)
[19:35:35] [INFO] [BloodDecal] Blood puddle created at (3000.004, 749.9258) (added to group)
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3429.477, 1400.172), source=ENEMY (LowerEnemy2), range=1469, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=1, below_threshold=0
[19:35:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3298.782, 1517.198), shooter_id=486472159399, bullet_pos=(2350.88, 1376.177)
[19:35:35] [INFO] [Bullet] Using shooter_position, distance=958.334655761719
[19:35:35] [INFO] [Bullet] Distance to wall: 958.334655761719 (65.2547689328586% of viewport)
[19:35:35] [INFO] [Bullet] Distance-based penetration chance: 70.536102911665%
[19:35:35] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-0.5°, player=(3036,1834), corner_timer=-0.02
[19:35:35] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[19:35:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-0.5°, player=(3036,1834), corner_timer=-0.02
[19:35:35] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 90.0°
[19:35:35] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-3.4°, player=(3036,1837), corner_timer=0.30
[19:35:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-3.4°, player=(3036,1837), corner_timer=0.30
[19:35:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3298.782, 1517.198), shooter_id=486472159399, bullet_pos=(3370.979, 1927.562)
[19:35:35] [INFO] [Bullet] Using shooter_position, distance=416.666381835938
[19:35:35] [INFO] [Bullet] Distance to wall: 416.666381835938 (28.371580121125% of viewport)
[19:35:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:35] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3392.164, 1401.064), source=ENEMY (LowerEnemy2), range=1469, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=1, below_threshold=0
[19:35:35] [ENEMY] [UziEnemyCenter2] Hit: dmg=1, hp=2/2->1/2
[19:35:35] [INFO] [ImpactEffects] spawn_blood_effect called at (3335.481, 1459.894), dir=(1, 0), lethal=false
[19:35:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:35] [INFO] [ImpactEffects] Blood effect spawned at (3335.481, 1459.894) (scale=1)
[19:35:35] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=127.6°, current=180.0°, player=(3036,1847), corner_timer=0.05
[19:35:35] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=127.3°, current=177.1°, player=(3036,1851), corner_timer=0.05
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3335.481, 1459.894), source=ENEMY (UziEnemyCenter2), range=1200, listeners=11
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=1
[19:35:35] [ENEMY] [RpgEnemy2] FLANKING corner check: angle 62.3°
[19:35:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3298.941, 1517.288), shooter_id=486472159399, bullet_pos=(3254.129, 1931.539)
[19:35:35] [INFO] [Bullet] Using shooter_position, distance=416.667236328125
[19:35:35] [INFO] [Bullet] Distance to wall: 416.667236328125 (28.3716383050693% of viewport)
[19:35:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:35] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:35] [INFO] [LastChance] Threat detected: Bullet
[19:35:35] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3298.782, 1517.198), shooter_id=486472159399, bullet_pos=(2507.383, 1537.82)
[19:35:35] [INFO] [Bullet] Using shooter_position, distance=791.667785644531
[19:35:35] [INFO] [Bullet] Distance to wall: 791.667785644531 (53.9061152732293% of viewport)
[19:35:35] [INFO] [Bullet] Distance-based penetration chance: 83.7761988478992%
[19:35:35] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:35] [ENEMY] [UziEnemyCenter2] State: COMBAT -> RETREATING
[19:35:35] [ENEMY] [LowerEnemy2] State: COMBAT -> RETREATING
[19:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3385.995, 1433.285), source=ENEMY (LowerEnemy2), range=1469, listeners=11
[19:35:35] [ENEMY] [UziEnemyCenter2] Heard gunshot at (3385.995, 1433.285), source_type=1, intensity=0.83, distance=55
[19:35:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=1, below_threshold=0
[19:35:35] [ENEMY] [UziEnemyCenter2] State: COMBAT -> RETREATING
[19:35:36] [INFO] [ReplayManager] Recording frame 1980 (32,9s): player_valid=False, enemies=10
[19:35:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3389.328, 1414.928), source=ENEMY (LowerEnemy2), range=1469, listeners=11
[19:35:36] [ENEMY] [UziEnemyCenter2] Heard gunshot at (3389.328, 1414.928), source_type=1, intensity=0.75, distance=58
[19:35:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=1, below_threshold=0
[19:35:36] [ENEMY] [UziEnemyCenter2] Hit: dmg=1, hp=1/2->0/2
[19:35:36] [INFO] [ImpactEffects] spawn_blood_effect called at (3356.657, 1462.473), dir=(1, 0), lethal=true
[19:35:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:36] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:35:36] [INFO] [ImpactEffects] Blood effect spawned at (3356.657, 1462.473) (scale=1.5)
[19:35:36] [ENEMY] [UziEnemyCenter2] Enemy died (ricochet: false, penetration: false)
[19:35:36] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[19:35:36] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:35:36] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:35:36] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:35:36] [INFO] [PowerFantasy]   - Duration: 300ms
[19:35:36] [ENEMY] [UziEnemy2] [AllyDeath] Witnessed at (3356.657, 1462.473), entering SEARCHING
[19:35:36] [ENEMY] [UziEnemy2] SEARCHING started: center=(3356.657, 1462.473), radius=100, waypoints=5
[19:35:36] [ENEMY] [RpgEnemy2] [AllyDeath] Witnessed at (3356.657, 1462.473), entering SEARCHING
[19:35:36] [ENEMY] [RpgEnemy2] SEARCHING started: center=(3356.657, 1462.473), radius=100, waypoints=5
[19:35:36] [ENEMY] [UziEnemyCenter2] [AllyDeath] Notified 3 enemies
[19:35:36] [INFO] [SoundPropagation] Unregistered listener: UziEnemyCenter2 (remaining: 10)
[19:35:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:35:36] [ENEMY] [UziEnemyCenter2] Death animation started with hit direction: (1, 0)
[19:35:36] [ENEMY] [UziEnemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=SEARCHING, target=112.9°, current=14.6°, player=(3036,1918), corner_timer=-0.02
[19:35:36] [ENEMY] [UziEnemy2] SEARCHING corner check: angle 160.5°
[19:35:36] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=48.5°, player=(3036,1923), corner_timer=-0.00
[19:35:36] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[19:35:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=48.5°, player=(3036,1923), corner_timer=-0.00
[19:35:36] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 90.0°
[19:35:36] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=48.7°, player=(3036,1924), corner_timer=0.30
[19:35:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=48.7°, player=(3036,1924), corner_timer=0.30
[19:35:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3299.505, 1517.627), shooter_id=486472159399, bullet_pos=(2528.85, 1534.242)
[19:35:36] [INFO] [Bullet] Using shooter_position, distance=770.833618164063
[19:35:36] [INFO] [Bullet] Distance to wall: 770.833618164063 (52.4874784988283% of viewport)
[19:35:36] [INFO] [Bullet] Distance-based penetration chance: 85.4312750847003%
[19:35:36] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:36] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[19:35:36] [INFO] [PowerFantasy] Ending power fantasy effect
[19:35:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3415.456, 1414.39), source=ENEMY (LowerEnemy2), range=1469, listeners=10
[19:35:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=0
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3410.433, 1466.372) (added to group)
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3427.187, 1495.528) (added to group)
[19:35:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3295.363, 1521.417), shooter_id=486472159399, bullet_pos=(2505.368, 1572.879)
[19:35:36] [INFO] [Bullet] Using shooter_position, distance=791.669982910156
[19:35:36] [INFO] [Bullet] Distance to wall: 791.669982910156 (53.9062648890861% of viewport)
[19:35:36] [INFO] [Bullet] Distance-based penetration chance: 83.7760242960662%
[19:35:36] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:36] [ENEMY] [UziEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=114.5°, current=65.4°, player=(3036,1946), corner_timer=0.18
[19:35:36] [ENEMY] [UziEnemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[19:35:36] [ENEMY] [UziEnemy2] State: SEARCHING -> COMBAT
[19:35:36] [ENEMY] [RpgEnemy2] SEARCHING corner check: angle 83.5°
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3399.012, 1515.011) (added to group)
[19:35:36] [ENEMY] [UziEnemy2] State: COMBAT -> RETREATING
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3439.569, 1551.109) (added to group)
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3433.726, 1519.712) (added to group)
[19:35:36] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[19:35:36] [INFO] [GrenadeBase] Grenade created at (3330.839, 1493.025) (frozen)
[19:35:36] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[19:35:36] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[19:35:36] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[19:35:36] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[19:35:36] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[19:35:36] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[19:35:36] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.645451, 0.763801), Speed: 1001.1 (unfrozen)
[19:35:36] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[19:35:36] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[19:35:36] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[19:35:36] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (3036.97, 1847.664), Distance: 501
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3485.362, 1517.145) (added to group)
[19:35:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3441.583, 1413.851), source=ENEMY (LowerEnemy2), range=1469, listeners=10
[19:35:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=0
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3418.76, 1531.28) (added to group)
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3419.471, 1461.21) (added to group)
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3416.035, 1457.243) (added to group)
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3422.055, 1459.868) (added to group)
[19:35:36] [INFO] [LastChance] Threat detected: Bullet
[19:35:36] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:36] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(3036,1955), corner_timer=-0.01
[19:35:36] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(3036,1955), corner_timer=-0.01
[19:35:36] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3467.71, 1413.313), source=ENEMY (LowerEnemy2), range=1469, listeners=10
[19:35:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=0
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3468.236, 1545.873) (added to group)
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3437.306, 1545.908) (added to group)
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3443.866, 1470.988) (added to group)
[19:35:36] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:36] [INFO] [Player] Spawning blood effect at (3036.97, 1955.9697), dir=(1, 0), lethal=False (C#)
[19:35:36] [INFO] [ImpactEffects] spawn_blood_effect called at (3036.97, 1955.97), dir=(1, 0), lethal=false
[19:35:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:36] [INFO] [ImpactEffects] Blood effect spawned at (3036.97, 1955.97) (scale=1)
[19:35:36] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=92.9°, player=(3036,1955), corner_timer=0.30
[19:35:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=92.9°, player=(3036,1955), corner_timer=0.30
[19:35:36] [ENEMY] [UziEnemy1] Death animation completed
[19:35:36] [ENEMY] [UziEnemy3] Death animation completed
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3501.689, 1467.352) (added to group)
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3451.231, 1535.807) (added to group)
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3466.45, 1468.743) (added to group)
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3454.857, 1528.038) (added to group)
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3458.998, 1491.84) (added to group)
[19:35:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3493.837, 1412.775), source=ENEMY (LowerEnemy2), range=1469, listeners=10
[19:35:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=1, below_threshold=1
[19:35:36] [ENEMY] [RpgEnemy2] SEARCHING corner check: angle 83.6°
[19:35:36] [ENEMY] [UziEnemyCenter2] Ragdoll activated
[19:35:36] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3509.327, 1493.104) (added to group)
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3445.484, 1495.329) (added to group)
[19:35:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3519.964, 1412.237), source=ENEMY (LowerEnemy2), range=1469, listeners=10
[19:35:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=1, below_threshold=1
[19:35:36] [INFO] [BloodDecal] Blood puddle created at (3501.171, 1516.816) (added to group)
[19:35:37] [INFO] [ReplayManager] Recording frame 2040 (33,6s): player_valid=False, enemies=10
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3513.363, 1632.664) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3090.607, 1989.823) (added to group)
[19:35:37] [INFO] [LastChance] Threat detected: Bullet
[19:35:37] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:37] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=147.3°, player=(3036,1955), corner_timer=-0.02
[19:35:37] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=147.3°, player=(3036,1955), corner_timer=-0.02
[19:35:37] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3114.974, 1985.304) (added to group)
[19:35:37] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=150.2°, player=(3036,1955), corner_timer=0.30
[19:35:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=150.2°, player=(3036,1955), corner_timer=0.30
[19:35:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3546.091, 1411.699), source=ENEMY (LowerEnemy2), range=1469, listeners=10
[19:35:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=1, below_threshold=1
[19:35:37] [ENEMY] [RpgEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=135.4°, current=135.7°, player=(3036,1955), corner_timer=0.08
[19:35:37] [ENEMY] [RpgEnemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[19:35:37] [ENEMY] [RpgEnemy2] State: SEARCHING -> COMBAT
[19:35:37] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:37] [INFO] [Player] Spawning blood effect at (3036.97, 1955.9697), dir=(1, 0), lethal=False (C#)
[19:35:37] [INFO] [ImpactEffects] spawn_blood_effect called at (3036.97, 1955.97), dir=(1, 0), lethal=false
[19:35:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:37] [INFO] [ImpactEffects] Blood effect spawned at (3036.97, 1955.97) (scale=1)
[19:35:37] [INFO] [LastChance] Threat detected: @Area2D@2473
[19:35:37] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3572.218, 1411.162), source=ENEMY (LowerEnemy2), range=1469, listeners=10
[19:35:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=1, below_threshold=1
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3137.166, 2033.817) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3153.023, 2060.888) (added to group)
[19:35:37] [ENEMY] [RpgEnemy2] Hit: dmg=1, hp=2/2->1/2
[19:35:37] [INFO] [ImpactEffects] spawn_blood_effect called at (3535.03, 1462.621), dir=(1, 0), lethal=false
[19:35:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:37] [INFO] [ImpactEffects] Blood effect spawned at (3535.03, 1462.621) (scale=1)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3151.339, 2028.515) (added to group)
[19:35:37] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:37] [INFO] [Player] Spawning blood effect at (3042.859, 1955.9697), dir=(1, 0), lethal=False (C#)
[19:35:37] [INFO] [ImpactEffects] spawn_blood_effect called at (3042.859, 1955.97), dir=(1, 0), lethal=false
[19:35:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:37] [INFO] [ImpactEffects] Blood effect spawned at (3042.859, 1955.97) (scale=1)
[19:35:37] [INFO] [BloodyFeet:RpgEnemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:35:37] [ENEMY] [LowerEnemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-1.2°, current=135.2°, player=(3042,1955), corner_timer=-0.02
[19:35:37] [ENEMY] [RpgEnemy2] State: COMBAT -> RETREATING
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3167.762, 2077.841) (added to group)
[19:35:37] [INFO] [LastChance] Threat detected: @Area2D@2478
[19:35:37] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:37] [ENEMY] [RpgEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=83.6°, current=162.7°, player=(3042,1955), corner_timer=0.08
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3131.4, 2035.861) (added to group)
[19:35:37] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-155.4°, player=(3042,1955), corner_timer=-0.02
[19:35:37] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[19:35:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-155.4°, player=(3042,1955), corner_timer=-0.02
[19:35:37] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 90.0°
[19:35:37] [ENEMY] [LowerEnemy2] State: RETREATING -> IN_COVER
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3148.275, 2011.906) (added to group)
[19:35:37] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-158.3°, player=(3042,1955), corner_timer=0.30
[19:35:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-158.3°, player=(3042,1955), corner_timer=0.30
[19:35:37] [ENEMY] [LowerEnemy2] State: IN_COVER -> SUPPRESSED
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3246.86, 2160.316) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3115.281, 1946.528) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3110.125, 1968.793) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3219.052, 2163.044) (added to group)
[19:35:37] [ENEMY] [RpgEnemy2] State: RETREATING -> IN_COVER
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3579.648, 1473.632) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3599.389, 1506.463) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3084.251, 1971.917) (added to group)
[19:35:37] [ENEMY] [RpgEnemy2] State: IN_COVER -> SUPPRESSED
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3092.317, 1977.22) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3095.809, 1977.36) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3140.42, 2022.007) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3115.424, 2019.733) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3177.368, 1992.12) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3135.648, 1970.963) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3152.054, 2032.555) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3211.9, 2040.323) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3660.71, 1445.686) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3210.284, 2076.632) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3198.981, 2099.141) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3200.764, 2072.213) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3138.663, 2012.571) (added to group)
[19:35:37] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=147.3°, player=(3042,1955), corner_timer=-0.02
[19:35:37] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[19:35:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=147.3°, player=(3042,1955), corner_timer=-0.02
[19:35:37] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 90.0°
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3608.496, 1493.359) (added to group)
[19:35:37] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=150.2°, player=(3041,1955), corner_timer=0.30
[19:35:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=150.2°, player=(3041,1955), corner_timer=0.30
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3217.268, 2009.517) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3638.163, 1492.103) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3188.201, 2025.959) (added to group)
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3234.837, 2033.336) (added to group)
[19:35:37] [ENEMY] [LowerEnemy2] State: SUPPRESSED -> SEEKING_COVER
[19:35:37] [ENEMY] [UziEnemyCenter2] Death animation completed
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3725.838, 1543.647) (added to group)
[19:35:37] [ENEMY] [LowerEnemy2] State: SEEKING_COVER -> IN_COVER
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3152.183, 2062.849) (added to group)
[19:35:37] [ENEMY] [LowerEnemy2] State: IN_COVER -> SUPPRESSED
[19:35:37] [INFO] [BloodDecal] Blood puddle created at (3188.878, 1997.525) (added to group)
[19:35:37] [INFO] [ReplayManager] Recording frame 2100 (34,6s): player_valid=False, enemies=10
[19:35:38] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=95.7°, player=(2984,1977), corner_timer=-0.02
[19:35:38] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:38] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=95.7°, player=(2984,1977), corner_timer=-0.02
[19:35:38] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:38] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=98.6°, player=(2980,1981), corner_timer=0.30
[19:35:38] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=98.6°, player=(2980,1981), corner_timer=0.30
[19:35:38] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:35:38] [ENEMY] [RpgEnemy2] State: SUPPRESSED -> SEEKING_COVER
[19:35:38] [ENEMY] [LowerEnemy2] State: SUPPRESSED -> SEEKING_COVER
[19:35:38] [ENEMY] [LowerEnemy2] State: SEEKING_COVER -> IN_COVER
[19:35:38] [ENEMY] [LowerEnemy2] State: IN_COVER -> SUPPRESSED
[19:35:38] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(2674.778, 2269.383), source=NEUTRAL (FragGrenade), range=112, listeners=10
[19:35:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[19:35:38] [INFO] [GrenadeBase] Grenade landed at (2674.778, 2269.383)
[19:35:38] [INFO] [FragGrenade] Impact detected - exploding immediately!
[19:35:38] [INFO] [GrenadeBase] EXPLODED at (2674.778, 2269.383)!
[19:35:38] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[19:35:38] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[19:35:38] [INFO] [LastChance] Starting last chance effect:
[19:35:38] [INFO] [LastChance]   - Time will be frozen (except player)
[19:35:38] [INFO] [LastChance]   - Duration: 2.00 real seconds
[19:35:38] [INFO] [LastChance]   - Trigger: grenade explosion
[19:35:38] [INFO] [LastChance]   - Sepia intensity: 0.70
[19:35:38] [INFO] [LastChance]   - Brightness: 0.60
[19:35:38] [INFO] [LastChance] Set player Player and all 27 children to PROCESS_MODE_ALWAYS
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CenterTower' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'InnerTower' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'LeftWingTopWall' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'LeftWingBottomWall' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'LeftWingEndWall' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'RightWingTopWall' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'RightWingBottomWall' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'RightWingEndWall' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CenterSouthWallLeft' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CenterSouthWallRight' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft1' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft2' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft3' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight1' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight2' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight3' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft1' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft2' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft3' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight1' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight2' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight3' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleLeft1' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleLeft2' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleRight1' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleRight2' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverLowerMidLeft1' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverLowerMidRight1' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverBottom1' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Set StaticBody2D 'CoverBottom2' to PROCESS_MODE_ALWAYS for collision
[19:35:38] [INFO] [LastChance] Skipping player node: Player
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: Casing
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1844
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1847
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1850
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1853
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1859
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1862
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1865
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1868
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1874
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1882
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1894
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1912
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1917
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1930
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1936
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1942
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1945
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1948
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1950
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1954
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1958
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1961
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1965
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1969
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1972
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1975
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1981
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1984
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1987
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1990
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1993
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1994
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2027
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2033
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2037
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2043
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2059
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2065
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2074
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2083
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2088
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2092
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2095
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2097
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2101
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2108
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2112
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2116
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2120
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2123
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2126
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2127
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2130
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2134
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2137
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2141
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2144
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2147
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2149
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2152
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2155
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2158
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2162
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2165
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2168
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2170
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2173
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2176
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2179
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2182
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2185
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2188
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2192
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2202
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2210
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2222
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2235
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2245
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2253
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2261
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2268
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2279
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2287
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2292
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2303
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2306
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2308
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2312
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2318
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2322
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2338
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2379
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2387
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2399
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2412
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2414
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2419
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2423
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2426
[19:35:38] [INFO] [LastChance] Froze existing grenade: FragGrenade
[19:35:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2440
[19:35:38] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[19:35:38] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[19:35:38] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[19:35:38] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2674.778, 2269.383), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[19:35:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=10
[19:35:38] [INFO] [GrenadeBase] Scattered 0 casings (lethal zone) + 1 casings (proximity) from explosion
[19:35:38] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[19:35:38] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[19:35:38] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 19.8 degrees
[19:35:38] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2518
[19:35:38] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2518
[19:35:38] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 78.1 degrees
[19:35:38] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2519
[19:35:38] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2519
[19:35:38] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 189.3 degrees
[19:35:38] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2520
[19:35:38] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2520
[19:35:38] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 255.3 degrees
[19:35:38] [INFO] [ImpactEffects] Spawning explosion visual effect at (2674.778, 2269.383) (radius=225) - using shadow-based wall occlusion
[19:35:38] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@2521
[19:35:38] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@2521
[19:35:38] [INFO] [ReplayManager] Recording frame 2160 (35,6s): player_valid=False, enemies=10
[19:35:39] [INFO] [ReplayManager] Recording frame 2220 (36,6s): player_valid=False, enemies=10
[19:35:40] [INFO] [LastChance] Effect duration expired after 2.01 real seconds
[19:35:40] [INFO] [LastChance] Ending last chance effect
[19:35:40] [ENEMY] [ShotgunEnemy1] Memory reset: confusion=2.0s, had_target=false
[19:35:40] [ENEMY] [ShotgunEnemy2] Memory reset: confusion=2.0s, had_target=false
[19:35:40] [ENEMY] [UziEnemy2] Memory reset: confusion=2.0s, had_target=true
[19:35:40] [ENEMY] [UziEnemy2] Search mode: RETREATING -> SEARCHING at (2896.976, 2026.919)
[19:35:40] [ENEMY] [UziEnemy2] SEARCHING started: center=(2896.976, 2026.919), radius=100, waypoints=5
[19:35:40] [ENEMY] [UziEnemyRight1] Memory reset: confusion=2.0s, had_target=false
[19:35:40] [ENEMY] [ShotgunEnemyRight1] Memory reset: confusion=2.0s, had_target=false
[19:35:40] [ENEMY] [PatrolEnemy1] Memory reset: confusion=2.0s, had_target=false
[19:35:40] [ENEMY] [PatrolEnemy2] Memory reset: confusion=2.0s, had_target=false
[19:35:40] [ENEMY] [LowerEnemy2] Memory reset: confusion=2.0s, had_target=true
[19:35:40] [ENEMY] [LowerEnemy2] Search mode: SUPPRESSED -> SEARCHING at (3042.859, 1955.97)
[19:35:40] [ENEMY] [LowerEnemy2] SEARCHING started: center=(3042.859, 1955.97), radius=100, waypoints=5
[19:35:40] [ENEMY] [RpgEnemy1] Memory reset: confusion=2.0s, had_target=false
[19:35:40] [ENEMY] [RpgEnemy2] Memory reset: confusion=2.0s, had_target=true
[19:35:40] [ENEMY] [RpgEnemy2] Search mode: SEEKING_COVER -> SEARCHING at (3042.859, 1955.97)
[19:35:40] [ENEMY] [RpgEnemy2] SEARCHING started: center=(3042.859, 1955.97), radius=100, waypoints=5
[19:35:40] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[19:35:40] [INFO] [LastChance] All process modes restored
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: Casing
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1844
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1847
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1850
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1853
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1859
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1862
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1865
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1868
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1874
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1882
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1894
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1912
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1917
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1930
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1936
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1942
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1945
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1948
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1950
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1954
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1958
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1961
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1965
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1969
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1972
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1975
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1981
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1984
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1987
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1990
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1993
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1994
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2027
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2033
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2037
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2043
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2059
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2065
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2074
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2083
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2088
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2092
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2095
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2097
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2101
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2108
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2112
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2116
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2120
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2123
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2126
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2127
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2130
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2134
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2137
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2141
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2144
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2147
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2149
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2152
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2155
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2158
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2162
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2165
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2168
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2170
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2173
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2176
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2179
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2182
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2185
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2188
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2192
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2202
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2210
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2222
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2235
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2245
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2253
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2261
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2268
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2279
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2287
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2292
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2303
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2306
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2308
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2312
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2318
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2322
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2338
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2379
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2387
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2399
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2412
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2414
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2419
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2423
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2426
[19:35:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2440
[19:35:40] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[19:35:40] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2518
[19:35:40] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2519
[19:35:40] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2520
[19:35:40] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@2521
[19:35:40] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[19:35:40] [ENEMY] [UziEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=120.2°, current=120.3°, player=(2896,2026), corner_timer=0.18
[19:35:40] [ENEMY] [LowerEnemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=SEARCHING, target=140.5°, current=8.8°, player=(2896,2026), corner_timer=-0.02
[19:35:40] [ENEMY] [LowerEnemy2] SEARCHING corner check: angle -8.4°
[19:35:40] [ENEMY] [RpgEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=SEARCHING, target=140.2°, current=83.6°, player=(2896,2026), corner_timer=0.08
[19:35:40] [INFO] [BloodyFeet:LowerEnemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:35:40] [ENEMY] [RpgEnemy2] SEARCHING corner check: angle -101.1°
[19:35:40] [ENEMY] [UziEnemy2] SEARCHING corner check: angle 30.2°
[19:35:40] [ENEMY] [LowerEnemy2] SEARCHING corner check: angle -0.2°
[19:35:40] [INFO] [LastChance] Visual effects fade-out complete
[19:35:40] [INFO] [LastChance] Restored original colors to 5 player sprites
[19:35:40] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[19:35:40] [INFO] [ReplayManager] Recording frame 2280 (37,6s): player_valid=False, enemies=10
[19:35:40] [ENEMY] [RpgEnemy2] SEARCHING corner check: angle -138.4°
[19:35:41] [ENEMY] [UziEnemy2] SEARCHING corner check: angle 30.3°
[19:35:41] [ENEMY] [RpgEnemy2] SEARCHING corner check: angle 41.5°
[19:35:41] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[19:35:41] [ENEMY] [UziEnemy2] SEARCHING corner check: angle 30.3°
[19:35:41] [ENEMY] [LowerEnemy2] SEARCHING corner check: angle 59.6°
[19:35:41] [ENEMY] [RpgEnemy2] SEARCHING corner check: angle 44.6°
[19:35:41] [ENEMY] [UziEnemy2] SEARCHING corner check: angle 30.3°
[19:35:41] [ENEMY] [LowerEnemy2] SEARCHING corner check: angle 59.7°
[19:35:41] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=64.2°, player=(2896,1937), corner_timer=-0.02
[19:35:41] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:41] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=64.2°, player=(2896,1937), corner_timer=-0.02
[19:35:41] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:41] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=61.4°, player=(2896,1932), corner_timer=0.30
[19:35:41] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=61.4°, player=(2896,1932), corner_timer=0.30
[19:35:41] [INFO] [ReplayManager] Recording frame 2340 (38,6s): player_valid=False, enemies=10
[19:35:41] [ENEMY] [RpgEnemy2] SEARCHING corner check: angle 41.6°
[19:35:41] [INFO] [BloodyFeet:LowerEnemy2] Blood ran out - no more footprints
[19:35:42] [ENEMY] [UziEnemy2] SEARCHING corner check: angle 30.3°
[19:35:42] [ENEMY] [LowerEnemy2] SEARCHING corner check: angle 59.7°
[19:35:42] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=6.9°, player=(2896,1827), corner_timer=-0.02
[19:35:42] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:42] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=6.9°, player=(2896,1827), corner_timer=-0.02
[19:35:42] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:42] [INFO] [BloodyFeet:RpgEnemy2] Blood ran out - no more footprints
[19:35:42] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=4.1°, player=(2896,1822), corner_timer=0.30
[19:35:42] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=4.1°, player=(2896,1822), corner_timer=0.30
[19:35:42] [INFO] [BloodyFeet:RpgEnemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:35:42] [ENEMY] [RpgEnemy2] SEARCHING corner check: angle -138.4°
[19:35:42] [ENEMY] [UziEnemy2] SEARCHING corner check: angle 30.3°
[19:35:42] [INFO] [BloodyFeet:UziEnemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:35:42] [ENEMY] [LowerEnemy2] SEARCHING corner check: angle -120.3°
[19:35:42] [ENEMY] [UziEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-119.3°, current=-140.4°, player=(2896,1766), corner_timer=0.18
[19:35:42] [ENEMY] [UziEnemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[19:35:42] [ENEMY] [UziEnemy2] State: SEARCHING -> COMBAT
[19:35:42] [ENEMY] [LowerEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-172.7°, current=-173.3°, player=(2896,1766), corner_timer=0.30
[19:35:42] [ENEMY] [LowerEnemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[19:35:42] [ENEMY] [LowerEnemy2] State: SEARCHING -> COMBAT
[19:35:42] [ENEMY] [RpgEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-151.2°, current=-152.6°, player=(2896,1766), corner_timer=0.08
[19:35:42] [ENEMY] [RpgEnemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[19:35:42] [ENEMY] [RpgEnemy2] State: SEARCHING -> COMBAT
[19:35:42] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:ShotgunEnemy1] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:ShotgunEnemy1] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:ShotgunEnemy1] BloodyFeetComponent ready on ShotgunEnemy1
[19:35:42] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[19:35:42] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[19:35:42] [INFO] [LastChance] Resetting all effects (scene change detected)
[19:35:42] [INFO] [CinemaEffects] Scene changed to: CastleLevel
[19:35:42] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[19:35:42] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[19:35:42] [ENEMY] [ShotgunEnemy1] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:ShotgunEnemy2] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:ShotgunEnemy2] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:ShotgunEnemy2] BloodyFeetComponent ready on ShotgunEnemy2
[19:35:42] [ENEMY] [ShotgunEnemy2] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:UziEnemy1] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:UziEnemy1] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:UziEnemy1] BloodyFeetComponent ready on UziEnemy1
[19:35:42] [ENEMY] [UziEnemy1] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:UziEnemy2] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:UziEnemy2] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:UziEnemy2] BloodyFeetComponent ready on UziEnemy2
[19:35:42] [ENEMY] [UziEnemy2] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:UziEnemy3] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:UziEnemy3] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:UziEnemy3] BloodyFeetComponent ready on UziEnemy3
[19:35:42] [ENEMY] [UziEnemy3] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:UziEnemyRight1] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:UziEnemyRight1] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:UziEnemyRight1] BloodyFeetComponent ready on UziEnemyRight1
[19:35:42] [ENEMY] [UziEnemyRight1] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:ShotgunEnemyRight1] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:ShotgunEnemyRight1] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:ShotgunEnemyRight1] BloodyFeetComponent ready on ShotgunEnemyRight1
[19:35:42] [ENEMY] [ShotgunEnemyRight1] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:UziEnemyCenter1] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:UziEnemyCenter1] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:UziEnemyCenter1] BloodyFeetComponent ready on UziEnemyCenter1
[19:35:42] [ENEMY] [UziEnemyCenter1] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:UziEnemyCenter2] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:UziEnemyCenter2] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:UziEnemyCenter2] BloodyFeetComponent ready on UziEnemyCenter2
[19:35:42] [ENEMY] [UziEnemyCenter2] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[19:35:42] [ENEMY] [PatrolEnemy1] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[19:35:42] [ENEMY] [PatrolEnemy2] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:LowerEnemy1] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:LowerEnemy1] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:LowerEnemy1] BloodyFeetComponent ready on LowerEnemy1
[19:35:42] [ENEMY] [LowerEnemy1] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:LowerEnemy2] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:LowerEnemy2] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:LowerEnemy2] BloodyFeetComponent ready on LowerEnemy2
[19:35:42] [ENEMY] [LowerEnemy2] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:RpgEnemy1] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:RpgEnemy1] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:RpgEnemy1] BloodyFeetComponent ready on RpgEnemy1
[19:35:42] [ENEMY] [RpgEnemy1] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:RpgEnemy2] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:RpgEnemy2] Found EnemyModel for facing direction
[19:35:42] [INFO] [BloodyFeet:RpgEnemy2] BloodyFeetComponent ready on RpgEnemy2
[19:35:42] [ENEMY] [RpgEnemy2] Death animation component initialized
[19:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:35:42] [INFO] [BloodyFeet:Player] Footprint scene loaded
[19:35:42] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[19:35:42] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[19:35:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[19:35:42] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[19:35:42] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[19:35:42] [INFO] [Player.Weapon] Removed default MakarovPM
[19:35:42] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[19:35:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[19:35:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[19:35:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[19:35:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[19:35:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[19:35:42] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[19:35:42] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[19:35:42] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[19:35:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[19:35:42] [INFO] [CastleLevel] Found Environment/Enemies node with 15 children
[19:35:42] [INFO] [CastleLevel] Child 'ShotgunEnemy1': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'ShotgunEnemy2': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'UziEnemy1': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'UziEnemy2': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'UziEnemy3': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'UziEnemyRight1': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'ShotgunEnemyRight1': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'UziEnemyCenter1': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'UziEnemyCenter2': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'PatrolEnemy1': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'PatrolEnemy2': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'LowerEnemy1': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'LowerEnemy2': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'RpgEnemy1': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Child 'RpgEnemy2': script=true, has_died_signal=true
[19:35:42] [INFO] [CastleLevel] Enemy tracking complete: 15 enemies registered
[19:35:42] [INFO] [ScoreManager] Level started with 15 enemies
[19:35:42] [INFO] [BloodyFeet:ShotgunEnemy1] Blood detector created and attached to ShotgunEnemy1
[19:35:42] [INFO] [CinemaEffects] Found player node: Player
[19:35:42] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[19:35:42] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy1 (total: 11)
[19:35:42] [ENEMY] [ShotgunEnemy1] Registered as sound listener
[19:35:42] [ENEMY] [ShotgunEnemy1] Spawned at (1000, 500), hp: 3, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:ShotgunEnemy2] Blood detector created and attached to ShotgunEnemy2
[19:35:42] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy2 (total: 12)
[19:35:42] [ENEMY] [ShotgunEnemy2] Registered as sound listener
[19:35:42] [ENEMY] [ShotgunEnemy2] Spawned at (1400, 500), hp: 3, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:UziEnemy1] Blood detector created and attached to UziEnemy1
[19:35:42] [INFO] [SoundPropagation] Registered listener: UziEnemy1 (total: 13)
[19:35:42] [ENEMY] [UziEnemy1] Registered as sound listener
[19:35:42] [ENEMY] [UziEnemy1] Spawned at (2500, 550), hp: 3, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:UziEnemy2] Blood detector created and attached to UziEnemy2
[19:35:42] [INFO] [SoundPropagation] Registered listener: UziEnemy2 (total: 14)
[19:35:42] [ENEMY] [UziEnemy2] Registered as sound listener
[19:35:42] [ENEMY] [UziEnemy2] Spawned at (3500, 550), hp: 3, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:UziEnemy3] Blood detector created and attached to UziEnemy3
[19:35:42] [INFO] [SoundPropagation] Registered listener: UziEnemy3 (total: 15)
[19:35:42] [ENEMY] [UziEnemy3] Registered as sound listener
[19:35:42] [ENEMY] [UziEnemy3] Spawned at (3000, 300), hp: 4, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:UziEnemyRight1] Blood detector created and attached to UziEnemyRight1
[19:35:42] [INFO] [SoundPropagation] Registered listener: UziEnemyRight1 (total: 16)
[19:35:42] [ENEMY] [UziEnemyRight1] Registered as sound listener
[19:35:42] [ENEMY] [UziEnemyRight1] Spawned at (4800, 500), hp: 3, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:ShotgunEnemyRight1] Blood detector created and attached to ShotgunEnemyRight1
[19:35:42] [INFO] [SoundPropagation] Registered listener: ShotgunEnemyRight1 (total: 17)
[19:35:42] [ENEMY] [ShotgunEnemyRight1] Registered as sound listener
[19:35:42] [ENEMY] [ShotgunEnemyRight1] Spawned at (5000, 500), hp: 2, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:UziEnemyCenter1] Blood detector created and attached to UziEnemyCenter1
[19:35:42] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter1 (total: 18)
[19:35:42] [ENEMY] [UziEnemyCenter1] Registered as sound listener
[19:35:42] [ENEMY] [UziEnemyCenter1] Spawned at (2200, 1050), hp: 2, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:UziEnemyCenter2] Blood detector created and attached to UziEnemyCenter2
[19:35:42] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter2 (total: 19)
[19:35:42] [ENEMY] [UziEnemyCenter2] Registered as sound listener
[19:35:42] [ENEMY] [UziEnemyCenter2] Spawned at (3800, 1050), hp: 3, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[19:35:42] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 20)
[19:35:42] [ENEMY] [PatrolEnemy1] Registered as sound listener
[19:35:42] [ENEMY] [PatrolEnemy1] Spawned at (1100, 1050), hp: 4, behavior: PATROL
[19:35:42] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[19:35:42] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 21)
[19:35:42] [ENEMY] [PatrolEnemy2] Registered as sound listener
[19:35:42] [ENEMY] [PatrolEnemy2] Spawned at (4900, 1050), hp: 3, behavior: PATROL
[19:35:42] [INFO] [BloodyFeet:LowerEnemy1] Blood detector created and attached to LowerEnemy1
[19:35:42] [INFO] [SoundPropagation] Registered listener: LowerEnemy1 (total: 22)
[19:35:42] [ENEMY] [LowerEnemy1] Registered as sound listener
[19:35:42] [ENEMY] [LowerEnemy1] Spawned at (2150, 1250), hp: 3, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:LowerEnemy2] Blood detector created and attached to LowerEnemy2
[19:35:42] [INFO] [SoundPropagation] Registered listener: LowerEnemy2 (total: 23)
[19:35:42] [ENEMY] [LowerEnemy2] Registered as sound listener
[19:35:42] [ENEMY] [LowerEnemy2] Spawned at (3850, 1250), hp: 2, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:RpgEnemy1] Blood detector created and attached to RpgEnemy1
[19:35:42] [INFO] [SoundPropagation] Registered listener: RpgEnemy1 (total: 24)
[19:35:42] [ENEMY] [RpgEnemy1] Registered as sound listener
[19:35:42] [ENEMY] [RpgEnemy1] Spawned at (2000, 300), hp: 2, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:RpgEnemy2] Blood detector created and attached to RpgEnemy2
[19:35:42] [INFO] [SoundPropagation] Registered listener: RpgEnemy2 (total: 25)
[19:35:42] [ENEMY] [RpgEnemy2] Registered as sound listener
[19:35:42] [ENEMY] [RpgEnemy2] Spawned at (4200, 1050), hp: 1, behavior: GUARD
[19:35:42] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[19:35:42] [ENEMY] [ShotgunEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [ShotgunEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [UziEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [UziEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [UziEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [UziEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [LowerEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [LowerEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [RpgEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [RpgEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=52.7°, current=2.9°, player=(3000,2100), corner_timer=0.00
[19:35:42] [ENEMY] [UziEnemyCenter1] State: IDLE -> COMBAT
[19:35:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[19:35:42] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[19:35:42] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[19:35:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[19:35:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[19:35:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[19:35:42] [INFO] [LastChance] Found player: Player
[19:35:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[19:35:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[19:35:42] [INFO] [LastChance] Connected to player Died signal (C#)
[19:35:42] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[19:35:42] [INFO] [ReplayManager] Recording frame 2400 (39,6s): player_valid=False, enemies=10
[19:35:43] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=128.5°, current=80.2°, player=(3000,2054), corner_timer=0.00
[19:35:43] [ENEMY] [UziEnemyCenter2] State: IDLE -> COMBAT
[19:35:43] [ENEMY] [LowerEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[19:35:43] [ENEMY] [LowerEnemy1] State: IDLE -> PURSUING
[19:35:43] [ENEMY] [LowerEnemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[19:35:43] [ENEMY] [LowerEnemy2] State: IDLE -> PURSUING
[19:35:43] [ENEMY] [RpgEnemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[19:35:43] [ENEMY] [RpgEnemy2] State: IDLE -> PURSUING
[19:35:43] [ENEMY] [UziEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[19:35:43] [ENEMY] [UziEnemy1] State: IDLE -> PURSUING
[19:35:43] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=128.8°, current=-145.4°, player=(3000,2043), corner_timer=0.00
[19:35:43] [ENEMY] [LowerEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=43.0°, current=-85.9°, player=(3000,2043), corner_timer=0.00
[19:35:43] [ENEMY] [LowerEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=137.0°, current=-45.0°, player=(3000,2043), corner_timer=0.00
[19:35:43] [ENEMY] [RpgEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=140.4°, current=-78.7°, player=(3000,2043), corner_timer=0.00
[19:35:43] [ENEMY] [RpgEnemy2] PURSUING_MEMORY corner check: angle 15.4°
[19:35:43] [ENEMY] [UziEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=71.4°, current=-22.5°, player=(3000,2038), corner_timer=0.00
[19:35:43] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -77.4°
[19:35:43] [ENEMY] [LowerEnemy2] PURSUING corner check: angle 76.5°
[19:35:43] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[19:35:43] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=131.0°, current=179.5°, player=(3000,1972), corner_timer=0.00
[19:35:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2357.285, 1245.039), source=ENEMY (UziEnemyCenter1), range=1200, listeners=25
[19:35:43] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[19:35:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:43] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -96.6°
[19:35:43] [ENEMY] [LowerEnemy2] PURSUING corner check: angle -103.5°
[19:35:43] [ENEMY] [RpgEnemy2] PURSUING corner check: angle 43.3°
[19:35:43] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[19:35:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2371.873, 1260.604), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2382.554, 1278.438), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:35:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2402.391, 1286.287), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:43] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=40.6°, current=33.5°, player=(3000,1856), corner_timer=0.10
[19:35:43] [ENEMY] [LowerEnemy1] State: PURSUING -> COMBAT
[19:35:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2422.295, 1293.964), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2438.882, 1306.829), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:35:43] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=38.8°, current=47.9°, player=(3000,1829), corner_timer=0.10
[19:35:43] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=38.8°, current=44.6°, player=(3000,1823), corner_timer=0.10
[19:35:43] [ENEMY] [RpgEnemy2] PURSUING corner check: angle 42.9°
[19:35:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2454.613, 1321.238), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:43] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=137.9°, current=137.9°, player=(3000,1801), corner_timer=0.00
[19:35:43] [ENEMY] [UziEnemyCenter2] State: COMBAT -> PURSUING
[19:35:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2467.276, 1337.897), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2477.153, 1356.804), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:43] [INFO] [ReplayManager] Recording frame 2460 (40,6s): player_valid=False, enemies=10
[19:35:43] [ENEMY] [RpgEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=154.4°, current=154.0°, player=(3000,1757), corner_timer=0.13
[19:35:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2483.061, 1358.611), shooter_id=1280353242040, bullet_pos=(2668.862, 1955.356)
[19:35:44] [INFO] [Bullet] Using shooter_position, distance=625.000671386719
[19:35:44] [INFO] [Bullet] Distance to wall: 625.000671386719 (42.5574449896159% of viewport)
[19:35:44] [INFO] [Bullet] Distance-based penetration chance: 97.0163141787815%
[19:35:44] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2487.756, 1375.314), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=9, self=1, below_threshold=4
[19:35:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2445.169, 1339.23), shooter_id=1280353242040, bullet_pos=(3253.441, 1928.041)
[19:35:44] [INFO] [Bullet] Using shooter_position, distance=1000.00091552734
[19:35:44] [INFO] [Bullet] Distance to wall: 1000.00091552734 (68.0919011777958% of viewport)
[19:35:44] [INFO] [Bullet] Distance-based penetration chance: 67.2261152925716%
[19:35:44] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2499.424, 1386.732), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=9, self=1, below_threshold=4
[19:35:44] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=35.3°, current=35.3°, player=(3008,1717), corner_timer=0.10
[19:35:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2465.549, 1346.52), shooter_id=1280353242040, bullet_pos=(3325.876, 1933.807)
[19:35:44] [INFO] [Bullet] Using shooter_position, distance=1041.666015625
[19:35:44] [INFO] [Bullet] Distance to wall: 1041.666015625 (70.9289544588085% of viewport)
[19:35:44] [INFO] [Bullet] Distance-based penetration chance: 63.9162197980568%
[19:35:44] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:44] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:44] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(3013,1708), corner_timer=0.30
[19:35:44] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(3013,1708), corner_timer=0.30
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2510.967, 1397.198), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [ENEMY] [LowerEnemy1] State: COMBAT -> PURSUING
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2529.353, 1408.015), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2548.125, 1418.148), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2525.801, 1404.493), shooter_id=1280353242040, bullet_pos=(3474.573, 1539.525)
[19:35:44] [INFO] [Bullet] Using shooter_position, distance=958.333435058594
[19:35:44] [INFO] [Bullet] Distance to wall: 958.333435058594 (65.2546858129381% of viewport)
[19:35:44] [INFO] [Bullet] Distance-based penetration chance: 70.5361998849055%
[19:35:44] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2567.263, 1427.572), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [INFO] [LastChance] Threat detected: @Area2D@3055
[19:35:44] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2586.745, 1436.262), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:44] [INFO] [Player] Spawning blood effect at (3086.2473, 1633.8921), dir=(1, 0), lethal=False (C#)
[19:35:44] [INFO] [ImpactEffects] spawn_blood_effect called at (3086.247, 1633.892), dir=(1, 0), lethal=false
[19:35:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:44] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:44] [INFO] [ImpactEffects] Blood effect spawned at (3086.247, 1633.892) (scale=1)
[19:35:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(3086,1633), corner_timer=-0.02
[19:35:44] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:44] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(3086,1633), corner_timer=-0.02
[19:35:44] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(3090,1630), corner_timer=0.30
[19:35:44] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(3090,1630), corner_timer=0.30
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2606.545, 1444.2), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [ENEMY] [RpgEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=160.1°, current=159.9°, player=(3105,1614), corner_timer=0.05
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2626.637, 1451.367), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2625.387, 1463.099), shooter_id=1280353242040, bullet_pos=(2747.848, 1947.87)
[19:35:44] [INFO] [Bullet] Using shooter_position, distance=499.999603271484
[19:35:44] [INFO] [Bullet] Distance to wall: 499.999603271484 (34.0458924049536% of viewport)
[19:35:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:44] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2564.774, 1438.967), shooter_id=1280353242040, bullet_pos=(3602.989, 1523.727)
[19:35:44] [INFO] [Bullet] Using shooter_position, distance=1041.66821289063
[19:35:44] [INFO] [Bullet] Distance to wall: 1041.66821289063 (70.9291040746653% of viewport)
[19:35:44] [INFO] [Bullet] Distance-based penetration chance: 63.9160452462238%
[19:35:44] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2646.992, 1457.749), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2646.184, 1469.544), shooter_id=1280353242040, bullet_pos=(2745.834, 1959.514)
[19:35:44] [INFO] [Bullet] Using shooter_position, distance=500.000518798828
[19:35:44] [INFO] [Bullet] Distance to wall: 500.000518798828 (34.0459547448939% of viewport)
[19:35:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:44] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:44] [ENEMY] [UziEnemyCenter2] State: PURSUING -> RETREATING
[19:35:44] [ENEMY] [UziEnemyCenter2] State: RETREATING -> IN_COVER
[19:35:44] [ENEMY] [LowerEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=152.1°, current=151.9°, player=(3136,1583), corner_timer=0.10
[19:35:44] [ENEMY] [LowerEnemy2] State: PURSUING -> RETREATING
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [ENEMY] [UziEnemyCenter2] State: IN_COVER -> SUPPRESSED
[19:35:44] [ENEMY] [LowerEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-103.5°, current=150.8°, player=(3144,1575), corner_timer=0.10
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3164,1556), corner_timer=-0.02
[19:35:44] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:44] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3164,1556), corner_timer=-0.02
[19:35:44] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3167,1552), corner_timer=0.30
[19:35:44] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3167,1552), corner_timer=0.30
[19:35:44] [ENEMY] [RpgEnemy2] State: PURSUING -> RETREATING
[19:35:44] [INFO] [BloodDecal] Blood puddle created at (3153.588, 1629.524) (added to group)
[19:35:44] [INFO] [BloodDecal] Blood puddle created at (3185.273, 1638.042) (added to group)
[19:35:44] [INFO] [BloodDecal] Blood puddle created at (3136.186, 1666.802) (added to group)
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [ENEMY] [RpgEnemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=42.9°, current=162.5°, player=(3171,1548), corner_timer=0.05
[19:35:44] [ENEMY] [RpgEnemy2] State: RETREATING -> IN_COVER
[19:35:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2538.317, 1420.981), shooter_id=1280353242040, bullet_pos=(4518.013, 1136.719)
[19:35:44] [INFO] [Bullet] Using shooter_position, distance=1999.99975585938
[19:35:44] [INFO] [Bullet] Distance to wall: 1999.99975585938 (136.183661051727% of viewport)
[19:35:44] [INFO] [Bullet] Distance-based penetration chance: 22.7632677896547%
[19:35:44] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:44] [ENEMY] [RpgEnemy2] State: IN_COVER -> SUPPRESSED
[19:35:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2688.469, 1479.961), shooter_id=1280353242040, bullet_pos=(3287.734, 1930.937)
[19:35:44] [INFO] [Bullet] Using shooter_position, distance=749.998107910156
[19:35:44] [INFO] [Bullet] Distance to wall: 749.998107910156 (51.0687502925148% of viewport)
[19:35:44] [INFO] [Bullet] Distance-based penetration chance: 87.086457992066%
[19:35:44] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:44] [INFO] [BloodDecal] Blood puddle created at (3227.284, 1684.261) (added to group)
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [INFO] [BloodDecal] Blood puddle created at (3159.732, 1655.765) (added to group)
[19:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:44] [ENEMY] [LowerEnemy2] State: RETREATING -> IN_COVER
[19:35:44] [INFO] [ReplayManager] Recording frame 2520 (41,6s): player_valid=False, enemies=10
[19:35:44] [ENEMY] [LowerEnemy2] State: IN_COVER -> SUPPRESSED
[19:35:44] [INFO] [BloodDecal] Blood puddle created at (3208.385, 1686.235) (added to group)
[19:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:45] [ENEMY] [LowerEnemy2] State: SUPPRESSED -> SEEKING_COVER
[19:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:45] [ENEMY] [LowerEnemy2] State: SEEKING_COVER -> IN_COVER
[19:35:45] [INFO] [BloodDecal] Blood puddle created at (3286.12, 1805.713) (added to group)
[19:35:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3217,1468), corner_timer=-0.02
[19:35:45] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:45] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3217,1468), corner_timer=-0.02
[19:35:45] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:45] [ENEMY] [LowerEnemy2] State: IN_COVER -> SUPPRESSED
[19:35:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3217,1462), corner_timer=0.30
[19:35:45] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3217,1462), corner_timer=0.30
[19:35:45] [ENEMY] [UziEnemy1] Warning: No valid flank position (both sides behind walls)
[19:35:45] [ENEMY] [UziEnemy1] FLANKING started: target=(3284.564, 1268.856), side=right, pos=(2570.059, 698.892)
[19:35:45] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[19:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:45] [INFO] [BloodDecal] Blood puddle created at (3255.667, 1808.055) (added to group)
[19:35:45] [INFO] [BloodDecal] Blood puddle created at (3209.078, 1806.064) (added to group)
[19:35:45] [INFO] [BloodDecal] Blood puddle created at (3236.994, 1753.069) (added to group)
[19:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2728.93, 1476.657), shooter_id=1280353242040, bullet_pos=(3282.341, 745.8932)
[19:35:45] [INFO] [Bullet] Using shooter_position, distance=916.667663574219
[19:35:45] [INFO] [Bullet] Distance to wall: 916.667663574219 (62.4175868159692% of viewport)
[19:35:45] [INFO] [Bullet] Distance-based penetration chance: 73.8461487147027%
[19:35:45] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:45] [ENEMY] [UziEnemy1] FLANKING corner check: angle -108.3°
[19:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2729.392, 1474.382), shooter_id=1280353242040, bullet_pos=(3638.965, 1360.56)
[19:35:45] [INFO] [Bullet] Using shooter_position, distance=916.667236328125
[19:35:45] [INFO] [Bullet] Distance to wall: 916.667236328125 (62.417557723997% of viewport)
[19:35:45] [INFO] [Bullet] Distance-based penetration chance: 73.8461826553368%
[19:35:45] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2729.801, 1471.937), shooter_id=1280353242040, bullet_pos=(3374.804, 1930.963)
[19:35:45] [INFO] [Bullet] Using shooter_position, distance=791.665344238281
[19:35:45] [INFO] [Bullet] Distance to wall: 791.665344238281 (53.9059490333884% of viewport)
[19:35:45] [INFO] [Bullet] Distance-based penetration chance: 83.7763927943802%
[19:35:45] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:45] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SUPPRESSED, target=161.4°, current=144.4°, player=(3217,1369), corner_timer=0.00
[19:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2728.417, 1478.827), shooter_id=1280353242040, bullet_pos=(3840.214, 742.8346)
[19:35:45] [INFO] [Bullet] Using shooter_position, distance=1333.3330078125
[19:35:45] [INFO] [Bullet] Distance to wall: 1333.3330078125 (90.7890962851617% of viewport)
[19:35:45] [INFO] [Bullet] Distance-based penetration chance: 40.746054333978%
[19:35:45] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2726.265, 1485.769), shooter_id=1280353242040, bullet_pos=(4407.182, 655.0156)
[19:35:45] [INFO] [Bullet] Using shooter_position, distance=1875.00231933594
[19:35:45] [INFO] [Bullet] Distance to wall: 1875.00231933594 (127.672355748828% of viewport)
[19:35:45] [INFO] [Bullet] Distance-based penetration chance: 24.4655288502344%
[19:35:45] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3217,1358), corner_timer=-0.02
[19:35:45] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[19:35:45] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3217,1358), corner_timer=-0.02
[19:35:45] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3217,1352), corner_timer=0.30
[19:35:45] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3217,1352), corner_timer=0.30
[19:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2662.399, 1462.064), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:35:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3633.305, 1229.632), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:35:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=5
[19:35:45] [ENEMY] [LowerEnemy2] State: SUPPRESSED -> SEEKING_COVER
[19:35:45] [ENEMY] [RpgEnemy2] State: SUPPRESSED -> SEEKING_COVER
[19:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3633.305, 1229.632), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:35:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=5
[19:35:45] [ENEMY] [LowerEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=177.2°, current=147.3°, player=(3217,1326), corner_timer=0.10
[19:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3570.027, 1255.661), shooter_id=1280705563940, bullet_pos=(3419.621, 1327.465)
[19:35:45] [INFO] [Bullet] Using shooter_position, distance=166.666564941406
[19:35:45] [INFO] [Bullet] Distance to wall: 166.666564941406 (11.3486328796492% of viewport)
[19:35:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:45] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:45] [ENEMY] [LowerEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-103.5°, current=77.7°, player=(3217,1321), corner_timer=0.10
[19:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2730.499, 1463.924), shooter_id=1280353242040, bullet_pos=(3372.848, 1926.657)
[19:35:45] [INFO] [Bullet] Using shooter_position, distance=791.665710449219
[19:35:45] [INFO] [Bullet] Distance to wall: 791.665710449219 (53.9059739693645% of viewport)
[19:35:45] [INFO] [Bullet] Distance-based penetration chance: 83.7763637024081%
[19:35:45] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2730.373, 1466.607), shooter_id=1280353242040, bullet_pos=(3650.367, 1734.951)
[19:35:45] [INFO] [Bullet] Using shooter_position, distance=958.330810546875
[19:35:45] [INFO] [Bullet] Distance to wall: 958.330810546875 (65.2545071051092% of viewport)
[19:35:45] [INFO] [Bullet] Distance-based penetration chance: 70.5364083773727%
[19:35:45] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3633.305, 1229.632), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:35:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=5
[19:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3568.861, 1252.61), shooter_id=1280705563940, bullet_pos=(3374.496, 1327.609)
[19:35:45] [INFO] [Bullet] Using shooter_position, distance=208.333053588867
[19:35:45] [INFO] [Bullet] Distance to wall: 208.333053588867 (14.1857807095714% of viewport)
[19:35:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:45] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:45] [ENEMY] [UziEnemy1] FLANKING corner check: angle -103.5°
[19:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3633.305, 1229.632), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:35:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=1, below_threshold=5
[19:35:45] [ENEMY] [UziEnemyCenter2] State: SUPPRESSED -> SEEKING_COVER
[19:35:45] [ENEMY] [LowerEnemy1] FLANKING started: target=(3127.884, 1472.866), side=left, pos=(2466.38, 1337.352)
[19:35:45] [ENEMY] [LowerEnemy1] State: PURSUING -> FLANKING
[19:35:45] [ENEMY] [LowerEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=179.4°, current=130.6°, player=(3217,1294), corner_timer=0.10
[19:35:45] [INFO] [LastChance] Threat detected: @Area2D@3153
[19:35:45] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:45] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=76.7°, current=77.3°, player=(3217,1290), corner_timer=0.00
[19:35:45] [INFO] [LastChance] Threat detected: @Area2D@3156
[19:35:45] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:45] [ENEMY] [LowerEnemy1] FLANKING corner check: angle 154.0°
[19:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2730.252, 1456.017), shooter_id=1280353242040, bullet_pos=(3330.451, 763.168)
[19:35:45] [INFO] [Bullet] Using shooter_position, distance=916.666625976563
[19:35:45] [INFO] [Bullet] Distance to wall: 916.666625976563 (62.4175161640368% of viewport)
[19:35:45] [INFO] [Bullet] Distance-based penetration chance: 73.8462311419571%
[19:35:45] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:45] [ENEMY] [LowerEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-103.5°, current=68.3°, player=(3217,1284), corner_timer=0.10
[19:35:45] [ENEMY] [LowerEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-179.0°, current=-170.7°, player=(3217,1284), corner_timer=0.10
[19:35:45] [ENEMY] [LowerEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-103.5°, current=63.8°, player=(3217,1284), corner_timer=0.10
[19:35:45] [INFO] [ReplayManager] Recording frame 2580 (42,6s): player_valid=False, enemies=10
[19:35:45] [ENEMY] [LowerEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-179.0°, current=-167.0°, player=(3217,1284), corner_timer=0.10
[19:35:46] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-9.5°, current=-33.2°, player=(3217,1284), corner_timer=0.17
[19:35:46] [ENEMY] [LowerEnemy1] State: FLANKING -> COMBAT
[19:35:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3568.078, 1250.061), shooter_id=1280705563940, bullet_pos=(2657.521, 1355.74)
[19:35:46] [INFO] [Bullet] Using shooter_position, distance=916.668212890625
[19:35:46] [INFO] [Bullet] Distance to wall: 916.668212890625 (62.4176242199334% of viewport)
[19:35:46] [INFO] [Bullet] Distance-based penetration chance: 73.8461050767444%
[19:35:46] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:46] [ENEMY] [UziEnemy1] FLANKING corner check: angle -93.1°
[19:35:46] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-10.0°, current=-66.9°, player=(3217,1284), corner_timer=0.17
[19:35:46] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-10.5°, current=-58.8°, player=(3217,1284), corner_timer=0.17
[19:35:46] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=60.0°, current=61.4°, player=(3217,1284), corner_timer=0.18
[19:35:46] [ENEMY] [UziEnemy1] State: FLANKING -> COMBAT
[19:35:46] [ENEMY] [LowerEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-103.5°, current=-170.5°, player=(3217,1284), corner_timer=0.10
[19:35:46] [ENEMY] [UziEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=60.6°, current=115.1°, player=(3217,1284), corner_timer=0.18
[19:35:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2730.519, 1461.257), shooter_id=1280353242040, bullet_pos=(4610.191, 664.2416)
[19:35:46] [INFO] [Bullet] Using shooter_position, distance=2041.66650390625
[19:35:46] [INFO] [Bullet] Distance to wall: 2041.66650390625 (139.020826544632% of viewport)
[19:35:46] [INFO] [Bullet] Distance-based penetration chance: 22.1958346910736%
[19:35:46] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:46] [ENEMY] [UziEnemy2] Memory: high confidence (0.89) - transitioning to PURSUING
[19:35:46] [ENEMY] [UziEnemy2] State: IDLE -> PURSUING
[19:35:46] [ENEMY] [UziEnemy3] Memory: high confidence (0.89) - transitioning to PURSUING
[19:35:46] [ENEMY] [UziEnemy3] State: IDLE -> PURSUING
[19:35:46] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=60.2°, current=109.4°, player=(3217,1284), corner_timer=0.18
[19:35:46] [ENEMY] [UziEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=111.0°, current=11.3°, player=(3217,1284), corner_timer=0.00
[19:35:46] [ENEMY] [UziEnemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=78.2°, current=123.7°, player=(3217,1284), corner_timer=0.00
[19:35:46] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -81.4°
[19:35:46] [ENEMY] [LowerEnemy2] State: SEEKING_COVER -> IN_COVER
[19:35:46] [ENEMY] [UziEnemy2] PURSUING corner check: angle 27.0°
[19:35:46] [ENEMY] [LowerEnemy2] State: IN_COVER -> SUPPRESSED
[19:35:46] [ENEMY] [UziEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=59.7°, current=103.3°, player=(3217,1284), corner_timer=0.18
[19:35:46] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -113.7°
[19:35:46] [ENEMY] [UziEnemy2] PURSUING corner check: angle 27.0°
[19:35:46] [ENEMY] [UziEnemy1] State: COMBAT -> PURSUING
[19:35:46] [ENEMY] [UziEnemyCenter1] State: COMBAT -> SEEKING_COVER
[19:35:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2762.371, 1412.986), source=ENEMY (LowerEnemy1), range=1469, listeners=15
[19:35:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=8
[19:35:46] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-82.1°, current=-82.1°, player=(3217,1284), corner_timer=0.00
[19:35:46] [ENEMY] [UziEnemyCenter2] Hit: dmg=50, hp=3/3->-47/3
[19:35:46] [INFO] [ImpactEffects] spawn_blood_effect called at (3642.721, 1287.019), dir=(1, 0), lethal=true
[19:35:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:46] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:35:46] [INFO] [ImpactEffects] Blood effect spawned at (3642.721, 1287.019) (scale=1.5)
[19:35:46] [ENEMY] [UziEnemyCenter2] Enemy died (ricochet: false, penetration: false)
[19:35:46] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[19:35:46] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:35:46] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:35:46] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:35:46] [INFO] [PowerFantasy]   - Duration: 300ms
[19:35:46] [ENEMY] [UziEnemyCenter2] [AllyDeath] Notified 2 enemies
[19:35:46] [INFO] [SoundPropagation] Unregistered listener: UziEnemyCenter2 (remaining: 14)
[19:35:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:35:46] [ENEMY] [UziEnemyCenter2] Death animation started with hit direction: (1, 0)
[19:35:46] [ENEMY] [RpgEnemy2] Hit: dmg=50, hp=1/1->-49/1
[19:35:46] [INFO] [ImpactEffects] spawn_blood_effect called at (4008.728, 1287.166), dir=(1, 0), lethal=true
[19:35:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:46] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:35:46] [INFO] [ImpactEffects] Blood effect spawned at (4008.728, 1287.166) (scale=1.5)
[19:35:46] [ENEMY] [RpgEnemy2] Enemy died (ricochet: false, penetration: false)
[19:35:46] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[19:35:46] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:35:46] [INFO] [PowerFantasy] Effect timer reset to 300ms
[19:35:46] [ENEMY] [RpgEnemy2] [AllyDeath] Notified 1 enemies
[19:35:46] [INFO] [SoundPropagation] Unregistered listener: RpgEnemy2 (remaining: 13)
[19:35:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:35:46] [ENEMY] [RpgEnemy2] Death animation started with hit direction: (1, 0)
[19:35:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3217.792, 1284.658), source=PLAYER (SniperRifle), range=3000, listeners=13
[19:35:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=12
[19:35:46] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -121.9°
[19:35:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2794.198, 1404.018), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[19:35:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[19:35:46] [INFO] [LastChance] Threat detected: Bullet
[19:35:46] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:46] [INFO] [ReplayManager] Recording frame 2640 (43,5s): player_valid=False, enemies=10
[19:35:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:47] [INFO] [Player] Spawning blood effect at (3217.7917, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:47] [INFO] [ImpactEffects] spawn_blood_effect called at (3217.792, 1284.658), dir=(1, 0), lethal=false
[19:35:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:47] [INFO] [ImpactEffects] Blood effect spawned at (3217.792, 1284.658) (scale=1)
[19:35:47] [INFO] [LastChance] Threat detected: @Area2D@3164
[19:35:47] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:47] [ENEMY] [LowerEnemy1] State: COMBAT -> RETREATING
[19:35:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2831.158, 1393.603), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[19:35:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=5
[19:35:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:47] [INFO] [Player] Spawning blood effect at (3217.7917, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:47] [INFO] [ImpactEffects] spawn_blood_effect called at (3217.792, 1284.658), dir=(1, 0), lethal=false
[19:35:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:47] [INFO] [ImpactEffects] Blood effect spawned at (3217.792, 1284.658) (scale=1)
[19:35:47] [INFO] [PowerFantasy] Effect duration expired after 314.00 ms
[19:35:47] [INFO] [PowerFantasy] Ending power fantasy effect
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (4081.605, 1279.581) (added to group)
[19:35:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2808.841, 1395.521), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[19:35:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=5
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (4114.147, 1283.64) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (4112.559, 1284.738) (added to group)
[19:35:47] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -161.9°
[19:35:47] [INFO] [LastChance] Threat detected: @Area2D@3171
[19:35:47] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:47] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=7.2°, current=55.6°, player=(3217,1284), corner_timer=0.09
[19:35:47] [ENEMY] [PatrolEnemy1] State: IDLE -> COMBAT
[19:35:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2782.803, 1397.759), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[19:35:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=5
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3741.394, 1307.618) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3722.941, 1304.59) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (4135.501, 1303.704) (added to group)
[19:35:47] [ENEMY] [UziEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=63.3°, current=14.2°, player=(3217,1284), corner_timer=0.27
[19:35:47] [ENEMY] [UziEnemy3] State: PURSUING -> COMBAT
[19:35:47] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=7.1°, current=-123.0°, player=(3217,1284), corner_timer=0.09
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (4082.411, 1296.407) (added to group)
[19:35:47] [ENEMY] [UziEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=63.2°, current=5.7°, player=(3217,1284), corner_timer=0.27
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3739.032, 1321.521) (added to group)
[19:35:47] [ENEMY] [UziEnemyCenter2] Ragdoll activated
[19:35:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:35:47] [ENEMY] [RpgEnemy2] Ragdoll activated
[19:35:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3272.791, 1291.033) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3290.904, 1281.919) (added to group)
[19:35:47] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=38.4°, player=(3217,1284), corner_timer=-0.01
[19:35:47] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (4120.106, 1337.44) (added to group)
[19:35:47] [ENEMY] [UziEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=62.8°, current=14.0°, player=(3217,1284), corner_timer=0.27
[19:35:47] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=41.3°, player=(3217,1284), corner_timer=0.30
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3275.076, 1274.281) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3292.006, 1282.445) (added to group)
[19:35:47] [INFO] [LastChance] Threat detected: @Area2D@3175
[19:35:47] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2756.765, 1399.997), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[19:35:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (4153.407, 1276.546) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (4166.164, 1274.208) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (4179.486, 1354.733) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3296.773, 1352.078) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3315.273, 1307.432) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3304.782, 1267.832) (added to group)
[19:35:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:47] [INFO] [Player] Spawning blood effect at (3217.7917, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:47] [INFO] [ImpactEffects] spawn_blood_effect called at (3217.792, 1284.658), dir=(1, 0), lethal=false
[19:35:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:47] [INFO] [ImpactEffects] Blood effect spawned at (3217.792, 1284.658) (scale=1)
[19:35:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2730.727, 1402.234), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[19:35:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (4200.104, 1319.977) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (4222.58, 1400.375) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3280.957, 1350.962) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3331.168, 1312.74) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3304.548, 1347.493) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3305.636, 1346.349) (added to group)
[19:35:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2705.843, 1408.543), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[19:35:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[19:35:47] [INFO] [LastChance] Threat detected: @Area2D@3217
[19:35:47] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3329.81, 1317.545) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3368.032, 1303.431) (added to group)
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3349.885, 1309.199) (added to group)
[19:35:47] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-13.1°, player=(3217,1284), corner_timer=-0.02
[19:35:47] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 90.0°
[19:35:47] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-16.0°, player=(3217,1284), corner_timer=0.30
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3424.814, 1300.858) (added to group)
[19:35:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2681.046, 1416.579), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[19:35:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3332.294, 1443.076) (added to group)
[19:35:47] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=7.1°, current=-42.7°, player=(3217,1284), corner_timer=0.09
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3288.729, 1336.015) (added to group)
[19:35:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2655.231, 1415.145), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[19:35:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3284.874, 1294.104) (added to group)
[19:35:47] [INFO] [LastChance] Threat detected: @Area2D@3231
[19:35:47] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:47] [INFO] [BloodDecal] Blood puddle created at (3327.844, 1306.372) (added to group)
[19:35:47] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=3/3->2/3
[19:35:47] [INFO] [ImpactEffects] spawn_blood_effect called at (5003.396, 1050), dir=(1, 0), lethal=false
[19:35:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:47] [INFO] [ImpactEffects] Blood effect spawned at (5003.396, 1050) (scale=1)
[19:35:47] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=172.5°, current=180.0°, player=(3217,1284), corner_timer=0.08
[19:35:47] [ENEMY] [PatrolEnemy2] State: IDLE -> COMBAT
[19:35:48] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:48] [INFO] [Player] Spawning blood effect at (3217.7917, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3217.792, 1284.658), dir=(1, 0), lethal=false
[19:35:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:48] [INFO] [ImpactEffects] Blood effect spawned at (3217.792, 1284.658) (scale=1)
[19:35:48] [INFO] [ReplayManager] Recording frame 2700 (44,5s): player_valid=False, enemies=10
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2630.038, 1422.073), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[19:35:48] [ENEMY] [LowerEnemy2] State: SUPPRESSED -> IN_COVER
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3311.324, 1340.796) (added to group)
[19:35:48] [ENEMY] [LowerEnemy2] State: IN_COVER -> PURSUING
[19:35:48] [ENEMY] [LowerEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-173.9°, current=-103.5°, player=(3217,1284), corner_timer=0.10
[19:35:48] [INFO] [LastChance] Threat detected: @Area2D@3235
[19:35:48] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1595.115, 1081.188), source=ENEMY (PatrolEnemy1), range=1200, listeners=13
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:48] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:48] [INFO] [Player] Spawning blood effect at (3217.7917, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3217.792, 1284.658), dir=(1, 0), lethal=false
[19:35:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:48] [INFO] [ImpactEffects] Blood effect spawned at (3217.792, 1284.658) (scale=1)
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2880.071, 664.2636), source=ENEMY (UziEnemy3), range=1200, listeners=13
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=4
[19:35:48] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2604.445, 1427.311), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[19:35:48] [ENEMY] [UziEnemyCenter1] Hit: dmg=1, hp=2/2->1/2
[19:35:48] [INFO] [ImpactEffects] spawn_blood_effect called at (2665.197, 1413.532), dir=(1, 0), lethal=false
[19:35:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:48] [INFO] [ImpactEffects] Blood effect spawned at (2665.197, 1413.532) (scale=1)
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1616.282, 1083.842), source=ENEMY (PatrolEnemy1), range=1200, listeners=13
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3430.495, 1292.406) (added to group)
[19:35:48] [INFO] [LastChance] Threat detected: Bullet
[19:35:48] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2890.271, 683.0007), source=ENEMY (UziEnemy3), range=1200, listeners=13
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=4
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4949.984, 1064.325), source=ENEMY (PatrolEnemy2), range=1200, listeners=13
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=1, below_threshold=3
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3347.867, 1416.124) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (5070.041, 1066.484) (added to group)
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1637.45, 1086.497), source=ENEMY (PatrolEnemy1), range=1200, listeners=13
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=5
[19:35:48] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:48] [INFO] [Player] Spawning blood effect at (3217.7917, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3217.792, 1284.658), dir=(1, 0), lethal=false
[19:35:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:48] [INFO] [ImpactEffects] Blood effect spawned at (3217.792, 1284.658) (scale=1)
[19:35:48] [ENEMY] [UziEnemy1] Warning: No valid flank position (both sides behind walls)
[19:35:48] [ENEMY] [UziEnemy1] FLANKING started: target=(3018.722, 1303.923), side=left, pos=(2810.286, 713.9337)
[19:35:48] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2578.474, 1430.109), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3299.454, 1270.167) (added to group)
[19:35:48] [ENEMY] [UziEnemyCenter1] Hit: dmg=1, hp=1/2->0/2
[19:35:48] [INFO] [ImpactEffects] spawn_blood_effect called at (2665.197, 1413.532), dir=(1, 0), lethal=true
[19:35:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:48] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:35:48] [INFO] [ImpactEffects] Blood effect spawned at (2665.197, 1413.532) (scale=1.5)
[19:35:48] [ENEMY] [UziEnemyCenter1] Enemy died (ricochet: false, penetration: false)
[19:35:48] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[19:35:48] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:35:48] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:35:48] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:35:48] [INFO] [PowerFantasy]   - Duration: 300ms
[19:35:48] [ENEMY] [UziEnemyCenter1] [AllyDeath] Notified 1 enemies
[19:35:48] [INFO] [SoundPropagation] Unregistered listener: UziEnemyCenter1 (remaining: 12)
[19:35:48] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:35:48] [ENEMY] [UziEnemyCenter1] Death animation started with hit direction: (1, 0)
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2890.931, 704.279), source=ENEMY (UziEnemy3), range=1200, listeners=12
[19:35:48] [ENEMY] [UziEnemy1] Heard gunshot at (2890.931, 704.279), source_type=1, intensity=0.42, distance=77
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=4
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4954.151, 1074.144), source=ENEMY (PatrolEnemy2), range=1200, listeners=12
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=3
[19:35:48] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=90.0°, current=137.4°, player=(3217,1284), corner_timer=0.08
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (5075.416, 1073.387) (added to group)
[19:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4885.235, 1080.305), shooter_id=1281410207205, bullet_pos=(4681.222, 1164.836)
[19:35:48] [INFO] [Bullet] Using shooter_position, distance=220.832458496094
[19:35:48] [INFO] [Bullet] Distance to wall: 220.832458496094 (15.0368881740834% of viewport)
[19:35:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:48] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1661.792, 1089.549), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=4
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3267.238, 1303.155) (added to group)
[19:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2824.227, 1391.1595), shooter_id=1281762527568, bullet_pos=(4856.812, 665.20575)
[19:35:48] [INFO] [Bullet] Using shooter_position, distance=2158,3352
[19:35:48] [INFO] [Bullet] Distance to wall: 2158,3352 (146,96501% of viewport)
[19:35:48] [ENEMY] [UziEnemyCenter2] Death animation completed
[19:35:48] [ENEMY] [RpgEnemy2] Death animation completed
[19:35:48] [ENEMY] [UziEnemy2] FLANKING started: target=(3087.726, 1132.728), side=left, pos=(3425.005, 697.3464)
[19:35:48] [ENEMY] [UziEnemy2] State: PURSUING -> FLANKING
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3299.835, 1304.09) (added to group)
[19:35:48] [INFO] [PowerFantasy] Effect duration expired after 311.00 ms
[19:35:48] [INFO] [PowerFantasy] Ending power fantasy effect
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2886.211, 713.9337), source=ENEMY (UziEnemy3), range=1200, listeners=12
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=4
[19:35:48] [INFO] [LastChance] Threat detected: @Area2D@3244
[19:35:48] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:48] [ENEMY] [UziEnemy1] State: COMBAT -> RETREATING
[19:35:48] [ENEMY] [UziEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=59.7°, current=59.8°, player=(3217,1284), corner_timer=0.27
[19:35:48] [ENEMY] [UziEnemy3] State: COMBAT -> PURSUING
[19:35:48] [ENEMY] [UziEnemyRight1] Memory: high confidence (0.89) - transitioning to PURSUING
[19:35:48] [ENEMY] [UziEnemyRight1] State: IDLE -> PURSUING
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (5068.125, 1101.197) (added to group)
[19:35:48] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-93.1°, current=54.3°, player=(3217,1284), corner_timer=0.17
[19:35:48] [ENEMY] [UziEnemy1] State: RETREATING -> IN_COVER
[19:35:48] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=153.6°, current=11.3°, player=(3217,1284), corner_timer=0.00
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1678.726, 1091.673), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=5
[19:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4890.223, 1089.402), shooter_id=1281410207205, bullet_pos=(4655.933, 1148.664)
[19:35:48] [INFO] [Bullet] Using shooter_position, distance=241.668609619141
[19:35:48] [INFO] [Bullet] Distance to wall: 241.668609619141 (16.4556600183551% of viewport)
[19:35:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:48] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:48] [ENEMY] [UziEnemy1] State: IN_COVER -> SUPPRESSED
[19:35:48] [ENEMY] [PatrolEnemy2] State: RETREATING -> IN_COVER
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (5066.353, 1091.1) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3283.135, 1316.57) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3278.758, 1272.854) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3304.217, 1292.126) (added to group)
[19:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2773.3923, 1400.2225), shooter_id=1281762527568, bullet_pos=(4536.3247, 1131.2274)
[19:35:48] [INFO] [Bullet] Using shooter_position, distance=1783,3364
[19:35:48] [INFO] [Bullet] Distance to wall: 1783,3364 (121,43066% of viewport)
[19:35:48] [INFO] [Bullet] Distance-based penetration chance: 25,71387%
[19:35:48] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:48] [ENEMY] [UziEnemyRight1] PURSUING corner check: angle -113.9°
[19:35:48] [ENEMY] [PatrolEnemy2] State: IN_COVER -> SUPPRESSED
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (5114.67, 1088.188) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (5086.069, 1128.992) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2743.659, 1409.83) (added to group)
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1699.894, 1094.328), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=5
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3315.229, 1335.746) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2743.346, 1446.05) (added to group)
[19:35:48] [ENEMY] [UziEnemy2] FLANKING corner check: angle -113.2°
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3350.789, 1296.284) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3319.187, 1329.496) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3282.782, 1273.198) (added to group)
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1721.061, 1096.982), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=5
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3331.834, 1264.18) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3308.039, 1327.498) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2728.374, 1438.561) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2702.138, 1424.328) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3327.043, 1277.683) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2752.108, 1481.176) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2733.822, 1448.352) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2726.576, 1431.069) (added to group)
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1742.229, 1099.636), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=5
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (5138.046, 1110.032) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2806.574, 1396.3) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3313.734, 1316.69) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2711.336, 1434.321) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2757.312, 1467.85) (added to group)
[19:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2917.324, 767.0374), shooter_id=1279296278702, bullet_pos=(3466.457, 1325.665)
[19:35:48] [INFO] [Bullet] Using shooter_position, distance=783.333984375
[19:35:48] [INFO] [Bullet] Distance to wall: 783.333984375 (53.3386514202777% of viewport)
[19:35:48] [INFO] [Bullet] Distance-based penetration chance: 84.4382400096761%
[19:35:48] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2738.046, 1450.463) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3303.034, 1308.721) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2750.307, 1485.52) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2725.323, 1458.874) (added to group)
[19:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2913.426, 776.3045), shooter_id=1279296278702, bullet_pos=(3320.804, 1355.77)
[19:35:48] [INFO] [Bullet] Using shooter_position, distance=708.333435058594
[19:35:48] [INFO] [Bullet] Distance to wall: 708.333435058594 (48.2317261034743% of viewport)
[19:35:48] [INFO] [Bullet] Distance-based penetration chance: 90.3963195459467%
[19:35:48] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1763.396, 1102.291), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=6
[19:35:48] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=154.0°, current=-148.4°, player=(3217,1284), corner_timer=0.17
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (5210.018, 1119.52) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (5122.074, 1184.065) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (3288.505, 1343.625) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2763.83, 1460.76) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2775.498, 1520.938) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2783.269, 1416.363) (added to group)
[19:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1765.998, 1110.478), shooter_id=1281057885531, bullet_pos=(2350.658, 1331.378)
[19:35:48] [INFO] [Bullet] Using shooter_position, distance=624.999694824219
[19:35:48] [INFO] [Bullet] Distance to wall: 624.999694824219 (42.5573784936795% of viewport)
[19:35:48] [INFO] [Bullet] Distance-based penetration chance: 97.0163917573739%
[19:35:48] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1784.564, 1104.945), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=6
[19:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1808.333, 1115.786), shooter_id=1281057885531, bullet_pos=(2044.325, 1351.198)
[19:35:48] [INFO] [Bullet] Using shooter_position, distance=333.333435058594
[19:35:48] [INFO] [Bullet] Distance to wall: 333.333435058594 (22.6972865392785% of viewport)
[19:35:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:48] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2785.37, 1450.678) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2750.131, 1412.203) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2812.203, 1452.341) (added to group)
[19:35:48] [INFO] [BloodDecal] Blood puddle created at (2801.92, 1484.345) (added to group)
[19:35:49] [INFO] [ReplayManager] Recording frame 2760 (45,2s): player_valid=False, enemies=10
[19:35:49] [ENEMY] [UziEnemyRight1] PURSUING corner check: angle -113.9°
[19:35:49] [ENEMY] [UziEnemyCenter1] Ragdoll activated
[19:35:49] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (3355.903, 1280.039) (added to group)
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (2799.423, 1507.558) (added to group)
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1805.731, 1107.599), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=6
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (3375.014, 1433.92) (added to group)
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (3328.775, 1298.331) (added to group)
[19:35:49] [ENEMY] [LowerEnemy1] State: RETREATING -> IN_COVER
[19:35:49] [ENEMY] [UziEnemy2] FLANKING corner check: angle -113.2°
[19:35:49] [ENEMY] [LowerEnemy1] State: IN_COVER -> SUPPRESSED
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (3378.568, 1450.432) (added to group)
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (3417.74, 1299.767) (added to group)
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (2759.523, 1528.613) (added to group)
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (2792.55, 1431.373) (added to group)
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (2739.981, 1447.275) (added to group)
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1826.899, 1110.253), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=6
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (2857.171, 1498.482) (added to group)
[19:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1829.5, 1118.44), shooter_id=1281057885531, bullet_pos=(2326.23, 1334.453)
[19:35:49] [INFO] [Bullet] Using shooter_position, distance=541.666076660156
[19:35:49] [INFO] [Bullet] Distance to wall: 541.666076660156 (36.8830391958768% of viewport)
[19:35:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:49] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1848.066, 1112.908), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=6
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (3328.663, 1417.955) (added to group)
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (2792.199, 1460.607) (added to group)
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (2794.637, 1587.599) (added to group)
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (2870.123, 1464.65) (added to group)
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (2816.876, 1571.697) (added to group)
[19:35:49] [INFO] [BloodDecal] Blood puddle created at (2819.798, 1580.736) (added to group)
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1869.234, 1115.562), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=6
[19:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1661.219, 1097.338), shooter_id=1281057885531, bullet_pos=(3775.041, 1533.434)
[19:35:49] [INFO] [Bullet] Using shooter_position, distance=2158.33813476563
[19:35:49] [INFO] [Bullet] Distance to wall: 2158.33813476563 (146.965212430058% of viewport)
[19:35:49] [INFO] [Bullet] Distance-based penetration chance: 20.6069575139883%
[19:35:49] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1890.401, 1118.216), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=6
[19:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1850.668, 1121.095), shooter_id=1281057885531, bullet_pos=(2642.244, 748.2294)
[19:35:49] [INFO] [Bullet] Using shooter_position, distance=874.998291015625
[19:35:49] [INFO] [Bullet] Distance to wall: 874.998291015625 (59.5802426152348% of viewport)
[19:35:49] [INFO] [Bullet] Distance-based penetration chance: 77.1563836155593%
[19:35:49] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:49] [ENEMY] [UziEnemyRight1] PURSUING corner check: angle -113.9°
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1911.568, 1120.871), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=6
[19:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1914.17, 1129.058), shooter_id=1281057885531, bullet_pos=(2313.596, 763.1866)
[19:35:49] [INFO] [Bullet] Using shooter_position, distance=541.666687011719
[19:35:49] [INFO] [Bullet] Distance to wall: 541.666687011719 (36.883080755837% of viewport)
[19:35:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:49] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1932.736, 1123.525), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=6
[19:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1744.83, 1107.823), shooter_id=1281057885531, bullet_pos=(3756.402, 758.5607)
[19:35:49] [INFO] [Bullet] Using shooter_position, distance=2041.66735839844
[19:35:49] [INFO] [Bullet] Distance to wall: 2041.66735839844 (139.020884728576% of viewport)
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1953.903, 1126.179), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=6
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1975.071, 1128.833), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=6
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2041.175, 1144.983), shooter_id=1281057885531, bullet_pos=(2223.208, 1372.872)
[19:35:49] [INFO] [Bullet] Using shooter_position, distance=291.666198730469
[19:35:49] [INFO] [Bullet] Distance to wall: 291.666198730469 (19.860087798405% of viewport)
[19:35:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:49] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1998.84, 1139.675), shooter_id=1281057885531, bullet_pos=(2592.747, 1334.353)
[19:35:49] [INFO] [Bullet] Using shooter_position, distance=624.999328613281
[19:35:49] [INFO] [Bullet] Distance to wall: 624.999328613281 (42.5573535577034% of viewport)
[19:35:49] [INFO] [Bullet] Distance-based penetration chance: 97.0164208493461%
[19:35:49] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1893.003, 1126.403), shooter_id=1281057885531, bullet_pos=(3335.121, 1343.265)
[19:35:49] [INFO] [Bullet] Using shooter_position, distance=1458.33239746094
[19:35:49] [INFO] [Bullet] Distance to wall: 1458.33239746094 (99.3005345799335% of viewport)
[19:35:49] [INFO] [Bullet] Distance-based penetration chance: 30.8160429900776%
[19:35:49] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:49] [ENEMY] [UziEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=76.3°, current=83.8°, player=(3223,1284), corner_timer=-0.02
[19:35:49] [ENEMY] [UziEnemy2] State: FLANKING -> COMBAT
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2020.008, 1142.329), shooter_id=1281057885531, bullet_pos=(2660.812, 1326.216)
[19:35:49] [INFO] [Bullet] Using shooter_position, distance=666.666931152344
[19:35:49] [INFO] [Bullet] Distance to wall: 666.666931152344 (45.394577234553% of viewport)
[19:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1935.338, 1131.712), shooter_id=1281057885531, bullet_pos=(3215.111, 757.5894)
[19:35:49] [INFO] [Bullet] Using shooter_position, distance=1333.33666992188
[19:35:49] [INFO] [Bullet] Distance to wall: 1333.33666992188 (90.7893456449231% of viewport)
[19:35:49] [ENEMY] [UziEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=75.7°, current=-9.7°, player=(3223,1284), corner_timer=-0.02
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2057.06, 1146.94), shooter_id=1281057885531, bullet_pos=(2378.658, 1339.812)
[19:35:49] [INFO] [Bullet] Using shooter_position, distance=374.999969482422
[19:35:49] [INFO] [Bullet] Distance to wall: 374.999969482422 (25.5344374861978% of viewport)
[19:35:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:49] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1703.554, 1102.647), shooter_id=1281057885531, bullet_pos=(5167.247, 661.5067)
[19:35:49] [INFO] [Bullet] Using shooter_position, distance=3491.67138671875
[19:35:49] [INFO] [Bullet] Distance to wall: 3491.67138671875 (237.754325339204% of viewport)
[19:35:49] [ENEMY] [UziEnemy2] State: COMBAT -> RETREATING
[19:35:49] [ENEMY] [UziEnemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=99.4°, current=14.7°, player=(3223,1284), corner_timer=-0.02
[19:35:49] [ENEMY] [LowerEnemy2] PURSUING corner check: angle 80.0°
[19:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:50] [INFO] [ReplayManager] Recording frame 2820 (46,2s): player_valid=False, enemies=10
[19:35:50] [ENEMY] [UziEnemyCenter1] Death animation completed
[19:35:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2057.06, 1146.935), shooter_id=1281057885531, bullet_pos=(2589.849, 746.2125)
[19:35:50] [INFO] [Bullet] Using shooter_position, distance=666.665466308594
[19:35:50] [INFO] [Bullet] Distance to wall: 666.665466308594 (45.3944774906485% of viewport)
[19:35:50] [INFO] [Bullet] Distance-based penetration chance: 93.7064429275768%
[19:35:50] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:50] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=2/3->1/3
[19:35:50] [INFO] [ImpactEffects] spawn_blood_effect called at (4958.08, 1094.463), dir=(1, 0.000962), lethal=false
[19:35:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:50] [INFO] [ImpactEffects] Blood effect spawned at (4958.08, 1094.463) (scale=0.5)
[19:35:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2057.06, 1146.935), shooter_id=1281057885531, bullet_pos=(2333.076, 1333.822)
[19:35:50] [INFO] [Bullet] Using shooter_position, distance=333.333557128906
[19:35:50] [INFO] [Bullet] Distance to wall: 333.333557128906 (22.6972948512706% of viewport)
[19:35:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:50] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:50] [ENEMY] [UziEnemy3] Warning: No valid flank position (both sides behind walls)
[19:35:50] [ENEMY] [UziEnemy3] FLANKING started: target=(3321.186, 1110.037), side=right, pos=(2883.164, 713.9336)
[19:35:50] [ENEMY] [UziEnemy3] State: PURSUING -> FLANKING
[19:35:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2057.06, 1146.935), shooter_id=1281057885531, bullet_pos=(2353.584, 1744.027)
[19:35:50] [INFO] [Bullet] Using shooter_position, distance=666.666931152344
[19:35:50] [INFO] [Bullet] Distance to wall: 666.666931152344 (45.394577234553% of viewport)
[19:35:50] [INFO] [Bullet] Distance-based penetration chance: 93.7063265596881%
[19:35:50] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:50] [ENEMY] [UziEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=60.8°, current=18.4°, player=(3223,1284), corner_timer=0.20
[19:35:50] [ENEMY] [UziEnemy3] State: FLANKING -> COMBAT
[19:35:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:50] [INFO] [BloodDecal] Blood puddle created at (5051.31, 1109.313) (added to group)
[19:35:50] [INFO] [BloodDecal] Blood puddle created at (5067.541, 1101.039) (added to group)
[19:35:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2057.06, 1146.935), shooter_id=1281057885531, bullet_pos=(2354.131, 1743.755)
[19:35:50] [INFO] [Bullet] Using shooter_position, distance=666.667297363281
[19:35:50] [INFO] [Bullet] Distance to wall: 666.667297363281 (45.3946021705292% of viewport)
[19:35:50] [INFO] [Bullet] Distance-based penetration chance: 93.706297467716%
[19:35:50] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:50] [INFO] [BloodDecal] Blood puddle created at (5038.936, 1084.055) (added to group)
[19:35:50] [INFO] [BloodDecal] Blood puddle created at (5077.6, 1120.919) (added to group)
[19:35:50] [INFO] [BloodDecal] Blood puddle created at (5016.434, 1132.472) (added to group)
[19:35:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2057.06, 1146.935), shooter_id=1281057885531, bullet_pos=(2550.178, 762.9301)
[19:35:50] [INFO] [Bullet] Using shooter_position, distance=625
[19:35:50] [INFO] [Bullet] Distance to wall: 625 (42.5573992736596% of viewport)
[19:35:50] [INFO] [Bullet] Distance-based penetration chance: 97.0163675140638%
[19:35:50] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.947, 1130.824), source=ENEMY (PatrolEnemy1), range=1200, listeners=12
[19:35:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=7
[19:35:50] [INFO] [BloodDecal] Blood puddle created at (5041.17, 1140.195) (added to group)
[19:35:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2057.06, 1146.935), shooter_id=1281057885531, bullet_pos=(2377.78, 1341.265)
[19:35:50] [INFO] [Bullet] Using shooter_position, distance=374.999908447266
[19:35:50] [INFO] [Bullet] Distance to wall: 374.999908447266 (25.5344333302017% of viewport)
[19:35:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:50] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:50] [INFO] [BloodDecal] Blood puddle created at (5075.465, 1128.8) (added to group)
[19:35:50] [INFO] [BloodDecal] Blood puddle created at (5075.364, 1093.034) (added to group)
[19:35:50] [ENEMY] [UziEnemy2] State: RETREATING -> IN_COVER
[19:35:50] [ENEMY] [UziEnemy2] State: IN_COVER -> SUPPRESSED
[19:35:50] [INFO] [BloodDecal] Blood puddle created at (5136.189, 1194.094) (added to group)
[19:35:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1744.83, 1107.823), shooter_id=1281057885531, bullet_pos=(4827.792, 1143.16)
[19:35:50] [INFO] [Bullet] Using shooter_position, distance=3083.1640625
[19:35:50] [INFO] [Bullet] Distance to wall: 3083.1640625 (209.938310454418% of viewport)
[19:35:50] [INFO] [Bullet] Distance-based penetration chance: 8.01233790911649%
[19:35:50] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2057.06, 1146.935), shooter_id=1281057885531, bullet_pos=(3419.21, 757.7059)
[19:35:50] [INFO] [Bullet] Using shooter_position, distance=1416.66918945313
[19:35:50] [INFO] [Bullet] Distance to wall: 1416.66918945313 (96.4636101347974% of viewport)
[19:35:50] [INFO] [Bullet] Distance-based penetration chance: 34.1257881760697%
[19:35:50] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:50] [INFO] [BloodDecal] Blood puddle created at (5064.03, 1244.031) (added to group)
[19:35:50] [ENEMY] [UziEnemy3] Hit: dmg=1, hp=4/4->3/4
[19:35:50] [INFO] [ImpactEffects] spawn_blood_effect called at (2997.51, 828.057), dir=(0.946491, -0.322731), lethal=false
[19:35:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:50] [INFO] [ImpactEffects] Blood effect spawned at (2997.51, 828.057) (scale=0.5)
[19:35:50] [ENEMY] [UziEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=63.6°, current=161.2°, player=(3223,1284), corner_timer=0.20
[19:35:50] [ENEMY] [UziEnemy3] State: COMBAT -> PURSUING
[19:35:50] [ENEMY] [UziEnemyRight1] Warning: No valid flank position (both sides behind walls)
[19:35:50] [ENEMY] [UziEnemyRight1] FLANKING started: target=(3391.427, 1393.567), side=right, pos=(4565.177, 600.9377)
[19:35:50] [ENEMY] [UziEnemyRight1] State: PURSUING -> FLANKING
[19:35:50] [ENEMY] [UziEnemy1] State: SUPPRESSED -> IN_COVER
[19:35:50] [ENEMY] [UziEnemy3] State: PURSUING -> RETREATING
[19:35:50] [ENEMY] [UziEnemy1] State: IN_COVER -> PURSUING
[19:35:50] [ENEMY] [UziEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-161.9°, current=129.7°, player=(3223,1284), corner_timer=0.20
[19:35:50] [ENEMY] [UziEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=53.4°, current=-93.1°, player=(3223,1284), corner_timer=0.17
[19:35:50] [INFO] [ReplayManager] Recording frame 2880 (47,2s): player_valid=False, enemies=10
[19:35:50] [INFO] [BloodDecal] Blood puddle created at (3045.254, 794.9093) (added to group)
[19:35:51] [ENEMY] [LowerEnemy2] Hit: dmg=50, hp=2/2->-48/2
[19:35:51] [INFO] [ImpactEffects] spawn_blood_effect called at (3822.882, 1353.617), dir=(1, 0), lethal=true
[19:35:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:51] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:35:51] [INFO] [ImpactEffects] Wall found for blood splatter at (3920, 1353.617) (dist=97 px)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3919, 1353.617) (added to group)
[19:35:51] [INFO] [ImpactEffects] Blood effect spawned at (3822.882, 1353.617) (scale=1.5)
[19:35:51] [ENEMY] [LowerEnemy2] Enemy died (ricochet: false, penetration: false)
[19:35:51] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[19:35:51] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:35:51] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:35:51] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:35:51] [INFO] [PowerFantasy]   - Duration: 300ms
[19:35:51] [INFO] [SoundPropagation] Unregistered listener: LowerEnemy2 (remaining: 11)
[19:35:51] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:35:51] [ENEMY] [LowerEnemy2] Death animation started with hit direction: (1, 0)
[19:35:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3223.681, 1284.658), source=PLAYER (SniperRifle), range=3000, listeners=11
[19:35:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=11
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3072.101, 814.0612) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3103.826, 826.9042) (added to group)
[19:35:51] [ENEMY] [UziEnemyRight1] FLANKING corner check: angle -113.2°
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3087.259, 870.2096) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3129.101, 891.0827) (added to group)
[19:35:51] [INFO] [PowerFantasy] Effect duration expired after 315.00 ms
[19:35:51] [INFO] [PowerFantasy] Ending power fantasy effect
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3108.19, 830.382) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3913.023, 1370.305) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3900.174, 1353.917) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3929.351, 1405.752) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3879.525, 1378.095) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3136.066, 818.8022) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3933.365, 1391.053) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3161.092, 915.5772) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3118.078, 901.6056) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3179.596, 813.7606) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3936.501, 1419.49) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3947.901, 1387.581) (added to group)
[19:35:51] [ENEMY] [UziEnemyRight1] FLANKING corner check: angle -113.2°
[19:35:51] [ENEMY] [LowerEnemy2] Ragdoll activated
[19:35:51] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3917.632, 1422.972) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3905.694, 1410.012) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3987.414, 1436.166) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3935.228, 1413.802) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3918.314, 1437.073) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3906.232, 1379.892) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3922.745, 1444.854) (added to group)
[19:35:51] [ENEMY] [UziEnemy3] State: RETREATING -> IN_COVER
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3941.891, 1415.514) (added to group)
[19:35:51] [ENEMY] [UziEnemy3] State: IN_COVER -> SUPPRESSED
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3972.887, 1457.333) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3998.289, 1409.019) (added to group)
[19:35:51] [INFO] [BloodDecal] Blood puddle created at (3965.262, 1459.888) (added to group)
[19:35:51] [ENEMY] [UziEnemyRight1] FLANKING corner check: angle -113.2°
[19:35:51] [INFO] [ReplayManager] Recording frame 2940 (48,2s): player_valid=False, enemies=10
[19:35:52] [ENEMY] [UziEnemyRight1] FLANKING corner check: angle -113.2°
[19:35:52] [ENEMY] [PatrolEnemy1] State: COMBAT -> SEEKING_COVER
[19:35:52] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-90.0°, current=74.8°, player=(3223,1284), corner_timer=0.09
[19:35:52] [ENEMY] [UziEnemy2] State: SUPPRESSED -> IN_COVER
[19:35:52] [ENEMY] [UziEnemy2] State: IN_COVER -> PURSUING
[19:35:52] [ENEMY] [UziEnemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=78.7°, current=-54.6°, player=(3223,1284), corner_timer=-0.02
[19:35:52] [ENEMY] [LowerEnemy2] Death animation completed
[19:35:52] [ENEMY] [UziEnemy1] Warning: No valid flank position (both sides behind walls)
[19:35:52] [ENEMY] [UziEnemy1] FLANKING started: target=(3025.022, 1307.786), side=left, pos=(2799.197, 713.9335)
[19:35:52] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[19:35:52] [ENEMY] [UziEnemyRight1] FLANKING corner check: angle -113.2°
[19:35:52] [ENEMY] [PatrolEnemy2] State: SUPPRESSED -> IN_COVER
[19:35:52] [ENEMY] [PatrolEnemy2] State: IN_COVER -> PURSUING
[19:35:52] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=173.7°, current=90.0°, player=(3223,1284), corner_timer=0.08
[19:35:52] [ENEMY] [UziEnemy1] FLANKING corner check: angle -99.3°
[19:35:52] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=59.5°, current=35.5°, player=(3223,1284), corner_timer=0.25
[19:35:52] [ENEMY] [UziEnemy1] State: FLANKING -> COMBAT
[19:35:52] [ENEMY] [UziEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=59.2°, current=95.6°, player=(3223,1284), corner_timer=0.25
[19:35:52] [ENEMY] [UziEnemyRight1] FLANKING corner check: angle -113.3°
[19:35:52] [INFO] [ReplayManager] Recording frame 3000 (49,2s): player_valid=False, enemies=10
[19:35:53] [ENEMY] [LowerEnemy1] State: SUPPRESSED -> IN_COVER
[19:35:53] [ENEMY] [LowerEnemy1] State: IN_COVER -> PURSUING
[19:35:53] [ENEMY] [LowerEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-7.6°, current=154.0°, player=(3223,1284), corner_timer=0.17
[19:35:53] [ENEMY] [UziEnemyRight1] FLANKING corner check: angle -93.3°
[19:35:53] [ENEMY] [UziEnemy1] State: COMBAT -> PURSUING
[19:35:53] [ENEMY] [UziEnemy3] State: SUPPRESSED -> IN_COVER
[19:35:53] [ENEMY] [UziEnemy3] State: IN_COVER -> PURSUING
[19:35:53] [ENEMY] [UziEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=57.1°, current=-161.9°, player=(3223,1284), corner_timer=0.20
[19:35:53] [ENEMY] [UziEnemyRight1] FLANKING corner check: angle 23.3°
[19:35:53] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=146.1°, current=145.6°, player=(3228,1284), corner_timer=0.30
[19:35:53] [ENEMY] [UziEnemyRight1] State: FLANKING -> COMBAT
[19:35:53] [ENEMY] [UziEnemy2] FLANKING started: target=(3022.791, 1216.734), side=left, pos=(3097.97, 653.5933)
[19:35:53] [ENEMY] [UziEnemy2] State: PURSUING -> FLANKING
[19:35:53] [ENEMY] [UziEnemy2] FLANKING corner check: angle -3.2°
[19:35:53] [INFO] [ReplayManager] Recording frame 3060 (50,2s): player_valid=False, enemies=10
[19:35:53] [ENEMY] [UziEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=82.1°, current=101.4°, player=(3171,1284), corner_timer=0.20
[19:35:53] [ENEMY] [UziEnemy2] State: FLANKING -> COMBAT
[19:35:54] [ENEMY] [PatrolEnemy2] Warning: No valid flank position (both sides behind walls)
[19:35:54] [ENEMY] [PatrolEnemy2] FLANKING started: target=(3198.027, 1102.097), side=left, pos=(4958.08, 1094.463)
[19:35:54] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[19:35:54] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -113.2°
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3917.536, 786.065), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=5
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3897.128, 786.065), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=5
[19:35:54] [INFO] [BloodyFeet:UziEnemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3876.723, 786.065), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=5
[19:35:54] [ENEMY] [LowerEnemy1] FLANKING started: target=(2847.606, 1133.743), side=right, pos=(2445.411, 1388.458)
[19:35:54] [ENEMY] [LowerEnemy1] State: PURSUING -> FLANKING
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3856.32, 786.0651), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=5
[19:35:54] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -113.2°
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3835.919, 786.0656), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=5
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3815.522, 786.0656), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=4
[19:35:54] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=174.3°, current=-147.8°, player=(2923,1284), corner_timer=0.18
[19:35:54] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=FLANKING, target=174.4°, current=165.8°, player=(2912,1284), corner_timer=0.15
[19:35:54] [ENEMY] [LowerEnemy1] FLANKING corner check: angle -149.7°
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3045.599, 880.4458), source=ENEMY (UziEnemy2), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=1, below_threshold=4
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3795.126, 786.0656), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=4
[19:35:54] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-5.4°, current=42.7°, player=(2896,1284), corner_timer=0.27
[19:35:54] [ENEMY] [LowerEnemy1] State: FLANKING -> COMBAT
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3038.324, 900.4983), source=ENEMY (UziEnemy2), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=1, below_threshold=4
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3774.734, 786.0656), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=4
[19:35:54] [ENEMY] [ShotgunEnemyRight1] Memory: high confidence (0.89) - transitioning to PURSUING
[19:35:54] [ENEMY] [ShotgunEnemyRight1] State: IDLE -> PURSUING
[19:35:54] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-5.0°, current=91.7°, player=(2885,1284), corner_timer=0.27
[19:35:54] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=159.7°, current=-22.5°, player=(2879,1284), corner_timer=0.00
[19:35:54] [ENEMY] [UziEnemy3] FLANKING started: target=(3044.059, 1178.838), side=right, pos=(2854.967, 713.9337)
[19:35:54] [ENEMY] [UziEnemy3] State: PURSUING -> FLANKING
[19:35:54] [INFO] [LastChance] Threat detected: @Area2D@3560
[19:35:54] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:54] [ENEMY] [ShotgunEnemyRight1] PURSUING corner check: angle -112.6°
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3030.063, 920.165), source=ENEMY (UziEnemy2), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=1, below_threshold=3
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3754.344, 786.0656), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=4
[19:35:54] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=174.6°, current=-171.6°, player=(2863,1284), corner_timer=0.00
[19:35:54] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 97.4°
[19:35:54] [INFO] [LastChance] Threat detected: @Area2D@3579
[19:35:54] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:54] [INFO] [Player] Spawning blood effect at (2846.848, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:54] [INFO] [ImpactEffects] spawn_blood_effect called at (2846.848, 1284.658), dir=(1, 0), lethal=false
[19:35:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:54] [INFO] [ImpactEffects] Blood effect spawned at (2846.848, 1284.658) (scale=1)
[19:35:54] [INFO] [ReplayManager] Recording frame 3120 (51,2s): player_valid=False, enemies=10
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3020.826, 939.3924), source=ENEMY (UziEnemy2), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=1, below_threshold=3
[19:35:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3733.957, 786.0656), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=4
[19:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3699.159, 825.8843), shooter_id=1279648597501, bullet_pos=(3500.647, 762.6714)
[19:35:55] [INFO] [Bullet] Using shooter_position, distance=208.333557128906
[19:35:55] [INFO] [Bullet] Distance to wall: 208.333557128906 (14.1858149965386% of viewport)
[19:35:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:55] [INFO] [Player] Spawning blood effect at (2831.1814, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:55] [INFO] [ImpactEffects] spawn_blood_effect called at (2831.181, 1284.658), dir=(1, 0), lethal=false
[19:35:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:55] [INFO] [ImpactEffects] Blood effect spawned at (2831.181, 1284.658) (scale=1)
[19:35:55] [ENEMY] [UziEnemy2] Hit: dmg=1, hp=3/3->2/3
[19:35:55] [INFO] [ImpactEffects] spawn_blood_effect called at (3013.28, 953.5003), dir=(-0.984972, 0.172716), lethal=false
[19:35:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:55] [INFO] [ImpactEffects] Blood effect spawned at (3013.28, 953.5003) (scale=0.5)
[19:35:55] [ENEMY] [UziEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=119.4°, current=-9.9°, player=(2826,1284), corner_timer=0.20
[19:35:55] [ENEMY] [UziEnemy2] State: COMBAT -> PURSUING
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3713.571, 786.0656), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=4
[19:35:55] [INFO] [LastChance] Threat detected: @Area2D@3591
[19:35:55] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:55] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[19:35:55] [ENEMY] [UziEnemy1] PURSUING corner check: angle 88.6°
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3693.179, 786.0656), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=4
[19:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3008.997, 984.9729), shooter_id=1278943955772, bullet_pos=(2681.818, 1363.067)
[19:35:55] [INFO] [Bullet] Using shooter_position, distance=500.000793457031
[19:35:55] [INFO] [Bullet] Distance to wall: 500.000793457031 (34.045973446876% of viewport)
[19:35:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:55] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:55] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=0.9°, current=48.3°, player=(2804,1284), corner_timer=0.27
[19:35:55] [ENEMY] [UziEnemy3] FLANKING corner check: angle 30.7°
[19:35:55] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=101.1°, current=77.2°, player=(2799,1284), corner_timer=0.27
[19:35:55] [ENEMY] [UziEnemy1] State: PURSUING -> COMBAT
[19:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3638.102, 826.017), shooter_id=1279648597501, bullet_pos=(3529.535, 764.063)
[19:35:55] [INFO] [Bullet] Using shooter_position, distance=125.00023651123
[19:35:55] [INFO] [Bullet] Distance to wall: 125.00023651123 (8.51149595921651% of viewport)
[19:35:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:55] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3672.775, 786.065), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=4
[19:35:55] [ENEMY] [UziEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=102.2°, current=-174.5°, player=(2795,1284), corner_timer=0.27
[19:35:55] [ENEMY] [UziEnemy2] State: PURSUING -> RETREATING
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2897.185, 1311.405) (added to group)
[19:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3031.071, 947.0223), shooter_id=1278943955772, bullet_pos=(2754.899, 1951.414)
[19:35:55] [INFO] [Bullet] Using shooter_position, distance=1041.66833496094
[19:35:55] [INFO] [Bullet] Distance to wall: 1041.66833496094 (70.9291123866574% of viewport)
[19:35:55] [INFO] [Bullet] Distance-based penetration chance: 63.9160355488998%
[19:35:55] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:55] [ENEMY] [UziEnemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-3.2°, current=21.6°, player=(2793,1284), corner_timer=0.20
[19:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3678.742, 825.8417), shooter_id=1279648597501, bullet_pos=(3408.097, 1342.589)
[19:35:55] [INFO] [Bullet] Using shooter_position, distance=583.332580566406
[19:35:55] [INFO] [Bullet] Distance to wall: 583.332580566406 (39.720188064798% of viewport)
[19:35:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:55] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:55] [ENEMY] [ShotgunEnemyRight1] PURSUING corner check: angle -112.6°
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3652.351, 786.0652), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=5
[19:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3617.898, 826.2838), shooter_id=1279648597501, bullet_pos=(3471.329, 746.9405)
[19:35:55] [INFO] [Bullet] Using shooter_position, distance=166.667098999023
[19:35:55] [INFO] [Bullet] Distance to wall: 166.667098999023 (11.3486692446144% of viewport)
[19:35:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:55] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3780.859, 826.0546), shooter_id=1279648597501, bullet_pos=(2458.342, 1533.825)
[19:35:55] [INFO] [Bullet] Using shooter_position, distance=1499.99621582031
[19:35:55] [INFO] [Bullet] Distance to wall: 1499.99621582031 (102.13750058503% of viewport)
[19:35:55] [INFO] [Bullet] Distance-based penetration chance: 29.5724998829941%
[19:35:55] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2940.342, 1004.713) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2940.406, 998.9595) (added to group)
[19:35:55] [ENEMY] [UziEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=124.1°, current=84.0°, player=(2789,1284), corner_timer=0.20
[19:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3658.382, 825.8704), shooter_id=1279648597501, bullet_pos=(3401.21, 1349.454)
[19:35:55] [INFO] [Bullet] Using shooter_position, distance=583.332641601563
[19:35:55] [INFO] [Bullet] Distance to wall: 583.332641601563 (39.7201922207941% of viewport)
[19:35:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:55] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:55] [ENEMY] [UziEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=104.4°, current=58.9°, player=(2789,1284), corner_timer=0.17
[19:35:55] [ENEMY] [UziEnemy3] State: FLANKING -> COMBAT
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3631.896, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=5
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3021.092, 942.6609), source=ENEMY (UziEnemy2), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=1, below_threshold=3
[19:35:55] [ENEMY] [UziEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=104.5°, current=36.8°, player=(2789,1284), corner_timer=0.17
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2937.98, 1296.411) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2906.094, 1272.092) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2959.189, 992.8622) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2967.458, 1289.376) (added to group)
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3611.405, 786.0656), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=5
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3027.025, 933.7966), source=ENEMY (UziEnemy2), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=1, below_threshold=3
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2986.98, 1308.15) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2939.046, 1313.999) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2926.958, 1349.414) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2940.35, 1337.099) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2899.868, 1005.816) (added to group)
[19:35:55] [INFO] [LastChance] Threat detected: @Area2D@3650
[19:35:55] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:55] [ENEMY] [UziEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-3.2°, current=-153.4°, player=(2789,1284), corner_timer=0.20
[19:35:55] [ENEMY] [UziEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=105.0°, current=57.1°, player=(2789,1284), corner_timer=0.17
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3590.875, 786.0652), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=5
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2992.78, 1330.94) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2935.651, 1350.803) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2926.935, 1371.717) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2863.158, 1049.958) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2919.332, 990.5966) (added to group)
[19:35:55] [INFO] [LastChance] Threat detected: @Area2D@3661
[19:35:55] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:55] [ENEMY] [UziEnemy2] Hit: dmg=1, hp=2/3->1/3
[19:35:55] [INFO] [ImpactEffects] spawn_blood_effect called at (3043.34, 909.4191), dir=(-0.965098, 0.261888), lethal=false
[19:35:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:55] [INFO] [ImpactEffects] Blood effect spawned at (3043.34, 909.4191) (scale=0.5)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2867.311, 1044.893) (added to group)
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3570.301, 786.0655), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=5
[19:35:55] [ENEMY] [ShotgunEnemyRight1] PURSUING corner check: angle -112.6°
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2907.709, 1064.578) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2848.04, 1027.206) (added to group)
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3549.684, 786.0652), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=4
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (3040.047, 1293.54) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2976.649, 1320.889) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2940.559, 1393.514) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2928.02, 1408.805) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2981.059, 1320.778) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2838.575, 1137.771) (added to group)
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2564.76, 1278.76), source=ENEMY (LowerEnemy1), range=1469, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=7
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (3004.395, 1338.399) (added to group)
[19:35:55] [INFO] [LastChance] Threat detected: Bullet
[19:35:55] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=4
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2968.42, 1352.949) (added to group)
[19:35:55] [ENEMY] [UziEnemy1] State: COMBAT -> PURSUING
[19:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3497.459, 829.6529), shooter_id=1279648597501, bullet_pos=(3257.187, 760.5939)
[19:35:55] [INFO] [Bullet] Using shooter_position, distance=249.999984741211
[19:35:55] [INFO] [Bullet] Distance to wall: 249.999984741211 (17.0229586704648% of viewport)
[19:35:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:55] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:55] [INFO] [Player] Spawning blood effect at (2789.6257, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:55] [INFO] [ImpactEffects] spawn_blood_effect called at (2789.626, 1284.658), dir=(1, 0), lethal=false
[19:35:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:55] [INFO] [ImpactEffects] Blood effect spawned at (2789.626, 1284.658) (scale=1)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (3014.316, 1371.15) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2978.374, 1426.252) (added to group)
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=4
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2564.76, 1278.76), source=ENEMY (LowerEnemy1), range=1469, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=7
[19:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3517.547, 829.0128), shooter_id=1279648597501, bullet_pos=(3482.048, 1369.515)
[19:35:55] [INFO] [Bullet] Using shooter_position, distance=541.667053222656
[19:35:55] [INFO] [Bullet] Distance to wall: 541.667053222656 (36.8831056918132% of viewport)
[19:35:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:55] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:55] [INFO] [LastChance] Threat detected: Bullet
[19:35:55] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2986.481, 947.4106) (added to group)
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=4
[19:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3577.716, 827.2025), shooter_id=1279648597501, bullet_pos=(2525.802, 1331.766)
[19:35:55] [INFO] [Bullet] Using shooter_position, distance=1166.66540527344
[19:35:55] [INFO] [Bullet] Distance to wall: 1166.66540527344 (79.4403927535802% of viewport)
[19:35:55] [INFO] [Bullet] Distance-based penetration chance: 53.9862084541565%
[19:35:55] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:55] [INFO] [Player] Spawning blood effect at (2789.6257, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:55] [INFO] [ImpactEffects] spawn_blood_effect called at (2789.626, 1284.658), dir=(1, 0), lethal=false
[19:35:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:55] [INFO] [ImpactEffects] Blood effect spawned at (2789.626, 1284.658) (scale=1)
[19:35:55] [ENEMY] [UziEnemy3] State: COMBAT -> RETREATING
[19:35:55] [ENEMY] [LowerEnemy1] State: COMBAT -> RETREATING
[19:35:55] [ENEMY] [UziEnemy1] State: PURSUING -> RETREATING
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=4
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2564.76, 1278.76), source=ENEMY (LowerEnemy1), range=1469, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=6
[19:35:55] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=88.6°, current=101.7°, player=(2789,1284), corner_timer=0.27
[19:35:55] [INFO] [LastChance] Threat detected: Bullet
[19:35:55] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4458.556, 1132.716), source=ENEMY (PatrolEnemy2), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=2
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=4
[19:35:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:55] [INFO] [Player] Spawning blood effect at (2789.6257, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:55] [INFO] [ImpactEffects] spawn_blood_effect called at (2789.626, 1284.658), dir=(1, 0), lethal=false
[19:35:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:55] [INFO] [ImpactEffects] Blood effect spawned at (2789.626, 1284.658) (scale=1)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2954.093, 1014.504) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2955.294, 989.9886) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2851.001, 1273.013) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2861.338, 1332.124) (added to group)
[19:35:55] [ENEMY] [UziEnemy1] State: RETREATING -> IN_COVER
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4437.31, 1134.65), source=ENEMY (PatrolEnemy2), range=1200, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=2
[19:35:55] [ENEMY] [UziEnemy1] State: IN_COVER -> SUPPRESSED
[19:35:55] [ENEMY] [UziEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=123.6°, current=161.1°, player=(2789,1284), corner_timer=0.20
[19:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2548.22, 1298.994), source=ENEMY (LowerEnemy1), range=1469, listeners=11
[19:35:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=7
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2957.472, 966.4846) (added to group)
[19:35:55] [INFO] [BloodDecal] Blood puddle created at (2873.71, 1305.349) (added to group)
[19:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3557.675, 827.7881), shooter_id=1279648597501, bullet_pos=(2100.723, 764.2332)
[19:35:56] [INFO] [Bullet] Using shooter_position, distance=1458.33740234375
[19:35:56] [INFO] [Bullet] Distance to wall: 1458.33740234375 (99.3008753716073% of viewport)
[19:35:56] [INFO] [Bullet] Distance-based penetration chance: 30.8156453997915%
[19:35:56] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:56] [INFO] [ReplayManager] Recording frame 3180 (52,2s): player_valid=False, enemies=10
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=4
[19:35:56] [INFO] [LastChance] Threat detected: Bullet
[19:35:56] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2913.829, 1059.797) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2874.182, 1334.748) (added to group)
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4416.063, 1136.584), source=ENEMY (PatrolEnemy2), range=1200, listeners=11
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=2
[19:35:56] [ENEMY] [UziEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-3.2°, current=-43.0°, player=(2789,1284), corner_timer=0.20
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2880.807, 1037.548) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2894.64, 1324.282) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2883.546, 1280.304) (added to group)
[19:35:56] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:56] [INFO] [Player] Spawning blood effect at (2789.6257, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:56] [INFO] [ImpactEffects] spawn_blood_effect called at (2789.626, 1284.658), dir=(1, 0), lethal=false
[19:35:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:56] [INFO] [ImpactEffects] Blood effect spawned at (2789.626, 1284.658) (scale=1)
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=4
[19:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3482.364, 830.1598), shooter_id=1279648597501, bullet_pos=(3454.013, 1329.355)
[19:35:56] [INFO] [Bullet] Using shooter_position, distance=499.999694824219
[19:35:56] [INFO] [Bullet] Distance to wall: 499.999694824219 (34.0458986389476% of viewport)
[19:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:56] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2886.187, 1095.583) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2865.169, 1297.341) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2837.105, 1315.753) (added to group)
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4394.817, 1138.518), source=ENEMY (PatrolEnemy2), range=1200, listeners=11
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=2
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2522.929, 1292.704), source=ENEMY (LowerEnemy1), range=1469, listeners=11
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=7
[19:35:56] [ENEMY] [UziEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=123.1°, current=164.4°, player=(2789,1284), corner_timer=0.20
[19:35:56] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2949.212, 1024.786) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2868.919, 1349.719) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2901.245, 1320.689) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2873.059, 1310.509) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2888.814, 1307.677) (added to group)
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=4
[19:35:56] [INFO] [LastChance] Threat detected: Bullet
[19:35:56] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2931.948, 1022.682) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2871.037, 1291.263) (added to group)
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4373.571, 1140.452), source=ENEMY (PatrolEnemy2), range=1200, listeners=11
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=2
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2861.356, 1298.249) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2835.538, 1300.939) (added to group)
[19:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3482.364, 830.1598), shooter_id=1279648597501, bullet_pos=(3198.91, 761.4347)
[19:35:56] [INFO] [Bullet] Using shooter_position, distance=291.666290283203
[19:35:56] [INFO] [Bullet] Distance to wall: 291.666290283203 (19.860094032399% of viewport)
[19:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:56] [ENEMY] [UziEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-3.2°, current=-31.6°, player=(2789,1284), corner_timer=0.20
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=4
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2497.618, 1296.603), source=ENEMY (LowerEnemy1), range=1469, listeners=11
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=7
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2890.083, 1109.915) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2861.293, 1334.828) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2863.988, 1350.591) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2880.481, 1268.058) (added to group)
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4352.325, 1142.386), source=ENEMY (PatrolEnemy2), range=1200, listeners=11
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=2
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2877.684, 1386.531) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2860.162, 1319.697) (added to group)
[19:35:56] [INFO] [LastChance] Threat detected: @Area2D@3802
[19:35:56] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=11
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=4
[19:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3482.364, 830.1598), shooter_id=1279648597501, bullet_pos=(2080.315, 1363.33)
[19:35:56] [INFO] [Bullet] Using shooter_position, distance=1500.00378417969
[19:35:56] [INFO] [Bullet] Distance to wall: 1500.00378417969 (102.138015928537% of viewport)
[19:35:56] [INFO] [Bullet] Distance-based penetration chance: 29.5723968142927%
[19:35:56] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:56] [ENEMY] [UziEnemy2] Hit: dmg=1, hp=1/3->0/3
[19:35:56] [INFO] [ImpactEffects] spawn_blood_effect called at (3097.945, 791.4508), dir=(-0.973644, 0.228072), lethal=true
[19:35:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:35:56] [INFO] [ImpactEffects] Blood effect spawned at (3097.945, 791.4508) (scale=0.75)
[19:35:56] [ENEMY] [UziEnemy2] Enemy died (ricochet: true, penetration: false)
[19:35:56] [INFO] [ScoreManager] Ricochet kill registered
[19:35:56] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[19:35:56] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:35:56] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:35:56] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:35:56] [INFO] [PowerFantasy]   - Duration: 300ms
[19:35:56] [ENEMY] [UziEnemy2] [AllyDeath] Notified 3 enemies
[19:35:56] [INFO] [SoundPropagation] Unregistered listener: UziEnemy2 (remaining: 10)
[19:35:56] [INFO] [DeathAnim] Started - Angle: 166.8 deg, Index: 23
[19:35:56] [ENEMY] [UziEnemy2] Death animation started with hit direction: (-0.973644, 0.228072)
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4327.892, 1144.61), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:56] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:56] [INFO] [Player] Spawning blood effect at (2789.6257, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:56] [INFO] [ImpactEffects] spawn_blood_effect called at (2789.626, 1284.658), dir=(1, 0), lethal=false
[19:35:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:56] [INFO] [ImpactEffects] Blood effect spawned at (2789.626, 1284.658) (scale=1)
[19:35:56] [INFO] [PowerFantasy] Effect duration expired after 334.00 ms
[19:35:56] [INFO] [PowerFantasy] Ending power fantasy effect
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2476.454, 1311.569), source=ENEMY (LowerEnemy1), range=1469, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[19:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4306.957, 1154.349), shooter_id=1281410207205, bullet_pos=(3932.884, 1337.873)
[19:35:56] [INFO] [Bullet] Using shooter_position, distance=416.666412353516
[19:35:56] [INFO] [Bullet] Distance to wall: 416.666412353516 (28.371582199123% of viewport)
[19:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:56] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3482.364, 830.1598), shooter_id=1279648597501, bullet_pos=(2248.472, 1335.423)
[19:35:56] [INFO] [Bullet] Using shooter_position, distance=1333.333984375
[19:35:56] [INFO] [Bullet] Distance to wall: 1333.333984375 (90.7891627810981% of viewport)
[19:35:56] [INFO] [Bullet] Distance-based penetration chance: 40.7459767553855%
[19:35:56] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2849.237, 1316.389) (added to group)
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4309.831, 1146.254), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:56] [ENEMY] [PatrolEnemy1] Hit: dmg=1, hp=4/4->3/4
[19:35:56] [INFO] [ImpactEffects] spawn_blood_effect called at (1965.613, 1282.995), dir=(-0.958995, 0.283424), lethal=false
[19:35:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:56] [INFO] [ImpactEffects] Blood effect spawned at (1965.613, 1282.995) (scale=0.5)
[19:35:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=0.1°, current=-16.5°, player=(2789,1284), corner_timer=0.09
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1965.613, 1282.995), source=ENEMY (PatrolEnemy1), range=1200, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2913.331, 1381.009) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2907.603, 1337.543) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2897.037, 1318.728) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2911.592, 1351.792) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2932.183, 1400.733) (added to group)
[19:35:56] [INFO] [LastChance] Threat detected: @Area2D@3823
[19:35:56] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[19:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3482.364, 830.1598), shooter_id=1279648597501, bullet_pos=(3429.339, 1327.341)
[19:35:56] [INFO] [Bullet] Using shooter_position, distance=500.000732421875
[19:35:56] [INFO] [Bullet] Distance to wall: 500.000732421875 (34.04596929088% of viewport)
[19:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:56] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2590.7168, 1298.4626), shooter_id=1281762527568, bullet_pos=(3338.4268, 1357.0476)
[19:35:56] [INFO] [Bullet] Using shooter_position, distance=750,0016
[19:35:56] [INFO] [Bullet] Distance to wall: 750,0016 (51,068993% of viewport)
[19:35:56] [INFO] [Bullet] Distance-based penetration chance: 87,086174%
[19:35:56] [INFO] [Bullet] Starting wall penetration at (3338.4268, 1357.0476)
[19:35:56] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[19:35:56] [INFO] [Bullet] Exiting penetration at (3384.9507, 1360.693) after traveling 41,666664 pixels through wall
[19:35:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2921.773, 1334.386) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2868.351, 1315.446) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2907.937, 1358.396) (added to group)
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4288.585, 1148.188), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:56] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:56] [INFO] [Player] Spawning blood effect at (2789.6257, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:56] [INFO] [ImpactEffects] spawn_blood_effect called at (2789.626, 1284.658), dir=(1, 0), lethal=false
[19:35:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:56] [INFO] [ImpactEffects] Blood effect spawned at (2789.626, 1284.658) (scale=1)
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1965.613, 1282.995), source=ENEMY (PatrolEnemy1), range=1200, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2456.184, 1328.063), source=ENEMY (LowerEnemy1), range=1469, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[19:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2524.271, 1327.0659), shooter_id=1281762527568, bullet_pos=(2524.271, 1327.0659)
[19:35:56] [INFO] [Bullet] Using shooter_position, distance=0
[19:35:56] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[19:35:56] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[19:35:56] [INFO] [Bullet] Starting wall penetration at (2524.271, 1327.0659)
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3534.193, 786.0654), source=ENEMY (UziEnemyRight1), range=1200, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[19:35:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-90.0°, current=-49.9°, player=(2789,1284), corner_timer=0.09
[19:35:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,871326
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2900.867, 1279.991) (added to group)
[19:35:56] [INFO] [Bullet] Body exited signal received for penetrating body
[19:35:56] [INFO] [Bullet] Exiting penetration at (2570.3599, 1319.7454) after traveling 41,666664 pixels through wall
[19:35:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4267.339, 1150.122), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2923.65, 1394.269) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2924.833, 1290.708) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2855.289, 1325.125) (added to group)
[19:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4221.97, 1162.085), shooter_id=1281410207205, bullet_pos=(4056.856, 1349.801)
[19:35:56] [INFO] [Bullet] Using shooter_position, distance=250.000076293945
[19:35:56] [INFO] [Bullet] Distance to wall: 250.000076293945 (17.0229649044589% of viewport)
[19:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:56] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:56] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-149.7°, current=-9.3°, player=(2789,1284), corner_timer=0.27
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4246.093, 1152.057), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (3009.137, 1450.148) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2922.1, 1386.155) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2934.898, 1297.989) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2928.413, 1335.708) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (3025.257, 805.8571) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (3035.189, 815.3065) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (3025.729, 815.2105) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (3025.725, 876.5957) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (3019.386, 817.7267) (added to group)
[19:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4224.847, 1153.991), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:56] [INFO] [LastChance] Threat detected: @Area2D@3832
[19:35:56] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:56] [ENEMY] [LowerEnemy1] State: RETREATING -> IN_COVER
[19:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4261.277, 1158.507), shooter_id=1281410207205, bullet_pos=(3389.393, 1324.24)
[19:35:56] [INFO] [Bullet] Using shooter_position, distance=887.496215820313
[19:35:56] [INFO] [Bullet] Distance to wall: 887.496215820313 (60.4312492968433% of viewport)
[19:35:56] [INFO] [Bullet] Distance-based penetration chance: 76.1635424870162%
[19:35:56] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:56] [ENEMY] [LowerEnemy1] State: IN_COVER -> SUPPRESSED
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2922.914, 1441.4) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2948.258, 1360.487) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (3039.18, 853.4203) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (2881.127, 1288.743) (added to group)
[19:35:56] [INFO] [BloodDecal] Blood puddle created at (1906.638, 1335.516) (added to group)
[19:35:57] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:35:57] [INFO] [Player] Spawning blood effect at (2789.6257, 1284.6584), dir=(1, 0), lethal=False (C#)
[19:35:57] [INFO] [ImpactEffects] spawn_blood_effect called at (2789.626, 1284.658), dir=(1, 0), lethal=false
[19:35:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:57] [INFO] [ImpactEffects] Blood effect spawned at (2789.626, 1284.658) (scale=1)
[19:35:57] [INFO] [ReplayManager] Recording frame 3240 (52,9s): player_valid=False, enemies=10
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4203.601, 1155.925), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4200.724, 1164.019), shooter_id=1281410207205, bullet_pos=(3747.308, 1374.765)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=499.999786376953
[19:35:57] [INFO] [Bullet] Distance to wall: 499.999786376953 (34.0459048729416% of viewport)
[19:35:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:57] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4243.216, 1160.151), shooter_id=1281410207205, bullet_pos=(3500.97, 1538.984)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=833.332885742188
[19:35:57] [INFO] [Bullet] Distance to wall: 833.332885742188 (56.743168554242% of viewport)
[19:35:57] [INFO] [Bullet] Distance-based penetration chance: 80.4663033533843%
[19:35:57] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (3005.015, 815.5585) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2964.499, 875.786) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (3013.74, 856.6929) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2847.338, 1303.385) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2856.825, 1300.514) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2864.634, 1283.498) (added to group)
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4182.354, 1157.859), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:57] [ENEMY] [UziEnemy2] Ragdoll activated
[19:35:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2927.991, 1395.306) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2935.61, 870.9339) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2961.375, 876.1306) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2963.538, 867.1934) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2945.54, 896.5514) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2952.022, 812.4942) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2888.515, 1295.17) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2886.268, 1373.641) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (1855.85, 1382.542) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (1853.169, 1310.254) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2945.513, 892.7295) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2983.888, 945.1136) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2938.304, 831.7661) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2925.537, 1368.563) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2955.612, 1297.097) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2880.344, 1326.379) (added to group)
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4161.108, 1159.793), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4115.74, 1171.756), shooter_id=1281410207205, bullet_pos=(3990.941, 1338.573)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=208.333404541016
[19:35:57] [INFO] [Bullet] Distance to wall: 208.333404541016 (14.1858046065486% of viewport)
[19:35:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:57] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4349.449, 1150.481), shooter_id=1281410207205, bullet_pos=(2345.512, 759.7968)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=2041.66516113281
[19:35:57] [INFO] [Bullet] Distance to wall: 2041.66516113281 (139.02073511272% of viewport)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2911.439, 846.3149) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2895.762, 848.0277) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (1866.98, 1327.876) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2920.306, 1343.158) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2927.796, 1280.555) (added to group)
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4139.862, 1161.727), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2979.756, 914.7704) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2908.042, 1347.623) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (1824.619, 1415.602) (added to group)
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4118.616, 1163.661), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2984.868, 1298.15) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2938.412, 1357.779) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2918.866, 1317.341) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2873.497, 1261.329) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (3002.253, 1467.051) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (1748.602, 1389.277) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2952.527, 1329.29) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2875.1, 1339.998) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2888.222, 1261.068) (added to group)
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4094.494, 1173.69), shooter_id=1281410207205, bullet_pos=(3665.429, 1334.855)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=458.33447265625
[19:35:57] [INFO] [Bullet] Distance to wall: 458.33447265625 (31.2088370459428% of viewport)
[19:35:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:57] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4097.37, 1165.595), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4073.248, 1175.624), shooter_id=1281410207205, bullet_pos=(3730.397, 1327.541)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=375.000091552734
[19:35:57] [INFO] [Bullet] Distance to wall: 375.000091552734 (25.5344457981898% of viewport)
[19:35:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:57] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (1861.023, 1365.674) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (1834.029, 1380.623) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2883.88, 1428.106) (added to group)
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4391.931, 1146.614), shooter_id=1281410207205, bullet_pos=(1475.289, 1134.24)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=2916.66870117188
[19:35:57] [INFO] [Bullet] Distance to wall: 2916.66870117188 (198.601335143612% of viewport)
[19:35:57] [INFO] [Bullet] Distance-based penetration chance: 10.2797329712775%
[19:35:57] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4136.986, 1169.822), shooter_id=1281410207205, bullet_pos=(3271.493, 758.3271)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=958.334716796875
[19:35:57] [INFO] [Bullet] Distance to wall: 958.334716796875 (65.2547730888546% of viewport)
[19:35:57] [INFO] [Bullet] Distance-based penetration chance: 70.5360980630029%
[19:35:57] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4076.125, 1167.529), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4030.756, 1179.492), shooter_id=1281410207205, bullet_pos=(3949.892, 1325.228)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=166.666748046875
[19:35:57] [INFO] [Bullet] Distance to wall: 166.666748046875 (11.3486453476373% of viewport)
[19:35:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:57] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4052.002, 1177.558), shooter_id=1281410207205, bullet_pos=(3777.087, 1366.06)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=333.332946777344
[19:35:57] [INFO] [Bullet] Distance to wall: 333.332946777344 (22.6972532913103% of viewport)
[19:35:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:57] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (3021.83, 1341.536) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2885.32, 1337.57) (added to group)
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4060.191, 1168.98), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2979.731, 1475.464) (added to group)
[19:35:57] [ENEMY] [UziEnemy1] Hit: dmg=1, hp=3/3->2/3
[19:35:57] [INFO] [ImpactEffects] spawn_blood_effect called at (2890.377, 701.2186), dir=(-0.942939, -0.332964), lethal=false
[19:35:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:57] [INFO] [ImpactEffects] Blood effect spawned at (2890.377, 701.2186) (scale=0.5)
[19:35:57] [ENEMY] [UziEnemyRight1] State: COMBAT -> RETREATING
[19:35:57] [ENEMY] [LowerEnemy1] Hit: dmg=50, hp=3/3->-47/3
[19:35:57] [INFO] [ImpactEffects] spawn_blood_effect called at (2422.516, 1362.303), dir=(1, 0), lethal=true
[19:35:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:57] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:35:57] [INFO] [ImpactEffects] Wall found for blood splatter at (2520, 1362.303) (dist=97 px)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2519, 1362.303) (added to group)
[19:35:57] [INFO] [ImpactEffects] Blood effect spawned at (2422.516, 1362.303) (scale=1.5)
[19:35:57] [ENEMY] [LowerEnemy1] Enemy died (ricochet: false, penetration: false)
[19:35:57] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[19:35:57] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:35:57] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:35:57] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:35:57] [INFO] [PowerFantasy]   - Duration: 300ms
[19:35:57] [ENEMY] [LowerEnemy1] [AllyDeath] Notified 1 enemies
[19:35:57] [INFO] [SoundPropagation] Unregistered listener: LowerEnemy1 (remaining: 9)
[19:35:57] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:35:57] [ENEMY] [LowerEnemy1] Death animation started with hit direction: (1, 0)
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2789.626, 1284.658), source=PLAYER (SniperRifle), range=3000, listeners=9
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[19:35:57] [ENEMY] [ShotgunEnemyRight1] Warning: No valid flank position (both sides behind walls)
[19:35:57] [ENEMY] [ShotgunEnemyRight1] FLANKING started: target=(2826.998, 1088.181), side=left, pos=(4753.125, 599.7305)
[19:35:57] [ENEMY] [ShotgunEnemyRight1] State: PURSUING -> FLANKING
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4060.191, 1168.98), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2894.396, 1337.417) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2961.5, 1318.641) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2950.16, 1413.328) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2943.298, 1380.495) (added to group)
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4060.191, 1168.98), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2909.392, 1315.026) (added to group)
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4009.511, 1181.426), shooter_id=1281410207205, bullet_pos=(3648.233, 755.7325)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=558.333679199219
[19:35:57] [INFO] [Bullet] Distance to wall: 558.333679199219 (38.0179669017801% of viewport)
[19:35:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:57] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4179.478, 1165.953), shooter_id=1281410207205, bullet_pos=(2262.759, 764.3669)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=1958.33666992188
[19:35:57] [INFO] [Bullet] Distance to wall: 1958.33666992188 (133.346744918583% of viewport)
[19:35:57] [INFO] [Bullet] Distance-based penetration chance: 23.3306510162834%
[19:35:57] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4060.191, 1168.98), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2945.636, 1438.721) (added to group)
[19:35:57] [ENEMY] [UziEnemyRight1] Hit: dmg=1, hp=3/3->2/3
[19:35:57] [INFO] [ImpactEffects] spawn_blood_effect called at (3570.556, 798.5908), dir=(-0.726315, -0.687361), lethal=false
[19:35:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:35:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:35:57] [INFO] [ImpactEffects] Wall found for blood splatter at (3531.891, 762) (dist=53 px)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (3531.891, 763) (added to group)
[19:35:57] [INFO] [ImpactEffects] Blood effect spawned at (3570.556, 798.5908) (scale=0.5)
[19:35:57] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=23.3°, current=43.4°, player=(2789,1284), corner_timer=0.30
[19:35:57] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -113.2°
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2498.738, 1388.728) (added to group)
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4060.191, 1168.98), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[19:35:57] [INFO] [PowerFantasy] Effect duration expired after 314.00 ms
[19:35:57] [INFO] [PowerFantasy] Ending power fantasy effect
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2827.789, 692.4194) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2503.916, 1407.099) (added to group)
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4060.191, 1168.98), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2811.254, 727.7888) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2484.973, 1368.147) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2479.135, 1399.664) (added to group)
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3993.577, 1182.877), shooter_id=1281410207205, bullet_pos=(3630.501, 747.8044)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=566.667724609375
[19:35:57] [INFO] [Bullet] Distance to wall: 566.667724609375 (38.5854473787158% of viewport)
[19:35:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:57] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4060.191, 1168.98), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2489.236, 1406.221) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2538.123, 1426.351) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2483.094, 1378.453) (added to group)
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2496.948, 1376.1) (added to group)
[19:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3993.577, 1182.877), shooter_id=1281410207205, bullet_pos=(3824.925, 1545.584)
[19:35:57] [INFO] [Bullet] Using shooter_position, distance=399.999816894531
[19:35:57] [INFO] [Bullet] Distance to wall: 399.999816894531 (27.2367230671541% of viewport)
[19:35:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:57] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:57] [INFO] [BloodDecal] Blood puddle created at (2804.792, 667.1691) (added to group)
[19:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4060.191, 1168.98), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[19:35:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[19:35:57] [INFO] [ReplayManager] Recording frame 3300 (53,8s): player_valid=False, enemies=10
[19:35:58] [ENEMY] [LowerEnemy1] Ragdoll activated
[19:35:58] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:35:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4060.191, 1168.98), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[19:35:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[19:35:58] [ENEMY] [UziEnemy2] Death animation completed
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2540.406, 1406.373) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2582.994, 1442.533) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2495.174, 1446.391) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2526.3, 1410.821) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2522.746, 1467.687) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (3486.835, 795.6489) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (3508.256, 779.3524) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (3524.805, 792.5794) (added to group)
[19:35:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3993.577, 1182.877), shooter_id=1281410207205, bullet_pos=(3649.437, 1331.85)
[19:35:58] [INFO] [Bullet] Using shooter_position, distance=375.000732421875
[19:35:58] [INFO] [Bullet] Distance to wall: 375.000732421875 (25.5344894361481% of viewport)
[19:35:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:58] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:58] [INFO] [BloodyFeet:UziEnemyRight1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:35:58] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -113.2°
[19:35:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4060.191, 1168.98), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[19:35:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2750.236, 713.2677) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2596.498, 1483.309) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2614.245, 1426.159) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2697.908, 724.827) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2584.317, 1514.393) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2529.336, 1494.239) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2620.068, 1494.667) (added to group)
[19:35:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4060.191, 1168.98), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[19:35:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[19:35:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3993.577, 1182.877), shooter_id=1281410207205, bullet_pos=(3473.075, 1332.813)
[19:35:58] [INFO] [Bullet] Using shooter_position, distance=541.666625976563
[19:35:58] [INFO] [Bullet] Distance to wall: 541.666625976563 (36.883076599841% of viewport)
[19:35:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:35:58] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (2586.22, 1534.721) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (3445.227, 767.5314) (added to group)
[19:35:58] [INFO] [LastChance] Threat detected: @Area2D@4006
[19:35:58] [INFO] [LastChance] Not in hard mode - effect disabled
[19:35:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (3445.854, 832.9868) (added to group)
[19:35:58] [INFO] [BloodDecal] Blood puddle created at (3522.487, 764.3106) (added to group)
[19:35:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3993.577, 1182.877), shooter_id=1281410207205, bullet_pos=(3434.831, 747.5168)
[19:35:58] [INFO] [Bullet] Using shooter_position, distance=708.333129882813
[19:35:58] [INFO] [Bullet] Distance to wall: 708.333129882813 (48.2317053234942% of viewport)
[19:35:58] [INFO] [Bullet] Distance-based penetration chance: 90.3963437892568%
[19:35:58] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3993.577, 1182.877), shooter_id=1281410207205, bullet_pos=(2584.137, 1325.816)
[19:35:58] [INFO] [Bullet] Using shooter_position, distance=1416.66906738281
[19:35:58] [INFO] [Bullet] Distance to wall: 1416.66906738281 (96.4636018228054% of viewport)
[19:35:58] [INFO] [Bullet] Distance-based penetration chance: 34.1257978733937%
[19:35:58] [INFO] [Bullet] Penetration failed (distance roll)
[19:35:58] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -113.2°
[19:35:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3993.577, 1182.877), shooter_id=1281410207205, bullet_pos=(3138.36, 750.4383)
[19:35:58] [INFO] [Bullet] Using shooter_position, distance=958.331481933594
[19:35:58] [INFO] [Bullet] Distance to wall: 958.331481933594 (65.2545528210654% of viewport)
[19:35:58] [INFO] [Bullet] Distance-based penetration chance: 70.5363550420904%
[19:35:58] [INFO] [Bullet] Caliber cannot penetrate walls
[19:35:58] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -113.2°
[19:35:58] [ENEMY] [LowerEnemy1] Death animation completed
[19:35:58] [INFO] [ReplayManager] Recording frame 3360 (54,8s): player_valid=False, enemies=10
[19:35:59] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -113.2°
[19:35:59] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -113.2°
[19:35:59] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -113.2°
[19:35:59] [INFO] [ReplayManager] Recording frame 3420 (55,8s): player_valid=False, enemies=10
[19:36:00] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:36:00] [ENEMY] [PatrolEnemy2] State: COMBAT -> SEEKING_COVER
[19:36:00] [ENEMY] [UziEnemy1] State: SUPPRESSED -> IN_COVER
[19:36:00] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=97.4°, current=115.0°, player=(2808,1135), corner_timer=0.17
[19:36:00] [ENEMY] [UziEnemy1] State: IN_COVER -> PURSUING
[19:36:00] [ENEMY] [UziEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=100.9°, current=88.6°, player=(2808,1124), corner_timer=0.27
[19:36:00] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -113.3°
[19:36:00] [INFO] [BloodyFeet:PatrolEnemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:36:00] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -95.0°
[19:36:00] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -93.9°
[19:36:00] [ENEMY] [UziEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=30.7°, current=-91.4°, player=(2808,918), corner_timer=0.17
[19:36:00] [INFO] [ReplayManager] Recording frame 3480 (56,8s): player_valid=False, enemies=10
[19:36:01] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -93.9°
[19:36:01] [ENEMY] [UziEnemy3] State: RETREATING -> IN_COVER
[19:36:01] [ENEMY] [UziEnemy3] State: IN_COVER -> PURSUING
[19:36:01] [ENEMY] [UziEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=103.4°, current=-87.8°, player=(2840,947), corner_timer=0.17
[19:36:01] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -95.5°
[19:36:01] [ENEMY] [UziEnemy1] FLANKING started: target=(2733.802, 874.5347), side=left, pos=(2890.377, 701.2186)
[19:36:01] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[19:36:01] [ENEMY] [UziEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=83.6°, current=68.9°, player=(2953,956), corner_timer=0.13
[19:36:01] [ENEMY] [UziEnemy1] State: FLANKING -> COMBAT
[19:36:01] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -95.5°
[19:36:01] [INFO] [ReplayManager] Recording frame 3540 (57,8s): player_valid=False, enemies=10
[19:36:02] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -95.5°
[19:36:02] [ENEMY] [UziEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=83.0°, current=131.8°, player=(2950,956), corner_timer=0.17
[19:36:02] [ENEMY] [UziEnemy3] State: PURSUING -> COMBAT
[19:36:02] [ENEMY] [UziEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=83.2°, current=2.6°, player=(2945,956), corner_timer=0.17
[19:36:02] [ENEMY] [UziEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=83.3°, current=34.4°, player=(2938,956), corner_timer=0.17
[19:36:02] [ENEMY] [ShotgunEnemyRight1] FLANKING corner check: angle -113.2°
[19:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=9
[19:36:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[19:36:02] [INFO] [ScoreManager] Combo ended at 2. Max combo: 4
[19:36:02] [ENEMY] [ShotgunEnemyRight1] FLANKING timeout (5.0s), target=(2909.494, 758.6846), pos=(3241.157, 713.9334)
[19:36:02] [ENEMY] [ShotgunEnemyRight1] State: FLANKING -> PURSUING
[19:36:02] [INFO] [LastChance] Threat detected: Bullet9mm
[19:36:02] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=9
[19:36:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[19:36:02] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:02] [INFO] [Player] Spawning blood effect at (2938.182, 956.61646), dir=(1, 0), lethal=False (C#)
[19:36:02] [INFO] [ImpactEffects] spawn_blood_effect called at (2938.182, 956.6165), dir=(1, 0), lethal=false
[19:36:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:02] [INFO] [ImpactEffects] Blood effect spawned at (2938.182, 956.6165) (scale=1)
[19:36:02] [INFO] [LastChance] Threat detected: @Area2D@4119
[19:36:02] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:02] [ENEMY] [UziEnemy3] Hit: dmg=50, hp=3/4->-47/4
[19:36:02] [INFO] [ImpactEffects] spawn_blood_effect called at (2907.277, 713.5737), dir=(1, 0), lethal=true
[19:36:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:02] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:36:02] [INFO] [ImpactEffects] Blood effect spawned at (2907.277, 713.5737) (scale=1.5)
[19:36:02] [ENEMY] [UziEnemy3] Enemy died (ricochet: false, penetration: false)
[19:36:02] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[19:36:02] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:36:02] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:36:02] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:36:02] [INFO] [PowerFantasy]   - Duration: 300ms
[19:36:02] [ENEMY] [ShotgunEnemyRight1] [AllyDeath] Witnessed at (2907.277, 713.5737), entering SEARCHING
[19:36:02] [ENEMY] [ShotgunEnemyRight1] SEARCHING started: center=(2907.277, 713.5737), radius=100, waypoints=5
[19:36:02] [ENEMY] [UziEnemy3] [AllyDeath] Notified 2 enemies
[19:36:02] [INFO] [SoundPropagation] Unregistered listener: UziEnemy3 (remaining: 8)
[19:36:02] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:36:02] [ENEMY] [UziEnemy3] Death animation started with hit direction: (1, 0)
[19:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2938.182, 956.6165), source=PLAYER (SniperRifle), range=3000, listeners=8
[19:36:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[19:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:02] [INFO] [LastChance] Threat detected: Bullet9mm
[19:36:02] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:02] [INFO] [LastChance] Threat detected: @Area2D@4126
[19:36:02] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:02] [ENEMY] [ShotgunEnemyRight1] SEARCHING corner check: angle -89.9°
[19:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:02] [INFO] [LastChance] Threat detected: @Area2D@4130
[19:36:02] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:02] [INFO] [LastChance] Threat detected: @Area2D@4133
[19:36:02] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:02] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[19:36:02] [INFO] [PowerFantasy] Ending power fantasy effect
[19:36:02] [INFO] [BloodDecal] Blood puddle created at (2982.15, 994.3344) (added to group)
[19:36:02] [INFO] [BloodDecal] Blood puddle created at (2976.192, 955.3474) (added to group)
[19:36:02] [INFO] [BloodDecal] Blood puddle created at (2987.666, 739.7429) (added to group)
[19:36:02] [INFO] [BloodDecal] Blood puddle created at (2954.653, 722.1795) (added to group)
[19:36:02] [INFO] [ReplayManager] Recording frame 3600 (58,8s): player_valid=False, enemies=10
[19:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:02] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:02] [INFO] [Player] Spawning blood effect at (2938.182, 956.61646), dir=(1, 0), lethal=False (C#)
[19:36:02] [INFO] [ImpactEffects] spawn_blood_effect called at (2938.182, 956.6165), dir=(1, 0), lethal=false
[19:36:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:02] [INFO] [ImpactEffects] Blood effect spawned at (2938.182, 956.6165) (scale=1)
[19:36:03] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=126.3°, current=127.3°, player=(2938,956), corner_timer=0.13
[19:36:03] [ENEMY] [ShotgunEnemyRight1] SEARCHING: Player spotted! Transitioning to COMBAT
[19:36:03] [ENEMY] [ShotgunEnemyRight1] State: SEARCHING -> COMBAT
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (2969.896, 725.2547) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3015.49, 693.0065) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (2971.649, 747.094) (added to group)
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=125.5°, current=73.5°, player=(2938,956), corner_timer=0.13
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3059.193, 980.6926) (added to group)
[19:36:03] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=124.8°, current=75.9°, player=(2938,956), corner_timer=0.13
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (2991.718, 769.7966) (added to group)
[19:36:03] [INFO] [LastChance] Threat detected: @Area2D@4148
[19:36:03] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3015.001, 1014.479) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (2979.021, 776.3189) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3002.9, 760.6384) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3066.253, 993.2915) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (2977.149, 748.1271) (added to group)
[19:36:03] [ENEMY] [UziEnemy3] Ragdoll activated
[19:36:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3015.139, 761.465) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3035.936, 770.3845) (added to group)
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (2993.495, 770.3759) (added to group)
[19:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2924.839, 793.6284), shooter_id=1278591632925, bullet_pos=(2673.772, 1365.983)
[19:36:03] [INFO] [Bullet] Using shooter_position, distance=624.999633789063
[19:36:03] [INFO] [Bullet] Distance to wall: 624.999633789063 (42.5573743376835% of viewport)
[19:36:03] [INFO] [Bullet] Distance-based penetration chance: 97.0163966060359%
[19:36:03] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3045.401, 783.8627) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3035.304, 741.2169) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3025.235, 993.7902) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3095.871, 981.9869) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3108.793, 840.5313) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3077.502, 761.9221) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3005.917, 988.9213) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3027.898, 1012.739) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3134.134, 1117.021) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3029.867, 1086.622) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3091.812, 837.9104) (added to group)
[19:36:03] [INFO] [BloodyFeet:ShotgunEnemyRight1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3048.961, 964.6961) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3167.152, 1052.443) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3073.327, 845.2501) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3032.782, 1011.314) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3008.629, 1000.695) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3096.792, 872.9912) (added to group)
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3011.478, 979.1609) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3105.229, 825.0972) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3047.557, 1045.885) (added to group)
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3063.412, 1029.225) (added to group)
[19:36:03] [INFO] [LastChance] Threat detected: @Area2D@4210
[19:36:03] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3082.089, 1022.196) (added to group)
[19:36:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:03] [INFO] [Player] Spawning blood effect at (2938.182, 956.61646), dir=(1, 0), lethal=False (C#)
[19:36:03] [INFO] [ImpactEffects] spawn_blood_effect called at (2938.182, 956.6165), dir=(1, 0), lethal=false
[19:36:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:03] [INFO] [ImpactEffects] Blood effect spawned at (2938.182, 956.6165) (scale=1)
[19:36:03] [INFO] [BloodyFeet:UziEnemyRight1] Blood ran out - no more footprints
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2924.839, 793.6284), shooter_id=1278591632925, bullet_pos=(2701.502, 1938.72)
[19:36:03] [INFO] [Bullet] Using shooter_position, distance=1166.66772460938
[19:36:03] [INFO] [Bullet] Distance to wall: 1166.66772460938 (79.440550681429% of viewport)
[19:36:03] [INFO] [Bullet] Distance-based penetration chance: 53.9860242049995%
[19:36:03] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:03] [INFO] [LastChance] Threat detected: @Area2D@4219
[19:36:03] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:03] [INFO] [Player] Spawning blood effect at (2938.182, 956.61646), dir=(1, 0), lethal=False (C#)
[19:36:03] [INFO] [ImpactEffects] spawn_blood_effect called at (2938.182, 956.6165), dir=(1, 0), lethal=false
[19:36:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:03] [INFO] [ImpactEffects] Blood effect spawned at (2938.182, 956.6165) (scale=1)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3136.325, 1088.313) (added to group)
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [LastChance] Threat detected: @Area2D@4228
[19:36:03] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (2976.352, 953.8486) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (2985.611, 974.7395) (added to group)
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3064.084, 750.3232), source=ENEMY (ShotgunEnemyRight1), range=2000, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3028.363, 1002.099) (added to group)
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3029.358, 980.3243) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3018.975, 1007.205) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3039.158, 952.2858) (added to group)
[19:36:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:03] [INFO] [Player] Spawning blood effect at (2938.182, 956.61646), dir=(1, 0), lethal=False (C#)
[19:36:03] [INFO] [ImpactEffects] spawn_blood_effect called at (2938.182, 956.6165), dir=(1, 0), lethal=false
[19:36:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:03] [INFO] [ImpactEffects] Blood effect spawned at (2938.182, 956.6165) (scale=1)
[19:36:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:03] [INFO] [Player] Spawning blood effect at (2938.182, 956.61646), dir=(1, 0), lethal=False (C#)
[19:36:03] [INFO] [ImpactEffects] spawn_blood_effect called at (2938.182, 956.6165), dir=(1, 0), lethal=false
[19:36:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:03] [INFO] [ImpactEffects] Blood effect spawned at (2938.182, 956.6165) (scale=1)
[19:36:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:03] [INFO] [Player] Spawning blood effect at (2938.182, 956.61646), dir=(1, 0), lethal=False (C#)
[19:36:03] [INFO] [ImpactEffects] spawn_blood_effect called at (2938.182, 956.6165), dir=(1, 0), lethal=false
[19:36:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:03] [INFO] [ImpactEffects] Blood effect spawned at (2938.182, 956.6165) (scale=1)
[19:36:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:03] [INFO] [Player] Spawning blood effect at (2938.182, 956.61646), dir=(1, 0), lethal=False (C#)
[19:36:03] [INFO] [ImpactEffects] spawn_blood_effect called at (2938.182, 956.6165), dir=(1, 0), lethal=false
[19:36:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:03] [INFO] [ImpactEffects] Blood effect spawned at (2938.182, 956.6165) (scale=1)
[19:36:03] [ENEMY] [UziEnemy1] State: COMBAT -> SEEKING_COVER
[19:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2930.339, 725.8025), source=ENEMY (UziEnemy1), range=1200, listeners=8
[19:36:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (2990.817, 966.35) (added to group)
[19:36:03] [INFO] [BloodDecal] Blood puddle created at (3010.624, 990.3051) (added to group)
[19:36:03] [ENEMY] [UziEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=88.6°, current=-142.1°, player=(2938,956), corner_timer=0.13
[19:36:03] [INFO] [ReplayManager] Recording frame 3660 (59,8s): player_valid=False, enemies=10
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3062.19, 999.2828) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3102.3, 1041.972) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3013.315, 1038.057) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (2988.848, 966.4307) (added to group)
[19:36:04] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2924.839, 793.6284), shooter_id=1278591632925, bullet_pos=(3772.931, 1323.474)
[19:36:04] [INFO] [Bullet] Using shooter_position, distance=999.998046875
[19:36:04] [INFO] [Bullet] Distance to wall: 999.998046875 (68.0917058459827% of viewport)
[19:36:04] [INFO] [Bullet] Distance-based penetration chance: 67.2263431796869%
[19:36:04] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3041.195, 1022.308) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3032.766, 1001.204) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (2995.198, 962.9292) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3015.263, 990.5325) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3003.363, 974.6057) (added to group)
[19:36:04] [ENEMY] [UziEnemy3] Death animation completed
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3054.473, 967.9752) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3039.257, 961.3233) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3016.692, 987.1584) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (2986.347, 951.5461) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (2989.72, 986.628) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3078.125, 1050.679) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3114.979, 1027.427) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3063.06, 1051.514) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3025.162, 944.8115) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (2997.277, 1003.497) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3173.843, 1087.738) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3003.492, 976.8047) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3024.36, 979.8551) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3017.451, 964.5649) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3040.678, 955.8008) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3013.223, 984.5167) (added to group)
[19:36:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2924.839, 793.6284), shooter_id=1278591632925, bullet_pos=(2763.956, 1949.148)
[19:36:04] [INFO] [Bullet] Using shooter_position, distance=1166.66613769531
[19:36:04] [INFO] [Bullet] Distance to wall: 1166.66613769531 (79.4404426255325% of viewport)
[19:36:04] [INFO] [Bullet] Distance-based penetration chance: 53.9861502702122%
[19:36:04] [INFO] [Bullet] Penetration failed (distance roll)
[19:36:04] [ENEMY] [UziEnemy1] State: SEEKING_COVER -> IN_COVER
[19:36:04] [ENEMY] [UziEnemy1] State: IN_COVER -> PURSUING
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3133.187, 1114.281) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3011.034, 1009.1) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3007.288, 965.8566) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3026.539, 1008.672) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3025.339, 1013.302) (added to group)
[19:36:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2924.839, 793.6284), shooter_id=1278591632925, bullet_pos=(2761.522, 1948.807)
[19:36:04] [INFO] [Bullet] Using shooter_position, distance=1166.66577148438
[19:36:04] [INFO] [Bullet] Distance to wall: 1166.66577148438 (79.4404176895563% of viewport)
[19:36:04] [INFO] [Bullet] Distance-based penetration chance: 53.9861793621843%
[19:36:04] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:04] [ENEMY] [UziEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=76.4°, current=168.4°, player=(2938,956), corner_timer=0.13
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3020.88, 1016.123) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3056.186, 999.2041) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3065.287, 1059.708) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3062.466, 954.9752) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3027.381, 989.1464) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3012.712, 1025.372) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3059.967, 1008.299) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3015.896, 985.6097) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3078.271, 943.6388) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3018.609, 1001.164) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3039.79, 977.7277) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3126.449, 1058.881) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3062.252, 971.9802) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3046.733, 1057.039) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3122.709, 953.9565) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3112.651, 979.0461) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3067.356, 1107.066) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3049.176, 994.2153) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3046.942, 1044.845) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3111.109, 1008.495) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3097.14, 1036.643) (added to group)
[19:36:04] [INFO] [BloodDecal] Blood puddle created at (3068.954, 1031.111) (added to group)
[19:36:04] [INFO] [ReplayManager] Recording frame 3720 (60,8s): player_valid=False, enemies=10
[19:36:05] [INFO] [ReplayManager] Recording frame 3780 (61,8s): player_valid=False, enemies=10
[19:36:05] [ENEMY] [UziEnemy1] PURSUING corner check: angle 162.8°
[19:36:06] [INFO] [BloodyFeet:UziEnemyRight1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:36:06] [ENEMY] [UziEnemy1] Hit: dmg=50, hp=2/3->-48/3
[19:36:06] [INFO] [ImpactEffects] spawn_blood_effect called at (2872.899, 699.7199), dir=(1, 0), lethal=true
[19:36:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:06] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:36:06] [INFO] [ImpactEffects] Blood effect spawned at (2872.899, 699.7199) (scale=1.5)
[19:36:06] [ENEMY] [UziEnemy1] Enemy died (ricochet: false, penetration: false)
[19:36:06] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[19:36:06] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:36:06] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:36:06] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:36:06] [INFO] [PowerFantasy]   - Duration: 300ms
[19:36:06] [ENEMY] [UziEnemy1] [AllyDeath] Notified 1 enemies
[19:36:06] [INFO] [SoundPropagation] Unregistered listener: UziEnemy1 (remaining: 7)
[19:36:06] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:36:06] [ENEMY] [UziEnemy1] Death animation started with hit direction: (1, 0)
[19:36:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2895.631, 877.9892), source=PLAYER (SniperRifle), range=3000, listeners=7
[19:36:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[19:36:06] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[19:36:06] [INFO] [PowerFantasy] Ending power fantasy effect
[19:36:06] [INFO] [BloodDecal] Blood puddle created at (2947.646, 691.1334) (added to group)
[19:36:06] [INFO] [ReplayManager] Recording frame 3840 (62,7s): player_valid=False, enemies=10
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (2980.631, 776.114) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (2970.206, 698.9462) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (2980.619, 705.2148) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (3018.032, 693.3066) (added to group)
[19:36:07] [ENEMY] [UziEnemy1] Ragdoll activated
[19:36:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (3014.32, 766.6953) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (3009.023, 744.5741) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (2982.643, 731.2519) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (3047.047, 768.1437) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (2998.975, 730.2404) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (2985.322, 740.7889) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (2987.541, 785.981) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (3021.771, 762.6543) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (3048.526, 734.3611) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (3059.01, 726.3663) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (3067.704, 810.0834) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (3005.417, 822.8992) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (3042.786, 731.5078) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (3088.835, 866.8085) (added to group)
[19:36:07] [INFO] [BloodDecal] Blood puddle created at (3016.693, 861.9451) (added to group)
[19:36:07] [INFO] [ReplayManager] Recording frame 3900 (63,7s): player_valid=False, enemies=10
[19:36:08] [ENEMY] [UziEnemy1] Death animation completed
[19:36:08] [INFO] [BloodyFeet:UziEnemyRight1] Blood ran out - no more footprints
[19:36:08] [INFO] [ReplayManager] Recording frame 3960 (64,7s): player_valid=False, enemies=10
[19:36:09] [INFO] [ReplayManager] Recording frame 4020 (65,7s): player_valid=False, enemies=10
[19:36:10] [ENEMY] [ShotgunEnemy1] Player ammo empty: false -> true
[19:36:10] [ENEMY] [ShotgunEnemy2] Player ammo empty: false -> true
[19:36:10] [ENEMY] [UziEnemyRight1] Player ammo empty: false -> true
[19:36:10] [ENEMY] [ShotgunEnemyRight1] Player ammo empty: false -> true
[19:36:10] [ENEMY] [PatrolEnemy1] Player ammo empty: false -> true
[19:36:10] [ENEMY] [PatrolEnemy2] Player ammo empty: false -> true
[19:36:10] [ENEMY] [RpgEnemy1] Player ammo empty: false -> true
[19:36:10] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2895.631, 877.9892), source=PLAYER (Player), range=600, listeners=7
[19:36:10] [ENEMY] [UziEnemyRight1] Heard player EMPTY_CLICK at (2895.631, 877.9892), intensity=0.01, distance=458
[19:36:10] [ENEMY] [UziEnemyRight1] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[19:36:10] [ENEMY] [ShotgunEnemyRight1] Heard player EMPTY_CLICK at (2895.631, 877.9892), intensity=0.06, distance=211
[19:36:10] [ENEMY] [ShotgunEnemyRight1] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[19:36:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[19:36:10] [ENEMY] [ShotgunEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1933), can_see=false
[19:36:10] [ENEMY] [ShotgunEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1543), can_see=false
[19:36:10] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=169.3°, current=23.3°, player=(2895,877), corner_timer=0.30
[19:36:10] [ENEMY] [UziEnemyRight1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=458), can_see=false
[19:36:10] [ENEMY] [UziEnemyRight1] Pursuing vulnerability sound at (2895.631, 877.9892), distance=458
[19:36:10] [ENEMY] [ShotgunEnemyRight1] Player empty ammo - priority attack triggered
[19:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3064.084, 750.3232), source=ENEMY (ShotgunEnemyRight1), range=2000, listeners=7
[19:36:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[19:36:10] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1014), can_see=false
[19:36:10] [ENEMY] [PatrolEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1230), can_see=false
[19:36:10] [ENEMY] [RpgEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1066), can_see=false
[19:36:10] [ENEMY] [ShotgunEnemyRight1] Pursuing vulnerability sound at (2895.631, 877.9892), distance=211
[19:36:10] [ENEMY] [ShotgunEnemyRight1] State: PURSUING -> COMBAT
[19:36:10] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:10] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=163.7°, current=115.1°, player=(2895,877), corner_timer=0.30
[19:36:10] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3209.191, 786.0652), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:10] [ENEMY] [UziEnemyRight1] State: PURSUING -> COMBAT
[19:36:10] [INFO] [LastChance] Threat detected: Bullet9mm
[19:36:10] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:10] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3188.451, 786.0651), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:10] [ENEMY] [ShotgunEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1933), can_see=false
[19:36:10] [ENEMY] [ShotgunEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1543), can_see=false
[19:36:10] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1014), can_see=false
[19:36:10] [ENEMY] [PatrolEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1230), can_see=false
[19:36:10] [ENEMY] [RpgEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1066), can_see=false
[19:36:10] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3168.205, 786.0655), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:10] [INFO] [LastChance] Threat detected: @Area2D@4382
[19:36:10] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:10] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3148.018, 786.0652), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:10] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3127.868, 786.0651), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:10] [ENEMY] [ShotgunEnemyRight1] Heard gunshot at (3127.868, 786.0651), source_type=1, intensity=0.36, distance=83
[19:36:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:10] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:10] [INFO] [LastChance] Threat detected: @Area2D@4397
[19:36:10] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:10] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3117.798, 786.0651), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:10] [ENEMY] [ShotgunEnemyRight1] Heard gunshot at (3117.798, 786.0651), source_type=1, intensity=0.53, distance=68
[19:36:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:10] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:10] [ENEMY] [ShotgunEnemyRight1] Player empty ammo - priority attack triggered
[19:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3065.875, 744.4424), source=ENEMY (ShotgunEnemyRight1), range=2000, listeners=7
[19:36:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[19:36:10] [INFO] [ReplayManager] Recording frame 4080 (66,7s): player_valid=False, enemies=10
[19:36:10] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3117.798, 786.0651), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:10] [ENEMY] [ShotgunEnemyRight1] Heard gunshot at (3117.798, 786.0651), source_type=1, intensity=0.60, distance=65
[19:36:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:10] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:11] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:11] [INFO] [Player] Spawning blood effect at (2895.6313, 877.9892), dir=(1, 0), lethal=False (C#)
[19:36:11] [INFO] [ImpactEffects] spawn_blood_effect called at (2895.631, 877.9892), dir=(1, 0), lethal=false
[19:36:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:11] [INFO] [ImpactEffects] Blood effect spawned at (2895.631, 877.9892) (scale=1)
[19:36:11] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:11] [INFO] [Player] Spawning blood effect at (2895.6313, 877.9892), dir=(1, 0), lethal=False (C#)
[19:36:11] [INFO] [ImpactEffects] spawn_blood_effect called at (2895.631, 877.9892), dir=(1, 0), lethal=false
[19:36:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:11] [INFO] [ImpactEffects] Blood effect spawned at (2895.631, 877.9892) (scale=1)
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3117.798, 786.0651), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [ENEMY] [ShotgunEnemyRight1] Heard gunshot at (3117.798, 786.0651), source_type=1, intensity=0.65, distance=62
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3058.316, 819.1178), shooter_id=1279648597501, bullet_pos=(2729.822, 762.528)
[19:36:11] [INFO] [Bullet] Using shooter_position, distance=333.332885742188
[19:36:11] [INFO] [Bullet] Distance to wall: 333.332885742188 (22.6972491353143% of viewport)
[19:36:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:11] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:11] [ENEMY] [PatrolEnemy1] Hit: dmg=1, hp=3/4->2/4
[19:36:11] [INFO] [ImpactEffects] spawn_blood_effect called at (1965.613, 1282.995), dir=(-0.928012, 0.372551), lethal=false
[19:36:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:11] [INFO] [ImpactEffects] Blood effect spawned at (1965.613, 1282.995) (scale=0.5)
[19:36:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-23.5°, current=-21.9°, player=(2895,877), corner_timer=0.09
[19:36:11] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=1014)
[19:36:11] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> RETREATING
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3117.798, 786.0651), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [ENEMY] [ShotgunEnemyRight1] Heard gunshot at (3117.798, 786.0651), source_type=1, intensity=0.68, distance=61
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:11] [ENEMY] [UziEnemyRight1] State: COMBAT -> RETREATING
[19:36:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3126.291, 813.7542), shooter_id=1279648597501, bullet_pos=(1943.44, 1332.667)
[19:36:11] [INFO] [Bullet] Using shooter_position, distance=1291.66845703125
[19:36:11] [INFO] [Bullet] Distance to wall: 1291.66845703125 (87.9520804081132% of viewport)
[19:36:11] [INFO] [Bullet] Distance-based penetration chance: 44.0559061905346%
[19:36:11] [INFO] [Bullet] Penetration failed (distance roll)
[19:36:11] [ENEMY] [ShotgunEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1933), can_see=false
[19:36:11] [ENEMY] [ShotgunEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1543), can_see=false
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3117.798, 786.0651), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [ENEMY] [ShotgunEnemyRight1] Heard gunshot at (3117.798, 786.0651), source_type=1, intensity=0.76, distance=57
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:11] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1014), can_see=true
[19:36:11] [ENEMY] [PatrolEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1230), can_see=false
[19:36:11] [ENEMY] [RpgEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1066), can_see=false
[19:36:11] [INFO] [LastChance] Threat detected: @Area2D@4448
[19:36:11] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3123.528, 791.6572), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [ENEMY] [ShotgunEnemyRight1] Heard gunshot at (3123.528, 791.6572), source_type=1, intensity=0.58, distance=66
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3087.169, 816.5287), shooter_id=1279648597501, bullet_pos=(2177.696, 1547.263)
[19:36:11] [INFO] [Bullet] Using shooter_position, distance=1166.66833496094
[19:36:11] [INFO] [Bullet] Distance to wall: 1166.66833496094 (79.4405922413893% of viewport)
[19:36:11] [INFO] [Bullet] Distance-based penetration chance: 53.9859757183792%
[19:36:11] [INFO] [Bullet] Penetration failed (distance roll)
[19:36:11] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:11] [INFO] [Player] Spawning blood effect at (2895.6313, 877.9892), dir=(1, 0), lethal=False (C#)
[19:36:11] [INFO] [ImpactEffects] spawn_blood_effect called at (2895.631, 877.9892), dir=(1, 0), lethal=false
[19:36:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:11] [INFO] [ImpactEffects] Blood effect spawned at (2895.631, 877.9892) (scale=1)
[19:36:11] [INFO] [BloodyFeet:UziEnemyRight1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2942.028, 906.5672) (added to group)
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3131.162, 799.1071), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [ENEMY] [ShotgunEnemyRight1] Heard gunshot at (3131.162, 799.1071), source_type=1, intensity=0.43, distance=76
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2950.285, 919.1569) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2948.223, 922.3795) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2958.092, 911.4966) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2958.152, 899.6263) (added to group)
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3138.796, 806.5571), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [ENEMY] [ShotgunEnemyRight1] Heard gunshot at (3138.796, 806.5571), source_type=1, intensity=0.33, distance=86
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (1915.724, 1324.377) (added to group)
[19:36:11] [INFO] [LastChance] Threat detected: @Area2D@4517
[19:36:11] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2968.463, 941.5839) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2965.349, 947.2403) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2972.846, 899.6661) (added to group)
[19:36:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3058.316, 819.1178), shooter_id=1279648597501, bullet_pos=(2256.551, 1344.07)
[19:36:11] [INFO] [Bullet] Using shooter_position, distance=958.333251953125
[19:36:11] [INFO] [Bullet] Distance to wall: 958.333251953125 (65.2546733449501% of viewport)
[19:36:11] [INFO] [Bullet] Distance-based penetration chance: 70.5362144308916%
[19:36:11] [INFO] [Bullet] Penetration failed (distance roll)
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3140.115, 800.4413), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [ENEMY] [ShotgunEnemyRight1] Heard gunshot at (3140.115, 800.4413), source_type=1, intensity=0.39, distance=80
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2978.824, 953.8619) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (1890.902, 1325.692) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3048.118, 966.4844) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3057.247, 928.2619) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2985.257, 939.23) (added to group)
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3139.33, 789.8036), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [ENEMY] [ShotgunEnemyRight1] Heard gunshot at (3139.33, 789.8036), source_type=1, intensity=0.41, distance=78
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3005.678, 937.316) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2973.812, 906.631) (added to group)
[19:36:11] [INFO] [LastChance] Threat detected: @Area2D@4549
[19:36:11] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3069.538, 827.9714), shooter_id=1279648597501, bullet_pos=(2489.625, 764.8876)
[19:36:11] [INFO] [Bullet] Using shooter_position, distance=583.334167480469
[19:36:11] [INFO] [Bullet] Distance to wall: 583.334167480469 (39.7202961206946% of viewport)
[19:36:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:11] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2999.612, 917.4518) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3047.374, 901.4755) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (1852.306, 1374.736) (added to group)
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3145.552, 791.9197), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [ENEMY] [ShotgunEnemyRight1] Heard gunshot at (3145.552, 791.9197), source_type=1, intensity=0.31, distance=90
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [ENEMY] [ShotgunEnemyRight1] State: COMBAT -> RETREATING
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3075.788, 920.0798) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (1820.677, 1370.501) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3005.432, 913.3325) (added to group)
[19:36:11] [INFO] [ScoreManager] Combo ended at 2. Max combo: 4
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3088.331, 979.4998) (added to group)
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3154.11, 798.2872), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3086.017, 992.9789) (added to group)
[19:36:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3106.642, 815.0588), shooter_id=1279648597501, bullet_pos=(751.9268, 1124.792)
[19:36:11] [INFO] [Bullet] Using shooter_position, distance=2374.99853515625
[19:36:11] [INFO] [Bullet] Distance to wall: 2374.99853515625 (161.718017496002% of viewport)
[19:36:11] [INFO] [LastChance] Threat detected: @Area2D@4573
[19:36:11] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:11] [ENEMY] [ShotgunEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1933), can_see=false
[19:36:11] [ENEMY] [ShotgunEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1543), can_see=false
[19:36:11] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1014), can_see=true
[19:36:11] [ENEMY] [PatrolEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1230), can_see=false
[19:36:11] [ENEMY] [RpgEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1066), can_see=false
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3104.726, 1085.854) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3070.044, 926.6025) (added to group)
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3162.667, 804.6546), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (1859.576, 1381.349) (added to group)
[19:36:11] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:11] [INFO] [Player] Spawning blood effect at (2895.6313, 877.9892), dir=(1, 0), lethal=False (C#)
[19:36:11] [INFO] [ImpactEffects] spawn_blood_effect called at (2895.631, 877.9892), dir=(1, 0), lethal=false
[19:36:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:11] [INFO] [ImpactEffects] Blood effect spawned at (2895.631, 877.9892) (scale=1)
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3166.946, 807.8383), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [ENEMY] [ShotgunEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3057.259, 759.1769), source=ENEMY (ShotgunEnemyRight1), range=2000, listeners=7
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3168.545, 802.7502), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (2995.048, 931.1812) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3036.196, 915.1462) (added to group)
[19:36:11] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:11] [INFO] [Player] Spawning blood effect at (2895.6313, 877.9892), dir=(1, 0), lethal=False (C#)
[19:36:11] [INFO] [ImpactEffects] spawn_blood_effect called at (2895.631, 877.9892), dir=(1, 0), lethal=false
[19:36:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:11] [INFO] [ImpactEffects] Blood effect spawned at (2895.631, 877.9892) (scale=1)
[19:36:11] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:11] [INFO] [Player] Spawning blood effect at (2895.6313, 877.9892), dir=(1, 0), lethal=False (C#)
[19:36:11] [INFO] [ImpactEffects] spawn_blood_effect called at (2895.631, 877.9892), dir=(1, 0), lethal=false
[19:36:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:11] [INFO] [ImpactEffects] Blood effect spawned at (2895.631, 877.9892) (scale=1)
[19:36:11] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:11] [INFO] [Player] Spawning blood effect at (2895.6313, 877.9892), dir=(1, 0), lethal=False (C#)
[19:36:11] [INFO] [ImpactEffects] spawn_blood_effect called at (2895.631, 877.9892), dir=(1, 0), lethal=false
[19:36:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:11] [INFO] [ImpactEffects] Blood effect spawned at (2895.631, 877.9892) (scale=1)
[19:36:11] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:11] [INFO] [Player] Spawning blood effect at (2895.6313, 877.9892), dir=(1, 0), lethal=False (C#)
[19:36:11] [INFO] [ImpactEffects] spawn_blood_effect called at (2895.631, 877.9892), dir=(1, 0), lethal=false
[19:36:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:11] [INFO] [ImpactEffects] Blood effect spawned at (2895.631, 877.9892) (scale=1)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3049.552, 887.641) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3059.121, 1012.512) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3038.063, 924.8687) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3038.22, 947.0982) (added to group)
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3171.742, 792.5739), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3176.015, 787.9706), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3078.037, 828.3148), shooter_id=1279648597501, bullet_pos=(2691.718, 1929.164)
[19:36:11] [INFO] [Bullet] Using shooter_position, distance=1166.66662597656
[19:36:11] [INFO] [Bullet] Distance to wall: 1166.66662597656 (79.4404758735006% of viewport)
[19:36:11] [INFO] [Bullet] Distance-based penetration chance: 53.9861114809159%
[19:36:11] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3071.748, 899.7567) (added to group)
[19:36:11] [INFO] [BloodDecal] Blood puddle created at (3041.088, 1026.742) (added to group)
[19:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3109.467, 820.0035), shooter_id=1279648597501, bullet_pos=(2824.772, 756.6105)
[19:36:12] [INFO] [Bullet] Using shooter_position, distance=291.667083740234
[19:36:12] [INFO] [Bullet] Distance to wall: 291.667083740234 (19.8601480603473% of viewport)
[19:36:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:12] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:12] [INFO] [ReplayManager] Recording frame 4140 (67,7s): player_valid=False, enemies=10
[19:36:12] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3183.5, 795.5698), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3114.035, 816.0617), shooter_id=1279648597501, bullet_pos=(2876.757, 737.3271)
[19:36:12] [INFO] [Bullet] Using shooter_position, distance=250.000274658203
[19:36:12] [INFO] [Bullet] Distance to wall: 250.000274658203 (17.022978411446% of viewport)
[19:36:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:12] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2967.029, 874.9923) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2978.383, 901.0878) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2951.87, 886.2114) (added to group)
[19:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3099.546, 830.0779), shooter_id=1279648597501, bullet_pos=(2310.838, 761.705)
[19:36:12] [INFO] [Bullet] Using shooter_position, distance=791.666809082031
[19:36:12] [INFO] [Bullet] Distance to wall: 791.666809082031 (53.9060487772929% of viewport)
[19:36:12] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3190.986, 803.1689), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2968.685, 914.0341) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2974.623, 906.1348) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2968.896, 853.7369) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2945.861, 873.8073) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2976.044, 884.9138) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2939.132, 891.2142) (added to group)
[19:36:12] [ENEMY] [RpgEnemy1] Hit: dmg=1, hp=2/2->1/2
[19:36:12] [INFO] [ImpactEffects] spawn_blood_effect called at (2000, 300), dir=(-0.908235, -0.418461), lethal=false
[19:36:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:12] [INFO] [ImpactEffects] Blood effect spawned at (2000, 300) (scale=0.5)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2950.576, 911.6748) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2974.165, 904.9221) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2946.34, 901.9987) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2955.5, 921.88) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2985.277, 935.5601) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2967.515, 869.1375) (added to group)
[19:36:12] [ENEMY] [UziEnemyRight1] Player empty ammo - priority attack triggered
[19:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3196.882, 802.0893), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:12] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=1014)
[19:36:12] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[19:36:12] [ENEMY] [ShotgunEnemy1] Player reloading: false -> true
[19:36:12] [ENEMY] [ShotgunEnemy2] Player reloading: false -> true
[19:36:12] [ENEMY] [UziEnemyRight1] Player reloading: false -> true
[19:36:12] [ENEMY] [ShotgunEnemyRight1] Player reloading: false -> true
[19:36:12] [ENEMY] [PatrolEnemy1] Player reloading: false -> true
[19:36:12] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[19:36:12] [ENEMY] [RpgEnemy1] Player reloading: false -> true
[19:36:12] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2895.631, 877.9892), source=PLAYER (Player), range=900, listeners=7
[19:36:12] [ENEMY] [UziEnemyRight1] Heard player RELOAD at (2895.631, 877.9892), intensity=0.03, distance=312
[19:36:12] [ENEMY] [UziEnemyRight1] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[19:36:12] [ENEMY] [ShotgunEnemyRight1] Heard player RELOAD at (2895.631, 877.9892), intensity=0.06, distance=211
[19:36:12] [ENEMY] [ShotgunEnemyRight1] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[19:36:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[19:36:12] [ENEMY] [UziEnemyRight1] Pursuing vulnerability sound at (2895.631, 877.9892), distance=312
[19:36:12] [ENEMY] [ShotgunEnemyRight1] Pursuing vulnerability sound at (2895.631, 877.9892), distance=211
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2944.831, 925.717) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2979.864, 909.0905) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2962.766, 935.8077) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2974.878, 865.6734) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2969.13, 871.2502) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2995.662, 921.989) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2995.822, 888.477) (added to group)
[19:36:12] [ENEMY] [ShotgunEnemyRight1] Hit: dmg=1, hp=2/2->1/2
[19:36:12] [INFO] [ImpactEffects] spawn_blood_effect called at (3063.984, 768.6958), dir=(-0.782404, -0.622772), lethal=false
[19:36:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:12] [INFO] [ImpactEffects] Blood effect spawned at (3063.984, 768.6958) (scale=0.5)
[19:36:12] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=147.0°, current=38.5°, player=(2895,877), corner_timer=0.13
[19:36:12] [ENEMY] [ShotgunEnemyRight1] Player vulnerable (reloading) but cannot attack: close=true (dist=201), can_see=false
[19:36:12] [ENEMY] [UziEnemyRight1] Player reloading - priority attack triggered
[19:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3182.126, 797.3465), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3013.986, 898.345) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2997.812, 934.4609) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2982.712, 892.1501) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3009.536, 933.1486) (added to group)
[19:36:12] [ENEMY] [ShotgunEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1933), can_see=false
[19:36:12] [ENEMY] [ShotgunEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1543), can_see=false
[19:36:12] [ENEMY] [PatrolEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1014), can_see=true
[19:36:12] [ENEMY] [PatrolEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1230), can_see=false
[19:36:12] [ENEMY] [RpgEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1066), can_see=false
[19:36:12] [INFO] [LastChance] Threat detected: @Area2D@4651
[19:36:12] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3022.234, 937.627) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2975.933, 897.8256) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2995.865, 952.3131) (added to group)
[19:36:12] [ENEMY] [UziEnemyRight1] Player reloading - priority attack triggered
[19:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3160.95, 794.7661), source=ENEMY (UziEnemyRight1), range=1200, listeners=7
[19:36:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=1
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3011.39, 886.9733) (added to group)
[19:36:12] [ENEMY] [ShotgunEnemyRight1] Hit: dmg=1, hp=1/2->0/2
[19:36:12] [INFO] [ImpactEffects] spawn_blood_effect called at (3033.434, 797.0321), dir=(-0.99766, -0.068365), lethal=true
[19:36:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:12] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:36:12] [INFO] [ImpactEffects] Blood effect spawned at (3033.434, 797.0321) (scale=0.75)
[19:36:12] [ENEMY] [ShotgunEnemyRight1] Enemy died (ricochet: false, penetration: false)
[19:36:12] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[19:36:12] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:36:12] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:36:12] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:36:12] [INFO] [PowerFantasy]   - Duration: 300ms
[19:36:12] [ENEMY] [UziEnemyRight1] [AllyDeath] Witnessed at (3033.434, 797.0321), entering SEARCHING
[19:36:12] [ENEMY] [UziEnemyRight1] SEARCHING started: center=(3033.434, 797.0321), radius=100, waypoints=5
[19:36:12] [ENEMY] [ShotgunEnemyRight1] [AllyDeath] Notified 1 enemies
[19:36:12] [INFO] [SoundPropagation] Unregistered listener: ShotgunEnemyRight1 (remaining: 6)
[19:36:12] [INFO] [DeathAnim] Started - Angle: -176.1 deg, Index: 0
[19:36:12] [ENEMY] [ShotgunEnemyRight1] Death animation started with hit direction: (-0.99766, -0.068365)
[19:36:12] [ENEMY] [UziEnemyRight1] SEARCHING: Player spotted! Transitioning to COMBAT
[19:36:12] [ENEMY] [UziEnemyRight1] State: SEARCHING -> COMBAT
[19:36:12] [ENEMY] [UziEnemyRight1] Player reloading - priority attack triggered
[19:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3139.741, 792.5295), source=ENEMY (UziEnemyRight1), range=1200, listeners=6
[19:36:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[19:36:12] [ENEMY] [UziEnemyRight1] State: COMBAT -> RETREATING
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3044.708, 983.6138) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3044.967, 867.1833) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3007.917, 985.9255) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2991.875, 976.102) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3040.253, 903.5504) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2971.064, 951.9863) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2989.979, 990.5488) (added to group)
[19:36:12] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2996.552, 933.746) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3062.667, 1039.912) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3008.384, 928.4314) (added to group)
[19:36:12] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[19:36:12] [ENEMY] [ShotgunEnemy1] Player reloading: true -> false
[19:36:12] [ENEMY] [ShotgunEnemy2] Player reloading: true -> false
[19:36:12] [ENEMY] [UziEnemyRight1] Player reloading: true -> false
[19:36:12] [ENEMY] [ShotgunEnemyRight1] Player reloading: true -> false
[19:36:12] [ENEMY] [PatrolEnemy1] Player reloading: true -> false
[19:36:12] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[19:36:12] [ENEMY] [RpgEnemy1] Player reloading: true -> false
[19:36:12] [ENEMY] [ShotgunEnemy1] Player ammo empty: true -> false
[19:36:12] [ENEMY] [ShotgunEnemy2] Player ammo empty: true -> false
[19:36:12] [ENEMY] [UziEnemyRight1] Player ammo empty: true -> false
[19:36:12] [ENEMY] [ShotgunEnemyRight1] Player ammo empty: true -> false
[19:36:12] [ENEMY] [PatrolEnemy1] Player ammo empty: true -> false
[19:36:12] [ENEMY] [PatrolEnemy2] Player ammo empty: true -> false
[19:36:12] [ENEMY] [RpgEnemy1] Player ammo empty: true -> false
[19:36:12] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[19:36:12] [INFO] [PowerFantasy] Effect duration expired after 324.00 ms
[19:36:12] [INFO] [PowerFantasy] Ending power fantasy effect
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (1941.905, 308.9617) (added to group)
[19:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3078.515, 822.228), shooter_id=1279648597501, bullet_pos=(2888.987, 758.3616)
[19:36:12] [INFO] [Bullet] Using shooter_position, distance=199.999542236328
[19:36:12] [INFO] [Bullet] Distance to wall: 199.999542236328 (13.6183365976009% of viewport)
[19:36:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3058.373, 941.2352) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3065.044, 1045.428) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3031.426, 1006.716) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2988.637, 978.2822) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3085.571, 898.2585) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2997.328, 994.1019) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (1939.467, 252.3067) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (1958.015, 290.429) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (1887.504, 322.8232) (added to group)
[19:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3120.659, 821.6753), shooter_id=1279648597501, bullet_pos=(2204.906, 1530.993)
[19:36:12] [INFO] [Bullet] Using shooter_position, distance=1158.33312988281
[19:36:12] [INFO] [Bullet] Distance to wall: 1158.33312988281 (78.8730328005291% of viewport)
[19:36:12] [INFO] [Bullet] Distance-based penetration chance: 54.6481283993827%
[19:36:12] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2996.71, 974.4523) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (1898.886, 318.4931) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (1933.202, 293.9856) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (1900.632, 262.8007) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3023.406, 712.8787) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3028.769, 937.6555) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3055.846, 1052.067) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (3065.309, 1030.275) (added to group)
[19:36:12] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2959.629, 768.7883) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2998.518, 745.0035) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2930.497, 827.8947) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2953.868, 819.622) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2989.611, 836.533) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2987.759, 803.7347) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2938.587, 797.0735) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2997.808, 757.7187) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2932.309, 734.587) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2941.637, 855.0093) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2943.466, 805.1927) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2910.521, 803.9161) (added to group)
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2975.278, 829.7756) (added to group)
[19:36:12] [INFO] [ReplayManager] Recording frame 4200 (68,4s): player_valid=False, enemies=10
[19:36:12] [INFO] [BloodDecal] Blood puddle created at (2948.579, 713.5606) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (1881.766, 286.614) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2908.196, 771.8666) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2894.749, 876.1634) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2897.312, 874.0096) (added to group)
[19:36:13] [ENEMY] [ShotgunEnemyRight1] Ragdoll activated
[19:36:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2954.92, 850.21) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2931.744, 888.5419) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2961.395, 793.222) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2938.006, 776.2576) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2899.346, 819.5068) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2953.486, 824.8384) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2951.747, 890.6108) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2885.058, 928.1332) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2892.753, 789.3608) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2918.734, 829.0899) (added to group)
[19:36:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3142.257, 805.7029), source=ENEMY (UziEnemyRight1), range=1200, listeners=6
[19:36:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[19:36:13] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=23.3°, current=-129.2°, player=(2895,877), corner_timer=0.30
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2893.063, 937.0972) (added to group)
[19:36:13] [INFO] [BloodDecal] Blood puddle created at (2875.891, 873.4595) (added to group)
[19:36:13] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=161.0°, current=174.5°, player=(2895,877), corner_timer=0.30
[19:36:13] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=23.3°, current=-132.9°, player=(2895,877), corner_timer=0.30
[19:36:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3079.58, 832.2018), shooter_id=1279648597501, bullet_pos=(2259.385, 1327.867)
[19:36:13] [INFO] [Bullet] Using shooter_position, distance=958.333740234375
[19:36:13] [INFO] [Bullet] Distance to wall: 958.333740234375 (65.2547065929183% of viewport)
[19:36:13] [INFO] [Bullet] Distance-based penetration chance: 70.5361756415954%
[19:36:13] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:13] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=161.8°, current=-157.6°, player=(2895,877), corner_timer=0.30
[19:36:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3171.318, 807.0162), source=ENEMY (UziEnemyRight1), range=1200, listeners=6
[19:36:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[19:36:13] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=23.3°, current=-88.5°, player=(2895,877), corner_timer=0.30
[19:36:13] [INFO] [LastChance] Threat detected: @Area2D@4749
[19:36:13] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:13] [INFO] [Player] Spawning blood effect at (2895.6313, 877.9892), dir=(1, 0), lethal=False (C#)
[19:36:13] [INFO] [ImpactEffects] spawn_blood_effect called at (2895.631, 877.9892), dir=(1, 0), lethal=false
[19:36:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:13] [INFO] [ImpactEffects] Blood effect spawned at (2895.631, 877.9892) (scale=1)
[19:36:13] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=162.6°, current=162.2°, player=(2895,877), corner_timer=0.30
[19:36:13] [INFO] [ReplayManager] Recording frame 4260 (69,4s): player_valid=False, enemies=10
[19:36:14] [ENEMY] [ShotgunEnemyRight1] Death animation completed
[19:36:14] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=23.3°, current=-100.0°, player=(2895,877), corner_timer=0.30
[19:36:14] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=162.8°, current=-152.7°, player=(2895,877), corner_timer=0.30
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (2977.338, 948.9964) (added to group)
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (3006.677, 910.8069) (added to group)
[19:36:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3196.313, 806.1065), source=ENEMY (UziEnemyRight1), range=1200, listeners=6
[19:36:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (2985.15, 979.7468) (added to group)
[19:36:14] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=23.3°, current=-39.4°, player=(2895,877), corner_timer=0.30
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (3047.51, 996.2094) (added to group)
[19:36:14] [INFO] [LastChance] Threat detected: @Area2D@4752
[19:36:14] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:14] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:14] [INFO] [Player] Spawning blood effect at (2895.6313, 877.9892), dir=(1, 0), lethal=False (C#)
[19:36:14] [INFO] [ImpactEffects] spawn_blood_effect called at (2895.631, 877.9892), dir=(1, 0), lethal=false
[19:36:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:14] [INFO] [ImpactEffects] Blood effect spawned at (2895.631, 877.9892) (scale=1)
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (2994.226, 960.2374) (added to group)
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (3016.967, 903.1721) (added to group)
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (3097.945, 1025.054) (added to group)
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (2990.114, 999.8621) (added to group)
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (3048.793, 933.157) (added to group)
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (3017.02, 1022.154) (added to group)
[19:36:14] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=163.9°, current=-177.2°, player=(2895,877), corner_timer=0.30
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (2969.274, 863.4443) (added to group)
[19:36:14] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=23.3°, current=-26.4°, player=(2895,877), corner_timer=0.30
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (2940.224, 883.3052) (added to group)
[19:36:14] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=163.4°, current=-157.9°, player=(2895,877), corner_timer=0.30
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (2964.884, 940.777) (added to group)
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (2945.271, 882.3267) (added to group)
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (2981.693, 887.3185) (added to group)
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (3004.026, 902.2139) (added to group)
[19:36:14] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=23.3°, current=31.7°, player=(2895,877), corner_timer=0.30
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (2965.947, 920.52) (added to group)
[19:36:14] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=164.4°, current=150.6°, player=(2895,877), corner_timer=0.30
[19:36:14] [INFO] [BloodDecal] Blood puddle created at (2988.595, 930.4844) (added to group)
[19:36:14] [INFO] [ReplayManager] Recording frame 4320 (70,4s): player_valid=False, enemies=10
[19:36:15] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=23.3°, current=8.7°, player=(2895,877), corner_timer=0.30
[19:36:15] [INFO] [BloodDecal] Blood puddle created at (3072.012, 1025.219) (added to group)
[19:36:15] [INFO] [BloodDecal] Blood puddle created at (3076.989, 897.2687) (added to group)
[19:36:15] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=164.8°, current=-161.0°, player=(2895,877), corner_timer=0.30
[19:36:15] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=23.3°, current=-6.5°, player=(2895,877), corner_timer=0.30
[19:36:15] [INFO] [ReplayManager] Recording frame 4380 (71,4s): player_valid=False, enemies=10
[19:36:15] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=163.2°, current=-147.2°, player=(2908,877), corner_timer=0.30
[19:36:16] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=23.3°, current=41.7°, player=(2908,877), corner_timer=0.30
[19:36:16] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=163.6°, current=-154.2°, player=(2908,877), corner_timer=0.30
[19:36:16] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=23.3°, current=4.8°, player=(2908,877), corner_timer=0.30
[19:36:16] [ENEMY] [UziEnemyRight1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=162.0°, current=117.4°, player=(2908,877), corner_timer=0.30
[19:36:16] [ENEMY] [UziEnemyRight1] Hit: dmg=50, hp=2/3->-48/3
[19:36:16] [INFO] [ImpactEffects] spawn_blood_effect called at (3145.673, 799.6761), dir=(1, 0), lethal=true
[19:36:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:16] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:36:16] [INFO] [ImpactEffects] Blood effect spawned at (3145.673, 799.6761) (scale=1.5)
[19:36:16] [ENEMY] [UziEnemyRight1] Enemy died (ricochet: false, penetration: false)
[19:36:16] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[19:36:16] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:36:16] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:36:16] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:36:16] [INFO] [PowerFantasy]   - Duration: 300ms
[19:36:16] [INFO] [SoundPropagation] Unregistered listener: UziEnemyRight1 (remaining: 5)
[19:36:16] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:36:16] [ENEMY] [UziEnemyRight1] Death animation started with hit direction: (1, 0)
[19:36:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2908.854, 877.9892), source=PLAYER (SniperRifle), range=3000, listeners=5
[19:36:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[19:36:16] [INFO] [ReplayManager] Recording frame 4440 (72,4s): player_valid=False, enemies=10
[19:36:17] [INFO] [PowerFantasy] Effect duration expired after 314.00 ms
[19:36:17] [INFO] [PowerFantasy] Ending power fantasy effect
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3218.603, 812.6467) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3240.477, 812.2623) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3240.516, 834.4949) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3245.804, 788.8365) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3248.222, 822.8884) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3271.674, 828.5424) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3277.795, 846.6786) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3263.525, 884.5186) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3229.314, 809.9413) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3235.628, 824.7792) (added to group)
[19:36:17] [ENEMY] [UziEnemyRight1] Ragdoll activated
[19:36:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3289.122, 893.8623) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3256.738, 878.124) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3298.787, 869.4503) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3322.295, 897.0069) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3358.448, 852.1663) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3273.024, 954.7387) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3265.004, 898.5867) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3321.951, 957.7137) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3359.472, 1012.333) (added to group)
[19:36:17] [INFO] [BloodDecal] Blood puddle created at (3345.902, 892.9598) (added to group)
[19:36:17] [ENEMY] [ShotgunEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=7.5°, current=-22.5°, player=(2959,756), corner_timer=0.00
[19:36:17] [ENEMY] [ShotgunEnemy1] State: IDLE -> COMBAT
[19:36:17] [ENEMY] [ShotgunEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=9.3°, current=-22.5°, player=(2959,756), corner_timer=0.00
[19:36:17] [ENEMY] [ShotgunEnemy2] State: IDLE -> COMBAT
[19:36:17] [INFO] [ReplayManager] Recording frame 4500 (73,4s): player_valid=False, enemies=10
[19:36:18] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[19:36:18] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[19:36:18] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-29.9°, current=-29.6°, player=(2959,712), corner_timer=0.09
[19:36:18] [ENEMY] [PatrolEnemy2] State: SEEKING_COVER -> IN_COVER
[19:36:18] [ENEMY] [PatrolEnemy2] State: IN_COVER -> PURSUING
[19:36:18] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-150.8°, current=97.4°, player=(2959,672), corner_timer=0.17
[19:36:18] [ENEMY] [UziEnemyRight1] Death animation completed
[19:36:18] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-151.2°, current=160.4°, player=(2888,642), corner_timer=0.17
[19:36:18] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[19:36:18] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-151.5°, current=-88.2°, player=(2871,642), corner_timer=0.17
[19:36:18] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-151.5°, current=-102.7°, player=(2844,642), corner_timer=0.17
[19:36:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1249.69, 521.7141), source=ENEMY (ShotgunEnemy1), range=2000, listeners=5
[19:36:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=2
[19:36:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1649.13, 527.2314), source=ENEMY (ShotgunEnemy2), range=2000, listeners=5
[19:36:18] [ENEMY] [RpgEnemy1] Heard gunshot at (1649.13, 527.2314), source_type=1, intensity=0.01, distance=418
[19:36:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=1
[19:36:18] [ENEMY] [RpgEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=22.2°, current=-78.7°, player=(2838,642), corner_timer=0.00
[19:36:18] [ENEMY] [ShotgunEnemy2] Hit: dmg=1, hp=3/3->2/3
[19:36:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1702.203, 532.4957), dir=(1, 0), lethal=false
[19:36:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:18] [INFO] [ImpactEffects] Blood effect spawned at (1702.203, 532.4957) (scale=1)
[19:36:18] [ENEMY] [ShotgunEnemy2] Hit: dmg=1, hp=2/3->1/3
[19:36:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1702.203, 532.4957), dir=(1, 0), lethal=false
[19:36:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:18] [INFO] [ImpactEffects] Blood effect spawned at (1702.203, 532.4957) (scale=1)
[19:36:18] [ENEMY] [ShotgunEnemy2] Hit: dmg=1, hp=1/3->0/3
[19:36:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1702.203, 532.4957), dir=(1, 0), lethal=true
[19:36:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:18] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:36:18] [INFO] [ImpactEffects] Blood effect spawned at (1702.203, 532.4957) (scale=1.5)
[19:36:18] [ENEMY] [ShotgunEnemy2] Enemy died (ricochet: false, penetration: false)
[19:36:18] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[19:36:18] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:36:18] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:36:18] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:36:18] [INFO] [PowerFantasy]   - Duration: 300ms
[19:36:18] [ENEMY] [ShotgunEnemy2] [AllyDeath] Notified 2 enemies
[19:36:18] [INFO] [SoundPropagation] Unregistered listener: ShotgunEnemy2 (remaining: 4)
[19:36:18] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:36:18] [ENEMY] [ShotgunEnemy2] Death animation started with hit direction: (1, 0)
[19:36:18] [ENEMY] [RpgEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=24.4°, current=-22.9°, player=(2787,642), corner_timer=0.00
[19:36:18] [INFO] [ReplayManager] Recording frame 4560 (74,3s): player_valid=False, enemies=10
[19:36:19] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[19:36:19] [INFO] [PowerFantasy] Ending power fantasy effect
[19:36:19] [ENEMY] [ShotgunEnemy1] State: COMBAT -> RETREATING
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1788.615, 521.0391) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1772.454, 542.8983) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1796.764, 529.3177) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1768.385, 525.1117) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1796.371, 560.8391) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1792.904, 525.8809) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1800.014, 557.2078) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1747.128, 538.973) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1785.132, 537.8253) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1748.173, 564.0453) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1777.476, 557.6785) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1788.802, 527.6989) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1793.755, 561.8972) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1819.474, 595.8821) (added to group)
[19:36:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:19] [INFO] [Player] Spawning blood effect at (2695.4724, 571.3027), dir=(1, 0), lethal=False (C#)
[19:36:19] [INFO] [ImpactEffects] spawn_blood_effect called at (2695.472, 571.3027), dir=(1, 0), lethal=false
[19:36:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:19] [INFO] [ImpactEffects] Blood effect spawned at (2695.472, 571.3027) (scale=1)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1795.906, 572.0032) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1830.848, 613.0537) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1777.011, 593.4524) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1823.223, 571.9813) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1806.862, 579.0687) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1828.904, 620.1409) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1807.776, 555.088) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1778.45, 609.0919) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1818.27, 557.9578) (added to group)
[19:36:19] [ENEMY] [ShotgunEnemy2] Ragdoll activated
[19:36:19] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1776.036, 579.8651) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1809.38, 542.4901) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1817.862, 595.7518) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1806.19, 588.0915) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1808.877, 566.4521) (added to group)
[19:36:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3823.215, 1227.594), source=ENEMY (PatrolEnemy2), range=1200, listeners=4
[19:36:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1801.803, 577.5508) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1845.823, 537.7617) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1845.055, 551.1868) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1868.853, 526.5522) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1809.958, 567.2699) (added to group)
[19:36:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3804.872, 1216.701), source=ENEMY (PatrolEnemy2), range=1200, listeners=4
[19:36:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1886.865, 599.251) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1860.328, 558.7129) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1866.346, 538.1476) (added to group)
[19:36:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2238.147, 385.7672), source=ENEMY (RpgEnemy1), range=2500, listeners=4
[19:36:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (1852.585, 548.6445) (added to group)
[19:36:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3786.573, 1205.735), source=ENEMY (PatrolEnemy2), range=1200, listeners=4
[19:36:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[19:36:19] [ENEMY] [PatrolEnemy1] Warning: No valid flank position (both sides behind walls)
[19:36:19] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2436.654, 471.9461), side=right, pos=(1965.613, 1282.995)
[19:36:19] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (2760.175, 617.9058) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (2759.475, 593.8344) (added to group)
[19:36:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3768.311, 1194.707), source=ENEMY (PatrolEnemy2), range=1200, listeners=4
[19:36:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[19:36:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1351.337, 613.9336), source=ENEMY (ShotgunEnemy1), range=2000, listeners=4
[19:36:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=2
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (2796.861, 572.2717) (added to group)
[19:36:19] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -178.0°
[19:36:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3750.049, 1183.679), source=ENEMY (PatrolEnemy2), range=1200, listeners=4
[19:36:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[19:36:19] [INFO] [ReplayManager] Recording frame 4620 (75,1s): player_valid=False, enemies=10
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (2836.908, 654.4878) (added to group)
[19:36:19] [INFO] [BloodDecal] Blood puddle created at (2794.667, 649.8129) (added to group)
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3731.744, 1172.723), source=ENEMY (PatrolEnemy2), range=1200, listeners=4
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[19:36:20] [ENEMY] [RpgEnemy1] State: COMBAT -> RETREATING
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2830.292, 626.5502) (added to group)
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2818.911, 589.2236) (added to group)
[19:36:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3742.83, 1188.73), shooter_id=1281410207205, bullet_pos=(3241.501, 749.2806)
[19:36:20] [INFO] [Bullet] Using shooter_position, distance=666.66748046875
[19:36:20] [INFO] [Bullet] Distance to wall: 666.66748046875 (45.3946146385172% of viewport)
[19:36:20] [INFO] [Bullet] Distance-based penetration chance: 93.7062829217299%
[19:36:20] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:20] [INFO] [BloodyFeet:PatrolEnemy2] Blood ran out - no more footprints
[19:36:20] [ENEMY] [RpgEnemy1] State: RETREATING -> SUPPRESSED
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3713.359, 1161.902), source=ENEMY (PatrolEnemy2), range=1200, listeners=4
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[19:36:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3724.643, 1177.516), shooter_id=1281410207205, bullet_pos=(3221.951, 739.6262)
[19:36:20] [INFO] [Bullet] Using shooter_position, distance=666.668029785156
[19:36:20] [INFO] [Bullet] Distance to wall: 666.668029785156 (45.3946520424814% of viewport)
[19:36:20] [INFO] [Bullet] Distance-based penetration chance: 93.7062392837716%
[19:36:20] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2314.717, 408.932), source=ENEMY (RpgEnemy1), range=1469, listeners=4
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=2
[19:36:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3706.429, 1166.401), shooter_id=1281410207205, bullet_pos=(3299.564, 748.3844)
[19:36:20] [INFO] [Bullet] Using shooter_position, distance=583.332397460938
[19:36:20] [INFO] [Bullet] Distance to wall: 583.332397460938 (39.72017559681% of viewport)
[19:36:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:20] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3694.884, 1151.235), source=ENEMY (PatrolEnemy2), range=1200, listeners=4
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2314.717, 408.932), source=ENEMY (RpgEnemy1), range=1469, listeners=4
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=2
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2800.843, 659.0359) (added to group)
[19:36:20] [INFO] [LastChance] Threat detected: @Area2D@4958
[19:36:20] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:20] [INFO] [LastChance] Threat detected: Bullet9mm
[19:36:20] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3676.323, 1140.72), source=ENEMY (PatrolEnemy2), range=1200, listeners=4
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2876.281, 694.8232) (added to group)
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2314.717, 408.932), source=ENEMY (RpgEnemy1), range=1469, listeners=4
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=2
[19:36:20] [INFO] [LastChance] Threat detected: @Area2D@4969
[19:36:20] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:20] [ENEMY] [RpgEnemy1] State: SUPPRESSED -> SEEKING_COVER
[19:36:20] [ENEMY] [RpgEnemy1] State: SEEKING_COVER -> COMBAT
[19:36:20] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -178.6°
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3657.677, 1130.353), source=ENEMY (PatrolEnemy2), range=1200, listeners=4
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[19:36:20] [ENEMY] [RpgEnemy1] State: COMBAT -> RETREATING
[19:36:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2375.897, 438.0636), shooter_id=1282467171954, bullet_pos=(2832.994, 471.7198)
[19:36:20] [INFO] [Bullet] Using shooter_position, distance=458.333587646484
[19:36:20] [INFO] [Bullet] Distance to wall: 458.333587646484 (31.2087767840005% of viewport)
[19:36:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:20] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:20] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:20] [INFO] [Player] Spawning blood effect at (2489.7937, 490.31802), dir=(1, 0), lethal=False (C#)
[19:36:20] [INFO] [ImpactEffects] spawn_blood_effect called at (2489.794, 490.318), dir=(1, 0), lethal=false
[19:36:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:20] [INFO] [ImpactEffects] Blood effect spawned at (2489.794, 490.318) (scale=1)
[19:36:20] [ENEMY] [RpgEnemy1] State: RETREATING -> SUPPRESSED
[19:36:20] [ENEMY] [RpgEnemy1] Hit: dmg=1, hp=1/2->0/2
[19:36:20] [INFO] [ImpactEffects] spawn_blood_effect called at (2314.717, 408.932), dir=(-0.880047, -0.474887), lethal=true
[19:36:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:36:20] [INFO] [ImpactEffects] Blood effect spawned at (2314.717, 408.932) (scale=0.75)
[19:36:20] [ENEMY] [RpgEnemy1] Enemy died (ricochet: false, penetration: false)
[19:36:20] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[19:36:20] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:36:20] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:36:20] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:36:20] [INFO] [PowerFantasy]   - Duration: 300ms
[19:36:20] [INFO] [SoundPropagation] Unregistered listener: RpgEnemy1 (remaining: 3)
[19:36:20] [INFO] [DeathAnim] Started - Angle: -151.6 deg, Index: 1
[19:36:20] [ENEMY] [RpgEnemy1] Death animation started with hit direction: (-0.880047, -0.474887)
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3638.962, 1120.114), source=ENEMY (PatrolEnemy2), range=1200, listeners=3
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[19:36:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2375.017, 439.9505), shooter_id=1282467171954, bullet_pos=(2861.825, 554.0419)
[19:36:20] [INFO] [Bullet] Using shooter_position, distance=499.999450683594
[19:36:20] [INFO] [Bullet] Distance to wall: 499.999450683594 (34.0458820149635% of viewport)
[19:36:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:20] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3613.541, 1114.512), shooter_id=1281410207205, bullet_pos=(3464.894, 761.1721)
[19:36:20] [INFO] [Bullet] Using shooter_position, distance=383.333709716797
[19:36:20] [INFO] [Bullet] Distance to wall: 383.333709716797 (26.1018971831534% of viewport)
[19:36:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:20] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:20] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[19:36:20] [INFO] [PowerFantasy] Ending power fantasy effect
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3620.662, 1110.227), source=ENEMY (PatrolEnemy2), range=1200, listeners=3
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[19:36:20] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3601.858, 1100.151), source=ENEMY (PatrolEnemy2), range=1200, listeners=3
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3583.035, 1090.112), source=ENEMY (PatrolEnemy2), range=1200, listeners=3
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2557.934, 502.9198) (added to group)
[19:36:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3669.629, 1144.97), shooter_id=1281410207205, bullet_pos=(2398.387, 756.8666)
[19:36:20] [INFO] [Bullet] Using shooter_position, distance=1329.16528320313
[19:36:20] [INFO] [Bullet] Distance to wall: 1329.16528320313 (90.5053082527396% of viewport)
[19:36:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3557.421, 1085.105), shooter_id=1281410207205, bullet_pos=(3372.526, 758.8558)
[19:36:20] [INFO] [Bullet] Using shooter_position, distance=374.999572753906
[19:36:20] [INFO] [Bullet] Distance to wall: 374.999572753906 (25.5344104722236% of viewport)
[19:36:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:20] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2245.053, 405.9234) (added to group)
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2234.95, 407.6126) (added to group)
[19:36:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3651.015, 1134.67), shooter_id=1281410207205, bullet_pos=(2420.701, 755.2107)
[19:36:20] [INFO] [Bullet] Using shooter_position, distance=1287.501953125
[19:36:20] [INFO] [Bullet] Distance to wall: 1287.501953125 (87.6683754956116% of viewport)
[19:36:20] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -178.9°
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3564.207, 1080.082), source=ENEMY (PatrolEnemy2), range=1200, listeners=3
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2260.736, 423.3488) (added to group)
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2576.533, 556.0668) (added to group)
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2245.599, 380.1906) (added to group)
[19:36:20] [INFO] [ReplayManager] Recording frame 4680 (75,8s): player_valid=False, enemies=10
[19:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3545.379, 1070.053), source=ENEMY (PatrolEnemy2), range=1200, listeners=3
[19:36:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[19:36:20] [ENEMY] [ShotgunEnemy2] Death animation completed
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2248.422, 415.1578) (added to group)
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2229.192, 387.666) (added to group)
[19:36:20] [INFO] [BloodDecal] Blood puddle created at (2228.983, 403.7068) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2238.51, 343.54) (added to group)
[19:36:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3526.551, 1060.023), source=ENEMY (PatrolEnemy2), range=1200, listeners=3
[19:36:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2563.677, 533.0633) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2602.845, 521.1891) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2224.258, 356.5977) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2230.198, 352.2997) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2212.532, 421.1249) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2256.952, 419.4224) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2632.943, 484.7963) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2227.754, 442.1196) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2214.665, 400.5359) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2223.426, 376.6233) (added to group)
[19:36:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1430.3, 591.5355), source=ENEMY (ShotgunEnemy1), range=2000, listeners=3
[19:36:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[19:36:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3507.722, 1049.993), source=ENEMY (PatrolEnemy2), range=1200, listeners=3
[19:36:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[19:36:21] [ENEMY] [RpgEnemy1] Ragdoll activated
[19:36:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2160.74, 445.0482) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2223.664, 367.4789) (added to group)
[19:36:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3488.894, 1039.963), source=ENEMY (PatrolEnemy2), range=1200, listeners=3
[19:36:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2627.009, 568.1943) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2589.184, 576.8763) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2602.113, 518.7821) (added to group)
[19:36:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3463.221, 1035.125), shooter_id=1281410207205, bullet_pos=(3296.299, 746.5973)
[19:36:21] [INFO] [Bullet] Using shooter_position, distance=333.33349609375
[19:36:21] [INFO] [Bullet] Distance to wall: 333.33349609375 (22.6972906952745% of viewport)
[19:36:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:21] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3594.7, 1104.612), shooter_id=1281410207205, bullet_pos=(2161.354, 1532.431)
[19:36:21] [INFO] [Bullet] Using shooter_position, distance=1495.83056640625
[19:36:21] [INFO] [Bullet] Distance to wall: 1495.83056640625 (101.853853856472% of viewport)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2643.395, 527.4331) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2241.008, 433.8297) (added to group)
[19:36:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3575.835, 1094.734), shooter_id=1281410207205, bullet_pos=(2203.242, 1574.915)
[19:36:21] [INFO] [Bullet] Using shooter_position, distance=1454.16125488281
[19:36:21] [INFO] [Bullet] Distance to wall: 1454.16125488281 (99.0165138117341% of viewport)
[19:36:21] [INFO] [Bullet] Distance-based penetration chance: 31.1474005529769%
[19:36:21] [INFO] [Bullet] Penetration failed (distance roll)
[19:36:21] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -179.0°
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2180.999, 468.1278) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2216.49, 488.4986) (added to group)
[19:36:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3500.877, 1055.185), shooter_id=1281410207205, bullet_pos=(2632.484, 761.6343)
[19:36:21] [INFO] [Bullet] Using shooter_position, distance=916.666931152344
[19:36:21] [INFO] [Bullet] Distance to wall: 916.666931152344 (62.4175369440169% of viewport)
[19:36:21] [ENEMY] [PatrolEnemy1] Hit: dmg=1, hp=2/4->1/4
[19:36:21] [INFO] [ImpactEffects] spawn_blood_effect called at (1972.175, 916.7967), dir=(-0.941308, 0.33755), lethal=false
[19:36:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:21] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:21] [INFO] [ImpactEffects] Blood effect spawned at (1972.175, 916.7967) (scale=0.5)
[19:36:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3479.48, 1034.948), source=ENEMY (PatrolEnemy2), range=1200, listeners=3
[19:36:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (2707.173, 634.3995) (added to group)
[19:36:21] [ENEMY] [PatrolEnemy1] Hit: dmg=1, hp=1/4->0/4
[19:36:21] [INFO] [ImpactEffects] spawn_blood_effect called at (1972.574, 895.467), dir=(-0.939853, 0.34158), lethal=true
[19:36:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:21] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:36:21] [INFO] [ImpactEffects] Blood effect spawned at (1972.574, 895.467) (scale=0.75)
[19:36:21] [ENEMY] [PatrolEnemy1] Enemy died (ricochet: true, penetration: false)
[19:36:21] [INFO] [ScoreManager] Ricochet kill registered
[19:36:21] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[19:36:21] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:36:21] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:36:21] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:36:21] [INFO] [PowerFantasy]   - Duration: 300ms
[19:36:21] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy1 (remaining: 2)
[19:36:21] [INFO] [DeathAnim] Started - Angle: 160.0 deg, Index: 22
[19:36:21] [ENEMY] [PatrolEnemy1] Death animation started with hit direction: (-0.939853, 0.34158)
[19:36:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3688.104, 1155.529), shooter_id=1281410207205, bullet_pos=(944.4827, 662.8928)
[19:36:21] [INFO] [Bullet] Using shooter_position, distance=2787.4990234375
[19:36:21] [INFO] [Bullet] Distance to wall: 2787.4990234375 (189.805934264586% of viewport)
[19:36:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3479.48, 1034.948), source=ENEMY (PatrolEnemy2), range=1200, listeners=2
[19:36:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[19:36:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3444.392, 1025.095), shooter_id=1281410207205, bullet_pos=(2897.573, 601.5513)
[19:36:21] [INFO] [Bullet] Using shooter_position, distance=691.665771484375
[19:36:21] [INFO] [Bullet] Distance to wall: 691.665771484375 (47.096794241575% of viewport)
[19:36:21] [INFO] [Bullet] Distance-based penetration chance: 91.7204067181625%
[19:36:21] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:21] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[19:36:21] [INFO] [PowerFantasy] Ending power fantasy effect
[19:36:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-153.5°, current=-153.5°, player=(2385,490), corner_timer=0.17
[19:36:21] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (1912.343, 937.5188) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (1906.609, 966.8923) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (1926.087, 948.0904) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (1911.59, 911.86) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (1921.637, 963.2228) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (1921.144, 957.5861) (added to group)
[19:36:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3416.063, 1010.292), shooter_id=1281410207205, bullet_pos=(2582.884, 756.9919)
[19:36:21] [INFO] [Bullet] Using shooter_position, distance=870.832641601563
[19:36:21] [INFO] [Bullet] Distance to wall: 870.832641601563 (59.2965958866775% of viewport)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (1921.469, 914.7741) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (1878.471, 918.5878) (added to group)
[19:36:21] [INFO] [BloodDecal] Blood puddle created at (1904.16, 965.5927) (added to group)
[19:36:22] [INFO] [ReplayManager] Recording frame 4740 (76,5s): player_valid=False, enemies=10
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1848.542, 1007.777) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1844.462, 1008.056) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1868.137, 1028.083) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1910.792, 1006.154) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1830.23, 970.5814) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1874.499, 953.2206) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1800.376, 1002.596) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1904.742, 991.7475) (added to group)
[19:36:22] [ENEMY] [PatrolEnemy1] Ragdoll activated
[19:36:22] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1777.604, 979.4865) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1856.169, 1059.723) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1843.163, 998.1807) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1798.8, 1082.507) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1870.373, 1014.746) (added to group)
[19:36:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1521.137, 593.6728), source=ENEMY (ShotgunEnemy1), range=2000, listeners=2
[19:36:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1847.59, 991.1312) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1857.834, 1076.141) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1825.051, 1013.729) (added to group)
[19:36:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3594.7, 1104.612), shooter_id=1281410207205, bullet_pos=(1479.469, 1174.753)
[19:36:22] [INFO] [Bullet] Using shooter_position, distance=2116.3935546875
[19:36:22] [INFO] [Bullet] Distance to wall: 2116.3935546875 (144.109128843257% of viewport)
[19:36:22] [INFO] [Bullet] Distance-based penetration chance: 21.1781742313486%
[19:36:22] [INFO] [Bullet] Penetration failed (distance roll)
[19:36:22] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1851.051, 1061.001) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1822.093, 1082.941) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1746.821, 1019.59) (added to group)
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1792.134, 1110.075) (added to group)
[19:36:22] [ENEMY] [RpgEnemy1] Death animation completed
[19:36:22] [INFO] [BloodDecal] Blood puddle created at (1877.458, 1093.753) (added to group)
[19:36:22] [INFO] [ReplayManager] Recording frame 4800 (77,5s): player_valid=False, enemies=10
[19:36:23] [ENEMY] [PatrolEnemy1] Death animation completed
[19:36:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1535.277, 591.1545), source=ENEMY (ShotgunEnemy1), range=2000, listeners=2
[19:36:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[19:36:23] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:23] [INFO] [Player] Spawning blood effect at (1923.0654, 490.31802), dir=(1, 0), lethal=False (C#)
[19:36:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1923.065, 490.318), dir=(1, 0), lethal=false
[19:36:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:23] [INFO] [ImpactEffects] Blood effect spawned at (1923.065, 490.318) (scale=1)
[19:36:23] [INFO] [BloodDecal] Blood puddle created at (1995.646, 512.7088) (added to group)
[19:36:23] [INFO] [BloodDecal] Blood puddle created at (1983.748, 538.7827) (added to group)
[19:36:23] [INFO] [BloodDecal] Blood puddle created at (1983.137, 509.7583) (added to group)
[19:36:23] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 159.1°
[19:36:23] [INFO] [BloodDecal] Blood puddle created at (1987.147, 494.6483) (added to group)
[19:36:23] [INFO] [BloodDecal] Blood puddle created at (2028.627, 585.954) (added to group)
[19:36:23] [INFO] [BloodDecal] Blood puddle created at (2048.674, 535.323) (added to group)
[19:36:23] [INFO] [BloodDecal] Blood puddle created at (2058.506, 549.7787) (added to group)
[19:36:23] [INFO] [BloodDecal] Blood puddle created at (2039.774, 581.0038) (added to group)
[19:36:23] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 159.1°
[19:36:23] [INFO] [BloodDecal] Blood puddle created at (2072.828, 647.2857) (added to group)
[19:36:23] [ENEMY] [ShotgunEnemy1] Hit: dmg=50, hp=3/3->-47/3
[19:36:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1441.26, 601.2921), dir=(1, 0), lethal=true
[19:36:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:23] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:36:23] [INFO] [ImpactEffects] Blood effect spawned at (1441.26, 601.2921) (scale=1.5)
[19:36:23] [ENEMY] [ShotgunEnemy1] Enemy died (ricochet: false, penetration: false)
[19:36:23] [INFO] [ScoreManager] Kill registered. Combo: 6 (points: 10500)
[19:36:23] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:36:23] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:36:23] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:36:23] [INFO] [PowerFantasy]   - Duration: 300ms
[19:36:23] [INFO] [SoundPropagation] Unregistered listener: ShotgunEnemy1 (remaining: 1)
[19:36:23] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:36:23] [ENEMY] [ShotgunEnemy1] Death animation started with hit direction: (1, 0)
[19:36:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1838.343, 490.318), source=PLAYER (SniperRifle), range=3000, listeners=1
[19:36:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=1
[19:36:23] [INFO] [BloodDecal] Blood puddle created at (2111.069, 639.9897) (added to group)
[19:36:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-166.7°, current=-166.1°, player=(1838,490), corner_timer=0.26
[19:36:23] [INFO] [ReplayManager] Recording frame 4860 (78,5s): player_valid=False, enemies=10
[19:36:24] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[19:36:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-167.3°, current=136.2°, player=(1838,490), corner_timer=0.20
[19:36:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-167.3°, current=143.1°, player=(1838,490), corner_timer=0.20
[19:36:24] [INFO] [BloodyFeet:PatrolEnemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:36:24] [INFO] [PowerFantasy] Effect duration expired after 315.00 ms
[19:36:24] [INFO] [PowerFantasy] Ending power fantasy effect
[19:36:24] [INFO] [BloodDecal] Blood puddle created at (1489.905, 612.2716) (added to group)
[19:36:24] [INFO] [BloodDecal] Blood puddle created at (1525.202, 636.4465) (added to group)
[19:36:24] [INFO] [BloodDecal] Blood puddle created at (1527.94, 630.2206) (added to group)
[19:36:24] [INFO] [BloodDecal] Blood puddle created at (1488.219, 637.509) (added to group)
[19:36:24] [INFO] [BloodDecal] Blood puddle created at (1518.811, 627.2856) (added to group)
[19:36:24] [INFO] [BloodDecal] Blood puddle created at (1552.645, 589.2793) (added to group)
[19:36:24] [ENEMY] [ShotgunEnemy1] Ragdoll activated
[19:36:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:36:24] [INFO] [BloodDecal] Blood puddle created at (1594.143, 613.1843) (added to group)
[19:36:24] [INFO] [BloodDecal] Blood puddle created at (1610.838, 624.7294) (added to group)
[19:36:24] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[19:36:24] [INFO] [ReplayManager] Recording frame 4920 (79,5s): player_valid=False, enemies=10
[19:36:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-167.7°, current=-167.7°, player=(1749,490), corner_timer=0.20
[19:36:25] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[19:36:25] [ENEMY] [ShotgunEnemy1] Death animation completed
[19:36:25] [INFO] [ReplayManager] Recording frame 4980 (80,5s): player_valid=False, enemies=10
[19:36:26] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 123.7°
[19:36:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-171.8°, current=-167.3°, player=(1178,490), corner_timer=0.30
[19:36:26] [INFO] [ReplayManager] Recording frame 5040 (81,5s): player_valid=False, enemies=10
[19:36:27] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[19:36:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2868.576, 713.9337), source=ENEMY (PatrolEnemy2), range=1200, listeners=1
[19:36:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[19:36:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2847.944, 713.934), source=ENEMY (PatrolEnemy2), range=1200, listeners=1
[19:36:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[19:36:27] [INFO] [ReplayManager] Recording frame 5100 (82,5s): player_valid=False, enemies=10
[19:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2827.289, 713.9338), source=ENEMY (PatrolEnemy2), range=1200, listeners=1
[19:36:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[19:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2806.61, 713.9337), source=ENEMY (PatrolEnemy2), range=1200, listeners=1
[19:36:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[19:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2785.906, 713.934), source=ENEMY (PatrolEnemy2), range=1200, listeners=1
[19:36:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[19:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2765.176, 713.9338), source=ENEMY (PatrolEnemy2), range=1200, listeners=1
[19:36:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[19:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2744.42, 713.934), source=ENEMY (PatrolEnemy2), range=1200, listeners=1
[19:36:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[19:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2723.635, 713.9338), source=ENEMY (PatrolEnemy2), range=1200, listeners=1
[19:36:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[19:36:28] [INFO] [LastChance] Threat detected: @Area2D@5238
[19:36:28] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2702.821, 713.934), source=ENEMY (PatrolEnemy2), range=1200, listeners=1
[19:36:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[19:36:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2738.62, 710.8939), shooter_id=1281410207205, bullet_pos=(1889.773, 364.8611)
[19:36:28] [INFO] [Bullet] Using shooter_position, distance=916.667846679688
[19:36:28] [INFO] [Bullet] Distance to wall: 916.667846679688 (62.4175992839572% of viewport)
[19:36:28] [INFO] [Bullet] Distance-based penetration chance: 73.8461341687166%
[19:36:28] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:28] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:28] [INFO] [Player] Spawning blood effect at (1543.3986, 490.31802), dir=(1, 0), lethal=False (C#)
[19:36:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1543.399, 490.318), dir=(1, 0), lethal=false
[19:36:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:28] [INFO] [ImpactEffects] Blood effect spawned at (1543.399, 490.318) (scale=1)
[19:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2681.976, 713.9337), source=ENEMY (PatrolEnemy2), range=1200, listeners=1
[19:36:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[19:36:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2800.554, 711.7953), shooter_id=1281410207205, bullet_pos=(1257.564, 356.6534)
[19:36:28] [INFO] [Bullet] Using shooter_position, distance=1583.33239746094
[19:36:28] [INFO] [Bullet] Distance to wall: 1583.33239746094 (107.812014434665% of viewport)
[19:36:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2759.286, 711.212), shooter_id=1281410207205, bullet_pos=(1516.863, 357.965)
[19:36:28] [INFO] [Bullet] Using shooter_position, distance=1291.66552734375
[19:36:28] [INFO] [Bullet] Distance to wall: 1291.66552734375 (87.9518809203041% of viewport)
[19:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2661.1, 713.9338), source=ENEMY (PatrolEnemy2), range=1200, listeners=1
[19:36:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[19:36:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2717.931, 710.5562), shooter_id=1281410207205, bullet_pos=(1737.848, 357.6998)
[19:36:28] [INFO] [Bullet] Using shooter_position, distance=1041.66735839844
[19:36:28] [INFO] [Bullet] Distance to wall: 1041.66735839844 (70.929045890721% of viewport)
[19:36:28] [INFO] [Bullet] Distance-based penetration chance: 63.9161131274922%
[19:36:28] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:28] [INFO] [LastChance] Threat detected: @Area2D@5250
[19:36:28] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:28] [INFO] [BloodDecal] Blood puddle created at (1581.639, 492.6452) (added to group)
[19:36:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2676.485, 709.8135), shooter_id=1281410207205, bullet_pos=(1652.292, 356.7648)
[19:36:28] [INFO] [Bullet] Using shooter_position, distance=1083.3349609375
[19:36:28] [INFO] [Bullet] Distance to wall: 1083.3349609375 (73.7662695675706% of viewport)
[19:36:28] [INFO] [BloodDecal] Blood puddle created at (1614.857, 513.5295) (added to group)
[19:36:28] [INFO] [LastChance] Threat detected: @Area2D@5258
[19:36:28] [INFO] [LastChance] Not in hard mode - effect disabled
[19:36:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[19:36:28] [INFO] [BloodDecal] Blood puddle created at (1598.456, 518.9393) (added to group)
[19:36:28] [INFO] [BloodDecal] Blood puddle created at (1596.379, 523.2652) (added to group)
[19:36:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2655.725, 709.4037), shooter_id=1281410207205, bullet_pos=(1632.318, 354.0909)
[19:36:28] [INFO] [Bullet] Using shooter_position, distance=1083.33264160156
[19:36:28] [INFO] [Bullet] Distance to wall: 1083.33264160156 (73.7661116397218% of viewport)
[19:36:28] [INFO] [Bullet] Distance-based penetration chance: 60.6062030869913%
[19:36:28] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:28] [INFO] [Player] Hit blocked by invincibility mode (C#)
[19:36:28] [INFO] [Player] Spawning blood effect at (1664.3986, 490.31802), dir=(1, 0), lethal=False (C#)
[19:36:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1664.399, 490.318), dir=(1, 0), lethal=false
[19:36:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[19:36:28] [INFO] [ImpactEffects] Blood effect spawned at (1664.399, 490.318) (scale=1)
[19:36:28] [INFO] [BloodDecal] Blood puddle created at (1612.634, 514.0751) (added to group)
[19:36:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2697.22, 710.1965), shooter_id=1281410207205, bullet_pos=(1068.235, 357.7942)
[19:36:28] [INFO] [Bullet] Using shooter_position, distance=1666.66662597656
[19:36:28] [INFO] [Bullet] Distance to wall: 1666.66662597656 (113.486395292428% of viewport)
[19:36:28] [INFO] [Bullet] Distance-based penetration chance: 27.3027209415143%
[19:36:28] [INFO] [Bullet] Penetration failed (distance roll)
[19:36:28] [INFO] [BloodDecal] Blood puddle created at (1631.757, 506.1229) (added to group)
[19:36:28] [INFO] [BloodDecal] Blood puddle created at (1637.332, 515.3459) (added to group)
[19:36:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2614.131, 708.4947), shooter_id=1281410207205, bullet_pos=(1632.15, 360.9541)
[19:36:28] [INFO] [Bullet] Using shooter_position, distance=1041.66748046875
[19:36:28] [INFO] [Bullet] Distance to wall: 1041.66748046875 (70.929054202713% of viewport)
[19:36:28] [INFO] [ScoreManager] Combo ended at 6. Max combo: 6
[19:36:28] [INFO] [ReplayManager] Recording frame 5160 (83,5s): player_valid=False, enemies=10
[19:36:28] [INFO] [BloodDecal] Blood puddle created at (1654.215, 525.6483) (added to group)
[19:36:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2800.554, 711.7953), shooter_id=1281410207205, bullet_pos=(811.1768, 444.761)
[19:36:28] [INFO] [Bullet] Using shooter_position, distance=2007.21899414063
[19:36:28] [INFO] [Bullet] Distance to wall: 2007.21899414063 (136.675232261306% of viewport)
[19:36:28] [INFO] [Bullet] Distance-based penetration chance: 22.6649535477389%
[19:36:28] [INFO] [Bullet] Penetration failed (distance roll)
[19:36:29] [INFO] [BloodDecal] Blood puddle created at (1694.536, 629.5051) (added to group)
[19:36:29] [INFO] [BloodDecal] Blood puddle created at (1705.765, 557.1431) (added to group)
[19:36:29] [INFO] [BloodDecal] Blood puddle created at (1702.792, 489.4297) (added to group)
[19:36:29] [INFO] [BloodDecal] Blood puddle created at (1739.801, 470.0135) (added to group)
[19:36:29] [INFO] [BloodDecal] Blood puddle created at (1770.004, 508.6749) (added to group)
[19:36:29] [INFO] [BloodDecal] Blood puddle created at (1716.917, 499.2426) (added to group)
[19:36:29] [INFO] [BloodDecal] Blood puddle created at (1766.706, 516.5249) (added to group)
[19:36:29] [INFO] [BloodDecal] Blood puddle created at (1762.062, 522.3647) (added to group)
[19:36:29] [INFO] [BloodDecal] Blood puddle created at (1750.151, 494.5517) (added to group)
[19:36:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2759.286, 711.212), shooter_id=1281410207205, bullet_pos=(804.2557, 607.3961)
[19:36:29] [INFO] [Bullet] Using shooter_position, distance=1957.78479003906
[19:36:29] [INFO] [Bullet] Distance to wall: 1957.78479003906 (133.309166402544% of viewport)
[19:36:29] [INFO] [Bullet] Distance-based penetration chance: 23.3381667194911%
[19:36:29] [INFO] [Bullet] Penetration failed (distance roll)
[19:36:29] [INFO] [BloodDecal] Blood puddle created at (1758.196, 514.1591) (added to group)
[19:36:29] [INFO] [BloodDecal] Blood puddle created at (1785.763, 540.2851) (added to group)
[19:36:29] [INFO] [BloodDecal] Blood puddle created at (1753.545, 565.6895) (added to group)
[19:36:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2676.485, 709.8135), shooter_id=1281410207205, bullet_pos=(810.2496, 505.0476)
[19:36:29] [INFO] [Bullet] Using shooter_position, distance=1877.43518066406
[19:36:29] [INFO] [Bullet] Distance to wall: 1877.43518066406 (127.838013750297% of viewport)
[19:36:29] [INFO] [Bullet] Distance-based penetration chance: 24.4323972499405%
[19:36:29] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2614.131, 708.4947), shooter_id=1281410207205, bullet_pos=(894.7097, 639.6095)
[19:36:29] [INFO] [Bullet] Using shooter_position, distance=1720.80102539063
[19:36:29] [INFO] [Bullet] Distance to wall: 1720.80102539063 (117.172506092915% of viewport)
[19:36:29] [INFO] [Bullet] Distance-based penetration chance: 26.565498781417%
[19:36:29] [INFO] [Bullet] Penetration failed (distance roll)
[19:36:29] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[19:36:29] [INFO] [ReplayManager] Recording frame 5220 (84,5s): player_valid=False, enemies=10
[19:36:30] [INFO] [ReplayManager] Recording frame 5280 (85,5s): player_valid=False, enemies=10
[19:36:31] [ENEMY] [PatrolEnemy2] State: COMBAT -> SEEKING_COVER
[19:36:31] [ENEMY] [PatrolEnemy2] Hit: dmg=50, hp=1/3->-49/3
[19:36:31] [INFO] [ImpactEffects] spawn_blood_effect called at (2484.491, 710.2509), dir=(1, 0), lethal=true
[19:36:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[19:36:31] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[19:36:31] [INFO] [ImpactEffects] Blood effect spawned at (2484.491, 710.2509) (scale=1.5)
[19:36:31] [ENEMY] [PatrolEnemy2] Enemy died (ricochet: false, penetration: false)
[19:36:31] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[19:36:31] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[19:36:31] [INFO] [PowerFantasy] Starting power fantasy effect:
[19:36:31] [INFO] [PowerFantasy]   - Time scale: 0.10
[19:36:31] [INFO] [PowerFantasy]   - Duration: 300ms
[19:36:31] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy2 (remaining: 0)
[19:36:31] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[19:36:31] [ENEMY] [PatrolEnemy2] Death animation started with hit direction: (1, 0)
[19:36:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2235.648, 608.4239), source=PLAYER (SniperRifle), range=3000, listeners=0
[19:36:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[19:36:31] [INFO] [BloodDecal] Blood puddle created at (2536.02, 724.167) (added to group)
[19:36:31] [INFO] [PowerFantasy] Effect duration expired after 315.00 ms
[19:36:31] [INFO] [PowerFantasy] Ending power fantasy effect
[19:36:31] [INFO] [BloodDecal] Blood puddle created at (2544.24, 729.7189) (added to group)
[19:36:31] [INFO] [BloodDecal] Blood puddle created at (2560.827, 729.0019) (added to group)
[19:36:31] [INFO] [BloodDecal] Blood puddle created at (2544.222, 711.1221) (added to group)
[19:36:31] [INFO] [BloodDecal] Blood puddle created at (2578.247, 709.7854) (added to group)
[19:36:31] [INFO] [BloodDecal] Blood puddle created at (2597.085, 697.2195) (added to group)
[19:36:31] [INFO] [BloodDecal] Blood puddle created at (2606.168, 694.6743) (added to group)
[19:36:31] [ENEMY] [PatrolEnemy2] Ragdoll activated
[19:36:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[19:36:31] [INFO] [BloodDecal] Blood puddle created at (2647.802, 711.4816) (added to group)
[19:36:31] [INFO] [BloodDecal] Blood puddle created at (2614.465, 736.1575) (added to group)
[19:36:31] [INFO] [ReplayManager] Recording frame 5340 (86,4s): player_valid=False, enemies=10
[19:36:32] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[19:36:32] [ENEMY] [PatrolEnemy2] Death animation completed
[19:36:32] [INFO] [ReplayManager] Recording frame 5400 (87,4s): player_valid=False, enemies=10
[19:36:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:ShotgunEnemy1] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:ShotgunEnemy1] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:ShotgunEnemy1] BloodyFeetComponent ready on ShotgunEnemy1
[19:36:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[19:36:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[19:36:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[19:36:33] [INFO] [CinemaEffects] Scene changed to: CastleLevel
[19:36:33] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[19:36:33] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[19:36:33] [ENEMY] [ShotgunEnemy1] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:ShotgunEnemy2] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:ShotgunEnemy2] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:ShotgunEnemy2] BloodyFeetComponent ready on ShotgunEnemy2
[19:36:33] [ENEMY] [ShotgunEnemy2] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:UziEnemy1] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:UziEnemy1] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:UziEnemy1] BloodyFeetComponent ready on UziEnemy1
[19:36:33] [ENEMY] [UziEnemy1] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:UziEnemy2] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:UziEnemy2] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:UziEnemy2] BloodyFeetComponent ready on UziEnemy2
[19:36:33] [ENEMY] [UziEnemy2] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:UziEnemy3] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:UziEnemy3] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:UziEnemy3] BloodyFeetComponent ready on UziEnemy3
[19:36:33] [ENEMY] [UziEnemy3] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:UziEnemyRight1] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:UziEnemyRight1] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:UziEnemyRight1] BloodyFeetComponent ready on UziEnemyRight1
[19:36:33] [ENEMY] [UziEnemyRight1] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:ShotgunEnemyRight1] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:ShotgunEnemyRight1] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:ShotgunEnemyRight1] BloodyFeetComponent ready on ShotgunEnemyRight1
[19:36:33] [ENEMY] [ShotgunEnemyRight1] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:UziEnemyCenter1] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:UziEnemyCenter1] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:UziEnemyCenter1] BloodyFeetComponent ready on UziEnemyCenter1
[19:36:33] [ENEMY] [UziEnemyCenter1] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:UziEnemyCenter2] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:UziEnemyCenter2] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:UziEnemyCenter2] BloodyFeetComponent ready on UziEnemyCenter2
[19:36:33] [ENEMY] [UziEnemyCenter2] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[19:36:33] [ENEMY] [PatrolEnemy1] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[19:36:33] [ENEMY] [PatrolEnemy2] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:LowerEnemy1] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:LowerEnemy1] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:LowerEnemy1] BloodyFeetComponent ready on LowerEnemy1
[19:36:33] [ENEMY] [LowerEnemy1] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:LowerEnemy2] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:LowerEnemy2] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:LowerEnemy2] BloodyFeetComponent ready on LowerEnemy2
[19:36:33] [ENEMY] [LowerEnemy2] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:RpgEnemy1] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:RpgEnemy1] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:RpgEnemy1] BloodyFeetComponent ready on RpgEnemy1
[19:36:33] [ENEMY] [RpgEnemy1] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:RpgEnemy2] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:RpgEnemy2] Found EnemyModel for facing direction
[19:36:33] [INFO] [BloodyFeet:RpgEnemy2] BloodyFeetComponent ready on RpgEnemy2
[19:36:33] [ENEMY] [RpgEnemy2] Death animation component initialized
[19:36:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[19:36:33] [INFO] [BloodyFeet:Player] Footprint scene loaded
[19:36:33] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[19:36:33] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[19:36:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[19:36:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[19:36:33] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[19:36:33] [INFO] [Player.Weapon] Removed default MakarovPM
[19:36:33] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[19:36:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[19:36:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[19:36:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[19:36:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[19:36:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[19:36:33] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[19:36:33] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[19:36:33] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[19:36:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[19:36:33] [INFO] [CastleLevel] Found Environment/Enemies node with 15 children
[19:36:33] [INFO] [CastleLevel] Child 'ShotgunEnemy1': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'ShotgunEnemy2': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'UziEnemy1': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'UziEnemy2': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'UziEnemy3': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'UziEnemyRight1': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'ShotgunEnemyRight1': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'UziEnemyCenter1': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'UziEnemyCenter2': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'PatrolEnemy1': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'PatrolEnemy2': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'LowerEnemy1': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'LowerEnemy2': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'RpgEnemy1': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Child 'RpgEnemy2': script=true, has_died_signal=true
[19:36:33] [INFO] [CastleLevel] Enemy tracking complete: 15 enemies registered
[19:36:33] [INFO] [ScoreManager] Level started with 15 enemies
[19:36:33] [INFO] [BloodyFeet:ShotgunEnemy1] Blood detector created and attached to ShotgunEnemy1
[19:36:33] [INFO] [CinemaEffects] Found player node: Player
[19:36:33] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[19:36:33] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy1 (total: 1)
[19:36:33] [ENEMY] [ShotgunEnemy1] Registered as sound listener
[19:36:33] [ENEMY] [ShotgunEnemy1] Spawned at (1000, 500), hp: 4, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:ShotgunEnemy2] Blood detector created and attached to ShotgunEnemy2
[19:36:33] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy2 (total: 2)
[19:36:33] [ENEMY] [ShotgunEnemy2] Registered as sound listener
[19:36:33] [ENEMY] [ShotgunEnemy2] Spawned at (1400, 500), hp: 2, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:UziEnemy1] Blood detector created and attached to UziEnemy1
[19:36:33] [INFO] [SoundPropagation] Registered listener: UziEnemy1 (total: 3)
[19:36:33] [ENEMY] [UziEnemy1] Registered as sound listener
[19:36:33] [ENEMY] [UziEnemy1] Spawned at (2500, 550), hp: 4, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:UziEnemy2] Blood detector created and attached to UziEnemy2
[19:36:33] [INFO] [SoundPropagation] Registered listener: UziEnemy2 (total: 4)
[19:36:33] [ENEMY] [UziEnemy2] Registered as sound listener
[19:36:33] [ENEMY] [UziEnemy2] Spawned at (3500, 550), hp: 2, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:UziEnemy3] Blood detector created and attached to UziEnemy3
[19:36:33] [INFO] [SoundPropagation] Registered listener: UziEnemy3 (total: 5)
[19:36:33] [ENEMY] [UziEnemy3] Registered as sound listener
[19:36:33] [ENEMY] [UziEnemy3] Spawned at (3000, 300), hp: 4, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:UziEnemyRight1] Blood detector created and attached to UziEnemyRight1
[19:36:33] [INFO] [SoundPropagation] Registered listener: UziEnemyRight1 (total: 6)
[19:36:33] [ENEMY] [UziEnemyRight1] Registered as sound listener
[19:36:33] [ENEMY] [UziEnemyRight1] Spawned at (4800, 500), hp: 2, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:ShotgunEnemyRight1] Blood detector created and attached to ShotgunEnemyRight1
[19:36:33] [INFO] [SoundPropagation] Registered listener: ShotgunEnemyRight1 (total: 7)
[19:36:33] [ENEMY] [ShotgunEnemyRight1] Registered as sound listener
[19:36:33] [ENEMY] [ShotgunEnemyRight1] Spawned at (5000, 500), hp: 2, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:UziEnemyCenter1] Blood detector created and attached to UziEnemyCenter1
[19:36:33] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter1 (total: 8)
[19:36:33] [ENEMY] [UziEnemyCenter1] Registered as sound listener
[19:36:33] [ENEMY] [UziEnemyCenter1] Spawned at (2200, 1050), hp: 2, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:UziEnemyCenter2] Blood detector created and attached to UziEnemyCenter2
[19:36:33] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter2 (total: 9)
[19:36:33] [ENEMY] [UziEnemyCenter2] Registered as sound listener
[19:36:33] [ENEMY] [UziEnemyCenter2] Spawned at (3800, 1050), hp: 4, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[19:36:33] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 10)
[19:36:33] [ENEMY] [PatrolEnemy1] Registered as sound listener
[19:36:33] [ENEMY] [PatrolEnemy1] Spawned at (1100, 1050), hp: 4, behavior: PATROL
[19:36:33] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[19:36:33] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 11)
[19:36:33] [ENEMY] [PatrolEnemy2] Registered as sound listener
[19:36:33] [ENEMY] [PatrolEnemy2] Spawned at (4900, 1050), hp: 3, behavior: PATROL
[19:36:33] [INFO] [BloodyFeet:LowerEnemy1] Blood detector created and attached to LowerEnemy1
[19:36:33] [INFO] [SoundPropagation] Registered listener: LowerEnemy1 (total: 12)
[19:36:33] [ENEMY] [LowerEnemy1] Registered as sound listener
[19:36:33] [ENEMY] [LowerEnemy1] Spawned at (2150, 1250), hp: 2, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:LowerEnemy2] Blood detector created and attached to LowerEnemy2
[19:36:33] [INFO] [SoundPropagation] Registered listener: LowerEnemy2 (total: 13)
[19:36:33] [ENEMY] [LowerEnemy2] Registered as sound listener
[19:36:33] [ENEMY] [LowerEnemy2] Spawned at (3850, 1250), hp: 2, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:RpgEnemy1] Blood detector created and attached to RpgEnemy1
[19:36:33] [INFO] [SoundPropagation] Registered listener: RpgEnemy1 (total: 14)
[19:36:33] [ENEMY] [RpgEnemy1] Registered as sound listener
[19:36:33] [ENEMY] [RpgEnemy1] Spawned at (2000, 300), hp: 1, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:RpgEnemy2] Blood detector created and attached to RpgEnemy2
[19:36:33] [INFO] [SoundPropagation] Registered listener: RpgEnemy2 (total: 15)
[19:36:33] [ENEMY] [RpgEnemy2] Registered as sound listener
[19:36:33] [ENEMY] [RpgEnemy2] Spawned at (4200, 1050), hp: 2, behavior: GUARD
[19:36:33] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[19:36:33] [ENEMY] [ShotgunEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [ShotgunEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [UziEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [UziEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [UziEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [UziEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=22.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [LowerEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [LowerEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [RpgEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [RpgEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=52.7°, current=2.9°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [UziEnemyCenter1] State: IDLE -> COMBAT
[19:36:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[19:36:33] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[19:36:33] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[19:36:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[19:36:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[19:36:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[19:36:33] [INFO] [LastChance] Found player: Player
[19:36:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[19:36:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[19:36:33] [INFO] [LastChance] Connected to player Died signal (C#)
[19:36:33] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[19:36:33] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=127.3°, current=77.3°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [UziEnemyCenter2] State: IDLE -> COMBAT
[19:36:33] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=127.3°, current=-149.6°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [LowerEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[19:36:33] [ENEMY] [LowerEnemy1] State: IDLE -> PURSUING
[19:36:33] [ENEMY] [LowerEnemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[19:36:33] [ENEMY] [LowerEnemy2] State: IDLE -> PURSUING
[19:36:33] [ENEMY] [RpgEnemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[19:36:33] [ENEMY] [RpgEnemy2] State: IDLE -> PURSUING
[19:36:33] [ENEMY] [UziEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[19:36:33] [ENEMY] [UziEnemy1] State: IDLE -> PURSUING
[19:36:33] [ENEMY] [UziEnemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[19:36:33] [ENEMY] [UziEnemy2] State: IDLE -> PURSUING
[19:36:33] [ENEMY] [LowerEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=45.0°, current=-45.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [LowerEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=135.0°, current=-45.0°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [RpgEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=138.8°, current=85.9°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [RpgEnemy2] PURSUING_MEMORY corner check: angle 15.4°
[19:36:33] [ENEMY] [UziEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=72.1°, current=88.8°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [UziEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=107.9°, current=-88.8°, player=(3000,2100), corner_timer=0.00
[19:36:33] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -0.4°
[19:36:33] [ENEMY] [LowerEnemy2] PURSUING corner check: angle 0.0°
[19:36:33] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[19:36:33] [ENEMY] [UziEnemy2] PURSUING corner check: angle 27.0°
[19:36:33] [INFO] [ReplayManager] Recording frame 5460 (88,4s): player_valid=False, enemies=10
[19:36:33] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=127.3°, current=176.0°, player=(3000,2100), corner_timer=0.00
[19:36:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2351.912, 1249.389), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:36:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=3
[19:36:34] [ENEMY] [RpgEnemy2] PURSUING corner check: angle 43.3°
[19:36:34] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[19:36:34] [ENEMY] [UziEnemy2] PURSUING corner check: angle 27.0°
[19:36:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2364.841, 1266.358), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:36:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:36:34] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -0.6°
[19:36:34] [ENEMY] [LowerEnemy2] PURSUING corner check: angle 0.2°
[19:36:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2368.4, 1287.347), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:36:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:36:34] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=39.7°, current=39.9°, player=(3000,2100), corner_timer=0.27
[19:36:34] [ENEMY] [LowerEnemy1] State: PURSUING -> COMBAT
[19:36:34] [ENEMY] [LowerEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=140.3°, current=114.0°, player=(3000,2100), corner_timer=0.27
[19:36:34] [ENEMY] [LowerEnemy2] State: PURSUING -> COMBAT
[19:36:34] [ENEMY] [UziEnemy3] Memory: medium confidence (0.76) - transitioning to PURSUING
[19:36:34] [ENEMY] [UziEnemy3] State: IDLE -> PURSUING
[19:36:34] [ENEMY] [UziEnemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=90.0°, current=123.7°, player=(3000,2100), corner_timer=0.00
[19:36:34] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -81.4°
[19:36:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2366.404, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:36:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:36:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2403.739, 1345.526), shooter_id=3964036712934, bullet_pos=(2498.159, 1531.235)
[19:36:34] [INFO] [Bullet] Using shooter_position, distance=208.333526611328
[19:36:34] [INFO] [Bullet] Distance to wall: 208.333526611328 (14.1858129185406% of viewport)
[19:36:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:34] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2362.505, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=15
[19:36:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=11, self=1, below_threshold=2
[19:36:34] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=51.3°, current=51.3°, player=(3000,2100), corner_timer=0.00
[19:36:34] [ENEMY] [UziEnemyCenter1] State: COMBAT -> PURSUING
[19:36:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2398.605, 1359.624), shooter_id=3964036712934, bullet_pos=(2479.605, 1551.566)
[19:36:34] [INFO] [Bullet] Using shooter_position, distance=208.333251953125
[19:36:34] [INFO] [Bullet] Distance to wall: 208.333251953125 (14.1857942165585% of viewport)
[19:36:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:34] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:34] [ENEMY] [RpgEnemy2] PURSUING corner check: angle 42.9°
[19:36:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3648.088, 1249.389), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:36:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=11, self=1, below_threshold=1
[19:36:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3635.159, 1266.358), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:36:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=11, self=1, below_threshold=1
[19:36:34] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -113.7°
[19:36:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3622.23, 1283.327), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:36:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=11, self=1, below_threshold=1
[19:36:34] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=40.0°, current=40.0°, player=(3000,2100), corner_timer=0.27
[19:36:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3609.302, 1300.296), source=ENEMY (UziEnemyCenter2), range=1200, listeners=15
[19:36:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=11, self=1, below_threshold=1
[19:36:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3587.466, 1341.825), shooter_id=3964389036810, bullet_pos=(3497.966, 1529.955)
[19:36:34] [INFO] [Bullet] Using shooter_position, distance=208.333358764648
[19:36:34] [INFO] [Bullet] Distance to wall: 208.333358764648 (14.1858014895516% of viewport)
[19:36:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[19:36:34] [INFO] [Bullet] Caliber cannot penetrate walls
[19:36:34] [ENEMY] [LowerEnemy1] State: COMBAT -> PURSUING
[19:36:34] [INFO] ------------------------------------------------------------
[19:36:34] [INFO] GAME LOG ENDED: 2026-02-08T19:36:34
[19:36:34] [INFO] ============================================================
