[12:54:51] [INFO] ============================================================
[12:54:51] [INFO] GAME LOG STARTED
[12:54:51] [INFO] ============================================================
[12:54:51] [INFO] Timestamp: 2026-02-06T12:54:51
[12:54:51] [INFO] Log file: I:/Загрузки/godot exe/pawer fantasy/game_log_20260206_125451.txt
[12:54:51] [INFO] Executable: I:/Загрузки/godot exe/pawer fantasy/Godot-Top-Down-Template.exe
[12:54:51] [INFO] OS: Windows
[12:54:51] [INFO] Debug build: false
[12:54:51] [INFO] Engine version: 4.3-stable (official)
[12:54:51] [INFO] Project: Godot Top-Down Template
[12:54:51] [INFO] ------------------------------------------------------------
[12:54:51] [INFO] [GameManager] GameManager ready
[12:54:51] [INFO] [ScoreManager] ScoreManager ready
[12:54:52] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[12:54:52] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[12:54:52] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[12:54:52] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[12:54:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:54:52] [INFO] [PenultimateHit] Saturation shader loaded successfully
[12:54:52] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[12:54:52] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[12:54:52] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[12:54:52] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[12:54:52] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[12:54:52] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[12:54:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:54:52] [INFO] [LastChance] Last chance shader loaded successfully
[12:54:52] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[12:54:52] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[12:54:52] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[12:54:52] [INFO] [LastChance]   Sepia intensity: 0.70
[12:54:52] [INFO] [LastChance]   Brightness: 0.60
[12:54:52] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[12:54:52] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[12:54:52] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[12:54:52] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false
[12:54:52] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[12:54:52] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:54:52] [INFO] [CinemaEffects] Created effects layer at layer 99
[12:54:52] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[12:54:52] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[12:54:52] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[12:54:52] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[12:54:52] [INFO] [CinemaEffects]   Grain intensity: 0.15
[12:54:52] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[12:54:52] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[12:54:52] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[12:54:52] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[12:54:52] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[12:54:52] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[12:54:52] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[12:54:52] [INFO] [GrenadeTimerHelper] Autoload ready
[12:54:52] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:54:52] [INFO] [PowerFantasy] Saturation shader loaded successfully
[12:54:52] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[12:54:52] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[12:54:52] [INFO] [PowerFantasy]   Grenade effect duration: 400ms
[12:54:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:52] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:54:52] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:54:52] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:54:52] [ENEMY] [Enemy1] Death animation component initialized
[12:54:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:52] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:54:52] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:54:52] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:54:52] [ENEMY] [Enemy2] Death animation component initialized
[12:54:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:52] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:54:52] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:54:52] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:54:52] [ENEMY] [Enemy3] Death animation component initialized
[12:54:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:52] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:54:52] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:54:52] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:54:52] [ENEMY] [Enemy4] Death animation component initialized
[12:54:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:52] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:54:52] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:54:52] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:54:52] [INFO] [EnemyGrenade] Initialized: 1 grenades
[12:54:52] [ENEMY] [Enemy5] Death animation component initialized
[12:54:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:52] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:54:52] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:54:52] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:54:52] [ENEMY] [Enemy6] Death animation component initialized
[12:54:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:52] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:54:52] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:54:52] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:54:52] [ENEMY] [Enemy7] Death animation component initialized
[12:54:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:52] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:54:52] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:54:52] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:54:52] [ENEMY] [Enemy8] Death animation component initialized
[12:54:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:52] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:54:52] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:54:52] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:54:52] [INFO] [EnemyGrenade] Initialized: 1 grenades
[12:54:52] [ENEMY] [Enemy9] Death animation component initialized
[12:54:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:52] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:54:52] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:54:52] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:54:52] [ENEMY] [Enemy10] Death animation component initialized
[12:54:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:52] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:54:52] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:54:52] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:54:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:54:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:54:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:54:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:54:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:54:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:54:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:54:52] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:54:52] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[12:54:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:54:52] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[12:54:52] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:54:52] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:54:52] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:54:52] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:54:52] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:54:52] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:54:52] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:54:52] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:54:52] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:54:52] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:54:52] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:54:52] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:54:52] [INFO] [ScoreManager] Level started with 10 enemies
[12:54:52] [INFO] [CinemaEffects] Found player node: Player
[12:54:52] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:54:52] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:54:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[12:54:52] [ENEMY] [Enemy1] Registered as sound listener
[12:54:52] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[12:54:52] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:54:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[12:54:52] [ENEMY] [Enemy2] Registered as sound listener
[12:54:52] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[12:54:52] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:54:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[12:54:52] [ENEMY] [Enemy3] Registered as sound listener
[12:54:52] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[12:54:52] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:54:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[12:54:52] [ENEMY] [Enemy4] Registered as sound listener
[12:54:52] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[12:54:52] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:54:52] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[12:54:52] [ENEMY] [Enemy5] Registered as sound listener
[12:54:52] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[12:54:52] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:54:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[12:54:52] [ENEMY] [Enemy6] Registered as sound listener
[12:54:52] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[12:54:52] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:54:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[12:54:52] [ENEMY] [Enemy7] Registered as sound listener
[12:54:52] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 4, behavior: PATROL
[12:54:52] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:54:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[12:54:52] [ENEMY] [Enemy8] Registered as sound listener
[12:54:52] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[12:54:52] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:54:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[12:54:52] [ENEMY] [Enemy9] Registered as sound listener
[12:54:52] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[12:54:52] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:54:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[12:54:52] [ENEMY] [Enemy10] Registered as sound listener
[12:54:52] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[12:54:52] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:54:52] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:52] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:52] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:52] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:52] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:52] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:52] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:52] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:54:52] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:54:52] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:54:52] [INFO] [PenultimateHit] Shader warmup complete in 256 ms
[12:54:52] [INFO] [LastChance] Shader warmup complete in 255 ms
[12:54:52] [INFO] [CinemaEffects] Cinema shader warmup complete in 207 ms
[12:54:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:54:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:54:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:54:52] [INFO] [LastChance] Found player: Player
[12:54:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:54:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:54:52] [INFO] [LastChance] Connected to player Died signal (C#)
[12:54:52] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:54:52] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 563 ms
[12:54:53] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:54:53] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:54:53] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[12:54:53] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[12:54:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[12:54:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:54:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[12:54:56] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:54:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[12:54:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[12:54:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[12:54:56] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[12:54:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[12:54:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:54:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:57] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:54:57] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:54:57] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:54:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:54:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:54:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:54:57] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:54:57] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:54:57] [ENEMY] [Enemy1] Death animation component initialized
[12:54:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:57] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:54:57] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:54:57] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:54:57] [ENEMY] [Enemy2] Death animation component initialized
[12:54:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:57] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:54:57] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:54:57] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:54:57] [ENEMY] [Enemy3] Death animation component initialized
[12:54:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:57] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:54:57] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:54:57] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:54:57] [ENEMY] [Enemy4] Death animation component initialized
[12:54:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:57] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:54:57] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:54:57] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:54:57] [ENEMY] [Enemy5] Death animation component initialized
[12:54:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:57] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:54:57] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:54:57] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:54:57] [ENEMY] [Enemy6] Death animation component initialized
[12:54:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:57] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:54:57] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:54:57] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:54:57] [ENEMY] [Enemy7] Death animation component initialized
[12:54:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:57] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:54:57] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:54:57] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:54:57] [ENEMY] [Enemy8] Death animation component initialized
[12:54:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:57] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:54:57] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:54:57] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:54:57] [ENEMY] [Enemy9] Death animation component initialized
[12:54:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:57] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:54:57] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:54:57] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:54:57] [ENEMY] [Enemy10] Death animation component initialized
[12:54:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:54:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:54:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:54:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:54:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:54:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:54:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:54:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:54:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:54:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:54:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:54:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:54:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:54:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:54:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:54:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:54:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:54:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:54:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:54:57] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:54:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:54:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:54:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:54:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:54:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:54:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:54:57] [INFO] [ScoreManager] Level started with 10 enemies
[12:54:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:54:57] [INFO] [CinemaEffects] Found player node: Player
[12:54:57] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:54:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:54:57] [ENEMY] [Enemy1] Registered as sound listener
[12:54:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[12:54:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:54:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:54:57] [ENEMY] [Enemy2] Registered as sound listener
[12:54:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[12:54:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:54:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:54:57] [ENEMY] [Enemy3] Registered as sound listener
[12:54:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[12:54:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:54:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:54:57] [ENEMY] [Enemy4] Registered as sound listener
[12:54:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[12:54:57] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:54:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:54:57] [ENEMY] [Enemy5] Registered as sound listener
[12:54:57] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[12:54:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:54:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:54:57] [ENEMY] [Enemy6] Registered as sound listener
[12:54:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[12:54:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:54:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:54:57] [ENEMY] [Enemy7] Registered as sound listener
[12:54:57] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[12:54:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:54:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:54:57] [ENEMY] [Enemy8] Registered as sound listener
[12:54:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[12:54:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:54:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:54:57] [ENEMY] [Enemy9] Registered as sound listener
[12:54:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[12:54:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:54:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:54:57] [ENEMY] [Enemy10] Registered as sound listener
[12:54:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[12:54:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:54:57] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:57] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:57] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:57] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:57] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:57] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:57] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:57] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:54:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:54:57] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:54:57] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:54:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:54:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:54:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:54:57] [INFO] [LastChance] Found player: Player
[12:54:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:54:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:54:57] [INFO] [LastChance] Connected to player Died signal (C#)
[12:54:57] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:54:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:54:58] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:54:58] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[12:54:58] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[12:54:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[12:54:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:54:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[12:54:59] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:54:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[12:54:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[12:54:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1215), corner_timer=-0.02
[12:54:59] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[12:54:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1210), corner_timer=0.30
[12:54:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1105), corner_timer=-0.02
[12:54:59] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[12:54:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1100), corner_timer=0.30
[12:55:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,995), corner_timer=-0.02
[12:55:00] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[12:55:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,990), corner_timer=0.30
[12:55:00] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:00] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:55:00] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:55:00] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:55:00] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:00] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:55:00] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:55:00] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:55:00] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:55:00] [ENEMY] [Enemy1] Death animation component initialized
[12:55:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:00] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:55:00] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:55:00] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:55:00] [ENEMY] [Enemy2] Death animation component initialized
[12:55:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:00] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:55:00] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:55:00] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:55:00] [ENEMY] [Enemy3] Death animation component initialized
[12:55:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:00] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:55:00] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:55:00] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:55:00] [ENEMY] [Enemy4] Death animation component initialized
[12:55:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:00] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:55:00] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:55:00] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:55:00] [ENEMY] [Enemy5] Death animation component initialized
[12:55:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:00] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:55:00] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:55:00] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:55:00] [ENEMY] [Enemy6] Death animation component initialized
[12:55:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:00] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:55:00] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:55:00] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:55:00] [ENEMY] [Enemy7] Death animation component initialized
[12:55:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:00] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:55:00] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:55:00] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:55:00] [ENEMY] [Enemy8] Death animation component initialized
[12:55:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:00] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:55:00] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:55:00] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:55:00] [ENEMY] [Enemy9] Death animation component initialized
[12:55:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:00] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:55:00] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:55:00] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:55:00] [ENEMY] [Enemy10] Death animation component initialized
[12:55:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:00] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:55:00] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:55:00] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:55:00] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:55:00] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:55:00] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:55:00] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:55:00] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:55:00] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:55:00] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:55:00] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:55:00] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:55:00] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:55:00] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:55:00] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:55:00] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:55:00] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:55:00] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:55:00] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:55:00] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:55:00] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:55:00] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:55:00] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:55:00] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:55:00] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:55:00] [INFO] [ScoreManager] Level started with 10 enemies
[12:55:00] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:55:00] [INFO] [CinemaEffects] Found player node: Player
[12:55:00] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:55:00] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[12:55:00] [ENEMY] [Enemy1] Registered as sound listener
[12:55:00] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[12:55:00] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:55:00] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[12:55:00] [ENEMY] [Enemy2] Registered as sound listener
[12:55:00] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[12:55:00] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:55:00] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[12:55:00] [ENEMY] [Enemy3] Registered as sound listener
[12:55:00] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[12:55:00] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:55:00] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[12:55:00] [ENEMY] [Enemy4] Registered as sound listener
[12:55:00] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[12:55:00] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:55:00] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[12:55:00] [ENEMY] [Enemy5] Registered as sound listener
[12:55:00] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[12:55:00] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:55:00] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[12:55:00] [ENEMY] [Enemy6] Registered as sound listener
[12:55:00] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[12:55:00] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:55:00] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[12:55:00] [ENEMY] [Enemy7] Registered as sound listener
[12:55:00] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[12:55:00] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:55:00] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[12:55:00] [ENEMY] [Enemy8] Registered as sound listener
[12:55:00] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[12:55:00] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:55:00] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[12:55:00] [ENEMY] [Enemy9] Registered as sound listener
[12:55:00] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[12:55:00] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:55:00] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[12:55:00] [ENEMY] [Enemy10] Registered as sound listener
[12:55:00] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[12:55:00] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:55:00] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:00] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:00] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:00] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:00] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:00] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:00] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:00] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:00] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:55:00] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:55:00] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:55:00] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:55:00] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:55:00] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:55:00] [INFO] [LastChance] Found player: Player
[12:55:00] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:55:00] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:55:00] [INFO] [LastChance] Connected to player Died signal (C#)
[12:55:00] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:55:01] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:55:01] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:55:01] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,946), corner_timer=0.30
[12:55:01] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,946), corner_timer=0.30
[12:55:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,841), corner_timer=-0.02
[12:55:02] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:55:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,841), corner_timer=-0.02
[12:55:02] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:55:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,836), corner_timer=0.30
[12:55:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,836), corner_timer=0.30
[12:55:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 763.8333), source=PLAYER (AssaultRifle), range=1469, listeners=30
[12:55:02] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[12:55:02] [ENEMY] [Enemy1] Heard gunshot at (450, 763.8333), source_type=0, intensity=0.01, distance=440
[12:55:02] [ENEMY] [Enemy2] Heard gunshot at (450, 763.8333), source_type=0, intensity=0.05, distance=220
[12:55:02] [ENEMY] [Enemy3] Heard gunshot at (450, 763.8333), source_type=0, intensity=0.04, distance=250
[12:55:02] [ENEMY] [Enemy4] Heard gunshot at (450, 763.8333), source_type=0, intensity=0.02, distance=376
[12:55:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:55:02] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.8°, current=-157.5°, player=(450,757), corner_timer=0.00
[12:55:02] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=76.5°, current=-157.5°, player=(450,757), corner_timer=0.00
[12:55:02] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=178.2°, current=11.3°, player=(450,757), corner_timer=0.00
[12:55:02] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-157.9°, current=-67.5°, player=(450,757), corner_timer=0.00
[12:55:02] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=179.1°, current=-167.7°, player=(450,753), corner_timer=0.00
[12:55:02] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[12:55:02] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:02] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3386, 750.3341), dir=(1, 0), lethal=false
[12:55:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:02] [INFO] [ImpactEffects] Blood effect spawned at (689.3386, 750.3341) (scale=1)
[12:55:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,744), corner_timer=-0.02
[12:55:02] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[12:55:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,741), corner_timer=0.30
[12:55:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.9347, 740.4988), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:55:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:55:02] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[12:55:02] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:02] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3386, 750.3341), dir=(1, 0), lethal=true
[12:55:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:02] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:55:02] [INFO] [ImpactEffects] Blood effect spawned at (689.3386, 750.3341) (scale=1.5)
[12:55:02] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:55:02] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:55:02] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:55:02] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:55:02] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:55:02] [INFO] [PowerFantasy]   - Duration: 300ms
[12:55:02] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[12:55:02] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:55:02] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[12:55:02] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[12:55:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.6888, 734.1275), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:55:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[12:55:02] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[12:55:02] [INFO] [PowerFantasy] Ending power fantasy effect
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (770.4684, 804.6647) (added to group)
[12:55:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(489,746), corner_timer=-0.02
[12:55:03] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[12:55:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(493,750), corner_timer=0.30
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (780.5616, 737.1391) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (787.4517, 763.7332) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (747.8348, 755.345) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (755.7203, 798.6959) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (818.3085, 726.3572) (added to group)
[12:55:03] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:55:03] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:55:03] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (742.1928, 744.6234) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (737.4032, 764.9707) (added to group)
[12:55:03] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-144.6°, current=-145.1°, player=(516,773), corner_timer=0.00
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (801.125, 796.4536) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (773.5797, 814.2299) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (778.1285, 761.0554) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (767.1366, 807.3982) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (756.4937, 796.3154) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (772.705, 745.2603) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (792.8647, 754.2991) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (822.0742, 819.7584) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (791.098, 828.5342) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (830.5527, 752.8803) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (788.2623, 778.4393) (added to group)
[12:55:03] [ENEMY] [Enemy3] Ragdoll activated
[12:55:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[12:55:03] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.7°, current=8.6°, player=(565,802), corner_timer=0.00
[12:55:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(565,802), corner_timer=-0.02
[12:55:03] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[12:55:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(568,805), corner_timer=0.30
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (872.1356, 867.0476) (added to group)
[12:55:03] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[12:55:03] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=56.7°, current=22.9°, player=(577,820), corner_timer=0.00
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (818.6934, 794.0415) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (853.6254, 781.3946) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (795.3179, 820.8674) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (885.3962, 808.7965) (added to group)
[12:55:03] [INFO] [BloodDecal] Blood puddle created at (850.2565, 770.2274) (added to group)
[12:55:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.1155, 887.6399), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:55:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:55:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(460.6888, 734.1275), shooter_id=150088977597, bullet_pos=(2482.7073, 791.5798)
[12:55:03] [INFO] [Bullet] Using shooter_position, distance=2022,8345
[12:55:03] [INFO] [Bullet] Distance to wall: 2022,8345 (137,73853% of viewport)
[12:55:03] [INFO] [Bullet] Distance-based penetration chance: 22,452295%
[12:55:03] [INFO] [Bullet] Penetration failed (distance roll)
[12:55:03] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 4/4 -> 3/4
[12:55:03] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:03] [INFO] [ImpactEffects] spawn_blood_effect called at (714.1694, 914.0656), dir=(1, 0), lethal=false
[12:55:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:03] [INFO] [ImpactEffects] Blood effect spawned at (714.1694, 914.0656) (scale=1)
[12:55:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(583,898), corner_timer=-0.02
[12:55:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[12:55:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(583,903), corner_timer=0.30
[12:55:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.1155, 926.1399), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:55:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:55:03] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 3/4 -> 2/4
[12:55:03] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:03] [INFO] [ImpactEffects] spawn_blood_effect called at (714.1694, 914.0656), dir=(1, 0), lethal=false
[12:55:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:03] [INFO] [ImpactEffects] Blood effect spawned at (714.1694, 914.0656) (scale=1)
[12:55:03] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:55:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.4084, 963.9328), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:55:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:55:03] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/4 -> 1/4
[12:55:03] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:03] [INFO] [ImpactEffects] spawn_blood_effect called at (719.8517, 919.7061), dir=(1, 0), lethal=false
[12:55:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:03] [INFO] [ImpactEffects] Blood effect spawned at (719.8517, 919.7061) (scale=1)
[12:55:04] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-28.3°, current=-93.8°, player=(579,971), corner_timer=0.00
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (772.3768, 926.1093) (added to group)
[12:55:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(573.0939, 989.9333), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:55:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[12:55:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:04] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/4 -> 0/4
[12:55:04] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:04] [INFO] [ImpactEffects] spawn_blood_effect called at (737.0589, 919.9045), dir=(1, 0), lethal=true
[12:55:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:04] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:55:04] [INFO] [ImpactEffects] Blood effect spawned at (737.0589, 919.9045) (scale=1.5)
[12:55:04] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[12:55:04] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[12:55:04] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:55:04] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:55:04] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:55:04] [INFO] [PowerFantasy]   - Duration: 300ms
[12:55:04] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[12:55:04] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[12:55:04] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (757.493, 924.4609) (added to group)
[12:55:04] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[12:55:04] [INFO] [PowerFantasy] Ending power fantasy effect
[12:55:04] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (852.9919, 996.855) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (766.188, 946.0859) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (770.4448, 948.2451) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (800.7512, 946.6366) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (867.9189, 912.5143) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (811.3405, 939.4275) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (802.8411, 957.2531) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (758.8121, 925.6072) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (761.0931, 924.4678) (added to group)
[12:55:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.6°, player=(559,951), corner_timer=-0.01
[12:55:04] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (862.6152, 982.524) (added to group)
[12:55:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-132.4°, player=(559,946), corner_timer=0.30
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (802.2305, 926.4429) (added to group)
[12:55:04] [ENEMY] [Enemy3] Death animation completed
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (861.5313, 975.0547) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (824.9288, 979.2488) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (817.4746, 960.3937) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (803.2073, 979.1844) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (828.9736, 938.6547) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (823.8758, 981.7941) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (793.2949, 952.8353) (added to group)
[12:55:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (808.2413, 957.7791) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (826.0018, 980.6647) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (786.6403, 966.7824) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (821.8615, 961.4655) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (830.5145, 971.5266) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (807.1021, 947.0266) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (881.5339, 951.3248) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (828.1297, 993.9786) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (871.2656, 965.9005) (added to group)
[12:55:04] [ENEMY] [Enemy4] Ragdoll activated
[12:55:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (809.4761, 954.3123) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (883.3956, 924.3204) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (889.3215, 944.7282) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (850.2685, 958.0489) (added to group)
[12:55:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=173.0°, player=(562,844), corner_timer=-0.02
[12:55:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[12:55:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.9°, player=(563,839), corner_timer=0.30
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (887.4187, 996.2405) (added to group)
[12:55:04] [INFO] [BloodDecal] Blood puddle created at (862.1181, 999.7291) (added to group)
[12:55:05] [ENEMY] [Enemy1] PURSUING corner check: angle -135.1°
[12:55:05] [ENEMY] [Enemy2] PURSUING corner check: angle 174.3°
[12:55:05] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=55.2°, current=77.6°, player=(579,812), corner_timer=0.30
[12:55:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(598.9319, 799.4174), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:55:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[12:55:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(619.5791, 770.5322), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:55:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:55:05] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=50.5°, current=24.0°, player=(619,764), corner_timer=0.10
[12:55:05] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[12:55:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=121.3°, player=(621,760), corner_timer=-0.02
[12:55:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[12:55:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=124.1°, player=(622,756), corner_timer=0.30
[12:55:05] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/2 -> 1/2
[12:55:05] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:05] [INFO] [ImpactEffects] spawn_blood_effect called at (315.0843, 395.5661), dir=(1, 0), lethal=false
[12:55:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:05] [INFO] [ImpactEffects] Blood effect spawned at (315.0843, 395.5661) (scale=1)
[12:55:05] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=48.8°, current=180.0°, player=(624,749), corner_timer=0.10
[12:55:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(625.4232, 746.4566), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:55:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:55:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.5791, 770.5322), shooter_id=150088977597, bullet_pos=(331.92105, 454.96643)
[12:55:05] [INFO] [Bullet] Using shooter_position, distance=426,99994
[12:55:05] [INFO] [Bullet] Distance to wall: 426,99994 (29,07521% of viewport)
[12:55:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:05] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[12:55:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:05] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=174.3°, current=-37.4°, player=(619,726), corner_timer=0.03
[12:55:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(616.913, 730.1743), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:55:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[12:55:05] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[12:55:05] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-135.1°, current=143.0°, player=(614,722), corner_timer=0.10
[12:55:05] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:55:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(625.42316, 746.4566), shooter_id=150088977597, bullet_pos=(298.68033, 471.56012)
[12:55:05] [INFO] [Bullet] Using shooter_position, distance=426,99994
[12:55:05] [INFO] [Bullet] Distance to wall: 426,99994 (29,07521% of viewport)
[12:55:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.5791, 770.5322), shooter_id=150088977597, bullet_pos=(522.18494, 288.33368)
[12:55:05] [INFO] [Bullet] Using shooter_position, distance=491,93604
[12:55:05] [INFO] [Bullet] Distance to wall: 491,93604 (33,49683% of viewport)
[12:55:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:05] [INFO] [Bullet] Starting wall penetration at (522.18494, 288.33368)
[12:55:05] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:55:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,003986
[12:55:05] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:05] [INFO] [Bullet] Exiting penetration at (552.5896, 261.70538) after traveling 35,416668 pixels through wall
[12:55:05] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[12:55:05] [INFO] [BloodDecal] Blood puddle created at (367.2028, 393.8133) (added to group)
[12:55:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(595.8386, 716.9622), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:55:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[12:55:05] [INFO] [BloodDecal] Blood puddle created at (387.4591, 447.5937) (added to group)
[12:55:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(595,710), corner_timer=-0.02
[12:55:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[12:55:05] [INFO] [BloodDecal] Blood puddle created at (368.4172, 395.6226) (added to group)
[12:55:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(592,708), corner_timer=0.30
[12:55:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.913, 730.17426), shooter_id=150088977597, bullet_pos=(233.69502, 460.3733)
[12:55:05] [INFO] [Bullet] Using shooter_position, distance=468,66684
[12:55:05] [INFO] [Bullet] Distance to wall: 468,66684 (31,912386% of viewport)
[12:55:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(625.42316, 746.4566), shooter_id=150088977597, bullet_pos=(106.76342, 686.7438)
[12:55:05] [INFO] [Bullet] Using shooter_position, distance=522,08575
[12:55:05] [INFO] [Bullet] Distance to wall: 522,08575 (35,54978% of viewport)
[12:55:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:05] [INFO] [Bullet] Starting wall penetration at (106.76342, 686.7438)
[12:55:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,2554
[12:55:05] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:05] [INFO] [Bullet] Exiting penetration at (79.86176, 716.9068) after traveling 35,416664 pixels through wall
[12:55:05] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[12:55:05] [INFO] [BloodDecal] Blood puddle created at (438.1771, 436.6727) (added to group)
[12:55:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.3151, 691.6633), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:55:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[12:55:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.913, 730.17426), shooter_id=150088977597, bullet_pos=(42.876892, 626.3712)
[12:55:05] [INFO] [Bullet] Using shooter_position, distance=583,346
[12:55:05] [INFO] [Bullet] Distance to wall: 583,346 (39,721104% of viewport)
[12:55:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:05] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/2 -> 1/2
[12:55:05] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:05] [INFO] [ImpactEffects] spawn_blood_effect called at (351.5287, 630.5534), dir=(1, 0), lethal=false
[12:55:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:05] [INFO] [ImpactEffects] Blood effect spawned at (351.5287, 630.5534) (scale=1)
[12:55:05] [INFO] [BloodDecal] Blood puddle created at (445.3928, 412.352) (added to group)
[12:55:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.913, 730.17426), shooter_id=150088977597, bullet_pos=(105.669785, 698.0757)
[12:55:05] [INFO] [Bullet] Using shooter_position, distance=512,24994
[12:55:05] [INFO] [Bullet] Distance to wall: 512,24994 (34,880043% of viewport)
[12:55:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.0914, 664.4396), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:55:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[12:55:05] [INFO] [BloodDecal] Blood puddle created at (391.8131, 429.74) (added to group)
[12:55:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(595.8386, 716.9622), shooter_id=150088977597, bullet_pos=(35.854218, 416.8527)
[12:55:05] [INFO] [Bullet] Using shooter_position, distance=635,3331
[12:55:05] [INFO] [Bullet] Distance to wall: 635,3331 (43,261% of viewport)
[12:55:05] [INFO] [Bullet] Distance-based penetration chance: 96,195496%
[12:55:05] [INFO] [Bullet] Starting wall penetration at (35.854218, 416.8527)
[12:55:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,29384
[12:55:05] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:05] [INFO] [Bullet] Exiting penetration at (-5.2779083, 394.80896) after traveling 41,666668 pixels through wall
[12:55:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:55:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.913, 730.17426), shooter_id=150088977597, bullet_pos=(62.289436, 767.3849)
[12:55:05] [INFO] [Bullet] Using shooter_position, distance=555,8705
[12:55:05] [INFO] [Bullet] Distance to wall: 555,8705 (37,850246% of viewport)
[12:55:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:05] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/2 -> 0/2
[12:55:05] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:05] [INFO] [ImpactEffects] spawn_blood_effect called at (362.5245, 611.038), dir=(1, 0), lethal=true
[12:55:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:05] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:55:05] [INFO] [ImpactEffects] Blood effect spawned at (362.5245, 611.038) (scale=1.5)
[12:55:05] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[12:55:05] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[12:55:05] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:55:05] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:55:05] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:55:05] [INFO] [PowerFantasy]   - Duration: 300ms
[12:55:05] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[12:55:05] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[12:55:05] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[12:55:05] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[12:55:05] [ENEMY] [Enemy4] Death animation completed
[12:55:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.6°, player=(522,638), corner_timer=-0.00
[12:55:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8667, 644.2193), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:55:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=4
[12:55:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=89.8°, player=(521,638), corner_timer=0.30
[12:55:06] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[12:55:06] [INFO] [PowerFantasy] Ending power fantasy effect
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (465.6449, 528.0687) (added to group)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (464.6851, 569.4075) (added to group)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (472.5422, 528.6382) (added to group)
[12:55:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(488.0785, 624.8772), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:55:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[12:55:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(521.8667, 644.2193), shooter_id=150088977597, bullet_pos=(28.474117, 627.7685)
[12:55:06] [INFO] [Bullet] Using shooter_position, distance=493,66675
[12:55:06] [INFO] [Bullet] Distance to wall: 493,66675 (33,614677% of viewport)
[12:55:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:06] [INFO] [Bullet] Starting wall penetration at (28.474117, 627.7685)
[12:55:06] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:55:06] [INFO] [Bullet] Exiting penetration at (-18.166634, 626.2134) after traveling 41,666668 pixels through wall
[12:55:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (445.2501, 608.7183) (added to group)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (430.3939, 657.2158) (added to group)
[12:55:06] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[12:55:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(488.0785, 624.8772), shooter_id=150088977597, bullet_pos=(63.436966, 580.0603)
[12:55:06] [INFO] [Bullet] Using shooter_position, distance=426,99997
[12:55:06] [INFO] [Bullet] Distance to wall: 426,99997 (29,075214% of viewport)
[12:55:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:06] [INFO] [Bullet] Starting wall penetration at (63.436966, 580.0603)
[12:55:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,0551
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (428.9053, 618.0734) (added to group)
[12:55:06] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:06] [INFO] [Bullet] Exiting penetration at (17.028053, 575.1623) after traveling 41,666668 pixels through wall
[12:55:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:55:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.4°, player=(428,615), corner_timer=-0.01
[12:55:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (437.002, 662.0778) (added to group)
[12:55:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(423,615), corner_timer=0.30
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (442.7507, 671.6012) (added to group)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (438.7468, 637.9782) (added to group)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (440.4642, 665.2126) (added to group)
[12:55:06] [ENEMY] [Enemy2] Ragdoll activated
[12:55:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[12:55:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (531.238, 638.2418) (added to group)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (438.1278, 639.5728) (added to group)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (487.3647, 663.0912) (added to group)
[12:55:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.913, 730.17426), shooter_id=150088977597, bullet_pos=(505.813, 1386.8942)
[12:55:06] [INFO] [Bullet] Using shooter_position, distance=666,0512
[12:55:06] [INFO] [Bullet] Distance to wall: 666,0512 (45,352654% of viewport)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (508.6248, 649.9455) (added to group)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (476.9571, 670.6846) (added to group)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (466.4967, 641.7063) (added to group)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (493.0369, 650.4085) (added to group)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (458.9611, 649.9595) (added to group)
[12:55:06] [INFO] [BloodDecal] Blood puddle created at (485.7006, 675.8043) (added to group)
[12:55:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(318,615), corner_timer=-0.02
[12:55:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(313,615), corner_timer=0.30
[12:55:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.913, 730.17426), shooter_id=150088977597, bullet_pos=(852.5109, 1020.85364)
[12:55:07] [INFO] [Bullet] Using shooter_position, distance=374,1669
[12:55:07] [INFO] [Bullet] Distance to wall: 374,1669 (25,477713% of viewport)
[12:55:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:07] [INFO] [Bullet] Starting wall penetration at (852.5109, 1020.85364)
[12:55:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(228,568), corner_timer=-0.02
[12:55:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:07] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:55:07] [INFO] [Bullet] Exiting penetration at (868.66254, 1003.8009) after traveling 18,487722 pixels through wall
[12:55:07] [INFO] [Bullet] Damage multiplier after penetration: 0,028125
[12:55:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(224,564), corner_timer=0.30
[12:55:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:07] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:55:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(150,490), corner_timer=-0.02
[12:55:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(146,486), corner_timer=0.30
[12:55:07] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=151.6°, current=144.9°, player=(135,475), corner_timer=0.10
[12:55:07] [ENEMY] [Enemy2] Death animation completed
[12:55:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(115.6494, 461.7463), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:55:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[12:55:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(115.64943, 461.74628), shooter_id=150088977597, bullet_pos=(246.96292, 429.00668)
[12:55:07] [INFO] [Bullet] Using shooter_position, distance=135,33334
[12:55:07] [INFO] [Bullet] Distance to wall: 135,33334 (9,215096% of viewport)
[12:55:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:07] [INFO] [Bullet] Starting wall penetration at (246.96292, 429.00668)
[12:55:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,238148
[12:55:07] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:07] [INFO] [Bullet] Exiting penetration at (292.24344, 417.71716) after traveling 41,66667 pixels through wall
[12:55:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:55:07] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[12:55:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(97.04868, 430.951), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:55:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[12:55:07] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[12:55:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(97.04868, 430.951), shooter_id=150088977597, bullet_pos=(232.06842, 440.15884)
[12:55:07] [INFO] [Bullet] Using shooter_position, distance=135,33336
[12:55:07] [INFO] [Bullet] Distance to wall: 135,33336 (9,215097% of viewport)
[12:55:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:07] [INFO] [Bullet] Starting wall penetration at (232.06842, 440.15884)
[12:55:07] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:55:07] [INFO] [Bullet] Exiting penetration at (278.62695, 443.33395) after traveling 41,666668 pixels through wall
[12:55:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:55:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(93,404), corner_timer=-0.02
[12:55:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(93,399), corner_timer=0.30
[12:55:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(93.00125, 394.1275), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:55:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[12:55:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(93.00125, 394.12747), shooter_id=150088977597, bullet_pos=(266.49933, 429.16205)
[12:55:07] [INFO] [Bullet] Using shooter_position, distance=177,00002
[12:55:07] [INFO] [Bullet] Distance to wall: 177,00002 (12,052257% of viewport)
[12:55:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(93.00125, 355.6275), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:55:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[12:55:07] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/2 -> 0/2
[12:55:07] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:07] [INFO] [ImpactEffects] spawn_blood_effect called at (420.6632, 407.0182), dir=(1, 0), lethal=true
[12:55:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:07] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:55:07] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 407.0182) (dist=79 px)
[12:55:07] [INFO] [BloodDecal] Blood puddle created at (499, 407.0182) (added to group)
[12:55:07] [INFO] [ImpactEffects] Blood effect spawned at (420.6632, 407.0182) (scale=1.5)
[12:55:07] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[12:55:07] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[12:55:07] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:55:07] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:55:07] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:55:07] [INFO] [PowerFantasy]   - Duration: 300ms
[12:55:07] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[12:55:07] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[12:55:07] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[12:55:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:08] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[12:55:08] [INFO] [PowerFantasy] Ending power fantasy effect
[12:55:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(93.00125, 318.2277), source=PLAYER (AssaultRifle), range=1469, listeners=6
[12:55:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[12:55:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(93.00125, 355.62747), shooter_id=150088977597, bullet_pos=(501.11365, 449.0404)
[12:55:08] [INFO] [Bullet] Using shooter_position, distance=418,6666
[12:55:08] [INFO] [Bullet] Distance to wall: 418,6666 (28,507778% of viewport)
[12:55:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:08] [INFO] [Bullet] Starting wall penetration at (501.11365, 449.0404)
[12:55:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,188444
[12:55:08] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:08] [INFO] [Bullet] Exiting penetration at (546.6039, 459.4527) after traveling 41,666676 pixels through wall
[12:55:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:55:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.4°, current=89.4°, player=(93,295), corner_timer=-0.01
[12:55:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[12:55:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(93,290), corner_timer=0.30
[12:55:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(93.00125, 279.7277), source=PLAYER (AssaultRifle), range=1469, listeners=6
[12:55:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[12:55:08] [INFO] [BloodDecal] Blood puddle created at (466.8013, 405.6264) (added to group)
[12:55:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:08] [INFO] [BloodDecal] Blood puddle created at (484.6425, 404.9575) (added to group)
[12:55:08] [INFO] [BloodDecal] Blood puddle created at (490.8222, 467.6408) (added to group)
[12:55:08] [INFO] [BloodDecal] Blood puddle created at (476.7843, 457.5129) (added to group)
[12:55:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(93.00125, 279.7277), shooter_id=150088977597, bullet_pos=(524.3054, 463.0995)
[12:55:08] [INFO] [Bullet] Using shooter_position, distance=468,66672
[12:55:08] [INFO] [Bullet] Distance to wall: 468,66672 (31,91238% of viewport)
[12:55:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:08] [INFO] [Bullet] Starting wall penetration at (524.3054, 463.0995)
[12:55:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46,998535
[12:55:08] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:08] [INFO] [Bullet] Exiting penetration at (567.2518, 481.3584) after traveling 41,666668 pixels through wall
[12:55:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:55:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(93.00125, 318.2277), shooter_id=150088977597, bullet_pos=(922.91724, 626.5368)
[12:55:08] [INFO] [Bullet] Using shooter_position, distance=885,3333
[12:55:08] [INFO] [Bullet] Distance to wall: 885,3333 (60,283978% of viewport)
[12:55:08] [INFO] [Bullet] Distance-based penetration chance: 76,335365%
[12:55:08] [INFO] [Bullet] Starting wall penetration at (922.91724, 626.5368)
[12:55:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,710278
[12:55:08] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:08] [INFO] [Bullet] Exiting penetration at (966.6628, 642.788) after traveling 41,666668 pixels through wall
[12:55:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:55:08] [INFO] [BloodDecal] Blood puddle created at (491.1355, 421.595) (added to group)
[12:55:08] [ENEMY] [Enemy1] Ragdoll activated
[12:55:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[12:55:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(106,191), corner_timer=-0.02
[12:55:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[12:55:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.0°, player=(109,187), corner_timer=0.30
[12:55:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(198,156), corner_timer=-0.02
[12:55:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[12:55:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(204,156), corner_timer=0.30
[12:55:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(306,150), corner_timer=-0.02
[12:55:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(310,148), corner_timer=0.30
[12:55:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(388,82), corner_timer=-0.02
[12:55:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(392,80), corner_timer=0.30
[12:55:09] [ENEMY] [Enemy1] Death animation completed
[12:55:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(453,80), corner_timer=-0.02
[12:55:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(459,80), corner_timer=0.30
[12:55:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:10] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[12:55:10] [ENEMY] [Enemy1] Player reloading: false -> true
[12:55:10] [ENEMY] [Enemy5] Player reloading: false -> true
[12:55:10] [ENEMY] [Enemy6] Player reloading: false -> true
[12:55:10] [ENEMY] [Enemy7] Player reloading: false -> true
[12:55:10] [ENEMY] [Enemy8] Player reloading: false -> true
[12:55:10] [ENEMY] [Enemy9] Player reloading: false -> true
[12:55:10] [ENEMY] [Enemy10] Player reloading: false -> true
[12:55:10] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(514.0136, 80.07542), source=PLAYER (Player), range=900, listeners=6
[12:55:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[12:55:10] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1216), can_see=false
[12:55:10] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1483), can_see=false
[12:55:10] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1369), can_see=false
[12:55:10] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1949), can_see=false
[12:55:10] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2162), can_see=false
[12:55:10] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1653), can_see=false
[12:55:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(563,80), corner_timer=-0.02
[12:55:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(569,80), corner_timer=0.30
[12:55:10] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[12:55:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:10] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[12:55:10] [ENEMY] [Enemy5] Player reloading: true -> false
[12:55:10] [ENEMY] [Enemy6] Player reloading: true -> false
[12:55:10] [ENEMY] [Enemy7] Player reloading: true -> false
[12:55:10] [ENEMY] [Enemy8] Player reloading: true -> false
[12:55:10] [ENEMY] [Enemy9] Player reloading: true -> false
[12:55:10] [ENEMY] [Enemy10] Player reloading: true -> false
[12:55:10] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[12:55:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(673,80), corner_timer=-0.02
[12:55:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(679,80), corner_timer=0.30
[12:55:10] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[12:55:10] [INFO] [Player.Reload.Anim] LeftArm: pos=(23.710411, 5.9977446), target=(24, 6), base=(24, 6)
[12:55:10] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0000014, 6.046386), target=(-2, 6), base=(-2, 6)
[12:55:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(783,80), corner_timer=-0.02
[12:55:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(789,80), corner_timer=0.30
[12:55:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(893,80), corner_timer=-0.02
[12:55:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(899,80), corner_timer=0.30
[12:55:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1002,81), corner_timer=-0.02
[12:55:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1007,83), corner_timer=0.30
[12:55:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1085,146), corner_timer=-0.02
[12:55:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1089,150), corner_timer=0.30
[12:55:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1178,188), corner_timer=-0.02
[12:55:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1183,188), corner_timer=0.30
[12:55:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1273,224), corner_timer=-0.02
[12:55:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1277,228), corner_timer=0.30
[12:55:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1328,275), corner_timer=-0.02
[12:55:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1329,275), corner_timer=0.30
[12:55:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:13] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[12:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1330,261), corner_timer=-0.02
[12:55:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1330,258), corner_timer=0.30
[12:55:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1333,161), corner_timer=-0.02
[12:55:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1334,156), corner_timer=0.30
[12:55:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1383.044, 113.691), source=PLAYER (AssaultRifle), range=1469, listeners=6
[12:55:13] [ENEMY] [Enemy5] Heard gunshot at (1383.044, 113.691), source_type=0, intensity=0.02, distance=395
[12:55:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[12:55:13] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-142.6°, current=-56.3°, player=(1383,107), corner_timer=0.00
[12:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1406,103), corner_timer=-0.02
[12:55:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1410,104), corner_timer=0.30
[12:55:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1415.247, 110.5855), source=PLAYER (AssaultRifle), range=1469, listeners=6
[12:55:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[12:55:14] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-143.6°, current=-170.8°, player=(1436,112), corner_timer=0.00
[12:55:14] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-143.2°, current=-168.4°, player=(1440,114), corner_timer=0.00
[12:55:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1444.804, 123.5977), source=PLAYER (AssaultRifle), range=1469, listeners=6
[12:55:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[12:55:14] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 3/3 -> 2/3
[12:55:14] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:14] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.066, 292.5103), dir=(1, 0), lethal=false
[12:55:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:14] [INFO] [ImpactEffects] Blood effect spawned at (1684.066, 292.5103) (scale=1)
[12:55:14] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-143.8°, current=180.0°, player=(1444,117), corner_timer=0.00
[12:55:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:14] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[12:55:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1464.166, 144.2592), source=PLAYER (AssaultRifle), range=1469, listeners=6
[12:55:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[12:55:14] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 2/3 -> 1/3
[12:55:14] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:14] [INFO] [ImpactEffects] spawn_blood_effect called at (1687.075, 290.6666), dir=(1, 0), lethal=false
[12:55:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:14] [INFO] [ImpactEffects] Blood effect spawned at (1687.075, 290.6666) (scale=1)
[12:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1472,159), corner_timer=-0.01
[12:55:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:14] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 1/3 -> 0/3
[12:55:14] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:14] [INFO] [ImpactEffects] spawn_blood_effect called at (1698.033, 300.812), dir=(1, 0), lethal=true
[12:55:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:14] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:55:14] [INFO] [ImpactEffects] Blood effect spawned at (1698.033, 300.812) (scale=1.5)
[12:55:14] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[12:55:14] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:55:14] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:55:14] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:55:14] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:55:14] [INFO] [PowerFantasy]   - Duration: 300ms
[12:55:14] [ENEMY] [Enemy5] [AllyDeath] Notified 1 enemies
[12:55:14] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 5)
[12:55:14] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[12:55:14] [ENEMY] [Enemy5] Death animation started with hit direction: (1, 0)
[12:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(1473,163), corner_timer=0.30
[12:55:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1474.309, 173.5724), source=PLAYER (AssaultRifle), range=1469, listeners=5
[12:55:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=4
[12:55:14] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[12:55:14] [INFO] [PowerFantasy] Ending power fantasy effect
[12:55:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1383.0441, 113.690956), shooter_id=150088977597, bullet_pos=(2493.0305, 710.66125)
[12:55:14] [INFO] [Bullet] Using shooter_position, distance=1260,3346
[12:55:14] [INFO] [Bullet] Distance to wall: 1260,3346 (85,818504% of viewport)
[12:55:14] [INFO] [BloodDecal] Blood puddle created at (1741.17, 301.1726) (added to group)
[12:55:14] [INFO] [BloodDecal] Blood puddle created at (1732.819, 324.6604) (added to group)
[12:55:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:14] [INFO] [BloodDecal] Blood puddle created at (1745.624, 298.3641) (added to group)
[12:55:14] [INFO] [BloodDecal] Blood puddle created at (1726.109, 307.0366) (added to group)
[12:55:14] [INFO] [BloodDecal] Blood puddle created at (1772.586, 340.6104) (added to group)
[12:55:14] [INFO] [BloodDecal] Blood puddle created at (1738.704, 293.9127) (added to group)
[12:55:14] [INFO] [BloodDecal] Blood puddle created at (1770.405, 367.5835) (added to group)
[12:55:14] [INFO] [BloodDecal] Blood puddle created at (1786.141, 294.9299) (added to group)
[12:55:14] [INFO] [BloodDecal] Blood puddle created at (1746.364, 314.1623) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1749.596, 345.8865) (added to group)
[12:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.4°, player=(1495,225), corner_timer=-0.01
[12:55:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1820.085, 341.9268) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1792.515, 314.9821) (added to group)
[12:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(1499,226), corner_timer=0.30
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1759.325, 319.2327) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1791.352, 298.0905) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1805.588, 353.5782) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1806.724, 383.1647) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1784.668, 330.1812) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1788.576, 365.6002) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1812.747, 375.9452) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1821.332, 398.3393) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1817.811, 366.1059) (added to group)
[12:55:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1474.3087, 173.57236), shooter_id=150088977597, bullet_pos=(2483.842, 674.5432)
[12:55:15] [INFO] [Bullet] Using shooter_position, distance=1127,0001
[12:55:15] [INFO] [Bullet] Distance to wall: 1127,0001 (76,73952% of viewport)
[12:55:15] [INFO] [Bullet] Distance-based penetration chance: 57,137238%
[12:55:15] [INFO] [Bullet] Penetration failed (distance roll)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1799.558, 413.8905) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1816.987, 391.8169) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1869.826, 418.9483) (added to group)
[12:55:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:15] [ENEMY] [Enemy5] Ragdoll activated
[12:55:15] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1793.123, 328.9357) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1840.197, 396.8569) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1818.012, 319.914) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1829.002, 305.0892) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1821.453, 454.1651) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1841.837, 344.0811) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1830.402, 303.5459) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1774.724, 383.4045) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1874.404, 394.4354) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1808.719, 341.4343) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1789.723, 369.812) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1829.766, 437.4319) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1852.279, 401.0047) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1862.544, 403.4049) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1794.317, 371.4884) (added to group)
[12:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(1590,217), corner_timer=-0.02
[12:55:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[12:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1595,214), corner_timer=0.30
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (1809.002, 415.6065) (added to group)
[12:55:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1673.878, 212.9978), source=PLAYER (AssaultRifle), range=1469, listeners=5
[12:55:15] [ENEMY] [Enemy6] Heard gunshot at (1673.878, 212.9978), source_type=0, intensity=0.02, distance=364
[12:55:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[12:55:15] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-138.7°, current=-22.5°, player=(1673,206), corner_timer=0.00
[12:55:15] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[12:55:15] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-90.0°, current=-49.2°, player=(1683,209), corner_timer=0.00
[12:55:15] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-138.6°, current=-102.7°, player=(1693,212), corner_timer=0.00
[12:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(1693,212), corner_timer=-0.02
[12:55:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[12:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1698,214), corner_timer=0.30
[12:55:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1706.872, 225.8112), source=PLAYER (AssaultRifle), range=1469, listeners=5
[12:55:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[12:55:15] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 3/3 -> 2/3
[12:55:15] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:15] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 427.6), dir=(1, 0), lethal=false
[12:55:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:15] [INFO] [ImpactEffects] Blood effect spawned at (1950, 427.6) (scale=1)
[12:55:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1728.571, 249.6029), source=PLAYER (AssaultRifle), range=1469, listeners=5
[12:55:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[12:55:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:15] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[12:55:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1736.75, 282.5588), source=PLAYER (AssaultRifle), range=1469, listeners=5
[12:55:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (2025.809, 423.2678) (added to group)
[12:55:15] [INFO] [BloodDecal] Blood puddle created at (2033.726, 474.4118) (added to group)
[12:55:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(1736,293), corner_timer=-0.02
[12:55:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:16] [INFO] [BloodDecal] Blood puddle created at (2036.421, 448.0562) (added to group)
[12:55:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1736,298), corner_timer=0.30
[12:55:16] [INFO] [BloodDecal] Blood puddle created at (2002.102, 445.3716) (added to group)
[12:55:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1736.815, 321.0149), source=PLAYER (AssaultRifle), range=1469, listeners=5
[12:55:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[12:55:16] [INFO] [BloodDecal] Blood puddle created at (2070.595, 472.8654) (added to group)
[12:55:16] [INFO] [BloodDecal] Blood puddle created at (2016.917, 435.4379) (added to group)
[12:55:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1706.8716, 225.8112), shooter_id=150088977597, bullet_pos=(2482.52, 936.4971)
[12:55:16] [INFO] [Bullet] Using shooter_position, distance=1052,0004
[12:55:16] [INFO] [Bullet] Distance to wall: 1052,0004 (71,632645% of viewport)
[12:55:16] [INFO] [BloodDecal] Blood puddle created at (2034.957, 477.6329) (added to group)
[12:55:16] [ENEMY] [Enemy5] Death animation completed
[12:55:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1728.5708, 249.60286), shooter_id=150088977597, bullet_pos=(2477.297, 864.1949)
[12:55:16] [INFO] [Bullet] Using shooter_position, distance=968,6663
[12:55:16] [INFO] [Bullet] Distance to wall: 968,6663 (65,958275% of viewport)
[12:55:16] [INFO] [BloodDecal] Blood puddle created at (2093.256, 511.8936) (added to group)
[12:55:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1736.75, 282.55878), shooter_id=150088977597, bullet_pos=(2487.457, 826.4048)
[12:55:16] [INFO] [Bullet] Using shooter_position, distance=927,00024
[12:55:16] [INFO] [Bullet] Distance to wall: 927,00024 (63,12115% of viewport)
[12:55:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1737,402), corner_timer=-0.02
[12:55:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:55:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1738,407), corner_timer=0.30
[12:55:16] [INFO] [BloodDecal] Blood puddle created at (2071.213, 575.0254) (added to group)
[12:55:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1736.8148, 321.01486), shooter_id=150088977597, bullet_pos=(2483.53, 713.6835)
[12:55:16] [INFO] [Bullet] Using shooter_position, distance=843,66595
[12:55:16] [INFO] [Bullet] Distance to wall: 843,66595 (57,446766% of viewport)
[12:55:16] [INFO] [BloodDecal] Blood puddle created at (2065.888, 515.9352) (added to group)
[12:55:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1747.901, 437.4226), source=PLAYER (AssaultRifle), range=1469, listeners=5
[12:55:16] [ENEMY] [Enemy7] Heard gunshot at (1747.901, 437.4226), source_type=0, intensity=0.01, distance=481
[12:55:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[12:55:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-73.7°, current=89.4°, player=(1747,431), corner_timer=0.22
[12:55:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:16] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 2/3 -> 1/3
[12:55:16] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:16] [INFO] [ImpactEffects] spawn_blood_effect called at (1979.212, 350.1414), dir=(1, 0), lethal=false
[12:55:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:16] [INFO] [ImpactEffects] Blood effect spawned at (1979.212, 350.1414) (scale=1)
[12:55:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1772.503, 465.7324), source=PLAYER (AssaultRifle), range=1469, listeners=5
[12:55:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[12:55:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1736.75, 282.55878), shooter_id=150088977597, bullet_pos=(2043.4921, 1186.5415)
[12:55:16] [INFO] [Bullet] Using shooter_position, distance=954,6075
[12:55:16] [INFO] [Bullet] Distance to wall: 954,6075 (65,000984% of viewport)
[12:55:16] [ENEMY] [Enemy8] Memory: medium confidence (0.61) - transitioning to PURSUING
[12:55:16] [ENEMY] [Enemy8] State: IDLE -> PURSUING
[12:55:16] [ENEMY] [Enemy9] Memory: medium confidence (0.55) - transitioning to PURSUING
[12:55:16] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[12:55:16] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-96.6°, current=168.8°, player=(1788,475), corner_timer=0.00
[12:55:16] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-106.2°, current=11.3°, player=(1788,475), corner_timer=0.00
[12:55:16] [ENEMY] [Enemy9] PURSUING_MEMORY corner check: angle 4.4°
[12:55:16] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 1/3 -> 0/3
[12:55:16] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:16] [INFO] [ImpactEffects] spawn_blood_effect called at (1984.024, 326.2614), dir=(1, 0), lethal=true
[12:55:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:16] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:55:16] [INFO] [ImpactEffects] Blood effect spawned at (1984.024, 326.2614) (scale=1.5)
[12:55:16] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[12:55:16] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[12:55:16] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:55:16] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:55:16] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:55:16] [INFO] [PowerFantasy]   - Duration: 300ms
[12:55:16] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 4)
[12:55:16] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[12:55:16] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[12:55:16] [ENEMY] [Enemy8] PURSUING corner check: angle 180.0°
[12:55:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1795.837, 489.067), source=PLAYER (AssaultRifle), range=1469, listeners=4
[12:55:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[12:55:16] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[12:55:16] [INFO] [PowerFantasy] Ending power fantasy effect
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2059.101, 343.9678) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2078.8, 369.1283) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2031.129, 347.5139) (added to group)
[12:55:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2054.688, 408.5762) (added to group)
[12:55:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1795.837, 489.067), shooter_id=150088977597, bullet_pos=(2198.9565, 64.67268)
[12:55:17] [INFO] [Bullet] Using shooter_position, distance=585,334
[12:55:17] [INFO] [Bullet] Distance to wall: 585,334 (39,85647% of viewport)
[12:55:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:17] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 3/3 -> 2/3
[12:55:17] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:17] [INFO] [ImpactEffects] spawn_blood_effect called at (1583.645, 824.0663), dir=(1, 0), lethal=false
[12:55:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:17] [INFO] [ImpactEffects] Blood effect spawned at (1583.645, 824.0663) (scale=1)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2034.709, 322.0823) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2030.878, 324.4518) (added to group)
[12:55:17] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2089.015, 426.3561) (added to group)
[12:55:17] [ENEMY] [Enemy8] PURSUING corner check: angle 180.0°
[12:55:17] [ENEMY] [Enemy9] PURSUING corner check: angle -41.0°
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2034.008, 373.5995) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2058.559, 378.5067) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2135.099, 453.062) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2103.899, 307.1739) (added to group)
[12:55:17] [ENEMY] [Enemy7] State: PURSUING -> RETREATING
[12:55:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1795.837, 489.067), shooter_id=150088977597, bullet_pos=(2472.881, 348.68097)
[12:55:17] [INFO] [Bullet] Using shooter_position, distance=691,4455
[12:55:17] [INFO] [Bullet] Distance to wall: 691,4455 (47,081795% of viewport)
[12:55:17] [INFO] [Bullet] Distance-based penetration chance: 91,73791%
[12:55:17] [INFO] [Bullet] Starting wall penetration at (2472.881, 348.68097)
[12:55:17] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=89.4°, current=-148.0°, player=(1888,575), corner_timer=0.22
[12:55:17] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[12:55:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,1144595
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2113.487, 414.1675) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2074.522, 335.787) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2047.752, 381.3117) (added to group)
[12:55:17] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:17] [INFO] [Bullet] Exiting penetration at (2500.939, 377.77158) after traveling 35,416668 pixels through wall
[12:55:17] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[12:55:17] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2070.035, 412.0433) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2102.755, 361.2265) (added to group)
[12:55:17] [ENEMY] [Enemy6] Ragdoll activated
[12:55:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2153.439, 453.4178) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (1624.693, 832.8332) (added to group)
[12:55:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (1658.863, 853.5315) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2142.103, 520.1274) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2156.867, 449.6837) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2080.449, 384.4009) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2101.973, 354.3309) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2128.212, 541.1354) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2168.478, 354.7289) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2193.888, 433.3537) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (1651, 883.0284) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (1653.024, 858.6635) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2102.218, 437.3062) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2172.961, 498.7712) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2074.754, 459.7999) (added to group)
[12:55:17] [ENEMY] [Enemy9] PURSUING corner check: angle 162.7°
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2157.441, 352.8989) (added to group)
[12:55:17] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2128.355, 509.3826) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (2175.653, 425.8822) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (1702.075, 836.5096) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (1749.862, 885.4471) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (1669.887, 875.4286) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (1717.042, 848.6696) (added to group)
[12:55:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (1715.776, 872.3914) (added to group)
[12:55:17] [INFO] [BloodDecal] Blood puddle created at (1750.788, 867.244) (added to group)
[12:55:18] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[12:55:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-5.6°, current=-13.6°, player=(1934,787), corner_timer=0.22
[12:55:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1929.76, 824.6677), source=PLAYER (AssaultRifle), range=1469, listeners=4
[12:55:18] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=1
[12:55:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1910.358, 855.1312), source=PLAYER (AssaultRifle), range=1469, listeners=4
[12:55:18] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=1
[12:55:18] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 2/3 -> 1/3
[12:55:18] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1490.037, 824.0656), dir=(1, 0), lethal=false
[12:55:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:18] [INFO] [ImpactEffects] Blood effect spawned at (1490.037, 824.0656) (scale=1)
[12:55:18] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=89.4°, current=180.0°, player=(1902,856), corner_timer=0.22
[12:55:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1883.135, 882.3549), source=PLAYER (AssaultRifle), range=1469, listeners=4
[12:55:18] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=1
[12:55:18] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 1/3 -> 0/3
[12:55:18] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1450.766, 824.0656), dir=(1, 0), lethal=true
[12:55:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:18] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:55:18] [INFO] [ImpactEffects] Blood effect spawned at (1450.766, 824.0656) (scale=1.5)
[12:55:18] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[12:55:18] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[12:55:18] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:55:18] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:55:18] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:55:18] [INFO] [PowerFantasy]   - Duration: 300ms
[12:55:18] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[12:55:18] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[12:55:18] [ENEMY] [Enemy7] Death animation started with hit direction: (1, 0)
[12:55:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:18] [ENEMY] [Enemy6] Death animation completed
[12:55:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1862.912, 902.5782), source=PLAYER (AssaultRifle), range=1469, listeners=3
[12:55:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[12:55:18] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[12:55:18] [INFO] [PowerFantasy] Ending power fantasy effect
[12:55:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1883.1348, 882.35486), shooter_id=150088977597, bullet_pos=(1430.2684, 799.7708)
[12:55:18] [INFO] [Bullet] Using shooter_position, distance=460,33472
[12:55:18] [INFO] [Bullet] Distance to wall: 460,33472 (31,34504% of viewport)
[12:55:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:18] [INFO] [BloodDecal] Blood puddle created at (1550.492, 863.7632) (added to group)
[12:55:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1862.9116, 902.57825), shooter_id=150088977597, bullet_pos=(1421.9272, 803.3984)
[12:55:18] [INFO] [Bullet] Using shooter_position, distance=451,99985
[12:55:18] [INFO] [Bullet] Distance to wall: 451,99985 (30,777502% of viewport)
[12:55:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:18] [INFO] [Bullet] Starting wall penetration at (1421.9272, 803.3984)
[12:55:18] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:55:18] [INFO] [Bullet] Exiting penetration at (1376.3978, 793.15857) after traveling 41,666668 pixels through wall
[12:55:18] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:55:18] [INFO] [BloodDecal] Blood puddle created at (1558.341, 830.9184) (added to group)
[12:55:18] [INFO] [BloodDecal] Blood puddle created at (1539.917, 875.7975) (added to group)
[12:55:18] [INFO] [BloodDecal] Blood puddle created at (1558.538, 877.0481) (added to group)
[12:55:18] [INFO] [BloodDecal] Blood puddle created at (1583.773, 828.3824) (added to group)
[12:55:18] [INFO] [BloodDecal] Blood puddle created at (1585.493, 825.9548) (added to group)
[12:55:18] [INFO] [BloodDecal] Blood puddle created at (1496.215, 831.6005) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1540.319, 802.7505) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1504.51, 858.5947) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1544.036, 887.2423) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1524.133, 839.1409) (added to group)
[12:55:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1554.62, 838.183) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1550.405, 891.2076) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1508.013, 877.8167) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1616.282, 869.0822) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1508.338, 859.3783) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1513.253, 856.8245) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1641.919, 819.4243) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1547.403, 879.6552) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1541.205, 867.8464) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1603.772, 905.8221) (added to group)
[12:55:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1883.1348, 882.35486), shooter_id=150088977597, bullet_pos=(1163.9797, 62.20233)
[12:55:19] [INFO] [Bullet] Using shooter_position, distance=1090,7952
[12:55:19] [INFO] [Bullet] Distance to wall: 1090,7952 (74,27425% of viewport)
[12:55:19] [INFO] [Bullet] Distance-based penetration chance: 60,01338%
[12:55:19] [INFO] [Bullet] Penetration failed (distance roll)
[12:55:19] [ENEMY] [Enemy7] Ragdoll activated
[12:55:19] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1592.784, 869.6083) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1626.494, 812.0273) (added to group)
[12:55:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.3°, current=0.6°, player=(1826,1055), corner_timer=0.08
[12:55:19] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:55:19] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.5°, current=-134.8°, player=(1827,1065), corner_timer=0.08
[12:55:19] [ENEMY] [Enemy8] FLANKING started: target=(2025.21, 1104.868), side=left, pos=(1895.798, 1254.595)
[12:55:19] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1648.099, 821.3239) (added to group)
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1682.542, 951.9897) (added to group)
[12:55:19] [ENEMY] [Enemy8] FLANKING corner check: angle 107.6°
[12:55:19] [INFO] [BloodDecal] Blood puddle created at (1655.242, 931.6098) (added to group)
[12:55:19] [ENEMY] [Enemy9] FLANKING started: target=(2097.464, 1094.823), side=left, pos=(2015.341, 1256.01)
[12:55:19] [ENEMY] [Enemy9] State: PURSUING -> FLANKING
[12:55:19] [ENEMY] [Enemy8] FLANKING corner check: angle 95.2°
[12:55:19] [ENEMY] [Enemy9] FLANKING corner check: angle 102.8°
[12:55:19] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:55:20] [ENEMY] [Enemy8] FLANKING corner check: angle 59.4°
[12:55:20] [ENEMY] [Enemy9] FLANKING corner check: angle 56.0°
[12:55:20] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-139.6°, current=-132.8°, player=(2052,1152), corner_timer=0.25
[12:55:20] [ENEMY] [Enemy9] State: FLANKING -> COMBAT
[12:55:20] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-135.6°, current=-135.1°, player=(2057,1151), corner_timer=0.23
[12:55:20] [ENEMY] [Enemy8] State: FLANKING -> COMBAT
[12:55:20] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-133.7°, current=153.5°, player=(2076,1144), corner_timer=0.25
[12:55:20] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-129.2°, current=157.8°, player=(2081,1142), corner_timer=0.23
[12:55:20] [ENEMY] [Enemy7] Death animation completed
[12:55:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2132.9, 1100.319), source=PLAYER (AssaultRifle), range=1469, listeners=3
[12:55:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[12:55:20] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 3/3 -> 2/3
[12:55:20] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:20] [INFO] [ImpactEffects] spawn_blood_effect called at (2153.896, 1231.389), dir=(1, 0), lethal=false
[12:55:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:20] [INFO] [ImpactEffects] Blood effect spawned at (2153.896, 1231.389) (scale=1)
[12:55:20] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 2/2 -> 1/2
[12:55:20] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:20] [INFO] [ImpactEffects] spawn_blood_effect called at (2153.314, 1224.838), dir=(1, 0), lethal=false
[12:55:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:20] [INFO] [ImpactEffects] Blood effect spawned at (2153.314, 1224.838) (scale=1)
[12:55:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2162.803, 1079.563), source=PLAYER (AssaultRifle), range=1469, listeners=3
[12:55:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[12:55:20] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 2/3 -> 1/3
[12:55:20] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:20] [INFO] [ImpactEffects] spawn_blood_effect called at (2153.896, 1231.389), dir=(1, 0), lethal=false
[12:55:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:20] [INFO] [ImpactEffects] Blood effect spawned at (2153.896, 1231.389) (scale=1)
[12:55:20] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 1/2 -> 0/2
[12:55:20] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:20] [INFO] [ImpactEffects] spawn_blood_effect called at (2153.314, 1224.838), dir=(1, 0), lethal=true
[12:55:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:55:20] [INFO] [ImpactEffects] Blood effect spawned at (2153.314, 1224.838) (scale=1.5)
[12:55:20] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[12:55:20] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[12:55:20] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:55:20] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:55:20] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:55:20] [INFO] [PowerFantasy]   - Duration: 300ms
[12:55:20] [ENEMY] [Enemy9] [AllyDeath] Notified 1 enemies
[12:55:20] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 2)
[12:55:20] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[12:55:20] [ENEMY] [Enemy9] Death animation started with hit direction: (1, 0)
[12:55:20] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[12:55:20] [INFO] [PowerFantasy] Ending power fantasy effect
[12:55:20] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[12:55:20] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=59.4°, current=-162.4°, player=(2192,1067), corner_timer=0.23
[12:55:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2197.372, 1073.658), source=PLAYER (AssaultRifle), range=1469, listeners=2
[12:55:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[12:55:21] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 1/3 -> 0/3
[12:55:21] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:21] [INFO] [ImpactEffects] spawn_blood_effect called at (2145.934, 1224.299), dir=(1, 0), lethal=true
[12:55:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:21] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:55:21] [INFO] [ImpactEffects] Blood effect spawned at (2145.934, 1224.299) (scale=1.5)
[12:55:21] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[12:55:21] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[12:55:21] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:55:21] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:55:21] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:55:21] [INFO] [PowerFantasy]   - Duration: 300ms
[12:55:21] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 1)
[12:55:21] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[12:55:21] [ENEMY] [Enemy8] Death animation started with hit direction: (1, 0)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2241.541, 1245.104) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2233.973, 1266.719) (added to group)
[12:55:21] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[12:55:21] [INFO] [PowerFantasy] Ending power fantasy effect
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2215.489, 1228.577) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2199.46, 1274.948) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2229.988, 1276.575) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2195.693, 1221.255) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2222.182, 1270.107) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2199.526, 1258.913) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2234.768, 1266.554) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2236.349, 1209.292) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2231.924, 1210.349) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2239.829, 1291.671) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2225.845, 1286.546) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2255.214, 1250.744) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2243.03, 1272.188) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2208.13, 1235.7) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2251.639, 1291.483) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2210.218, 1262.352) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2227.69, 1323.54) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2238.565, 1295.149) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2266.877, 1347.533) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2284.543, 1267.569) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2255.355, 1306.928) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2269.004, 1307.707) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2283.467, 1336.304) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2246.003, 1301.891) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2282.65, 1323.229) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2224.563, 1307.85) (added to group)
[12:55:21] [ENEMY] [Enemy9] Ragdoll activated
[12:55:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2216.597, 1246.181) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2252.809, 1277.986) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2261.157, 1274.6) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2275.835, 1288.313) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2250.27, 1240.593) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2224.74, 1253.305) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2250.817, 1289.222) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2303.789, 1262.85) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2226.163, 1237.797) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2258.425, 1273.864) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2339.712, 1352.947) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2279.624, 1335.858) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2239.705, 1223.551) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2272.742, 1293.273) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2268.72, 1328.843) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2217.978, 1265.741) (added to group)
[12:55:21] [ENEMY] [Enemy8] Ragdoll activated
[12:55:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2291.198, 1312.985) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2277.334, 1349.275) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2251.128, 1313.199) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2276.862, 1266.665) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2274.632, 1282.695) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2265.767, 1331.673) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2249.903, 1315.573) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2319.959, 1303.261) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2299.142, 1273.152) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2297.706, 1281.106) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2278.789, 1317.655) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2308.278, 1303.447) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2240.966, 1271.871) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2255.84, 1301.305) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2264.706, 1260.785) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2291.671, 1320.605) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2337.416, 1304.737) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2296.831, 1284.92) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2350.826, 1292.859) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2287.329, 1257.509) (added to group)
[12:55:21] [INFO] [BloodDecal] Blood puddle created at (2305.997, 1323.151) (added to group)
[12:55:21] [ENEMY] [Enemy10] PURSUING corner check: angle 59.3°
[12:55:22] [INFO] [BloodDecal] Blood puddle created at (2256.886, 1389.302) (added to group)
[12:55:22] [INFO] [BloodDecal] Blood puddle created at (2350.577, 1324.325) (added to group)
[12:55:22] [ENEMY] [Enemy10] PURSUING corner check: angle 63.0°
[12:55:22] [ENEMY] [Enemy9] Death animation completed
[12:55:22] [ENEMY] [Enemy8] Death animation completed
[12:55:23] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-25.0°, current=-24.3°, player=(1802,1247), corner_timer=0.15
[12:55:23] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[12:55:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1743.955, 1234.065), source=PLAYER (AssaultRifle), range=1469, listeners=1
[12:55:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[12:55:23] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 4/4 -> 3/4
[12:55:23] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1503.532, 1362.832), dir=(1, 0), lethal=false
[12:55:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:23] [INFO] [ImpactEffects] Blood effect spawned at (1503.532, 1362.832) (scale=1)
[12:55:23] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-31.4°, current=180.0°, player=(1724,1228), corner_timer=0.15
[12:55:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1716.731, 1234.065), source=PLAYER (AssaultRifle), range=1469, listeners=1
[12:55:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[12:55:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1689.507, 1233.065), source=PLAYER (AssaultRifle), range=1469, listeners=1
[12:55:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[12:55:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1716.7306, 1234.0651), shooter_id=150088977597, bullet_pos=(1495.2509, 1496.8452)
[12:55:23] [INFO] [Bullet] Using shooter_position, distance=343,66653
[12:55:23] [INFO] [Bullet] Distance to wall: 343,66653 (23,400887% of viewport)
[12:55:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:23] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[12:55:23] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=63.0°, current=-152.0°, player=(1677,1223), corner_timer=0.15
[12:55:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1689.5067, 1233.0651), shooter_id=150088977597, bullet_pos=(1494.6954, 1463.8304)
[12:55:23] [INFO] [Bullet] Using shooter_position, distance=302,00015
[12:55:23] [INFO] [Bullet] Distance to wall: 302,00015 (20,563747% of viewport)
[12:55:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1662.283, 1219.065), source=PLAYER (AssaultRifle), range=1469, listeners=1
[12:55:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[12:55:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1716.7306, 1234.0651), shooter_id=150088977597, bullet_pos=(1682.0494, 1667.3539)
[12:55:24] [INFO] [Bullet] Using shooter_position, distance=434,67456
[12:55:24] [INFO] [Bullet] Distance to wall: 434,67456 (29,597792% of viewport)
[12:55:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1545.98, 1393.537) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1600.25, 1352.536) (added to group)
[12:55:24] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 3/4 -> 2/4
[12:55:24] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1502.635, 1360.228), dir=(1, 0), lethal=false
[12:55:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:24] [INFO] [ImpactEffects] Blood effect spawned at (1502.635, 1360.228) (scale=1)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1594.894, 1369.551) (added to group)
[12:55:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1689.5067, 1233.0651), shooter_id=150088977597, bullet_pos=(1685.1797, 1630.2115)
[12:55:24] [INFO] [Bullet] Using shooter_position, distance=397,17004
[12:55:24] [INFO] [Bullet] Distance to wall: 397,17004 (27,04404% of viewport)
[12:55:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1635.06, 1192.62), source=PLAYER (AssaultRifle), range=1469, listeners=1
[12:55:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1581.24, 1396.039) (added to group)
[12:55:24] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 2/4 -> 1/4
[12:55:24] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1491.014, 1374.836), dir=(1, 0), lethal=false
[12:55:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:24] [INFO] [ImpactEffects] Blood effect spawned at (1491.014, 1374.836) (scale=1)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1598.733, 1396.363) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1645.338, 1393.851) (added to group)
[12:55:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1607.709, 1165.704), source=PLAYER (AssaultRifle), range=1469, listeners=1
[12:55:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[12:55:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1689.5067, 1233.0651), shooter_id=150088977597, bullet_pos=(1506.2235, 1798.7607)
[12:55:24] [INFO] [Bullet] Using shooter_position, distance=594,64636
[12:55:24] [INFO] [Bullet] Distance to wall: 594,64636 (40,490566% of viewport)
[12:55:24] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 1/4 -> 0/4
[12:55:24] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1486.842, 1356.641), dir=(1, 0), lethal=true
[12:55:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:55:24] [INFO] [ImpactEffects] Blood effect spawned at (1486.842, 1356.641) (scale=1.5)
[12:55:24] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[12:55:24] [INFO] [ScoreManager] Kill registered. Combo: 6 (points: 10500)
[12:55:24] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:55:24] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:55:24] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:55:24] [INFO] [PowerFantasy]   - Duration: 300ms
[12:55:24] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 0)
[12:55:24] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[12:55:24] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[12:55:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1716.7306, 1234.0651), shooter_id=150088977597, bullet_pos=(1261.4109, 2062.2825)
[12:55:24] [INFO] [Bullet] Using shooter_position, distance=945,1244
[12:55:24] [INFO] [Bullet] Distance to wall: 945,1244 (64,35526% of viewport)
[12:55:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1584.309, 1151.824), source=PLAYER (AssaultRifle), range=1469, listeners=0
[12:55:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1610.1, 1474.704) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1667.592, 1506.713) (added to group)
[12:55:24] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[12:55:24] [INFO] [PowerFantasy] Ending power fantasy effect
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1599.349, 1352.48) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1555.048, 1399.259) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1572.952, 1390.299) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1604.982, 1418.945) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1587.564, 1396.743) (added to group)
[12:55:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1584.309, 1151.8242), shooter_id=150088977597, bullet_pos=(1258.6874, 1628.1644)
[12:55:24] [INFO] [Bullet] Using shooter_position, distance=577,00037
[12:55:24] [INFO] [Bullet] Distance to wall: 577,00037 (39,289017% of viewport)
[12:55:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1689.5067, 1233.0651), shooter_id=150088977597, bullet_pos=(1888.106, 2060.6128)
[12:55:24] [INFO] [Bullet] Using shooter_position, distance=851,0446
[12:55:24] [INFO] [Bullet] Distance to wall: 851,0446 (57,949196% of viewport)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1630.281, 1450.252) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1617.857, 1400.799) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1545.438, 1403.717) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1569.076, 1381.173) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1568.436, 1373.62) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1544.462, 1356.065) (added to group)
[12:55:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1716.7306, 1234.0651), shooter_id=150088977597, bullet_pos=(896.72363, 1776.9663)
[12:55:24] [INFO] [Bullet] Using shooter_position, distance=983,43945
[12:55:24] [INFO] [Bullet] Distance to wall: 983,43945 (66,9642% of viewport)
[12:55:24] [INFO] [Bullet] Distance-based penetration chance: 68,54176%
[12:55:24] [INFO] [Bullet] Starting wall penetration at (896.72363, 1776.9663)
[12:55:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,512308
[12:55:24] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:24] [INFO] [Bullet] Exiting penetration at (872.6321, 1758.118) after traveling 25,588543 pixels through wall
[12:55:24] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1610.273, 1480.682) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1580.024, 1440.657) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1616.814, 1418.26) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1594.589, 1450.212) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1670.142, 1414.148) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1599.524, 1379.737) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1613.531, 1441.141) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1607.615, 1387.158) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1593.77, 1334.778) (added to group)
[12:55:24] [INFO] [BloodDecal] Blood puddle created at (1660.508, 1470.329) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1619.194, 1476.765) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1671.199, 1509.817) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1571.304, 1413.98) (added to group)
[12:55:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1584.309, 1151.8242), shooter_id=150088977597, bullet_pos=(1481.7561, 2076.5771)
[12:55:25] [INFO] [Bullet] Using shooter_position, distance=930,422
[12:55:25] [INFO] [Bullet] Distance to wall: 930,422 (63,354145% of viewport)
[12:55:25] [ENEMY] [Enemy10] Ragdoll activated
[12:55:25] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1559.3, 1391.64) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1575.535, 1366.225) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1638.783, 1390.851) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1605.018, 1445.827) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1592.501, 1399.785) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1571.931, 1431.749) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1596.045, 1466.209) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1605.602, 1418.279) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1597.097, 1423.339) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1600.375, 1483.092) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1628.521, 1406.141) (added to group)
[12:55:25] [INFO] [BloodDecal] Blood puddle created at (1667.981, 1545.671) (added to group)
[12:55:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1689.5067, 1233.0651), shooter_id=150088977597, bullet_pos=(2468.338, 1629.6669)
[12:55:25] [INFO] [Bullet] Using shooter_position, distance=873,99713
[12:55:25] [INFO] [Bullet] Distance to wall: 873,99713 (59,512074% of viewport)
[12:55:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1689.5067, 1233.0651), shooter_id=150088977597, bullet_pos=(2299.227, 1451.9203)
[12:55:25] [INFO] [Bullet] Using shooter_position, distance=647,809
[12:55:25] [INFO] [Bullet] Distance to wall: 647,809 (44,110508% of viewport)
[12:55:26] [ENEMY] [Enemy10] Death animation completed
[12:55:29] [INFO] [ScoreManager] Combo ended at 6. Max combo: 6
[12:55:29] [INFO] [ScoreManager] Level completed! Final score: 43937, Rank: A+
[12:55:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:30] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:55:30] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:55:30] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:55:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:55:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:55:30] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:55:30] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:55:30] [ENEMY] [Enemy1] Death animation component initialized
[12:55:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:30] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:55:30] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:55:30] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:55:30] [ENEMY] [Enemy2] Death animation component initialized
[12:55:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:30] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:55:30] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:55:30] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:55:30] [ENEMY] [Enemy3] Death animation component initialized
[12:55:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:30] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:55:30] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:55:30] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:55:30] [ENEMY] [Enemy4] Death animation component initialized
[12:55:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:30] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:55:30] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:55:30] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:55:30] [ENEMY] [Enemy5] Death animation component initialized
[12:55:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:30] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:55:30] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:55:30] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:55:30] [ENEMY] [Enemy6] Death animation component initialized
[12:55:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:30] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:55:30] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:55:30] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:55:30] [ENEMY] [Enemy7] Death animation component initialized
[12:55:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:30] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:55:30] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:55:30] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:55:30] [ENEMY] [Enemy8] Death animation component initialized
[12:55:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:30] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:55:30] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:55:30] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:55:30] [INFO] [EnemyGrenade] Initialized: 1 grenades
[12:55:30] [ENEMY] [Enemy9] Death animation component initialized
[12:55:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:30] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:55:30] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:55:30] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:55:30] [ENEMY] [Enemy10] Death animation component initialized
[12:55:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:30] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:55:30] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:55:30] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:55:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:55:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:55:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:55:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:55:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:55:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:55:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:55:30] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:55:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:55:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:55:30] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:55:30] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:55:30] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:55:30] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:55:30] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:55:30] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:55:30] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:55:30] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:55:30] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:55:30] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:55:30] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:55:30] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:55:30] [INFO] [ScoreManager] Level started with 10 enemies
[12:55:30] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:55:30] [INFO] [CinemaEffects] Found player node: Player
[12:55:30] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:55:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[12:55:30] [ENEMY] [Enemy1] Registered as sound listener
[12:55:30] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[12:55:30] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:55:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[12:55:30] [ENEMY] [Enemy2] Registered as sound listener
[12:55:30] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[12:55:30] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:55:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[12:55:30] [ENEMY] [Enemy3] Registered as sound listener
[12:55:30] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[12:55:30] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:55:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[12:55:30] [ENEMY] [Enemy4] Registered as sound listener
[12:55:30] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[12:55:30] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:55:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[12:55:30] [ENEMY] [Enemy5] Registered as sound listener
[12:55:30] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[12:55:30] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:55:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[12:55:30] [ENEMY] [Enemy6] Registered as sound listener
[12:55:30] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[12:55:30] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:55:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[12:55:30] [ENEMY] [Enemy7] Registered as sound listener
[12:55:30] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[12:55:30] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:55:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[12:55:30] [ENEMY] [Enemy8] Registered as sound listener
[12:55:30] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[12:55:30] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:55:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[12:55:30] [ENEMY] [Enemy9] Registered as sound listener
[12:55:30] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[12:55:30] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:55:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[12:55:30] [ENEMY] [Enemy10] Registered as sound listener
[12:55:30] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[12:55:30] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:55:30] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:30] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:30] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:30] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:30] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:30] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:30] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:30] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:55:30] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:55:30] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:55:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:55:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:55:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:55:30] [INFO] [LastChance] Found player: Player
[12:55:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:55:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:55:30] [INFO] [LastChance] Connected to player Died signal (C#)
[12:55:30] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:55:32] [INFO] [PauseMenu] Armory button pressed
[12:55:32] [INFO] [PauseMenu] Creating new armory menu instance
[12:55:32] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[12:55:32] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[12:55:32] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[12:55:32] [INFO] [PauseMenu] back_pressed signal exists on instance
[12:55:32] [INFO] [PauseMenu] back_pressed signal connected
[12:55:32] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[12:55:32] [INFO] [PauseMenu] _populate_weapon_grid method exists
[12:55:45] [INFO] [GameManager] Weapon selected: mini_uzi
[12:55:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:55:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:55:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:55:45] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:55:45] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:55:45] [INFO] [EnemyGrenade] Initialized: 1 grenades
[12:55:45] [ENEMY] [Enemy1] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:55:45] [ENEMY] [Enemy2] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:55:45] [ENEMY] [Enemy3] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:55:45] [ENEMY] [Enemy4] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:55:45] [ENEMY] [Enemy5] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:55:45] [ENEMY] [Enemy6] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:55:45] [ENEMY] [Enemy7] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:55:45] [ENEMY] [Enemy8] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:55:45] [ENEMY] [Enemy9] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:55:45] [ENEMY] [Enemy10] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:55:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:55:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:55:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:55:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:55:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:55:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:55:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:55:45] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:55:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:55:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:55:45] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:55:45] [INFO] [ScoreManager] Level started with 10 enemies
[12:55:45] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:55:45] [INFO] [CinemaEffects] Found player node: Player
[12:55:45] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:55:45] [ENEMY] [Enemy1] Registered as sound listener
[12:55:45] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:55:45] [ENEMY] [Enemy2] Registered as sound listener
[12:55:45] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:55:45] [ENEMY] [Enemy3] Registered as sound listener
[12:55:45] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:55:45] [ENEMY] [Enemy4] Registered as sound listener
[12:55:45] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:55:45] [ENEMY] [Enemy5] Registered as sound listener
[12:55:45] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:55:45] [ENEMY] [Enemy6] Registered as sound listener
[12:55:45] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:55:45] [ENEMY] [Enemy7] Registered as sound listener
[12:55:45] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[12:55:45] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:55:45] [ENEMY] [Enemy8] Registered as sound listener
[12:55:45] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:55:45] [ENEMY] [Enemy9] Registered as sound listener
[12:55:45] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:55:45] [ENEMY] [Enemy10] Registered as sound listener
[12:55:45] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[12:55:45] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:55:45] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:55:45] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[12:55:45] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[12:55:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:55:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:55:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:55:45] [INFO] [LastChance] Found player: Player
[12:55:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:55:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:55:45] [INFO] [LastChance] Connected to player Died signal (C#)
[12:55:45] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:55:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:55:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:55:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:55:45] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:55:45] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:55:45] [ENEMY] [Enemy1] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:55:45] [ENEMY] [Enemy2] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:55:45] [ENEMY] [Enemy3] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:55:45] [ENEMY] [Enemy4] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:55:45] [ENEMY] [Enemy5] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:55:45] [ENEMY] [Enemy6] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:55:45] [ENEMY] [Enemy7] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:55:45] [ENEMY] [Enemy8] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:55:45] [ENEMY] [Enemy9] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:55:45] [ENEMY] [Enemy10] Death animation component initialized
[12:55:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:45] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:55:45] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:55:45] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:55:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:55:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:55:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:55:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:55:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:55:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:55:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:55:45] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:55:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:55:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:55:45] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:55:45] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:55:45] [INFO] [ScoreManager] Level started with 10 enemies
[12:55:45] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:55:45] [INFO] [CinemaEffects] Found player node: Player
[12:55:45] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[12:55:45] [ENEMY] [Enemy1] Registered as sound listener
[12:55:45] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[12:55:45] [ENEMY] [Enemy2] Registered as sound listener
[12:55:45] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[12:55:45] [ENEMY] [Enemy3] Registered as sound listener
[12:55:45] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[12:55:45] [ENEMY] [Enemy4] Registered as sound listener
[12:55:45] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[12:55:45] [ENEMY] [Enemy5] Registered as sound listener
[12:55:45] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[12:55:45] [ENEMY] [Enemy6] Registered as sound listener
[12:55:45] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[12:55:45] [ENEMY] [Enemy7] Registered as sound listener
[12:55:45] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[12:55:45] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[12:55:45] [ENEMY] [Enemy8] Registered as sound listener
[12:55:45] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[12:55:45] [ENEMY] [Enemy9] Registered as sound listener
[12:55:45] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[12:55:45] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:55:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[12:55:45] [ENEMY] [Enemy10] Registered as sound listener
[12:55:45] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[12:55:45] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:55:45] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:55:45] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[12:55:45] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[12:55:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:55:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:55:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:55:45] [INFO] [LastChance] Found player: Player
[12:55:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:55:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:55:45] [INFO] [LastChance] Connected to player Died signal (C#)
[12:55:45] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:55:47] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:55:47] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:55:47] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.2°, current=-168.8°, player=(451,820), corner_timer=0.00
[12:55:47] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:55:47] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(451,820), corner_timer=0.30
[12:55:47] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(451,820), corner_timer=0.30
[12:55:47] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.2°, current=-9.3°, player=(454,810), corner_timer=0.00
[12:55:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.6229, 801.2384), source=PLAYER (MiniUzi), range=1469, listeners=30
[12:55:47] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[12:55:47] [ENEMY] [Enemy1] Heard gunshot at (458.6229, 801.2384), source_type=0, intensity=0.01, distance=478
[12:55:47] [ENEMY] [Enemy2] Heard gunshot at (458.6229, 801.2384), source_type=0, intensity=0.04, distance=258
[12:55:47] [ENEMY] [Enemy4] Heard gunshot at (458.6229, 801.2384), source_type=0, intensity=0.02, distance=355
[12:55:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:55:47] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.6°, current=168.8°, player=(458,801), corner_timer=0.00
[12:55:47] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=76.9°, current=-157.5°, player=(458,801), corner_timer=0.00
[12:55:47] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-163.9°, current=168.8°, player=(458,801), corner_timer=0.00
[12:55:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(466.9378, 788.1826), source=PLAYER (MiniUzi), range=1469, listeners=10
[12:55:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:55:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.91, 776.2275), source=PLAYER (MiniUzi), range=1469, listeners=10
[12:55:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:55:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(490.3426, 766.408), source=PLAYER (MiniUzi), range=1469, listeners=10
[12:55:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:55:47] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[12:55:47] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:47] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6893, 752.7327), dir=(0.989521, -0.144389), lethal=false
[12:55:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:47] [INFO] [ImpactEffects] Blood effect spawned at (689.6893, 752.7327) (scale=0.5)
[12:55:47] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=176.1°, current=171.7°, player=(490,766), corner_timer=0.00
[12:55:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(503.9232, 759.3601), source=PLAYER (MiniUzi), range=1469, listeners=10
[12:55:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:55:47] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[12:55:47] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:47] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6893, 752.7327), dir=(0.983717, -0.179726), lethal=false
[12:55:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:47] [INFO] [ImpactEffects] Blood effect spawned at (689.6893, 752.7327) (scale=0.5)
[12:55:47] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[12:55:47] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:47] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6893, 752.7327), dir=(0.99149, -0.130183), lethal=false
[12:55:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:47] [INFO] [ImpactEffects] Blood effect spawned at (689.6893, 752.7327) (scale=0.5)
[12:55:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(518.652, 755.0839), source=PLAYER (MiniUzi), range=1469, listeners=10
[12:55:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:55:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(518,755), corner_timer=-0.02
[12:55:47] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:55:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(518,755), corner_timer=-0.02
[12:55:47] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:55:47] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[12:55:47] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:47] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6893, 752.7327), dir=(0.994624, -0.103555), lethal=true
[12:55:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:47] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:55:47] [INFO] [ImpactEffects] Blood effect spawned at (689.6893, 752.7327) (scale=0.75)
[12:55:47] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:55:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:55:47] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:55:47] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:55:47] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:55:47] [INFO] [PowerFantasy]   - Duration: 300ms
[12:55:47] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[12:55:47] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:55:47] [INFO] [DeathAnim] Started - Angle: -5.9 deg, Index: 11
[12:55:47] [ENEMY] [Enemy3] Death animation started with hit direction: (0.994624, -0.103555)
[12:55:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(523,754), corner_timer=0.30
[12:55:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(523,754), corner_timer=0.30
[12:55:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(529.6394, 753.7258), source=PLAYER (MiniUzi), range=1469, listeners=9
[12:55:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:55:47] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[12:55:47] [INFO] [PowerFantasy] Ending power fantasy effect
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (770.8027, 755.2858) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (787.0534, 724.5484) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (773.5229, 799.0267) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (818.8, 782.8213) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (768.99, 794.619) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (742.6252, 757.1213) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (776.0589, 722.8713) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (734.0348, 787.1729) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (729.8577, 749.0033) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (831.0887, 821.4034) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (745.9934, 755.0545) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (732.9012, 760.0712) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (768.9038, 797.4254) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (790.4645, 727.1601) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (749.2267, 769.3087) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (806.4662, 783.7805) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (748.7188, 756.455) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (775.4082, 755.1918) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (811.4114, 773.8532) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (808.191, 749.9272) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (798.8663, 786.5248) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (793.6403, 757.2105) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (839.9398, 800.2541) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (801.5752, 780.8414) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (773.349, 732.4412) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (779.4822, 746.4956) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (785.342, 819.6035) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (790.4288, 784.2506) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (871.4002, 849.8259) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (823.7813, 807.6628) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (784.2045, 829.272) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (856.4274, 885.523) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (815.5444, 780.3798) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (826.9329, 775.714) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (864.2855, 829.0579) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (855.0844, 796.5753) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (761.7278, 777.6151) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (856.5458, 834.8253) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (822.7244, 773.9108) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (788.7172, 817.272) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (903.5986, 858.7822) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (792.0187, 821.3934) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (906.4105, 915.5197) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (835.2251, 756.3163) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (850.8342, 855.3641) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (881.9658, 794.3653) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (828.3262, 836.2081) (added to group)
[12:55:48] [INFO] [BloodDecal] Blood puddle created at (792.6, 817.4281) (added to group)
[12:55:48] [INFO] [PauseMenu] Armory button pressed
[12:55:48] [INFO] [PauseMenu] Creating new armory menu instance
[12:55:48] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[12:55:48] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[12:55:48] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[12:55:48] [INFO] [PauseMenu] back_pressed signal exists on instance
[12:55:48] [INFO] [PauseMenu] back_pressed signal connected
[12:55:48] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[12:55:48] [INFO] [PauseMenu] _populate_weapon_grid method exists
[12:55:49] [INFO] [GameManager] Weapon selected: m16
[12:55:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:49] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:55:49] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:55:49] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:55:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:55:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:55:49] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:55:49] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:55:49] [ENEMY] [Enemy1] Death animation component initialized
[12:55:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:49] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:55:49] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:55:49] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:55:49] [ENEMY] [Enemy2] Death animation component initialized
[12:55:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:49] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:55:49] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:55:49] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:55:49] [ENEMY] [Enemy3] Death animation component initialized
[12:55:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:49] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:55:49] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:55:49] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:55:49] [ENEMY] [Enemy4] Death animation component initialized
[12:55:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:49] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:55:49] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:55:49] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:55:49] [ENEMY] [Enemy5] Death animation component initialized
[12:55:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:49] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:55:49] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:55:49] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:55:49] [ENEMY] [Enemy6] Death animation component initialized
[12:55:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:49] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:55:49] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:55:49] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:55:49] [ENEMY] [Enemy7] Death animation component initialized
[12:55:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:49] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:55:49] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:55:49] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:55:49] [ENEMY] [Enemy8] Death animation component initialized
[12:55:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:49] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:55:49] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:55:49] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:55:49] [ENEMY] [Enemy9] Death animation component initialized
[12:55:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:49] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:55:49] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:55:49] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:55:49] [ENEMY] [Enemy10] Death animation component initialized
[12:55:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:49] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:55:49] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:55:49] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:55:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:55:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:55:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:55:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:55:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:55:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:55:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:55:49] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:55:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:55:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:55:49] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:55:49] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:55:49] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:55:49] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:55:49] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:55:49] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:55:49] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:55:49] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:55:49] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:55:49] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:55:49] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:55:49] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:55:49] [INFO] [ScoreManager] Level started with 10 enemies
[12:55:49] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:55:49] [INFO] [CinemaEffects] Found player node: Player
[12:55:49] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:55:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[12:55:49] [ENEMY] [Enemy1] Registered as sound listener
[12:55:49] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[12:55:49] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:55:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[12:55:49] [ENEMY] [Enemy2] Registered as sound listener
[12:55:49] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[12:55:49] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:55:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[12:55:49] [ENEMY] [Enemy3] Registered as sound listener
[12:55:49] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[12:55:49] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:55:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[12:55:49] [ENEMY] [Enemy4] Registered as sound listener
[12:55:49] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[12:55:49] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:55:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[12:55:49] [ENEMY] [Enemy5] Registered as sound listener
[12:55:49] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[12:55:49] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:55:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[12:55:49] [ENEMY] [Enemy6] Registered as sound listener
[12:55:49] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[12:55:49] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:55:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[12:55:49] [ENEMY] [Enemy7] Registered as sound listener
[12:55:49] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[12:55:49] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:55:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[12:55:49] [ENEMY] [Enemy8] Registered as sound listener
[12:55:49] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[12:55:49] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:55:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[12:55:49] [ENEMY] [Enemy9] Registered as sound listener
[12:55:49] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[12:55:49] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:55:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[12:55:49] [ENEMY] [Enemy10] Registered as sound listener
[12:55:49] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[12:55:49] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:55:49] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:49] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:49] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:49] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:49] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:49] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:49] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:49] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:55:49] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:55:49] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:55:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:55:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:55:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:55:49] [INFO] [LastChance] Found player: Player
[12:55:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:55:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:55:49] [INFO] [LastChance] Connected to player Died signal (C#)
[12:55:49] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:55:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:50] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:55:50] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:55:50] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:55:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:55:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:55:50] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:55:50] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:55:50] [ENEMY] [Enemy1] Death animation component initialized
[12:55:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:50] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:55:50] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:55:50] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:55:50] [ENEMY] [Enemy2] Death animation component initialized
[12:55:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:50] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:55:50] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:55:50] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:55:50] [ENEMY] [Enemy3] Death animation component initialized
[12:55:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:50] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:55:50] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:55:50] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:55:50] [ENEMY] [Enemy4] Death animation component initialized
[12:55:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:50] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:55:50] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:55:50] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:55:50] [ENEMY] [Enemy5] Death animation component initialized
[12:55:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:50] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:55:50] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:55:50] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:55:50] [ENEMY] [Enemy6] Death animation component initialized
[12:55:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:50] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:55:50] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:55:50] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:55:50] [ENEMY] [Enemy7] Death animation component initialized
[12:55:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:50] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:55:50] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:55:50] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:55:50] [ENEMY] [Enemy8] Death animation component initialized
[12:55:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:50] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:55:50] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:55:50] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:55:50] [ENEMY] [Enemy9] Death animation component initialized
[12:55:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:50] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:55:50] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:55:50] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:55:50] [ENEMY] [Enemy10] Death animation component initialized
[12:55:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:50] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:55:50] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:55:50] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:55:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:55:50] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:55:50] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:55:50] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:55:50] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:55:50] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:55:50] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:55:50] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:55:50] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:55:50] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:55:50] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:55:50] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:55:50] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:55:50] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:55:50] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:55:50] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:55:50] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:55:50] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:55:50] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:55:50] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:55:50] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:55:50] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:55:50] [INFO] [ScoreManager] Level started with 10 enemies
[12:55:50] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:55:50] [INFO] [CinemaEffects] Found player node: Player
[12:55:50] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:55:50] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[12:55:50] [ENEMY] [Enemy1] Registered as sound listener
[12:55:50] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[12:55:50] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:55:50] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[12:55:50] [ENEMY] [Enemy2] Registered as sound listener
[12:55:50] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[12:55:50] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:55:50] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[12:55:50] [ENEMY] [Enemy3] Registered as sound listener
[12:55:50] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[12:55:50] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:55:50] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[12:55:50] [ENEMY] [Enemy4] Registered as sound listener
[12:55:50] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[12:55:50] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:55:50] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[12:55:50] [ENEMY] [Enemy5] Registered as sound listener
[12:55:50] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[12:55:50] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:55:50] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[12:55:50] [ENEMY] [Enemy6] Registered as sound listener
[12:55:50] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[12:55:50] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:55:50] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[12:55:50] [ENEMY] [Enemy7] Registered as sound listener
[12:55:50] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[12:55:50] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:55:50] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[12:55:50] [ENEMY] [Enemy8] Registered as sound listener
[12:55:50] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[12:55:50] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:55:50] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[12:55:50] [ENEMY] [Enemy9] Registered as sound listener
[12:55:50] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[12:55:50] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:55:50] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[12:55:50] [ENEMY] [Enemy10] Registered as sound listener
[12:55:50] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[12:55:50] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:55:50] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:50] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:50] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:50] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:50] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:50] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:50] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:50] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:55:50] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:55:50] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:55:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:55:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:55:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:55:50] [INFO] [LastChance] Found player: Player
[12:55:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:55:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:55:50] [INFO] [LastChance] Connected to player Died signal (C#)
[12:55:50] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:55:51] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:55:51] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:55:51] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,858), corner_timer=0.30
[12:55:51] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,858), corner_timer=0.30
[12:55:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(447.0062, 794.0632), source=PLAYER (AssaultRifle), range=1469, listeners=29
[12:55:51] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[12:55:51] [ENEMY] [Enemy1] Heard gunshot at (447.0062, 794.0632), source_type=0, intensity=0.01, distance=468
[12:55:51] [ENEMY] [Enemy2] Heard gunshot at (447.0062, 794.0632), source_type=0, intensity=0.04, distance=249
[12:55:51] [ENEMY] [Enemy3] Heard gunshot at (447.0062, 794.0632), source_type=0, intensity=0.04, distance=257
[12:55:51] [ENEMY] [Enemy4] Heard gunshot at (447.0062, 794.0632), source_type=0, intensity=0.02, distance=369
[12:55:51] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:55:51] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=71.4°, current=33.8°, player=(447,788), corner_timer=0.00
[12:55:51] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=78.8°, current=45.0°, player=(447,788), corner_timer=0.00
[12:55:51] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=171.4°, current=-33.8°, player=(447,788), corner_timer=0.00
[12:55:51] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-162.4°, current=168.8°, player=(447,788), corner_timer=0.00
[12:55:51] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=172.5°, current=134.8°, player=(445,783), corner_timer=0.00
[12:55:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(435,764), corner_timer=-0.02
[12:55:51] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:55:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(435,764), corner_timer=-0.02
[12:55:51] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:55:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.7621, 766.9386), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:55:51] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:55:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(432,760), corner_timer=0.30
[12:55:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(432,760), corner_timer=0.30
[12:55:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(447.00616, 794.0632), shooter_id=706790557899, bullet_pos=(914.5376, 761.4629)
[12:55:52] [INFO] [Bullet] Using shooter_position, distance=468,66666
[12:55:52] [INFO] [Bullet] Distance to wall: 468,66666 (31,912374% of viewport)
[12:55:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:52] [INFO] [Bullet] Starting wall penetration at (914.5376, 761.4629)
[12:55:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,152172
[12:55:52] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:52] [INFO] [Bullet] Exiting penetration at (961.09125, 758.2168) after traveling 41,666676 pixels through wall
[12:55:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:55:52] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[12:55:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:52] [INFO] [ImpactEffects] spawn_blood_effect called at (684.1498, 752.1797), dir=(1, 0), lethal=false
[12:55:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:55:52] [INFO] [ImpactEffects] Blood effect spawned at (684.1498, 752.1797) (scale=1)
[12:55:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.0253, 754.0688), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:55:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:55:52] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:55:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.6909, 758.7383), source=ENEMY (Enemy3), range=1469, listeners=10
[12:55:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:55:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(406.3643, 755.2134), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:55:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:55:52] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[12:55:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:55:52] [INFO] [ImpactEffects] spawn_blood_effect called at (674.5966, 763.6572), dir=(1, 0), lethal=true
[12:55:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:55:52] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:55:52] [INFO] [ImpactEffects] Blood effect spawned at (674.5966, 763.6572) (scale=1.5)
[12:55:52] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:55:52] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:55:52] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:55:52] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:55:52] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:55:52] [INFO] [PowerFantasy]   - Duration: 300ms
[12:55:52] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[12:55:52] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:55:52] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[12:55:52] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[12:55:52] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[12:55:52] [INFO] [PowerFantasy] Ending power fantasy effect
[12:55:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(417.02527, 754.06885), shooter_id=706790557899, bullet_pos=(916.9842, 708.8464)
[12:55:52] [INFO] [Bullet] Using shooter_position, distance=502
[12:55:52] [INFO] [Bullet] Distance to wall: 502 (34,182106% of viewport)
[12:55:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:52] [INFO] [Bullet] Starting wall penetration at (916.9842, 708.8464)
[12:55:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,573227
[12:55:52] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:52] [INFO] [Bullet] Exiting penetration at (963.4611, 704.64246) after traveling 41,66667 pixels through wall
[12:55:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:55:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(417.02527, 754.06885), shooter_id=706790557899, bullet_pos=(963.4611, 704.64246)
[12:55:52] [INFO] [Bullet] Using shooter_position, distance=548,6666
[12:55:52] [INFO] [Bullet] Distance to wall: 548,6666 (37,359722% of viewport)
[12:55:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:52] [INFO] [Bullet] Starting wall penetration at (963.4611, 704.64246)
[12:55:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(401,759), corner_timer=-0.01
[12:55:52] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[12:55:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:55:52] [INFO] [Bullet] Exiting penetration at (1009.93805, 700.43854) after traveling 41,66667 pixels through wall
[12:55:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.6°, player=(401,761), corner_timer=0.30
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (750.4623, 759.4019) (added to group)
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (737.5031, 752.4938) (added to group)
[12:55:52] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:55:52] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:55:52] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:55:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(406.36426, 755.2134), shooter_id=706790557899, bullet_pos=(929.18274, 688.95825)
[12:55:52] [INFO] [Bullet] Using shooter_position, distance=526,99994
[12:55:52] [INFO] [Bullet] Distance to wall: 526,99994 (35,884396% of viewport)
[12:55:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:55:52] [INFO] [Bullet] Starting wall penetration at (929.18274, 688.95825)
[12:55:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,794872
[12:55:52] [INFO] [Bullet] Body exited signal received for penetrating body
[12:55:52] [INFO] [Bullet] Exiting penetration at (975.4791, 683.0913) after traveling 41,666668 pixels through wall
[12:55:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (802.8522, 807.4558) (added to group)
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (820.4764, 801.14) (added to group)
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (752.2599, 755.8079) (added to group)
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (744.1615, 744.7886) (added to group)
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (741.5401, 809.525) (added to group)
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (735.3318, 788.3525) (added to group)
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (838.2963, 807.2227) (added to group)
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (780.8253, 782.15) (added to group)
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (814.2522, 813.401) (added to group)
[12:55:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(447,829), corner_timer=-0.02
[12:55:52] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (790.3557, 828.6502) (added to group)
[12:55:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.7°, player=(449,833), corner_timer=0.30
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (767.0863, 781.7241) (added to group)
[12:55:52] [ENEMY] [Enemy3] Ragdoll activated
[12:55:52] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (750.6011, 791.6113) (added to group)
[12:55:52] [INFO] [BloodDecal] Blood puddle created at (789.1794, 765.2061) (added to group)
[12:55:53] [INFO] [BloodDecal] Blood puddle created at (861.1172, 836.6385) (added to group)
[12:55:53] [INFO] [BloodDecal] Blood puddle created at (881.4554, 784.4979) (added to group)
[12:55:53] [INFO] [BloodDecal] Blood puddle created at (839.4348, 821.4783) (added to group)
[12:55:53] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[12:55:53] [ENEMY] [Enemy1] Player reloading: false -> true
[12:55:53] [ENEMY] [Enemy2] Player reloading: false -> true
[12:55:53] [ENEMY] [Enemy3] Player reloading: false -> true
[12:55:53] [ENEMY] [Enemy4] Player reloading: false -> true
[12:55:53] [ENEMY] [Enemy5] Player reloading: false -> true
[12:55:53] [ENEMY] [Enemy6] Player reloading: false -> true
[12:55:53] [ENEMY] [Enemy7] Player reloading: false -> true
[12:55:53] [ENEMY] [Enemy8] Player reloading: false -> true
[12:55:53] [ENEMY] [Enemy9] Player reloading: false -> true
[12:55:53] [ENEMY] [Enemy10] Player reloading: false -> true
[12:55:53] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(460.28, 854.1528), source=PLAYER (Player), range=900, listeners=9
[12:55:53] [ENEMY] [Enemy2] Heard player RELOAD at (460.28, 854.1528), intensity=0.03, distance=310
[12:55:53] [ENEMY] [Enemy4] Heard player RELOAD at (460.28, 854.1528), intensity=0.02, distance=325
[12:55:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[12:55:53] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=501), can_see=false
[12:55:53] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=true (dist=310), can_see=false
[12:55:53] [ENEMY] [Enemy2] Pursuing vulnerability sound at (460.28, 854.1528), distance=310
[12:55:53] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=325), can_see=false
[12:55:53] [ENEMY] [Enemy4] Pursuing vulnerability sound at (460.28, 854.1528), distance=325
[12:55:53] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1338), can_see=false
[12:55:53] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1544), can_see=false
[12:55:53] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1239), can_see=false
[12:55:53] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1558), can_see=false
[12:55:53] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1781), can_see=false
[12:55:53] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1027), can_see=false
[12:55:53] [INFO] [BloodDecal] Blood puddle created at (819.9504, 793.2786) (added to group)
[12:55:53] [INFO] [BloodDecal] Blood puddle created at (810.0496, 800.1337) (added to group)
[12:55:53] [INFO] [BloodDecal] Blood puddle created at (891.9797, 868.2739) (added to group)
[12:55:53] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[12:55:53] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[12:55:53] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(467,868), corner_timer=-0.02
[12:55:53] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[12:55:53] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(467,868), corner_timer=0.30
[12:55:53] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[12:55:53] [ENEMY] [Enemy1] Player reloading: true -> false
[12:55:53] [ENEMY] [Enemy2] Player reloading: true -> false
[12:55:53] [ENEMY] [Enemy3] Player reloading: true -> false
[12:55:53] [ENEMY] [Enemy4] Player reloading: true -> false
[12:55:53] [ENEMY] [Enemy5] Player reloading: true -> false
[12:55:53] [ENEMY] [Enemy6] Player reloading: true -> false
[12:55:53] [ENEMY] [Enemy7] Player reloading: true -> false
[12:55:53] [ENEMY] [Enemy8] Player reloading: true -> false
[12:55:53] [ENEMY] [Enemy9] Player reloading: true -> false
[12:55:53] [ENEMY] [Enemy10] Player reloading: true -> false
[12:55:53] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[12:55:53] [INFO] [Player.Reload.Anim] LeftArm: pos=(14.665396, 5.8318305), target=(24, 6), base=(24, 6)
[12:55:53] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9994237, 7.4155297), target=(-2, 6), base=(-2, 6)
[12:55:53] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=101.5°, current=100.4°, player=(467,868), corner_timer=0.00
[12:55:53] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[12:55:53] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[12:55:53] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=104.1°, current=168.7°, player=(467,868), corner_timer=0.00
[12:55:53] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(467,868), corner_timer=-0.02
[12:55:53] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[12:55:53] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.6°, player=(467,868), corner_timer=0.30
[12:55:53] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=104.1°, current=151.5°, player=(467,868), corner_timer=0.00
[12:55:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:53] [ENEMY] [Enemy3] Death animation completed
[12:55:54] [ENEMY] [Enemy4] Pursuing vulnerability sound at (467.825, 868.6915), distance=160
[12:55:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(467,868), corner_timer=-0.02
[12:55:54] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[12:55:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(467,868), corner_timer=0.30
[12:55:54] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[12:55:54] [ENEMY] [Enemy1] FLANKING started: target=(268.4438, 852.9702), side=left, pos=(245.2775, 401.9333)
[12:55:54] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[12:55:54] [ENEMY] [Enemy1] FLANKING corner check: angle -116.0°
[12:55:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:55:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:54] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:55:54] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:55:54] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:55:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:55:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:55:54] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:55:54] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:55:54] [ENEMY] [Enemy1] Death animation component initialized
[12:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:54] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:55:54] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:55:54] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:55:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[12:55:54] [ENEMY] [Enemy2] Death animation component initialized
[12:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:54] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:55:54] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:55:54] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:55:54] [ENEMY] [Enemy3] Death animation component initialized
[12:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:54] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:55:54] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:55:54] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:55:54] [ENEMY] [Enemy4] Death animation component initialized
[12:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:54] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:55:54] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:55:54] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:55:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[12:55:54] [ENEMY] [Enemy5] Death animation component initialized
[12:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:54] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:55:54] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:55:54] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:55:54] [ENEMY] [Enemy6] Death animation component initialized
[12:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:54] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:55:54] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:55:54] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:55:54] [ENEMY] [Enemy7] Death animation component initialized
[12:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:54] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:55:54] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:55:54] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:55:54] [ENEMY] [Enemy8] Death animation component initialized
[12:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:54] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:55:54] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:55:54] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:55:54] [ENEMY] [Enemy9] Death animation component initialized
[12:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:54] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:55:54] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:55:54] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:55:54] [ENEMY] [Enemy10] Death animation component initialized
[12:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:54] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:55:54] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:55:54] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:55:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:55:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:55:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:55:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:55:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:55:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:55:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:55:54] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:55:54] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:55:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:55:54] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:55:54] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:55:54] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:55:54] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:55:54] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:55:54] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:55:54] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:55:54] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:55:54] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:55:54] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:55:54] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:55:54] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:55:54] [INFO] [ScoreManager] Level started with 10 enemies
[12:55:54] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:55:54] [INFO] [CinemaEffects] Found player node: Player
[12:55:54] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:55:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[12:55:54] [ENEMY] [Enemy1] Registered as sound listener
[12:55:54] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[12:55:54] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:55:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[12:55:54] [ENEMY] [Enemy2] Registered as sound listener
[12:55:54] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[12:55:54] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:55:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[12:55:54] [ENEMY] [Enemy3] Registered as sound listener
[12:55:54] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[12:55:54] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:55:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[12:55:54] [ENEMY] [Enemy4] Registered as sound listener
[12:55:54] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[12:55:54] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:55:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[12:55:54] [ENEMY] [Enemy5] Registered as sound listener
[12:55:54] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[12:55:54] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:55:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[12:55:54] [ENEMY] [Enemy6] Registered as sound listener
[12:55:54] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[12:55:54] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:55:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[12:55:54] [ENEMY] [Enemy7] Registered as sound listener
[12:55:54] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[12:55:54] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:55:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[12:55:54] [ENEMY] [Enemy8] Registered as sound listener
[12:55:54] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[12:55:54] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:55:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[12:55:54] [ENEMY] [Enemy9] Registered as sound listener
[12:55:54] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[12:55:54] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:55:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[12:55:54] [ENEMY] [Enemy10] Registered as sound listener
[12:55:54] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[12:55:54] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:55:54] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:54] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:54] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:54] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:54] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:54] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:54] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:54] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:55:54] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:55:54] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:55:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:55:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:55:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:55:54] [INFO] [LastChance] Found player: Player
[12:55:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:55:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:55:54] [INFO] [LastChance] Connected to player Died signal (C#)
[12:55:54] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:55:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:55:55] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:55:55] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,885), corner_timer=0.30
[12:55:55] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,885), corner_timer=0.30
[12:55:56] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=-168.8°, player=(450,819), corner_timer=0.00
[12:55:56] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:55:56] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-8.9°, player=(450,808), corner_timer=0.00
[12:55:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(452,782), corner_timer=-0.02
[12:55:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:55:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(452,782), corner_timer=-0.02
[12:55:56] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:55:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(454,777), corner_timer=0.30
[12:55:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(454,777), corner_timer=0.30
[12:55:56] [ENEMY] [Enemy4] Memory: high confidence (0.87) - transitioning to PURSUING
[12:55:56] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[12:55:56] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-154.1°, current=-67.5°, player=(475,743), corner_timer=0.00
[12:55:56] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[12:55:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(480,734), corner_timer=-0.02
[12:55:56] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[12:55:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(479,734), corner_timer=0.30
[12:55:56] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[12:55:56] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-145.6°, current=175.9°, player=(476,749), corner_timer=0.05
[12:55:56] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[12:55:56] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=174.4°, current=128.1°, player=(476,774), corner_timer=0.00
[12:55:56] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-147.3°, current=-150.8°, player=(475,784), corner_timer=0.05
[12:55:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:56] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:55:56] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:55:56] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:55:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:55:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:55:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:55:56] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:55:56] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:55:56] [ENEMY] [Enemy1] Death animation component initialized
[12:55:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:56] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:55:56] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:55:56] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:55:56] [ENEMY] [Enemy2] Death animation component initialized
[12:55:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:56] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:55:56] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:55:56] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:55:56] [ENEMY] [Enemy3] Death animation component initialized
[12:55:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:56] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:55:56] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:55:56] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:55:56] [ENEMY] [Enemy4] Death animation component initialized
[12:55:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:56] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:55:56] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:55:56] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:55:56] [ENEMY] [Enemy5] Death animation component initialized
[12:55:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:56] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:55:56] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:55:56] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:55:56] [ENEMY] [Enemy6] Death animation component initialized
[12:55:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:56] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:55:56] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:55:56] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:55:56] [ENEMY] [Enemy7] Death animation component initialized
[12:55:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:56] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:55:56] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:55:56] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:55:56] [ENEMY] [Enemy8] Death animation component initialized
[12:55:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:56] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:55:56] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:55:56] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:55:56] [ENEMY] [Enemy9] Death animation component initialized
[12:55:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:56] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:55:56] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:55:56] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:55:56] [ENEMY] [Enemy10] Death animation component initialized
[12:55:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:55:56] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:55:56] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:55:56] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:55:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:55:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:55:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:55:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:55:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:55:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:55:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:55:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:55:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:55:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:55:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:55:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:55:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:55:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:55:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:55:56] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:55:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:55:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:55:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:55:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:55:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:55:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:55:56] [INFO] [ScoreManager] Level started with 10 enemies
[12:55:56] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:55:56] [INFO] [CinemaEffects] Found player node: Player
[12:55:56] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:55:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[12:55:56] [ENEMY] [Enemy1] Registered as sound listener
[12:55:56] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[12:55:56] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:55:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[12:55:56] [ENEMY] [Enemy2] Registered as sound listener
[12:55:56] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[12:55:56] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:55:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[12:55:56] [ENEMY] [Enemy3] Registered as sound listener
[12:55:56] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[12:55:56] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:55:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[12:55:56] [ENEMY] [Enemy4] Registered as sound listener
[12:55:56] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[12:55:56] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:55:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[12:55:56] [ENEMY] [Enemy5] Registered as sound listener
[12:55:56] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[12:55:56] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:55:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[12:55:56] [ENEMY] [Enemy6] Registered as sound listener
[12:55:56] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[12:55:56] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:55:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[12:55:56] [ENEMY] [Enemy7] Registered as sound listener
[12:55:56] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[12:55:56] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:55:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[12:55:56] [ENEMY] [Enemy8] Registered as sound listener
[12:55:56] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[12:55:56] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:55:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[12:55:56] [ENEMY] [Enemy9] Registered as sound listener
[12:55:56] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[12:55:56] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:55:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[12:55:56] [ENEMY] [Enemy10] Registered as sound listener
[12:55:56] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[12:55:56] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:55:56] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:56] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:56] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:56] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:56] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:56] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:56] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:56] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:55:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:55:56] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:55:56] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:55:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:55:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:55:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:55:56] [INFO] [LastChance] Found player: Player
[12:55:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:55:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:55:56] [INFO] [LastChance] Connected to player Died signal (C#)
[12:55:56] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:55:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:55:57] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:55:57] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:55:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:55:57] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (770.17633, 1175.8627)
[12:55:57] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:55:57] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:55:57] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[12:55:57] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[12:55:57] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[12:55:57] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:55:57] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[12:55:57] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:55:57] [INFO] [Player.Grenade] Step 1 complete! Drag: (263.20038, 33.395264)
[12:55:57] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:55:57] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:55:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:55:58] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:55:58] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1039), corner_timer=0.30
[12:55:58] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1039), corner_timer=0.30
[12:55:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(422,946), corner_timer=-0.02
[12:55:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:55:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(422,946), corner_timer=-0.02
[12:55:58] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:55:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(418,942), corner_timer=0.30
[12:55:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(418,942), corner_timer=0.30
[12:55:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(344,869), corner_timer=-0.02
[12:55:59] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[12:55:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(340,865), corner_timer=0.30
[12:55:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(284,849), corner_timer=-0.02
[12:55:59] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[12:55:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(283,851), corner_timer=0.30
[12:55:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(277,867), corner_timer=-0.02
[12:55:59] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[12:55:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(277,869), corner_timer=0.30
[12:55:59] [INFO] [Player.Grenade.Simple] Throwing! Target: (804.342, 602.4878), Distance: 616,1, Speed: 608,0, Friction: 300,0
[12:55:59] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,47264558
[12:55:59] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:55:59] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.89036703, -0.4552434), speed=608,0, spawn=(331.48376, 844.2596)
[12:55:59] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.890367, -0.455243), Speed: 608.0 (clamped from 608.0, max: 1352.8)
[12:55:59] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:55:59] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:55:59] [INFO] [Player.Grenade] State reset to IDLE
[12:55:59] [INFO] [Player.Grenade] State reset to IDLE
[12:55:59] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:55:59] [INFO] [Player.Grenade] Player rotation restored to 0
[12:56:00] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:56:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(331,933), corner_timer=-0.02
[12:56:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[12:56:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(335,937), corner_timer=0.30
[12:56:00] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[12:56:00] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (230.1501, 506.9982)
[12:56:00] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=-165.8°, current=17.4°, player=(378,980), corner_timer=0.00
[12:56:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:00] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped to safe distance
[12:56:00] [ENEMY] [Enemy2] State: EVADING_GRENADE -> IDLE
[12:56:00] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P5:idle_scan, state=IDLE, target=191.3°, current=-133.7°, player=(437,1010), corner_timer=0.00
[12:56:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(475,1010), corner_timer=-0.02
[12:56:00] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[12:56:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(480,1010), corner_timer=0.30
[12:56:00] [ENEMY] [Enemy3] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[12:56:00] [ENEMY] [Enemy3] EVADING_GRENADE started: escaping to (857.8668, 1161.439)
[12:56:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:00] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=173.4°, current=-49.9°, player=(483,1010), corner_timer=0.00
[12:56:00] [INFO] [GrenadeTimer] Flashbang grenade landed at (656.0882, 678.2899)
[12:56:00] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(656.0882, 678.2899), source=NEUTRAL (FlashbangGrenade), range=112, listeners=29
[12:56:00] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[12:56:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=9, self=0, below_threshold=0
[12:56:00] [INFO] [GrenadeTimer] Emitted grenade landing sound at (656.0882, 678.2899)
[12:56:00] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(656.7803, 677.936), source=NEUTRAL (FlashbangGrenade), range=112, listeners=10
[12:56:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=9, self=0, below_threshold=0
[12:56:00] [INFO] [GrenadeBase] Grenade landed at (656.7803, 677.936)
[12:56:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(483,1010), corner_timer=-0.02
[12:56:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[12:56:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(483,1010), corner_timer=0.30
[12:56:01] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=EVADING_GRENADE, target=93.5°, current=123.6°, player=(483,1010), corner_timer=0.00
[12:56:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(483,1010), corner_timer=-0.02
[12:56:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[12:56:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(483,1010), corner_timer=0.30
[12:56:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:01] [INFO] [GrenadeBase] EXPLODED at (658.0714, 677.2759)!
[12:56:01] [INFO] [PowerFantasy] Grenade exploded - triggering 400ms special last chance effect
[12:56:01] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:56:01] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:56:01] [INFO] [PowerFantasy]   - Duration: 400ms
[12:56:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(658.0714, 677.2759), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=10
[12:56:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[12:56:01] [INFO] [ImpactEffects] Flashbang effect spawned at (658.0714, 677.2759) (radius=400)
[12:56:01] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[12:56:01] [INFO] [GrenadeTimer] EXPLODED at (658.0714, 677.27594)!
[12:56:01] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 400, blindness: 12s, stun: 6s)
[12:56:01] [INFO] [GrenadeTimer] Player behind wall - flashbang blocked (distance: 376,1)
[12:56:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(658.0714, 677.2759), source=NEUTRAL (FlashbangGrenade), range=2938, listeners=10
[12:56:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[12:56:01] [INFO] [GrenadeTimer] Spawned shadow-enabled flashbang effect at (658.0714, 677.27594) (radius: 400)
[12:56:01] [INFO] [PowerFantasy] Effect duration expired after 417.00 ms
[12:56:01] [INFO] [PowerFantasy] Ending power fantasy effect
[12:56:01] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=EVADING_GRENADE, target=90.0°, current=68.1°, player=(483,1010), corner_timer=0.00
[12:56:01] [ENEMY] [Enemy3] EVADING_GRENADE: Escaped to safe distance
[12:56:01] [ENEMY] [Enemy3] State: EVADING_GRENADE -> IDLE
[12:56:01] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[12:56:01] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[12:56:01] [ENEMY] [Enemy3] Memory: high confidence (0.99) - transitioning to PURSUING
[12:56:01] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[12:56:01] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=160.7°, current=168.8°, player=(483,1010), corner_timer=0.00
[12:56:01] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-72.2°, current=76.5°, player=(483,1010), corner_timer=0.00
[12:56:01] [ENEMY] [Enemy3] PURSUING_MEMORY corner check: angle -156.8°
[12:56:01] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-73.5°, current=-84.2°, player=(483,1010), corner_timer=0.30
[12:56:01] [ENEMY] [Enemy3] FLANKING started: target=(289.5378, 1057.54), side=right, pos=(478.0998, 1030.601)
[12:56:01] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[12:56:01] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[12:56:01] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[12:56:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.7°, player=(482,1010), corner_timer=-0.01
[12:56:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[12:56:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.5°, player=(481,1010), corner_timer=0.30
[12:56:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:02] [ENEMY] [Enemy4] PURSUING corner check: angle -89.8°
[12:56:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(407,1010), corner_timer=-0.02
[12:56:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[12:56:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(402,1010), corner_timer=0.30
[12:56:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:02] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:56:02] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:56:02] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:56:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:02] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:56:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:02] [ENEMY] [Enemy1] Death animation component initialized
[12:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:02] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:56:02] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:56:02] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:56:02] [ENEMY] [Enemy2] Death animation component initialized
[12:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:02] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:56:02] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:56:02] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:56:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[12:56:02] [ENEMY] [Enemy3] Death animation component initialized
[12:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:02] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:56:02] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:56:02] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:56:02] [ENEMY] [Enemy4] Death animation component initialized
[12:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:02] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:56:02] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:56:02] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:56:02] [ENEMY] [Enemy5] Death animation component initialized
[12:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:02] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:56:02] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:56:02] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:56:02] [ENEMY] [Enemy6] Death animation component initialized
[12:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:02] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:56:02] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:56:02] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:56:02] [ENEMY] [Enemy7] Death animation component initialized
[12:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:02] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:56:02] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:56:02] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:56:02] [ENEMY] [Enemy8] Death animation component initialized
[12:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:02] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:56:02] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:56:02] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:56:02] [ENEMY] [Enemy9] Death animation component initialized
[12:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:02] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:56:02] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:56:02] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:56:02] [ENEMY] [Enemy10] Death animation component initialized
[12:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:56:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:56:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:56:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:02] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:56:02] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:56:02] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:56:02] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:56:02] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:56:02] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:56:02] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:56:02] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:56:02] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:56:02] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:56:02] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:56:02] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:56:02] [INFO] [ScoreManager] Level started with 10 enemies
[12:56:02] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:56:02] [INFO] [CinemaEffects] Found player node: Player
[12:56:02] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:56:02] [ENEMY] [Enemy1] Registered as sound listener
[12:56:02] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[12:56:02] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:56:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:56:02] [ENEMY] [Enemy2] Registered as sound listener
[12:56:02] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[12:56:02] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:56:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:56:02] [ENEMY] [Enemy3] Registered as sound listener
[12:56:02] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[12:56:02] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:56:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:56:02] [ENEMY] [Enemy4] Registered as sound listener
[12:56:02] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[12:56:02] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:56:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:56:02] [ENEMY] [Enemy5] Registered as sound listener
[12:56:02] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[12:56:02] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:56:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:56:02] [ENEMY] [Enemy6] Registered as sound listener
[12:56:02] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[12:56:02] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:56:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:56:02] [ENEMY] [Enemy7] Registered as sound listener
[12:56:02] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[12:56:02] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:56:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:56:02] [ENEMY] [Enemy8] Registered as sound listener
[12:56:02] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[12:56:02] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:56:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:56:02] [ENEMY] [Enemy9] Registered as sound listener
[12:56:02] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[12:56:02] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:56:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:56:02] [ENEMY] [Enemy10] Registered as sound listener
[12:56:02] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[12:56:02] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:02] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:02] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:02] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:02] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:02] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:02] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:02] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:02] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:02] [INFO] [LastChance] Found player: Player
[12:56:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:02] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:02] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:02] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:02] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:56:02] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:56:03] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:03] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (747.27515, 1002.2078)
[12:56:03] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:56:03] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:56:03] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[12:56:03] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[12:56:03] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[12:56:03] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:56:03] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[12:56:03] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:56:03] [INFO] [Player.Grenade] Step 1 complete! Drag: (171.5268, 0.6679077)
[12:56:03] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:56:03] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:56:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:03] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:56:03] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1149), corner_timer=0.30
[12:56:03] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1149), corner_timer=0.30
[12:56:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1045), corner_timer=-0.02
[12:56:04] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1045), corner_timer=-0.02
[12:56:04] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:56:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1039), corner_timer=0.30
[12:56:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1039), corner_timer=0.30
[12:56:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(402,954), corner_timer=-0.02
[12:56:04] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[12:56:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(398,950), corner_timer=0.30
[12:56:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(324,881), corner_timer=-0.02
[12:56:04] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[12:56:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(320,878), corner_timer=0.30
[12:56:05] [INFO] [Player.Grenade.Simple] Throwing! Target: (792.31696, 541.763), Distance: 610,6, Speed: 605,3, Friction: 300,0
[12:56:05] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,58736974
[12:56:05] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:56:05] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.8324012, -0.5541735), speed=605,3, spawn=(354.13712, 833.4825)
[12:56:05] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.832401, -0.554174), Speed: 605.3 (clamped from 605.3, max: 1352.8)
[12:56:05] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:56:05] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:56:05] [INFO] [Player.Grenade] State reset to IDLE
[12:56:05] [INFO] [Player.Grenade] State reset to IDLE
[12:56:05] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:56:05] [ENEMY] [Enemy3] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[12:56:05] [ENEMY] [Enemy3] EVADING_GRENADE started: escaping to (578.7122, 944.4738)
[12:56:05] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=140.7°, current=147.2°, player=(300,864), corner_timer=0.00
[12:56:05] [INFO] [Player.Grenade] Player rotation restored to 0
[12:56:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(300,866), corner_timer=-0.02
[12:56:05] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[12:56:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(301,867), corner_timer=0.30
[12:56:05] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:56:05] [ENEMY] [Enemy3] EVADING_GRENADE: Escaped to safe distance
[12:56:05] [ENEMY] [Enemy3] State: EVADING_GRENADE -> IDLE
[12:56:05] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P5:idle_scan, state=IDLE, target=292.5°, current=-177.2°, player=(318,885), corner_timer=0.00
[12:56:05] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[12:56:05] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (221.201, 537.9476)
[12:56:05] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=-176.1°, current=15.6°, player=(336,903), corner_timer=0.00
[12:56:05] [ENEMY] [Enemy3] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[12:56:05] [ENEMY] [Enemy3] EVADING_GRENADE started: escaping to (529.8735, 1076.786)
[12:56:05] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=-108.8°, current=-122.8°, player=(363,930), corner_timer=0.00
[12:56:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(363,930), corner_timer=-0.02
[12:56:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[12:56:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(367,934), corner_timer=0.30
[12:56:05] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped to safe distance
[12:56:05] [ENEMY] [Enemy2] State: EVADING_GRENADE -> IDLE
[12:56:05] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P5:idle_scan, state=IDLE, target=337.5°, current=-149.1°, player=(391,958), corner_timer=0.00
[12:56:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:06] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=EVADING_GRENADE, target=90.4°, current=139.9°, player=(472,1034), corner_timer=0.00
[12:56:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(482,1043), corner_timer=-0.02
[12:56:06] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[12:56:06] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(655.1863, 633.0581), source=NEUTRAL (FlashbangGrenade), range=112, listeners=20
[12:56:06] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:56:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[12:56:06] [INFO] [GrenadeBase] Grenade landed at (655.1863, 633.0581)
[12:56:06] [INFO] [GrenadeTimer] Flashbang grenade landed at (655.1863, 633.0581)
[12:56:06] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(655.1863, 633.0581), source=NEUTRAL (FlashbangGrenade), range=112, listeners=10
[12:56:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[12:56:06] [INFO] [GrenadeTimer] Emitted grenade landing sound at (655.1863, 633.0581)
[12:56:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(485,1045), corner_timer=0.30
[12:56:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:06] [ENEMY] [Enemy3] EVADING_GRENADE: Escaped to safe distance
[12:56:06] [ENEMY] [Enemy3] State: EVADING_GRENADE -> IDLE
[12:56:06] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:56:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(494,1052), corner_timer=-0.02
[12:56:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[12:56:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(494,1052), corner_timer=0.30
[12:56:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(494,1052), corner_timer=-0.02
[12:56:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[12:56:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(494,1052), corner_timer=0.30
[12:56:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.6884, 1016.241), source=ENEMY (Enemy3), range=1469, listeners=10
[12:56:07] [ENEMY] [Enemy4] Heard gunshot at (475.6884, 1016.241), source_type=1, intensity=0.02, distance=345
[12:56:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[12:56:07] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=153.4°, current=-67.5°, player=(494,1052), corner_timer=0.00
[12:56:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(494,1052), corner_timer=-0.02
[12:56:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[12:56:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(494,1052), corner_timer=0.30
[12:56:07] [INFO] [GrenadeBase] EXPLODED at (656.8204, 631.9701)!
[12:56:07] [INFO] [PowerFantasy] Grenade exploded - triggering 400ms special last chance effect
[12:56:07] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:56:07] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:56:07] [INFO] [PowerFantasy]   - Duration: 400ms
[12:56:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(656.8204, 631.9701), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=10
[12:56:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[12:56:07] [INFO] [ImpactEffects] Flashbang effect spawned at (656.8204, 631.9701) (radius=400)
[12:56:07] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[12:56:07] [INFO] [GrenadeTimer] EXPLODED at (656.82043, 631.9701)!
[12:56:07] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 400, blindness: 12s, stun: 6s)
[12:56:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(656.8204, 631.9701), source=NEUTRAL (FlashbangGrenade), range=2938, listeners=10
[12:56:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[12:56:07] [INFO] [GrenadeTimer] Spawned shadow-enabled flashbang effect at (656.82043, 631.9701) (radius: 400)
[12:56:07] [INFO] [GrenadeTimer] Scattered 1 casings
[12:56:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.6884, 1016.241), source=ENEMY (Enemy3), range=1469, listeners=10
[12:56:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[12:56:07] [INFO] [PowerFantasy] Effect duration expired after 400.00 ms
[12:56:07] [INFO] [PowerFantasy] Ending power fantasy effect
[12:56:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(500.36435, 1079.6583), shooter_id=994335263583, bullet_pos=(663.83325, 1389.1395)
[12:56:07] [INFO] [Bullet] Using shooter_position, distance=350,001
[12:56:07] [INFO] [Bullet] Distance to wall: 350,001 (23,832212% of viewport)
[12:56:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:56:07] [INFO] [Bullet] Starting wall penetration at (663.83325, 1389.1395)
[12:56:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,81314
[12:56:07] [INFO] [Bullet] Body exited signal received for penetrating body
[12:56:07] [INFO] [Bullet] Exiting penetration at (685.62915, 1430.4036) after traveling 41,66667 pixels through wall
[12:56:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:56:07] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:56:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.6884, 1016.241), source=ENEMY (Enemy3), range=1469, listeners=10
[12:56:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[12:56:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(500.36435, 1079.6583), shooter_id=994335263583, bullet_pos=(661.88763, 1385.4545)
[12:56:07] [INFO] [Bullet] Using shooter_position, distance=345,83386
[12:56:07] [INFO] [Bullet] Distance to wall: 345,83386 (23,548464% of viewport)
[12:56:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:56:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.8785, 996.5353), source=ENEMY (Enemy3), range=1469, listeners=10
[12:56:07] [ENEMY] [Enemy2] Heard gunshot at (458.8785, 996.5353), source_type=1, intensity=0.01, distance=499
[12:56:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:56:07] [INFO] [Player] Spawning blood effect at (494.99503, 1052.7927), dir=(1, 0), lethal=False (C#)
[12:56:07] [INFO] [ImpactEffects] spawn_blood_effect called at (494.995, 1052.793), dir=(1, 0), lethal=false
[12:56:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:07] [INFO] [ImpactEffects] Blood effect spawned at (494.995, 1052.793) (scale=1)
[12:56:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[12:56:07] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[12:56:07] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=65.0°, current=-22.5°, player=(494,1052), corner_timer=0.00
[12:56:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.6°, player=(494,1052), corner_timer=-0.01
[12:56:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[12:56:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.4°, player=(494,1052), corner_timer=0.30
[12:56:07] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[12:56:07] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[12:56:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.05, 973.198), source=ENEMY (Enemy3), range=1469, listeners=10
[12:56:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:56:07] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=74.5°, current=33.8°, player=(494,1052), corner_timer=0.00
[12:56:07] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[12:56:07] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:56:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.2102, 954.4754), source=ENEMY (Enemy3), range=1469, listeners=10
[12:56:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:56:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(518.55884, 1021.0664)
[12:56:08] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:56:08] [INFO] [Bullet] Using shooter_position, distance=1145,1986
[12:56:08] [INFO] [Bullet] Distance to wall: 1145,1986 (77,97868% of viewport)
[12:56:08] [INFO] [Bullet] Distance-based penetration chance: 55,69154%
[12:56:08] [INFO] [Bullet] Starting wall penetration at (518.55884, 1021.0664)
[12:56:08] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:56:08] [INFO] [Bullet] Exiting penetration at (565.2255, 1021.0664) after traveling 41,666668 pixels through wall
[12:56:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:56:08] [INFO] [BloodDecal] Blood puddle created at (573.3333, 1069.158) (added to group)
[12:56:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:08] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:56:08] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:56:08] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:56:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:08] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:56:08] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:08] [ENEMY] [Enemy1] Death animation component initialized
[12:56:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:08] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:56:08] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:56:08] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:56:08] [ENEMY] [Enemy2] Death animation component initialized
[12:56:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:08] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:56:08] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:56:08] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:56:08] [ENEMY] [Enemy3] Death animation component initialized
[12:56:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:08] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:56:08] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:56:08] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:56:08] [ENEMY] [Enemy4] Death animation component initialized
[12:56:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:08] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:56:08] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:56:08] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:56:08] [ENEMY] [Enemy5] Death animation component initialized
[12:56:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:08] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:56:08] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:56:08] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:56:08] [ENEMY] [Enemy6] Death animation component initialized
[12:56:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:08] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:56:08] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:56:08] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:56:08] [ENEMY] [Enemy7] Death animation component initialized
[12:56:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:08] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:56:08] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:56:08] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:56:08] [ENEMY] [Enemy8] Death animation component initialized
[12:56:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:08] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:56:08] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:56:08] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:56:08] [ENEMY] [Enemy9] Death animation component initialized
[12:56:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:08] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:56:08] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:56:08] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:56:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[12:56:08] [ENEMY] [Enemy10] Death animation component initialized
[12:56:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:08] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:08] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:08] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:56:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:56:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:08] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:56:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:08] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:56:08] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:56:08] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:56:08] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:56:08] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:56:08] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:56:08] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:56:08] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:56:08] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:56:08] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:56:08] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:56:08] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:56:08] [INFO] [ScoreManager] Level started with 10 enemies
[12:56:08] [INFO] [BloodDecal] Blood puddle created at (546.9476, 1057.828) (added to group)
[12:56:08] [INFO] [BloodDecal] Blood puddle created at (544.3111, 1059.16) (added to group)
[12:56:08] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:56:08] [INFO] [CinemaEffects] Found player node: Player
[12:56:08] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:56:08] [ENEMY] [Enemy1] Registered as sound listener
[12:56:08] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[12:56:08] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:56:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:56:08] [ENEMY] [Enemy2] Registered as sound listener
[12:56:08] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[12:56:08] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:56:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:56:08] [ENEMY] [Enemy3] Registered as sound listener
[12:56:08] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[12:56:08] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:56:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:56:08] [ENEMY] [Enemy4] Registered as sound listener
[12:56:08] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[12:56:08] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:56:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:56:08] [ENEMY] [Enemy5] Registered as sound listener
[12:56:08] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[12:56:08] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:56:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:56:08] [ENEMY] [Enemy6] Registered as sound listener
[12:56:08] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[12:56:08] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:56:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:56:08] [ENEMY] [Enemy7] Registered as sound listener
[12:56:08] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[12:56:08] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:56:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:56:08] [ENEMY] [Enemy8] Registered as sound listener
[12:56:08] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[12:56:08] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:56:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:56:08] [ENEMY] [Enemy9] Registered as sound listener
[12:56:08] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[12:56:08] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:56:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:56:08] [ENEMY] [Enemy10] Registered as sound listener
[12:56:08] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[12:56:08] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:08] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:08] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:08] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:08] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:08] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:08] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:08] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:08] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:08] [INFO] [LastChance] Found player: Player
[12:56:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:08] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:08] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:08] [INFO] [BloodDecal] Blood puddle created at (596.7421, 1106.671) (added to group)
[12:56:08] [INFO] [BloodDecal] Blood puddle created at (561.6238, 1106.343) (added to group)
[12:56:08] [INFO] [BloodDecal] Blood puddle created at (619.7827, 1168.314) (added to group)
[12:56:08] [INFO] [BloodDecal] Blood puddle created at (619.5981, 1162.004) (added to group)
[12:56:08] [INFO] [BloodDecal] Blood puddle created at (590.3828, 1099.53) (added to group)
[12:56:08] [INFO] [BloodDecal] Blood puddle created at (634.9293, 1119.625) (added to group)
[12:56:08] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:08] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:56:08] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:56:08] [INFO] [BloodDecal] Blood puddle created at (597.6832, 1150.367) (added to group)
[12:56:08] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:08] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (730.7609, 1119.7588)
[12:56:08] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:56:08] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:56:08] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[12:56:08] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[12:56:08] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[12:56:08] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:56:08] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[12:56:08] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:56:08] [INFO] [Player.Grenade] Step 1 complete! Drag: (129.58862, -3.3394775)
[12:56:08] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:56:08] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:56:09] [INFO] [Player.Grenade.Simple] Throwing! Target: (1111.6528, 1216.6049), Distance: 698,9, Speed: 647,6, Friction: 300,0
[12:56:09] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,050429508
[12:56:09] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:56:09] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9987287, -0.050408136), speed=647,6, spawn=(509.9237, 1246.9755)
[12:56:09] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.998729, -0.050408), Speed: 647.6 (clamped from 647.6, max: 1352.8)
[12:56:09] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:56:09] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:56:09] [INFO] [Player.Grenade] State reset to IDLE
[12:56:09] [INFO] [Player.Grenade] State reset to IDLE
[12:56:09] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:56:09] [INFO] [Player.Grenade] Player rotation restored to 0
[12:56:09] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:56:09] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:09] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:56:09] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[12:56:09] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[12:56:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[12:56:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[12:56:10] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:56:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[12:56:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[12:56:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[12:56:10] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[12:56:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[12:56:10] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(922.4317, 1226.155), source=NEUTRAL (FlashbangGrenade), range=112, listeners=20
[12:56:10] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:56:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[12:56:10] [INFO] [GrenadeBase] Grenade landed at (922.4317, 1226.155)
[12:56:10] [INFO] [GrenadeTimer] Flashbang grenade landed at (922.4317, 1226.1552)
[12:56:10] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(922.4317, 1226.155), source=NEUTRAL (FlashbangGrenade), range=112, listeners=10
[12:56:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[12:56:10] [INFO] [GrenadeTimer] Emitted grenade landing sound at (922.4317, 1226.1552)
[12:56:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1250), corner_timer=-0.02
[12:56:10] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[12:56:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1250), corner_timer=0.30
[12:56:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1250), corner_timer=-0.02
[12:56:11] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[12:56:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1250), corner_timer=0.30
[12:56:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1250), corner_timer=-0.02
[12:56:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[12:56:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,1250), corner_timer=0.30
[12:56:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,1250), corner_timer=-0.02
[12:56:11] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[12:56:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,1250), corner_timer=0.30
[12:56:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,1250), corner_timer=-0.02
[12:56:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[12:56:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,1250), corner_timer=0.30
[12:56:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(450,1250), corner_timer=-0.02
[12:56:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[12:56:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(450,1250), corner_timer=0.30
[12:56:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:12] [INFO] [GrenadeBase] EXPLODED at (924.3513, 1226.058)!
[12:56:12] [INFO] [PowerFantasy] Grenade exploded - triggering 400ms special last chance effect
[12:56:12] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:56:12] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:56:12] [INFO] [PowerFantasy]   - Duration: 400ms
[12:56:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(924.3513, 1226.058), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=10
[12:56:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:56:12] [INFO] [ImpactEffects] Flashbang effect spawned at (924.3513, 1226.058) (radius=400)
[12:56:12] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[12:56:12] [INFO] [GrenadeTimer] EXPLODED at (924.35126, 1226.0583)!
[12:56:12] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 400, blindness: 12s, stun: 6s)
[12:56:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(924.3513, 1226.058), source=NEUTRAL (FlashbangGrenade), range=2938, listeners=10
[12:56:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:56:12] [INFO] [GrenadeTimer] Spawned shadow-enabled flashbang effect at (924.35126, 1226.0583) (radius: 400)
[12:56:13] [INFO] [PowerFantasy] Effect duration expired after 401.00 ms
[12:56:13] [INFO] [PowerFantasy] Ending power fantasy effect
[12:56:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.7°, player=(450,1250), corner_timer=-0.01
[12:56:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[12:56:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.5°, player=(450,1250), corner_timer=0.30
[12:56:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(450,1250), corner_timer=-0.02
[12:56:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[12:56:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(450,1250), corner_timer=0.30
[12:56:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(450,1246), corner_timer=-0.02
[12:56:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:56:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(450,1245), corner_timer=0.30
[12:56:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(450,1160), corner_timer=-0.02
[12:56:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:56:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(450,1155), corner_timer=0.30
[12:56:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(450,1054), corner_timer=-0.02
[12:56:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:56:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(450,1051), corner_timer=0.30
[12:56:14] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:14] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:14] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(450,1026), corner_timer=-0.02
[12:56:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:56:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(450,1026), corner_timer=0.30
[12:56:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(450,1026), corner_timer=-0.02
[12:56:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[12:56:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(450,1026), corner_timer=0.30
[12:56:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:15] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:56:15] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:56:15] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:56:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:15] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:56:15] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:15] [ENEMY] [Enemy1] Death animation component initialized
[12:56:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:15] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:56:15] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:56:15] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:56:15] [ENEMY] [Enemy2] Death animation component initialized
[12:56:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:15] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:56:15] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:56:15] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:56:15] [ENEMY] [Enemy3] Death animation component initialized
[12:56:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:15] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:56:15] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:56:15] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:56:15] [ENEMY] [Enemy4] Death animation component initialized
[12:56:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:15] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:56:15] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:56:15] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:56:15] [ENEMY] [Enemy5] Death animation component initialized
[12:56:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:15] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:56:15] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:56:15] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:56:15] [ENEMY] [Enemy6] Death animation component initialized
[12:56:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:15] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:56:15] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:56:15] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:56:15] [ENEMY] [Enemy7] Death animation component initialized
[12:56:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:15] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:56:15] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:56:15] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:56:15] [ENEMY] [Enemy8] Death animation component initialized
[12:56:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:15] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:56:15] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:56:15] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:56:15] [ENEMY] [Enemy9] Death animation component initialized
[12:56:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:15] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:56:15] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:56:15] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:56:15] [ENEMY] [Enemy10] Death animation component initialized
[12:56:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:15] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:15] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:15] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:56:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:56:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:56:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:15] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:56:15] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:56:15] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:56:15] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:56:15] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:56:15] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:56:15] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:56:15] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:56:15] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:56:15] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:56:15] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:56:15] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:56:15] [INFO] [ScoreManager] Level started with 10 enemies
[12:56:15] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:56:15] [INFO] [CinemaEffects] Found player node: Player
[12:56:15] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:56:15] [ENEMY] [Enemy1] Registered as sound listener
[12:56:15] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[12:56:15] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:56:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:56:15] [ENEMY] [Enemy2] Registered as sound listener
[12:56:15] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[12:56:15] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:56:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:56:15] [ENEMY] [Enemy3] Registered as sound listener
[12:56:15] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[12:56:15] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:56:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:56:15] [ENEMY] [Enemy4] Registered as sound listener
[12:56:15] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[12:56:15] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:56:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:56:15] [ENEMY] [Enemy5] Registered as sound listener
[12:56:15] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[12:56:15] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:56:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:56:15] [ENEMY] [Enemy6] Registered as sound listener
[12:56:15] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[12:56:15] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:56:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:56:15] [ENEMY] [Enemy7] Registered as sound listener
[12:56:15] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[12:56:15] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:56:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:56:15] [ENEMY] [Enemy8] Registered as sound listener
[12:56:15] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[12:56:15] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:56:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:56:15] [ENEMY] [Enemy9] Registered as sound listener
[12:56:15] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[12:56:15] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:56:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:56:15] [ENEMY] [Enemy10] Registered as sound listener
[12:56:15] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[12:56:15] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:15] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:15] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:15] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:15] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:15] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:15] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:15] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:15] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:15] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:15] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:15] [INFO] [LastChance] Found player: Player
[12:56:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:15] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:15] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:16] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:16] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:56:16] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:56:16] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:16] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (893.5073, 975.323)
[12:56:16] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:56:16] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:56:16] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[12:56:16] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[12:56:16] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[12:56:16] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:56:16] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1149.6666)
[12:56:16] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:56:16] [INFO] [Player.Grenade] Step 1 complete! Drag: (173.09985, 11.257874)
[12:56:16] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:56:16] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:56:17] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:17] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:56:17] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(378,882), corner_timer=0.30
[12:56:17] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(378,882), corner_timer=0.30
[12:56:17] [INFO] [Player.Grenade.Simple] Throwing! Target: (868.4415, 550.25507), Distance: 638,2, Speed: 618,8, Friction: 300,0
[12:56:17] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,5476283
[12:56:17] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:56:17] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.85376185, -0.52066386), speed=618,8, spawn=(398.73798, 836.7023)
[12:56:17] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.853762, -0.520664), Speed: 618.8 (clamped from 618.8, max: 1352.8)
[12:56:17] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:56:17] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:56:17] [INFO] [Player.Grenade] State reset to IDLE
[12:56:17] [INFO] [Player.Grenade] State reset to IDLE
[12:56:17] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:56:17] [ENEMY] [Enemy3] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[12:56:17] [ENEMY] [Enemy3] EVADING_GRENADE started: escaping to (557.6974, 899.7134)
[12:56:17] [INFO] [Player.Grenade] Player rotation restored to 0
[12:56:17] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=140.7°, current=147.2°, player=(330,861), corner_timer=0.00
[12:56:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(316,857), corner_timer=-0.02
[12:56:17] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(316,857), corner_timer=-0.02
[12:56:17] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:56:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(314,857), corner_timer=0.30
[12:56:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(314,857), corner_timer=0.30
[12:56:17] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:56:17] [ENEMY] [Enemy3] EVADING_GRENADE: Escaped to safe distance
[12:56:17] [ENEMY] [Enemy3] State: EVADING_GRENADE -> IDLE
[12:56:17] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P5:idle_scan, state=IDLE, target=303.8°, current=-158.6°, player=(306,872), corner_timer=0.00
[12:56:17] [ENEMY] [Enemy3] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[12:56:17] [ENEMY] [Enemy3] EVADING_GRENADE started: escaping to (473.6655, 1014.481)
[12:56:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(304,923), corner_timer=-0.02
[12:56:17] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[12:56:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(304,929), corner_timer=0.30
[12:56:17] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=-111.9°, current=-103.5°, player=(304,934), corner_timer=0.00
[12:56:18] [ENEMY] [Enemy4] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[12:56:18] [ENEMY] [Enemy4] EVADING_GRENADE started: escaping to (845.2772, 1139.688)
[12:56:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(304,1026), corner_timer=-0.02
[12:56:18] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[12:56:18] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=-98.0°, current=-83.8°, player=(304,1029), corner_timer=0.00
[12:56:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(304,1029), corner_timer=0.30
[12:56:18] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=EVADING_GRENADE, target=131.2°, current=176.8°, player=(304,1035), corner_timer=0.00
[12:56:18] [ENEMY] [Enemy3] EVADING_GRENADE: Escaped to safe distance
[12:56:18] [ENEMY] [Enemy3] State: EVADING_GRENADE -> IDLE
[12:56:18] [INFO] [GrenadeTimer] Flashbang grenade landed at (720.8033, 640.29193)
[12:56:18] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(720.8033, 640.2919), source=NEUTRAL (FlashbangGrenade), range=112, listeners=20
[12:56:18] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:56:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[12:56:18] [INFO] [GrenadeTimer] Emitted grenade landing sound at (720.8033, 640.29193)
[12:56:18] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:56:18] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(721.5048, 639.8641), source=NEUTRAL (FlashbangGrenade), range=112, listeners=10
[12:56:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[12:56:18] [INFO] [GrenadeBase] Grenade landed at (721.5048, 639.8641)
[12:56:18] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=156.5°, current=-148.6°, player=(304,1047), corner_timer=0.00
[12:56:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(304,1047), corner_timer=-0.02
[12:56:18] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[12:56:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(304,1047), corner_timer=0.30
[12:56:18] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=156.5°, current=-154.3°, player=(304,1047), corner_timer=0.00
[12:56:18] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[12:56:18] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[12:56:18] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=100.9°, current=-157.5°, player=(304,1047), corner_timer=0.00
[12:56:18] [ENEMY] [Enemy2] PURSUING corner check: angle 180.0°
[12:56:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(304,1047), corner_timer=-0.02
[12:56:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[12:56:18] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=EVADING_GRENADE, target=123.1°, current=165.8°, player=(304,1047), corner_timer=0.00
[12:56:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(304,1047), corner_timer=0.30
[12:56:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(473.9987, 973.3221), source=ENEMY (Enemy3), range=1469, listeners=10
[12:56:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:56:19] [ENEMY] [Enemy4] EVADING_GRENADE: Escaped to safe distance
[12:56:19] [ENEMY] [Enemy4] State: EVADING_GRENADE -> IDLE
[12:56:19] [INFO] [LastChance] Threat detected: Bullet
[12:56:19] [INFO] [LastChance] Not in hard mode - effect disabled
[12:56:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:56:19] [ENEMY] [Enemy4] State: IDLE -> COMBAT
[12:56:19] [ENEMY] [Enemy1] Memory: medium confidence (0.76) - transitioning to PURSUING
[12:56:19] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[12:56:19] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=91.1°, current=33.8°, player=(286,1047), corner_timer=0.00
[12:56:19] [INFO] [Player] Spawning blood effect at (282.48465, 1047.2015), dir=(1, 0), lethal=False (C#)
[12:56:19] [INFO] [ImpactEffects] spawn_blood_effect called at (282.4846, 1047.202), dir=(1, 0), lethal=false
[12:56:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:19] [INFO] [ImpactEffects] Blood effect spawned at (282.4846, 1047.202) (scale=1)
[12:56:19] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[12:56:19] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[12:56:19] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[12:56:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(473.9987, 973.3221), source=ENEMY (Enemy3), range=1469, listeners=10
[12:56:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:56:19] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=177.3°, current=-129.8°, player=(269,1047), corner_timer=0.00
[12:56:19] [INFO] [LastChance] Threat detected: Bullet
[12:56:19] [INFO] [LastChance] Not in hard mode - effect disabled
[12:56:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:56:19] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=177.4°, current=-135.4°, player=(259,1047), corner_timer=0.00
[12:56:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(259,1047), corner_timer=-0.02
[12:56:19] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[12:56:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(253,1047), corner_timer=0.30
[12:56:19] [INFO] [Player] Spawning blood effect at (242.6513, 1047.2015), dir=(1, 0), lethal=False (C#)
[12:56:19] [INFO] [ImpactEffects] spawn_blood_effect called at (242.6513, 1047.202), dir=(1, 0), lethal=false
[12:56:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:19] [INFO] [ImpactEffects] Blood effect spawned at (242.6513, 1047.202) (scale=1)
[12:56:19] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[12:56:19] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[12:56:19] [ENEMY] [Enemy1] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[12:56:19] [ENEMY] [Enemy1] EVADING_GRENADE started: escaping to (290.8428, 340.7618)
[12:56:19] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=-50.9°, current=83.3°, player=(237,1047), corner_timer=0.18
[12:56:19] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:56:19] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:56:19] [ENEMY] [Enemy1] EVADING_GRENADE: Escaped to safe distance
[12:56:19] [ENEMY] [Enemy1] State: EVADING_GRENADE -> PURSUING
[12:56:19] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=98.4°, current=49.6°, player=(226,1047), corner_timer=0.18
[12:56:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (356.8835, 1053.401) (added to group)
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (328.2027, 1061.256) (added to group)
[12:56:19] [ENEMY] [Enemy1] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[12:56:19] [ENEMY] [Enemy1] EVADING_GRENADE started: escaping to (283.3626, 351.8993)
[12:56:19] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=-50.9°, current=72.7°, player=(165,1047), corner_timer=0.03
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (309.3668, 1055.108) (added to group)
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (380.7979, 1051.864) (added to group)
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (340.0993, 1057.017) (added to group)
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (294.8615, 1080.108) (added to group)
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (398.6467, 1052.648) (added to group)
[12:56:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(149,1046), corner_timer=-0.02
[12:56:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[12:56:19] [ENEMY] [Enemy1] EVADING_GRENADE: Escaped to safe distance
[12:56:19] [ENEMY] [Enemy1] State: EVADING_GRENADE -> PURSUING
[12:56:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(144,1046), corner_timer=0.30
[12:56:19] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=104.7°, current=-30.7°, player=(138,1045), corner_timer=0.03
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (301.2011, 1076.663) (added to group)
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (400.8124, 1127.792) (added to group)
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (317.6094, 1074) (added to group)
[12:56:19] [ENEMY] [Enemy1] PURSUING corner check: angle -76.9°
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (318.2501, 1070.433) (added to group)
[12:56:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:19] [ENEMY] [Enemy1] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[12:56:19] [ENEMY] [Enemy1] EVADING_GRENADE started: escaping to (290.0195, 341.9579)
[12:56:19] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=-76.9°, current=82.3°, player=(100,1024), corner_timer=0.25
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (418.8577, 1083.106) (added to group)
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (397.5788, 1134.17) (added to group)
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (378.6446, 1182.373) (added to group)
[12:56:19] [ENEMY] [Enemy1] EVADING_GRENADE: Escaped to safe distance
[12:56:19] [ENEMY] [Enemy1] State: EVADING_GRENADE -> PURSUING
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (469.6742, 1048.896) (added to group)
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (318.5729, 1144.963) (added to group)
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (419.0119, 1120.711) (added to group)
[12:56:19] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=109.6°, current=-0.4°, player=(89,1009), corner_timer=0.25
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (412.9643, 1151.679) (added to group)
[12:56:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(82,987), corner_timer=-0.02
[12:56:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (378.0923, 1131.751) (added to group)
[12:56:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(81,981), corner_timer=0.30
[12:56:19] [INFO] [BloodDecal] Blood puddle created at (392.529, 1194.801) (added to group)
[12:56:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:20] [ENEMY] [Enemy1] PURSUING corner check: angle -59.6°
[12:56:20] [INFO] [GrenadeBase] EXPLODED at (722.8953, 639.0161)!
[12:56:20] [INFO] [PowerFantasy] Grenade exploded - triggering 400ms special last chance effect
[12:56:20] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:56:20] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:56:20] [INFO] [PowerFantasy]   - Duration: 400ms
[12:56:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(722.8953, 639.0161), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=10
[12:56:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[12:56:20] [ENEMY] [Enemy2] Status: BLINDED applied
[12:56:20] [ENEMY] [Enemy2] Status: STUNNED applied
[12:56:20] [INFO] [ImpactEffects] Flashbang effect spawned at (722.8953, 639.0161) (radius=400)
[12:56:20] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[12:56:20] [INFO] [GrenadeTimer] EXPLODED at (722.89526, 639.0161)!
[12:56:20] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 400, blindness: 12s, stun: 6s)
[12:56:20] [ENEMY] [Enemy2] Flashbang: blind=2.2s, stun=1.1s
[12:56:20] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 327,2 (intensity: 0,18)
[12:56:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(722.8953, 639.0161), source=NEUTRAL (FlashbangGrenade), range=2938, listeners=10
[12:56:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[12:56:20] [INFO] [GrenadeTimer] Spawned shadow-enabled flashbang effect at (722.89526, 639.0161) (radius: 400)
[12:56:20] [INFO] [GrenadeTimer] Scattered 2 casings
[12:56:20] [INFO] [PowerFantasy] Effect duration expired after 400.00 ms
[12:56:20] [INFO] [PowerFantasy] Ending power fantasy effect
[12:56:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.7°, player=(81,881), corner_timer=-0.01
[12:56:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[12:56:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.5°, player=(81,875), corner_timer=0.30
[12:56:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:20] [ENEMY] [Enemy1] PURSUING corner check: angle 147.3°
[12:56:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(81,771), corner_timer=-0.02
[12:56:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[12:56:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(81,765), corner_timer=0.30
[12:56:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:21] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=153.0°, current=152.4°, player=(81,711), corner_timer=0.22
[12:56:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(473.9987, 973.3221), source=ENEMY (Enemy3), range=1469, listeners=10
[12:56:21] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[12:56:21] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:56:21] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:56:21] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[12:56:21] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[12:56:21] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[12:56:21] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=155.9°, current=-106.3°, player=(81,687), corner_timer=0.22
[12:56:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:21] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:56:21] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:56:21] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:56:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:21] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:56:21] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:21] [ENEMY] [Enemy1] Death animation component initialized
[12:56:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:21] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:56:21] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:56:21] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:56:21] [ENEMY] [Enemy2] Death animation component initialized
[12:56:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:21] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:56:21] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:56:21] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:56:21] [ENEMY] [Enemy3] Death animation component initialized
[12:56:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:21] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:56:21] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:56:21] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:56:21] [ENEMY] [Enemy4] Death animation component initialized
[12:56:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:21] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:56:21] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:56:21] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:56:21] [ENEMY] [Enemy5] Death animation component initialized
[12:56:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:21] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:56:21] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:56:21] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:56:21] [ENEMY] [Enemy6] Death animation component initialized
[12:56:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:21] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:56:21] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:56:21] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:56:21] [ENEMY] [Enemy7] Death animation component initialized
[12:56:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:21] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:56:21] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:56:21] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:56:21] [ENEMY] [Enemy8] Death animation component initialized
[12:56:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:21] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:56:21] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:56:21] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:56:21] [ENEMY] [Enemy9] Death animation component initialized
[12:56:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:21] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:56:21] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:56:21] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:56:21] [ENEMY] [Enemy10] Death animation component initialized
[12:56:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:21] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:21] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:21] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:56:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:56:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:21] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:21] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:56:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:21] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:56:21] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:56:21] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:56:21] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:56:21] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:56:21] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:56:21] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:56:21] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:56:21] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:56:21] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:56:21] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:56:21] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:56:21] [INFO] [ScoreManager] Level started with 10 enemies
[12:56:21] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:56:21] [INFO] [CinemaEffects] Found player node: Player
[12:56:21] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:56:21] [ENEMY] [Enemy1] Registered as sound listener
[12:56:21] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[12:56:21] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:56:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:56:21] [ENEMY] [Enemy2] Registered as sound listener
[12:56:21] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[12:56:21] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:56:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:56:21] [ENEMY] [Enemy3] Registered as sound listener
[12:56:21] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[12:56:21] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:56:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:56:21] [ENEMY] [Enemy4] Registered as sound listener
[12:56:21] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[12:56:21] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:56:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:56:21] [ENEMY] [Enemy5] Registered as sound listener
[12:56:21] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[12:56:21] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:56:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:56:21] [ENEMY] [Enemy6] Registered as sound listener
[12:56:21] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[12:56:21] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:56:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:56:21] [ENEMY] [Enemy7] Registered as sound listener
[12:56:21] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[12:56:21] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:56:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:56:21] [ENEMY] [Enemy8] Registered as sound listener
[12:56:21] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[12:56:21] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:56:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:56:21] [ENEMY] [Enemy9] Registered as sound listener
[12:56:21] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[12:56:21] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:56:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:56:21] [ENEMY] [Enemy10] Registered as sound listener
[12:56:21] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[12:56:21] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:21] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:21] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:21] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:21] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:21] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:21] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:21] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:21] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:21] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:21] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:21] [INFO] [LastChance] Found player: Player
[12:56:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:21] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:21] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:21] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:21] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:56:21] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:56:21] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:21] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (820.30676, 917.38403)
[12:56:21] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:56:21] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:56:21] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[12:56:21] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[12:56:21] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[12:56:21] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:56:21] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[12:56:21] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:56:21] [INFO] [Player.Grenade] Step 1 complete! Drag: (36.565063, 8.014832)
[12:56:21] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:56:21] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:56:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:22] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:56:22] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1094), corner_timer=0.30
[12:56:22] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1094), corner_timer=0.30
[12:56:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(443,992), corner_timer=-0.02
[12:56:23] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(443,992), corner_timer=-0.02
[12:56:23] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:56:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(441,988), corner_timer=0.30
[12:56:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(441,988), corner_timer=0.30
[12:56:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(371,912), corner_timer=-0.02
[12:56:23] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[12:56:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(367,908), corner_timer=0.30
[12:56:23] [INFO] [Player.Grenade.Simple] Throwing! Target: (797.6609, 599.4806), Distance: 559,8, Speed: 579,5, Friction: 300,0
[12:56:23] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,53662616
[12:56:23] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:56:23] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.8594384, -0.5112393), speed=579,5, spawn=(382.93152, 846.1835)
[12:56:23] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.859438, -0.511239), Speed: 579.5 (clamped from 579.5, max: 1352.8)
[12:56:23] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:56:23] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:56:23] [INFO] [Player.Grenade] State reset to IDLE
[12:56:23] [INFO] [Player.Grenade] State reset to IDLE
[12:56:23] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:56:23] [INFO] [Player.Grenade] Player rotation restored to 0
[12:56:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(284,867), corner_timer=-0.02
[12:56:23] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[12:56:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(279,868), corner_timer=0.30
[12:56:23] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:56:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(203,929), corner_timer=-0.02
[12:56:24] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[12:56:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(199,933), corner_timer=0.30
[12:56:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(111,972), corner_timer=-0.02
[12:56:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[12:56:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(105,972), corner_timer=0.30
[12:56:24] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(668.2012, 676.4902), source=NEUTRAL (FlashbangGrenade), range=112, listeners=20
[12:56:24] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:56:24] [ENEMY] [Enemy3] Heard GRENADE_LANDING at (668.2012, 676.4902), intensity=0.39
[12:56:24] [ENEMY] [Enemy3] EVADING_GRENADE (from sound): escaping from (668.2012, 676.4902)
[12:56:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=9, self=0, below_threshold=0
[12:56:24] [INFO] [GrenadeBase] Grenade landed at (668.2012, 676.4902)
[12:56:24] [INFO] [GrenadeTimer] Flashbang grenade landed at (668.20123, 676.49023)
[12:56:24] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(668.2012, 676.4902), source=NEUTRAL (FlashbangGrenade), range=112, listeners=10
[12:56:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=9, self=0, below_threshold=0
[12:56:24] [INFO] [GrenadeTimer] Emitted grenade landing sound at (668.20123, 676.49023)
[12:56:24] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=173.4°, current=40.1°, player=(80,967), corner_timer=0.00
[12:56:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:24] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=EVADING_GRENADE, target=160.5°, current=164.4°, player=(80,948), corner_timer=0.00
[12:56:24] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[12:56:24] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[12:56:24] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[12:56:24] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[12:56:24] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=177.5°, current=-67.5°, player=(80,931), corner_timer=0.00
[12:56:24] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=130.4°, current=-101.3°, player=(80,925), corner_timer=0.00
[12:56:24] [ENEMY] [Enemy2] PURSUING corner check: angle 53.3°
[12:56:24] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[12:56:24] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[12:56:24] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (190.4192, 461.588)
[12:56:24] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=53.3°, current=39.1°, player=(80,909), corner_timer=0.30
[12:56:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(80,892), corner_timer=-0.02
[12:56:25] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[12:56:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(80,887), corner_timer=0.30
[12:56:25] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=EVADING_GRENADE, target=89.9°, current=126.5°, player=(80,848), corner_timer=0.00
[12:56:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:25] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped to safe distance
[12:56:25] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[12:56:25] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=113.3°, current=53.3°, player=(80,810), corner_timer=0.30
[12:56:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(80,782), corner_timer=-0.02
[12:56:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[12:56:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(80,777), corner_timer=0.30
[12:56:25] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[12:56:25] [ENEMY] [Enemy1] Memory: medium confidence (0.76) - transitioning to PURSUING
[12:56:25] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[12:56:25] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=118.5°, current=33.8°, player=(80,755), corner_timer=0.00
[12:56:25] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[12:56:25] [ENEMY] [Enemy3] EVADING_GRENADE: Escaped to safe distance
[12:56:25] [ENEMY] [Enemy3] State: EVADING_GRENADE -> IDLE
[12:56:25] [ENEMY] [Enemy3] Memory: high confidence (0.96) - transitioning to PURSUING
[12:56:25] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[12:56:25] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-142.6°, current=89.9°, player=(80,738), corner_timer=0.00
[12:56:25] [ENEMY] [Enemy3] PURSUING_MEMORY corner check: angle 88.1°
[12:56:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:25] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-141.7°, current=179.9°, player=(80,733), corner_timer=0.30
[12:56:25] [ENEMY] [Enemy3] FLANKING started: target=(51.11357, 931.1988), side=right, pos=(470.6842, 1042.08)
[12:56:25] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[12:56:25] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[12:56:25] [ENEMY] [Enemy1] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[12:56:25] [ENEMY] [Enemy1] EVADING_GRENADE started: escaping to (278.2734, 325.8121)
[12:56:25] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=-50.9°, current=72.6°, player=(80,711), corner_timer=0.22
[12:56:25] [ENEMY] [Enemy1] EVADING_GRENADE: Escaped to safe distance
[12:56:25] [ENEMY] [Enemy1] State: EVADING_GRENADE -> PURSUING
[12:56:25] [ENEMY] [Enemy2] PURSUING corner check: angle 14.8°
[12:56:25] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=124.0°, current=16.3°, player=(80,694), corner_timer=0.22
[12:56:25] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-135.8°, current=-135.8°, player=(80,672), corner_timer=0.30
[12:56:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(80,672), corner_timer=-0.02
[12:56:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[12:56:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(80,667), corner_timer=0.30
[12:56:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:25] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=124.5°, current=173.9°, player=(80,617), corner_timer=0.00
[12:56:25] [ENEMY] [Enemy1] PURSUING corner check: angle -115.5°
[12:56:25] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[12:56:25] [INFO] [GrenadeBase] EXPLODED at (669.8624, 675.5021)!
[12:56:25] [INFO] [PowerFantasy] Grenade exploded - triggering 400ms special last chance effect
[12:56:25] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:56:25] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:56:25] [INFO] [PowerFantasy]   - Duration: 400ms
[12:56:25] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(669.8624, 675.5021), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=10
[12:56:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:56:25] [ENEMY] [Enemy4] Status: BLINDED applied
[12:56:25] [ENEMY] [Enemy4] Status: STUNNED applied
[12:56:25] [INFO] [ImpactEffects] Flashbang effect spawned at (669.8624, 675.5021) (radius=400)
[12:56:25] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[12:56:25] [INFO] [GrenadeTimer] EXPLODED at (669.86237, 675.5021)!
[12:56:25] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 400, blindness: 12s, stun: 6s)
[12:56:25] [ENEMY] [Enemy4] Flashbang: blind=4.6s, stun=2.3s
[12:56:25] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 247,2 (intensity: 0,38)
[12:56:25] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(669.8624, 675.5021), source=NEUTRAL (FlashbangGrenade), range=2938, listeners=10
[12:56:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:56:25] [INFO] [GrenadeTimer] Spawned shadow-enabled flashbang effect at (669.86237, 675.5021) (radius: 400)
[12:56:26] [INFO] [PowerFantasy] Effect duration expired after 415.00 ms
[12:56:26] [INFO] [PowerFantasy] Ending power fantasy effect
[12:56:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.7°, player=(80,565), corner_timer=-0.01
[12:56:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[12:56:26] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[12:56:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.5°, player=(80,560), corner_timer=0.30
[12:56:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(80,455), corner_timer=-0.02
[12:56:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[12:56:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(80,450), corner_timer=0.30
[12:56:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:56:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:27] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:56:27] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:56:27] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:56:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:27] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:56:27] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:27] [ENEMY] [Enemy1] Death animation component initialized
[12:56:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:27] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:56:27] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:56:27] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:56:27] [ENEMY] [Enemy2] Death animation component initialized
[12:56:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:27] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:56:27] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:56:27] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:56:27] [ENEMY] [Enemy3] Death animation component initialized
[12:56:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:27] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:56:27] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:56:27] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:56:27] [ENEMY] [Enemy4] Death animation component initialized
[12:56:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:27] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:56:27] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:56:27] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:56:27] [ENEMY] [Enemy5] Death animation component initialized
[12:56:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:27] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:56:27] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:56:27] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:56:27] [ENEMY] [Enemy6] Death animation component initialized
[12:56:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:27] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:56:27] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:56:27] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:56:27] [ENEMY] [Enemy7] Death animation component initialized
[12:56:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:27] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:56:27] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:56:27] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:56:27] [ENEMY] [Enemy8] Death animation component initialized
[12:56:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:27] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:56:27] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:56:27] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:56:27] [ENEMY] [Enemy9] Death animation component initialized
[12:56:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:27] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:56:27] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:56:27] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:56:27] [ENEMY] [Enemy10] Death animation component initialized
[12:56:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:27] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:27] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:27] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:56:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:56:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:27] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:56:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:27] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:56:27] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:56:27] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:56:27] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:56:27] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:56:27] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:56:27] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:56:27] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:56:27] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:56:27] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:56:27] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:56:27] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:56:27] [INFO] [ScoreManager] Level started with 10 enemies
[12:56:27] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:56:27] [INFO] [CinemaEffects] Found player node: Player
[12:56:27] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:56:27] [ENEMY] [Enemy1] Registered as sound listener
[12:56:27] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[12:56:27] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:56:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:56:27] [ENEMY] [Enemy2] Registered as sound listener
[12:56:27] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[12:56:27] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:56:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:56:27] [ENEMY] [Enemy3] Registered as sound listener
[12:56:27] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[12:56:27] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:56:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:56:27] [ENEMY] [Enemy4] Registered as sound listener
[12:56:27] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[12:56:27] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:56:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:56:27] [ENEMY] [Enemy5] Registered as sound listener
[12:56:27] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[12:56:27] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:56:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:56:27] [ENEMY] [Enemy6] Registered as sound listener
[12:56:27] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[12:56:27] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:56:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:56:27] [ENEMY] [Enemy7] Registered as sound listener
[12:56:27] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[12:56:27] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:56:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:56:27] [ENEMY] [Enemy8] Registered as sound listener
[12:56:27] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[12:56:27] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:56:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:56:27] [ENEMY] [Enemy9] Registered as sound listener
[12:56:27] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[12:56:27] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:56:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:56:27] [ENEMY] [Enemy10] Registered as sound listener
[12:56:27] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[12:56:27] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:27] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[12:56:27] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[12:56:27] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[12:56:27] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[12:56:27] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[12:56:27] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[12:56:27] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[12:56:27] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[12:56:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:27] [INFO] [LastChance] Found player: Player
[12:56:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:27] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:27] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:27] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:27] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:56:27] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:56:27] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:27] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (766.9124, 973.78046)
[12:56:27] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:56:27] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:56:27] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[12:56:27] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[12:56:27] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[12:56:27] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:56:27] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1232)
[12:56:27] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:56:27] [INFO] [Player.Grenade] Step 1 complete! Drag: (181.95215, 49.82025)
[12:56:27] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:56:27] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:56:28] [INFO] [Player.Grenade.Simple] Throwing! Target: (971.7911, 1185.2871), Distance: 538,1, Speed: 568,2, Friction: 300,0
[12:56:28] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,089286104
[12:56:28] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:56:28] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9960166, -0.08916752), speed=568,2, spawn=(509.761, 1226.6499)
[12:56:28] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.996017, -0.089168), Speed: 568.2 (clamped from 568.2, max: 1352.8)
[12:56:28] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:56:28] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:56:28] [INFO] [Player.Grenade] State reset to IDLE
[12:56:28] [INFO] [Player.Grenade] State reset to IDLE
[12:56:28] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:56:28] [INFO] [Player.Grenade] Player rotation restored to 0
[12:56:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:31] [INFO] [CinemaEffects] Scene changed to: TestTier
[12:56:31] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:31] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:31] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:31] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:56:31] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[12:56:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:31] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[12:56:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:31] [INFO] [CinemaEffects] Found player node: Player
[12:56:31] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:31] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:31] [INFO] [LastChance] Found player: Player
[12:56:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:31] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:31] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:34] [INFO] [PauseMenu] Armory button pressed
[12:56:34] [INFO] [PauseMenu] Creating new armory menu instance
[12:56:34] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[12:56:34] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[12:56:34] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[12:56:34] [INFO] [PauseMenu] back_pressed signal exists on instance
[12:56:34] [INFO] [PauseMenu] back_pressed signal connected
[12:56:34] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[12:56:34] [INFO] [PauseMenu] _populate_weapon_grid method exists
[12:56:36] [INFO] [GrenadeManager] Grenade type changed from Flashbang to Frag Grenade
[12:56:36] [INFO] [GrenadeManager] Restarting level due to grenade type change
[12:56:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:36] [INFO] [CinemaEffects] Scene changed to: TestTier
[12:56:36] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:36] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:36] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:36] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[12:56:36] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[12:56:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:36] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[12:56:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:36] [INFO] [CinemaEffects] Found player node: Player
[12:56:36] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:36] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=20
[12:56:36] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[12:56:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[12:56:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:36] [INFO] [LastChance] Found player: Player
[12:56:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:36] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:36] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:36] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:36] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=1685321681535, bullet_pos=(493.66663, 366)
[12:56:36] [INFO] [Bullet] Using shooter_position, distance=343,66663
[12:56:36] [INFO] [Bullet] Distance to wall: 343,66663 (23,400894% of viewport)
[12:56:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:56:36] [INFO] [Bullet] Starting wall penetration at (493.66663, 366)
[12:56:36] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:56:36] [INFO] [Bullet] Exiting penetration at (540.3333, 366) after traveling 41,666668 pixels through wall
[12:56:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:56:36] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:36] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:56:36] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:56:37] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (613.3584, 304.56403)
[12:56:37] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:56:37] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:56:37] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[12:56:37] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[12:56:37] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[12:56:37] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[12:56:37] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:56:37] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[12:56:37] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:56:37] [INFO] [Player.Grenade] Step 1 complete! Drag: (190.05072, 5.3432007)
[12:56:37] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:56:37] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:56:37] [INFO] [Player.Grenade.Simple] Throwing! Target: (826.8617, 355.32468), Distance: 715,6, Speed: 633,0, Friction: 280,0
[12:56:37] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,006907244
[12:56:37] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:56:37] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9999762, -0.0069071897), speed=633,0, spawn=(209.99857, 359.58557)
[12:56:37] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.999976, -0.006907), Speed: 633.0 (clamped from 633.0, max: 1186.5)
[12:56:37] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[12:56:37] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:56:37] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:56:37] [INFO] [Player.Grenade] State reset to IDLE
[12:56:37] [INFO] [Player.Grenade] State reset to IDLE
[12:56:37] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:56:38] [INFO] [Player.Grenade] Player rotation restored to 0
[12:56:38] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:56:38] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[12:56:38] [INFO] [FragGrenade] Impact detected! Body: Obstacle3 (type: StaticBody2D), triggering explosion
[12:56:38] [INFO] [FragGrenade] Impact detected - exploding immediately!
[12:56:38] [INFO] [GrenadeBase] EXPLODED at (475.6066, 357.7039)!
[12:56:38] [INFO] [PowerFantasy] Grenade exploded - triggering 400ms special last chance effect
[12:56:38] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:56:38] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:56:38] [INFO] [PowerFantasy]   - Duration: 400ms
[12:56:38] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(475.6066, 357.7039), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[12:56:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[12:56:38] [INFO] [GrenadeBase] Scattered 0 casings (lethal zone) + 1 casings (proximity) from explosion
[12:56:38] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 3.8 degrees
[12:56:38] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 72.7 degrees
[12:56:38] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 198.6 degrees
[12:56:38] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 262.4 degrees
[12:56:38] [INFO] [ImpactEffects] Spawning explosion visual effect at (475.6066, 357.7039) (radius=225) - using shadow-based wall occlusion
[12:56:38] [INFO] [GrenadeTimer] Impact detected with Obstacle3 - EXPLODING!
[12:56:38] [INFO] [GrenadeTimer] EXPLODED at (475.60663, 357.70395)!
[12:56:38] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[12:56:38] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[12:56:38] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(475.6066, 357.7039), source=NEUTRAL (FragGrenade), range=2938, listeners=0
[12:56:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[12:56:38] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (475.60663, 357.70395) (shadow-based wall occlusion)
[12:56:38] [INFO] [GrenadeTimer] Scattered 1 casings
[12:56:38] [INFO] [PowerFantasy] Effect duration expired after 401.00 ms
[12:56:38] [INFO] [PowerFantasy] Ending power fantasy effect
[12:56:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:39] [INFO] [CinemaEffects] Scene changed to: TestTier
[12:56:39] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:39] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:39] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:39] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[12:56:39] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[12:56:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:39] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:39] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[12:56:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:39] [INFO] [CinemaEffects] Found player node: Player
[12:56:39] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:39] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:39] [INFO] [LastChance] Found player: Player
[12:56:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:39] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:39] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:39] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:39] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:39] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:39] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:56:39] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:56:39] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:39] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (583.7663, 362.67163)
[12:56:39] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:56:39] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:56:39] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[12:56:39] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[12:56:39] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[12:56:39] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[12:56:39] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:56:39] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[12:56:39] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:56:39] [INFO] [Player.Grenade] Step 1 complete! Drag: (240.51654, 22.040802)
[12:56:39] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:56:39] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:56:40] [INFO] [Player.Grenade.Simple] Throwing! Target: (944.15576, 369.35065), Distance: 851,7, Speed: 690,6, Friction: 280,0
[12:56:40] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,011773779
[12:56:40] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:56:40] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9999307, 0.011773507), speed=690,6, spawn=(209.99585, 360.70642)
[12:56:40] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.999931, 0.011774), Speed: 690.6 (clamped from 690.6, max: 1186.5)
[12:56:40] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[12:56:40] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:56:40] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:56:40] [INFO] [Player.Grenade] State reset to IDLE
[12:56:40] [INFO] [Player.Grenade] State reset to IDLE
[12:56:40] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:56:40] [INFO] [Player.Grenade] Player rotation restored to 0
[12:56:40] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:56:40] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[12:56:40] [INFO] [FragGrenade] Impact detected! Body: Obstacle3 (type: StaticBody2D), triggering explosion
[12:56:40] [INFO] [FragGrenade] Impact detected - exploding immediately!
[12:56:40] [INFO] [GrenadeBase] EXPLODED at (475.0261, 363.9254)!
[12:56:40] [INFO] [PowerFantasy] Grenade exploded - triggering 400ms special last chance effect
[12:56:40] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:56:40] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:56:40] [INFO] [PowerFantasy]   - Duration: 400ms
[12:56:40] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(475.0261, 363.9254), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[12:56:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[12:56:40] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -7.2 degrees
[12:56:40] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 74.1 degrees
[12:56:40] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 165.0 degrees
[12:56:40] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 252.6 degrees
[12:56:40] [INFO] [ImpactEffects] Spawning explosion visual effect at (475.0261, 363.9254) (radius=225) - using shadow-based wall occlusion
[12:56:40] [INFO] [GrenadeTimer] Impact detected with Obstacle3 - EXPLODING!
[12:56:40] [INFO] [GrenadeTimer] EXPLODED at (475.02612, 363.92535)!
[12:56:40] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[12:56:40] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[12:56:40] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(475.0261, 363.9254), source=NEUTRAL (FragGrenade), range=2938, listeners=0
[12:56:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[12:56:40] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (475.02612, 363.92535) (shadow-based wall occlusion)
[12:56:41] [INFO] [PowerFantasy] Effect duration expired after 417.00 ms
[12:56:41] [INFO] [PowerFantasy] Ending power fantasy effect
[12:56:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:41] [INFO] [CinemaEffects] Scene changed to: TestTier
[12:56:41] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:41] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:41] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:41] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[12:56:41] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[12:56:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[12:56:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:41] [INFO] [CinemaEffects] Found player node: Player
[12:56:41] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:41] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:41] [INFO] [LastChance] Found player: Player
[12:56:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:41] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:41] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:42] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:42] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:56:42] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:56:42] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:42] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (700.1647, 378.0334)
[12:56:42] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:56:42] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:56:42] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[12:56:42] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[12:56:42] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[12:56:42] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[12:56:42] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:56:42] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[12:56:42] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:56:42] [INFO] [Player.Grenade] Step 1 complete! Drag: (154.67609, 1.3358154)
[12:56:42] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:56:42] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:56:42] [INFO] [Player.Grenade.Simple] Throwing! Target: (930.4318, 352.65308), Distance: 835,7, Speed: 684,1, Friction: 280,0
[12:56:42] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,009413644
[12:56:42] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:56:42] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.99995565, -0.009413504), speed=684,1, spawn=(209.99734, 359.43518)
[12:56:42] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.999956, -0.009414), Speed: 684.1 (clamped from 684.1, max: 1186.5)
[12:56:42] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[12:56:42] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:56:42] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:56:42] [INFO] [Player.Grenade] State reset to IDLE
[12:56:42] [INFO] [Player.Grenade] State reset to IDLE
[12:56:42] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:56:42] [INFO] [Player.Grenade] Player rotation restored to 0
[12:56:43] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:56:43] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[12:56:43] [INFO] [FragGrenade] Impact detected! Body: Obstacle3 (type: StaticBody2D), triggering explosion
[12:56:43] [INFO] [FragGrenade] Impact detected - exploding immediately!
[12:56:43] [INFO] [GrenadeBase] EXPLODED at (476.9661, 356.8921)!
[12:56:43] [INFO] [PowerFantasy] Grenade exploded - triggering 400ms special last chance effect
[12:56:43] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:56:43] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:56:43] [INFO] [PowerFantasy]   - Duration: 400ms
[12:56:43] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(476.9661, 356.8921), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[12:56:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[12:56:43] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 1.6 degrees
[12:56:43] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 77.3 degrees
[12:56:43] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 176.7 degrees
[12:56:43] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 261.5 degrees
[12:56:43] [INFO] [ImpactEffects] Spawning explosion visual effect at (476.9661, 356.8921) (radius=225) - using shadow-based wall occlusion
[12:56:43] [INFO] [GrenadeTimer] Impact detected with Obstacle3 - EXPLODING!
[12:56:43] [INFO] [GrenadeTimer] EXPLODED at (476.9661, 356.89206)!
[12:56:43] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[12:56:43] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[12:56:43] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(476.9661, 356.8921), source=NEUTRAL (FragGrenade), range=2938, listeners=0
[12:56:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[12:56:43] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (476.9661, 356.89206) (shadow-based wall occlusion)
[12:56:43] [INFO] [PowerFantasy] Effect duration expired after 400.00 ms
[12:56:43] [INFO] [PowerFantasy] Ending power fantasy effect
[12:56:43] [INFO] [Player] Spawning blood effect at (150, 174.96658), dir=(-0.9871506, -0.15979311), lethal=False (C#)
[12:56:43] [INFO] [ImpactEffects] spawn_blood_effect called at (150, 174.9666), dir=(-0.987151, -0.159793), lethal=false
[12:56:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:43] [INFO] [ImpactEffects] Wall found for blood splatter at (64, 161.0455) (dist=87 px)
[12:56:43] [INFO] [BloodDecal] Blood puddle created at (65, 161.0455) (added to group)
[12:56:43] [INFO] [ImpactEffects] Blood effect spawned at (150, 174.9666) (scale=1)
[12:56:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[12:56:43] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[12:56:44] [INFO] [BloodDecal] Blood puddle created at (77.06271, 206.2174) (added to group)
[12:56:45] [INFO] [PauseMenu] Armory button pressed
[12:56:45] [INFO] [PauseMenu] Creating new armory menu instance
[12:56:45] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[12:56:45] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[12:56:45] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[12:56:45] [INFO] [PauseMenu] back_pressed signal exists on instance
[12:56:45] [INFO] [PauseMenu] back_pressed signal connected
[12:56:45] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[12:56:45] [INFO] [PauseMenu] _populate_weapon_grid method exists
[12:56:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:49] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:56:49] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:56:49] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:56:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:49] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:56:49] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:49] [ENEMY] [Enemy1] Death animation component initialized
[12:56:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:49] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:56:49] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:56:49] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:56:49] [ENEMY] [Enemy2] Death animation component initialized
[12:56:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:49] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:56:49] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:56:49] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:56:49] [ENEMY] [Enemy3] Death animation component initialized
[12:56:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:49] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:56:49] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:56:49] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:56:49] [ENEMY] [Enemy4] Death animation component initialized
[12:56:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:49] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:56:49] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:56:49] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:56:49] [ENEMY] [Enemy5] Death animation component initialized
[12:56:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:49] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:56:49] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:56:49] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:56:49] [ENEMY] [Enemy6] Death animation component initialized
[12:56:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:49] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:56:49] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:56:49] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:56:49] [ENEMY] [Enemy7] Death animation component initialized
[12:56:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:49] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:56:49] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:56:49] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:56:49] [ENEMY] [Enemy8] Death animation component initialized
[12:56:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:49] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:56:49] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:56:49] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:56:49] [ENEMY] [Enemy9] Death animation component initialized
[12:56:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:49] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:56:49] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:56:49] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:56:49] [ENEMY] [Enemy10] Death animation component initialized
[12:56:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:49] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:49] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:49] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[12:56:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:56:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:49] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:56:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:49] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:56:49] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:56:49] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:56:49] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:56:49] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:56:49] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:56:49] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:56:49] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:56:49] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:56:49] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:56:49] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:56:49] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:56:49] [INFO] [ScoreManager] Level started with 10 enemies
[12:56:49] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:56:49] [INFO] [CinemaEffects] Found player node: Player
[12:56:49] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[12:56:49] [ENEMY] [Enemy1] Registered as sound listener
[12:56:49] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[12:56:49] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:56:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[12:56:49] [ENEMY] [Enemy2] Registered as sound listener
[12:56:49] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[12:56:49] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:56:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[12:56:49] [ENEMY] [Enemy3] Registered as sound listener
[12:56:49] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[12:56:49] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:56:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[12:56:49] [ENEMY] [Enemy4] Registered as sound listener
[12:56:49] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[12:56:49] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:56:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[12:56:49] [ENEMY] [Enemy5] Registered as sound listener
[12:56:49] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[12:56:49] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:56:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[12:56:49] [ENEMY] [Enemy6] Registered as sound listener
[12:56:49] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[12:56:49] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:56:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[12:56:49] [ENEMY] [Enemy7] Registered as sound listener
[12:56:49] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[12:56:49] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:56:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[12:56:49] [ENEMY] [Enemy8] Registered as sound listener
[12:56:49] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[12:56:49] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:56:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[12:56:49] [ENEMY] [Enemy9] Registered as sound listener
[12:56:49] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[12:56:49] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:56:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[12:56:49] [ENEMY] [Enemy10] Registered as sound listener
[12:56:49] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[12:56:49] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:49] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:49] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:49] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:49] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:49] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:49] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:49] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:49] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:49] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:49] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:49] [INFO] [LastChance] Found player: Player
[12:56:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:49] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:49] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:50] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:50] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:56:50] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:56:50] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:50] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (613.9441, 1122.3584)
[12:56:50] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:56:50] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:56:50] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[12:56:50] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[12:56:50] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[12:56:50] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[12:56:50] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:56:50] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1138.6666)
[12:56:50] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:56:50] [INFO] [Player.Grenade] Step 1 complete! Drag: (121.0365, -18.197754)
[12:56:50] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:56:50] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:56:51] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:51] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:56:51] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,924), corner_timer=0.30
[12:56:51] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,924), corner_timer=0.30
[12:56:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,819), corner_timer=-0.02
[12:56:51] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,819), corner_timer=-0.02
[12:56:51] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:56:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,814), corner_timer=0.30
[12:56:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,814), corner_timer=0.30
[12:56:51] [INFO] [Player.Grenade.Simple] Throwing! Target: (807.67944, 791.0619), Distance: 374,5, Speed: 458,0, Friction: 280,0
[12:56:51] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,11113769
[12:56:51] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:56:51] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9938305, 0.11090904), speed=458,0, spawn=(486.8183, 755.2546)
[12:56:51] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.993831, 0.110909), Speed: 458.0 (clamped from 458.0, max: 1186.5)
[12:56:51] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[12:56:51] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:56:51] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:56:51] [INFO] [Player.Grenade] State reset to IDLE
[12:56:51] [INFO] [Player.Grenade] State reset to IDLE
[12:56:51] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:56:51] [INFO] [Player.Grenade] Player rotation restored to 0
[12:56:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(408,735), corner_timer=-0.02
[12:56:51] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[12:56:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(403,734), corner_timer=0.30
[12:56:52] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:56:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(302,729), corner_timer=-0.02
[12:56:52] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[12:56:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(297,729), corner_timer=0.30
[12:56:52] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[12:56:52] [INFO] [FragGrenade] Impact detected! Body: Enemy3 (type: CharacterBody2D), triggering explosion
[12:56:52] [INFO] [FragGrenade] Impact detected - exploding immediately!
[12:56:52] [INFO] [GrenadeBase] EXPLODED at (685.9169, 778.8523)!
[12:56:52] [INFO] [PowerFantasy] Grenade exploded - triggering 400ms special last chance effect
[12:56:52] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:56:52] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:56:52] [INFO] [PowerFantasy]   - Duration: 400ms
[12:56:52] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(685.9169, 778.8523), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[12:56:52] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[12:56:52] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[12:56:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:56:52] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.438646, -0.89866), lethal=false
[12:56:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:52] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[12:56:52] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[12:56:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:56:52] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.438646, -0.89866), lethal=false
[12:56:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:52] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[12:56:52] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[12:56:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:56:52] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.438646, -0.89866), lethal=false
[12:56:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:52] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[12:56:52] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[12:56:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:56:52] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.438646, -0.89866), lethal=true
[12:56:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:52] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[12:56:52] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[12:56:52] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:56:52] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:56:52] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[12:56:52] [INFO] [PowerFantasy] Effect timer reset to 300ms
[12:56:52] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[12:56:52] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:56:52] [INFO] [DeathAnim] Started - Angle: -64.0 deg, Index: 7
[12:56:52] [ENEMY] [Enemy3] Death animation started with hit direction: (0.438646, -0.89866)
[12:56:52] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 32.1
[12:56:52] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 17.3 degrees
[12:56:52] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 83.0 degrees
[12:56:52] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 195.8 degrees
[12:56:52] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 269.5 degrees
[12:56:52] [INFO] [ImpactEffects] Spawning explosion visual effect at (685.9169, 778.8523) (radius=225) - using shadow-based wall occlusion
[12:56:52] [INFO] [GrenadeTimer] Impact detected with Enemy3 - EXPLODING!
[12:56:52] [INFO] [GrenadeTimer] EXPLODED at (685.9169, 778.8523)!
[12:56:52] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[12:56:52] [INFO] [GrenadeTimer] Damaged enemy at distance 32,1
[12:56:52] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[12:56:52] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(685.9169, 778.8523), source=NEUTRAL (FragGrenade), range=2938, listeners=9
[12:56:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[12:56:52] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (685.9169, 778.8523) (shadow-based wall occlusion)
[12:56:52] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[12:56:52] [INFO] [PowerFantasy] Ending power fantasy effect
[12:56:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(193,729), corner_timer=-0.01
[12:56:52] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[12:56:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(188,729), corner_timer=0.30
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (738.966, 733.9244) (added to group)
[12:56:53] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[12:56:53] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[12:56:53] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.869993, -0.493064), lethal=false
[12:56:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:53] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (723.6686, 680.0867) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (713.6989, 714.4545) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (699.533, 700.3926) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (745.0792, 710.3377) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (767.6436, 705.9689) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (736.7101, 721.7789) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (772.5878, 712.447) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (734.4342, 713.4501) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (711.5215, 717.2587) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (717.9496, 681.4049) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (707.4218, 697.5784) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (704.9019, 697.1908) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (717.2573, 671.4797) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (735.0742, 707.7913) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (723.1199, 695.2934) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (723.3692, 672.8573) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (701.6639, 721.9322) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (753.9357, 663.4272) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (746.2855, 689.7958) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (738.1588, 722.8724) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (734.9294, 675.9915) (added to group)
[12:56:53] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[12:56:53] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[12:56:53] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.952701, -0.30391), lethal=false
[12:56:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:53] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (716.9041, 727.5317) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (728.1329, 728.6534) (added to group)
[12:56:53] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[12:56:53] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(85,729), corner_timer=-0.02
[12:56:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[12:56:53] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(80,729), corner_timer=0.30
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (727.7754, 689.1104) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (730.4348, 685.5871) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (731.674, 723.8721) (added to group)
[12:56:53] [ENEMY] [Enemy3] Ragdoll activated
[12:56:53] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (735.1283, 705.9965) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (849.5688, 860.9671) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (885.8017, 900.8758) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (794.4344, 727.6759) (added to group)
[12:56:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:53] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:56:53] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:56:53] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:56:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:53] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:56:53] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:53] [ENEMY] [Enemy1] Death animation component initialized
[12:56:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:53] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:56:53] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:56:53] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:56:53] [ENEMY] [Enemy2] Death animation component initialized
[12:56:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:53] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:56:53] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:56:53] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:56:53] [ENEMY] [Enemy3] Death animation component initialized
[12:56:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:53] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:56:53] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:56:53] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:56:53] [ENEMY] [Enemy4] Death animation component initialized
[12:56:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:53] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:56:53] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:56:53] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:56:53] [ENEMY] [Enemy5] Death animation component initialized
[12:56:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:53] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:56:53] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:56:53] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:56:53] [ENEMY] [Enemy6] Death animation component initialized
[12:56:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:53] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:56:53] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:56:53] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:56:53] [ENEMY] [Enemy7] Death animation component initialized
[12:56:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:53] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:56:53] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:56:53] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:56:53] [ENEMY] [Enemy8] Death animation component initialized
[12:56:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:53] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:56:53] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:56:53] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:56:53] [ENEMY] [Enemy9] Death animation component initialized
[12:56:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:53] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:56:53] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:56:53] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:56:53] [ENEMY] [Enemy10] Death animation component initialized
[12:56:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:53] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:53] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:53] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[12:56:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:56:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:53] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:53] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:56:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:53] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:56:53] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:56:53] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:56:53] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:56:53] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:56:53] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:56:53] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:56:53] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:56:53] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:56:53] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:56:53] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:56:53] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:56:53] [INFO] [ScoreManager] Level started with 10 enemies
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (833.0311, 694.3218) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (771.0746, 689.2538) (added to group)
[12:56:53] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:56:53] [INFO] [CinemaEffects] Found player node: Player
[12:56:53] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[12:56:53] [ENEMY] [Enemy1] Registered as sound listener
[12:56:53] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[12:56:53] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:56:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[12:56:53] [ENEMY] [Enemy2] Registered as sound listener
[12:56:53] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[12:56:53] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:56:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[12:56:53] [ENEMY] [Enemy3] Registered as sound listener
[12:56:53] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[12:56:53] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:56:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[12:56:53] [ENEMY] [Enemy4] Registered as sound listener
[12:56:53] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[12:56:53] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:56:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[12:56:53] [ENEMY] [Enemy5] Registered as sound listener
[12:56:53] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[12:56:53] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:56:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[12:56:53] [ENEMY] [Enemy6] Registered as sound listener
[12:56:53] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[12:56:53] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:56:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[12:56:53] [ENEMY] [Enemy7] Registered as sound listener
[12:56:53] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[12:56:53] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:56:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[12:56:53] [ENEMY] [Enemy8] Registered as sound listener
[12:56:53] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[12:56:53] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:56:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[12:56:53] [ENEMY] [Enemy9] Registered as sound listener
[12:56:53] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[12:56:53] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:56:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[12:56:53] [ENEMY] [Enemy10] Registered as sound listener
[12:56:53] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[12:56:53] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:53] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:53] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:53] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:53] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:53] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:53] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:53] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:53] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:53] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:53] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:53] [INFO] [LastChance] Found player: Player
[12:56:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:53] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:53] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (821.1152, 675.4451) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (764.7529, 748.436) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (792.6097, 680.3131) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (717.3451, 741.3537) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (782.8978, 675.6163) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (733.2438, 734.7565) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (728.8324, 739.2833) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (776.6005, 685.8181) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (877.2756, 921.2191) (added to group)
[12:56:53] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (705.0772, 747.6537) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (708.7742, 694.6393) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (350.1751, 522.1526) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (776.9075, 702.5529) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (765.7807, 647.7731) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (696.1698, 649.8434) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (839.0653, 690.3685) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (727.5532, 738.6492) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (816.6735, 755.1809) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (742.9828, 692.6179) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (718.424, 723.5116) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (731.436, 722.5418) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (326.063, 555.4808) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (329.2773, 530.0345) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (343.7401, 589.707) (added to group)
[12:56:53] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:53] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:56:53] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (879.7899, 934.1304) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (884.4839, 889.6313) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (296.7365, 598.9552) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (305.2057, 600.0257) (added to group)
[12:56:53] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:53] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (739.58325, 1230.6309)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (254.842, 563.2555) (added to group)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (286.6943, 610.5624) (added to group)
[12:56:53] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:56:53] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:56:53] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[12:56:53] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[12:56:53] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[12:56:53] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[12:56:53] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:56:53] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[12:56:53] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:56:53] [INFO] [Player.Grenade] Step 1 complete! Drag: (52.639038, 0)
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (259.2465, 597.0149) (added to group)
[12:56:53] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:56:53] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:56:53] [INFO] [BloodDecal] Blood puddle created at (247.9893, 624.851) (added to group)
[12:56:54] [INFO] [Player.Grenade.Simple] Throwing! Target: (817.6482, 1231.2987), Distance: 357,4, Speed: 447,4, Friction: 280,0
[12:56:54] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,050823554
[12:56:54] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:56:54] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.99870884, -0.050801683), speed=447,4, spawn=(509.92255, 1246.9519)
[12:56:54] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.998709, -0.050802), Speed: 447.4 (clamped from 447.4, max: 1186.5)
[12:56:54] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[12:56:54] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:56:54] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:56:54] [INFO] [Player.Grenade] State reset to IDLE
[12:56:54] [INFO] [Player.Grenade] State reset to IDLE
[12:56:54] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:56:54] [INFO] [Player.Grenade] Player rotation restored to 0
[12:56:54] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:56:54] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:54] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:56:54] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(448,1250), corner_timer=0.30
[12:56:54] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(448,1250), corner_timer=0.30
[12:56:55] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[12:56:55] [INFO] [GrenadeTimer] EXPLODED at (720.40704, 1236.2451)!
[12:56:55] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[12:56:55] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[12:56:55] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(720.407, 1236.245), source=NEUTRAL (FragGrenade), range=2938, listeners=19
[12:56:55] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[12:56:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:56:55] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (720.40704, 1236.2451) (shadow-based wall occlusion)
[12:56:55] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[12:56:55] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[12:56:55] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.28828, -0.957546), lethal=false
[12:56:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:55] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[12:56:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(432,1250), corner_timer=-0.02
[12:56:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(432,1250), corner_timer=-0.02
[12:56:55] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:56:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(432,1250), corner_timer=0.30
[12:56:55] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(432,1250), corner_timer=0.30
[12:56:55] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 4/4 -> 3/4
[12:56:55] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[12:56:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1900, 1450), dir=(0.984547, 0.175123), lethal=false
[12:56:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:55] [INFO] [ImpactEffects] Wall found for blood splatter at (1960, 1460.672) (dist=60 px)
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (1959, 1460.672) (added to group)
[12:56:55] [INFO] [ImpactEffects] Blood effect spawned at (1900, 1450) (scale=1)
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (817.4218, 820.5583) (added to group)
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (793.4547, 860.3315) (added to group)
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (862.8021, 866.173) (added to group)
[12:56:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(432,1250), corner_timer=-0.02
[12:56:55] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (864.4312, 840.6671) (added to group)
[12:56:55] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(432,1250), corner_timer=0.30
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (1946.789, 1466.602) (added to group)
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (1944.375, 1507.708) (added to group)
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (852.4968, 880.207) (added to group)
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (785.61, 857.5331) (added to group)
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (827.5631, 892.2344) (added to group)
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (848.9844, 840.3728) (added to group)
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (847.1055, 910.03) (added to group)
[12:56:55] [INFO] [BloodDecal] Blood puddle created at (779.4128, 861.4883) (added to group)
[12:56:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(432,1250), corner_timer=-0.02
[12:56:55] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[12:56:55] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(432,1250), corner_timer=0.30
[12:56:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:56] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:56:56] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:56:56] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:56:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:56] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:56:56] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:56] [ENEMY] [Enemy1] Death animation component initialized
[12:56:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:56] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:56:56] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:56:56] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:56:56] [ENEMY] [Enemy2] Death animation component initialized
[12:56:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:56] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:56:56] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:56:56] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:56:56] [ENEMY] [Enemy3] Death animation component initialized
[12:56:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:56] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:56:56] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:56:56] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:56:56] [ENEMY] [Enemy4] Death animation component initialized
[12:56:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:56] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:56:56] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:56:56] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:56:56] [ENEMY] [Enemy5] Death animation component initialized
[12:56:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:56] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:56:56] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:56:56] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:56:56] [ENEMY] [Enemy6] Death animation component initialized
[12:56:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:56] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:56:56] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:56:56] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:56:56] [ENEMY] [Enemy7] Death animation component initialized
[12:56:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:56] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:56:56] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:56:56] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:56:56] [ENEMY] [Enemy8] Death animation component initialized
[12:56:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:56] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:56:56] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:56:56] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:56:56] [ENEMY] [Enemy9] Death animation component initialized
[12:56:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:56] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:56:56] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:56:56] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:56:56] [ENEMY] [Enemy10] Death animation component initialized
[12:56:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:56] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:56] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:56] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[12:56:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:56:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:56:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:56:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:56:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:56:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:56:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:56:56] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:56:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:56:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:56:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:56:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:56:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:56:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:56:56] [INFO] [ScoreManager] Level started with 10 enemies
[12:56:56] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:56:56] [INFO] [CinemaEffects] Found player node: Player
[12:56:56] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:56:56] [ENEMY] [Enemy1] Registered as sound listener
[12:56:56] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[12:56:56] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:56:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:56:56] [ENEMY] [Enemy2] Registered as sound listener
[12:56:56] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[12:56:56] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:56:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:56:56] [ENEMY] [Enemy3] Registered as sound listener
[12:56:56] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[12:56:56] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:56:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:56:56] [ENEMY] [Enemy4] Registered as sound listener
[12:56:56] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[12:56:56] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:56:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:56:56] [ENEMY] [Enemy5] Registered as sound listener
[12:56:56] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[12:56:56] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:56:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:56:56] [ENEMY] [Enemy6] Registered as sound listener
[12:56:56] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[12:56:56] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:56:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:56:56] [ENEMY] [Enemy7] Registered as sound listener
[12:56:56] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[12:56:56] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:56:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:56:56] [ENEMY] [Enemy8] Registered as sound listener
[12:56:56] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[12:56:56] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:56:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:56:56] [ENEMY] [Enemy9] Registered as sound listener
[12:56:56] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[12:56:56] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:56:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:56:56] [ENEMY] [Enemy10] Registered as sound listener
[12:56:56] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[12:56:56] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:56] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:56] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:56] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:56] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:56] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:56] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:56] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:56] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:56] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:56] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:56] [INFO] [LastChance] Found player: Player
[12:56:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:56] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:56] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:56] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:56] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:56:56] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:56:56] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:56] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (779.6859, 1231.2987)
[12:56:56] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:56:56] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:56:56] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[12:56:56] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[12:56:56] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[12:56:56] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[12:56:56] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:56:56] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[12:56:56] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:56:56] [INFO] [Player.Grenade] Step 1 complete! Drag: (59.86206, 2.6716309)
[12:56:56] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:56:56] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:56:56] [INFO] [Player.Grenade.Simple] Throwing! Target: (938.5668, 1211.9294), Distance: 498,9, Speed: 528,5, Friction: 280,0
[12:56:56] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,07776579
[12:56:56] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:56:56] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.99697775, -0.077687435), speed=528,5, spawn=(509.81866, 1245.3387)
[12:56:56] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.996978, -0.077687), Speed: 528.5 (clamped from 528.5, max: 1186.5)
[12:56:56] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[12:56:56] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:56:56] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:56:56] [INFO] [Player.Grenade] State reset to IDLE
[12:56:56] [INFO] [Player.Grenade] State reset to IDLE
[12:56:56] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:56:56] [INFO] [Player.Grenade] Player rotation restored to 0
[12:56:57] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:56:57] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:57] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:56:57] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[12:56:57] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[12:56:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[12:56:57] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:56:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[12:56:57] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:56:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[12:56:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[12:56:57] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(804.0108, 1222.414), source=NEUTRAL (FragGrenade), range=112, listeners=20
[12:56:57] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:56:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[12:56:57] [INFO] [GrenadeBase] Grenade landed at (804.0108, 1222.414)
[12:56:57] [INFO] [FragGrenade] Impact detected - exploding immediately!
[12:56:57] [INFO] [GrenadeBase] EXPLODED at (804.0108, 1222.414)!
[12:56:57] [INFO] [PowerFantasy] Grenade exploded - triggering 400ms special last chance effect
[12:56:57] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:56:57] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:56:57] [INFO] [PowerFantasy]   - Duration: 400ms
[12:56:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(804.0108, 1222.414), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[12:56:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:56:57] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -12.7 degrees
[12:56:57] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 83.8 degrees
[12:56:57] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 198.5 degrees
[12:56:57] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 262.2 degrees
[12:56:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (804.0108, 1222.414) (radius=225) - using shadow-based wall occlusion
[12:56:57] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[12:56:57] [INFO] [GrenadeTimer] EXPLODED at (804.0108, 1222.4142)!
[12:56:57] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[12:56:57] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[12:56:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(804.0108, 1222.414), source=NEUTRAL (FragGrenade), range=2938, listeners=10
[12:56:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:56:57] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (804.0108, 1222.4142) (shadow-based wall occlusion)
[12:56:58] [INFO] [PowerFantasy] Effect duration expired after 401.00 ms
[12:56:58] [INFO] [PowerFantasy] Ending power fantasy effect
[12:56:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.01
[12:56:58] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[12:56:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.6°, player=(450,1250), corner_timer=0.30
[12:56:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(450,1250), corner_timer=-0.02
[12:56:58] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[12:56:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.7°, player=(450,1250), corner_timer=0.30
[12:56:58] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[12:56:58] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[12:56:58] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.977472, -0.211068), lethal=false
[12:56:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:58] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[12:56:59] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:59] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1250), corner_timer=-0.02
[12:56:59] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[12:56:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1250), corner_timer=0.30
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (762.6068, 751.1934) (added to group)
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (753.9593, 784.3852) (added to group)
[12:56:59] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (759.0671, 783.2888) (added to group)
[12:56:59] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/2 -> 1/2
[12:56:59] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[12:56:59] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.999669, 0.02574), lethal=false
[12:56:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[12:56:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[12:56:59] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (803.2781, 734.8796) (added to group)
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (822.9351, 793.9439) (added to group)
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (804.405, 788.1213) (added to group)
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (800.1146, 803.3506) (added to group)
[12:56:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1250), corner_timer=-0.02
[12:56:59] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[12:56:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.6°, player=(450,1250), corner_timer=0.30
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (792.789, 788.2548) (added to group)
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (851.2884, 876.5637) (added to group)
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (821.8745, 850.2358) (added to group)
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (474.4555, 589.2986) (added to group)
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (489.1103, 631.0581) (added to group)
[12:56:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:59] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:56:59] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:56:59] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:56:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:56:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:56:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:56:59] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:56:59] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:56:59] [ENEMY] [Enemy1] Death animation component initialized
[12:56:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:59] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:56:59] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:56:59] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:56:59] [ENEMY] [Enemy2] Death animation component initialized
[12:56:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:59] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:56:59] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:56:59] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:56:59] [ENEMY] [Enemy3] Death animation component initialized
[12:56:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:59] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:56:59] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:56:59] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:56:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[12:56:59] [ENEMY] [Enemy4] Death animation component initialized
[12:56:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:59] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:56:59] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:56:59] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:56:59] [ENEMY] [Enemy5] Death animation component initialized
[12:56:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:59] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:56:59] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:56:59] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:56:59] [ENEMY] [Enemy6] Death animation component initialized
[12:56:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:59] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:56:59] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:56:59] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:56:59] [ENEMY] [Enemy7] Death animation component initialized
[12:56:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:59] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:56:59] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:56:59] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:56:59] [ENEMY] [Enemy8] Death animation component initialized
[12:56:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:59] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:56:59] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:56:59] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:56:59] [ENEMY] [Enemy9] Death animation component initialized
[12:56:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:59] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:56:59] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:56:59] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:56:59] [ENEMY] [Enemy10] Death animation component initialized
[12:56:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:56:59] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:56:59] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:56:59] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:56:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[12:56:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:56:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:56:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:56:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:56:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:56:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:56:59] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:56:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:56:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:56:59] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:56:59] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:56:59] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:56:59] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:56:59] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:56:59] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:56:59] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:56:59] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:56:59] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:56:59] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:56:59] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:56:59] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:56:59] [INFO] [ScoreManager] Level started with 10 enemies
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (459.4052, 619.0239) (added to group)
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (491.2296, 555.7311) (added to group)
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (478.3246, 607.0353) (added to group)
[12:56:59] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:56:59] [INFO] [CinemaEffects] Found player node: Player
[12:56:59] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:56:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:56:59] [ENEMY] [Enemy1] Registered as sound listener
[12:56:59] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[12:56:59] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:56:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:56:59] [ENEMY] [Enemy2] Registered as sound listener
[12:56:59] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[12:56:59] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:56:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:56:59] [ENEMY] [Enemy3] Registered as sound listener
[12:56:59] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[12:56:59] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:56:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:56:59] [ENEMY] [Enemy4] Registered as sound listener
[12:56:59] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[12:56:59] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:56:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:56:59] [ENEMY] [Enemy5] Registered as sound listener
[12:56:59] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[12:56:59] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:56:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:56:59] [ENEMY] [Enemy6] Registered as sound listener
[12:56:59] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[12:56:59] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:56:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:56:59] [ENEMY] [Enemy7] Registered as sound listener
[12:56:59] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[12:56:59] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:56:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:56:59] [ENEMY] [Enemy8] Registered as sound listener
[12:56:59] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[12:56:59] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:56:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:56:59] [ENEMY] [Enemy9] Registered as sound listener
[12:56:59] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[12:56:59] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:56:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:56:59] [ENEMY] [Enemy10] Registered as sound listener
[12:56:59] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[12:56:59] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:56:59] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:59] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:59] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:59] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:59] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:59] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:59] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:59] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:56:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:56:59] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:56:59] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:56:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:56:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:56:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:56:59] [INFO] [LastChance] Found player: Player
[12:56:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:56:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:56:59] [INFO] [LastChance] Connected to player Died signal (C#)
[12:56:59] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:56:59] [INFO] [BloodDecal] Blood puddle created at (489.762, 634.0958) (added to group)
[12:57:00] [INFO] [BloodDecal] Blood puddle created at (565.2562, 720.871) (added to group)
[12:57:00] [INFO] [BloodDecal] Blood puddle created at (569.2521, 729.3054) (added to group)
[12:57:00] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:57:00] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:57:00] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:57:00] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:57:00] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (782.8054, 1207.9221)
[12:57:00] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:57:00] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:57:00] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[12:57:00] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[12:57:00] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[12:57:00] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[12:57:00] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:57:00] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[12:57:00] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:57:00] [INFO] [Player.Grenade] Step 1 complete! Drag: (287.40564, 35.398926)
[12:57:00] [INFO] [Player.Grenade.Simple] G released - dropping grenade at feet
[12:57:00] [INFO] [Player.Grenade] Grenade dropped at feet at (450, 1250) (unfrozen)
[12:57:00] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:57:00] [INFO] [Player.Grenade] State reset to IDLE
[12:57:00] [INFO] [FragGrenade] Detected unfreeze - enabling impact detection (fallback)
[12:57:01] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:57:01] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:57:01] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:57:01] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[12:57:01] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[12:57:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:57:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:01] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:57:01] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:57:01] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:57:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:57:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:57:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:57:01] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:57:01] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:57:01] [ENEMY] [Enemy1] Death animation component initialized
[12:57:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:01] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:57:01] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:57:01] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:57:01] [ENEMY] [Enemy2] Death animation component initialized
[12:57:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:01] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:57:01] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:57:01] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:57:01] [ENEMY] [Enemy3] Death animation component initialized
[12:57:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:01] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:57:01] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:57:01] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:57:01] [ENEMY] [Enemy4] Death animation component initialized
[12:57:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:01] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:57:01] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:57:01] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:57:01] [ENEMY] [Enemy5] Death animation component initialized
[12:57:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:01] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:57:01] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:57:01] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:57:01] [ENEMY] [Enemy6] Death animation component initialized
[12:57:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:01] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:57:01] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:57:01] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:57:01] [ENEMY] [Enemy7] Death animation component initialized
[12:57:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:01] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:57:01] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:57:01] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:57:01] [ENEMY] [Enemy8] Death animation component initialized
[12:57:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:01] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:57:01] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:57:01] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:57:01] [ENEMY] [Enemy9] Death animation component initialized
[12:57:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:01] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:57:01] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:57:01] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:57:01] [ENEMY] [Enemy10] Death animation component initialized
[12:57:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:01] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:57:01] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:57:01] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:57:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[12:57:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:57:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:57:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:57:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:57:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:57:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:57:01] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:57:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:57:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:57:01] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:57:01] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:57:01] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:57:01] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:57:01] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:57:01] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:57:01] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:57:01] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:57:01] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:57:01] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:57:01] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:57:01] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:57:01] [INFO] [ScoreManager] Level started with 10 enemies
[12:57:01] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:57:01] [INFO] [CinemaEffects] Found player node: Player
[12:57:01] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:57:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[12:57:01] [ENEMY] [Enemy1] Registered as sound listener
[12:57:01] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[12:57:01] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:57:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[12:57:01] [ENEMY] [Enemy2] Registered as sound listener
[12:57:01] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[12:57:01] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:57:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[12:57:01] [ENEMY] [Enemy3] Registered as sound listener
[12:57:01] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[12:57:01] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:57:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[12:57:01] [ENEMY] [Enemy4] Registered as sound listener
[12:57:01] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[12:57:01] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:57:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[12:57:01] [ENEMY] [Enemy5] Registered as sound listener
[12:57:01] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[12:57:01] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:57:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[12:57:01] [ENEMY] [Enemy6] Registered as sound listener
[12:57:01] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[12:57:01] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:57:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[12:57:01] [ENEMY] [Enemy7] Registered as sound listener
[12:57:01] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[12:57:01] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:57:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[12:57:01] [ENEMY] [Enemy8] Registered as sound listener
[12:57:01] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[12:57:01] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:57:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[12:57:01] [ENEMY] [Enemy9] Registered as sound listener
[12:57:01] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[12:57:01] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:57:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[12:57:01] [ENEMY] [Enemy10] Registered as sound listener
[12:57:01] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[12:57:01] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:57:01] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:01] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:01] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:01] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:01] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:01] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:01] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:01] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:57:01] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:57:01] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:57:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:57:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:57:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:57:01] [INFO] [LastChance] Found player: Player
[12:57:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:57:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:57:01] [INFO] [LastChance] Connected to player Died signal (C#)
[12:57:01] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:57:01] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:57:01] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:57:01] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:57:02] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:57:02] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (840.48004, 1237.9778)
[12:57:02] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:57:02] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:57:02] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[12:57:02] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[12:57:02] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[12:57:02] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[12:57:02] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:57:02] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[12:57:02] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:57:02] [INFO] [Player.Grenade] Step 1 complete! Drag: (204.00848, 17.365479)
[12:57:02] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:57:02] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:57:02] [INFO] [Player.Grenade.Simple] Throwing! Target: (1160.8909, 1246.6605), Distance: 755,0, Speed: 650,2, Friction: 280,0
[12:57:02] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,0046975603
[12:57:02] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:57:02] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.99998903, -0.0046975436), speed=650,2, spawn=(509.99933, 1249.7181)
[12:57:02] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.999989, -0.004698), Speed: 650.2 (clamped from 650.2, max: 1186.5)
[12:57:02] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[12:57:02] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:57:02] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:57:02] [INFO] [Player.Grenade] State reset to IDLE
[12:57:02] [INFO] [Player.Grenade] State reset to IDLE
[12:57:02] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:57:02] [INFO] [Player.Grenade] Player rotation restored to 0
[12:57:02] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:57:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:57:03] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:57:03] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[12:57:03] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[12:57:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[12:57:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:57:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[12:57:03] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:57:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[12:57:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[12:57:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[12:57:03] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[12:57:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[12:57:03] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(953.6694, 1247.634), source=NEUTRAL (FragGrenade), range=112, listeners=30
[12:57:03] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[12:57:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[12:57:03] [INFO] [GrenadeBase] Grenade landed at (953.6694, 1247.634)
[12:57:03] [INFO] [FragGrenade] Impact detected - exploding immediately!
[12:57:03] [INFO] [GrenadeBase] EXPLODED at (953.6694, 1247.634)!
[12:57:03] [INFO] [PowerFantasy] Grenade exploded - triggering 400ms special last chance effect
[12:57:03] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:57:03] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:57:03] [INFO] [PowerFantasy]   - Duration: 400ms
[12:57:03] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(953.6694, 1247.634), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[12:57:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:57:03] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -0.4 degrees
[12:57:03] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 81.0 degrees
[12:57:03] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 190.6 degrees
[12:57:03] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 260.6 degrees
[12:57:03] [INFO] [ImpactEffects] Spawning explosion visual effect at (953.6694, 1247.634) (radius=225) - using shadow-based wall occlusion
[12:57:03] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[12:57:03] [INFO] [GrenadeTimer] EXPLODED at (953.66943, 1247.6344)!
[12:57:03] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[12:57:03] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[12:57:03] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(953.6694, 1247.634), source=NEUTRAL (FragGrenade), range=2938, listeners=10
[12:57:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:57:03] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (953.66943, 1247.6344) (shadow-based wall occlusion)
[12:57:04] [INFO] [PowerFantasy] Effect duration expired after 400.00 ms
[12:57:04] [INFO] [PowerFantasy] Ending power fantasy effect
[12:57:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.8°, player=(450,1228), corner_timer=-0.01
[12:57:04] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[12:57:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.6°, player=(450,1224), corner_timer=0.30
[12:57:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1123), corner_timer=-0.02
[12:57:04] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[12:57:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=6.3°, player=(450,1117), corner_timer=0.30
[12:57:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1055), corner_timer=-0.02
[12:57:05] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[12:57:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.7°, player=(450,1055), corner_timer=0.30
[12:57:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:57:06] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:57:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,1055), corner_timer=-0.02
[12:57:06] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[12:57:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,1055), corner_timer=0.30
[12:57:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:57:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,1055), corner_timer=-0.02
[12:57:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[12:57:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,1055), corner_timer=0.30
[12:57:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:57:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(450,1055), corner_timer=-0.02
[12:57:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[12:57:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(450,1055), corner_timer=0.30
[12:57:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:57:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(450,1055), corner_timer=-0.02
[12:57:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[12:57:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(450,1055), corner_timer=0.30
[12:57:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:57:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(450,1055), corner_timer=-0.02
[12:57:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[12:57:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(450,1055), corner_timer=0.30
[12:57:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:57:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(450,1055), corner_timer=-0.02
[12:57:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[12:57:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(450,1055), corner_timer=0.30
[12:57:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:57:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:12] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[12:57:12] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[12:57:12] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[12:57:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[12:57:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:57:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:57:12] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[12:57:12] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[12:57:12] [ENEMY] [Enemy1] Death animation component initialized
[12:57:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:12] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[12:57:12] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[12:57:12] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[12:57:12] [ENEMY] [Enemy2] Death animation component initialized
[12:57:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:12] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[12:57:12] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[12:57:12] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[12:57:12] [ENEMY] [Enemy3] Death animation component initialized
[12:57:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:12] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[12:57:12] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[12:57:12] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[12:57:12] [ENEMY] [Enemy4] Death animation component initialized
[12:57:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:12] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[12:57:12] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[12:57:12] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[12:57:12] [ENEMY] [Enemy5] Death animation component initialized
[12:57:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:12] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[12:57:12] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[12:57:12] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[12:57:12] [ENEMY] [Enemy6] Death animation component initialized
[12:57:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:12] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[12:57:12] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[12:57:12] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[12:57:12] [ENEMY] [Enemy7] Death animation component initialized
[12:57:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:12] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[12:57:12] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[12:57:12] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[12:57:12] [ENEMY] [Enemy8] Death animation component initialized
[12:57:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:12] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[12:57:12] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[12:57:12] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[12:57:12] [INFO] [EnemyGrenade] Initialized: 1 grenades
[12:57:12] [ENEMY] [Enemy9] Death animation component initialized
[12:57:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:12] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[12:57:12] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[12:57:12] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[12:57:12] [ENEMY] [Enemy10] Death animation component initialized
[12:57:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[12:57:12] [INFO] [BloodyFeet:Player] Footprint scene loaded
[12:57:12] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[12:57:12] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[12:57:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[12:57:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:57:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[12:57:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[12:57:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[12:57:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[12:57:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[12:57:12] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[12:57:12] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[12:57:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[12:57:12] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[12:57:12] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[12:57:12] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[12:57:12] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[12:57:12] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[12:57:12] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[12:57:12] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[12:57:12] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[12:57:12] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[12:57:12] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[12:57:12] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[12:57:12] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[12:57:12] [INFO] [ScoreManager] Level started with 10 enemies
[12:57:12] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[12:57:12] [INFO] [CinemaEffects] Found player node: Player
[12:57:12] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[12:57:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:57:12] [ENEMY] [Enemy1] Registered as sound listener
[12:57:12] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[12:57:12] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[12:57:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:57:12] [ENEMY] [Enemy2] Registered as sound listener
[12:57:12] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[12:57:12] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[12:57:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:57:12] [ENEMY] [Enemy3] Registered as sound listener
[12:57:12] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[12:57:12] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[12:57:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:57:12] [ENEMY] [Enemy4] Registered as sound listener
[12:57:12] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[12:57:12] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[12:57:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:57:12] [ENEMY] [Enemy5] Registered as sound listener
[12:57:12] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[12:57:12] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[12:57:12] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:57:12] [ENEMY] [Enemy6] Registered as sound listener
[12:57:12] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[12:57:12] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[12:57:12] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:57:12] [ENEMY] [Enemy7] Registered as sound listener
[12:57:12] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[12:57:12] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[12:57:12] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:57:12] [ENEMY] [Enemy8] Registered as sound listener
[12:57:12] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[12:57:12] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[12:57:12] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:57:12] [ENEMY] [Enemy9] Registered as sound listener
[12:57:12] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[12:57:12] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[12:57:12] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:57:12] [ENEMY] [Enemy10] Registered as sound listener
[12:57:12] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[12:57:12] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[12:57:12] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:12] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:12] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:12] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:12] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:12] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:12] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:12] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[12:57:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[12:57:12] [INFO] [Player] Detected weapon: Rifle (default pose)
[12:57:12] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[12:57:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:57:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:57:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:57:12] [INFO] [LastChance] Found player: Player
[12:57:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:57:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:57:12] [INFO] [LastChance] Connected to player Died signal (C#)
[12:57:12] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[12:57:13] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:57:13] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[12:57:13] [INFO] [Player.Grenade] G pressed - starting grab animation
[12:57:13] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[12:57:13] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (574.6592, 1288.7384)
[12:57:13] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[12:57:13] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[12:57:13] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[12:57:13] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[12:57:13] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[12:57:13] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[12:57:13] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[12:57:13] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[12:57:13] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[12:57:13] [INFO] [Player.Grenade] Step 1 complete! Drag: (230.95032, 6.0111084)
[12:57:13] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[12:57:13] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[12:57:13] [INFO] [Player.Grenade.Simple] Throwing! Target: (866.0026, 1216.6049), Distance: 414,5, Speed: 481,8, Friction: 280,0
[12:57:13] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,0801045
[12:57:13] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[12:57:13] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9967934, -0.08001886), speed=481,8, spawn=(509.80762, 1245.1989)
[12:57:13] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.996793, -0.080019), Speed: 481.8 (clamped from 481.8, max: 1186.5)
[12:57:13] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[12:57:13] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[12:57:13] [INFO] [Player.Grenade.Simple] Grenade thrown!
[12:57:13] [INFO] [Player.Grenade] State reset to IDLE
[12:57:13] [INFO] [Player.Grenade] State reset to IDLE
[12:57:13] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[12:57:13] [INFO] [Player.Grenade] Player rotation restored to 0
[12:57:14] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[12:57:14] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:57:14] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[12:57:14] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1243), corner_timer=0.30
[12:57:14] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1243), corner_timer=0.30
[12:57:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1155), corner_timer=-0.02
[12:57:14] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[12:57:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1155), corner_timer=-0.02
[12:57:14] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[12:57:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(449,1149), corner_timer=0.30
[12:57:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(449,1149), corner_timer=0.30
[12:57:14] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(754.2479, 1225.576), source=NEUTRAL (FragGrenade), range=112, listeners=20
[12:57:14] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:57:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[12:57:14] [INFO] [GrenadeBase] Grenade landed at (754.2479, 1225.576)
[12:57:14] [INFO] [FragGrenade] Impact detected - exploding immediately!
[12:57:14] [INFO] [GrenadeBase] EXPLODED at (754.2479, 1225.576)!
[12:57:14] [INFO] [PowerFantasy] Grenade exploded - triggering 400ms special last chance effect
[12:57:14] [INFO] [PowerFantasy] Starting power fantasy effect:
[12:57:14] [INFO] [PowerFantasy]   - Time scale: 0.10
[12:57:14] [INFO] [PowerFantasy]   - Duration: 400ms
[12:57:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(754.2479, 1225.576), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[12:57:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:57:14] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -0.0 degrees
[12:57:14] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 92.8 degrees
[12:57:14] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 184.5 degrees
[12:57:14] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 276.0 degrees
[12:57:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (754.2479, 1225.576) (radius=225) - using shadow-based wall occlusion
[12:57:14] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[12:57:14] [INFO] [GrenadeTimer] EXPLODED at (754.2479, 1225.5758)!
[12:57:14] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[12:57:14] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[12:57:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(754.2479, 1225.576), source=NEUTRAL (FragGrenade), range=2938, listeners=10
[12:57:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:57:14] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (754.2479, 1225.5758) (shadow-based wall occlusion)
[12:57:15] [INFO] [PowerFantasy] Effect duration expired after 402.00 ms
[12:57:15] [INFO] [PowerFantasy] Ending power fantasy effect
[12:57:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(397,1070), corner_timer=-0.01
[12:57:15] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[12:57:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.6°, player=(393,1066), corner_timer=0.30
[12:57:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(319,992), corner_timer=-0.02
[12:57:15] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[12:57:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.7°, player=(315,988), corner_timer=0.30
[12:57:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(248,912), corner_timer=-0.02
[12:57:15] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[12:57:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(246,907), corner_timer=0.30
[12:57:16] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.7°, current=-168.8°, player=(233,877), corner_timer=0.00
[12:57:16] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:57:16] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:57:16] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[12:57:16] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[12:57:16] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[12:57:16] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[12:57:16] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-177.3°, current=168.8°, player=(231,873), corner_timer=0.00
[12:57:16] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[12:57:16] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=117.7°, current=45.0°, player=(230,872), corner_timer=0.00
[12:57:16] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=113.2°, current=-132.5°, player=(230,872), corner_timer=0.00
[12:57:16] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:57:16] [ENEMY] [Enemy2] PURSUING corner check: angle 29.0°
[12:57:16] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:57:16] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[12:57:16] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[12:57:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(230,871), corner_timer=-0.02
[12:57:16] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[12:57:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.6°, player=(230,871), corner_timer=0.30
[12:57:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[12:57:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(230,871), corner_timer=-0.02
[12:57:16] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[12:57:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(230,871), corner_timer=0.30
[12:57:16] [INFO] ------------------------------------------------------------
[12:57:16] [INFO] GAME LOG ENDED: 2026-02-06T12:57:16
[12:57:16] [INFO] ============================================================
