[03:35:09] [INFO] ============================================================
[03:35:09] [INFO] GAME LOG STARTED
[03:35:09] [INFO] ============================================================
[03:35:09] [INFO] Timestamp: 2026-02-09T03:35:09
[03:35:09] [INFO] Log file: I:/Загрузки/godot exe/САмонаводящиеся пУЛи/game_log_20260209_033509.txt
[03:35:09] [INFO] Executable: I:/Загрузки/godot exe/САмонаводящиеся пУЛи/Godot-Top-Down-Template.exe
[03:35:09] [INFO] OS: Windows
[03:35:09] [INFO] Debug build: false
[03:35:09] [INFO] Engine version: 4.3-stable (official)
[03:35:09] [INFO] Project: Godot Top-Down Template
[03:35:09] [INFO] ------------------------------------------------------------
[03:35:09] [INFO] [GameManager] GameManager ready
[03:35:09] [INFO] [ScoreManager] ScoreManager ready
[03:35:09] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[03:35:09] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[03:35:09] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[03:35:09] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[03:35:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:09] [INFO] [PenultimateHit] Saturation shader loaded successfully
[03:35:09] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[03:35:09] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[03:35:09] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[03:35:09] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[03:35:09] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[03:35:09] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[03:35:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:09] [INFO] [LastChance] Last chance shader loaded successfully
[03:35:09] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[03:35:09] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[03:35:09] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[03:35:09] [INFO] [LastChance]   Sepia intensity: 0.70
[03:35:09] [INFO] [LastChance]   Brightness: 0.60
[03:35:09] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[03:35:09] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[03:35:09] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[03:35:09] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[03:35:09] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[03:35:09] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[03:35:09] [INFO] [CinemaEffects] Created effects layer at layer 99
[03:35:09] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[03:35:09] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[03:35:09] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[03:35:09] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[03:35:09] [INFO] [CinemaEffects]   Grain intensity: 0.15
[03:35:09] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[03:35:09] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[03:35:09] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[03:35:09] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[03:35:09] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[03:35:09] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[03:35:09] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[03:35:09] [INFO] [GrenadeTimerHelper] Autoload ready
[03:35:09] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:09] [INFO] [PowerFantasy] Saturation shader loaded successfully
[03:35:09] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[03:35:09] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[03:35:09] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[03:35:09] [INFO] [ProgressManager] ProgressManager ready, loaded 8 entries
[03:35:09] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[03:35:09] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:09] [INFO] [FlashbangPlayer] Flashbang player shader loaded successfully
[03:35:09] [INFO] [FlashbangPlayer] Starting shader warmup (Issue #343 fix)...
[03:35:09] [INFO] [FlashbangPlayer] FlashbangPlayerEffectsManager ready
[03:35:09] [INFO] [FlashbangPlayer]   Duration range: 1.0-5.0 seconds
[03:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:09] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:09] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:09] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:09] [ENEMY] [Enemy1] Death animation component initialized
[03:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:09] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:09] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:09] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:09] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:09] [ENEMY] [Enemy2] Death animation component initialized
[03:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:09] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:09] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:09] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:09] [ENEMY] [Enemy3] Death animation component initialized
[03:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:09] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:09] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:09] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:09] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:09] [ENEMY] [Enemy4] Death animation component initialized
[03:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:09] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[03:35:09] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[03:35:09] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[03:35:09] [ENEMY] [Enemy5] Death animation component initialized
[03:35:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:09] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:09] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:09] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:09] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:09] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:09] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[03:35:09] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 2/4
[03:35:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:09] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[03:35:09] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[03:35:09] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:09] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:09] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:09] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:09] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[03:35:09] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[03:35:09] [INFO] [LabyrinthLevel] Setting up weapon: makarov_pm
[03:35:09] [INFO] [ScoreManager] Level started with 5 enemies
[03:35:09] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[03:35:09] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[03:35:09] [INFO] [ReplayManager] Replay data cleared
[03:35:09] [INFO] [LabyrinthLevel] Previous replay data cleared
[03:35:09] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:09] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:09] [INFO] [ReplayManager] Level: LabyrinthLevel
[03:35:09] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:09] [INFO] [ReplayManager] Enemies count: 5
[03:35:09] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:09] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:09] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:09] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:09] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:09] [INFO] [ReplayManager]   Enemy 4: Enemy5
[03:35:09] [INFO] [LabyrinthLevel] Replay recording started successfully
[03:35:09] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[03:35:10] [INFO] [CinemaEffects] Found player node: Player
[03:35:10] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:10] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[03:35:10] [ENEMY] [Enemy1] Registered as sound listener
[03:35:10] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[03:35:10] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[03:35:10] [ENEMY] [Enemy2] Registered as sound listener
[03:35:10] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[03:35:10] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[03:35:10] [ENEMY] [Enemy3] Registered as sound listener
[03:35:10] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[03:35:10] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[03:35:10] [ENEMY] [Enemy4] Registered as sound listener
[03:35:10] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[03:35:10] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[03:35:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[03:35:10] [ENEMY] [Enemy5] Registered as sound listener
[03:35:10] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[03:35:10] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:10] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[03:35:10] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[03:35:10] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[03:35:10] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[03:35:10] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:10] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[03:35:10] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[03:35:10] [INFO] [PenultimateHit] Shader warmup complete in 494 ms
[03:35:10] [INFO] [LastChance] Shader warmup complete in 493 ms
[03:35:10] [INFO] [CinemaEffects] Cinema shader warmup complete in 440 ms
[03:35:10] [INFO] [FlashbangPlayer] Shader warmup complete in 430 ms
[03:35:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:10] [INFO] [LastChance] Found player: Player
[03:35:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:10] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:10] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:10] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 780 ms
[03:35:10] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[03:35:10] [INFO] [GrenadeBase] Grenade created at (860.162, 953.5967) (frozen)
[03:35:10] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[03:35:10] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[03:35:10] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[03:35:10] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[03:35:10] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[03:35:10] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[03:35:10] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.995949, 0.089918), Speed: 1186.5 (unfrozen)
[03:35:10] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[03:35:10] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[03:35:10] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[03:35:10] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (301.3289, 989.9114), Distance: 600
[03:35:11] [INFO] [GrenadeBase] Collision detected with Hall_WallRight (type: StaticBody2D)
[03:35:11] [INFO] [FragGrenade] Impact detected! Body: Hall_WallRight (type: StaticBody2D), triggering explosion
[03:35:11] [INFO] [FragGrenade] Impact detected - exploding immediately!
[03:35:11] [INFO] [GrenadeBase] EXPLODED at (371.9674, 998.1923)!
[03:35:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(371.9674, 998.1923), source=NEUTRAL (FragGrenade), range=2937, listeners=5
[03:35:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[03:35:11] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -12.2 degrees
[03:35:11] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 108.1 degrees
[03:35:11] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 161.8 degrees
[03:35:11] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 274.3 degrees
[03:35:11] [INFO] [ImpactEffects] Spawning explosion visual effect at (371.9674, 998.1923) (radius=225) - using shadow-based wall occlusion
[03:35:11] [INFO] [GrenadeTimer] Impact detected with Hall_WallRight - EXPLODING!
[03:35:11] [INFO] [GrenadeTimer] EXPLODED at (371.96744, 998.19226)!
[03:35:11] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[03:35:11] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[03:35:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(371.9674, 998.1923), source=NEUTRAL (FragGrenade), range=2938, listeners=5
[03:35:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[03:35:11] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (371.96744, 998.19226) (shadow-based wall occlusion)
[03:35:11] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/2->1/2
[03:35:11] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 300), dir=(0.022714, -0.999742), lethal=false
[03:35:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:11] [INFO] [ImpactEffects] Blood effect spawned at (400, 300) (scale=1)
[03:35:11] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[03:35:11] [INFO] [BloodDecal] Blood puddle created at (383.6461, 277.687) (added to group)
[03:35:11] [INFO] [BloodDecal] Blood puddle created at (412.0376, 243.6783) (added to group)
[03:35:11] [INFO] [BloodDecal] Blood puddle created at (408.3462, 235.4841) (added to group)
[03:35:11] [INFO] [BloodDecal] Blood puddle created at (375.2273, 219.1892) (added to group)
[03:35:11] [INFO] [BloodDecal] Blood puddle created at (442.9108, 240.2604) (added to group)
[03:35:11] [INFO] [BloodDecal] Blood puddle created at (367.5703, 279.4216) (added to group)
[03:35:11] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[03:35:11] [INFO] [BloodDecal] Blood puddle created at (350.0268, 247.472) (added to group)
[03:35:11] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1000), corner_timer=0.30
[03:35:11] [INFO] [BloodDecal] Blood puddle created at (464.4427, 233.9319) (added to group)
[03:35:11] [INFO] [BloodDecal] Blood puddle created at (406.7979, 278.8056) (added to group)
[03:35:11] [INFO] [BloodDecal] Blood puddle created at (444.8228, 188.8671) (added to group)
[03:35:11] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[03:35:12] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[03:35:13] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[03:35:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:13] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:13] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:13] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:13] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:13] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:13] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:13] [ENEMY] [Enemy1] Death animation component initialized
[03:35:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:13] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:13] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:13] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:13] [ENEMY] [Enemy2] Death animation component initialized
[03:35:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:13] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:13] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:13] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:13] [ENEMY] [Enemy3] Death animation component initialized
[03:35:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:13] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:13] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:13] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:13] [ENEMY] [Enemy4] Death animation component initialized
[03:35:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:13] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:13] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:13] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:14] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:14] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:14] [ENEMY] [Grenadier] Death animation component initialized
[03:35:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:14] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:14] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:14] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:14] [ENEMY] [Enemy6] Death animation component initialized
[03:35:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:14] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:14] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:14] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:14] [ENEMY] [Enemy7] Death animation component initialized
[03:35:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:14] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:14] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:14] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:14] [ENEMY] [Enemy8] Death animation component initialized
[03:35:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:14] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:14] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:14] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:14] [ENEMY] [Enemy9] Death animation component initialized
[03:35:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:14] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:14] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:14] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:14] [ENEMY] [Enemy10] Death animation component initialized
[03:35:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:14] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:14] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:14] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:14] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:14] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:14] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:14] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[03:35:14] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 4/4
[03:35:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:14] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:14] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:14] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:14] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:14] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:14] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:14] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:14] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:14] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:14] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:14] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:14] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:14] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[03:35:14] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:14] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:14] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:14] [INFO] [ReplayManager] Replay data cleared
[03:35:14] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:14] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:14] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:14] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:14] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:14] [INFO] [ReplayManager] Enemies count: 10
[03:35:14] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:14] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:14] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:14] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:14] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:14] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:14] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:14] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:14] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:14] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:14] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:14] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:14] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:14] [INFO] [CinemaEffects] Found player node: Player
[03:35:14] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[03:35:14] [ENEMY] [Enemy1] Registered as sound listener
[03:35:14] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[03:35:14] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[03:35:14] [ENEMY] [Enemy2] Registered as sound listener
[03:35:14] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[03:35:14] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[03:35:14] [ENEMY] [Enemy3] Registered as sound listener
[03:35:14] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[03:35:14] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[03:35:14] [ENEMY] [Enemy4] Registered as sound listener
[03:35:14] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[03:35:14] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:14] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 10)
[03:35:14] [ENEMY] [Grenadier] Registered as sound listener
[03:35:14] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:14] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[03:35:14] [ENEMY] [Enemy6] Registered as sound listener
[03:35:14] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[03:35:14] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[03:35:14] [ENEMY] [Enemy7] Registered as sound listener
[03:35:14] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[03:35:14] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[03:35:14] [ENEMY] [Enemy8] Registered as sound listener
[03:35:14] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[03:35:14] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[03:35:14] [ENEMY] [Enemy9] Registered as sound listener
[03:35:14] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[03:35:14] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[03:35:14] [ENEMY] [Enemy10] Registered as sound listener
[03:35:14] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[03:35:14] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:14] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:14] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:14] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:14] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:14] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:14] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:14] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:14] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:14] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:14] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[03:35:14] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[03:35:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:14] [INFO] [LastChance] Found player: Player
[03:35:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:14] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:14] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:15] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:16] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:17] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[03:35:17] [INFO] [PauseMenu] Armory button pressed
[03:35:17] [INFO] [PauseMenu] Creating new armory menu instance
[03:35:17] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[03:35:17] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[03:35:17] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[03:35:17] [INFO] [PauseMenu] back_pressed signal exists on instance
[03:35:17] [INFO] [PauseMenu] back_pressed signal connected
[03:35:17] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[03:35:17] [INFO] [PauseMenu] _populate_weapon_grid method exists
[03:35:18] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[03:35:19] [INFO] [ActiveItemManager] Active item changed from None to Homing Bullets
[03:35:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:19] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:19] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:19] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:19] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:19] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:19] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:19] [ENEMY] [Enemy1] Death animation component initialized
[03:35:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:19] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:19] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:19] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:19] [ENEMY] [Enemy2] Death animation component initialized
[03:35:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:19] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:19] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:19] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:19] [ENEMY] [Enemy3] Death animation component initialized
[03:35:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:19] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:19] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:19] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:19] [ENEMY] [Enemy4] Death animation component initialized
[03:35:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:19] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:19] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:19] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:19] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:19] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:19] [ENEMY] [Grenadier] Death animation component initialized
[03:35:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:19] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:19] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:19] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:19] [ENEMY] [Enemy6] Death animation component initialized
[03:35:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:19] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:19] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:19] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:19] [ENEMY] [Enemy7] Death animation component initialized
[03:35:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:19] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:19] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:19] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:19] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:19] [ENEMY] [Enemy8] Death animation component initialized
[03:35:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:19] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:19] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:19] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:19] [ENEMY] [Enemy9] Death animation component initialized
[03:35:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:19] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:19] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:19] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:19] [ENEMY] [Enemy10] Death animation component initialized
[03:35:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:19] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:19] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:19] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:19] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:19] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:19] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:19] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:19] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:19] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 3/4
[03:35:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:19] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:19] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:19] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:19] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:19] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:19] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:19] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:19] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:19] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:19] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:19] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:19] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:19] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[03:35:19] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:19] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:19] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:19] [INFO] [ReplayManager] Replay data cleared
[03:35:19] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:19] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:19] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:19] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:19] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:19] [INFO] [ReplayManager] Enemies count: 10
[03:35:19] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:19] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:19] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:19] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:19] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:19] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:19] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:19] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:19] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:19] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:19] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:19] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:19] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:19] [INFO] [CinemaEffects] Found player node: Player
[03:35:19] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:19] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 16)
[03:35:19] [ENEMY] [Enemy1] Registered as sound listener
[03:35:19] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[03:35:19] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:19] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 17)
[03:35:19] [ENEMY] [Enemy2] Registered as sound listener
[03:35:19] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[03:35:19] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:19] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 18)
[03:35:19] [ENEMY] [Enemy3] Registered as sound listener
[03:35:19] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[03:35:19] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:19] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 19)
[03:35:19] [ENEMY] [Enemy4] Registered as sound listener
[03:35:19] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[03:35:19] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:19] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 20)
[03:35:19] [ENEMY] [Grenadier] Registered as sound listener
[03:35:19] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:19] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:19] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 21)
[03:35:19] [ENEMY] [Enemy6] Registered as sound listener
[03:35:19] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[03:35:19] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:19] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 22)
[03:35:19] [ENEMY] [Enemy7] Registered as sound listener
[03:35:19] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:35:19] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:19] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 23)
[03:35:19] [ENEMY] [Enemy8] Registered as sound listener
[03:35:19] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[03:35:19] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:19] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 24)
[03:35:19] [ENEMY] [Enemy9] Registered as sound listener
[03:35:19] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[03:35:19] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:19] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 25)
[03:35:19] [ENEMY] [Enemy10] Registered as sound listener
[03:35:19] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[03:35:19] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:19] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:19] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:19] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:19] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:19] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:19] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:19] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:19] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:19] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:19] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[03:35:19] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[03:35:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:19] [INFO] [LastChance] Found player: Player
[03:35:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:19] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:19] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:20] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:20] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:20] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:35:20] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(383,913), corner_timer=0.30
[03:35:20] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(383,913), corner_timer=0.30
[03:35:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(348,854), corner_timer=-0.02
[03:35:21] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(348,854), corner_timer=-0.02
[03:35:21] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:35:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(348,853), corner_timer=0.30
[03:35:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(348,853), corner_timer=0.30
[03:35:21] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(347,852), corner_timer=-0.02
[03:35:21] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[03:35:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(347,852), corner_timer=0.30
[03:35:21] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:35:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(347,852), corner_timer=-0.02
[03:35:21] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[03:35:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(347,852), corner_timer=0.30
[03:35:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(347.9656, 858.6542), source=PLAYER (MakarovPM), range=1469, listeners=25
[03:35:21] [INFO] [SoundPropagation] Cleaned up 15 invalid listeners
[03:35:21] [ENEMY] [Enemy2] Heard gunshot at (347.9656, 858.6542), source_type=0, intensity=0.03, distance=313
[03:35:21] [ENEMY] [Enemy3] Heard gunshot at (347.9656, 858.6542), source_type=0, intensity=0.02, distance=368
[03:35:21] [ENEMY] [Enemy4] Heard gunshot at (347.9656, 858.6542), source_type=0, intensity=0.01, distance=454
[03:35:21] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[03:35:21] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=99.8°, current=-157.5°, player=(347,852), corner_timer=0.00
[03:35:21] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=163.7°, current=-33.8°, player=(347,852), corner_timer=0.00
[03:35:21] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-174.0°, current=-67.5°, player=(347,852), corner_timer=0.00
[03:35:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(347,852), corner_timer=-0.02
[03:35:22] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[03:35:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(347.9656, 858.6542), source=PLAYER (MakarovPM), range=1469, listeners=10
[03:35:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[03:35:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(347,852), corner_timer=0.30
[03:35:22] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[03:35:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(347.9656, 858.6542), source=PLAYER (MakarovPM), range=1469, listeners=10
[03:35:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[03:35:22] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:35:22] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=163.7°, current=163.7°, player=(347,852), corner_timer=0.00
[03:35:22] [ENEMY] [Enemy1] Memory: medium confidence (0.59) - transitioning to PURSUING
[03:35:22] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[03:35:22] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=84.5°, current=33.8°, player=(347,852), corner_timer=0.00
[03:35:22] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[03:35:22] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:35:22] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[03:35:22] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[03:35:22] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[03:35:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(347,852), corner_timer=-0.02
[03:35:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[03:35:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(347.9656, 858.6542), shooter_id=166631312826, bullet_pos=(915.7643, 616.3614)
[03:35:22] [INFO] [Bullet] Using shooter_position, distance=617.333862304688
[03:35:22] [INFO] [Bullet] Distance to wall: 617.333862304688 (42.0353978612016% of viewport)
[03:35:22] [INFO] [Bullet] Distance-based penetration chance: 97.6253691619315%
[03:35:22] [INFO] [Bullet] Caliber cannot penetrate walls
[03:35:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(347,852), corner_timer=0.30
[03:35:22] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:35:22] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[03:35:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:22] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:22] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:22] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:22] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:22] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:22] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:22] [ENEMY] [Enemy1] Death animation component initialized
[03:35:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:22] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:22] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:22] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:22] [ENEMY] [Enemy2] Death animation component initialized
[03:35:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:22] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:22] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:22] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:22] [ENEMY] [Enemy3] Death animation component initialized
[03:35:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:22] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:22] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:22] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:22] [ENEMY] [Enemy4] Death animation component initialized
[03:35:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:22] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:22] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:22] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:22] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:22] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:22] [ENEMY] [Grenadier] Death animation component initialized
[03:35:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:22] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:22] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:22] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:22] [ENEMY] [Enemy6] Death animation component initialized
[03:35:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:22] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:22] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:22] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:22] [ENEMY] [Enemy7] Death animation component initialized
[03:35:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:22] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:22] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:22] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:22] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:22] [ENEMY] [Enemy8] Death animation component initialized
[03:35:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:22] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:22] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:22] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:22] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:22] [ENEMY] [Enemy9] Death animation component initialized
[03:35:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:22] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:22] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:22] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:22] [ENEMY] [Enemy10] Death animation component initialized
[03:35:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:22] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:22] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:22] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:22] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:22] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:22] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:22] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:22] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:22] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 3/4
[03:35:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:22] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:22] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:22] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:22] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:22] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:22] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:22] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:22] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:22] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:22] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:22] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:22] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:22] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[03:35:22] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:22] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:22] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:22] [INFO] [ReplayManager] Replay data cleared
[03:35:22] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:22] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:22] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:22] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:22] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:22] [INFO] [ReplayManager] Enemies count: 10
[03:35:22] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:22] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:22] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:22] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:22] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:22] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:22] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:22] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:22] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:22] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:22] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:22] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:22] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:22] [INFO] [CinemaEffects] Found player node: Player
[03:35:22] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[03:35:22] [ENEMY] [Enemy1] Registered as sound listener
[03:35:22] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[03:35:22] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[03:35:22] [ENEMY] [Enemy2] Registered as sound listener
[03:35:22] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[03:35:22] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[03:35:22] [ENEMY] [Enemy3] Registered as sound listener
[03:35:22] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[03:35:22] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[03:35:22] [ENEMY] [Enemy4] Registered as sound listener
[03:35:22] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[03:35:22] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:22] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[03:35:22] [ENEMY] [Grenadier] Registered as sound listener
[03:35:22] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:22] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[03:35:22] [ENEMY] [Enemy6] Registered as sound listener
[03:35:22] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[03:35:22] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[03:35:22] [ENEMY] [Enemy7] Registered as sound listener
[03:35:22] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:35:22] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[03:35:22] [ENEMY] [Enemy8] Registered as sound listener
[03:35:22] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[03:35:22] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[03:35:22] [ENEMY] [Enemy9] Registered as sound listener
[03:35:22] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[03:35:22] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[03:35:22] [ENEMY] [Enemy10] Registered as sound listener
[03:35:22] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[03:35:22] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:23] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:23] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:23] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:23] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:23] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:23] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:23] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:23] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:23] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:23] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[03:35:23] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[03:35:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:23] [INFO] [LastChance] Found player: Player
[03:35:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:23] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:23] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:23] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:24] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:35:24] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:24] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:35:24] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,786), corner_timer=0.30
[03:35:24] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,786), corner_timer=0.30
[03:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 783.1666), source=PLAYER (MakarovPM), range=1469, listeners=20
[03:35:24] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[03:35:24] [ENEMY] [Enemy1] Heard gunshot at (450, 783.1666), source_type=0, intensity=0.01, distance=458
[03:35:24] [ENEMY] [Enemy2] Heard gunshot at (450, 783.1666), source_type=0, intensity=0.04, distance=238
[03:35:24] [ENEMY] [Enemy3] Heard gunshot at (450, 783.1666), source_type=0, intensity=0.04, distance=252
[03:35:24] [ENEMY] [Enemy4] Heard gunshot at (450, 783.1666), source_type=0, intensity=0.02, distance=369
[03:35:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:24] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.7°, current=-33.8°, player=(450,777), corner_timer=0.00
[03:35:24] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.6°, current=-101.3°, player=(450,777), corner_timer=0.00
[03:35:24] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=173.8°, current=-123.8°, player=(450,777), corner_timer=0.00
[03:35:24] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-160.7°, current=168.8°, player=(450,777), corner_timer=0.00
[03:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 768.6666), source=PLAYER (MakarovPM), range=1469, listeners=10
[03:35:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:24] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[03:35:24] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3958, 751.1523), dir=(0.993276, -0.115772), lethal=false
[03:35:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:24] [INFO] [ImpactEffects] Blood effect spawned at (689.3958, 751.1523) (scale=0.5)
[03:35:24] [INFO] [FlashbangStatus] Status: STUNNED applied
[03:35:24] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=177.3°, current=173.4°, player=(450,762), corner_timer=0.00
[03:35:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,762), corner_timer=-0.02
[03:35:24] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,762), corner_timer=-0.02
[03:35:24] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:35:24] [INFO] [FlashbangStatus] Status: STUNNED removed
[03:35:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,762), corner_timer=0.30
[03:35:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,762), corner_timer=0.30
[03:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 768.4444), source=PLAYER (MakarovPM), range=1469, listeners=10
[03:35:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.3958, 751.1523), source=ENEMY (Enemy3), range=1469, listeners=10
[03:35:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[03:35:24] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:35:24] [INFO] [LastChance] Threat detected: Bullet
[03:35:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:35:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:35:24] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[03:35:24] [INFO] [ImpactEffects] spawn_blood_effect called at (686.7851, 750.6087), dir=(0.987072, -0.16028), lethal=true
[03:35:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:35:24] [INFO] [ImpactEffects] Blood effect spawned at (686.7851, 750.6087) (scale=0.75)
[03:35:24] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[03:35:24] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[03:35:24] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[03:35:24] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[03:35:24] [INFO] [DeathAnim] Started - Angle: -9.2 deg, Index: 11
[03:35:24] [ENEMY] [Enemy3] Death animation started with hit direction: (0.987072, -0.16028)
[03:35:24] [INFO] [FlashbangStatus] Status: STUNNED applied
[03:35:24] [INFO] [Player] Spawning blood effect at (450, 762.4444), dir=(1, 0), lethal=False (C#)
[03:35:24] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 762.4444), dir=(1, 0), lethal=false
[03:35:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:24] [INFO] [ImpactEffects] Blood effect spawned at (450, 762.4444) (scale=1)
[03:35:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[03:35:24] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[03:35:24] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:24] [INFO] [BloodDecal] Blood puddle created at (756.9155, 778.3812) (added to group)
[03:35:24] [INFO] [BloodDecal] Blood puddle created at (747.2596, 770.5131) (added to group)
[03:35:24] [INFO] [FlashbangStatus] Status: STUNNED removed
[03:35:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 768.4444), source=PLAYER (MakarovPM), range=1469, listeners=9
[03:35:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:35:24] [INFO] [BloodDecal] Blood puddle created at (777.0298, 783.1435) (added to group)
[03:35:24] [INFO] [BloodDecal] Blood puddle created at (785.8818, 777.7335) (added to group)
[03:35:24] [INFO] [BloodDecal] Blood puddle created at (798.5388, 787.7422) (added to group)
[03:35:25] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:35:25] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:35:25] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (779.8613, 727.8887) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (778.9165, 764.4625) (added to group)
[03:35:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,762), corner_timer=-0.02
[03:35:25] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (723.3137, 750.577) (added to group)
[03:35:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,762), corner_timer=0.30
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (770.4418, 779.1252) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (748.3164, 767.7863) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (741.4893, 756.3835) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (730.8286, 769.5048) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (732.2945, 782.1271) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (757.3716, 725.9646) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (749.0294, 779.9783) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (524.5093, 745.5607) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (509.6509, 793.1199) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (743.3196, 791.1069) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (497.411, 773.4338) (added to group)
[03:35:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:25] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:25] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:25] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:25] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:25] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:25] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:25] [ENEMY] [Enemy1] Death animation component initialized
[03:35:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:25] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:25] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:25] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:25] [ENEMY] [Enemy2] Death animation component initialized
[03:35:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:25] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:25] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:25] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:25] [ENEMY] [Enemy3] Death animation component initialized
[03:35:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:25] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:25] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:25] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:25] [ENEMY] [Enemy4] Death animation component initialized
[03:35:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:25] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:25] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:25] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:25] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:25] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:25] [ENEMY] [Grenadier] Death animation component initialized
[03:35:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:25] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:25] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:25] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:25] [ENEMY] [Enemy6] Death animation component initialized
[03:35:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:25] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:25] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:25] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:25] [ENEMY] [Enemy7] Death animation component initialized
[03:35:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:25] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:25] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:25] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:25] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:25] [ENEMY] [Enemy8] Death animation component initialized
[03:35:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:25] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:25] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:25] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:25] [ENEMY] [Enemy9] Death animation component initialized
[03:35:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:25] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:25] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:25] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:25] [ENEMY] [Enemy10] Death animation component initialized
[03:35:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:25] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:25] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:25] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:25] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:25] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:25] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:25] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:25] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:25] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 2/4
[03:35:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:25] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:25] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:25] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:25] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:25] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:25] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:25] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:25] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:25] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:25] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:25] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:25] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:25] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[03:35:25] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:25] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:25] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:25] [INFO] [ReplayManager] Replay data cleared
[03:35:25] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:25] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:25] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:25] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:25] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:25] [INFO] [ReplayManager] Enemies count: 10
[03:35:25] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:25] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:25] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:25] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:25] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:25] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:25] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:25] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:25] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:25] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:25] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:25] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (803.4633, 794.0071) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (765.1057, 768.0488) (added to group)
[03:35:25] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:25] [INFO] [CinemaEffects] Found player node: Player
[03:35:25] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[03:35:25] [ENEMY] [Enemy1] Registered as sound listener
[03:35:25] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[03:35:25] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[03:35:25] [ENEMY] [Enemy2] Registered as sound listener
[03:35:25] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[03:35:25] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[03:35:25] [ENEMY] [Enemy3] Registered as sound listener
[03:35:25] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[03:35:25] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[03:35:25] [ENEMY] [Enemy4] Registered as sound listener
[03:35:25] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[03:35:25] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:25] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[03:35:25] [ENEMY] [Grenadier] Registered as sound listener
[03:35:25] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:25] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:25] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[03:35:25] [ENEMY] [Enemy6] Registered as sound listener
[03:35:25] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[03:35:25] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:25] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[03:35:25] [ENEMY] [Enemy7] Registered as sound listener
[03:35:25] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[03:35:25] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:25] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[03:35:25] [ENEMY] [Enemy8] Registered as sound listener
[03:35:25] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[03:35:25] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:25] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[03:35:25] [ENEMY] [Enemy9] Registered as sound listener
[03:35:25] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[03:35:25] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:25] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[03:35:25] [ENEMY] [Enemy10] Registered as sound listener
[03:35:25] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[03:35:25] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:25] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:25] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:25] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:25] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:25] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:25] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:25] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:25] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:25] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:25] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[03:35:25] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[03:35:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:25] [INFO] [LastChance] Found player: Player
[03:35:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:25] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:25] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (874.2871, 902.0895) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (837.7241, 826.9824) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (816.4141, 817.6588) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (529.0801, 800.9541) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (840.2928, 778.0359) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (863.0829, 787.3776) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (863.9402, 852.238) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (812.6733, 741.8889) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (833.5812, 837.6285) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (889.0908, 870.6468) (added to group)
[03:35:25] [INFO] [BloodDecal] Blood puddle created at (636.742, 830.9523) (added to group)
[03:35:26] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:26] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:35:26] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:26] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:35:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 794.9444), source=PLAYER (MakarovPM), range=1469, listeners=19
[03:35:26] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[03:35:26] [ENEMY] [Enemy1] Heard gunshot at (450, 794.9444), source_type=0, intensity=0.01, distance=470
[03:35:26] [ENEMY] [Enemy2] Heard gunshot at (450, 794.9444), source_type=0, intensity=0.04, distance=250
[03:35:26] [ENEMY] [Enemy3] Heard gunshot at (450, 794.9444), source_type=0, intensity=0.04, distance=254
[03:35:26] [ENEMY] [Enemy4] Heard gunshot at (450, 794.9444), source_type=0, intensity=0.02, distance=365
[03:35:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:26] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=71.1°, current=33.8°, player=(450,788), corner_timer=0.00
[03:35:26] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=78.2°, current=168.8°, player=(450,788), corner_timer=0.00
[03:35:26] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=171.1°, current=-78.7°, player=(450,788), corner_timer=0.00
[03:35:26] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-162.4°, current=-67.5°, player=(450,788), corner_timer=0.00
[03:35:26] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,788), corner_timer=0.30
[03:35:26] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,788), corner_timer=0.30
[03:35:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 775.4444), source=PLAYER (MakarovPM), range=1469, listeners=10
[03:35:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:27] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=176.1°, current=128.9°, player=(450,767), corner_timer=0.00
[03:35:27] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:35:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,767), corner_timer=-0.02
[03:35:27] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,767), corner_timer=-0.02
[03:35:27] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:35:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.4604, 751.6418), source=ENEMY (Enemy3), range=1469, listeners=10
[03:35:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[03:35:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,767), corner_timer=0.30
[03:35:27] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,767), corner_timer=0.30
[03:35:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 773.9444), source=PLAYER (MakarovPM), range=1469, listeners=10
[03:35:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:27] [INFO] [LastChance] Threat detected: Bullet
[03:35:27] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:35:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:35:27] [INFO] [Player] Spawning blood effect at (450, 767.9444), dir=(1, 0), lethal=False (C#)
[03:35:27] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 767.9444), dir=(1, 0), lethal=false
[03:35:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:27] [INFO] [ImpactEffects] Blood effect spawned at (450, 767.9444) (scale=1)
[03:35:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[03:35:27] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[03:35:27] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[03:35:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 794.9444), shooter_id=322340653420, bullet_pos=(914.204, 657.9402)
[03:35:27] [INFO] [Bullet] Using shooter_position, distance=483.999542236328
[03:35:27] [INFO] [Bullet] Distance to wall: 483.999542236328 (32.9564188275519% of viewport)
[03:35:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:27] [INFO] [Bullet] Caliber cannot penetrate walls
[03:35:27] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(667.761, 737.0787), source=ENEMY (Enemy3), range=1469, listeners=10
[03:35:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[03:35:27] [INFO] [LastChance] Threat detected: Bullet
[03:35:27] [INFO] [LastChance] Triggering last chance effect!
[03:35:27] [INFO] [LastChance] Starting last chance effect:
[03:35:27] [INFO] [LastChance]   - Time will be frozen (except player)
[03:35:27] [INFO] [LastChance]   - Duration: 6.00 real seconds
[03:35:27] [INFO] [LastChance]   - Trigger: threat detected
[03:35:27] [INFO] [LastChance]   - Sepia intensity: 0.70
[03:35:27] [INFO] [LastChance]   - Brightness: 0.60
[03:35:27] [INFO] [LastChance] Pushed bullet @Area2D@1531 from distance 148.4 to 200.0
[03:35:27] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[03:35:27] [INFO] [LastChance] Set player Player and all 27 children to PROCESS_MODE_ALWAYS
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[03:35:27] [INFO] [LastChance] Skipping player node: Player
[03:35:27] [INFO] [LastChance] Froze existing bullet casing: Casing
[03:35:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1529
[03:35:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1533
[03:35:27] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[03:35:27] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[03:35:27] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[03:35:27] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:35:27] [INFO] [BloodDecal] Blood puddle created at (499.0067, 794.4406) (added to group)
[03:35:27] [INFO] [BloodDecal] Blood puddle created at (542.9175, 806.2198) (added to group)
[03:35:27] [INFO] [BloodDecal] Blood puddle created at (538.98, 805.6771) (added to group)
[03:35:27] [INFO] [BloodDecal] Blood puddle created at (517.2499, 773.2685) (added to group)
[03:35:27] [INFO] [BloodDecal] Blood puddle created at (543.924, 800.4093) (added to group)
[03:35:27] [INFO] [BloodDecal] Blood puddle created at (615.7699, 805.3784) (added to group)
[03:35:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:27] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:27] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:27] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:27] [INFO] [LastChance] All process modes restored
[03:35:27] [INFO] [LastChance] Restored original colors to 5 player sprites
[03:35:27] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:27] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:27] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:27] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:27] [ENEMY] [Enemy1] Death animation component initialized
[03:35:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:27] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:27] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:27] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:27] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:27] [ENEMY] [Enemy2] Death animation component initialized
[03:35:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:27] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:27] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:27] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:27] [ENEMY] [Enemy3] Death animation component initialized
[03:35:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:27] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:27] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:27] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:27] [ENEMY] [Enemy4] Death animation component initialized
[03:35:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:27] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:27] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:27] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:27] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:27] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:27] [ENEMY] [Grenadier] Death animation component initialized
[03:35:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:27] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:27] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:27] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:27] [ENEMY] [Enemy6] Death animation component initialized
[03:35:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:27] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:27] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:27] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:27] [ENEMY] [Enemy7] Death animation component initialized
[03:35:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:27] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:27] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:27] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:27] [ENEMY] [Enemy8] Death animation component initialized
[03:35:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:27] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:27] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:27] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:27] [ENEMY] [Enemy9] Death animation component initialized
[03:35:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:27] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:27] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:27] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:27] [ENEMY] [Enemy10] Death animation component initialized
[03:35:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:27] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:27] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:27] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:27] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:27] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:27] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:27] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:27] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:27] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 4/4
[03:35:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:27] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:27] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:27] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:27] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:27] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:27] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:27] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:27] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:27] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:27] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:27] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:27] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:27] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[03:35:27] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:27] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:27] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:27] [INFO] [ReplayManager] Replay data cleared
[03:35:27] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:27] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:27] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:27] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:27] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:27] [INFO] [ReplayManager] Enemies count: 10
[03:35:27] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:27] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:27] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:27] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:27] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:27] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:27] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:27] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:27] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:27] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:27] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:27] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:27] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:27] [INFO] [CinemaEffects] Found player node: Player
[03:35:27] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[03:35:27] [ENEMY] [Enemy1] Registered as sound listener
[03:35:27] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[03:35:27] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[03:35:27] [ENEMY] [Enemy2] Registered as sound listener
[03:35:27] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[03:35:27] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[03:35:27] [ENEMY] [Enemy3] Registered as sound listener
[03:35:27] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[03:35:27] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[03:35:27] [ENEMY] [Enemy4] Registered as sound listener
[03:35:27] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[03:35:27] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:27] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[03:35:27] [ENEMY] [Grenadier] Registered as sound listener
[03:35:27] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:27] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[03:35:27] [ENEMY] [Enemy6] Registered as sound listener
[03:35:27] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[03:35:27] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[03:35:27] [ENEMY] [Enemy7] Registered as sound listener
[03:35:27] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:35:27] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[03:35:27] [ENEMY] [Enemy8] Registered as sound listener
[03:35:27] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[03:35:27] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[03:35:27] [ENEMY] [Enemy9] Registered as sound listener
[03:35:27] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[03:35:27] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[03:35:27] [ENEMY] [Enemy10] Registered as sound listener
[03:35:27] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[03:35:27] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:28] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:28] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:28] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:28] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:28] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:28] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:28] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:28] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:28] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:35:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:28] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[03:35:28] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[03:35:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:28] [INFO] [LastChance] Found player: Player
[03:35:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:28] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:28] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:28] [INFO] [PauseMenu] Armory button pressed
[03:35:28] [INFO] [PauseMenu] Creating new armory menu instance
[03:35:28] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[03:35:28] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[03:35:28] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[03:35:28] [INFO] [PauseMenu] back_pressed signal exists on instance
[03:35:28] [INFO] [PauseMenu] back_pressed signal connected
[03:35:29] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[03:35:29] [INFO] [PauseMenu] _populate_weapon_grid method exists
[03:35:29] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:29] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:30] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[03:35:31] [INFO] [GameManager] Weapon selected: m16
[03:35:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:31] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:31] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:31] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:31] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:31] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:31] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:31] [ENEMY] [Enemy1] Death animation component initialized
[03:35:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:31] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:31] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:31] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:31] [ENEMY] [Enemy2] Death animation component initialized
[03:35:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:31] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:31] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:31] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:31] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:31] [ENEMY] [Enemy3] Death animation component initialized
[03:35:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:31] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:31] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:31] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:31] [ENEMY] [Enemy4] Death animation component initialized
[03:35:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:31] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:31] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:31] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:31] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:31] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:31] [ENEMY] [Grenadier] Death animation component initialized
[03:35:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:31] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:31] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:31] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:31] [ENEMY] [Enemy6] Death animation component initialized
[03:35:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:31] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:31] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:31] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:31] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:31] [ENEMY] [Enemy7] Death animation component initialized
[03:35:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:31] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:31] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:31] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:31] [ENEMY] [Enemy8] Death animation component initialized
[03:35:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:31] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:31] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:31] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:31] [ENEMY] [Enemy9] Death animation component initialized
[03:35:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:31] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:31] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:31] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:31] [ENEMY] [Enemy10] Death animation component initialized
[03:35:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:31] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:31] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:31] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:31] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:35:31] [INFO] [Player.Weapon] Removed default MakarovPM
[03:35:31] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:35:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:31] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:31] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:31] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:31] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:31] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[03:35:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:31] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:31] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:31] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:31] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:31] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:31] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:31] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:31] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:31] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:31] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:31] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:31] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:31] [INFO] [BuildingLevel] Setting up weapon: m16
[03:35:31] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:35:31] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:31] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:31] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:31] [INFO] [ReplayManager] Replay data cleared
[03:35:31] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:31] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:31] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:31] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:31] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:31] [INFO] [ReplayManager] Enemies count: 10
[03:35:31] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:31] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:31] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:31] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:31] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:31] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:31] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:31] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:31] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:31] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:31] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:31] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:31] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:31] [INFO] [CinemaEffects] Found player node: Player
[03:35:31] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[03:35:31] [ENEMY] [Enemy1] Registered as sound listener
[03:35:31] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[03:35:31] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[03:35:31] [ENEMY] [Enemy2] Registered as sound listener
[03:35:31] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[03:35:31] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[03:35:31] [ENEMY] [Enemy3] Registered as sound listener
[03:35:31] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[03:35:31] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[03:35:31] [ENEMY] [Enemy4] Registered as sound listener
[03:35:31] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[03:35:31] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:31] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 25)
[03:35:31] [ENEMY] [Grenadier] Registered as sound listener
[03:35:31] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:31] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[03:35:31] [ENEMY] [Enemy6] Registered as sound listener
[03:35:31] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[03:35:31] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[03:35:31] [ENEMY] [Enemy7] Registered as sound listener
[03:35:31] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:35:31] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[03:35:31] [ENEMY] [Enemy8] Registered as sound listener
[03:35:31] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[03:35:31] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[03:35:31] [ENEMY] [Enemy9] Registered as sound listener
[03:35:31] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[03:35:31] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[03:35:31] [ENEMY] [Enemy10] Registered as sound listener
[03:35:31] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[03:35:31] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:31] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:31] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:31] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:31] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:31] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:31] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:31] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:31] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:31] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:35:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:35:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:31] [INFO] [LastChance] Found player: Player
[03:35:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:31] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:31] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:32] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:32] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:35:33] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:33] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(391.6637, 869.1088), source=PLAYER (AssaultRifle), range=1469, listeners=30
[03:35:33] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[03:35:33] [ENEMY] [Enemy2] Heard gunshot at (391.6637, 869.1088), source_type=0, intensity=0.02, distance=319
[03:35:33] [ENEMY] [Enemy3] Heard gunshot at (391.6637, 869.1088), source_type=0, intensity=0.02, distance=331
[03:35:33] [ENEMY] [Enemy4] Heard gunshot at (391.6637, 869.1088), source_type=0, intensity=0.01, distance=410
[03:35:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[03:35:33] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=91.5°, current=-67.5°, player=(391,869), corner_timer=0.00
[03:35:33] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=158.9°, current=-168.8°, player=(391,869), corner_timer=0.00
[03:35:33] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-175.7°, current=-67.5°, player=(391,869), corner_timer=0.00
[03:35:33] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(391,869), corner_timer=0.30
[03:35:33] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(391,869), corner_timer=0.30
[03:35:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(391.66367, 869.1088), shooter_id=425486978619, bullet_pos=(512.9813, 810.8704)
[03:35:33] [INFO] [Bullet] Using shooter_position, distance=134,57224
[03:35:33] [INFO] [Bullet] Distance to wall: 134,57224 (9,163271% of viewport)
[03:35:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(391.6637, 869.1088), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[03:35:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(391.66367, 869.1088), shooter_id=425486978619, bullet_pos=(511.38638, 807.79706)
[03:35:33] [INFO] [Bullet] Using shooter_position, distance=134,50897
[03:35:33] [INFO] [Bullet] Distance to wall: 134,50897 (9,158964% of viewport)
[03:35:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(391.6637, 869.1088), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[03:35:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(391.66367, 869.1088), shooter_id=425486978619, bullet_pos=(510.3254, 805.76807)
[03:35:33] [INFO] [Bullet] Using shooter_position, distance=134,50896
[03:35:33] [INFO] [Bullet] Distance to wall: 134,50896 (9,158962% of viewport)
[03:35:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(391.66367, 869.1088), shooter_id=425486978619, bullet_pos=(240.84828, 708.0711)
[03:35:33] [INFO] [Bullet] Using shooter_position, distance=220,63188
[03:35:33] [INFO] [Bullet] Distance to wall: 220,63188 (15,0232315% of viewport)
[03:35:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.05, 624.6416), source=ENEMY (Enemy2), range=1469, listeners=10
[03:35:33] [ENEMY] [Enemy1] Heard gunshot at (398.05, 624.6416), source_type=1, intensity=0.03, distance=292
[03:35:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[03:35:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(391,869), corner_timer=-0.02
[03:35:33] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(391,869), corner_timer=-0.02
[03:35:33] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(391.6637, 869.1088), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[03:35:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(400.5743, 692.6433), shooter_id=421779213249, bullet_pos=(400.5743, 692.6433)
[03:35:33] [INFO] [Bullet] Using shooter_position, distance=0
[03:35:33] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[03:35:33] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[03:35:33] [INFO] [Bullet] Starting wall penetration at (400.5743, 692.6433)
[03:35:33] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=80.0°, current=33.8°, player=(391,869), corner_timer=0.00
[03:35:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(391,869), corner_timer=0.30
[03:35:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(391,869), corner_timer=0.30
[03:35:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,100092
[03:35:33] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:33] [INFO] [Bullet] Exiting penetration at (407.39066, 738.80945) after traveling 41,66667 pixels through wall
[03:35:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(391.66367, 869.1088), shooter_id=425486978619, bullet_pos=(509.89102, 804.9609)
[03:35:33] [INFO] [Bullet] Using shooter_position, distance=134,50899
[03:35:33] [INFO] [Bullet] Distance to wall: 134,50899 (9,158964% of viewport)
[03:35:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(391.66367, 869.1088), shooter_id=425486978619, bullet_pos=(60.351654, 751.4027)
[03:35:33] [INFO] [Bullet] Using shooter_position, distance=351,59973
[03:35:33] [INFO] [Bullet] Distance to wall: 351,59973 (23,941072% of viewport)
[03:35:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.05, 624.6416), source=ENEMY (Enemy2), range=1469, listeners=10
[03:35:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[03:35:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(404.08203, 692.42224), shooter_id=421779213249, bullet_pos=(404.08203, 692.42224)
[03:35:33] [INFO] [Bullet] Using shooter_position, distance=0
[03:35:33] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[03:35:33] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[03:35:33] [INFO] [Bullet] Starting wall penetration at (404.08203, 692.42224)
[03:35:33] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,077497
[03:35:33] [INFO] [LastChance] Threat detected: Bullet
[03:35:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:35:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:35:33] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:33] [INFO] [Bullet] Exiting penetration at (402.48853, 739.0617) after traveling 41,666668 pixels through wall
[03:35:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(391.66367, 869.1088), shooter_id=425486978619, bullet_pos=(274.8971, 711.4474)
[03:35:33] [INFO] [Bullet] Using shooter_position, distance=196,19267
[03:35:33] [INFO] [Bullet] Distance to wall: 196,19267 (13,35912% of viewport)
[03:35:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(391.66367, 869.1088), shooter_id=425486978619, bullet_pos=(234.50085, 706.0533)
[03:35:33] [INFO] [Bullet] Using shooter_position, distance=226,4669
[03:35:33] [INFO] [Bullet] Distance to wall: 226,4669 (15,420548% of viewport)
[03:35:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:33] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:35:33] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[03:35:33] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[03:35:33] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[03:35:33] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[03:35:33] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[03:35:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:33] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:33] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:33] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:33] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:33] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:33] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:33] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:33] [ENEMY] [Enemy1] Death animation component initialized
[03:35:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:33] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:33] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:33] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:33] [ENEMY] [Enemy2] Death animation component initialized
[03:35:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:33] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:33] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:33] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:33] [ENEMY] [Enemy3] Death animation component initialized
[03:35:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:33] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:33] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:33] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:33] [ENEMY] [Enemy4] Death animation component initialized
[03:35:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:33] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:33] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:33] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:33] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:33] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:33] [ENEMY] [Grenadier] Death animation component initialized
[03:35:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:33] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:33] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:33] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:33] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:33] [ENEMY] [Enemy6] Death animation component initialized
[03:35:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:33] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:33] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:33] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:33] [ENEMY] [Enemy7] Death animation component initialized
[03:35:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:33] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:33] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:33] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:33] [ENEMY] [Enemy8] Death animation component initialized
[03:35:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:33] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:33] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:33] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:33] [ENEMY] [Enemy9] Death animation component initialized
[03:35:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:33] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:33] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:33] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:33] [ENEMY] [Enemy10] Death animation component initialized
[03:35:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:33] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:33] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:33] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:33] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:35:33] [INFO] [Player.Weapon] Removed default MakarovPM
[03:35:33] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:35:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:33] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:33] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:33] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:33] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:33] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[03:35:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:33] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:33] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:33] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:33] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:33] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:33] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:33] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:33] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:33] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:33] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:33] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:33] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:33] [INFO] [BuildingLevel] Setting up weapon: m16
[03:35:33] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:35:33] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:33] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:33] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:33] [INFO] [ReplayManager] Replay data cleared
[03:35:33] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:33] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:33] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:33] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:33] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:33] [INFO] [ReplayManager] Enemies count: 10
[03:35:33] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:33] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:33] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:33] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:33] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:33] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:33] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:33] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:33] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:33] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:33] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:33] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:33] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:33] [INFO] [CinemaEffects] Found player node: Player
[03:35:33] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[03:35:33] [ENEMY] [Enemy1] Registered as sound listener
[03:35:33] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[03:35:33] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[03:35:33] [ENEMY] [Enemy2] Registered as sound listener
[03:35:33] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[03:35:33] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[03:35:33] [ENEMY] [Enemy3] Registered as sound listener
[03:35:33] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[03:35:33] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[03:35:33] [ENEMY] [Enemy4] Registered as sound listener
[03:35:33] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[03:35:33] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:33] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[03:35:33] [ENEMY] [Grenadier] Registered as sound listener
[03:35:33] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:33] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[03:35:33] [ENEMY] [Enemy6] Registered as sound listener
[03:35:33] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[03:35:33] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[03:35:33] [ENEMY] [Enemy7] Registered as sound listener
[03:35:33] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:35:33] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[03:35:33] [ENEMY] [Enemy8] Registered as sound listener
[03:35:33] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[03:35:33] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[03:35:33] [ENEMY] [Enemy9] Registered as sound listener
[03:35:33] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[03:35:33] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[03:35:33] [ENEMY] [Enemy10] Registered as sound listener
[03:35:33] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[03:35:33] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:34] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:34] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[03:35:34] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(449,1250), corner_timer=0.00
[03:35:34] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(449,1250), corner_timer=0.00
[03:35:34] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(449,1250), corner_timer=0.00
[03:35:34] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(449,1250), corner_timer=0.00
[03:35:34] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(449,1250), corner_timer=0.00
[03:35:34] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[03:35:34] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[03:35:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:34] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:35:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:35:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:34] [INFO] [LastChance] Found player: Player
[03:35:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:34] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:34] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:34] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:35] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:35:35] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:35] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:35:35] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(289,883), corner_timer=0.30
[03:35:35] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(289,883), corner_timer=0.30
[03:35:35] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.7°, current=123.7°, player=(289,862), corner_timer=0.00
[03:35:35] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[03:35:35] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.8°, current=-65.3°, player=(289,853), corner_timer=0.00
[03:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(289.623, 821.7993), source=PLAYER (AssaultRifle), range=1469, listeners=20
[03:35:35] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[03:35:35] [ENEMY] [Enemy1] Heard gunshot at (289.623, 821.7993), source_type=0, intensity=0.01, distance=472
[03:35:35] [ENEMY] [Enemy2] Heard gunshot at (289.623, 821.7993), source_type=0, intensity=0.03, distance=293
[03:35:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:35:35] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=91.3°, current=168.8°, player=(289,821), corner_timer=0.00
[03:35:35] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=112.1°, current=45.0°, player=(289,821), corner_timer=0.00
[03:35:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(289,821), corner_timer=-0.02
[03:35:35] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(289,821), corner_timer=-0.02
[03:35:35] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:35:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(289,821), corner_timer=0.30
[03:35:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(289,821), corner_timer=0.30
[03:35:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(289.623, 821.0771), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:35:35] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(289.62305, 821.7993), shooter_id=491421436778, bullet_pos=(763.9508, 810.33093)
[03:35:35] [INFO] [Bullet] Using shooter_position, distance=474,4664
[03:35:35] [INFO] [Bullet] Distance to wall: 474,4664 (32,30729% of viewport)
[03:35:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:35] [INFO] [Bullet] Starting wall penetration at (763.9508, 810.33093)
[03:35:35] [ENEMY] [Enemy4] Memory: high confidence (0.86) - transitioning to PURSUING
[03:35:35] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[03:35:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:35:35] [INFO] [Bullet] Exiting penetration at (797.41364, 842.8012) after traveling 41,666668 pixels through wall
[03:35:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:36] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-171.2°, current=-67.5°, player=(289,821), corner_timer=0.00
[03:35:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(289.623, 821.0771), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:35:36] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[03:35:36] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=170.6°, current=-140.1°, player=(289,821), corner_timer=0.00
[03:35:36] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:35:36] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[03:35:36] [INFO] [ImpactEffects] spawn_blood_effect called at (534.218, 777.8948), dir=(1, 0), lethal=false
[03:35:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:36] [INFO] [ImpactEffects] Blood effect spawned at (534.218, 777.8948) (scale=1)
[03:35:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(537.8177, 778.8843), source=ENEMY (Enemy3), range=1469, listeners=10
[03:35:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[03:35:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(289,821), corner_timer=-0.02
[03:35:36] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[03:35:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(289.623, 821.0771), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[03:35:36] [INFO] [LastChance] Threat detected: Bullet
[03:35:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:35:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:35:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.1°, player=(289,821), corner_timer=0.30
[03:35:36] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[03:35:36] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-100.7°, current=133.2°, player=(289,821), corner_timer=0.18
[03:35:36] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[03:35:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(289.62305, 821.0771), shooter_id=491421436778, bullet_pos=(879.6951, 1006.63086)
[03:35:36] [INFO] [Bullet] Using shooter_position, distance=618,559
[03:35:36] [INFO] [Bullet] Distance to wall: 618,559 (42,118824% of viewport)
[03:35:36] [INFO] [Bullet] Distance-based penetration chance: 97,52804%
[03:35:36] [INFO] [Bullet] Starting wall penetration at (879.6951, 1006.63086)
[03:35:36] [INFO] [Player] Spawning blood effect at (289.62305, 821.0771), dir=(1, 0), lethal=False (C#)
[03:35:36] [INFO] [ImpactEffects] spawn_blood_effect called at (289.623, 821.0771), dir=(1, 0), lethal=false
[03:35:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:36] [INFO] [ImpactEffects] Blood effect spawned at (289.623, 821.0771) (scale=1)
[03:35:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[03:35:36] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[03:35:36] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[03:35:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,888683
[03:35:36] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:36] [INFO] [Bullet] Exiting penetration at (882.1062, 1044.8635) after traveling 33,333336 pixels through wall
[03:35:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:36] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:35:36] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[03:35:36] [INFO] [ImpactEffects] spawn_blood_effect called at (548.7941, 797.473), dir=(1, 0), lethal=false
[03:35:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:36] [INFO] [ImpactEffects] Blood effect spawned at (548.7941, 797.473) (scale=1)
[03:35:36] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=75.9°, current=178.4°, player=(289,821), corner_timer=0.00
[03:35:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(289.623, 821.0771), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[03:35:36] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:35:36] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:35:36] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[03:35:36] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[03:35:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(289.623, 821.0771), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (593.4619, 784.8561) (added to group)
[03:35:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(289,821), corner_timer=-0.01
[03:35:36] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[03:35:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.1°, player=(289,821), corner_timer=0.30
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (608.178, 828.2952) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (352.2358, 862.8669) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (655.8508, 779.8488) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (615.7234, 844.1437) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (361.6875, 812.9973) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (620.0144, 843.5754) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (650.3285, 865.7921) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (674.5707, 833.966) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (696.7698, 774.2216) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (659.6252, 836.1725) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (621.9207, 816.3162) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (632.6927, 859.1316) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (386.1945, 837.5188) (added to group)
[03:35:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(289.62305, 821.0771), shooter_id=491421436778, bullet_pos=(1371.4695, 425.20648)
[03:35:36] [INFO] [Bullet] Using shooter_position, distance=1152,0005
[03:35:36] [INFO] [Bullet] Distance to wall: 1152,0005 (78,44183% of viewport)
[03:35:36] [INFO] [Bullet] Distance-based penetration chance: 55,1512%
[03:35:36] [INFO] [Bullet] Starting wall penetration at (1371.4695, 425.20648)
[03:35:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,73098
[03:35:36] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:36] [INFO] [Bullet] Exiting penetration at (1407.4685, 412.0337) after traveling 33,333336 pixels through wall
[03:35:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (412.232, 943.9215) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (413.7798, 839.9246) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (670.4922, 875.8385) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (671.2139, 906.658) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (434.2858, 935.8506) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (704.6289, 796.2609) (added to group)
[03:35:36] [INFO] [ReplayManager] Recording frame 180 (2,9s): player_valid=True, enemies=10
[03:35:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(289,821), corner_timer=-0.01
[03:35:36] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[03:35:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.8°, player=(289,821), corner_timer=0.30
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (440.1307, 958.1255) (added to group)
[03:35:36] [INFO] [BloodDecal] Blood puddle created at (485.2686, 861.5978) (added to group)
[03:35:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:37] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:37] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:37] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:37] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:37] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:37] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:37] [ENEMY] [Enemy1] Death animation component initialized
[03:35:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:37] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:37] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:37] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:37] [ENEMY] [Enemy2] Death animation component initialized
[03:35:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:37] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:37] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:37] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:37] [ENEMY] [Enemy3] Death animation component initialized
[03:35:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:37] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:37] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:37] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:37] [ENEMY] [Enemy4] Death animation component initialized
[03:35:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:37] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:37] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:37] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:37] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:37] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:37] [ENEMY] [Grenadier] Death animation component initialized
[03:35:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:37] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:37] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:37] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:37] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:37] [ENEMY] [Enemy6] Death animation component initialized
[03:35:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:37] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:37] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:37] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:37] [ENEMY] [Enemy7] Death animation component initialized
[03:35:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:37] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:37] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:37] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:37] [ENEMY] [Enemy8] Death animation component initialized
[03:35:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:37] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:37] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:37] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:37] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:37] [ENEMY] [Enemy9] Death animation component initialized
[03:35:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:37] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:37] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:37] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:37] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:37] [ENEMY] [Enemy10] Death animation component initialized
[03:35:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:37] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:37] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:37] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:37] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:35:37] [INFO] [Player.Weapon] Removed default MakarovPM
[03:35:37] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:35:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:37] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:37] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:37] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:37] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:37] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[03:35:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:37] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:37] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:37] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:37] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:37] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:37] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:37] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:37] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:37] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:37] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:37] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:37] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:37] [INFO] [BuildingLevel] Setting up weapon: m16
[03:35:37] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:35:37] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:37] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:37] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:37] [INFO] [ReplayManager] Replay data cleared
[03:35:37] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:37] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:37] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:37] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:37] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:37] [INFO] [ReplayManager] Enemies count: 10
[03:35:37] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:37] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:37] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:37] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:37] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:37] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:37] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:37] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:37] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:37] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:37] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:37] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:37] [INFO] [BloodDecal] Blood puddle created at (728.6315, 927.9529) (added to group)
[03:35:37] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:37] [INFO] [CinemaEffects] Found player node: Player
[03:35:37] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[03:35:37] [ENEMY] [Enemy1] Registered as sound listener
[03:35:37] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[03:35:37] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[03:35:37] [ENEMY] [Enemy2] Registered as sound listener
[03:35:37] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[03:35:37] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[03:35:37] [ENEMY] [Enemy3] Registered as sound listener
[03:35:37] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[03:35:37] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[03:35:37] [ENEMY] [Enemy4] Registered as sound listener
[03:35:37] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[03:35:37] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:37] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[03:35:37] [ENEMY] [Grenadier] Registered as sound listener
[03:35:37] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:37] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[03:35:37] [ENEMY] [Enemy6] Registered as sound listener
[03:35:37] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[03:35:37] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[03:35:37] [ENEMY] [Enemy7] Registered as sound listener
[03:35:37] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[03:35:37] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[03:35:37] [ENEMY] [Enemy8] Registered as sound listener
[03:35:37] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[03:35:37] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[03:35:37] [ENEMY] [Enemy9] Registered as sound listener
[03:35:37] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[03:35:37] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[03:35:37] [ENEMY] [Enemy10] Registered as sound listener
[03:35:37] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[03:35:37] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:37] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:37] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:37] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:37] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:37] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:37] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:37] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:37] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:37] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:37] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:35:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:35:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:37] [INFO] [LastChance] Found player: Player
[03:35:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:37] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:37] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:37] [INFO] [BloodDecal] Blood puddle created at (472.8941, 826.8573) (added to group)
[03:35:37] [INFO] [BloodDecal] Blood puddle created at (413.8619, 924.119) (added to group)
[03:35:37] [INFO] [BloodDecal] Blood puddle created at (735.2932, 970.6091) (added to group)
[03:35:37] [INFO] [BloodDecal] Blood puddle created at (720.5609, 966.9263) (added to group)
[03:35:38] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:35:38] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:38] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:38] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:35:38] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(340,859), corner_timer=0.30
[03:35:38] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(340,859), corner_timer=0.30
[03:35:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(336.1413, 859.3875), source=PLAYER (AssaultRifle), range=1469, listeners=20
[03:35:38] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[03:35:38] [ENEMY] [Enemy2] Heard gunshot at (336.1413, 859.3875), source_type=0, intensity=0.03, distance=316
[03:35:38] [ENEMY] [Enemy3] Heard gunshot at (336.1413, 859.3875), source_type=0, intensity=0.02, distance=380
[03:35:38] [ENEMY] [Enemy4] Heard gunshot at (336.1413, 859.3875), source_type=0, intensity=0.01, distance=466
[03:35:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[03:35:38] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=101.7°, current=-101.3°, player=(336,859), corner_timer=0.00
[03:35:38] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=163.3°, current=123.7°, player=(336,859), corner_timer=0.00
[03:35:38] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-175.0°, current=-101.3°, player=(336,859), corner_timer=0.00
[03:35:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.5816, 857.3444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:35:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(306.8869, 856.6152), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:35:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(314.5816, 857.3444), shooter_id=583494797420, bullet_pos=(520.9689, 603.3808)
[03:35:39] [INFO] [Bullet] Using shooter_position, distance=327,251
[03:35:39] [INFO] [Bullet] Distance to wall: 327,251 (22,283123% of viewport)
[03:35:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:39] [INFO] [Bullet] Starting wall penetration at (520.9689, 603.3808)
[03:35:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,879185
[03:35:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(336.14127, 859.3875), shooter_id=583494797420, bullet_pos=(926.36176, 769.4942)
[03:35:39] [INFO] [Bullet] Using shooter_position, distance=597,0268
[03:35:39] [INFO] [Bullet] Distance to wall: 597,0268 (40,652653% of viewport)
[03:35:39] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[03:35:39] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:39] [INFO] [Bullet] Exiting penetration at (522.098, 515.33386) after traveling 83,333336 pixels through wall
[03:35:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(306,856), corner_timer=-0.02
[03:35:39] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(306,856), corner_timer=-0.02
[03:35:39] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:35:39] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:35:39] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:35:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(306,856), corner_timer=0.30
[03:35:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(306,856), corner_timer=0.30
[03:35:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(306.5343, 856.5818), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:35:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(306.88693, 856.6152), shooter_id=583494797420, bullet_pos=(513.0166, 602.4423)
[03:35:39] [INFO] [Bullet] Using shooter_position, distance=327,2511
[03:35:39] [INFO] [Bullet] Distance to wall: 327,2511 (22,283129% of viewport)
[03:35:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:39] [INFO] [Bullet] Starting wall penetration at (513.0166, 602.4423)
[03:35:39] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/3->2/3
[03:35:39] [INFO] [ImpactEffects] spawn_blood_effect called at (783.3287, 896.1537), dir=(1, 0), lethal=false
[03:35:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:39] [INFO] [ImpactEffects] Blood effect spawned at (783.3287, 896.1537) (scale=1)
[03:35:39] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=165.0°, current=-122.9°, player=(306,856), corner_timer=0.00
[03:35:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:35:39] [INFO] [Bullet] Exiting penetration at (516.8102, 555.9699) after traveling 41,666668 pixels through wall
[03:35:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:39] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[03:35:39] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:39] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[03:35:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(306.5343, 856.5818), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:35:39] [ENEMY] [Enemy1] Memory: medium confidence (0.58) - transitioning to PURSUING
[03:35:39] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[03:35:39] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:35:39] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[03:35:39] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=89.3°, current=168.8°, player=(306,856), corner_timer=0.00
[03:35:39] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-90.0°, current=-175.3°, player=(306,856), corner_timer=0.00
[03:35:39] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[03:35:39] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[03:35:39] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[03:35:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(306.5343, 856.5818), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:35:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(306,856), corner_timer=-0.00
[03:35:39] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[03:35:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.2°, player=(306,856), corner_timer=0.30
[03:35:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(306.5343, 856.5818), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[03:35:39] [INFO] [BloodDecal] Blood puddle created at (834.9322, 926.2763) (added to group)
[03:35:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(306.5343, 856.5818), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[03:35:39] [INFO] [BloodDecal] Blood puddle created at (853.6182, 917.417) (added to group)
[03:35:39] [INFO] [BloodDecal] Blood puddle created at (869.1339, 938.5142) (added to group)
[03:35:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(306.53433, 856.5818), shooter_id=583494797420, bullet_pos=(1384.423, 343.74908)
[03:35:39] [INFO] [Bullet] Using shooter_position, distance=1193,6672
[03:35:39] [INFO] [Bullet] Distance to wall: 1193,6672 (81,279% of viewport)
[03:35:39] [ENEMY] [Enemy1] PURSUING corner check: angle -51.9°
[03:35:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(306.5343, 856.5818), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[03:35:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(306.53433, 856.5818), shooter_id=583494797420, bullet_pos=(1374.7101, 342.7567)
[03:35:39] [INFO] [Bullet] Using shooter_position, distance=1185,3336
[03:35:39] [INFO] [Bullet] Distance to wall: 1185,3336 (80,71155% of viewport)
[03:35:39] [INFO] [Bullet] Distance-based penetration chance: 52,503193%
[03:35:39] [INFO] [Bullet] Penetration failed (distance roll)
[03:35:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(306.53433, 856.5818), shooter_id=583494797420, bullet_pos=(1117.3242, 235.14676)
[03:35:39] [INFO] [Bullet] Using shooter_position, distance=1021,54877
[03:35:39] [INFO] [Bullet] Distance to wall: 1021,54877 (69,559135% of viewport)
[03:35:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(306,856), corner_timer=-0.01
[03:35:39] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[03:35:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.3°, player=(306,856), corner_timer=0.30
[03:35:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(306.5343, 856.5818), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[03:35:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(306.53433, 856.5818), shooter_id=583494797420, bullet_pos=(1373.4963, 340.24298)
[03:35:39] [INFO] [Bullet] Using shooter_position, distance=1185,3328
[03:35:39] [INFO] [Bullet] Distance to wall: 1185,3328 (80,71149% of viewport)
[03:35:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(306.53433, 856.5818), shooter_id=583494797420, bullet_pos=(1372.7408, 338.68286)
[03:35:40] [INFO] [Bullet] Using shooter_position, distance=1185,3336
[03:35:40] [INFO] [Bullet] Distance to wall: 1185,3336 (80,71155% of viewport)
[03:35:40] [INFO] [Bullet] Distance-based penetration chance: 52,503193%
[03:35:40] [INFO] [Bullet] Starting wall penetration at (1372.7408, 338.68286)
[03:35:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(306.53433, 856.5818), shooter_id=583494797420, bullet_pos=(1125.268, 262.89407)
[03:35:40] [INFO] [Bullet] Using shooter_position, distance=1011,33075
[03:35:40] [INFO] [Bullet] Distance to wall: 1011,33075 (68,86337% of viewport)
[03:35:40] [INFO] [Bullet] Distance-based penetration chance: 66,32607%
[03:35:40] [INFO] [Bullet] Starting wall penetration at (1125.268, 262.89407)
[03:35:40] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:35:40] [INFO] [Bullet] Exiting penetration at (1093.4438, 252.97754) after traveling 28,33333 pixels through wall
[03:35:40] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:35:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,369177
[03:35:40] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:40] [INFO] [Bullet] Exiting penetration at (1407.2216, 321.93417) after traveling 33,333336 pixels through wall
[03:35:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:40] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:40] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:40] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:40] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:40] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:40] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:40] [ENEMY] [Enemy1] Death animation component initialized
[03:35:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:40] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:40] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:40] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:40] [ENEMY] [Enemy2] Death animation component initialized
[03:35:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:40] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:40] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:40] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:40] [ENEMY] [Enemy3] Death animation component initialized
[03:35:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:40] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:40] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:40] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:40] [ENEMY] [Enemy4] Death animation component initialized
[03:35:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:40] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:40] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:40] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:40] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:40] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:40] [ENEMY] [Grenadier] Death animation component initialized
[03:35:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:40] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:40] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:40] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:40] [ENEMY] [Enemy6] Death animation component initialized
[03:35:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:40] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:40] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:40] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:40] [ENEMY] [Enemy7] Death animation component initialized
[03:35:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:40] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:40] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:40] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:40] [ENEMY] [Enemy8] Death animation component initialized
[03:35:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:40] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:40] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:40] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:40] [ENEMY] [Enemy9] Death animation component initialized
[03:35:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:40] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:40] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:40] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:40] [ENEMY] [Enemy10] Death animation component initialized
[03:35:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:40] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:40] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:40] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:40] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:35:40] [INFO] [Player.Weapon] Removed default MakarovPM
[03:35:40] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:35:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:40] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:40] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:40] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:40] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:40] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:40] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[03:35:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:40] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:40] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:40] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:40] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:40] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:40] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:40] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:40] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:40] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:40] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:40] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:40] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:40] [INFO] [BuildingLevel] Setting up weapon: m16
[03:35:40] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:35:40] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:40] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:40] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:40] [INFO] [ReplayManager] Replay data cleared
[03:35:40] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:40] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:40] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:40] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:40] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:40] [INFO] [ReplayManager] Enemies count: 10
[03:35:40] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:40] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:40] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:40] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:40] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:40] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:40] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:40] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:40] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:40] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:40] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:40] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:40] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:40] [INFO] [CinemaEffects] Found player node: Player
[03:35:40] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[03:35:40] [ENEMY] [Enemy1] Registered as sound listener
[03:35:40] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[03:35:40] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[03:35:40] [ENEMY] [Enemy2] Registered as sound listener
[03:35:40] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[03:35:40] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[03:35:40] [ENEMY] [Enemy3] Registered as sound listener
[03:35:40] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[03:35:40] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[03:35:40] [ENEMY] [Enemy4] Registered as sound listener
[03:35:40] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[03:35:40] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:40] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[03:35:40] [ENEMY] [Grenadier] Registered as sound listener
[03:35:40] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:40] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[03:35:40] [ENEMY] [Enemy6] Registered as sound listener
[03:35:40] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[03:35:40] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[03:35:40] [ENEMY] [Enemy7] Registered as sound listener
[03:35:40] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[03:35:40] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[03:35:40] [ENEMY] [Enemy8] Registered as sound listener
[03:35:40] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[03:35:40] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[03:35:40] [ENEMY] [Enemy9] Registered as sound listener
[03:35:40] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[03:35:40] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[03:35:40] [ENEMY] [Enemy10] Registered as sound listener
[03:35:40] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[03:35:40] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:40] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:40] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:40] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:40] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:40] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:40] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:40] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:40] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:40] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:40] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:35:40] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:35:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:40] [INFO] [LastChance] Found player: Player
[03:35:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:40] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:40] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:41] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:35:41] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:41] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.2°, current=123.7°, player=(355,847), corner_timer=0.00
[03:35:41] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[03:35:41] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.7°, current=-65.6°, player=(348,839), corner_timer=0.00
[03:35:41] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[03:35:41] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[03:35:41] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:41] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:35:41] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-171.2°, current=168.8°, player=(336,828), corner_timer=0.00
[03:35:41] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(336,828), corner_timer=0.30
[03:35:41] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(336,828), corner_timer=0.30
[03:35:41] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[03:35:42] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:35:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(287,788), corner_timer=-0.02
[03:35:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(287,788), corner_timer=-0.02
[03:35:42] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:35:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(287,788), corner_timer=0.30
[03:35:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(287,788), corner_timer=0.30
[03:35:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(287.1597, 787.9478), source=PLAYER (AssaultRifle), range=1469, listeners=20
[03:35:42] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[03:35:42] [ENEMY] [Enemy1] Heard gunshot at (287.1597, 787.9478), source_type=0, intensity=0.01, distance=438
[03:35:42] [ENEMY] [Enemy2] Heard gunshot at (287.1597, 787.9478), source_type=0, intensity=0.04, distance=263
[03:35:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[03:35:42] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=91.7°, current=33.8°, player=(287,787), corner_timer=0.00
[03:35:42] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=115.4°, current=-101.3°, player=(287,787), corner_timer=0.00
[03:35:42] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=176.1°, current=-134.7°, player=(287,787), corner_timer=0.00
[03:35:42] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(287.1572, 787.9459), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[03:35:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(530.967, 771.144), source=ENEMY (Enemy3), range=1469, listeners=10
[03:35:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[03:35:42] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[03:35:42] [INFO] [LastChance] Threat detected: @Area2D@3073
[03:35:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:35:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:35:42] [INFO] [Player] Spawning blood effect at (287.1572, 787.94586), dir=(1, 0), lethal=False (C#)
[03:35:42] [INFO] [ImpactEffects] spawn_blood_effect called at (287.1572, 787.9459), dir=(1, 0), lethal=false
[03:35:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:42] [INFO] [ImpactEffects] Blood effect spawned at (287.1572, 787.9459) (scale=1)
[03:35:42] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[03:35:42] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[03:35:42] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[03:35:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(287.1572, 787.9459), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[03:35:42] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:35:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(530.967, 771.144), source=ENEMY (Enemy3), range=1469, listeners=10
[03:35:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[03:35:42] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(508.8993, 755.8829), source=NEUTRAL (null), range=900, listeners=10
[03:35:42] [ENEMY] [Enemy1] Heard CASING_KICK at (508.8993, 755.8829), intensity=0.01, dist=409
[03:35:42] [ENEMY] [Enemy2] Heard CASING_KICK at (508.8993, 755.8829), intensity=0.05, dist=221
[03:35:42] [ENEMY] [Enemy3] Heard CASING_KICK at (508.8993, 755.8829), intensity=1.00, dist=24
[03:35:42] [ENEMY] [Enemy4] Heard CASING_KICK at (508.8993, 755.8829), intensity=0.08, dist=180
[03:35:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:35:42] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(507.5941, 753.9329), source=NEUTRAL (null), range=900, listeners=10
[03:35:42] [ENEMY] [Enemy1] Heard CASING_KICK at (507.5941, 753.9329), intensity=0.02, dist=406
[03:35:42] [ENEMY] [Enemy2] Heard CASING_KICK at (507.5941, 753.9329), intensity=0.05, dist=218
[03:35:42] [ENEMY] [Enemy3] Heard CASING_KICK at (507.5941, 753.9329), intensity=1.00, dist=23
[03:35:42] [ENEMY] [Enemy4] Heard CASING_KICK at (507.5941, 753.9329), intensity=0.08, dist=180
[03:35:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:35:42] [INFO] [LastChance] Threat detected: @Area2D@3079
[03:35:42] [INFO] [LastChance] Triggering last chance effect!
[03:35:42] [INFO] [LastChance] Starting last chance effect:
[03:35:42] [INFO] [LastChance]   - Time will be frozen (except player)
[03:35:42] [INFO] [LastChance]   - Duration: 6.00 real seconds
[03:35:42] [INFO] [LastChance]   - Trigger: threat detected
[03:35:42] [INFO] [LastChance]   - Sepia intensity: 0.70
[03:35:42] [INFO] [LastChance]   - Brightness: 0.60
[03:35:42] [INFO] [LastChance] Pushed bullet @Area2D@3079 from distance 133.7 to 200.0
[03:35:42] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[03:35:42] [INFO] [LastChance] Set player Player and all 34 children to PROCESS_MODE_ALWAYS
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[03:35:42] [INFO] [LastChance] Skipping player node: Player
[03:35:42] [INFO] [LastChance] Froze existing bullet casing: Casing
[03:35:42] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3072
[03:35:42] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3075
[03:35:42] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3078
[03:35:42] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[03:35:42] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[03:35:42] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[03:35:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3081
[03:35:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3081
[03:35:42] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[03:35:42] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[03:35:42] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3083
[03:35:42] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3083
[03:35:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(287.1572, 787.9459), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[03:35:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3084
[03:35:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3084
[03:35:42] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[03:35:42] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[03:35:42] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3085
[03:35:42] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3085
[03:35:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(287.1572, 787.9459), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[03:35:42] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:42] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:42] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:42] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:42] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:42] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:42] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:42] [INFO] [LastChance] All process modes restored
[03:35:42] [INFO] [LastChance] Restored original colors to 5 player sprites
[03:35:42] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:42] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:42] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:42] [ENEMY] [Enemy1] Death animation component initialized
[03:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:42] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:42] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:42] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:42] [ENEMY] [Enemy2] Death animation component initialized
[03:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:42] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:42] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:42] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:42] [ENEMY] [Enemy3] Death animation component initialized
[03:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:42] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:42] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:42] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:42] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:42] [ENEMY] [Enemy4] Death animation component initialized
[03:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:42] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:42] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:42] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:42] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:42] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:42] [ENEMY] [Grenadier] Death animation component initialized
[03:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:42] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:42] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:42] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:42] [ENEMY] [Enemy6] Death animation component initialized
[03:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:42] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:42] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:42] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:42] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:42] [ENEMY] [Enemy7] Death animation component initialized
[03:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:42] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:42] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:42] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:42] [ENEMY] [Enemy8] Death animation component initialized
[03:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:42] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:42] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:42] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:42] [ENEMY] [Enemy9] Death animation component initialized
[03:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:42] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:42] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:42] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:42] [ENEMY] [Enemy10] Death animation component initialized
[03:35:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:42] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:42] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:42] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:42] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:42] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:35:42] [INFO] [Player.Weapon] Removed default MakarovPM
[03:35:42] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:35:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:42] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:42] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:42] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:42] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:42] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:42] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[03:35:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:42] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:42] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:42] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:42] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:42] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:42] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:42] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:42] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:42] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:42] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:42] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:42] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:42] [INFO] [BuildingLevel] Setting up weapon: m16
[03:35:42] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:35:42] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:42] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:42] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:42] [INFO] [ReplayManager] Replay data cleared
[03:35:42] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:42] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:42] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:42] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:42] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:42] [INFO] [ReplayManager] Enemies count: 10
[03:35:42] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:42] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:42] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:42] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:42] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:42] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:42] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:42] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:42] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:42] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:42] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:42] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:42] [INFO] [BloodDecal] Blood puddle created at (351.5942, 820.1442) (added to group)
[03:35:42] [INFO] [BloodDecal] Blood puddle created at (348.0966, 791.6447) (added to group)
[03:35:42] [INFO] [BloodDecal] Blood puddle created at (383.731, 781.041) (added to group)
[03:35:42] [INFO] [BloodDecal] Blood puddle created at (402.1558, 838.1592) (added to group)
[03:35:42] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:42] [INFO] [CinemaEffects] Found player node: Player
[03:35:42] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:42] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[03:35:42] [ENEMY] [Enemy1] Registered as sound listener
[03:35:42] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[03:35:42] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:42] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[03:35:42] [ENEMY] [Enemy2] Registered as sound listener
[03:35:42] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[03:35:42] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:42] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[03:35:42] [ENEMY] [Enemy3] Registered as sound listener
[03:35:42] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[03:35:42] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:42] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[03:35:42] [ENEMY] [Enemy4] Registered as sound listener
[03:35:42] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[03:35:42] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:42] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[03:35:42] [ENEMY] [Grenadier] Registered as sound listener
[03:35:42] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:42] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:42] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[03:35:42] [ENEMY] [Enemy6] Registered as sound listener
[03:35:42] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[03:35:42] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:42] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[03:35:42] [ENEMY] [Enemy7] Registered as sound listener
[03:35:42] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:35:42] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:42] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[03:35:42] [ENEMY] [Enemy8] Registered as sound listener
[03:35:42] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[03:35:42] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:42] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[03:35:42] [ENEMY] [Enemy9] Registered as sound listener
[03:35:42] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[03:35:42] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:42] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[03:35:42] [ENEMY] [Enemy10] Registered as sound listener
[03:35:42] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[03:35:42] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:43] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:43] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:43] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:43] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:43] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:43] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:43] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:43] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:43] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:35:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:35:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:43] [INFO] [LastChance] Found player: Player
[03:35:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:43] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:43] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:43] [INFO] [BloodDecal] Blood puddle created at (437.3563, 901.4255) (added to group)
[03:35:43] [INFO] [BloodDecal] Blood puddle created at (390.9617, 789.6149) (added to group)
[03:35:43] [INFO] [BloodDecal] Blood puddle created at (387.2412, 865.5233) (added to group)
[03:35:43] [INFO] [BloodDecal] Blood puddle created at (436.1406, 844.0213) (added to group)
[03:35:43] [INFO] [BloodDecal] Blood puddle created at (413.7076, 880.2713) (added to group)
[03:35:43] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:35:43] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:44] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:44] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:35:44] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(212,879), corner_timer=0.30
[03:35:44] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(212,879), corner_timer=0.30
[03:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(168.5918, 836.23), source=PLAYER (AssaultRifle), range=1469, listeners=20
[03:35:44] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[03:35:44] [ENEMY] [Enemy2] Heard gunshot at (168.5918, 836.23), source_type=0, intensity=0.02, distance=368
[03:35:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[03:35:44] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=129.0°, current=-157.5°, player=(168,836), corner_timer=0.00
[03:35:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(168.59181, 836.23004), shooter_id=730446432762, bullet_pos=(381.8746, 699.48694)
[03:35:44] [INFO] [Bullet] Using shooter_position, distance=253,35396
[03:35:44] [INFO] [Bullet] Distance to wall: 253,35396 (17,251339% of viewport)
[03:35:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(158,826), corner_timer=-0.02
[03:35:44] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(158,826), corner_timer=-0.02
[03:35:44] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:35:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(157.8674, 825.5056), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:44] [ENEMY] [Enemy1] Heard gunshot at (157.8674, 825.5056), source_type=0, intensity=0.01, distance=496
[03:35:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[03:35:44] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:35:44] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=106.6°, current=-157.5°, player=(157,825), corner_timer=0.00
[03:35:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(157,825), corner_timer=0.30
[03:35:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(157,825), corner_timer=0.30
[03:35:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(157.86737, 825.5056), shooter_id=730446432762, bullet_pos=(369.44666, 686.1411)
[03:35:44] [INFO] [Bullet] Using shooter_position, distance=253,35402
[03:35:44] [INFO] [Bullet] Distance to wall: 253,35402 (17,25134% of viewport)
[03:35:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(156.0603, 823.6985), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[03:35:45] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[03:35:45] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[03:35:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:45] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[03:35:45] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:45] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=172.3°, current=180.0°, player=(156,823), corner_timer=0.00
[03:35:45] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[03:35:45] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=172.3°, current=-12.9°, player=(156,823), corner_timer=0.00
[03:35:45] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[03:35:45] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[03:35:45] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-173.2°, current=-67.5°, player=(156,823), corner_timer=0.00
[03:35:45] [ENEMY] [Enemy4] PURSUING corner check: angle -102.5°
[03:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(156.0603, 823.6985), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[03:35:45] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[03:35:45] [INFO] [ImpactEffects] spawn_blood_effect called at (670.4038, 754.0101), dir=(1, 0), lethal=true
[03:35:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:45] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:35:45] [INFO] [ImpactEffects] Blood effect spawned at (670.4038, 754.0101) (scale=1.5)
[03:35:45] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[03:35:45] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[03:35:45] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[03:35:45] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[03:35:45] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[03:35:45] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[03:35:45] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[03:35:45] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[03:35:45] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[03:35:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(156,823), corner_timer=-0.01
[03:35:45] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[03:35:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(156,823), corner_timer=0.30
[03:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(156.0603, 823.6985), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (787.1935, 774.9744) (added to group)
[03:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(156.06032, 823.6985), shooter_id=730446432762, bullet_pos=(919.746, 607.61664)
[03:35:45] [INFO] [Bullet] Using shooter_position, distance=793,66693
[03:35:45] [INFO] [Bullet] Distance to wall: 793,66693 (54,042244% of viewport)
[03:35:45] [INFO] [Bullet] Distance-based penetration chance: 83,617386%
[03:35:45] [INFO] [Bullet] Starting wall penetration at (919.746, 607.61664)
[03:35:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,44118
[03:35:45] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:45] [INFO] [Bullet] Exiting penetration at (956.6312, 597.1801) after traveling 33,333336 pixels through wall
[03:35:45] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (758.0871, 752.4958) (added to group)
[03:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(156.0603, 823.6985), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (805.5047, 819.9291) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (719.5637, 759.3295) (added to group)
[03:35:45] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (806.6711, 760.9913) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (755.187, 761.8755) (added to group)
[03:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(156.06032, 823.6985), shooter_id=730446432762, bullet_pos=(913.3697, 615.7783)
[03:35:45] [INFO] [Bullet] Using shooter_position, distance=785,33325
[03:35:45] [INFO] [Bullet] Distance to wall: 785,33325 (53,474785% of viewport)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (751.8843, 770.514) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (759.1663, 778.3139) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (783.3038, 755.2216) (added to group)
[03:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(156.0603, 823.6985), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (741.1493, 805.0029) (added to group)
[03:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(156.06032, 823.6985), shooter_id=730446432762, bullet_pos=(912.1588, 611.41547)
[03:35:45] [INFO] [Bullet] Using shooter_position, distance=785,3337
[03:35:45] [INFO] [Bullet] Distance to wall: 785,3337 (53,474815% of viewport)
[03:35:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(156,823), corner_timer=-0.01
[03:35:45] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[03:35:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.2°, player=(156,823), corner_timer=0.30
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (784.968, 799.0992) (added to group)
[03:35:45] [ENEMY] [Enemy4] PURSUING corner check: angle -84.5°
[03:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(156.0603, 823.6985), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (866.4656, 890.6401) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (836.7177, 825.7703) (added to group)
[03:35:45] [ENEMY] [Enemy3] Ragdoll activated
[03:35:45] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (769.7599, 797.0388) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (756.9091, 764.9623) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (782.4211, 793.0708) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (819.7986, 847.218) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (902.4183, 766.6458) (added to group)
[03:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(156.06032, 823.6985), shooter_id=730446432762, bullet_pos=(911.2228, 608.11237)
[03:35:45] [INFO] [Bullet] Using shooter_position, distance=785,3329
[03:35:45] [INFO] [Bullet] Distance to wall: 785,3329 (53,474762% of viewport)
[03:35:45] [INFO] [Bullet] Distance-based penetration chance: 84,27945%
[03:35:45] [INFO] [Bullet] Penetration failed (distance roll)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (768.6469, 807.7101) (added to group)
[03:35:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(156.0603, 823.6985), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:45] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=1
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (848.9054, 873.1576) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (777.9089, 775.8256) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (763.975, 805.7811) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (859.2123, 856.4034) (added to group)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (859.188, 851.6321) (added to group)
[03:35:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(156.06032, 823.6985), shooter_id=730446432762, bullet_pos=(910.76086, 606.49896)
[03:35:45] [INFO] [Bullet] Using shooter_position, distance=785,33344
[03:35:45] [INFO] [Bullet] Distance to wall: 785,33344 (53,4748% of viewport)
[03:35:45] [INFO] [Bullet] Distance-based penetration chance: 84,2794%
[03:35:45] [INFO] [Bullet] Penetration failed (distance roll)
[03:35:45] [INFO] [BloodDecal] Blood puddle created at (814.4537, 833.9716) (added to group)
[03:35:46] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[03:35:46] [INFO] [BloodDecal] Blood puddle created at (905.172, 854.4797) (added to group)
[03:35:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:46] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:46] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:46] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:46] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:46] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:46] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:46] [ENEMY] [Enemy1] Death animation component initialized
[03:35:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:46] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:46] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:46] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:46] [ENEMY] [Enemy2] Death animation component initialized
[03:35:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:46] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:46] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:46] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:46] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:46] [ENEMY] [Enemy3] Death animation component initialized
[03:35:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:46] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:46] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:46] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:46] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:46] [ENEMY] [Enemy4] Death animation component initialized
[03:35:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:46] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:46] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:46] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:46] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:46] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:46] [ENEMY] [Grenadier] Death animation component initialized
[03:35:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:46] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:46] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:46] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:46] [ENEMY] [Enemy6] Death animation component initialized
[03:35:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:46] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:46] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:46] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:46] [ENEMY] [Enemy7] Death animation component initialized
[03:35:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:46] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:46] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:46] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:46] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:46] [ENEMY] [Enemy8] Death animation component initialized
[03:35:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:46] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:46] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:46] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:46] [ENEMY] [Enemy9] Death animation component initialized
[03:35:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:46] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:46] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:46] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:46] [ENEMY] [Enemy10] Death animation component initialized
[03:35:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:46] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:46] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:46] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:46] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:46] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:35:46] [INFO] [Player.Weapon] Removed default MakarovPM
[03:35:46] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:35:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:46] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:46] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:46] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:46] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:46] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:46] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[03:35:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:46] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:46] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:46] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:46] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:46] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:46] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:46] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:46] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:46] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:46] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:46] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:46] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:46] [INFO] [BuildingLevel] Setting up weapon: m16
[03:35:46] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:35:46] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:46] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:46] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:46] [INFO] [ReplayManager] Replay data cleared
[03:35:46] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:46] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:46] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:46] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:46] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:46] [INFO] [ReplayManager] Enemies count: 10
[03:35:46] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:46] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:46] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:46] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:46] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:46] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:46] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:46] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:46] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:46] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:46] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:46] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:46] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:46] [INFO] [CinemaEffects] Found player node: Player
[03:35:46] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:46] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[03:35:46] [ENEMY] [Enemy1] Registered as sound listener
[03:35:46] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[03:35:46] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:46] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[03:35:46] [ENEMY] [Enemy2] Registered as sound listener
[03:35:46] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[03:35:46] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:46] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[03:35:46] [ENEMY] [Enemy3] Registered as sound listener
[03:35:46] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[03:35:46] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:46] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[03:35:46] [ENEMY] [Enemy4] Registered as sound listener
[03:35:46] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[03:35:46] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:46] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[03:35:46] [ENEMY] [Grenadier] Registered as sound listener
[03:35:46] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:46] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:46] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[03:35:46] [ENEMY] [Enemy6] Registered as sound listener
[03:35:46] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[03:35:46] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:46] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[03:35:46] [ENEMY] [Enemy7] Registered as sound listener
[03:35:46] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[03:35:46] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:46] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[03:35:46] [ENEMY] [Enemy8] Registered as sound listener
[03:35:46] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[03:35:46] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:46] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[03:35:46] [ENEMY] [Enemy9] Registered as sound listener
[03:35:46] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[03:35:46] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:46] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[03:35:46] [ENEMY] [Enemy10] Registered as sound listener
[03:35:46] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[03:35:46] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:46] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:46] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:46] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:46] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:46] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:46] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:46] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:46] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:46] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:46] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:35:46] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:35:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:46] [INFO] [LastChance] Found player: Player
[03:35:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:46] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:46] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:46] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:35:47] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(324.2819, 849.7404), source=PLAYER (AssaultRifle), range=1469, listeners=19
[03:35:47] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[03:35:47] [ENEMY] [Enemy2] Heard gunshot at (324.2819, 849.7404), source_type=0, intensity=0.03, distance=309
[03:35:47] [ENEMY] [Enemy3] Heard gunshot at (324.2819, 849.7404), source_type=0, intensity=0.02, distance=389
[03:35:47] [ENEMY] [Enemy4] Heard gunshot at (324.2819, 849.7404), source_type=0, intensity=0.01, distance=478
[03:35:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[03:35:47] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=104.2°, current=-157.5°, player=(324,849), corner_timer=0.00
[03:35:47] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=165.1°, current=-123.8°, player=(324,849), corner_timer=0.00
[03:35:47] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-174.0°, current=-101.3°, player=(324,849), corner_timer=0.00
[03:35:47] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:47] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:35:47] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[03:35:47] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[03:35:47] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(321,834), corner_timer=0.30
[03:35:47] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(321,834), corner_timer=0.30
[03:35:47] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=87.4°, current=168.8°, player=(321,828), corner_timer=0.00
[03:35:47] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[03:35:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(321.6599, 812.3266), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:47] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.5076, 780.092), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(324.28192, 849.7404), shooter_id=786314561672, bullet_pos=(921.2962, 853.5981)
[03:35:48] [INFO] [Bullet] Using shooter_position, distance=597,02673
[03:35:48] [INFO] [Bullet] Distance to wall: 597,02673 (40,65265% of viewport)
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (137 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:35:48] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-179.3°, current=105.6°, player=(334,752), corner_timer=0.00
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (133 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(324.28192, 849.7404), shooter_id=786314561672, bullet_pos=(824.18304, 1007.6222)
[03:35:48] [INFO] [Bullet] Using shooter_position, distance=524,2402
[03:35:48] [INFO] [Bullet] Distance to wall: 524,2402 (35,69648% of viewport)
[03:35:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (131 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(340.4197, 745.7913), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (129 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(321.65988, 812.3266), shooter_id=786314561672, bullet_pos=(918.6429, 819.56165)
[03:35:48] [INFO] [Bullet] Using shooter_position, distance=597,02686
[03:35:48] [INFO] [Bullet] Distance to wall: 597,02686 (40,652657% of viewport)
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (127 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(343,742), corner_timer=-0.02
[03:35:48] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(343,742), corner_timer=-0.02
[03:35:48] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:35:48] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[03:35:48] [INFO] [ImpactEffects] spawn_blood_effect called at (759.0421, 914.3795), dir=(1, 0), lethal=false
[03:35:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:48] [INFO] [ImpactEffects] Blood effect spawned at (759.0421, 914.3795) (scale=1)
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (125 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Throw path blocked to (346.762, 739.7531)
[03:35:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(346,739), corner_timer=0.30
[03:35:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(346,739), corner_timer=0.30
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (123 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Throw path blocked to (350.2385, 737.1299)
[03:35:48] [ENEMY] [Enemy1] PURSUING corner check: angle -51.3°
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (121 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Throw path blocked to (353.15, 735.2003)
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (119 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Throw path blocked to (356.1918, 733.4396)
[03:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(323.50763, 780.092), shooter_id=786314561672, bullet_pos=(915.23737, 630.5499)
[03:35:48] [INFO] [Bullet] Using shooter_position, distance=610,33344
[03:35:48] [INFO] [Bullet] Distance to wall: 610,33344 (41,558727% of viewport)
[03:35:48] [INFO] [Bullet] Distance-based penetration chance: 98,18149%
[03:35:48] [INFO] [Bullet] Starting wall penetration at (915.23737, 630.5499)
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (118 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Throw path blocked to (359.3639, 731.8478)
[03:35:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,917967
[03:35:48] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:48] [INFO] [Bullet] Exiting penetration at (952.4023, 621.1576) after traveling 33,333336 pixels through wall
[03:35:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (116 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Throw path blocked to (362.6663, 730.425)
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(371.0551, 751.6898), source=NEUTRAL (null), range=900, listeners=10
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (371.0551, 751.6898), intensity=0.02, dist=334
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (371.0551, 751.6898), intensity=0.09, dist=167
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (371.0551, 751.6898), intensity=0.05, dist=218
[03:35:48] [ENEMY] [Enemy4] Heard CASING_KICK at (371.0551, 751.6898), intensity=0.02, dist=398
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(366.099, 729.171), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(321.65988, 812.3266), shooter_id=786314561672, bullet_pos=(801.7693, 1002.9925)
[03:35:48] [INFO] [Bullet] Using shooter_position, distance=516,5835
[03:35:48] [INFO] [Bullet] Distance to wall: 516,5835 (35,17512% of viewport)
[03:35:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (114 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Throw path blocked to (366.099, 729.171)
[03:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.09903, 729.171), shooter_id=786314561672, bullet_pos=(448.9294, 708.65497)
[03:35:48] [INFO] [Bullet] Using shooter_position, distance=85,33335
[03:35:48] [INFO] [Bullet] Distance to wall: 85,33335 (5,810505% of viewport)
[03:35:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:48] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (112 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Throw path blocked to (369.662, 728.086)
[03:35:48] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (110 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Throw path blocked to (373.3553, 728.0664)
[03:35:48] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (108 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=180.0°, current=-153.8°, player=(377,728), corner_timer=0.00
[03:35:48] [INFO] [EnemyGrenade] Throw path blocked to (377.262, 728.0664)
[03:35:48] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[03:35:48] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[03:35:48] [INFO] [ImpactEffects] spawn_blood_effect called at (718.1672, 914.0651), dir=(1, 0), lethal=true
[03:35:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:48] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:35:48] [INFO] [ImpactEffects] Blood effect spawned at (718.1672, 914.0651) (scale=1.5)
[03:35:48] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[03:35:48] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[03:35:48] [ENEMY] [Enemy4] [AllyDeath] Notified 2 enemies
[03:35:48] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[03:35:48] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[03:35:48] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (106 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (104 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (102 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (100 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.9153, 728.0664), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(340.41974, 745.79126), shooter_id=786314561672, bullet_pos=(936.35986, 614.02747)
[03:35:48] [INFO] [Bullet] Using shooter_position, distance=610,33295
[03:35:48] [INFO] [Bullet] Distance to wall: 610,33295 (41,558693% of viewport)
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (98 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(393.93, 738.3763), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (393.93, 738.3763), intensity=0.03, dist=287
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (393.93, 738.3763), intensity=0.11, dist=152
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (393.93, 738.3763), intensity=0.07, dist=196
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (96 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(393.5941, 740.3826), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (393.5941, 740.3826), intensity=0.03, dist=285
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (393.5941, 740.3826), intensity=0.10, dist=154
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (393.5941, 740.3826), intensity=0.07, dist=195
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(398.91528, 728.0664), shooter_id=786314561672, bullet_pos=(464.3316, 707.1903)
[03:35:48] [INFO] [Bullet] Using shooter_position, distance=68,66663
[03:35:48] [INFO] [Bullet] Distance to wall: 68,66663 (4,6756377% of viewport)
[03:35:48] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[03:35:48] [INFO] [Bullet] Starting wall penetration at (464.3316, 707.1903)
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (94 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(392.6363, 742.8604), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (392.6363, 742.8604), intensity=0.03, dist=284
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (392.6363, 742.8604), intensity=0.10, dist=157
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (392.6363, 742.8604), intensity=0.07, dist=195
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0,89269674
[03:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.09903, 729.171), shooter_id=786314561672, bullet_pos=(718.95996, 809.747)
[03:35:48] [INFO] [Bullet] Using shooter_position, distance=361,94382
[03:35:48] [INFO] [Bullet] Distance to wall: 361,94382 (24,64542% of viewport)
[03:35:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (92 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[03:35:48] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:48] [INFO] [Bullet] Exiting penetration at (532.60596, 685.40216) after traveling 66,66667 pixels through wall
[03:35:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (90 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (820.8884, 921.6729) (added to group)
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (89 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (87 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (86 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(434.1152, 728.0664), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (84 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(428.2669, 732.8355), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (428.2669, 732.8355), intensity=0.04, dist=250
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (428.2669, 732.8355), intensity=0.11, dist=152
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (428.2669, 732.8355), intensity=0.09, dist=171
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (829.7991, 924.8387) (added to group)
[03:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.11523, 728.0664), shooter_id=786314561672, bullet_pos=(466.9823, 715.0971)
[03:35:48] [INFO] [Bullet] Using shooter_position, distance=35,333366
[03:35:48] [INFO] [Bullet] Distance to wall: 35,333366 (2,4059138% of viewport)
[03:35:48] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[03:35:48] [INFO] [Bullet] Starting wall penetration at (466.9823, 715.0971)
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (83 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(438,728), corner_timer=-0.01
[03:35:48] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(427.9118, 734.325), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (427.9118, 734.325), intensity=0.04, dist=247
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (427.9118, 734.325), intensity=0.11, dist=153
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (427.9118, 734.325), intensity=0.09, dist=171
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,8380616
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (82 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(442,728), corner_timer=0.30
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(426.7929, 736.0776), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (426.7929, 736.0776), intensity=0.04, dist=245
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (426.7929, 736.0776), intensity=0.10, dist=154
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (426.7929, 736.0776), intensity=0.08, dist=173
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[03:35:48] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:48] [INFO] [Bullet] Exiting penetration at (533.6466, 688.7915) after traveling 66,66667 pixels through wall
[03:35:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (81 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(424.9343, 738.0646), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (424.9343, 738.0646), intensity=0.04, dist=244
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (424.9343, 738.0646), intensity=0.10, dist=156
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (424.9343, 738.0646), intensity=0.08, dist=174
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.09903, 729.171), shooter_id=786314561672, bullet_pos=(911.67633, 700.0503)
[03:35:48] [INFO] [Bullet] Using shooter_position, distance=546,3539
[03:35:48] [INFO] [Bullet] Distance to wall: 546,3539 (37,202244% of viewport)
[03:35:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:48] [ENEMY] [Enemy1] PURSUING corner check: angle 153.9°
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (81 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (833.1425, 908.4604) (added to group)
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (821.2518, 966.829) (added to group)
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (80 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [EnemyGrenade] Unsafe throw distance (80 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.3152, 728.0664), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(463.4679, 731.0182), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (463.4679, 731.0182), intensity=0.05, dist=218
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (463.4679, 731.0182), intensity=0.09, dist=162
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (463.4679, 731.0182), intensity=0.09, dist=163
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (871.4874, 991.9912) (added to group)
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (784.6715, 947.9992) (added to group)
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(463.1194, 732.3693), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (463.1194, 732.3693), intensity=0.05, dist=215
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (463.1194, 732.3693), intensity=0.09, dist=164
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (463.1194, 732.3693), intensity=0.09, dist=165
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(461.9744, 733.8972), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (461.9744, 733.8972), intensity=0.06, dist=213
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (461.9744, 733.8972), intensity=0.09, dist=164
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (461.9744, 733.8972), intensity=0.09, dist=166
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (806.4586, 938.1996) (added to group)
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(460.0651, 735.5923), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (460.0651, 735.5923), intensity=0.06, dist=210
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (460.0651, 735.5923), intensity=0.09, dist=165
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (460.0651, 735.5923), intensity=0.09, dist=169
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (823.2875, 977.7096) (added to group)
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (802.634, 913.7202) (added to group)
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (807.7139, 946.7535) (added to group)
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (792.0972, 920.5068) (added to group)
[03:35:48] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=77.7°, current=92.8°, player=(500,728), corner_timer=0.17
[03:35:48] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(498.0072, 733.5103), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (498.0072, 733.5103), intensity=0.07, dist=192
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (498.0072, 733.5103), intensity=0.07, dist=183
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (498.0072, 733.5103), intensity=0.09, dist=165
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (815.2452, 897.3754) (added to group)
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (785.7769, 944.2178) (added to group)
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(497.7238, 735.3836), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (497.7238, 735.3836), intensity=0.07, dist=194
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (497.7238, 735.3836), intensity=0.07, dist=184
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (497.7238, 735.3836), intensity=0.09, dist=167
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(496.6884, 737.5379), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (496.6884, 737.5379), intensity=0.07, dist=196
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (496.6884, 737.5379), intensity=0.07, dist=185
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (496.6884, 737.5379), intensity=0.09, dist=168
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (837.4358, 989.3698) (added to group)
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (839.8248, 947.6337) (added to group)
[03:35:48] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[03:35:48] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(494.9265, 739.9496), source=NEUTRAL (null), range=900, listeners=9
[03:35:48] [ENEMY] [Enemy1] Heard CASING_KICK at (494.9265, 739.9496), intensity=0.06, dist=198
[03:35:48] [ENEMY] [Enemy2] Heard CASING_KICK at (494.9265, 739.9496), intensity=0.07, dist=186
[03:35:48] [ENEMY] [Enemy3] Heard CASING_KICK at (494.9265, 739.9496), intensity=0.09, dist=169
[03:35:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (845.8651, 941.1968) (added to group)
[03:35:48] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=46.2°, current=47.1°, player=(526,728), corner_timer=0.00
[03:35:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[03:35:48] [ENEMY] [Enemy4] Ragdoll activated
[03:35:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (877.4578, 948.1194) (added to group)
[03:35:48] [INFO] [BloodDecal] Blood puddle created at (844.9727, 958.5976) (added to group)
[03:35:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(544,728), corner_timer=-0.01
[03:35:48] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[03:35:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.09903, 729.171), shooter_id=786314561672, bullet_pos=(522.0232, 464.41946)
[03:35:48] [INFO] [Bullet] Using shooter_position, distance=307,25516
[03:35:48] [INFO] [Bullet] Distance to wall: 307,25516 (20,921568% of viewport)
[03:35:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:48] [INFO] [Bullet] Starting wall penetration at (522.0232, 464.41946)
[03:35:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.2°, player=(548,728), corner_timer=0.30
[03:35:48] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:35:48] [INFO] [Bullet] Exiting penetration at (500.22766, 451.2393) after traveling 20,470835 pixels through wall
[03:35:48] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[03:35:49] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (800.5724, 975.4352) (added to group)
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.3333, 544.5668), source=ENEMY (Enemy1), range=1469, listeners=9
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[03:35:49] [INFO] [LastChance] Threat detected: Bullet
[03:35:49] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:35:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (891.1344, 927.7376) (added to group)
[03:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(469.3152, 728.0664), shooter_id=786314561672, bullet_pos=(1386.9359, 285.7386)
[03:35:49] [INFO] [Bullet] Using shooter_position, distance=1018,6666
[03:35:49] [INFO] [Bullet] Distance to wall: 1018,6666 (69,362885% of viewport)
[03:35:49] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=52.0°, current=52.0°, player=(605,728), corner_timer=0.17
[03:35:49] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(610.0341, 727.8693), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[03:35:49] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=153.9°, current=52.0°, player=(610,727), corner_timer=0.17
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(390.1402, 586.005), source=ENEMY (Enemy2), range=1469, listeners=9
[03:35:49] [ENEMY] [Enemy1] Heard gunshot at (390.1402, 586.005), source_type=1, intensity=0.35, distance=85
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[03:35:49] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=49.2°, current=55.8°, player=(622,726), corner_timer=0.17
[03:35:49] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(457.931, 564.3878), source=NEUTRAL (null), range=900, listeners=9
[03:35:49] [ENEMY] [Enemy1] Heard CASING_KICK at (457.931, 564.3878), intensity=1.00, dist=31
[03:35:49] [ENEMY] [Enemy2] Heard CASING_KICK at (457.931, 564.3878), intensity=0.49, dist=71
[03:35:49] [ENEMY] [Enemy3] Heard CASING_KICK at (457.931, 564.3878), intensity=0.01, dist=414
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:49] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=153.9°, current=53.5°, player=(626,725), corner_timer=0.17
[03:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(493.19653, 605.3602), shooter_id=782254475892, bullet_pos=(677.4916, 883.1129)
[03:35:49] [INFO] [Bullet] Using shooter_position, distance=333,3335
[03:35:49] [INFO] [Bullet] Distance to wall: 333,3335 (22,69729% of viewport)
[03:35:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:49] [INFO] [LastChance] Threat detected: @Area2D@3780
[03:35:49] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:35:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:35:49] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[03:35:49] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[03:35:49] [INFO] [ImpactEffects] spawn_blood_effect called at (390.1402, 586.005), dir=(1, 0), lethal=false
[03:35:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:49] [INFO] [ImpactEffects] Blood effect spawned at (390.1402, 586.005) (scale=1)
[03:35:49] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[03:35:49] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=29.2°, current=180.0°, player=(634,722), corner_timer=0.00
[03:35:49] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[03:35:49] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[03:35:49] [INFO] [ImpactEffects] spawn_blood_effect called at (591.9535, 962.6421), dir=(1, 0), lethal=false
[03:35:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:49] [INFO] [ImpactEffects] Blood effect spawned at (591.9535, 962.6421) (scale=1)
[03:35:49] [INFO] [EnemyGrenade] Unsafe throw distance (251 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(645,717), corner_timer=-0.01
[03:35:49] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(648.7275, 715.0582), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[03:35:49] [INFO] [EnemyGrenade] Unsafe throw distance (253 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.9°, player=(648,715), corner_timer=0.30
[03:35:49] [INFO] [EnemyGrenade] Unsafe throw distance (256 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:49] [INFO] [EnemyGrenade] Unsafe throw distance (258 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:49] [INFO] [EnemyGrenade] Unsafe throw distance (261 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.63895, 628.1852), shooter_id=782606796894, bullet_pos=(756.02856, 820.1669)
[03:35:49] [INFO] [Bullet] Using shooter_position, distance=366,6664
[03:35:49] [INFO] [Bullet] Distance to wall: 366,6664 (24,966991% of viewport)
[03:35:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:49] [INFO] [Bullet] Starting wall penetration at (756.02856, 820.1669)
[03:35:49] [INFO] [EnemyGrenade] Unsafe throw distance (264 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,67186
[03:35:49] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:49] [INFO] [Bullet] Exiting penetration at (788.6875, 840.2377) after traveling 33,333332 pixels through wall
[03:35:49] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:49] [INFO] [EnemyGrenade] Unsafe throw distance (266 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:49] [INFO] [EnemyGrenade] Unsafe throw distance (269 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:49] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[03:35:49] [INFO] [ImpactEffects] spawn_blood_effect called at (390.1402, 586.005), dir=(1, 0), lethal=false
[03:35:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:49] [INFO] [ImpactEffects] Blood effect spawned at (390.1402, 586.005) (scale=1)
[03:35:49] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[03:35:49] [INFO] [EnemyGrenade] Unsafe throw distance (271 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.2534, 696.5313), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(387.8977, 616.1271), source=NEUTRAL (null), range=900, listeners=9
[03:35:49] [ENEMY] [Enemy1] Heard CASING_KICK at (387.8977, 616.1271), intensity=0.19, dist=114
[03:35:49] [ENEMY] [Enemy2] Heard CASING_KICK at (387.8977, 616.1271), intensity=1.00, dist=32
[03:35:49] [ENEMY] [Enemy3] Heard CASING_KICK at (387.8977, 616.1271), intensity=0.01, dist=417
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:49] [INFO] [EnemyGrenade] Unsafe throw distance (273 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:49] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-31.6°, current=167.3°, player=(680,694), corner_timer=0.00
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(387.202, 617.4857), source=NEUTRAL (null), range=900, listeners=9
[03:35:49] [ENEMY] [Enemy1] Heard CASING_KICK at (387.202, 617.4857), intensity=0.19, dist=116
[03:35:49] [ENEMY] [Enemy2] Heard CASING_KICK at (387.202, 617.4857), intensity=1.00, dist=34
[03:35:49] [ENEMY] [Enemy3] Heard CASING_KICK at (387.202, 617.4857), intensity=0.01, dist=418
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:49] [INFO] [EnemyGrenade] Unsafe throw distance (274 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(386.4568, 619.1896), source=NEUTRAL (null), range=900, listeners=9
[03:35:49] [ENEMY] [Enemy1] Heard CASING_KICK at (386.4568, 619.1896), intensity=0.18, dist=118
[03:35:49] [ENEMY] [Enemy2] Heard CASING_KICK at (386.4568, 619.1896), intensity=1.00, dist=38
[03:35:49] [ENEMY] [Enemy3] Heard CASING_KICK at (386.4568, 619.1896), intensity=0.01, dist=418
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:49] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/4->1/4
[03:35:49] [INFO] [ImpactEffects] spawn_blood_effect called at (402.8638, 578.1874), dir=(1, 0), lethal=false
[03:35:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:49] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 578.1874) (dist=97 px)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (499, 578.1874) (added to group)
[03:35:49] [INFO] [ImpactEffects] Blood effect spawned at (402.8638, 578.1874) (scale=1)
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(708.5144, 689.4359), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(440.1466, 583.7311), source=NEUTRAL (null), range=900, listeners=9
[03:35:49] [ENEMY] [Enemy1] Heard CASING_KICK at (440.1466, 583.7311), intensity=0.69, dist=60
[03:35:49] [ENEMY] [Enemy2] Heard CASING_KICK at (440.1466, 583.7311), intensity=1.00, dist=32
[03:35:49] [ENEMY] [Enemy3] Heard CASING_KICK at (440.1466, 583.7311), intensity=0.01, dist=433
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (487.584, 617.9981) (added to group)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (483.5099, 610.3078) (added to group)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (636.49, 984.47) (added to group)
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(440.1422, 584.2875), source=NEUTRAL (null), range=900, listeners=9
[03:35:49] [ENEMY] [Enemy1] Heard CASING_KICK at (440.1422, 584.2875), intensity=0.68, dist=61
[03:35:49] [ENEMY] [Enemy2] Heard CASING_KICK at (440.1422, 584.2875), intensity=1.00, dist=31
[03:35:49] [ENEMY] [Enemy3] Heard CASING_KICK at (440.1422, 584.2875), intensity=0.01, dist=434
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:49] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(440.5157, 584.9774), source=NEUTRAL (null), range=900, listeners=9
[03:35:49] [ENEMY] [Enemy1] Heard CASING_KICK at (440.5157, 584.9774), intensity=0.67, dist=61
[03:35:49] [ENEMY] [Enemy2] Heard CASING_KICK at (440.5157, 584.9774), intensity=1.00, dist=30
[03:35:49] [ENEMY] [Enemy3] Heard CASING_KICK at (440.5157, 584.9774), intensity=0.01, dist=435
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:49] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (439.3154, 599.795) (added to group)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (640.9194, 985.1172) (added to group)
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(441.239, 585.8231), source=NEUTRAL (null), range=900, listeners=9
[03:35:49] [ENEMY] [Enemy1] Heard CASING_KICK at (441.239, 585.8231), intensity=0.66, dist=62
[03:35:49] [ENEMY] [Enemy2] Heard CASING_KICK at (441.239, 585.8231), intensity=1.00, dist=30
[03:35:49] [ENEMY] [Enemy3] Heard CASING_KICK at (441.239, 585.8231), intensity=0.01, dist=434
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(442.2828, 586.8448), source=NEUTRAL (null), range=900, listeners=9
[03:35:49] [ENEMY] [Enemy1] Heard CASING_KICK at (442.2828, 586.8448), intensity=0.64, dist=62
[03:35:49] [ENEMY] [Enemy2] Heard CASING_KICK at (442.2828, 586.8448), intensity=1.00, dist=30
[03:35:49] [ENEMY] [Enemy3] Heard CASING_KICK at (442.2828, 586.8448), intensity=0.01, dist=432
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(443.6175, 588.0605), source=NEUTRAL (null), range=900, listeners=9
[03:35:49] [ENEMY] [Enemy1] Heard CASING_KICK at (443.6175, 588.0605), intensity=0.62, dist=63
[03:35:49] [ENEMY] [Enemy2] Heard CASING_KICK at (443.6175, 588.0605), intensity=1.00, dist=31
[03:35:49] [ENEMY] [Enemy3] Heard CASING_KICK at (443.6175, 588.0605), intensity=0.01, dist=431
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(739,689), corner_timer=-0.01
[03:35:49] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[03:35:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(743.7146, 689.4359), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[03:35:49] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/4->0/4
[03:35:49] [INFO] [ImpactEffects] spawn_blood_effect called at (421.0404, 567.0194), dir=(1, 0), lethal=true
[03:35:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:49] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:35:49] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 567.0194) (dist=78 px)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (499, 567.0194) (added to group)
[03:35:49] [INFO] [ImpactEffects] Blood effect spawned at (421.0404, 567.0194) (scale=1.5)
[03:35:49] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[03:35:49] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[03:35:49] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[03:35:49] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[03:35:49] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[03:35:49] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[03:35:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.2°, player=(743,689), corner_timer=0.30
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (453.3027, 593.5377) (added to group)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (427.5314, 584.7358) (added to group)
[03:35:49] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (492.5547, 616.2163) (added to group)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (480.2904, 641.2963) (added to group)
[03:35:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(743.7146, 689.43585), shooter_id=786314561672, bullet_pos=(511.28796, 592.0607)
[03:35:49] [INFO] [Bullet] Using shooter_position, distance=252,0001
[03:35:49] [INFO] [Bullet] Distance to wall: 252,0001 (17,159151% of viewport)
[03:35:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (490.3365, 621.2827) (added to group)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (467.8475, 604.7266) (added to group)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (487.1851, 598.1982) (added to group)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (491.9041, 663.0665) (added to group)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (482.2689, 580.7982) (added to group)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (472.1259, 618.6525) (added to group)
[03:35:49] [INFO] [BloodDecal] Blood puddle created at (708.2562, 964.895) (added to group)
[03:35:50] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[03:35:50] [INFO] [GrenadeBase] Grenade created at (660.8851, 923.7938) (frozen)
[03:35:50] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[03:35:50] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[03:35:50] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[03:35:50] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[03:35:50] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[03:35:50] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[03:35:50] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.155371, -0.987856), Speed: 542.6 (unfrozen)
[03:35:50] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[03:35:50] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[03:35:50] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[03:35:50] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (683.8289, 693.5748), Distance: 271
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (510.0273, 633.4845) (added to group)
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (463.1713, 592.3625) (added to group)
[03:35:50] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 4/6
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (530.4098, 612.5134) (added to group)
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (481.6091, 580.2377) (added to group)
[03:35:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (520.724, 624.5447) (added to group)
[03:35:50] [ENEMY] [Enemy4] Death animation completed
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (538.5865, 647.9905) (added to group)
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (481.6763, 656.7562) (added to group)
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (496.8502, 644.7352) (added to group)
[03:35:50] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[03:35:50] [INFO] [FragGrenade] Impact with Table1 ignored - grenade not armed yet (dist=82.2 < 80.0)
[03:35:50] [INFO] [GrenadeTimer] Impact detected with Table1 - EXPLODING!
[03:35:50] [INFO] [GrenadeTimer] EXPLODED at (671.9754, 842.29926)!
[03:35:50] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[03:35:50] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[03:35:50] [INFO] [ImpactEffects] spawn_blood_effect called at (654.6702, 963.308), dir=(-0.141567, 0.989929), lethal=true
[03:35:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:50] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:35:50] [INFO] [ImpactEffects] Wall found for blood splatter at (649.423, 1000) (dist=37 px)
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (649.423, 999) (added to group)
[03:35:50] [INFO] [ImpactEffects] Blood effect spawned at (654.6702, 963.308) (scale=1.5)
[03:35:50] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[03:35:50] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[03:35:50] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[03:35:50] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 7)
[03:35:50] [INFO] [DeathAnim] Started - Angle: 98.1 deg, Index: 18
[03:35:50] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.141567, 0.989929)
[03:35:50] [INFO] [GrenadeTimer] Damaged enemy at distance 122,2
[03:35:50] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[03:35:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(671.9754, 842.2993), source=NEUTRAL (FragGrenade), range=2938, listeners=7
[03:35:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[03:35:50] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (671.9754, 842.29926) (shadow-based wall occlusion)
[03:35:50] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(475.6929, 617.4933), source=NEUTRAL (null), range=900, listeners=7
[03:35:50] [ENEMY] [Enemy1] Heard CASING_KICK at (475.6929, 617.4933), intensity=0.29, dist=92
[03:35:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[03:35:50] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(610.319, 679.1914), source=NEUTRAL (null), range=900, listeners=7
[03:35:50] [ENEMY] [Enemy1] Heard CASING_KICK at (610.319, 679.1914), intensity=0.05, dist=215
[03:35:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[03:35:50] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(646.3955, 673.6016), source=NEUTRAL (null), range=900, listeners=7
[03:35:50] [ENEMY] [Enemy1] Heard CASING_KICK at (646.3955, 673.6016), intensity=0.04, dist=238
[03:35:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[03:35:50] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(682.5541, 650.5679), source=NEUTRAL (null), range=900, listeners=7
[03:35:50] [ENEMY] [Enemy1] Heard CASING_KICK at (682.5541, 650.5679), intensity=0.04, dist=255
[03:35:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[03:35:50] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(695.7499, 646.9168), source=NEUTRAL (null), range=900, listeners=7
[03:35:50] [ENEMY] [Enemy1] Heard CASING_KICK at (695.7499, 646.9168), intensity=0.04, dist=265
[03:35:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[03:35:50] [INFO] [GrenadeTimer] Scattered 5 casings
[03:35:50] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (490.7192, 682.9033) (added to group)
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (533.2256, 663.0948) (added to group)
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (495.6585, 591.7936) (added to group)
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (491.2599, 616.0458) (added to group)
[03:35:50] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (540.734, 626.6969) (added to group)
[03:35:50] [ENEMY] [Enemy2] Ragdoll activated
[03:35:50] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (516.041, 607.0419) (added to group)
[03:35:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9379, 689.5867), source=PLAYER (AssaultRifle), range=1469, listeners=7
[03:35:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (562.9697, 649.9257) (added to group)
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (523.2943, 613.5829) (added to group)
[03:35:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-131.3°, player=(895,692), corner_timer=-0.01
[03:35:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (500.8455, 605.6094) (added to group)
[03:35:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-133.6°, player=(895,693), corner_timer=0.30
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (556.7734, 628.8866) (added to group)
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (530.4402, 614.9738) (added to group)
[03:35:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.935, 697.0527), source=PLAYER (AssaultRifle), range=1469, listeners=7
[03:35:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (559.673, 635.9512) (added to group)
[03:35:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93787, 689.58673), shooter_id=786314561672, bullet_pos=(504.0074, 544.82245)
[03:35:50] [INFO] [Bullet] Using shooter_position, distance=417,81122
[03:35:50] [INFO] [Bullet] Distance to wall: 417,81122 (28,449535% of viewport)
[03:35:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (550.7418, 660.3834) (added to group)
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (613.7599, 715.3966) (added to group)
[03:35:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9351, 711.0353), source=PLAYER (AssaultRifle), range=1469, listeners=7
[03:35:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[03:35:50] [INFO] [BloodDecal] Blood puddle created at (598.7811, 665.9178) (added to group)
[03:35:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.935, 697.05273), shooter_id=786314561672, bullet_pos=(506.11984, 546.3662)
[03:35:50] [INFO] [Bullet] Using shooter_position, distance=417,92618
[03:35:50] [INFO] [Bullet] Distance to wall: 417,92618 (28,457361% of viewport)
[03:35:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.935, 735.437), source=PLAYER (AssaultRifle), range=1469, listeners=7
[03:35:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[03:35:50] [ENEMY] [Enemy3] Ragdoll activated
[03:35:50] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[03:35:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9351, 711.03534), shooter_id=786314561672, bullet_pos=(510.38083, 549.8406)
[03:35:50] [INFO] [Bullet] Using shooter_position, distance=417,89456
[03:35:50] [INFO] [Bullet] Distance to wall: 417,89456 (28,45521% of viewport)
[03:35:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.7°, current=173.5°, player=(895,747), corner_timer=-0.01
[03:35:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[03:35:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.8°, player=(895,751), corner_timer=0.30
[03:35:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[03:35:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.935, 778.0284), source=PLAYER (AssaultRifle), range=1469, listeners=7
[03:35:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=7
[03:35:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.935, 735.43695), shooter_id=786314561672, bullet_pos=(518.266, 556.97034)
[03:35:50] [INFO] [Bullet] Using shooter_position, distance=417,71307
[03:35:50] [INFO] [Bullet] Distance to wall: 417,71307 (28,44285% of viewport)
[03:35:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:50] [INFO] [Bullet] Starting wall penetration at (518.266, 556.97034)
[03:35:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,810343
[03:35:51] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:51] [INFO] [Bullet] Exiting penetration at (484.14838, 539.49365) after traveling 33,333332 pixels through wall
[03:35:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:51] [ENEMY] [Enemy1] Hit: dmg=1, hp=3/3->2/3
[03:35:51] [INFO] [ImpactEffects] spawn_blood_effect called at (459.3094, 526.77), dir=(1, 0), lethal=false
[03:35:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:51] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 526.77) (dist=40 px)
[03:35:51] [INFO] [BloodDecal] Blood puddle created at (499, 526.77) (added to group)
[03:35:51] [INFO] [ImpactEffects] Blood effect spawned at (459.3094, 526.77) (scale=1)
[03:35:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.7747, 815.8881), source=PLAYER (AssaultRifle), range=1469, listeners=7
[03:35:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=7
[03:35:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.935, 778.0284), shooter_id=786314561672, bullet_pos=(504.32498, 554.30646)
[03:35:51] [INFO] [Bullet] Using shooter_position, distance=451,0099
[03:35:51] [INFO] [Bullet] Distance to wall: 451,0099 (30,710093% of viewport)
[03:35:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:51] [INFO] [Bullet] Starting wall penetration at (504.32498, 554.30646)
[03:35:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,263332
[03:35:51] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:51] [INFO] [Bullet] Exiting penetration at (471.62457, 534.3033) after traveling 33,333336 pixels through wall
[03:35:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:51] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/3->1/3
[03:35:51] [INFO] [ImpactEffects] spawn_blood_effect called at (459.3094, 526.77), dir=(1, 0), lethal=false
[03:35:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:51] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 526.77) (dist=40 px)
[03:35:51] [INFO] [BloodDecal] Blood puddle created at (499, 526.77) (added to group)
[03:35:51] [INFO] [ImpactEffects] Blood effect spawned at (459.3094, 526.77) (scale=1)
[03:35:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=122.9°, player=(890,840), corner_timer=-0.01
[03:35:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[03:35:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=125.2°, player=(889,842), corner_timer=0.30
[03:35:51] [INFO] [ReplayManager] Recording frame 300 (4,4s): player_valid=True, enemies=10
[03:35:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.7747, 815.88806), shooter_id=786314561672, bullet_pos=(518.79785, 569.08185)
[03:35:51] [INFO] [Bullet] Using shooter_position, distance=450,58282
[03:35:51] [INFO] [Bullet] Distance to wall: 450,58282 (30,681015% of viewport)
[03:35:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[03:35:51] [INFO] [Player.Homing] Homing effect expired, charges remaining: 4/6
[03:35:51] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:51] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:51] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:51] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:51] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:51] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:51] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:51] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:51] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:51] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:51] [ENEMY] [Enemy1] Death animation component initialized
[03:35:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:51] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:51] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:51] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:51] [ENEMY] [Enemy2] Death animation component initialized
[03:35:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:51] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:51] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:51] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:51] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:51] [ENEMY] [Enemy3] Death animation component initialized
[03:35:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:51] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:51] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:51] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:51] [ENEMY] [Enemy4] Death animation component initialized
[03:35:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:51] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:51] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:51] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:51] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:51] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:51] [ENEMY] [Grenadier] Death animation component initialized
[03:35:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:51] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:51] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:51] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:51] [ENEMY] [Enemy6] Death animation component initialized
[03:35:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:51] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:51] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:51] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:51] [ENEMY] [Enemy7] Death animation component initialized
[03:35:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:51] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:51] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:51] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:51] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:51] [ENEMY] [Enemy8] Death animation component initialized
[03:35:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:51] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:51] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:51] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:51] [ENEMY] [Enemy9] Death animation component initialized
[03:35:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:51] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:51] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:51] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:51] [ENEMY] [Enemy10] Death animation component initialized
[03:35:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:51] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:51] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:51] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:51] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:51] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:51] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:35:51] [INFO] [Player.Weapon] Removed default MakarovPM
[03:35:51] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:35:51] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:51] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:51] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:51] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:51] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:51] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:51] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:51] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:51] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:51] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:51] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[03:35:51] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:51] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:51] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:51] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:51] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:51] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:51] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:51] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:51] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:51] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:51] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:51] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:51] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:51] [INFO] [BuildingLevel] Setting up weapon: m16
[03:35:51] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:35:51] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:51] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:51] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:51] [INFO] [ReplayManager] Replay data cleared
[03:35:51] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:51] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:51] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:51] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:51] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:51] [INFO] [ReplayManager] Enemies count: 10
[03:35:51] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:51] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:51] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:51] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:51] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:51] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:51] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:51] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:51] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:51] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:51] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:51] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:51] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:51] [INFO] [CinemaEffects] Found player node: Player
[03:35:51] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:51] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[03:35:51] [ENEMY] [Enemy1] Registered as sound listener
[03:35:51] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[03:35:51] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:51] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[03:35:51] [ENEMY] [Enemy2] Registered as sound listener
[03:35:51] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[03:35:51] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:51] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[03:35:51] [ENEMY] [Enemy3] Registered as sound listener
[03:35:51] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[03:35:51] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:51] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[03:35:51] [ENEMY] [Enemy4] Registered as sound listener
[03:35:51] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[03:35:51] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:51] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 12)
[03:35:51] [ENEMY] [Grenadier] Registered as sound listener
[03:35:51] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:51] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:51] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[03:35:51] [ENEMY] [Enemy6] Registered as sound listener
[03:35:51] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[03:35:51] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:51] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[03:35:51] [ENEMY] [Enemy7] Registered as sound listener
[03:35:51] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:35:51] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:51] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[03:35:51] [ENEMY] [Enemy8] Registered as sound listener
[03:35:51] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[03:35:51] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:51] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[03:35:51] [ENEMY] [Enemy9] Registered as sound listener
[03:35:51] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[03:35:51] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:51] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[03:35:51] [ENEMY] [Enemy10] Registered as sound listener
[03:35:51] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[03:35:51] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:51] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:51] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:51] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:51] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:51] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:51] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:51] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:51] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:51] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:51] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:51] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:35:51] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:35:51] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:51] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:51] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:51] [INFO] [LastChance] Found player: Player
[03:35:51] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:51] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:51] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:51] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:52] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:53] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.3°, current=-168.8°, player=(402,833), corner_timer=0.00
[03:35:53] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[03:35:53] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.0°, current=-9.3°, player=(394,826), corner_timer=0.00
[03:35:53] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[03:35:53] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[03:35:53] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:53] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:35:53] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-168.0°, current=168.8°, player=(379,810), corner_timer=0.00
[03:35:53] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(379,810), corner_timer=0.30
[03:35:53] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(379,810), corner_timer=0.30
[03:35:53] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[03:35:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(359.8644, 791.0019), source=PLAYER (AssaultRifle), range=1469, listeners=17
[03:35:53] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[03:35:53] [ENEMY] [Enemy1] Heard gunshot at (359.8644, 791.0019), source_type=0, intensity=0.01, distance=445
[03:35:53] [ENEMY] [Enemy2] Heard gunshot at (359.8644, 791.0019), source_type=0, intensity=0.04, distance=244
[03:35:53] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:53] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=82.3°, current=-33.8°, player=(359,791), corner_timer=0.00
[03:35:53] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=99.5°, current=168.8°, player=(359,791), corner_timer=0.00
[03:35:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(328.9116, 763.6938), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:53] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(328.9116, 763.6938), shooter_id=934943919978, bullet_pos=(498.8237, 714.10675)
[03:35:53] [INFO] [Bullet] Using shooter_position, distance=177
[03:35:53] [INFO] [Bullet] Distance to wall: 177 (12,052256% of viewport)
[03:35:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:53] [INFO] [Bullet] Starting wall penetration at (498.8237, 714.10675)
[03:35:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:35:53] [INFO] [Bullet] Exiting penetration at (543.62164, 701.03296) after traveling 41,666668 pixels through wall
[03:35:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(359.86444, 791.0019), shooter_id=934943919978, bullet_pos=(925.55023, 610.89215)
[03:35:53] [INFO] [Bullet] Using shooter_position, distance=593,6665
[03:35:53] [INFO] [Bullet] Distance to wall: 593,6665 (40,423847% of viewport)
[03:35:53] [INFO] [Bullet] Distance-based penetration chance: 99,505516%
[03:35:53] [INFO] [Bullet] Starting wall penetration at (925.55023, 610.89215)
[03:35:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,700012
[03:35:53] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:53] [INFO] [Bullet] Exiting penetration at (970.0174, 596.7342) after traveling 41,666668 pixels through wall
[03:35:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(312,750), corner_timer=-0.02
[03:35:53] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:53] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(312,750), corner_timer=-0.02
[03:35:53] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:35:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(310.5834, 749.218), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:53] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(310,749), corner_timer=0.30
[03:35:53] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(310,749), corner_timer=0.30
[03:35:53] [INFO] [EnemyGrenade] Unsafe throw distance (127 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:53] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:35:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(310.58337, 749.21796), shooter_id=934943919978, bullet_pos=(441.7307, 715.8191)
[03:35:53] [INFO] [Bullet] Using shooter_position, distance=135,33333
[03:35:53] [INFO] [Bullet] Distance to wall: 135,33333 (9,2150955% of viewport)
[03:35:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:53] [INFO] [Bullet] Starting wall penetration at (441.7307, 715.8191)
[03:35:53] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-176.9°, current=83.1°, player=(307,746), corner_timer=0.00
[03:35:53] [INFO] [EnemyGrenade] Unsafe throw distance (125 < 275 safe distance, blast=225, margin=50) - skipping throw
[03:35:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:35:53] [INFO] [Bullet] Exiting penetration at (486.95392, 704.30225) after traveling 41,66667 pixels through wall
[03:35:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(302.4603, 744.4526), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:53] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:53] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(302.4603, 744.4526), shooter_id=934943919978, bullet_pos=(433.86343, 712.07465)
[03:35:53] [INFO] [Bullet] Using shooter_position, distance=135,33334
[03:35:53] [INFO] [Bullet] Distance to wall: 135,33334 (9,215096% of viewport)
[03:35:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:53] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[03:35:53] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:35:53] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:35:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(302.4603, 744.4526), shooter_id=934943919978, bullet_pos=(743.1788, 807.66754)
[03:35:53] [INFO] [Bullet] Using shooter_position, distance=445,22903
[03:35:53] [INFO] [Bullet] Distance to wall: 445,22903 (30,316463% of viewport)
[03:35:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:53] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:53] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:53] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:53] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:53] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:53] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:53] [ENEMY] [Enemy1] Death animation component initialized
[03:35:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:53] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:53] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:53] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:53] [ENEMY] [Enemy2] Death animation component initialized
[03:35:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:53] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:53] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:53] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:53] [ENEMY] [Enemy3] Death animation component initialized
[03:35:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:53] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:53] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:53] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:53] [ENEMY] [Enemy4] Death animation component initialized
[03:35:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:53] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:53] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:53] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:53] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:53] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:53] [ENEMY] [Grenadier] Death animation component initialized
[03:35:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:53] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:53] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:53] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:53] [ENEMY] [Enemy6] Death animation component initialized
[03:35:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:53] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:53] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:53] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:53] [ENEMY] [Enemy7] Death animation component initialized
[03:35:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:53] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:53] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:53] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:53] [ENEMY] [Enemy8] Death animation component initialized
[03:35:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:53] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:53] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:53] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:53] [ENEMY] [Enemy9] Death animation component initialized
[03:35:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:53] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:53] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:53] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:53] [ENEMY] [Enemy10] Death animation component initialized
[03:35:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:53] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:53] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:53] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:53] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:35:53] [INFO] [Player.Weapon] Removed default MakarovPM
[03:35:53] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:35:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:53] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:53] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:53] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:53] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:53] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:53] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[03:35:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:53] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:53] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:53] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:53] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:53] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:53] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:53] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:53] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:53] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:53] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:53] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:53] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:53] [INFO] [BuildingLevel] Setting up weapon: m16
[03:35:53] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:35:53] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:53] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:53] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:53] [INFO] [ReplayManager] Replay data cleared
[03:35:53] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:53] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:53] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:53] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:53] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:53] [INFO] [ReplayManager] Enemies count: 10
[03:35:53] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:53] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:53] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:53] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:53] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:53] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:53] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:53] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:53] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:53] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:53] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:53] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:53] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:53] [INFO] [CinemaEffects] Found player node: Player
[03:35:53] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[03:35:53] [ENEMY] [Enemy1] Registered as sound listener
[03:35:53] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[03:35:53] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[03:35:53] [ENEMY] [Enemy2] Registered as sound listener
[03:35:53] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[03:35:53] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[03:35:53] [ENEMY] [Enemy3] Registered as sound listener
[03:35:53] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[03:35:53] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[03:35:53] [ENEMY] [Enemy4] Registered as sound listener
[03:35:53] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[03:35:53] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:53] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[03:35:53] [ENEMY] [Grenadier] Registered as sound listener
[03:35:53] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:53] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[03:35:53] [ENEMY] [Enemy6] Registered as sound listener
[03:35:53] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[03:35:53] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[03:35:53] [ENEMY] [Enemy7] Registered as sound listener
[03:35:53] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[03:35:53] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[03:35:53] [ENEMY] [Enemy8] Registered as sound listener
[03:35:53] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[03:35:53] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[03:35:53] [ENEMY] [Enemy9] Registered as sound listener
[03:35:53] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[03:35:53] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[03:35:53] [ENEMY] [Enemy10] Registered as sound listener
[03:35:53] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[03:35:53] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:54] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:54] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:54] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:54] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:54] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:54] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:54] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:54] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:54] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:54] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:35:54] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:35:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:54] [INFO] [LastChance] Found player: Player
[03:35:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:54] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:54] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:55] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:55] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:35:55] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.8°, current=-168.8°, player=(309,855), corner_timer=0.00
[03:35:55] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[03:35:55] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.3°, current=-8.9°, player=(309,844), corner_timer=0.00
[03:35:55] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[03:35:55] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[03:35:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:55] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:35:55] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-173.0°, current=-101.3°, player=(309,839), corner_timer=0.00
[03:35:55] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(309,839), corner_timer=0.30
[03:35:55] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(309,839), corner_timer=0.30
[03:35:55] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[03:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.9926, 813.1601), source=PLAYER (AssaultRifle), range=1469, listeners=20
[03:35:55] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[03:35:55] [ENEMY] [Enemy1] Heard gunshot at (309.9926, 813.1601), source_type=0, intensity=0.01, distance=463
[03:35:55] [ENEMY] [Enemy2] Heard gunshot at (309.9926, 813.1601), source_type=0, intensity=0.03, distance=278
[03:35:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:55] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=88.8°, current=33.8°, player=(309,813), corner_timer=0.00
[03:35:55] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=108.9°, current=-67.5°, player=(309,813), corner_timer=0.00
[03:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 813.1601), shooter_id=996096871948, bullet_pos=(500.29282, 709.87366)
[03:35:55] [INFO] [Bullet] Using shooter_position, distance=216,52313
[03:35:55] [INFO] [Bullet] Distance to wall: 216,52313 (14,74346% of viewport)
[03:35:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.9926, 800.2711), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:55] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[03:35:55] [INFO] [ImpactEffects] spawn_blood_effect called at (616.0282, 764.7591), dir=(1, 0), lethal=false
[03:35:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:55] [INFO] [ImpactEffects] Blood effect spawned at (616.0282, 764.7591) (scale=1)
[03:35:55] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=173.4°, current=180.0°, player=(309,800), corner_timer=0.00
[03:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(602.2518, 766.3387), source=ENEMY (Enemy3), range=1469, listeners=10
[03:35:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[03:35:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 800.2711), shooter_id=996096871948, bullet_pos=(480.43152, 711.4222)
[03:35:55] [INFO] [Bullet] Using shooter_position, distance=192,20708
[03:35:55] [INFO] [Bullet] Distance to wall: 192,20708 (13,087733% of viewport)
[03:35:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.5°, player=(309,800), corner_timer=-0.00
[03:35:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(309,800), corner_timer=-0.00
[03:35:55] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[03:35:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(309,800), corner_timer=0.30
[03:35:55] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(309,800), corner_timer=0.30
[03:35:55] [INFO] [LastChance] Threat detected: Bullet
[03:35:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:35:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:35:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.9926, 802.5778), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:35:55] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[03:35:55] [INFO] [ImpactEffects] spawn_blood_effect called at (581.0612, 768.8022), dir=(1, 0), lethal=true
[03:35:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:55] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:35:55] [INFO] [ImpactEffects] Blood effect spawned at (581.0612, 768.8022) (scale=1.5)
[03:35:55] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[03:35:55] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[03:35:55] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[03:35:55] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[03:35:55] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[03:35:55] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[03:35:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(335.8807, 810.5583), source=NEUTRAL (null), range=900, listeners=9
[03:35:55] [ENEMY] [Enemy1] Heard CASING_KICK at (335.8807, 810.5583), intensity=0.01, dist=410
[03:35:55] [ENEMY] [Enemy2] Heard CASING_KICK at (335.8807, 810.5583), intensity=0.04, dist=242
[03:35:55] [ENEMY] [Enemy4] Heard CASING_KICK at (335.8807, 810.5583), intensity=0.02, dist=379
[03:35:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(336.2092, 812.147), source=NEUTRAL (null), range=900, listeners=9
[03:35:55] [ENEMY] [Enemy1] Heard CASING_KICK at (336.2092, 812.147), intensity=0.01, dist=411
[03:35:55] [ENEMY] [Enemy2] Heard CASING_KICK at (336.2092, 812.147), intensity=0.04, dist=243
[03:35:55] [ENEMY] [Enemy4] Heard CASING_KICK at (336.2092, 812.147), intensity=0.02, dist=375
[03:35:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:35:56] [INFO] [Player] Spawning blood effect at (309.99258, 807.00446), dir=(1, 0), lethal=False (C#)
[03:35:56] [INFO] [ImpactEffects] spawn_blood_effect called at (309.9926, 807.0045), dir=(1, 0), lethal=false
[03:35:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:56] [INFO] [ImpactEffects] Blood effect spawned at (309.9926, 807.0045) (scale=1)
[03:35:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[03:35:56] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[03:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 802.57776), shooter_id=996096871948, bullet_pos=(469.66187, 713.03644)
[03:35:56] [INFO] [Bullet] Using shooter_position, distance=183,06262
[03:35:56] [INFO] [Bullet] Distance to wall: 183,06262 (12,465071% of viewport)
[03:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:56] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.9926, 818.6489), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:35:56] [ENEMY] [Enemy4] PURSUING corner check: angle -86.7°
[03:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 818.6489), shooter_id=996096871948, bullet_pos=(488.5963, 699.3895)
[03:35:56] [INFO] [Bullet] Using shooter_position, distance=214,76056
[03:35:56] [INFO] [Bullet] Distance to wall: 214,76056 (14,623443% of viewport)
[03:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 802.57776), shooter_id=996096871948, bullet_pos=(687.0549, 890.326)
[03:35:56] [INFO] [Bullet] Using shooter_position, distance=387,13785
[03:35:56] [INFO] [Bullet] Distance to wall: 387,13785 (26,36093% of viewport)
[03:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.9926, 842.5067), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (729.304, 791.2547) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (639.473, 756.5453) (added to group)
[03:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 802.57776), shooter_id=996096871948, bullet_pos=(635.83374, 1004.8064)
[03:35:56] [INFO] [Bullet] Using shooter_position, distance=383,4956
[03:35:56] [INFO] [Bullet] Distance to wall: 383,4956 (26,112923% of viewport)
[03:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:56] [INFO] [Bullet] Starting wall penetration at (635.83374, 1004.8064)
[03:35:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,056125
[03:35:56] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:56] [INFO] [Bullet] Exiting penetration at (623.9559, 1031.3536) after traveling 24,083334 pixels through wall
[03:35:56] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[03:35:56] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:35:56] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (736.1183, 796.4948) (added to group)
[03:35:56] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/3->2/3
[03:35:56] [INFO] [ImpactEffects] spawn_blood_effect called at (621.3387, 896.0126), dir=(1, 0), lethal=false
[03:35:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:56] [INFO] [ImpactEffects] Blood effect spawned at (621.3387, 896.0126) (scale=1)
[03:35:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(309,852), corner_timer=-0.01
[03:35:56] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[03:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 842.5067), shooter_id=996096871948, bullet_pos=(502.37408, 689.4361)
[03:35:56] [INFO] [Bullet] Using shooter_position, distance=245,84804
[03:35:56] [INFO] [Bullet] Distance to wall: 245,84804 (16,740246% of viewport)
[03:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.6°, player=(309,853), corner_timer=0.30
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (640.3014, 788.317) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (347.2213, 833.0557) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (395.9243, 850.4951) (added to group)
[03:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.9926, 856.1601), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (639.6724, 794.9131) (added to group)
[03:35:56] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[03:35:56] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-86.7°, current=-174.8°, player=(309,857), corner_timer=0.11
[03:35:56] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (656.3249, 767.7499) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (648.2828, 781.5168) (added to group)
[03:35:56] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[03:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 856.1601), shooter_id=996096871948, bullet_pos=(522.3237, 823.9484)
[03:35:56] [INFO] [Bullet] Using shooter_position, distance=214,76057
[03:35:56] [INFO] [Bullet] Distance to wall: 214,76057 (14,623443% of viewport)
[03:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:56] [INFO] [Bullet] Starting wall penetration at (522.3237, 823.9484)
[03:35:56] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/3->1/3
[03:35:56] [INFO] [ImpactEffects] spawn_blood_effect called at (596.0913, 896.532), dir=(1, 0), lethal=false
[03:35:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:56] [INFO] [ImpactEffects] Blood effect spawned at (596.0913, 896.532) (scale=1)
[03:35:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,71027
[03:35:56] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:56] [INFO] [Bullet] Exiting penetration at (559.6079, 832.7486) after traveling 33,333336 pixels through wall
[03:35:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (645.988, 816.3051) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (650.5755, 807.7327) (added to group)
[03:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.9926, 858.9334), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (794.4791, 797.6323) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (711.0024, 774.3644) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (658.2955, 821.2121) (added to group)
[03:35:56] [ENEMY] [Enemy3] Ragdoll activated
[03:35:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (401.166, 892.2796) (added to group)
[03:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 858.9334), shooter_id=996096871948, bullet_pos=(521.70233, 822.86316)
[03:35:56] [INFO] [Bullet] Using shooter_position, distance=214,76051
[03:35:56] [INFO] [Bullet] Distance to wall: 214,76051 (14,62344% of viewport)
[03:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:56] [INFO] [Bullet] Starting wall penetration at (521.70233, 822.86316)
[03:35:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,069714
[03:35:56] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:56] [INFO] [Bullet] Exiting penetration at (559.14044, 830.98334) after traveling 33,333332 pixels through wall
[03:35:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (652.173, 796.0508) (added to group)
[03:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.9926, 858.9334), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (430.4335, 822.2005) (added to group)
[03:35:56] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:35:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 858.9334), shooter_id=996096871948, bullet_pos=(521.3761, 820.99756)
[03:35:56] [INFO] [Bullet] Using shooter_position, distance=214,7606
[03:35:56] [INFO] [Bullet] Distance to wall: 214,7606 (14,6234455% of viewport)
[03:35:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:56] [INFO] [Bullet] Starting wall penetration at (521.3761, 820.99756)
[03:35:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.3°, player=(309,858), corner_timer=-0.01
[03:35:56] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[03:35:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,735332
[03:35:56] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:56] [INFO] [Bullet] Exiting penetration at (558.8844, 828.7873) after traveling 33,333332 pixels through wall
[03:35:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.5°, player=(309,858), corner_timer=0.30
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (421.9323, 827.6624) (added to group)
[03:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.9926, 858.9334), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (421.7206, 942.9846) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (402.1959, 878.7751) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (489.4924, 927.2483) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (665.6213, 915.8961) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (715.0059, 943.0864) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (455.5694, 944.4979) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (719.9646, 930.1533) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (727.3575, 925.2395) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (671.7733, 912.3227) (added to group)
[03:35:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.9926, 858.9334), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (475.7465, 863.5116) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (652.9156, 909.2492) (added to group)
[03:35:56] [INFO] [BloodDecal] Blood puddle created at (674.339, 968.496) (added to group)
[03:35:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.9926, 858.9334), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:35:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[03:35:57] [INFO] [BloodDecal] Blood puddle created at (766.3953, 947.2202) (added to group)
[03:35:57] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[03:35:57] [INFO] [BloodDecal] Blood puddle created at (758.7695, 989.8917) (added to group)
[03:35:57] [INFO] [BloodDecal] Blood puddle created at (686.9974, 954.0413) (added to group)
[03:35:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(309,858), corner_timer=-0.01
[03:35:57] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[03:35:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(309,858), corner_timer=0.30
[03:35:57] [INFO] [BloodDecal] Blood puddle created at (757.2234, 995.6718) (added to group)
[03:35:57] [INFO] [BloodDecal] Blood puddle created at (782.2037, 973.3567) (added to group)
[03:35:57] [INFO] [BloodDecal] Blood puddle created at (750.6282, 954.8376) (added to group)
[03:35:57] [INFO] [BloodDecal] Blood puddle created at (837.8386, 902.3957) (added to group)
[03:35:57] [INFO] [BloodDecal] Blood puddle created at (813.3531, 918.0992) (added to group)
[03:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 858.9334), shooter_id=996096871948, bullet_pos=(1364.2781, 394.61993)
[03:35:57] [INFO] [Bullet] Using shooter_position, distance=1152,0005
[03:35:57] [INFO] [Bullet] Distance to wall: 1152,0005 (78,44183% of viewport)
[03:35:57] [INFO] [Bullet] Distance-based penetration chance: 55,1512%
[03:35:57] [INFO] [Bullet] Penetration failed (distance roll)
[03:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 858.9334), shooter_id=996096871948, bullet_pos=(908.36, 599.9735)
[03:35:57] [INFO] [Bullet] Using shooter_position, distance=651,9999
[03:35:57] [INFO] [Bullet] Distance to wall: 651,9999 (44,395874% of viewport)
[03:35:57] [INFO] [Bullet] Distance-based penetration chance: 94,87148%
[03:35:57] [INFO] [Bullet] Starting wall penetration at (908.36, 599.9735)
[03:35:57] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:35:57] [INFO] [Bullet] Exiting penetration at (943.54004, 584.74835) after traveling 33,333336 pixels through wall
[03:35:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:57] [INFO] [BloodDecal] Blood puddle created at (771.0183, 950.4341) (added to group)
[03:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 858.9334), shooter_id=996096871948, bullet_pos=(1366.0962, 398.76904)
[03:35:57] [INFO] [Bullet] Using shooter_position, distance=1152,001
[03:35:57] [INFO] [Bullet] Distance to wall: 1152,001 (78,441864% of viewport)
[03:35:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(309,858), corner_timer=-0.01
[03:35:57] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[03:35:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.3°, player=(309,858), corner_timer=0.30
[03:35:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(309.99258, 858.9334), shooter_id=996096871948, bullet_pos=(1006.5837, 298.12997)
[03:35:57] [INFO] [Bullet] Using shooter_position, distance=894,2816
[03:35:57] [INFO] [Bullet] Distance to wall: 894,2816 (60,89328% of viewport)
[03:35:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:57] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:35:57] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:35:57] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:35:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:35:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:35:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:35:57] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:35:57] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:35:57] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:35:57] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:35:57] [ENEMY] [Enemy1] Death animation component initialized
[03:35:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:57] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:35:57] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:35:57] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:35:57] [ENEMY] [Enemy2] Death animation component initialized
[03:35:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:57] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:35:57] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:35:57] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:35:57] [ENEMY] [Enemy3] Death animation component initialized
[03:35:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:57] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:35:57] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:35:57] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:35:57] [ENEMY] [Enemy4] Death animation component initialized
[03:35:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:57] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:35:57] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:35:57] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:35:57] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:35:57] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:35:57] [ENEMY] [Grenadier] Death animation component initialized
[03:35:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:57] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:35:57] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:35:57] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:35:57] [ENEMY] [Enemy6] Death animation component initialized
[03:35:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:57] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:35:57] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:35:57] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:35:57] [ENEMY] [Enemy7] Death animation component initialized
[03:35:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:57] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:35:57] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:35:57] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:35:57] [ENEMY] [Enemy8] Death animation component initialized
[03:35:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:57] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:35:57] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:35:57] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:35:57] [ENEMY] [Enemy9] Death animation component initialized
[03:35:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:57] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:35:57] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:35:57] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:35:57] [ENEMY] [Enemy10] Death animation component initialized
[03:35:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:35:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:35:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:35:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:35:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:35:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:35:57] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:35:57] [INFO] [Player.Weapon] Removed default MakarovPM
[03:35:57] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:35:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:35:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:35:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:35:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:35:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:35:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:35:57] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:35:57] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:35:57] [INFO] [Player.Homing] Homing activation sound loaded
[03:35:57] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:35:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[03:35:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:35:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:35:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:35:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:35:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:35:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:35:57] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:35:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:35:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:35:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:35:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:35:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:35:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:35:57] [INFO] [BuildingLevel] Setting up weapon: m16
[03:35:57] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:35:57] [INFO] [ScoreManager] Level started with 10 enemies
[03:35:57] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:35:57] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:35:57] [INFO] [ReplayManager] Replay data cleared
[03:35:57] [INFO] [BuildingLevel] Previous replay data cleared
[03:35:57] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:35:57] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:35:57] [INFO] [ReplayManager] Level: BuildingLevel
[03:35:57] [INFO] [ReplayManager] Player: Player (valid: True)
[03:35:57] [INFO] [ReplayManager] Enemies count: 10
[03:35:57] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:35:57] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:35:57] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:35:57] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:35:57] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:35:57] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:35:57] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:35:57] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:35:57] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:35:57] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:35:57] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:35:57] [INFO] [BuildingLevel] Replay recording started successfully
[03:35:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:35:57] [INFO] [CinemaEffects] Found player node: Player
[03:35:57] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:35:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[03:35:57] [ENEMY] [Enemy1] Registered as sound listener
[03:35:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[03:35:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:35:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[03:35:57] [ENEMY] [Enemy2] Registered as sound listener
[03:35:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[03:35:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:35:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[03:35:57] [ENEMY] [Enemy3] Registered as sound listener
[03:35:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[03:35:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:35:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[03:35:57] [ENEMY] [Enemy4] Registered as sound listener
[03:35:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[03:35:57] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:35:57] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[03:35:57] [ENEMY] [Grenadier] Registered as sound listener
[03:35:57] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:35:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:35:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[03:35:57] [ENEMY] [Enemy6] Registered as sound listener
[03:35:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[03:35:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:35:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[03:35:57] [ENEMY] [Enemy7] Registered as sound listener
[03:35:57] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:35:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:35:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[03:35:57] [ENEMY] [Enemy8] Registered as sound listener
[03:35:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[03:35:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:35:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[03:35:57] [ENEMY] [Enemy9] Registered as sound listener
[03:35:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[03:35:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:35:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[03:35:57] [ENEMY] [Enemy10] Registered as sound listener
[03:35:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[03:35:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:35:58] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:35:58] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:58] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:58] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:58] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:58] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:58] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:58] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:58] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:35:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:35:58] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:35:58] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:35:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:35:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:35:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:35:58] [INFO] [LastChance] Found player: Player
[03:35:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:35:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:35:58] [INFO] [LastChance] Connected to player Died signal (C#)
[03:35:58] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:35:58] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:35:58] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:35:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(208.1898, 925.3289), source=PLAYER (AssaultRifle), range=1469, listeners=19
[03:35:59] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[03:35:59] [ENEMY] [Enemy2] Heard gunshot at (208.1898, 925.3289), source_type=0, intensity=0.01, distance=422
[03:35:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[03:35:59] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=117.1°, current=168.8°, player=(208,925), corner_timer=0.00
[03:35:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(180.2008, 899.9529), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[03:35:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:59] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:35:59] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/3->2/3
[03:35:59] [INFO] [ImpactEffects] spawn_blood_effect called at (378.8703, 587.0443), dir=(1, 0), lethal=false
[03:35:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:35:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:35:59] [INFO] [ImpactEffects] Blood effect spawned at (378.8703, 587.0443) (scale=1)
[03:35:59] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[03:35:59] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[03:35:59] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(175,897), corner_timer=0.30
[03:35:59] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(175,897), corner_timer=0.30
[03:35:59] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=103.3°, current=-33.8°, player=(171,894), corner_timer=0.00
[03:35:59] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[03:35:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(155.9721, 889.3997), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[03:35:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(180.2008, 899.95294), shooter_id=1086861608349, bullet_pos=(335.2497, 688.1283)
[03:35:59] [INFO] [Bullet] Using shooter_position, distance=262,50684
[03:35:59] [INFO] [Bullet] Distance to wall: 262,50684 (17,874573% of viewport)
[03:35:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:59] [INFO] [Bullet] Starting wall penetration at (335.2497, 688.1283)
[03:35:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,169987
[03:35:59] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:59] [INFO] [Bullet] Exiting penetration at (348.22006, 652.05646) after traveling 33,333332 pixels through wall
[03:35:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(155.97214, 889.39966), shooter_id=1086861608349, bullet_pos=(313.69254, 698.6241)
[03:35:59] [INFO] [Bullet] Using shooter_position, distance=247,52989
[03:35:59] [INFO] [Bullet] Distance to wall: 247,52989 (16,854767% of viewport)
[03:35:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:59] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[03:35:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(125.3211, 885.1258), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[03:35:59] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=130.0°, current=157.2°, player=(125,885), corner_timer=0.00
[03:35:59] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[03:35:59] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[03:35:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(125.32106, 885.1258), shooter_id=1086861608349, bullet_pos=(295.29694, 702.99365)
[03:35:59] [INFO] [Bullet] Using shooter_position, distance=249,1263
[03:35:59] [INFO] [Bullet] Distance to wall: 249,1263 (16,963469% of viewport)
[03:35:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:59] [INFO] [Bullet] Starting wall penetration at (295.29694, 702.99365)
[03:35:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,079702
[03:35:59] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:59] [INFO] [Bullet] Exiting penetration at (317.16013, 671.5064) after traveling 33,333332 pixels through wall
[03:35:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:35:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(155.97214, 889.39966), shooter_id=1086861608349, bullet_pos=(512.2703, 850.0984)
[03:35:59] [INFO] [Bullet] Using shooter_position, distance=358,45917
[03:35:59] [INFO] [Bullet] Distance to wall: 358,45917 (24,408146% of viewport)
[03:35:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:59] [INFO] [Bullet] Starting wall penetration at (512.2703, 850.0984)
[03:35:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(105.1933, 882.7267), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[03:35:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,448507
[03:35:59] [INFO] [Bullet] Body exited signal received for penetrating body
[03:35:59] [INFO] [Bullet] Exiting penetration at (545.32324, 854.2218) after traveling 28,333336 pixels through wall
[03:35:59] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:35:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.6°, player=(101,882), corner_timer=-0.01
[03:35:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:35:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.0°, player=(101,882), corner_timer=-0.01
[03:35:59] [ENEMY] [Enemy10] PATROL corner check: angle 14.9°
[03:35:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(100,882), corner_timer=0.30
[03:35:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.9°, current=53.9°, player=(100,882), corner_timer=0.30
[03:35:59] [INFO] [BloodDecal] Blood puddle created at (481.3314, 616.2469) (added to group)
[03:35:59] [ENEMY] [Enemy1] PURSUING corner check: angle -51.9°
[03:35:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(105.19331, 882.72675), shooter_id=1086861608349, bullet_pos=(283.51413, 707.83923)
[03:35:59] [INFO] [Bullet] Using shooter_position, distance=249,76779
[03:35:59] [INFO] [Bullet] Distance to wall: 249,76779 (17,007149% of viewport)
[03:35:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:35:59] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[03:35:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(96.36337, 881.6743), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:35:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[03:35:59] [INFO] [BloodDecal] Blood puddle created at (468.1227, 615.1733) (added to group)
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (447.7994, 646.0244) (added to group)
[03:36:00] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:36:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(96.363365, 881.67426), shooter_id=1086861608349, bullet_pos=(277.94543, 709.6013)
[03:36:00] [INFO] [Bullet] Using shooter_position, distance=250,16223
[03:36:00] [INFO] [Bullet] Distance to wall: 250,16223 (17,034006% of viewport)
[03:36:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (482.8127, 600.2161) (added to group)
[03:36:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(95.92117, 881.6216), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (528.795, 606.6925) (added to group)
[03:36:00] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[03:36:00] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[03:36:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:00] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[03:36:00] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=167.7°, current=180.0°, player=(95,881), corner_timer=0.00
[03:36:00] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[03:36:00] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=167.7°, current=-16.9°, player=(95,881), corner_timer=0.00
[03:36:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(95.921165, 881.6216), shooter_id=1086861608349, bullet_pos=(365.50803, 711.70575)
[03:36:00] [INFO] [Bullet] Using shooter_position, distance=318,6667
[03:36:00] [INFO] [Bullet] Distance to wall: 318,6667 (21,6986% of viewport)
[03:36:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.7°, player=(95,881), corner_timer=-0.01
[03:36:00] [ENEMY] [Enemy10] PATROL corner check: angle 7.5°
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (554.8341, 710.1351) (added to group)
[03:36:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.5°, current=16.7°, player=(95,881), corner_timer=0.30
[03:36:00] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[03:36:00] [INFO] [ImpactEffects] spawn_blood_effect called at (674.9867, 755.45), dir=(1, 0), lethal=false
[03:36:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:00] [INFO] [ImpactEffects] Blood effect spawned at (674.9867, 755.45) (scale=1)
[03:36:00] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=167.7°, current=180.0°, player=(95,881), corner_timer=0.00
[03:36:00] [ENEMY] [Enemy1] PURSUING corner check: angle 153.8°
[03:36:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(95.921165, 881.6216), shooter_id=1086861608349, bullet_pos=(497.71143, 826.36743)
[03:36:00] [INFO] [Bullet] Using shooter_position, distance=405,57172
[03:36:00] [INFO] [Bullet] Distance to wall: 405,57172 (27,616125% of viewport)
[03:36:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:00] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (560.5847, 719.7203) (added to group)
[03:36:00] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:00] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:36:00] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:36:00] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:36:00] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:00] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:36:00] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:36:00] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:36:00] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:36:00] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:36:00] [ENEMY] [Enemy1] Death animation component initialized
[03:36:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:00] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:36:00] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:36:00] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:36:00] [ENEMY] [Enemy2] Death animation component initialized
[03:36:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:00] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:36:00] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:36:00] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:36:00] [ENEMY] [Enemy3] Death animation component initialized
[03:36:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:00] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:36:00] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:36:00] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:36:00] [ENEMY] [Enemy4] Death animation component initialized
[03:36:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:00] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:36:00] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:36:00] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:36:00] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:36:00] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:36:00] [ENEMY] [Grenadier] Death animation component initialized
[03:36:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:00] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:36:00] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:36:00] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:36:00] [ENEMY] [Enemy6] Death animation component initialized
[03:36:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:00] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:36:00] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:36:00] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:36:00] [ENEMY] [Enemy7] Death animation component initialized
[03:36:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:00] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:36:00] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:36:00] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:36:00] [ENEMY] [Enemy8] Death animation component initialized
[03:36:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:00] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:36:00] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:36:00] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:36:00] [ENEMY] [Enemy9] Death animation component initialized
[03:36:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:00] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:36:00] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:36:00] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:36:00] [ENEMY] [Enemy10] Death animation component initialized
[03:36:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:00] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:36:00] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:36:00] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:36:00] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:36:00] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:36:00] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:36:00] [INFO] [Player.Weapon] Removed default MakarovPM
[03:36:00] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:36:00] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:36:00] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:36:00] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:36:00] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:36:00] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:36:00] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:36:00] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:36:00] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:36:00] [INFO] [Player.Homing] Homing activation sound loaded
[03:36:00] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:36:00] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[03:36:00] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:36:00] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:36:00] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:36:00] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:36:00] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:36:00] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:36:00] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:36:00] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:36:00] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:36:00] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:36:00] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:36:00] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:36:00] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:36:00] [INFO] [BuildingLevel] Setting up weapon: m16
[03:36:00] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:36:00] [INFO] [ScoreManager] Level started with 10 enemies
[03:36:00] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:36:00] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:36:00] [INFO] [ReplayManager] Replay data cleared
[03:36:00] [INFO] [BuildingLevel] Previous replay data cleared
[03:36:00] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:36:00] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:36:00] [INFO] [ReplayManager] Level: BuildingLevel
[03:36:00] [INFO] [ReplayManager] Player: Player (valid: True)
[03:36:00] [INFO] [ReplayManager] Enemies count: 10
[03:36:00] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:36:00] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:36:00] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:36:00] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:36:00] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:36:00] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:36:00] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:36:00] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:36:00] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:36:00] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:36:00] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:36:00] [INFO] [BuildingLevel] Replay recording started successfully
[03:36:00] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:36:00] [INFO] [CinemaEffects] Found player node: Player
[03:36:00] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:36:00] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[03:36:00] [ENEMY] [Enemy1] Registered as sound listener
[03:36:00] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[03:36:00] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:36:00] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[03:36:00] [ENEMY] [Enemy2] Registered as sound listener
[03:36:00] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[03:36:00] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:36:00] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[03:36:00] [ENEMY] [Enemy3] Registered as sound listener
[03:36:00] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[03:36:00] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:36:00] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[03:36:00] [ENEMY] [Enemy4] Registered as sound listener
[03:36:00] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[03:36:00] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:36:00] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[03:36:00] [ENEMY] [Grenadier] Registered as sound listener
[03:36:00] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:36:00] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:36:00] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[03:36:00] [ENEMY] [Enemy6] Registered as sound listener
[03:36:00] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[03:36:00] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:36:00] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[03:36:00] [ENEMY] [Enemy7] Registered as sound listener
[03:36:00] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:36:00] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:36:00] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[03:36:00] [ENEMY] [Enemy8] Registered as sound listener
[03:36:00] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[03:36:00] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:36:00] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[03:36:00] [ENEMY] [Enemy9] Registered as sound listener
[03:36:00] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[03:36:00] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:36:00] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[03:36:00] [ENEMY] [Enemy10] Registered as sound listener
[03:36:00] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[03:36:00] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:36:00] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:36:00] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:00] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:00] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:00] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:00] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:00] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:00] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:00] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:00] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:36:00] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:36:00] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:36:00] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:36:00] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:36:00] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:36:00] [INFO] [LastChance] Found player: Player
[03:36:00] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:36:00] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:36:00] [INFO] [LastChance] Connected to player Died signal (C#)
[03:36:00] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (802.3646, 770.1382) (added to group)
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (747.2739, 756.133) (added to group)
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (772.4039, 774.7518) (added to group)
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (816.4007, 813.7894) (added to group)
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (803.5782, 794.6103) (added to group)
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (822.4802, 839.4908) (added to group)
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (866.8527, 769.8815) (added to group)
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (794.0676, 792.699) (added to group)
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (816.2399, 807.0981) (added to group)
[03:36:00] [INFO] [BloodDecal] Blood puddle created at (817.6161, 799.2903) (added to group)
[03:36:01] [INFO] [BloodDecal] Blood puddle created at (797.6719, 797.6478) (added to group)
[03:36:01] [INFO] [BloodDecal] Blood puddle created at (816.6461, 841.437) (added to group)
[03:36:01] [INFO] [BloodDecal] Blood puddle created at (834.6344, 760.6069) (added to group)
[03:36:01] [INFO] [BloodDecal] Blood puddle created at (848.8899, 824.7388) (added to group)
[03:36:01] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:36:01] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(254.8588, 872.9965), source=PLAYER (AssaultRifle), range=1469, listeners=20
[03:36:02] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[03:36:02] [ENEMY] [Enemy2] Heard gunshot at (254.8588, 872.9965), source_type=0, intensity=0.02, distance=354
[03:36:02] [ENEMY] [Enemy3] Heard gunshot at (254.8588, 872.9965), source_type=0, intensity=0.01, distance=462
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[03:36:02] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=114.2°, current=-101.3°, player=(254,872), corner_timer=0.00
[03:36:02] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=COMBAT, target=164.6°, current=123.7°, player=(254,872), corner_timer=0.00
[03:36:02] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[03:36:02] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[03:36:02] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[03:36:02] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:02] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:36:02] [ENEMY] [Enemy1] Memory: medium confidence (0.63) - transitioning to PURSUING
[03:36:02] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[03:36:02] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-176.4°, current=-67.5°, player=(246,865), corner_timer=0.00
[03:36:02] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(246,865), corner_timer=0.30
[03:36:02] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(246,865), corner_timer=0.30
[03:36:02] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=96.4°, current=-33.8°, player=(242,862), corner_timer=0.00
[03:36:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(254.85878, 872.9965), shooter_id=1153114834399, bullet_pos=(365.5576, 689.11237)
[03:36:02] [INFO] [Bullet] Using shooter_position, distance=214,63367
[03:36:02] [INFO] [Bullet] Distance to wall: 214,63367 (14,614801% of viewport)
[03:36:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:02] [INFO] [Bullet] Starting wall penetration at (365.5576, 689.11237)
[03:36:02] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[03:36:02] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[03:36:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,452827
[03:36:02] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:02] [INFO] [Bullet] Exiting penetration at (374.8228, 643.3859) after traveling 41,666668 pixels through wall
[03:36:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(228.4119, 850.8821), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:36:02] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.8965, 757.5067), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[03:36:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(604.38354, 779.15564), shooter_id=1149759392920, bullet_pos=(522.82825, 796.2781)
[03:36:02] [INFO] [Bullet] Using shooter_position, distance=83,333336
[03:36:02] [INFO] [Bullet] Distance to wall: 83,333336 (5,67432% of viewport)
[03:36:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:02] [INFO] [Bullet] Starting wall penetration at (522.82825, 796.2781)
[03:36:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(228.41187, 850.88214), shooter_id=1153114834399, bullet_pos=(334.38312, 711.6664)
[03:36:02] [INFO] [Bullet] Using shooter_position, distance=174,95981
[03:36:02] [INFO] [Bullet] Distance to wall: 174,95981 (11,913336% of viewport)
[03:36:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:02] [INFO] [Bullet] Starting wall penetration at (334.38312, 711.6664)
[03:36:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,463396
[03:36:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,340714
[03:36:02] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:02] [INFO] [Bullet] Exiting penetration at (477.1573, 805.86664) after traveling 41,666668 pixels through wall
[03:36:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:02] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:02] [INFO] [Bullet] Exiting penetration at (349.84512, 667.6659) after traveling 41,66667 pixels through wall
[03:36:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(211.6097, 837.6115), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:36:02] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.253, 764.6342), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(652.7073, 743.6955), source=NEUTRAL (null), range=900, listeners=10
[03:36:02] [ENEMY] [Enemy1] Heard CASING_KICK at (652.7073, 743.6955), intensity=0.01, dist=469
[03:36:02] [ENEMY] [Enemy2] Heard CASING_KICK at (652.7073, 743.6955), intensity=0.02, dist=319
[03:36:02] [ENEMY] [Enemy3] Heard CASING_KICK at (652.7073, 743.6955), intensity=1.00, dist=38
[03:36:02] [ENEMY] [Enemy4] Heard CASING_KICK at (652.7073, 743.6955), intensity=0.07, dist=192
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:36:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(211.60966, 837.61145), shooter_id=1153114834399, bullet_pos=(322.33838, 702.1489)
[03:36:02] [INFO] [Bullet] Using shooter_position, distance=174,95984
[03:36:02] [INFO] [Bullet] Distance to wall: 174,95984 (11,913338% of viewport)
[03:36:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:02] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[03:36:02] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=125.1°, current=69.7°, player=(206,833), corner_timer=0.00
[03:36:02] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[03:36:02] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[03:36:02] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:36:02] [INFO] [LastChance] Threat detected: @Area2D@5135
[03:36:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:36:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:02] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(595.4243, 770.7485), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[03:36:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(205,832), corner_timer=-0.02
[03:36:02] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(205,832), corner_timer=-0.02
[03:36:02] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(205.4864, 832.7751), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(611.3129, 754.1088), source=NEUTRAL (null), range=900, listeners=10
[03:36:02] [ENEMY] [Enemy1] Heard CASING_KICK at (611.3129, 754.1088), intensity=0.01, dist=417
[03:36:02] [ENEMY] [Enemy2] Heard CASING_KICK at (611.3129, 754.1088), intensity=0.03, dist=288
[03:36:02] [ENEMY] [Enemy3] Heard CASING_KICK at (611.3129, 754.1088), intensity=1.00, dist=31
[03:36:02] [ENEMY] [Enemy4] Heard CASING_KICK at (611.3129, 754.1088), intensity=0.07, dist=187
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:36:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(205,832), corner_timer=0.30
[03:36:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(205,832), corner_timer=0.30
[03:36:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(211.60966, 837.61145), shooter_id=1153114834399, bullet_pos=(507.75632, 803.9148)
[03:36:02] [INFO] [Bullet] Using shooter_position, distance=298,05756
[03:36:02] [INFO] [Bullet] Distance to wall: 298,05756 (20,295288% of viewport)
[03:36:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:02] [INFO] [Bullet] Starting wall penetration at (507.75632, 803.9148)
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(611.2413, 752.3605), source=NEUTRAL (null), range=900, listeners=10
[03:36:02] [ENEMY] [Enemy1] Heard CASING_KICK at (611.2413, 752.3605), intensity=0.01, dist=411
[03:36:02] [ENEMY] [Enemy2] Heard CASING_KICK at (611.2413, 752.3605), intensity=0.03, dist=287
[03:36:02] [ENEMY] [Enemy3] Heard CASING_KICK at (611.2413, 752.3605), intensity=1.00, dist=36
[03:36:02] [ENEMY] [Enemy4] Heard CASING_KICK at (611.2413, 752.3605), intensity=0.07, dist=186
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:36:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,107243
[03:36:02] [INFO] [Player] Spawning blood effect at (205.48636, 832.7751), dir=(1, 0), lethal=False (C#)
[03:36:02] [INFO] [ImpactEffects] spawn_blood_effect called at (205.4864, 832.7751), dir=(1, 0), lethal=false
[03:36:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:02] [INFO] [ImpactEffects] Blood effect spawned at (205.4864, 832.7751) (scale=1)
[03:36:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[03:36:02] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[03:36:02] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:02] [INFO] [Bullet] Exiting penetration at (548.0999, 805.5746) after traveling 35,41667 pixels through wall
[03:36:02] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:36:02] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[03:36:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(316.10953, 696.97406)
[03:36:02] [INFO] [Bullet] Using shooter_position, distance=175,15536
[03:36:02] [INFO] [Bullet] Distance to wall: 175,15536 (11,926651% of viewport)
[03:36:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:02] [INFO] [Bullet] Starting wall penetration at (316.10953, 696.97406)
[03:36:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,497414
[03:36:02] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:02] [INFO] [Bullet] Exiting penetration at (338.0602, 655.7922) after traveling 41,666668 pixels through wall
[03:36:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:02] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/3->2/3
[03:36:02] [INFO] [ImpactEffects] spawn_blood_effect called at (348.1598, 636.8442), dir=(1, 0), lethal=false
[03:36:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:02] [INFO] [ImpactEffects] Blood effect spawned at (348.1598, 636.8442) (scale=1)
[03:36:02] [INFO] [LastChance] Threat detected: @Area2D@5139
[03:36:02] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[03:36:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(205.4864, 832.7751), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[03:36:02] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.9313, 789.4655), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[03:36:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(511.68475, 805.0215), shooter_id=1149759392920, bullet_pos=(511.68475, 805.0215)
[03:36:02] [INFO] [Bullet] Using shooter_position, distance=0
[03:36:02] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[03:36:02] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[03:36:02] [INFO] [Bullet] Starting wall penetration at (511.68475, 805.0215)
[03:36:02] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(575.1277, 759.1215), source=NEUTRAL (null), range=900, listeners=10
[03:36:02] [ENEMY] [Enemy1] Heard CASING_KICK at (575.1277, 759.1215), intensity=0.02, dist=370
[03:36:02] [ENEMY] [Enemy2] Heard CASING_KICK at (575.1277, 759.1215), intensity=0.04, dist=258
[03:36:02] [ENEMY] [Enemy3] Heard CASING_KICK at (575.1277, 759.1215), intensity=1.00, dist=35
[03:36:02] [ENEMY] [Enemy4] Heard CASING_KICK at (575.1277, 759.1215), intensity=0.07, dist=184
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:36:02] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:36:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,570976
[03:36:02] [INFO] [Player] Spawning blood effect at (205.48636, 832.7751), dir=(1, 0), lethal=False (C#)
[03:36:02] [INFO] [ImpactEffects] spawn_blood_effect called at (205.4864, 832.7751), dir=(1, 0), lethal=false
[03:36:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:02] [INFO] [ImpactEffects] Blood effect spawned at (205.4864, 832.7751) (scale=1)
[03:36:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[03:36:02] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[03:36:02] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:02] [INFO] [Bullet] Exiting penetration at (473.60437, 809.4181) after traveling 33,33334 pixels through wall
[03:36:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:02] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=124.4°, current=174.4°, player=(205,832), corner_timer=0.00
[03:36:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(320.04932, 689.4356)
[03:36:02] [INFO] [Bullet] Using shooter_position, distance=183,49625
[03:36:02] [INFO] [Bullet] Distance to wall: 183,49625 (12,4945965% of viewport)
[03:36:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:02] [INFO] [Bullet] Starting wall penetration at (320.04932, 689.4356)
[03:36:02] [ENEMY] [Enemy4] PURSUING corner check: angle -93.9°
[03:36:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,70548
[03:36:02] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:02] [INFO] [Bullet] Exiting penetration at (338.11942, 655.6286) after traveling 33,333336 pixels through wall
[03:36:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:02] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/3->1/3
[03:36:02] [INFO] [ImpactEffects] spawn_blood_effect called at (348.1598, 636.8442), dir=(1, 0), lethal=false
[03:36:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:02] [INFO] [ImpactEffects] Blood effect spawned at (348.1598, 636.8442) (scale=1)
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(205.4864, 832.7751), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[03:36:02] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[03:36:02] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[03:36:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(344.47565, 710.17645)
[03:36:02] [INFO] [Bullet] Using shooter_position, distance=185,33333
[03:36:02] [INFO] [Bullet] Distance to wall: 185,33333 (12,619688% of viewport)
[03:36:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:02] [INFO] [Bullet] Starting wall penetration at (344.47565, 710.17645)
[03:36:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,8089685
[03:36:02] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[03:36:02] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:02] [INFO] [Bullet] Exiting penetration at (398.2215, 662.76874) after traveling 66,666664 pixels through wall
[03:36:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:02] [INFO] [BloodDecal] Blood puddle created at (277.2425, 854.0104) (added to group)
[03:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(205.4864, 832.7751), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[03:36:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(205,832), corner_timer=-0.01
[03:36:02] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[03:36:02] [INFO] [BloodDecal] Blood puddle created at (419.092, 661.8694) (added to group)
[03:36:02] [INFO] [BloodDecal] Blood puddle created at (401.2268, 673.1443) (added to group)
[03:36:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(205,832), corner_timer=0.30
[03:36:02] [ENEMY] [Enemy1] PURSUING corner check: angle 153.5°
[03:36:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(343.96948, 709.605)
[03:36:02] [INFO] [Bullet] Using shooter_position, distance=185,33336
[03:36:02] [INFO] [Bullet] Distance to wall: 185,33336 (12,619689% of viewport)
[03:36:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:02] [INFO] [BloodDecal] Blood puddle created at (400.5152, 655.3068) (added to group)
[03:36:02] [INFO] [BloodDecal] Blood puddle created at (265.5945, 896.0315) (added to group)
[03:36:02] [INFO] [BloodDecal] Blood puddle created at (262.7101, 875.5349) (added to group)
[03:36:02] [INFO] [BloodDecal] Blood puddle created at (461.5804, 685.1815) (added to group)
[03:36:02] [INFO] [BloodDecal] Blood puddle created at (258.7032, 851.2188) (added to group)
[03:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(205.4864, 832.7751), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (307.2546, 903.0067) (added to group)
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (257.2591, 872.4831) (added to group)
[03:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(343.67972, 709.2799)
[03:36:03] [INFO] [Bullet] Using shooter_position, distance=185,33337
[03:36:03] [INFO] [Bullet] Distance to wall: 185,33337 (12,619691% of viewport)
[03:36:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(514.9495, 865.9226)
[03:36:03] [INFO] [Bullet] Using shooter_position, distance=311,23337
[03:36:03] [INFO] [Bullet] Distance to wall: 311,23337 (21,192451% of viewport)
[03:36:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (291.0396, 908.7457) (added to group)
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (460.3296, 676.0572) (added to group)
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (269.3373, 886.0275) (added to group)
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (407.6952, 641.8604) (added to group)
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (326.4061, 870.1541) (added to group)
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (319.4854, 815.1564) (added to group)
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (414.0576, 673.9077) (added to group)
[03:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(205.4864, 832.7751), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (336.7209, 883.0927) (added to group)
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (351.5679, 934.9078) (added to group)
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (311.1388, 883.0527) (added to group)
[03:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(498.88293, 840.6434)
[03:36:03] [INFO] [Bullet] Using shooter_position, distance=293,50204
[03:36:03] [INFO] [Bullet] Distance to wall: 293,50204 (19,985094% of viewport)
[03:36:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(343.5158, 709.0967)
[03:36:03] [INFO] [Bullet] Using shooter_position, distance=185,33342
[03:36:03] [INFO] [Bullet] Distance to wall: 185,33342 (12,619694% of viewport)
[03:36:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:03] [INFO] [Bullet] Starting wall penetration at (343.5158, 709.0967)
[03:36:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,719783
[03:36:03] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:03] [INFO] [Bullet] Exiting penetration at (372.06506, 683.5157) after traveling 33,333336 pixels through wall
[03:36:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (307.5073, 918.4033) (added to group)
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (368.3917, 928.19) (added to group)
[03:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(205.4864, 832.7751), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[03:36:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(205,832), corner_timer=-0.01
[03:36:03] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (456.1379, 684.6293) (added to group)
[03:36:03] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[03:36:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.2°, player=(205,832), corner_timer=0.30
[03:36:03] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-93.9°, current=-169.7°, player=(205,832), corner_timer=0.02
[03:36:03] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (343.7767, 934.9213) (added to group)
[03:36:03] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[03:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(343.42554, 708.99615)
[03:36:03] [INFO] [Bullet] Using shooter_position, distance=185,33333
[03:36:03] [INFO] [Bullet] Distance to wall: 185,33333 (12,619688% of viewport)
[03:36:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:03] [INFO] [Bullet] Starting wall penetration at (343.42554, 708.99615)
[03:36:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,8959026
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (312.2901, 915.9942) (added to group)
[03:36:03] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:03] [INFO] [Bullet] Exiting penetration at (371.95612, 683.3944) after traveling 33,333336 pixels through wall
[03:36:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (359.7204, 847.9086) (added to group)
[03:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(205.4864, 832.7751), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (504.2279, 673.6579) (added to group)
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (490.8893, 644.6315) (added to group)
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (382.2302, 957.8982) (added to group)
[03:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(343.37918, 708.94434)
[03:36:03] [INFO] [Bullet] Using shooter_position, distance=185,33344
[03:36:03] [INFO] [Bullet] Distance to wall: 185,33344 (12,619695% of viewport)
[03:36:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:03] [INFO] [BloodDecal] Blood puddle created at (389.8711, 954.6796) (added to group)
[03:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(56.16565, 1333.7588)
[03:36:03] [INFO] [Bullet] Using shooter_position, distance=522,7632
[03:36:03] [INFO] [Bullet] Distance to wall: 522,7632 (35,59591% of viewport)
[03:36:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(205.4864, 832.7751), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[03:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(59.980286, 1146.2754)
[03:36:03] [INFO] [Bullet] Using shooter_position, distance=345,62183
[03:36:03] [INFO] [Bullet] Distance to wall: 345,62183 (23,534027% of viewport)
[03:36:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(343.35785, 708.92084)
[03:36:03] [INFO] [Bullet] Using shooter_position, distance=185,33327
[03:36:03] [INFO] [Bullet] Distance to wall: 185,33327 (12,619683% of viewport)
[03:36:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(511.00827, 907.6919)
[03:36:03] [INFO] [Bullet] Using shooter_position, distance=314,573
[03:36:03] [INFO] [Bullet] Distance to wall: 314,573 (21,419855% of viewport)
[03:36:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:03] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[03:36:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(205,832), corner_timer=-0.01
[03:36:03] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[03:36:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.9°, player=(205,832), corner_timer=0.30
[03:36:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.48636, 832.7751), shooter_id=1153114834399, bullet_pos=(497.11957, 841.96893)
[03:36:03] [INFO] [Bullet] Using shooter_position, distance=291,77808
[03:36:03] [INFO] [Bullet] Distance to wall: 291,77808 (19,867706% of viewport)
[03:36:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:03] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:36:03] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:36:03] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:36:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:36:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:36:03] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:36:03] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:36:03] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:36:03] [ENEMY] [Enemy1] Death animation component initialized
[03:36:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:03] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:36:03] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:36:03] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:36:03] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:03] [ENEMY] [Enemy2] Death animation component initialized
[03:36:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:03] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:36:03] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:36:03] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:36:03] [ENEMY] [Enemy3] Death animation component initialized
[03:36:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:03] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:36:03] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:36:03] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:36:03] [ENEMY] [Enemy4] Death animation component initialized
[03:36:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:03] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:36:03] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:36:03] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:36:03] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:36:03] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:36:03] [ENEMY] [Grenadier] Death animation component initialized
[03:36:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:03] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:36:03] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:36:03] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:36:03] [ENEMY] [Enemy6] Death animation component initialized
[03:36:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:03] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:36:03] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:36:03] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:36:03] [ENEMY] [Enemy7] Death animation component initialized
[03:36:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:03] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:36:03] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:36:03] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:36:03] [ENEMY] [Enemy8] Death animation component initialized
[03:36:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:03] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:36:03] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:36:03] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:36:03] [ENEMY] [Enemy9] Death animation component initialized
[03:36:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:03] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:36:03] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:36:03] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:36:03] [ENEMY] [Enemy10] Death animation component initialized
[03:36:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:03] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:36:03] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:36:03] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:36:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:36:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:36:03] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:36:03] [INFO] [Player.Weapon] Removed default MakarovPM
[03:36:03] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:36:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:36:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:36:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:36:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:36:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:36:03] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:36:03] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:36:03] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:36:03] [INFO] [Player.Homing] Homing activation sound loaded
[03:36:03] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:36:03] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[03:36:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:36:03] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:36:03] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:36:03] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:36:03] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:36:03] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:36:03] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:36:03] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:36:03] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:36:03] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:36:03] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:36:03] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:36:03] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:36:03] [INFO] [BuildingLevel] Setting up weapon: m16
[03:36:03] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:36:03] [INFO] [ScoreManager] Level started with 10 enemies
[03:36:03] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:36:03] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:36:03] [INFO] [ReplayManager] Replay data cleared
[03:36:03] [INFO] [BuildingLevel] Previous replay data cleared
[03:36:03] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:36:03] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:36:03] [INFO] [ReplayManager] Level: BuildingLevel
[03:36:03] [INFO] [ReplayManager] Player: Player (valid: True)
[03:36:03] [INFO] [ReplayManager] Enemies count: 10
[03:36:03] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:36:03] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:36:03] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:36:03] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:36:03] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:36:03] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:36:03] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:36:03] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:36:03] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:36:03] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:36:03] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:36:03] [INFO] [BuildingLevel] Replay recording started successfully
[03:36:03] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:36:03] [INFO] [CinemaEffects] Found player node: Player
[03:36:03] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:36:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[03:36:03] [ENEMY] [Enemy1] Registered as sound listener
[03:36:03] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[03:36:03] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:36:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[03:36:03] [ENEMY] [Enemy2] Registered as sound listener
[03:36:03] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[03:36:03] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:36:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[03:36:03] [ENEMY] [Enemy3] Registered as sound listener
[03:36:03] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[03:36:03] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:36:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[03:36:03] [ENEMY] [Enemy4] Registered as sound listener
[03:36:03] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[03:36:03] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:36:03] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[03:36:03] [ENEMY] [Grenadier] Registered as sound listener
[03:36:03] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:36:03] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:36:03] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[03:36:03] [ENEMY] [Enemy6] Registered as sound listener
[03:36:03] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[03:36:03] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:36:03] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[03:36:03] [ENEMY] [Enemy7] Registered as sound listener
[03:36:03] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[03:36:03] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:36:03] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[03:36:03] [ENEMY] [Enemy8] Registered as sound listener
[03:36:03] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[03:36:03] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:36:03] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[03:36:03] [ENEMY] [Enemy9] Registered as sound listener
[03:36:03] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[03:36:03] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:36:03] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[03:36:03] [ENEMY] [Enemy10] Registered as sound listener
[03:36:03] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[03:36:03] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:36:04] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:36:04] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:04] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:04] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:04] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:04] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:04] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:04] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:04] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:36:04] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:36:04] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:36:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:36:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:36:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:36:04] [INFO] [LastChance] Found player: Player
[03:36:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:36:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:36:04] [INFO] [LastChance] Connected to player Died signal (C#)
[03:36:04] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:36:04] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:36:04] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:36:05] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:05] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:36:05] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(266,857), corner_timer=0.30
[03:36:05] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(266,857), corner_timer=0.30
[03:36:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(254.8588, 845.4962), source=PLAYER (AssaultRifle), range=1469, listeners=20
[03:36:05] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[03:36:05] [ENEMY] [Enemy1] Heard gunshot at (254.8588, 845.4962), source_type=0, intensity=0.01, distance=498
[03:36:05] [ENEMY] [Enemy2] Heard gunshot at (254.8588, 845.4962), source_type=0, intensity=0.02, distance=329
[03:36:05] [ENEMY] [Enemy3] Heard gunshot at (254.8588, 845.4962), source_type=0, intensity=0.01, distance=455
[03:36:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:36:05] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=95.2°, current=-33.8°, player=(254,845), corner_timer=0.00
[03:36:05] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=116.2°, current=-101.3°, player=(254,845), corner_timer=0.00
[03:36:05] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=167.9°, current=-78.7°, player=(254,845), corner_timer=0.00
[03:36:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(254.85878, 845.4962), shooter_id=1247922883641, bullet_pos=(368.33127, 712.3236)
[03:36:05] [INFO] [Bullet] Using shooter_position, distance=174,95985
[03:36:05] [INFO] [Bullet] Distance to wall: 174,95985 (11,913339% of viewport)
[03:36:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(226.8698, 820.1203), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:36:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(226.86981, 820.1203), shooter_id=1247922883641, bullet_pos=(353.98315, 699.89905)
[03:36:05] [INFO] [Bullet] Using shooter_position, distance=174,95985
[03:36:05] [INFO] [Bullet] Distance to wall: 174,95985 (11,913339% of viewport)
[03:36:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:05] [INFO] [Bullet] Starting wall penetration at (353.98315, 699.89905)
[03:36:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,95222
[03:36:05] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:05] [INFO] [Bullet] Exiting penetration at (375.61563, 658.5939) after traveling 41,666668 pixels through wall
[03:36:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:05] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=173.7°, current=126.2°, player=(198,808), corner_timer=0.00
[03:36:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(254.85878, 845.4962), shooter_id=1247922883641, bullet_pos=(702.0659, 845.5855)
[03:36:05] [INFO] [Bullet] Using shooter_position, distance=447,20715
[03:36:05] [INFO] [Bullet] Distance to wall: 447,20715 (30,451159% of viewport)
[03:36:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(188.1034, 807.4852), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[03:36:05] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:36:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(182,807), corner_timer=-0.02
[03:36:05] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(182,807), corner_timer=-0.02
[03:36:05] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:36:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(177,807), corner_timer=0.30
[03:36:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(177,807), corner_timer=0.30
[03:36:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(188.10344, 807.4852), shooter_id=1247922883641, bullet_pos=(320.0044, 692.5371)
[03:36:05] [INFO] [Bullet] Using shooter_position, distance=174,9598
[03:36:05] [INFO] [Bullet] Distance to wall: 174,9598 (11,913335% of viewport)
[03:36:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:05] [INFO] [Bullet] Starting wall penetration at (320.0044, 692.5371)
[03:36:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,055958
[03:36:05] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:05] [INFO] [Bullet] Exiting penetration at (343.30005, 652.1466) after traveling 41,666668 pixels through wall
[03:36:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:05] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[03:36:05] [INFO] [ImpactEffects] spawn_blood_effect called at (341.8979, 632.4481), dir=(1, 0), lethal=false
[03:36:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:05] [INFO] [ImpactEffects] Blood effect spawned at (341.8979, 632.4481) (scale=1)
[03:36:05] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[03:36:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.7238, 764.1537), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:05] [ENEMY] [Enemy4] Heard gunshot at (599.7238, 764.1537), source_type=1, intensity=0.04, distance=242
[03:36:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[03:36:05] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-171.7°, current=-67.5°, player=(166,807), corner_timer=0.00
[03:36:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(157.7392, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[03:36:05] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[03:36:06] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:36:06] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[03:36:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:36:06] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(157.73918, 807.2917), shooter_id=1247922883641, bullet_pos=(349.21103, 701.681)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=218,6666
[03:36:06] [INFO] [Bullet] Distance to wall: 218,6666 (14,889412% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[03:36:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.8981, 772.58), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[03:36:06] [INFO] [LastChance] Threat detected: Bullet
[03:36:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:36:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:06] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(583.8412, 750.4894), source=NEUTRAL (null), range=900, listeners=10
[03:36:06] [ENEMY] [Enemy1] Heard CASING_KICK at (583.8412, 750.4894), intensity=0.01, dist=438
[03:36:06] [ENEMY] [Enemy2] Heard CASING_KICK at (583.8412, 750.4894), intensity=0.03, dist=269
[03:36:06] [ENEMY] [Enemy3] Heard CASING_KICK at (583.8412, 750.4894), intensity=1.00, dist=31
[03:36:06] [ENEMY] [Enemy4] Heard CASING_KICK at (583.8412, 750.4894), intensity=0.04, dist=248
[03:36:06] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:36:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(133.9169, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[03:36:06] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(584.0036, 748.6598), source=NEUTRAL (null), range=900, listeners=10
[03:36:06] [ENEMY] [Enemy1] Heard CASING_KICK at (584.0036, 748.6598), intensity=0.01, dist=436
[03:36:06] [ENEMY] [Enemy2] Heard CASING_KICK at (584.0036, 748.6598), intensity=0.03, dist=269
[03:36:06] [ENEMY] [Enemy3] Heard CASING_KICK at (584.0036, 748.6598), intensity=1.00, dist=36
[03:36:06] [ENEMY] [Enemy4] Heard CASING_KICK at (584.0036, 748.6598), intensity=0.04, dist=249
[03:36:06] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:36:06] [INFO] [Player] Spawning blood effect at (127.91695, 807.2917), dir=(1, 0), lethal=False (C#)
[03:36:06] [INFO] [ImpactEffects] spawn_blood_effect called at (127.9169, 807.2917), dir=(1, 0), lethal=false
[03:36:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:06] [INFO] [ImpactEffects] Blood effect spawned at (127.9169, 807.2917) (scale=1)
[03:36:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[03:36:06] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[03:36:06] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(157.73918, 807.2917), shooter_id=1247922883641, bullet_pos=(525.84186, 802.4083)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=368,13504
[03:36:06] [INFO] [Bullet] Distance to wall: 368,13504 (25,066992% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(133.91695, 807.2917), shooter_id=1247922883641, bullet_pos=(327.42175, 705.45355)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=218,66669
[03:36:06] [INFO] [Bullet] Distance to wall: 218,66669 (14,889418% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[03:36:06] [INFO] [ImpactEffects] spawn_blood_effect called at (567.3992, 792.9968), dir=(1, 0), lethal=false
[03:36:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:06] [INFO] [ImpactEffects] Blood effect spawned at (567.3992, 792.9968) (scale=1)
[03:36:06] [INFO] [LastChance] Threat detected: @Area2D@5519
[03:36:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[03:36:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:06] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[03:36:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.7565, 795.9135), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (392.8942, 668.9014) (added to group)
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(499.37894, 805.4457), shooter_id=1244567438843, bullet_pos=(499.37894, 805.4457)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=0
[03:36:06] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[03:36:06] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[03:36:06] [INFO] [Bullet] Starting wall penetration at (499.37894, 805.4457)
[03:36:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(121.4725, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[03:36:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,954617
[03:36:06] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:06] [INFO] [Bullet] Exiting penetration at (461.05865, 806.4462) after traveling 33,333332 pixels through wall
[03:36:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:06] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=102.4°, current=179.3°, player=(121,807), corner_timer=0.00
[03:36:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(120,807), corner_timer=-0.00
[03:36:06] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[03:36:06] [INFO] [Player] Spawning blood effect at (119.73916, 807.2917), dir=(1, 0), lethal=False (C#)
[03:36:06] [INFO] [ImpactEffects] spawn_blood_effect called at (119.7392, 807.2917), dir=(1, 0), lethal=false
[03:36:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:06] [INFO] [ImpactEffects] Blood effect spawned at (119.7392, 807.2917) (scale=1)
[03:36:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[03:36:06] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[03:36:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.2°, player=(119,807), corner_timer=0.30
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(121.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(315.45, 706.3568)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=218,66669
[03:36:06] [INFO] [Bullet] Distance to wall: 218,66669 (14,889418% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(133.91695, 807.2917), shooter_id=1247922883641, bullet_pos=(519.20746, 835.40625)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=386,3149
[03:36:06] [INFO] [Bullet] Distance to wall: 386,3149 (26,304895% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [INFO] [Bullet] Starting wall penetration at (519.20746, 835.40625)
[03:36:06] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[03:36:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,544249
[03:36:06] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:06] [INFO] [Bullet] Exiting penetration at (546.80255, 854.1045) after traveling 28,333334 pixels through wall
[03:36:06] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:36:06] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[03:36:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.4725, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(313.28305, 706.03656)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=218,6667
[03:36:06] [INFO] [Bullet] Distance to wall: 218,6667 (14,889418% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[03:36:06] [INFO] [ImpactEffects] spawn_blood_effect called at (561.6149, 819.247), dir=(1, 0), lethal=true
[03:36:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:06] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:36:06] [INFO] [ImpactEffects] Blood effect spawned at (561.6149, 819.247) (scale=1.5)
[03:36:06] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[03:36:06] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[03:36:06] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[03:36:06] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[03:36:06] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[03:36:06] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (639.6007, 792.8969) (added to group)
[03:36:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.4725, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (414.9452, 650.5441) (added to group)
[03:36:06] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (425.3916, 681.9755) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (509.2294, 636.4857) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (201.9267, 851.9552) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (652.4029, 846.2598) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (646.8309, 788.2307) (added to group)
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(313.03528, 705.56366)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=218,66673
[03:36:06] [INFO] [Bullet] Distance to wall: 218,66673 (14,8894205% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (517.8311, 663.1971) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (180.9982, 858.0041) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (196.9611, 820.9746) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (181.4283, 852.5413) (added to group)
[03:36:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.4725, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (238.712, 868.4774) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (231.427, 795.9931) (added to group)
[03:36:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(119,807), corner_timer=-0.01
[03:36:06] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (183.4696, 805.9796) (added to group)
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(688.1176, 850.37976)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=570,27527
[03:36:06] [INFO] [Bullet] Distance to wall: 570,27527 (38,831093% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.3°, player=(119,807), corner_timer=0.30
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(312.88177, 705.27216)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=218,6667
[03:36:06] [INFO] [Bullet] Distance to wall: 218,6667 (14,889418% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(505.86578, 833.9608)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=387,31256
[03:36:06] [INFO] [Bullet] Distance to wall: 387,31256 (26,372826% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [INFO] [Bullet] Starting wall penetration at (505.86578, 833.9608)
[03:36:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,546849
[03:36:06] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:06] [INFO] [Bullet] Exiting penetration at (533.61115, 852.43524) after traveling 28,333332 pixels through wall
[03:36:06] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (218.5239, 809.9565) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (219.06, 812.8995) (added to group)
[03:36:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.4725, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (638.8226, 842.5615) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (619.4518, 821.2684) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (203.2473, 903.6913) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (232.5094, 818.6199) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (609.902, 848.8314) (added to group)
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(509.10413, 934.2027)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=409,77945
[03:36:06] [INFO] [Bullet] Distance to wall: 409,77945 (27,902636% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (292.1365, 904.2388) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (282.6258, 865.9684) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (222.8048, 829.6104) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (641.9637, 828.2717) (added to group)
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(312.78168, 705.08276)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=218,66664
[03:36:06] [INFO] [Bullet] Distance to wall: 218,66664 (14,889415% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (736.1535, 945.3467) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (237.7406, 911.7898) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (257.7635, 915.2227) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (669.6251, 847.0356) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (636.6199, 809.4621) (added to group)
[03:36:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.4725, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (240.3048, 823.6954) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (636.1185, 876.1674) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (654.6957, 888.6981) (added to group)
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(643.1913, 997.54565)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=557,2055
[03:36:06] [INFO] [Bullet] Distance to wall: 557,2055 (37,94115% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (315.3301, 971.4001) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (279.2464, 945.7999) (added to group)
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(692.2797, 837.15643)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=573,58527
[03:36:06] [INFO] [Bullet] Distance to wall: 573,58527 (39,056477% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [INFO] [Bullet] Starting wall penetration at (692.2797, 837.15643)
[03:36:06] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:36:06] [INFO] [Bullet] Exiting penetration at (723.765, 848.1012) after traveling 28,333334 pixels through wall
[03:36:06] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (682.4848, 898.1279) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (629.7745, 825.7049) (added to group)
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(312.7098, 704.94666)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=218,6668
[03:36:06] [INFO] [Bullet] Distance to wall: 218,6668 (14,889425% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(507.93976, 829.9137)
[03:36:06] [INFO] [Bullet] Using shooter_position, distance=389,12537
[03:36:06] [INFO] [Bullet] Distance to wall: 389,12537 (26,496262% of viewport)
[03:36:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (358.8846, 918.8743) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (681.6319, 951.5046) (added to group)
[03:36:06] [INFO] [BloodDecal] Blood puddle created at (651.7023, 904.1281) (added to group)
[03:36:07] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[03:36:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.4725, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:36:07] [ENEMY] [Enemy3] Ragdoll activated
[03:36:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[03:36:07] [INFO] [BloodDecal] Blood puddle created at (767.0229, 798.0737) (added to group)
[03:36:07] [INFO] [BloodDecal] Blood puddle created at (709.9663, 944.7271) (added to group)
[03:36:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.7°, player=(119,807), corner_timer=-0.01
[03:36:07] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[03:36:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=5.9°, player=(119,807), corner_timer=0.30
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(312.65536, 704.8442)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=218,66666
[03:36:07] [INFO] [Bullet] Distance to wall: 218,66666 (14,889415% of viewport)
[03:36:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(506.02563, 832.6117)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=387,3815
[03:36:07] [INFO] [Bullet] Distance to wall: 387,3815 (26,37752% of viewport)
[03:36:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:07] [INFO] [BloodDecal] Blood puddle created at (723.4864, 945.358) (added to group)
[03:36:07] [INFO] [BloodDecal] Blood puddle created at (713.8755, 949.0424) (added to group)
[03:36:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.4725, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:36:07] [INFO] [BloodDecal] Blood puddle created at (675.6272, 866.7927) (added to group)
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(917.2429, 873.53656)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=800,5161
[03:36:07] [INFO] [Bullet] Distance to wall: 800,5161 (54,508614% of viewport)
[03:36:07] [INFO] [Bullet] Distance-based penetration chance: 83,07328%
[03:36:07] [INFO] [Bullet] Starting wall penetration at (917.2429, 873.53656)
[03:36:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1,8121585
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(312.62402, 704.7852)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=218,66661
[03:36:07] [INFO] [Bullet] Distance to wall: 218,66661 (14,889412% of viewport)
[03:36:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:07] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[03:36:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,212343
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(520.4115, 807.347)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=400,939
[03:36:07] [INFO] [Bullet] Distance to wall: 400,939 (27,300674% of viewport)
[03:36:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:07] [INFO] [Bullet] Starting wall penetration at (520.4115, 807.347)
[03:36:07] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:07] [INFO] [Bullet] Exiting penetration at (953.5037, 857.1285) after traveling 34,80042 pixels through wall
[03:36:07] [INFO] [Bullet] Damage multiplier after penetration: 0,05625
[03:36:07] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[03:36:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,3318
[03:36:07] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:07] [INFO] [Bullet] Exiting penetration at (550.30444, 822.0956) after traveling 28,333332 pixels through wall
[03:36:07] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:36:07] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[03:36:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.4725, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:36:07] [INFO] [BloodDecal] Blood puddle created at (736.4205, 937.5786) (added to group)
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(312.59988, 704.7396)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=218,66666
[03:36:07] [INFO] [Bullet] Distance to wall: 218,66666 (14,889415% of viewport)
[03:36:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.4725, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(65.38628, 1039.2069)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=238,1386
[03:36:07] [INFO] [Bullet] Distance to wall: 238,1386 (16,215296% of viewport)
[03:36:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:07] [INFO] [Bullet] Starting wall penetration at (65.38628, 1039.2069)
[03:36:07] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:36:07] [INFO] [Bullet] Exiting penetration at (39.05354, 1051.5531) after traveling 24,083336 pixels through wall
[03:36:07] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(693.9388, 831.01935)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=574,9561
[03:36:07] [INFO] [Bullet] Distance to wall: 574,9561 (39,149822% of viewport)
[03:36:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:07] [INFO] [Bullet] Starting wall penetration at (693.9388, 831.01935)
[03:36:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(119,807), corner_timer=-0.01
[03:36:07] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[03:36:07] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:36:07] [INFO] [Bullet] Exiting penetration at (725.5831, 841.49524) after traveling 28,333332 pixels through wall
[03:36:07] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:36:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.2°, player=(119,807), corner_timer=0.30
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(523.59015, 800.40894)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=404,17627
[03:36:07] [INFO] [Bullet] Distance to wall: 404,17627 (27,521107% of viewport)
[03:36:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(312.5854, 704.7124)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=218,66663
[03:36:07] [INFO] [Bullet] Distance to wall: 218,66663 (14,889413% of viewport)
[03:36:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.4725, 807.2917), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(312.5769, 704.6964)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=218,66664
[03:36:07] [INFO] [Bullet] Distance to wall: 218,66664 (14,889415% of viewport)
[03:36:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(690.0602, 842.0028)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=571,6426
[03:36:07] [INFO] [Bullet] Distance to wall: 571,6426 (38,9242% of viewport)
[03:36:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:07] [INFO] [Bullet] Starting wall penetration at (690.0602, 842.0028)
[03:36:07] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:36:07] [INFO] [Bullet] Exiting penetration at (721.38586, 853.3962) after traveling 28,33333 pixels through wall
[03:36:07] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(522.63995, 802.3844)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=403,19733
[03:36:07] [INFO] [Bullet] Distance to wall: 403,19733 (27,454449% of viewport)
[03:36:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.472496, 807.2917), shooter_id=1247922883641, bullet_pos=(920.0769, 613.1097)
[03:36:07] [INFO] [Bullet] Using shooter_position, distance=823,8168
[03:36:07] [INFO] [Bullet] Distance to wall: 823,8168 (56,0952% of viewport)
[03:36:07] [INFO] [Bullet] Distance-based penetration chance: 81,22227%
[03:36:07] [INFO] [Bullet] Penetration failed (distance roll)
[03:36:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.0°, player=(119,807), corner_timer=-0.01
[03:36:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[03:36:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(119,807), corner_timer=0.30
[03:36:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:07] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:36:07] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:36:07] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:36:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:36:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:36:07] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:36:07] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:36:07] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:36:07] [ENEMY] [Enemy1] Death animation component initialized
[03:36:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:07] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:36:07] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:36:07] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:36:07] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:07] [ENEMY] [Enemy2] Death animation component initialized
[03:36:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:07] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:36:07] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:36:07] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:36:07] [ENEMY] [Enemy3] Death animation component initialized
[03:36:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:07] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:36:07] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:36:07] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:36:08] [ENEMY] [Enemy4] Death animation component initialized
[03:36:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:08] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:36:08] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:36:08] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:36:08] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:36:08] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:36:08] [ENEMY] [Grenadier] Death animation component initialized
[03:36:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:08] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:36:08] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:36:08] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:36:08] [ENEMY] [Enemy6] Death animation component initialized
[03:36:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:08] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:36:08] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:36:08] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:36:08] [ENEMY] [Enemy7] Death animation component initialized
[03:36:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:08] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:36:08] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:36:08] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:36:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:08] [ENEMY] [Enemy8] Death animation component initialized
[03:36:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:08] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:36:08] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:36:08] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:36:08] [ENEMY] [Enemy9] Death animation component initialized
[03:36:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:08] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:36:08] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:36:08] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:36:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:08] [ENEMY] [Enemy10] Death animation component initialized
[03:36:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:08] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:36:08] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:36:08] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:36:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:36:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:36:08] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:36:08] [INFO] [Player.Weapon] Removed default MakarovPM
[03:36:08] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:36:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:36:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:36:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:36:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:36:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:36:08] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:36:08] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:36:08] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:36:08] [INFO] [Player.Homing] Homing activation sound loaded
[03:36:08] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:36:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[03:36:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:36:08] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:36:08] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:36:08] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:36:08] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:36:08] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:36:08] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:36:08] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:36:08] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:36:08] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:36:08] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:36:08] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:36:08] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:36:08] [INFO] [BuildingLevel] Setting up weapon: m16
[03:36:08] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:36:08] [INFO] [ScoreManager] Level started with 10 enemies
[03:36:08] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:36:08] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:36:08] [INFO] [ReplayManager] Replay data cleared
[03:36:08] [INFO] [BuildingLevel] Previous replay data cleared
[03:36:08] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:36:08] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:36:08] [INFO] [ReplayManager] Level: BuildingLevel
[03:36:08] [INFO] [ReplayManager] Player: Player (valid: True)
[03:36:08] [INFO] [ReplayManager] Enemies count: 10
[03:36:08] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:36:08] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:36:08] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:36:08] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:36:08] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:36:08] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:36:08] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:36:08] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:36:08] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:36:08] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:36:08] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:36:08] [INFO] [BuildingLevel] Replay recording started successfully
[03:36:08] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:36:08] [INFO] [CinemaEffects] Found player node: Player
[03:36:08] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:36:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[03:36:08] [ENEMY] [Enemy1] Registered as sound listener
[03:36:08] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[03:36:08] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:36:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[03:36:08] [ENEMY] [Enemy2] Registered as sound listener
[03:36:08] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[03:36:08] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:36:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[03:36:08] [ENEMY] [Enemy3] Registered as sound listener
[03:36:08] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[03:36:08] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:36:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[03:36:08] [ENEMY] [Enemy4] Registered as sound listener
[03:36:08] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[03:36:08] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:36:08] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[03:36:08] [ENEMY] [Grenadier] Registered as sound listener
[03:36:08] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:36:08] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:36:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[03:36:08] [ENEMY] [Enemy6] Registered as sound listener
[03:36:08] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[03:36:08] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:36:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[03:36:08] [ENEMY] [Enemy7] Registered as sound listener
[03:36:08] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:36:08] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:36:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[03:36:08] [ENEMY] [Enemy8] Registered as sound listener
[03:36:08] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[03:36:08] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:36:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[03:36:08] [ENEMY] [Enemy9] Registered as sound listener
[03:36:08] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[03:36:08] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:36:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[03:36:08] [ENEMY] [Enemy10] Registered as sound listener
[03:36:08] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[03:36:08] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:36:08] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:36:08] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:08] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:08] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:08] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:08] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:08] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:08] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:08] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:36:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:36:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:36:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:36:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:36:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:36:08] [INFO] [LastChance] Found player: Player
[03:36:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:36:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:36:08] [INFO] [LastChance] Connected to player Died signal (C#)
[03:36:08] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:36:09] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:36:09] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:36:09] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:09] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:36:09] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(447,783), corner_timer=0.30
[03:36:09] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(447,783), corner_timer=0.30
[03:36:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.1086, 752.1105), source=PLAYER (AssaultRifle), range=1469, listeners=19
[03:36:09] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[03:36:09] [ENEMY] [Enemy1] Heard gunshot at (428.1086, 752.1105), source_type=0, intensity=0.01, distance=422
[03:36:09] [ENEMY] [Enemy2] Heard gunshot at (428.1086, 752.1105), source_type=0, intensity=0.06, distance=204
[03:36:09] [ENEMY] [Enemy3] Heard gunshot at (428.1086, 752.1105), source_type=0, intensity=0.03, distance=272
[03:36:09] [ENEMY] [Enemy4] Heard gunshot at (428.1086, 752.1105), source_type=0, intensity=0.02, distance=400
[03:36:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:09] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=72.3°, current=168.8°, player=(428,752), corner_timer=0.00
[03:36:09] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=82.1°, current=-157.5°, player=(428,752), corner_timer=0.00
[03:36:09] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=179.6°, current=11.3°, player=(428,752), corner_timer=0.00
[03:36:09] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-158.3°, current=-67.5°, player=(428,752), corner_timer=0.00
[03:36:09] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-180.0°, current=-166.3°, player=(425,750), corner_timer=0.00
[03:36:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(409.5857, 744.5881), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(409.58572, 744.58813), shooter_id=1357360663951, bullet_pos=(496.43982, 710.0722)
[03:36:09] [INFO] [Bullet] Using shooter_position, distance=93,461136
[03:36:09] [INFO] [Bullet] Distance to wall: 93,461136 (6,363941% of viewport)
[03:36:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(397,745), corner_timer=-0.02
[03:36:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(397,745), corner_timer=-0.02
[03:36:10] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:36:10] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[03:36:10] [INFO] [ImpactEffects] spawn_blood_effect called at (641.3403, 749.2612), dir=(1, 0), lethal=false
[03:36:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:10] [INFO] [ImpactEffects] Blood effect spawned at (641.3403, 749.2612) (scale=1)
[03:36:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(394,746), corner_timer=0.30
[03:36:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(394,746), corner_timer=0.30
[03:36:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.10858, 752.11053), shooter_id=1357360663951, bullet_pos=(908.6505, 859.8575)
[03:36:10] [INFO] [Bullet] Using shooter_position, distance=492,4733
[03:36:10] [INFO] [Bullet] Distance to wall: 492,4733 (33,533413% of viewport)
[03:36:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(641.3403, 749.2612), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[03:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(390.6692, 749.5563), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:10] [INFO] [LastChance] Threat detected: @Area2D@5923
[03:36:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:36:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(390.66922, 749.55634), shooter_id=1357360663951, bullet_pos=(501.77502, 708.26544)
[03:36:10] [INFO] [Bullet] Using shooter_position, distance=118,53033
[03:36:10] [INFO] [Bullet] Distance to wall: 118,53033 (8,070948% of viewport)
[03:36:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:10] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:36:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.10858, 752.11053), shooter_id=1357360663951, bullet_pos=(828.9211, 1015.63995)
[03:36:10] [INFO] [Bullet] Using shooter_position, distance=479,68573
[03:36:10] [INFO] [Bullet] Distance to wall: 479,68573 (32,662685% of viewport)
[03:36:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:10] [INFO] [Bullet] Starting wall penetration at (828.9211, 1015.63995)
[03:36:10] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:36:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,942024
[03:36:10] [INFO] [Player] Spawning blood effect at (381.9208, 760.95746), dir=(1, 0), lethal=False (C#)
[03:36:10] [INFO] [ImpactEffects] spawn_blood_effect called at (381.9208, 760.9575), dir=(1, 0), lethal=false
[03:36:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:10] [INFO] [ImpactEffects] Blood effect spawned at (381.9208, 760.9575) (scale=1)
[03:36:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[03:36:10] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[03:36:10] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[03:36:10] [INFO] [ImpactEffects] spawn_blood_effect called at (637.6979, 754.5236), dir=(1, 0), lethal=true
[03:36:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:10] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:36:10] [INFO] [ImpactEffects] Blood effect spawned at (637.6979, 754.5236) (scale=1.5)
[03:36:10] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[03:36:10] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[03:36:10] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[03:36:10] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[03:36:10] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[03:36:10] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[03:36:10] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:10] [INFO] [Bullet] Exiting penetration at (813.7345, 1045.3129) after traveling 28,33333 pixels through wall
[03:36:10] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(377.2654, 775.343), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:10] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[03:36:10] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-90.0°, current=-164.6°, player=(369,790), corner_timer=0.00
[03:36:10] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (724.2185, 742.7666) (added to group)
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (698.6572, 793.5519) (added to group)
[03:36:10] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (736.4655, 772.5887) (added to group)
[03:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.9108, 803.2899), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:10] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:36:10] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:36:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(355,806), corner_timer=-0.01
[03:36:10] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[03:36:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(352,809), corner_timer=0.30
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (745.1315, 754.7162) (added to group)
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (734.4293, 796.7158) (added to group)
[03:36:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.0483, 823.9148), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (445.8878, 767.2839) (added to group)
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (722.5011, 757.8722) (added to group)
[03:36:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(377.26544, 775.34296), shooter_id=1357360663951, bullet_pos=(514.91406, 226.23474)
[03:36:10] [INFO] [Bullet] Using shooter_position, distance=566,098
[03:36:10] [INFO] [Bullet] Distance to wall: 566,098 (38,546658% of viewport)
[03:36:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (450.45, 770.8381) (added to group)
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (796.6653, 781.2543) (added to group)
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (467.8846, 755.2349) (added to group)
[03:36:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(377.26544, 775.34296), shooter_id=1357360663951, bullet_pos=(564.3651, 61.645073)
[03:36:10] [INFO] [Bullet] Using shooter_position, distance=737,815
[03:36:10] [INFO] [Bullet] Distance to wall: 737,815 (50,23918% of viewport)
[03:36:10] [INFO] [Bullet] Distance-based penetration chance: 88,05429%
[03:36:10] [INFO] [Bullet] Starting wall penetration at (564.3651, 61.645073)
[03:36:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,5828896
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (507.5239, 765.7281) (added to group)
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (712.4747, 774.8369) (added to group)
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (740.5792, 761.8958) (added to group)
[03:36:10] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:10] [INFO] [Bullet] Exiting penetration at (561.83295, 28.432285) after traveling 28,333338 pixels through wall
[03:36:10] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:36:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:10] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:36:10] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:36:10] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:36:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:36:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:36:10] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:36:10] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:36:10] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:36:10] [ENEMY] [Enemy1] Death animation component initialized
[03:36:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:10] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:36:10] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:36:10] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:36:10] [ENEMY] [Enemy2] Death animation component initialized
[03:36:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:10] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:36:10] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:36:10] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:36:10] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:10] [ENEMY] [Enemy3] Death animation component initialized
[03:36:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:10] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:36:10] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:36:10] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:36:10] [ENEMY] [Enemy4] Death animation component initialized
[03:36:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:10] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:36:10] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:36:10] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:36:10] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:36:10] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:36:10] [ENEMY] [Grenadier] Death animation component initialized
[03:36:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:10] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:36:10] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:36:10] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:36:10] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:10] [ENEMY] [Enemy6] Death animation component initialized
[03:36:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:10] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:36:10] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:36:10] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:36:10] [ENEMY] [Enemy7] Death animation component initialized
[03:36:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:10] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:36:10] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:36:10] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:36:10] [ENEMY] [Enemy8] Death animation component initialized
[03:36:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:10] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:36:10] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:36:10] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:36:10] [ENEMY] [Enemy9] Death animation component initialized
[03:36:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:10] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:36:10] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:36:10] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:36:10] [ENEMY] [Enemy10] Death animation component initialized
[03:36:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:10] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:36:10] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:36:10] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:36:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:36:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:36:10] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:36:10] [INFO] [Player.Weapon] Removed default MakarovPM
[03:36:10] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:36:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:36:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:36:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:36:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:36:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:36:10] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:36:10] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:36:10] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:36:10] [INFO] [Player.Homing] Homing activation sound loaded
[03:36:10] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:36:10] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[03:36:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:36:10] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:36:10] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:36:10] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:36:10] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:36:10] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:36:10] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:36:10] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:36:10] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:36:10] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:36:10] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:36:10] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:36:10] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:36:10] [INFO] [BuildingLevel] Setting up weapon: m16
[03:36:10] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:36:10] [INFO] [ScoreManager] Level started with 10 enemies
[03:36:10] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:36:10] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:36:10] [INFO] [ReplayManager] Replay data cleared
[03:36:10] [INFO] [BuildingLevel] Previous replay data cleared
[03:36:10] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:36:10] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:36:10] [INFO] [ReplayManager] Level: BuildingLevel
[03:36:10] [INFO] [ReplayManager] Player: Player (valid: True)
[03:36:10] [INFO] [ReplayManager] Enemies count: 10
[03:36:10] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:36:10] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:36:10] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:36:10] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:36:10] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:36:10] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:36:10] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:36:10] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:36:10] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:36:10] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:36:10] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:36:10] [INFO] [BuildingLevel] Replay recording started successfully
[03:36:10] [INFO] [BloodDecal] Blood puddle created at (725.4077, 801.6514) (added to group)
[03:36:10] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:36:10] [INFO] [CinemaEffects] Found player node: Player
[03:36:10] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:36:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[03:36:10] [ENEMY] [Enemy1] Registered as sound listener
[03:36:10] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[03:36:10] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:36:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[03:36:10] [ENEMY] [Enemy2] Registered as sound listener
[03:36:10] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[03:36:10] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:36:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[03:36:10] [ENEMY] [Enemy3] Registered as sound listener
[03:36:10] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[03:36:10] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:36:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[03:36:10] [ENEMY] [Enemy4] Registered as sound listener
[03:36:10] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[03:36:10] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:36:10] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[03:36:10] [ENEMY] [Grenadier] Registered as sound listener
[03:36:10] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:36:10] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:36:10] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[03:36:10] [ENEMY] [Enemy6] Registered as sound listener
[03:36:10] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[03:36:10] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:36:10] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[03:36:10] [ENEMY] [Enemy7] Registered as sound listener
[03:36:10] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:36:10] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:36:10] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[03:36:10] [ENEMY] [Enemy8] Registered as sound listener
[03:36:10] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[03:36:10] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:36:10] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[03:36:10] [ENEMY] [Enemy9] Registered as sound listener
[03:36:10] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[03:36:10] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:36:10] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[03:36:10] [ENEMY] [Enemy10] Registered as sound listener
[03:36:10] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[03:36:10] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:36:11] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:36:11] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:11] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:11] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:11] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:11] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:11] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:11] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:11] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:36:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:36:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:36:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:36:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:36:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:36:11] [INFO] [LastChance] Found player: Player
[03:36:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:36:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:36:11] [INFO] [LastChance] Connected to player Died signal (C#)
[03:36:11] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:36:11] [INFO] [BloodDecal] Blood puddle created at (838.0655, 796.0938) (added to group)
[03:36:11] [INFO] [BloodDecal] Blood puddle created at (737.0455, 772.017) (added to group)
[03:36:11] [INFO] [BloodDecal] Blood puddle created at (803.7235, 749.4307) (added to group)
[03:36:11] [INFO] [BloodDecal] Blood puddle created at (709.9708, 767.791) (added to group)
[03:36:11] [INFO] [BloodDecal] Blood puddle created at (818.5708, 798.9907) (added to group)
[03:36:11] [INFO] [BloodDecal] Blood puddle created at (823.3553, 832.5916) (added to group)
[03:36:11] [INFO] [BloodDecal] Blood puddle created at (786.734, 817.8516) (added to group)
[03:36:11] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[03:36:11] [INFO] [BloodDecal] Blood puddle created at (841.6531, 832.8771) (added to group)
[03:36:11] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:36:12] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:36:12] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:12] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:36:12] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(258,860), corner_timer=0.30
[03:36:12] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(258,860), corner_timer=0.30
[03:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(233.372, 832.3962), source=PLAYER (AssaultRifle), range=1469, listeners=19
[03:36:12] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[03:36:12] [ENEMY] [Enemy1] Heard gunshot at (233.372, 832.3962), source_type=0, intensity=0.01, distance=487
[03:36:12] [ENEMY] [Enemy2] Heard gunshot at (233.372, 832.3962), source_type=0, intensity=0.02, distance=328
[03:36:12] [ENEMY] [Enemy3] Heard gunshot at (233.372, 832.3962), source_type=0, intensity=0.01, distance=474
[03:36:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:36:12] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=97.9°, current=-157.5°, player=(233,832), corner_timer=0.00
[03:36:12] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=120.5°, current=-67.5°, player=(233,832), corner_timer=0.00
[03:36:12] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=170.0°, current=-123.8°, player=(233,832), corner_timer=0.00
[03:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(233.37202, 832.39624), shooter_id=1431130080723, bullet_pos=(455.30896, 710.1987)
[03:36:12] [INFO] [Bullet] Using shooter_position, distance=253,35397
[03:36:12] [INFO] [Bullet] Distance to wall: 253,35397 (17,251339% of viewport)
[03:36:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(221.2384, 798.9221), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:36:12] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[03:36:12] [INFO] [ImpactEffects] spawn_blood_effect called at (641.7933, 757.0228), dir=(1, 0), lethal=false
[03:36:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:12] [INFO] [ImpactEffects] Blood effect spawned at (641.7933, 757.0228) (scale=1)
[03:36:12] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=177.2°, current=180.0°, player=(220,777), corner_timer=0.00
[03:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(221.23845, 798.92206), shooter_id=1431130080723, bullet_pos=(450.3938, 690.8664)
[03:36:12] [INFO] [Bullet] Using shooter_position, distance=253,35391
[03:36:12] [INFO] [Bullet] Distance to wall: 253,35391 (17,251333% of viewport)
[03:36:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:12] [INFO] [Bullet] Starting wall penetration at (450.3938, 690.8664)
[03:36:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(221,772), corner_timer=-0.02
[03:36:12] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(221,772), corner_timer=-0.02
[03:36:12] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(222.1053, 768.0529), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[03:36:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,200317
[03:36:12] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:12] [INFO] [Bullet] Exiting penetration at (474.8001, 661.33875) after traveling 33,333332 pixels through wall
[03:36:12] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.2059, 757.4989), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:12] [ENEMY] [Enemy4] Heard gunshot at (632.2059, 757.4989), source_type=1, intensity=0.05, distance=220
[03:36:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[03:36:12] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-167.1°, current=168.8°, player=(222,768), corner_timer=0.00
[03:36:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=56.4°, player=(222,768), corner_timer=0.30
[03:36:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.2°, player=(222,768), corner_timer=0.30
[03:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(222.10535, 768.0529), shooter_id=1431130080723, bullet_pos=(426.52988, 702.2295)
[03:36:12] [INFO] [Bullet] Using shooter_position, distance=214,76059
[03:36:12] [INFO] [Bullet] Distance to wall: 214,76059 (14,623444% of viewport)
[03:36:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:12] [INFO] [LastChance] Threat detected: @Area2D@6242
[03:36:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:36:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:12] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(232.4441, 741.3552), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[03:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(598.0801, 757.2977), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[03:36:12] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(615.651, 743.1447), source=NEUTRAL (null), range=900, listeners=10
[03:36:12] [ENEMY] [Enemy1] Heard CASING_KICK at (615.651, 743.1447), intensity=0.01, dist=462
[03:36:12] [ENEMY] [Enemy2] Heard CASING_KICK at (615.651, 743.1447), intensity=0.03, dist=288
[03:36:12] [ENEMY] [Enemy3] Heard CASING_KICK at (615.651, 743.1447), intensity=1.00, dist=29
[03:36:12] [ENEMY] [Enemy4] Heard CASING_KICK at (615.651, 743.1447), intensity=0.05, dist=229
[03:36:12] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:36:12] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[03:36:12] [INFO] [ImpactEffects] spawn_blood_effect called at (589.5564, 756.8939), dir=(1, 0), lethal=true
[03:36:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:12] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:36:12] [INFO] [ImpactEffects] Blood effect spawned at (589.5564, 756.8939) (scale=1.5)
[03:36:12] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[03:36:12] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[03:36:12] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[03:36:12] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[03:36:12] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[03:36:12] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[03:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(232.44412, 741.35516), shooter_id=1431130080723, bullet_pos=(381.08228, 715.64935)
[03:36:12] [INFO] [Bullet] Using shooter_position, distance=150,84459
[03:36:12] [INFO] [Bullet] Distance to wall: 150,84459 (10,271285% of viewport)
[03:36:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:12] [INFO] [Bullet] Starting wall penetration at (381.08228, 715.64935)
[03:36:12] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:36:12] [INFO] [Bullet] Exiting penetration at (415.68088, 699.2029) after traveling 33,333336 pixels through wall
[03:36:12] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:12] [INFO] [LastChance] Threat detected: @Area2D@6250
[03:36:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:36:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(252.2906, 728.0677), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[03:36:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.7526, 767.03705), shooter_id=1427774639569, bullet_pos=(64.93329, 780.4779)
[03:36:13] [INFO] [Bullet] Using shooter_position, distance=500,00003
[03:36:13] [INFO] [Bullet] Distance to wall: 500,00003 (34,04592% of viewport)
[03:36:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:13] [INFO] [Bullet] Starting wall penetration at (64.93329, 780.4779)
[03:36:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5,3881354
[03:36:13] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:13] [INFO] [Bullet] Exiting penetration at (26.613811, 781.50836) after traveling 33,333332 pixels through wall
[03:36:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(252.29059, 728.0677), shooter_id=1431130080723, bullet_pos=(369.4641, 712.5365)
[03:36:13] [INFO] [Bullet] Using shooter_position, distance=118,198364
[03:36:13] [INFO] [Bullet] Distance to wall: 118,198364 (8,048345% of viewport)
[03:36:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (701.6492, 760.7747) (added to group)
[03:36:13] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:36:13] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (694.3295, 798.7057) (added to group)
[03:36:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(530.1438, 762.14276), shooter_id=1427774639569, bullet_pos=(63.953373, 741.06244)
[03:36:13] [INFO] [Bullet] Using shooter_position, distance=466,66678
[03:36:13] [INFO] [Bullet] Distance to wall: 466,66678 (31,7762% of viewport)
[03:36:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:13] [INFO] [Bullet] Starting wall penetration at (63.953373, 741.06244)
[03:36:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(279,728), corner_timer=-0.01
[03:36:13] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[03:36:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(284.1695, 728.0686), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[03:36:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,347313
[03:36:13] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:13] [INFO] [Bullet] Exiting penetration at (25.659164, 739.3309) after traveling 33,33334 pixels through wall
[03:36:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.2°, player=(284,728), corner_timer=0.30
[03:36:13] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(273.8094, 742.0507), source=NEUTRAL (null), range=900, listeners=9
[03:36:13] [ENEMY] [Enemy1] Heard CASING_KICK at (273.8094, 742.0507), intensity=0.02, dist=342
[03:36:13] [ENEMY] [Enemy2] Heard CASING_KICK at (273.8094, 742.0507), intensity=0.09, dist=171
[03:36:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (758.7687, 759.8822) (added to group)
[03:36:13] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(272.7982, 743.979), source=NEUTRAL (null), range=900, listeners=9
[03:36:13] [ENEMY] [Enemy1] Heard CASING_KICK at (272.7982, 743.979), intensity=0.02, dist=344
[03:36:13] [ENEMY] [Enemy2] Heard CASING_KICK at (272.7982, 743.979), intensity=0.08, dist=173
[03:36:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[03:36:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(284.16946, 728.0686), shooter_id=1431130080723, bullet_pos=(400.75732, 708.6231)
[03:36:13] [INFO] [Bullet] Using shooter_position, distance=118,19838
[03:36:13] [INFO] [Bullet] Distance to wall: 118,19838 (8,048346% of viewport)
[03:36:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:13] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[03:36:13] [INFO] [GrenadeBase] Grenade created at (549.6992, 753.5165) (frozen)
[03:36:13] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[03:36:13] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[03:36:13] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[03:36:13] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[03:36:13] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[03:36:13] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[03:36:13] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.996429, -0.084435), Speed: 738.5 (unfrozen)
[03:36:13] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[03:36:13] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[03:36:13] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[03:36:13] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (220.8513, 777.3376), Distance: 369
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (630.0909, 768.9755) (added to group)
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (628.8109, 789.3937) (added to group)
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (760.7104, 771.323) (added to group)
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (688.8616, 755.2156) (added to group)
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (679.7515, 788.0671) (added to group)
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (634.7266, 770.8357) (added to group)
[03:36:13] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(315.5912, 741.532), source=NEUTRAL (null), range=900, listeners=9
[03:36:13] [ENEMY] [Enemy1] Heard CASING_KICK at (315.5912, 741.532), intensity=0.02, dist=340
[03:36:13] [ENEMY] [Enemy2] Heard CASING_KICK at (315.5912, 741.532), intensity=0.11, dist=152
[03:36:13] [ENEMY] [Enemy4] Heard CASING_KICK at (315.5912, 741.532), intensity=0.01, dist=492
[03:36:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:13] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(315.6447, 743.6323), source=NEUTRAL (null), range=900, listeners=9
[03:36:13] [ENEMY] [Enemy1] Heard CASING_KICK at (315.6447, 743.6323), intensity=0.02, dist=342
[03:36:13] [ENEMY] [Enemy2] Heard CASING_KICK at (315.6447, 743.6323), intensity=0.11, dist=154
[03:36:13] [ENEMY] [Enemy4] Heard CASING_KICK at (315.6447, 743.6323), intensity=0.01, dist=492
[03:36:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:13] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(315.1671, 746.3031), source=NEUTRAL (null), range=900, listeners=9
[03:36:13] [ENEMY] [Enemy1] Heard CASING_KICK at (315.1671, 746.3031), intensity=0.02, dist=344
[03:36:13] [ENEMY] [Enemy2] Heard CASING_KICK at (315.1671, 746.3031), intensity=0.10, dist=157
[03:36:13] [ENEMY] [Enemy4] Heard CASING_KICK at (315.1671, 746.3031), intensity=0.01, dist=491
[03:36:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:13] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (725.0504, 784.4205) (added to group)
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (644.0811, 774.1362) (added to group)
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (689.7537, 752.0206) (added to group)
[03:36:13] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (655.2318, 824.9352) (added to group)
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (737.2928, 801.3658) (added to group)
[03:36:13] [ENEMY] [Enemy3] Ragdoll activated
[03:36:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (776.2389, 805.996) (added to group)
[03:36:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(385,728), corner_timer=-0.01
[03:36:13] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[03:36:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(252.29059, 728.0677), shooter_id=1431130080723, bullet_pos=(550.5481, 56.908356)
[03:36:13] [INFO] [Bullet] Using shooter_position, distance=734,44696
[03:36:13] [INFO] [Bullet] Distance to wall: 734,44696 (50,009846% of viewport)
[03:36:13] [INFO] [Bullet] Distance-based penetration chance: 88,321846%
[03:36:13] [INFO] [Bullet] Starting wall penetration at (550.5481, 56.908356)
[03:36:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.3°, player=(389,728), corner_timer=0.30
[03:36:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,155845
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (756.8076, 792.3662) (added to group)
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (689.3832, 776.285) (added to group)
[03:36:13] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:13] [INFO] [Bullet] Exiting penetration at (540.295, 25.191092) after traveling 28,333334 pixels through wall
[03:36:13] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:36:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:13] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:36:13] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:36:13] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:36:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:36:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:36:13] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:36:13] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:36:13] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:36:13] [ENEMY] [Enemy1] Death animation component initialized
[03:36:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:13] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:36:13] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:36:13] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:36:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:13] [ENEMY] [Enemy2] Death animation component initialized
[03:36:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:13] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:36:13] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:36:13] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:36:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:13] [ENEMY] [Enemy3] Death animation component initialized
[03:36:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:13] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:36:13] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:36:13] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:36:13] [ENEMY] [Enemy4] Death animation component initialized
[03:36:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:13] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:36:13] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:36:13] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:36:13] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:36:13] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:36:13] [ENEMY] [Grenadier] Death animation component initialized
[03:36:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:13] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:36:13] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:36:13] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:36:13] [ENEMY] [Enemy6] Death animation component initialized
[03:36:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:13] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:36:13] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:36:13] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:36:13] [ENEMY] [Enemy7] Death animation component initialized
[03:36:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:13] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:36:13] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:36:13] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:36:13] [ENEMY] [Enemy8] Death animation component initialized
[03:36:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:13] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:36:13] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:36:13] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:36:13] [ENEMY] [Enemy9] Death animation component initialized
[03:36:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:13] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:36:13] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:36:13] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:36:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:13] [ENEMY] [Enemy10] Death animation component initialized
[03:36:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:13] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:36:13] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:36:13] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:36:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:36:13] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:36:13] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:36:13] [INFO] [Player.Weapon] Removed default MakarovPM
[03:36:13] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:36:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:36:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:36:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:36:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:36:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:36:13] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:36:13] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:36:13] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:36:13] [INFO] [Player.Homing] Homing activation sound loaded
[03:36:13] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:36:13] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[03:36:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:36:13] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:36:13] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:36:13] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:36:13] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:36:13] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:36:13] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:36:13] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:36:13] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:36:13] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:36:13] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:36:13] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:36:13] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:36:13] [INFO] [BuildingLevel] Setting up weapon: m16
[03:36:13] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:36:13] [INFO] [ScoreManager] Level started with 10 enemies
[03:36:13] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:36:13] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:36:13] [INFO] [ReplayManager] Replay data cleared
[03:36:13] [INFO] [BuildingLevel] Previous replay data cleared
[03:36:13] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:36:13] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:36:13] [INFO] [ReplayManager] Level: BuildingLevel
[03:36:13] [INFO] [ReplayManager] Player: Player (valid: True)
[03:36:13] [INFO] [ReplayManager] Enemies count: 10
[03:36:13] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:36:13] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:36:13] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:36:13] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:36:13] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:36:13] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:36:13] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:36:13] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:36:13] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:36:13] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:36:13] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:36:13] [INFO] [BuildingLevel] Replay recording started successfully
[03:36:13] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:36:13] [INFO] [CinemaEffects] Found player node: Player
[03:36:13] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:36:13] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[03:36:13] [ENEMY] [Enemy1] Registered as sound listener
[03:36:13] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[03:36:13] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:36:13] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[03:36:13] [ENEMY] [Enemy2] Registered as sound listener
[03:36:13] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[03:36:13] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:36:13] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[03:36:13] [ENEMY] [Enemy3] Registered as sound listener
[03:36:13] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[03:36:13] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:36:13] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[03:36:13] [ENEMY] [Enemy4] Registered as sound listener
[03:36:13] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[03:36:13] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:36:13] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[03:36:13] [ENEMY] [Grenadier] Registered as sound listener
[03:36:13] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:36:13] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:36:13] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[03:36:13] [ENEMY] [Enemy6] Registered as sound listener
[03:36:13] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[03:36:13] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:36:13] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[03:36:13] [ENEMY] [Enemy7] Registered as sound listener
[03:36:13] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[03:36:13] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:36:13] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[03:36:13] [ENEMY] [Enemy8] Registered as sound listener
[03:36:13] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[03:36:13] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:36:13] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[03:36:13] [ENEMY] [Enemy9] Registered as sound listener
[03:36:13] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[03:36:13] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:36:13] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[03:36:13] [ENEMY] [Enemy10] Registered as sound listener
[03:36:13] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[03:36:13] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:36:13] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:36:13] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(449,1249), corner_timer=0.00
[03:36:13] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(449,1249), corner_timer=0.00
[03:36:13] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(449,1249), corner_timer=0.00
[03:36:13] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(449,1249), corner_timer=0.00
[03:36:13] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(449,1249), corner_timer=0.00
[03:36:13] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(449,1249), corner_timer=0.00
[03:36:13] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(449,1249), corner_timer=0.00
[03:36:13] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(449,1249), corner_timer=0.00
[03:36:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:36:13] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:36:13] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:36:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:36:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:36:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:36:13] [INFO] [LastChance] Found player: Player
[03:36:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:36:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:36:13] [INFO] [LastChance] Connected to player Died signal (C#)
[03:36:13] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:36:13] [INFO] [BloodDecal] Blood puddle created at (749.5031, 772.6873) (added to group)
[03:36:14] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:36:15] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:36:15] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:15] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:36:15] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(360,819), corner_timer=0.30
[03:36:15] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(360,819), corner_timer=0.30
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(338.2259, 795.4206), source=PLAYER (AssaultRifle), range=1469, listeners=19
[03:36:15] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[03:36:15] [ENEMY] [Enemy1] Heard gunshot at (338.2259, 795.4206), source_type=0, intensity=0.01, distance=447
[03:36:15] [ENEMY] [Enemy2] Heard gunshot at (338.2259, 795.4206), source_type=0, intensity=0.04, distance=253
[03:36:15] [ENEMY] [Enemy3] Heard gunshot at (338.2259, 795.4206), source_type=0, intensity=0.02, distance=365
[03:36:15] [ENEMY] [Enemy4] Heard gunshot at (338.2259, 795.4206), source_type=0, intensity=0.01, distance=473
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:15] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=85.1°, current=33.8°, player=(338,795), corner_timer=0.00
[03:36:15] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=104.1°, current=45.0°, player=(338,795), corner_timer=0.00
[03:36:15] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=172.8°, current=-123.8°, player=(338,795), corner_timer=0.00
[03:36:15] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-167.2°, current=-67.5°, player=(338,795), corner_timer=0.00
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.0541, 767.8764), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:15] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[03:36:15] [INFO] [ImpactEffects] spawn_blood_effect called at (662.8154, 753.1716), dir=(1, 0), lethal=false
[03:36:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:15] [INFO] [ImpactEffects] Blood effect spawned at (662.8154, 753.1716) (scale=1)
[03:36:15] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=178.3°, current=180.0°, player=(323,763), corner_timer=0.00
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(640.419, 753.2956), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(322.6467, 741.0513), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:15] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[03:36:15] [INFO] [ImpactEffects] spawn_blood_effect called at (636.1541, 753.174), dir=(1, 0), lethal=false
[03:36:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:15] [INFO] [ImpactEffects] Blood effect spawned at (636.1541, 753.174) (scale=1)
[03:36:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(323,738), corner_timer=-0.01
[03:36:15] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.0°, player=(323,738), corner_timer=-0.01
[03:36:15] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[03:36:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(323,735), corner_timer=0.30
[03:36:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=52.8°, player=(323,735), corner_timer=0.30
[03:36:15] [INFO] [LastChance] Threat detected: Bullet
[03:36:15] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:36:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:15] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(330.867, 728.0664), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:15] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(625.929, 738.9847), source=NEUTRAL (null), range=900, listeners=10
[03:36:15] [ENEMY] [Enemy1] Heard CASING_KICK at (625.929, 738.9847), intensity=0.01, dist=453
[03:36:15] [ENEMY] [Enemy2] Heard CASING_KICK at (625.929, 738.9847), intensity=0.03, dist=290
[03:36:15] [ENEMY] [Enemy3] Heard CASING_KICK at (625.929, 738.9847), intensity=1.00, dist=26
[03:36:15] [ENEMY] [Enemy4] Heard CASING_KICK at (625.929, 738.9847), intensity=0.05, dist=225
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(626.2948, 737.4893), source=NEUTRAL (null), range=900, listeners=10
[03:36:15] [ENEMY] [Enemy1] Heard CASING_KICK at (626.2948, 737.4893), intensity=0.01, dist=451
[03:36:15] [ENEMY] [Enemy2] Heard CASING_KICK at (626.2948, 737.4893), intensity=0.03, dist=289
[03:36:15] [ENEMY] [Enemy3] Heard CASING_KICK at (626.2948, 737.4893), intensity=1.00, dist=29
[03:36:15] [ENEMY] [Enemy4] Heard CASING_KICK at (626.2948, 737.4893), intensity=0.05, dist=226
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(626.9465, 735.7786), source=NEUTRAL (null), range=900, listeners=10
[03:36:15] [ENEMY] [Enemy1] Heard CASING_KICK at (626.9465, 735.7786), intensity=0.01, dist=449
[03:36:15] [ENEMY] [Enemy2] Heard CASING_KICK at (626.9465, 735.7786), intensity=0.03, dist=289
[03:36:15] [ENEMY] [Enemy3] Heard CASING_KICK at (626.9465, 735.7786), intensity=1.00, dist=33
[03:36:15] [ENEMY] [Enemy4] Heard CASING_KICK at (626.9465, 735.7786), intensity=0.05, dist=227
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(604.0457, 759.4888), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[03:36:15] [INFO] [BloodDecal] Blood puddle created at (723.8297, 800.5428) (added to group)
[03:36:15] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[03:36:15] [INFO] [ImpactEffects] spawn_blood_effect called at (601.7383, 767.7042), dir=(1, 0), lethal=true
[03:36:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:15] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:36:15] [INFO] [ImpactEffects] Blood effect spawned at (601.7383, 767.7042) (scale=1.5)
[03:36:15] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[03:36:15] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[03:36:15] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[03:36:15] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[03:36:15] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[03:36:15] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(352.3034, 728.0664), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(572.5431, 759.1637), shooter_id=1490521426196, bullet_pos=(39.35426, 746.7438)
[03:36:15] [INFO] [Bullet] Using shooter_position, distance=533,3335
[03:36:15] [INFO] [Bullet] Distance to wall: 533,3335 (36,31566% of viewport)
[03:36:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:15] [INFO] [Bullet] Starting wall penetration at (39.35426, 746.7438)
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(354.8654, 741.0104), source=NEUTRAL (null), range=900, listeners=9
[03:36:15] [ENEMY] [Enemy1] Heard CASING_KICK at (354.8654, 741.0104), intensity=0.02, dist=340
[03:36:15] [ENEMY] [Enemy2] Heard CASING_KICK at (354.8654, 741.0104), intensity=0.07, dist=186
[03:36:15] [ENEMY] [Enemy4] Heard CASING_KICK at (354.8654, 741.0104), intensity=0.01, dist=455
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,977085
[03:36:15] [INFO] [BloodDecal] Blood puddle created at (759.0529, 772.6785) (added to group)
[03:36:15] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:15] [INFO] [Bullet] Exiting penetration at (1.0313148, 745.8511) after traveling 33,33334 pixels through wall
[03:36:15] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(354.6292, 742.8044), source=NEUTRAL (null), range=900, listeners=9
[03:36:15] [ENEMY] [Enemy1] Heard CASING_KICK at (354.6292, 742.8044), intensity=0.02, dist=341
[03:36:15] [ENEMY] [Enemy2] Heard CASING_KICK at (354.6292, 742.8044), intensity=0.07, dist=187
[03:36:15] [ENEMY] [Enemy4] Heard CASING_KICK at (354.6292, 742.8044), intensity=0.01, dist=454
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(354.1584, 745.2213), source=NEUTRAL (null), range=900, listeners=9
[03:36:15] [ENEMY] [Enemy1] Heard CASING_KICK at (354.1584, 745.2213), intensity=0.02, dist=344
[03:36:15] [ENEMY] [Enemy2] Heard CASING_KICK at (354.1584, 745.2213), intensity=0.07, dist=190
[03:36:15] [ENEMY] [Enemy4] Heard CASING_KICK at (354.1584, 745.2213), intensity=0.01, dist=455
[03:36:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:15] [INFO] [BloodDecal] Blood puddle created at (764.9958, 759.5078) (added to group)
[03:36:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(352.30338, 728.0664), shooter_id=1493876870445, bullet_pos=(502.2164, 711.3278)
[03:36:16] [INFO] [Bullet] Using shooter_position, distance=150,8446
[03:36:16] [INFO] [Bullet] Distance to wall: 150,8446 (10,271287% of viewport)
[03:36:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:16] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(353.3232, 748.2169), source=NEUTRAL (null), range=900, listeners=9
[03:36:16] [ENEMY] [Enemy1] Heard CASING_KICK at (353.3232, 748.2169), intensity=0.02, dist=347
[03:36:16] [ENEMY] [Enemy2] Heard CASING_KICK at (353.3232, 748.2169), intensity=0.07, dist=193
[03:36:16] [ENEMY] [Enemy4] Heard CASING_KICK at (353.3232, 748.2169), intensity=0.01, dist=454
[03:36:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(322.6467, 741.0513), shooter_id=1493876870445, bullet_pos=(862.3676, 1022.97565)
[03:36:16] [INFO] [Bullet] Using shooter_position, distance=608,9171
[03:36:16] [INFO] [Bullet] Distance to wall: 608,9171 (41,462288% of viewport)
[03:36:16] [INFO] [Bullet] Distance-based penetration chance: 98,294%
[03:36:16] [INFO] [Bullet] Starting wall penetration at (862.3676, 1022.97565)
[03:36:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,30378
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (725.99, 800.1866) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (714.9898, 752.6088) (added to group)
[03:36:16] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:16] [INFO] [Bullet] Exiting penetration at (861.148, 1061.2648) after traveling 33,333332 pixels through wall
[03:36:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:16] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:36:16] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:36:16] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (676.3743, 752.6357) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (692.4355, 795.9882) (added to group)
[03:36:16] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(374.386, 745.43), source=NEUTRAL (null), range=900, listeners=9
[03:36:16] [ENEMY] [Enemy1] Heard CASING_KICK at (374.386, 745.43), intensity=0.02, dist=346
[03:36:16] [ENEMY] [Enemy2] Heard CASING_KICK at (374.386, 745.43), intensity=0.07, dist=187
[03:36:16] [ENEMY] [Enemy4] Heard CASING_KICK at (374.386, 745.43), intensity=0.01, dist=434
[03:36:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (740.3625, 801.9504) (added to group)
[03:36:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.2°, player=(390,728), corner_timer=-0.01
[03:36:16] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[03:36:16] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(373.4697, 747.5401), source=NEUTRAL (null), range=900, listeners=9
[03:36:16] [ENEMY] [Enemy1] Heard CASING_KICK at (373.4697, 747.5401), intensity=0.02, dist=348
[03:36:16] [ENEMY] [Enemy2] Heard CASING_KICK at (373.4697, 747.5401), intensity=0.07, dist=189
[03:36:16] [ENEMY] [Enemy4] Heard CASING_KICK at (373.4697, 747.5401), intensity=0.01, dist=434
[03:36:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.3°, player=(394,728), corner_timer=0.30
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (705.7288, 807.8524) (added to group)
[03:36:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(535.9974, 759.3266), shooter_id=1490521426196, bullet_pos=(38.623867, 810.50824)
[03:36:16] [INFO] [Bullet] Using shooter_position, distance=499,99997
[03:36:16] [INFO] [Bullet] Distance to wall: 499,99997 (34,04592% of viewport)
[03:36:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:16] [INFO] [Bullet] Starting wall penetration at (38.623867, 810.50824)
[03:36:16] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[03:36:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,67449
[03:36:16] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:16] [INFO] [Bullet] Exiting penetration at (0.49189377, 814.4322) after traveling 33,333336 pixels through wall
[03:36:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:16] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[03:36:16] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (737.1699, 782.7756) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (778.9126, 787.0243) (added to group)
[03:36:16] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[03:36:16] [INFO] [GrenadeBase] Grenade created at (562.0045, 763.097) (frozen)
[03:36:16] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[03:36:16] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[03:36:16] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[03:36:16] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[03:36:16] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[03:36:16] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[03:36:16] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.993345, -0.115179), Speed: 560.7 (unfrozen)
[03:36:16] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[03:36:16] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[03:36:16] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[03:36:16] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (322.6467, 741.0513), Distance: 280
[03:36:16] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (653.4331, 771.8367) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (646.4983, 778.0073) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (673.7151, 764.9193) (added to group)
[03:36:16] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:16] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:36:16] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:36:16] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:36:16] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:16] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:36:16] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:36:16] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:36:16] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:36:16] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:36:16] [ENEMY] [Enemy1] Death animation component initialized
[03:36:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:16] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:36:16] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:36:16] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:36:16] [ENEMY] [Enemy2] Death animation component initialized
[03:36:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:16] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:36:16] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:36:16] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:36:16] [ENEMY] [Enemy3] Death animation component initialized
[03:36:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:16] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:36:16] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:36:16] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:36:16] [ENEMY] [Enemy4] Death animation component initialized
[03:36:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:16] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:36:16] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:36:16] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:36:16] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:36:16] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:36:16] [ENEMY] [Grenadier] Death animation component initialized
[03:36:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:16] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:36:16] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:36:16] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:36:16] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:16] [ENEMY] [Enemy6] Death animation component initialized
[03:36:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:16] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:36:16] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:36:16] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:36:16] [ENEMY] [Enemy7] Death animation component initialized
[03:36:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:16] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:36:16] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:36:16] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:36:16] [ENEMY] [Enemy8] Death animation component initialized
[03:36:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:16] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:36:16] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:36:16] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:36:16] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:16] [ENEMY] [Enemy9] Death animation component initialized
[03:36:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:16] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:36:16] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:36:16] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:36:16] [ENEMY] [Enemy10] Death animation component initialized
[03:36:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:16] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:36:16] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:36:16] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:36:16] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:36:16] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:36:16] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:36:16] [INFO] [Player.Weapon] Removed default MakarovPM
[03:36:16] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:36:16] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:36:16] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:36:16] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:36:16] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:36:16] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:36:16] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:36:16] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:36:16] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:36:16] [INFO] [Player.Homing] Homing activation sound loaded
[03:36:16] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:36:16] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[03:36:16] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:36:16] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:36:16] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:36:16] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:36:16] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:36:16] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:36:16] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:36:16] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:36:16] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:36:16] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:36:16] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:36:16] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:36:16] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:36:16] [INFO] [BuildingLevel] Setting up weapon: m16
[03:36:16] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:36:16] [INFO] [ScoreManager] Level started with 10 enemies
[03:36:16] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:36:16] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:36:16] [INFO] [ReplayManager] Replay data cleared
[03:36:16] [INFO] [BuildingLevel] Previous replay data cleared
[03:36:16] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:36:16] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:36:16] [INFO] [ReplayManager] Level: BuildingLevel
[03:36:16] [INFO] [ReplayManager] Player: Player (valid: True)
[03:36:16] [INFO] [ReplayManager] Enemies count: 10
[03:36:16] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:36:16] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:36:16] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:36:16] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:36:16] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:36:16] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:36:16] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:36:16] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:36:16] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:36:16] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:36:16] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:36:16] [INFO] [BuildingLevel] Replay recording started successfully
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (786.1914, 782.3552) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (656.3108, 793.3366) (added to group)
[03:36:16] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:36:16] [INFO] [CinemaEffects] Found player node: Player
[03:36:16] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:36:16] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[03:36:16] [ENEMY] [Enemy1] Registered as sound listener
[03:36:16] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[03:36:16] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:36:16] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[03:36:16] [ENEMY] [Enemy2] Registered as sound listener
[03:36:16] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[03:36:16] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:36:16] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[03:36:16] [ENEMY] [Enemy3] Registered as sound listener
[03:36:16] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[03:36:16] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:36:16] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[03:36:16] [ENEMY] [Enemy4] Registered as sound listener
[03:36:16] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[03:36:16] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:36:16] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[03:36:16] [ENEMY] [Grenadier] Registered as sound listener
[03:36:16] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:36:16] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:36:16] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[03:36:16] [ENEMY] [Enemy6] Registered as sound listener
[03:36:16] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[03:36:16] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:36:16] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[03:36:16] [ENEMY] [Enemy7] Registered as sound listener
[03:36:16] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:36:16] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:36:16] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[03:36:16] [ENEMY] [Enemy8] Registered as sound listener
[03:36:16] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[03:36:16] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:36:16] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[03:36:16] [ENEMY] [Enemy9] Registered as sound listener
[03:36:16] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[03:36:16] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:36:16] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[03:36:16] [ENEMY] [Enemy10] Registered as sound listener
[03:36:16] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[03:36:16] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:36:16] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:36:16] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:16] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:16] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:16] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:16] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:16] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:16] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:16] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:16] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:36:16] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:36:16] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:36:16] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:36:16] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:36:16] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:36:16] [INFO] [LastChance] Found player: Player
[03:36:16] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:36:16] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:36:16] [INFO] [LastChance] Connected to player Died signal (C#)
[03:36:16] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (751.9003, 797.3644) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (669.2098, 822.5037) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (677.108, 756.8403) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (654.4956, 824.809) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (751.6241, 796.0768) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (701.4197, 785.4263) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (674.051, 781.7957) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (679.7369, 816.5937) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (784.6159, 814.0744) (added to group)
[03:36:16] [INFO] [BloodDecal] Blood puddle created at (729.2025, 807.871) (added to group)
[03:36:17] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:36:17] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:36:18] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:18] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:36:18] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(320,834), corner_timer=0.30
[03:36:18] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(320,834), corner_timer=0.30
[03:36:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(294,741), corner_timer=-0.02
[03:36:18] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(294,741), corner_timer=-0.02
[03:36:18] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:36:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(294,737), corner_timer=0.30
[03:36:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(294,737), corner_timer=0.30
[03:36:18] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:36:18] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:36:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(294,728), corner_timer=-0.02
[03:36:18] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[03:36:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(294,728), corner_timer=0.30
[03:36:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(294,728), corner_timer=-0.02
[03:36:19] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[03:36:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(294,728), corner_timer=0.30
[03:36:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(294,728), corner_timer=-0.02
[03:36:19] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[03:36:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(294,728), corner_timer=0.30
[03:36:19] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[03:36:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(294.4362, 728.0134), source=PLAYER (AssaultRifle), range=1469, listeners=19
[03:36:19] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[03:36:19] [ENEMY] [Enemy1] Heard gunshot at (294.4362, 728.0134), source_type=0, intensity=0.02, distance=378
[03:36:19] [ENEMY] [Enemy2] Heard gunshot at (294.4362, 728.0134), source_type=0, intensity=0.06, distance=207
[03:36:19] [ENEMY] [Enemy3] Heard gunshot at (294.4362, 728.0134), source_type=0, intensity=0.02, distance=406
[03:36:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[03:36:19] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=90.8°, current=-33.8°, player=(294,728), corner_timer=0.00
[03:36:19] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=120.7°, current=168.8°, player=(294,728), corner_timer=0.00
[03:36:19] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-176.9°, current=-33.8°, player=(294,728), corner_timer=0.00
[03:36:19] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-176.9°, current=146.5°, player=(294,728), corner_timer=0.00
[03:36:19] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[03:36:19] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[03:36:19] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[03:36:19] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-161.2°, current=-101.3°, player=(294,728), corner_timer=0.00
[03:36:19] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[03:36:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(294.4362, 728.0134), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[03:36:19] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[03:36:19] [INFO] [ImpactEffects] spawn_blood_effect called at (662.7215, 747.9791), dir=(1, 0), lethal=false
[03:36:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:19] [INFO] [ImpactEffects] Blood effect spawned at (662.7215, 747.9791) (scale=1)
[03:36:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(294,728), corner_timer=-0.01
[03:36:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[03:36:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.0°, player=(294,728), corner_timer=0.30
[03:36:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(640.3542, 746.7666), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[03:36:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(294.4362, 728.0134), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[03:36:19] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[03:36:19] [INFO] [ImpactEffects] spawn_blood_effect called at (627.5729, 746.0737), dir=(1, 0), lethal=false
[03:36:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:19] [INFO] [ImpactEffects] Blood effect spawned at (627.5729, 746.0737) (scale=1)
[03:36:19] [INFO] [LastChance] Threat detected: Bullet
[03:36:19] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:36:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:19] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:36:19] [INFO] [Player] Spawning blood effect at (294.4362, 728.01337), dir=(1, 0), lethal=False (C#)
[03:36:19] [INFO] [ImpactEffects] spawn_blood_effect called at (294.4362, 728.0134), dir=(1, 0), lethal=false
[03:36:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:19] [INFO] [ImpactEffects] Blood effect spawned at (294.4362, 728.0134) (scale=1)
[03:36:19] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[03:36:19] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[03:36:19] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[03:36:19] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[03:36:19] [INFO] [ImpactEffects] spawn_blood_effect called at (602.0103, 744.688), dir=(1, 0), lethal=true
[03:36:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:19] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:36:19] [INFO] [ImpactEffects] Blood effect spawned at (602.0103, 744.688) (scale=1.5)
[03:36:19] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[03:36:19] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[03:36:19] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[03:36:19] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[03:36:19] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[03:36:19] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[03:36:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(294.4362, 728.0134), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:19] [INFO] [BloodDecal] Blood puddle created at (701.6977, 779.8912) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (752.5292, 788.0242) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (730.235, 735.1698) (added to group)
[03:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(294.4362, 728.0134), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[03:36:20] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:36:20] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (736.0808, 801.5679) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (730.361, 784.556) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (680.7216, 761.4309) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (710.4023, 746.2147) (added to group)
[03:36:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:20] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:36:20] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:36:20] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:36:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:36:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:36:20] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:36:20] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:36:20] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:36:20] [ENEMY] [Enemy1] Death animation component initialized
[03:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:20] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:36:20] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:36:20] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:36:20] [ENEMY] [Enemy2] Death animation component initialized
[03:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:20] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:36:20] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:36:20] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:36:20] [ENEMY] [Enemy3] Death animation component initialized
[03:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:20] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:36:20] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:36:20] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:36:20] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:20] [ENEMY] [Enemy4] Death animation component initialized
[03:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:20] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:36:20] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:36:20] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:36:20] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:36:20] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:36:20] [ENEMY] [Grenadier] Death animation component initialized
[03:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:20] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:36:20] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:36:20] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:36:20] [ENEMY] [Enemy6] Death animation component initialized
[03:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:20] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:36:20] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:36:20] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:36:20] [ENEMY] [Enemy7] Death animation component initialized
[03:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:20] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:36:20] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:36:20] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:36:20] [ENEMY] [Enemy8] Death animation component initialized
[03:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:20] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:36:20] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:36:20] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:36:20] [ENEMY] [Enemy9] Death animation component initialized
[03:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:20] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:36:20] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:36:20] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:36:20] [ENEMY] [Enemy10] Death animation component initialized
[03:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:20] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:36:20] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:36:20] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:36:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:36:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:36:20] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:36:20] [INFO] [Player.Weapon] Removed default MakarovPM
[03:36:20] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:36:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:36:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:36:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:36:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:36:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:36:20] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:36:20] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:36:20] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:36:20] [INFO] [Player.Homing] Homing activation sound loaded
[03:36:20] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:36:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[03:36:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:36:20] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:36:20] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:36:20] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:36:20] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:36:20] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:36:20] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:36:20] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:36:20] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:36:20] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:36:20] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:36:20] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:36:20] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:36:20] [INFO] [BuildingLevel] Setting up weapon: m16
[03:36:20] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:36:20] [INFO] [ScoreManager] Level started with 10 enemies
[03:36:20] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:36:20] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:36:20] [INFO] [ReplayManager] Replay data cleared
[03:36:20] [INFO] [BuildingLevel] Previous replay data cleared
[03:36:20] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:36:20] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:36:20] [INFO] [ReplayManager] Level: BuildingLevel
[03:36:20] [INFO] [ReplayManager] Player: Player (valid: True)
[03:36:20] [INFO] [ReplayManager] Enemies count: 10
[03:36:20] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:36:20] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:36:20] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:36:20] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:36:20] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:36:20] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:36:20] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:36:20] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:36:20] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:36:20] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:36:20] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:36:20] [INFO] [BuildingLevel] Replay recording started successfully
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (698.266, 804.6205) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (701.3067, 745.4844) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (706.4305, 788.201) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (347.0886, 745.3644) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (669.2031, 763.7417) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (669.1375, 764.4927) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (665.9665, 761.1511) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (691.73, 720.1057) (added to group)
[03:36:20] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:36:20] [INFO] [CinemaEffects] Found player node: Player
[03:36:20] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:36:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[03:36:20] [ENEMY] [Enemy1] Registered as sound listener
[03:36:20] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[03:36:20] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:36:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[03:36:20] [ENEMY] [Enemy2] Registered as sound listener
[03:36:20] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[03:36:20] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:36:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[03:36:20] [ENEMY] [Enemy3] Registered as sound listener
[03:36:20] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[03:36:20] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:36:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[03:36:20] [ENEMY] [Enemy4] Registered as sound listener
[03:36:20] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[03:36:20] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:36:20] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[03:36:20] [ENEMY] [Grenadier] Registered as sound listener
[03:36:20] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:36:20] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:36:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[03:36:20] [ENEMY] [Enemy6] Registered as sound listener
[03:36:20] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[03:36:20] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:36:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[03:36:20] [ENEMY] [Enemy7] Registered as sound listener
[03:36:20] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:36:20] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:36:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[03:36:20] [ENEMY] [Enemy8] Registered as sound listener
[03:36:20] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[03:36:20] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:36:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[03:36:20] [ENEMY] [Enemy9] Registered as sound listener
[03:36:20] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[03:36:20] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:36:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[03:36:20] [ENEMY] [Enemy10] Registered as sound listener
[03:36:20] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[03:36:20] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:36:20] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:36:20] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[03:36:20] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:20] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:20] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:20] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:20] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:20] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:20] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:20] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:36:20] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:36:20] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:36:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:36:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:36:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:36:20] [INFO] [LastChance] Found player: Player
[03:36:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:36:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:36:20] [INFO] [LastChance] Connected to player Died signal (C#)
[03:36:20] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (403.3365, 776.7283) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (720.0421, 726.4241) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (710.2108, 749.5266) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (397.5242, 772.4095) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (379.1166, 817.5406) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (702.3362, 785.673) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (707.3881, 787.6965) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (444.6867, 773.2241) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (441.6268, 809.7376) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (690.1836, 767.1855) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (735.1093, 800.9957) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (408.6063, 798.0023) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (872.4662, 817.4396) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (690.4093, 801.6224) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (687.9115, 788.307) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (757.3046, 772.2598) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (722.3894, 782.8995) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (415.643, 753.9294) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (810.7693, 793.3599) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (488.0493, 868.7463) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (423.8934, 788.316) (added to group)
[03:36:20] [INFO] [BloodDecal] Blood puddle created at (827.3362, 782.881) (added to group)
[03:36:21] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:36:21] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:36:21] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[03:36:21] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.1°, current=123.7°, player=(438,824), corner_timer=0.00
[03:36:21] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[03:36:21] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.2°, current=-65.4°, player=(433,815), corner_timer=0.00
[03:36:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(425.9791, 807.6166), source=PLAYER (AssaultRifle), range=1469, listeners=19
[03:36:21] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[03:36:21] [ENEMY] [Enemy1] Heard gunshot at (425.9791, 807.6166), source_type=0, intensity=0.01, distance=475
[03:36:21] [ENEMY] [Enemy2] Heard gunshot at (425.9791, 807.6166), source_type=0, intensity=0.04, distance=259
[03:36:21] [ENEMY] [Enemy4] Heard gunshot at (425.9791, 807.6166), source_type=0, intensity=0.02, distance=385
[03:36:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:21] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=74.6°, current=33.8°, player=(425,807), corner_timer=0.00
[03:36:21] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=84.2°, current=168.8°, player=(425,807), corner_timer=0.00
[03:36:21] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-166.1°, current=-101.3°, player=(425,807), corner_timer=0.00
[03:36:21] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:21] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:36:21] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(414,795), corner_timer=0.30
[03:36:21] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(414,795), corner_timer=0.30
[03:36:21] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[03:36:21] [INFO] [ImpactEffects] spawn_blood_effect called at (663.4751, 757.6132), dir=(1, 0), lethal=false
[03:36:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:21] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:21] [INFO] [ImpactEffects] Blood effect spawned at (663.4751, 757.6132) (scale=1)
[03:36:21] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=172.2°, current=180.0°, player=(410,792), corner_timer=0.00
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(397.1998, 778.8373), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.2032, 763.3367), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[03:36:22] [INFO] [LastChance] Threat detected: @Area2D@7201
[03:36:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:36:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:22] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[03:36:22] [INFO] [ImpactEffects] spawn_blood_effect called at (642.2032, 763.3367), dir=(1, 0), lethal=false
[03:36:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:22] [INFO] [ImpactEffects] Blood effect spawned at (642.2032, 763.3367) (scale=1)
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(372.2281, 754.1442), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:22] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(627.1245, 752.1078), source=NEUTRAL (null), range=900, listeners=10
[03:36:22] [ENEMY] [Enemy2] Heard CASING_KICK at (627.1245, 752.1078), intensity=0.03, dist=296
[03:36:22] [ENEMY] [Enemy3] Heard CASING_KICK at (627.1245, 752.1078), intensity=1.00, dist=20
[03:36:22] [ENEMY] [Enemy4] Heard CASING_KICK at (627.1245, 752.1078), intensity=0.05, dist=214
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(626.8091, 750.7659), source=NEUTRAL (null), range=900, listeners=10
[03:36:22] [ENEMY] [Enemy2] Heard CASING_KICK at (626.8091, 750.7659), intensity=0.03, dist=295
[03:36:22] [ENEMY] [Enemy3] Heard CASING_KICK at (626.8091, 750.7659), intensity=1.00, dist=23
[03:36:22] [ENEMY] [Enemy4] Heard CASING_KICK at (626.8091, 750.7659), intensity=0.05, dist=216
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(626.2297, 749.1787), source=NEUTRAL (null), range=900, listeners=10
[03:36:22] [ENEMY] [Enemy2] Heard CASING_KICK at (626.2297, 749.1787), intensity=0.03, dist=294
[03:36:22] [ENEMY] [Enemy3] Heard CASING_KICK at (626.2297, 749.1787), intensity=1.00, dist=26
[03:36:22] [ENEMY] [Enemy4] Heard CASING_KICK at (626.2297, 749.1787), intensity=0.05, dist=217
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(625.4214, 747.3354), source=NEUTRAL (null), range=900, listeners=10
[03:36:22] [ENEMY] [Enemy2] Heard CASING_KICK at (625.4214, 747.3354), intensity=0.03, dist=292
[03:36:22] [ENEMY] [Enemy3] Heard CASING_KICK at (625.4214, 747.3354), intensity=1.00, dist=30
[03:36:22] [ENEMY] [Enemy4] Heard CASING_KICK at (625.4214, 747.3354), intensity=0.05, dist=220
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[03:36:22] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[03:36:22] [INFO] [ImpactEffects] spawn_blood_effect called at (642.4398, 771.8668), dir=(1, 0), lethal=false
[03:36:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:22] [INFO] [ImpactEffects] Blood effect spawned at (642.4398, 771.8668) (scale=1)
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.4398, 771.8668), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(624.4135, 745.2323), source=NEUTRAL (null), range=900, listeners=10
[03:36:22] [ENEMY] [Enemy2] Heard CASING_KICK at (624.4135, 745.2323), intensity=0.03, dist=290
[03:36:22] [ENEMY] [Enemy3] Heard CASING_KICK at (624.4135, 745.2323), intensity=1.00, dist=34
[03:36:22] [ENEMY] [Enemy4] Heard CASING_KICK at (624.4135, 745.2323), intensity=0.05, dist=222
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (724.6896, 778.1844) (added to group)
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(347.1799, 736.4628), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=55.9°, player=(344,734), corner_timer=-0.00
[03:36:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.8°, player=(344,734), corner_timer=-0.00
[03:36:22] [ENEMY] [Enemy10] PATROL corner check: angle 14.9°
[03:36:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(574.7586, 774.50775), shooter_id=1700706388162, bullet_pos=(42.03169, 799.9345)
[03:36:22] [INFO] [Bullet] Using shooter_position, distance=533,3334
[03:36:22] [INFO] [Bullet] Distance to wall: 533,3334 (36,31565% of viewport)
[03:36:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:22] [INFO] [Bullet] Starting wall penetration at (42.03169, 799.9345)
[03:36:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=53.6°, player=(342,733), corner_timer=0.30
[03:36:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.9°, current=55.6°, player=(342,733), corner_timer=0.30
[03:36:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,290226
[03:36:22] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:22] [INFO] [Bullet] Exiting penetration at (3.7419434, 801.7621) after traveling 33,333332 pixels through wall
[03:36:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.7355, 782.5293), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (766.9147, 790.4741) (added to group)
[03:36:22] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[03:36:22] [INFO] [LastChance] Threat detected: @Area2D@7217
[03:36:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:36:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(330.9638, 728.0667), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.0312, 793.1918), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[03:36:22] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=88.4°, current=127.4°, player=(328,728), corner_timer=0.00
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (703.5484, 776.7774) (added to group)
[03:36:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(330.9638, 728.0667), shooter_id=1704061832837, bullet_pos=(481.0627, 713.0864)
[03:36:22] [INFO] [Bullet] Using shooter_position, distance=150,84459
[03:36:22] [INFO] [Bullet] Distance to wall: 150,84459 (10,271285% of viewport)
[03:36:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:22] [INFO] [Player] Spawning blood effect at (326.89386, 728.0667), dir=(1, 0), lethal=False (C#)
[03:36:22] [INFO] [ImpactEffects] spawn_blood_effect called at (326.8939, 728.0667), dir=(1, 0), lethal=false
[03:36:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:22] [INFO] [ImpactEffects] Blood effect spawned at (326.8939, 728.0667) (scale=1)
[03:36:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[03:36:22] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[03:36:22] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:36:22] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:36:22] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (709.7465, 804.9247) (added to group)
[03:36:22] [INFO] [LastChance] Threat detected: @Area2D@7224
[03:36:22] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[03:36:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (799.9387, 804.7294) (added to group)
[03:36:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(574.9278, 772.3182), shooter_id=1700706388162, bullet_pos=(42.299843, 799.7381)
[03:36:22] [INFO] [Bullet] Using shooter_position, distance=533,33325
[03:36:22] [INFO] [Bullet] Distance to wall: 533,33325 (36,315643% of viewport)
[03:36:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:22] [INFO] [Bullet] Starting wall penetration at (42.299843, 799.7381)
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.6684, 728.0667), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,019852
[03:36:22] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:22] [INFO] [Bullet] Exiting penetration at (4.0172005, 801.7089) after traveling 33,333336 pixels through wall
[03:36:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.66125, 787.1404), shooter_id=1700706388162, bullet_pos=(321.9347, 711.54224)
[03:36:22] [INFO] [Bullet] Using shooter_position, distance=266,66675
[03:36:22] [INFO] [Bullet] Distance to wall: 266,66675 (18,15783% of viewport)
[03:36:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:22] [INFO] [Player] Spawning blood effect at (325.6684, 728.0667), dir=(1, 0), lethal=False (C#)
[03:36:22] [INFO] [ImpactEffects] spawn_blood_effect called at (325.6684, 728.0667), dir=(1, 0), lethal=false
[03:36:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:22] [INFO] [ImpactEffects] Blood effect spawned at (325.6684, 728.0667) (scale=1)
[03:36:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[03:36:22] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[03:36:22] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (722.0043, 786.8269) (added to group)
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (691.444, 797.2507) (added to group)
[03:36:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.6684, 728.0667), shooter_id=1704061832837, bullet_pos=(475.59772, 711.475)
[03:36:22] [INFO] [Bullet] Using shooter_position, distance=150,84457
[03:36:22] [INFO] [Bullet] Distance to wall: 150,84457 (10,271285% of viewport)
[03:36:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (733.6192, 778.0742) (added to group)
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (772.0145, 760.2692) (added to group)
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.6684, 728.0667), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:22] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:36:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.7°, player=(325,728), corner_timer=-0.01
[03:36:22] [ENEMY] [Enemy10] PATROL corner check: angle 7.5°
[03:36:22] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[03:36:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.5°, current=16.7°, player=(325,728), corner_timer=0.30
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (756.6667, 785.532) (added to group)
[03:36:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.6684, 728.0667), shooter_id=1704061832837, bullet_pos=(475.5819, 711.33264)
[03:36:22] [INFO] [Bullet] Using shooter_position, distance=150,84459
[03:36:22] [INFO] [Bullet] Distance to wall: 150,84459 (10,271285% of viewport)
[03:36:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:22] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[03:36:22] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[03:36:22] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (746.756, 798.6416) (added to group)
[03:36:22] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[03:36:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.6684, 728.0667), shooter_id=1704061832837, bullet_pos=(756.53784, 821.31464)
[03:36:22] [INFO] [Bullet] Using shooter_position, distance=440,84427
[03:36:22] [INFO] [Bullet] Distance to wall: 440,84427 (30,017897% of viewport)
[03:36:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:22] [INFO] [Bullet] Starting wall penetration at (756.53784, 821.31464)
[03:36:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,742313
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (845.4839, 770.0951) (added to group)
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (781.2054, 791.982) (added to group)
[03:36:22] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:22] [INFO] [Bullet] Exiting penetration at (775.0359, 849.0152) after traveling 28,333334 pixels through wall
[03:36:22] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:36:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.6684, 728.0667), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (746.8887, 793.4258) (added to group)
[03:36:22] [INFO] [BloodDecal] Blood puddle created at (418.4276, 788.483) (added to group)
[03:36:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.6684, 728.0667), shooter_id=1704061832837, bullet_pos=(732.8461, 815.08466)
[03:36:22] [INFO] [Bullet] Using shooter_position, distance=416,37222
[03:36:22] [INFO] [Bullet] Distance to wall: 416,37222 (28,351551% of viewport)
[03:36:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:22] [INFO] [Bullet] Starting wall penetration at (732.8461, 815.08466)
[03:36:22] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[03:36:22] [INFO] [Bullet] Exiting penetration at (752.5816, 841.91766) after traveling 28,333334 pixels through wall
[03:36:22] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[03:36:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.6684, 728.0667), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (439.9681, 733.4016) (added to group)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (390.6108, 756.1064) (added to group)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (378.6199, 767.986) (added to group)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (416.4095, 719.3215) (added to group)
[03:36:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(347.17993, 736.46277), shooter_id=1704061832837, bullet_pos=(888.3284, 1685.766)
[03:36:23] [INFO] [Bullet] Using shooter_position, distance=1092,7114
[03:36:23] [INFO] [Bullet] Distance to wall: 1092,7114 (74,40473% of viewport)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (450.8786, 811.0504) (added to group)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (423.1171, 714.0124) (added to group)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (403.8669, 722.758) (added to group)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (772.7869, 814.0807) (added to group)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (411.4187, 729.2429) (added to group)
[03:36:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.6684, 728.0667), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.6684, 728.0667), shooter_id=1704061832837, bullet_pos=(910.7302, 745.885)
[03:36:23] [INFO] [Bullet] Using shooter_position, distance=585,3331
[03:36:23] [INFO] [Bullet] Distance to wall: 585,3331 (39,85641% of viewport)
[03:36:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:23] [INFO] [Bullet] Starting wall penetration at (910.7302, 745.885)
[03:36:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,051825
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (442.0908, 819.4932) (added to group)
[03:36:23] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:23] [INFO] [Bullet] Exiting penetration at (949.0458, 747.05194) after traveling 33,333336 pixels through wall
[03:36:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.4°, player=(325,728), corner_timer=-0.01
[03:36:23] [ENEMY] [Enemy10] PATROL corner check: angle 3.9°
[03:36:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.9°, current=9.5°, player=(325,728), corner_timer=0.30
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (838.2779, 826.1064) (added to group)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (497.6412, 845.3325) (added to group)
[03:36:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.6684, 728.0667), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.6684, 728.0667), shooter_id=1704061832837, bullet_pos=(910.8226, 742.5368)
[03:36:23] [INFO] [Bullet] Using shooter_position, distance=585,33307
[03:36:23] [INFO] [Bullet] Distance to wall: 585,33307 (39,856407% of viewport)
[03:36:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:23] [INFO] [Bullet] Starting wall penetration at (910.8226, 742.5368)
[03:36:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,148184
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (417.3261, 787.5244) (added to group)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (414.1625, 825.0883) (added to group)
[03:36:23] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:23] [INFO] [Bullet] Exiting penetration at (949.14417, 743.48444) after traveling 33,333336 pixels through wall
[03:36:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (468.7421, 814.3608) (added to group)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (501.6325, 745.7027) (added to group)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (556.9369, 793.3608) (added to group)
[03:36:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.6684, 728.0667), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.6684, 728.0667), shooter_id=1704061832837, bullet_pos=(910.86847, 740.5658)
[03:36:23] [INFO] [Bullet] Using shooter_position, distance=585,33356
[03:36:23] [INFO] [Bullet] Distance to wall: 585,33356 (39,85644% of viewport)
[03:36:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:23] [INFO] [Bullet] Starting wall penetration at (910.86847, 740.5658)
[03:36:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(347.17993, 736.46277), shooter_id=1704061832837, bullet_pos=(352.38083, 2065.2014)
[03:36:23] [INFO] [Bullet] Using shooter_position, distance=1328,7488
[03:36:23] [INFO] [Bullet] Distance to wall: 1328,7488 (90,47695% of viewport)
[03:36:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,196064
[03:36:23] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:23] [INFO] [Bullet] Exiting penetration at (949.19305, 741.38434) after traveling 33,333332 pixels through wall
[03:36:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:23] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (455.6417, 850.3058) (added to group)
[03:36:23] [INFO] [BloodDecal] Blood puddle created at (441.3545, 807.5719) (added to group)
[03:36:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.6684, 728.0667), shooter_id=1704061832837, bullet_pos=(910.8921, 739.39)
[03:36:23] [INFO] [Bullet] Using shooter_position, distance=585,33325
[03:36:23] [INFO] [Bullet] Distance to wall: 585,33325 (39,85642% of viewport)
[03:36:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:23] [INFO] [Bullet] Starting wall penetration at (910.8921, 739.39)
[03:36:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,220736
[03:36:23] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:23] [INFO] [Bullet] Exiting penetration at (949.21826, 740.1316) after traveling 33,333336 pixels through wall
[03:36:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(325,728), corner_timer=-0.01
[03:36:23] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[03:36:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(325,728), corner_timer=0.30
[03:36:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:23] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:36:23] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:36:23] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:36:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:36:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:36:23] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:36:23] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:36:23] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:36:23] [ENEMY] [Enemy1] Death animation component initialized
[03:36:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:23] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:36:23] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:36:23] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:36:23] [ENEMY] [Enemy2] Death animation component initialized
[03:36:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:23] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:36:23] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:36:23] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:36:23] [ENEMY] [Enemy3] Death animation component initialized
[03:36:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:23] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:36:23] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:36:23] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:36:23] [ENEMY] [Enemy4] Death animation component initialized
[03:36:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:23] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:36:23] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:36:23] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:36:23] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:36:23] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:36:23] [ENEMY] [Grenadier] Death animation component initialized
[03:36:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:23] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:36:23] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:36:23] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:36:23] [ENEMY] [Enemy6] Death animation component initialized
[03:36:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:23] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:36:23] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:36:23] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:36:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:23] [ENEMY] [Enemy7] Death animation component initialized
[03:36:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:23] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:36:23] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:36:23] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:36:23] [ENEMY] [Enemy8] Death animation component initialized
[03:36:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:23] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:36:23] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:36:23] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:36:23] [ENEMY] [Enemy9] Death animation component initialized
[03:36:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:23] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:36:23] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:36:23] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:36:23] [ENEMY] [Enemy10] Death animation component initialized
[03:36:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:23] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:36:23] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:36:23] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:36:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:36:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:36:23] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:36:23] [INFO] [Player.Weapon] Removed default MakarovPM
[03:36:23] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:36:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:36:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:36:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:36:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:36:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:36:23] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:36:23] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:36:23] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:36:23] [INFO] [Player.Homing] Homing activation sound loaded
[03:36:23] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:36:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[03:36:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:36:23] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:36:23] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:36:23] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:36:23] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:36:23] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:36:23] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:36:23] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:36:23] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:36:23] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:36:23] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:36:23] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:36:23] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:36:23] [INFO] [BuildingLevel] Setting up weapon: m16
[03:36:23] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:36:23] [INFO] [ScoreManager] Level started with 10 enemies
[03:36:23] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:36:23] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:36:23] [INFO] [ReplayManager] Replay data cleared
[03:36:23] [INFO] [BuildingLevel] Previous replay data cleared
[03:36:23] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:36:23] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:36:23] [INFO] [ReplayManager] Level: BuildingLevel
[03:36:23] [INFO] [ReplayManager] Player: Player (valid: True)
[03:36:23] [INFO] [ReplayManager] Enemies count: 10
[03:36:23] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:36:23] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:36:23] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:36:23] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:36:23] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:36:23] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:36:23] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:36:23] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:36:23] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:36:23] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:36:23] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:36:23] [INFO] [BuildingLevel] Replay recording started successfully
[03:36:23] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:36:23] [INFO] [CinemaEffects] Found player node: Player
[03:36:23] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:36:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[03:36:23] [ENEMY] [Enemy1] Registered as sound listener
[03:36:23] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[03:36:23] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:36:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[03:36:23] [ENEMY] [Enemy2] Registered as sound listener
[03:36:23] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[03:36:23] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:36:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[03:36:23] [ENEMY] [Enemy3] Registered as sound listener
[03:36:23] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[03:36:23] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:36:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[03:36:23] [ENEMY] [Enemy4] Registered as sound listener
[03:36:23] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[03:36:23] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:36:23] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[03:36:23] [ENEMY] [Grenadier] Registered as sound listener
[03:36:23] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:36:23] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:36:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[03:36:23] [ENEMY] [Enemy6] Registered as sound listener
[03:36:23] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[03:36:23] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:36:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[03:36:23] [ENEMY] [Enemy7] Registered as sound listener
[03:36:23] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[03:36:23] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:36:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[03:36:23] [ENEMY] [Enemy8] Registered as sound listener
[03:36:23] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[03:36:23] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:36:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[03:36:23] [ENEMY] [Enemy9] Registered as sound listener
[03:36:23] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[03:36:23] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:36:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[03:36:23] [ENEMY] [Enemy10] Registered as sound listener
[03:36:23] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[03:36:23] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:36:24] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:36:24] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:24] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:24] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:24] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:24] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:24] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:24] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:24] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:36:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:36:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:36:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:36:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:36:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:36:24] [INFO] [LastChance] Found player: Player
[03:36:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:36:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:36:24] [INFO] [LastChance] Connected to player Died signal (C#)
[03:36:24] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:36:24] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:36:24] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:36:25] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:25] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:36:25] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:36:25] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(446,782), corner_timer=0.30
[03:36:25] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(446,782), corner_timer=0.30
[03:36:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(441.3771, 768.2384), source=PLAYER (AssaultRifle), range=1469, listeners=20
[03:36:25] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[03:36:25] [ENEMY] [Enemy1] Heard gunshot at (441.3771, 768.2384), source_type=0, intensity=0.01, distance=441
[03:36:25] [ENEMY] [Enemy2] Heard gunshot at (441.3771, 768.2384), source_type=0, intensity=0.05, distance=222
[03:36:25] [ENEMY] [Enemy3] Heard gunshot at (441.3771, 768.2384), source_type=0, intensity=0.04, distance=259
[03:36:25] [ENEMY] [Enemy4] Heard gunshot at (441.3771, 768.2384), source_type=0, intensity=0.02, distance=382
[03:36:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:25] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=71.3°, current=-157.5°, player=(441,768), corner_timer=0.00
[03:36:25] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=79.3°, current=-157.5°, player=(441,768), corner_timer=0.00
[03:36:25] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=176.0°, current=-33.8°, player=(441,768), corner_timer=0.00
[03:36:25] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-159.8°, current=-101.3°, player=(441,768), corner_timer=0.00
[03:36:25] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=177.0°, current=139.4°, player=(438,763), corner_timer=0.00
[03:36:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(418.1742, 740.0884), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.37714, 768.2384), shooter_id=1815462547550, bullet_pos=(909.6801, 786.7038)
[03:36:25] [INFO] [Bullet] Using shooter_position, distance=468,66687
[03:36:25] [INFO] [Bullet] Distance to wall: 468,66687 (31,91239% of viewport)
[03:36:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:25] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[03:36:25] [INFO] [ImpactEffects] spawn_blood_effect called at (673.3586, 751.0227), dir=(1, 0), lethal=false
[03:36:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:25] [INFO] [ImpactEffects] Blood effect spawned at (673.3586, 751.0227) (scale=1)
[03:36:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.3586, 751.0227), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[03:36:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(391.2533, 728.0673), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:25] [INFO] [LastChance] Threat detected: @Area2D@7577
[03:36:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:36:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:25] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:36:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.6°, player=(377,728), corner_timer=-0.01
[03:36:25] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.7°, player=(377,728), corner_timer=-0.01
[03:36:25] [ENEMY] [Enemy10] PATROL corner check: angle 14.5°
[03:36:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(372,728), corner_timer=0.30
[03:36:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.5°, current=53.5°, player=(372,728), corner_timer=0.30
[03:36:25] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[03:36:25] [INFO] [ImpactEffects] spawn_blood_effect called at (669.081, 755.7831), dir=(1, 0), lethal=false
[03:36:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:25] [INFO] [ImpactEffects] Blood effect spawned at (669.081, 755.7831) (scale=1)
[03:36:25] [INFO] [Player] Spawning blood effect at (360.05884, 728.06726), dir=(1, 0), lethal=False (C#)
[03:36:25] [INFO] [ImpactEffects] spawn_blood_effect called at (360.0588, 728.0673), dir=(1, 0), lethal=false
[03:36:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:25] [INFO] [ImpactEffects] Blood effect spawned at (360.0588, 728.0673) (scale=1)
[03:36:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[03:36:25] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[03:36:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(667.6551, 757.3699), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[03:36:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.1922, 728.0673), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(661.7809, 733.2332), source=NEUTRAL (null), range=900, listeners=10
[03:36:25] [ENEMY] [Enemy2] Heard CASING_KICK at (661.7809, 733.2332), intensity=0.02, dist=320
[03:36:25] [ENEMY] [Enemy3] Heard CASING_KICK at (661.7809, 733.2332), intensity=1.00, dist=27
[03:36:25] [ENEMY] [Enemy4] Heard CASING_KICK at (661.7809, 733.2332), intensity=0.06, dist=207
[03:36:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[03:36:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(662.0189, 731.4377), source=NEUTRAL (null), range=900, listeners=10
[03:36:25] [ENEMY] [Enemy2] Heard CASING_KICK at (662.0189, 731.4377), intensity=0.02, dist=319
[03:36:25] [ENEMY] [Enemy3] Heard CASING_KICK at (662.0189, 731.4377), intensity=1.00, dist=31
[03:36:25] [ENEMY] [Enemy4] Heard CASING_KICK at (662.0189, 731.4377), intensity=0.06, dist=209
[03:36:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[03:36:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(662.2288, 729.3079), source=NEUTRAL (null), range=900, listeners=10
[03:36:25] [ENEMY] [Enemy2] Heard CASING_KICK at (662.2288, 729.3079), intensity=0.02, dist=318
[03:36:25] [ENEMY] [Enemy3] Heard CASING_KICK at (662.2288, 729.3079), intensity=1.00, dist=34
[03:36:25] [ENEMY] [Enemy4] Heard CASING_KICK at (662.2288, 729.3079), intensity=0.06, dist=210
[03:36:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[03:36:25] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:36:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(662.4334, 726.8571), source=NEUTRAL (null), range=900, listeners=10
[03:36:25] [ENEMY] [Enemy2] Heard CASING_KICK at (662.4334, 726.8571), intensity=0.02, dist=316
[03:36:25] [ENEMY] [Enemy3] Heard CASING_KICK at (662.4334, 726.8571), intensity=1.00, dist=38
[03:36:25] [ENEMY] [Enemy4] Heard CASING_KICK at (662.4334, 726.8571), intensity=0.06, dist=213
[03:36:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[03:36:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(660.5256, 765.3039), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[03:36:25] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[03:36:25] [INFO] [ImpactEffects] spawn_blood_effect called at (656.248, 770.0643), dir=(1, 0), lethal=true
[03:36:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:25] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:36:25] [INFO] [ImpactEffects] Blood effect spawned at (656.248, 770.0643) (scale=1.5)
[03:36:25] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[03:36:25] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[03:36:25] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[03:36:25] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[03:36:25] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[03:36:25] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[03:36:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(331.6588, 728.0673), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:25] [INFO] [BloodDecal] Blood puddle created at (709.3364, 778.2024) (added to group)
[03:36:26] [INFO] [LastChance] Threat detected: @Area2D@7589
[03:36:26] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[03:36:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:26] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:36:26] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:36:26] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[03:36:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(318.5033, 728.0673), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(599.7024, 758.7314), shooter_id=1812107101841, bullet_pos=(67.02467, 785.17084)
[03:36:26] [INFO] [Bullet] Using shooter_position, distance=533,3335
[03:36:26] [INFO] [Bullet] Distance to wall: 533,3335 (36,31566% of viewport)
[03:36:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:26] [INFO] [Bullet] Starting wall penetration at (67.02467, 785.17084)
[03:36:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,265542
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (731.8837, 757.3842) (added to group)
[03:36:26] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[03:36:26] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:26] [INFO] [Bullet] Exiting penetration at (-4.553879, 788.72363) after traveling 66,66667 pixels through wall
[03:36:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:26] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(316,728), corner_timer=-0.01
[03:36:26] [ENEMY] [Enemy10] PATROL corner check: angle 7.3°
[03:36:26] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.3°, current=16.4°, player=(316,728), corner_timer=0.30
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (796.7964, 738.3473) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (738.347, 754.7813) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (771.7588, 770.3871) (added to group)
[03:36:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(592.47723, 765.1895), shooter_id=1812107101841, bullet_pos=(59.28201, 753.04694)
[03:36:26] [INFO] [Bullet] Using shooter_position, distance=533,3335
[03:36:26] [INFO] [Bullet] Distance to wall: 533,3335 (36,31566% of viewport)
[03:36:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:26] [INFO] [Bullet] Starting wall penetration at (59.28201, 753.04694)
[03:36:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,044252
[03:36:26] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:26] [INFO] [Bullet] Exiting penetration at (20.95861, 752.1742) after traveling 33,333336 pixels through wall
[03:36:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (810.072, 832.4481) (added to group)
[03:36:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(316.0589, 728.0673), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(331.65884, 728.06726), shooter_id=1815462547550, bullet_pos=(913.46466, 792.2303)
[03:36:26] [INFO] [Bullet] Using shooter_position, distance=585,3331
[03:36:26] [INFO] [Bullet] Distance to wall: 585,3331 (39,85641% of viewport)
[03:36:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:26] [INFO] [Bullet] Starting wall penetration at (913.46466, 792.2303)
[03:36:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,661331
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (729.418, 799.6995) (added to group)
[03:36:26] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:26] [INFO] [Bullet] Exiting penetration at (951.56696, 796.4323) after traveling 33,333336 pixels through wall
[03:36:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (738.7494, 795.0118) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (440.185, 753.1032) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (433.6029, 790.7369) (added to group)
[03:36:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:26] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:36:26] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:36:26] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:36:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:36:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:36:26] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:36:26] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:36:26] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:36:26] [ENEMY] [Enemy1] Death animation component initialized
[03:36:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:26] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:36:26] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:36:26] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:36:26] [ENEMY] [Enemy2] Death animation component initialized
[03:36:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:26] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:36:26] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:36:26] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:36:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:26] [ENEMY] [Enemy3] Death animation component initialized
[03:36:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:26] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:36:26] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:36:26] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:36:26] [ENEMY] [Enemy4] Death animation component initialized
[03:36:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:26] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:36:26] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:36:26] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:36:26] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:36:26] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:36:26] [ENEMY] [Grenadier] Death animation component initialized
[03:36:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:26] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:36:26] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:36:26] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:36:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:26] [ENEMY] [Enemy6] Death animation component initialized
[03:36:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:26] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:36:26] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:36:26] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:36:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:26] [ENEMY] [Enemy7] Death animation component initialized
[03:36:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:26] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:36:26] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:36:26] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:36:26] [ENEMY] [Enemy8] Death animation component initialized
[03:36:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:26] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:36:26] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:36:26] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:36:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:26] [ENEMY] [Enemy9] Death animation component initialized
[03:36:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:26] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:36:26] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:36:26] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:36:26] [ENEMY] [Enemy10] Death animation component initialized
[03:36:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:26] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:36:26] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:36:26] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:36:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:36:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:36:26] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:36:26] [INFO] [Player.Weapon] Removed default MakarovPM
[03:36:26] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:36:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:36:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:36:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:36:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:36:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:36:26] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:36:26] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:36:26] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:36:26] [INFO] [Player.Homing] Homing activation sound loaded
[03:36:26] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:36:26] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[03:36:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:36:26] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:36:26] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:36:26] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:36:26] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:36:26] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:36:26] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:36:26] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:36:26] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:36:26] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:36:26] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:36:26] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:36:26] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:36:26] [INFO] [BuildingLevel] Setting up weapon: m16
[03:36:26] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:36:26] [INFO] [ScoreManager] Level started with 10 enemies
[03:36:26] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:36:26] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:36:26] [INFO] [ReplayManager] Replay data cleared
[03:36:26] [INFO] [BuildingLevel] Previous replay data cleared
[03:36:26] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:36:26] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:36:26] [INFO] [ReplayManager] Level: BuildingLevel
[03:36:26] [INFO] [ReplayManager] Player: Player (valid: True)
[03:36:26] [INFO] [ReplayManager] Enemies count: 10
[03:36:26] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:36:26] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:36:26] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:36:26] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:36:26] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:36:26] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:36:26] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:36:26] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:36:26] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:36:26] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:36:26] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:36:26] [INFO] [BuildingLevel] Replay recording started successfully
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (486.9785, 772.9787) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (745.3229, 809.1882) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (746.6041, 799.165) (added to group)
[03:36:26] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:36:26] [INFO] [CinemaEffects] Found player node: Player
[03:36:26] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:36:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[03:36:26] [ENEMY] [Enemy1] Registered as sound listener
[03:36:26] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[03:36:26] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:36:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[03:36:26] [ENEMY] [Enemy2] Registered as sound listener
[03:36:26] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[03:36:26] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:36:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[03:36:26] [ENEMY] [Enemy3] Registered as sound listener
[03:36:26] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[03:36:26] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:36:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[03:36:26] [ENEMY] [Enemy4] Registered as sound listener
[03:36:26] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[03:36:26] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:36:26] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[03:36:26] [ENEMY] [Grenadier] Registered as sound listener
[03:36:26] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:36:26] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:36:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[03:36:26] [ENEMY] [Enemy6] Registered as sound listener
[03:36:26] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[03:36:26] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:36:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[03:36:26] [ENEMY] [Enemy7] Registered as sound listener
[03:36:26] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[03:36:26] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:36:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[03:36:26] [ENEMY] [Enemy8] Registered as sound listener
[03:36:26] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[03:36:26] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:36:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[03:36:26] [ENEMY] [Enemy9] Registered as sound listener
[03:36:26] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[03:36:26] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:36:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[03:36:26] [ENEMY] [Enemy10] Registered as sound listener
[03:36:26] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[03:36:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:36:26] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:36:26] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:26] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:26] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:26] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:26] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:26] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:26] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:26] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[03:36:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:36:26] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:36:26] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:36:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:36:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:36:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:36:26] [INFO] [LastChance] Found player: Player
[03:36:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:36:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:36:26] [INFO] [LastChance] Connected to player Died signal (C#)
[03:36:26] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (878.1528, 800.5867) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (860.361, 848.6042) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (835.0278, 774.1818) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (757.0342, 778.5385) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (456.655, 796.6702) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (496.9613, 832.592) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (461.2723, 810.9468) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (464.4741, 734.3237) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (741.9556, 776.2942) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (746.6401, 768.2653) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (763.2664, 787.381) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (791.2996, 819.0001) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (796.797, 816.2488) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (811.2834, 815.1727) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (823.7197, 816.5352) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (853.3683, 765.8223) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (581.2674, 811.1187) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (816.5143, 831.0298) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (785.2642, 809.7254) (added to group)
[03:36:26] [INFO] [BloodDecal] Blood puddle created at (880.4432, 839.9338) (added to group)
[03:36:27] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:36:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:28] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[03:36:28] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(360,818), corner_timer=0.30
[03:36:28] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(360,818), corner_timer=0.30
[03:36:28] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[03:36:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(356,736), corner_timer=-0.02
[03:36:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[03:36:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(356,736), corner_timer=-0.02
[03:36:28] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[03:36:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(356,735), corner_timer=0.30
[03:36:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(356,735), corner_timer=0.30
[03:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 731.1063), source=PLAYER (AssaultRifle), range=1469, listeners=19
[03:36:28] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[03:36:28] [ENEMY] [Enemy1] Heard gunshot at (356.6618, 731.1063), source_type=0, intensity=0.02, distance=385
[03:36:28] [ENEMY] [Enemy2] Heard gunshot at (356.6618, 731.1063), source_type=0, intensity=0.07, distance=186
[03:36:28] [ENEMY] [Enemy3] Heard gunshot at (356.6618, 731.1063), source_type=0, intensity=0.02, distance=344
[03:36:28] [ENEMY] [Enemy4] Heard gunshot at (356.6618, 731.1063), source_type=0, intensity=0.01, distance=474
[03:36:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:28] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=81.5°, current=33.8°, player=(356,731), corner_timer=0.00
[03:36:28] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=103.5°, current=-67.5°, player=(356,731), corner_timer=0.00
[03:36:28] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-176.9°, current=-123.8°, player=(356,731), corner_timer=0.00
[03:36:28] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-159.1°, current=168.8°, player=(356,731), corner_timer=0.00
[03:36:28] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[03:36:28] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[03:36:28] [INFO] [ImpactEffects] spawn_blood_effect called at (668.0543, 748.138), dir=(1, 0), lethal=false
[03:36:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:28] [INFO] [ImpactEffects] Blood effect spawned at (668.0543, 748.138) (scale=1)
[03:36:28] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-176.6°, current=180.0°, player=(356,729), corner_timer=0.00
[03:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.1754, 746.3003), source=ENEMY (Enemy3), range=1469, listeners=10
[03:36:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[03:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=10
[03:36:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[03:36:28] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[03:36:28] [INFO] [ImpactEffects] spawn_blood_effect called at (632.9163, 746.0468), dir=(1, 0), lethal=false
[03:36:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:28] [INFO] [ImpactEffects] Blood effect spawned at (632.9163, 746.0468) (scale=1)
[03:36:28] [INFO] [LastChance] Threat detected: Bullet
[03:36:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[03:36:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[03:36:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(356,729), corner_timer=-0.01
[03:36:28] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[03:36:28] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[03:36:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.2°, player=(356,729), corner_timer=0.30
[03:36:28] [INFO] [Player] Spawning blood effect at (356.66177, 729.60626), dir=(1, 0), lethal=False (C#)
[03:36:28] [INFO] [ImpactEffects] spawn_blood_effect called at (356.6618, 729.6063), dir=(1, 0), lethal=false
[03:36:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:28] [INFO] [ImpactEffects] Blood effect spawned at (356.6618, 729.6063) (scale=1)
[03:36:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[03:36:28] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[03:36:28] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[03:36:28] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[03:36:28] [INFO] [ImpactEffects] spawn_blood_effect called at (607.3613, 744.5259), dir=(1, 0), lethal=true
[03:36:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:28] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:36:28] [INFO] [ImpactEffects] Blood effect spawned at (607.3613, 744.5259) (scale=1.5)
[03:36:28] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[03:36:28] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[03:36:28] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[03:36:28] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[03:36:28] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[03:36:28] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[03:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (697.1327, 773.7317) (added to group)
[03:36:29] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[03:36:29] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[03:36:29] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[03:36:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (801.7985, 737.8309) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (735.1954, 805.8702) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (439.5342, 728.2079) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (688.2256, 796.058) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (656.6815, 768.5682) (added to group)
[03:36:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(356,729), corner_timer=-0.01
[03:36:29] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (751.8735, 748.5945) (added to group)
[03:36:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.1°, player=(356,729), corner_timer=0.30
[03:36:29] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[03:36:29] [INFO] [GrenadeBase] Grenade created at (567.4681, 741.6052) (frozen)
[03:36:29] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[03:36:29] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[03:36:29] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[03:36:29] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[03:36:29] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[03:36:29] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[03:36:29] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.997331, -0.073018), Speed: 502.3 (unfrozen)
[03:36:29] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[03:36:29] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[03:36:29] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[03:36:29] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (356.6618, 729.6063), Distance: 251
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (445.8729, 781.9612) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (705.8998, 768.9828) (added to group)
[03:36:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (814.1555, 799.3756) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (473.4403, 817.1665) (added to group)
[03:36:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(706.377, 43.43486)
[03:36:29] [INFO] [Bullet] Using shooter_position, distance=770,1506
[03:36:29] [INFO] [Bullet] Distance to wall: 770,1506 (52,44097% of viewport)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (866.0385, 800.0551) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (427.1953, 771.2911) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (427.0755, 797.1809) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (724.5702, 799.2682) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (754.4631, 796.5649) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (860.8477, 747.9557) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (773.6057, 783.8215) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (754.4979, 775.3541) (added to group)
[03:36:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:29] [ENEMY] [Enemy3] Ragdoll activated
[03:36:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (792.5754, 820.9088) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (812.6987, 831.9095) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (733.8563, 748.5215) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (729.1711, 807.4134) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (680.7291, 791.1207) (added to group)
[03:36:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(707.9442, 44.235783)
[03:36:29] [INFO] [Bullet] Using shooter_position, distance=770,1507
[03:36:29] [INFO] [Bullet] Distance to wall: 770,1507 (52,44098% of viewport)
[03:36:29] [INFO] [Bullet] Distance-based penetration chance: 85,48553%
[03:36:29] [INFO] [Bullet] Starting wall penetration at (707.9442, 44.235783)
[03:36:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,02917
[03:36:29] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:29] [INFO] [Bullet] Exiting penetration at (703.9086, 6.115471) after traveling 33,333332 pixels through wall
[03:36:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (800.8612, 748.1765) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (706.4779, 784.843) (added to group)
[03:36:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:29] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[03:36:29] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (479.2301, 765.2098) (added to group)
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (480.6307, 772.6237) (added to group)
[03:36:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(708.25323, 44.39431)
[03:36:29] [INFO] [Bullet] Using shooter_position, distance=770,15063
[03:36:29] [INFO] [Bullet] Distance to wall: 770,15063 (52,44098% of viewport)
[03:36:29] [INFO] [Bullet] Distance-based penetration chance: 85,48553%
[03:36:29] [INFO] [Bullet] Starting wall penetration at (708.25323, 44.39431)
[03:36:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,870356
[03:36:29] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:29] [INFO] [Bullet] Exiting penetration at (704.23486, 6.2721786) after traveling 33,333336 pixels through wall
[03:36:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(356,729), corner_timer=-0.01
[03:36:29] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (471.1556, 815.348) (added to group)
[03:36:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.8°, player=(356,729), corner_timer=0.30
[03:36:29] [INFO] [BloodDecal] Blood puddle created at (813.0125, 756.6931) (added to group)
[03:36:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(709.97626, 45.281086)
[03:36:29] [INFO] [Bullet] Using shooter_position, distance=770,1507
[03:36:29] [INFO] [Bullet] Distance to wall: 770,1507 (52,44098% of viewport)
[03:36:29] [INFO] [Bullet] Distance-based penetration chance: 85,48553%
[03:36:29] [INFO] [Bullet] Starting wall penetration at (709.97626, 45.281086)
[03:36:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,98217
[03:36:29] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:29] [INFO] [Bullet] Exiting penetration at (706.0538, 7.148964) after traveling 33,333336 pixels through wall
[03:36:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(708.95825, 44.75656)
[03:36:29] [INFO] [Bullet] Using shooter_position, distance=770,15063
[03:36:29] [INFO] [Bullet] Distance to wall: 770,15063 (52,44098% of viewport)
[03:36:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(936.49774, 809.63806)
[03:36:29] [INFO] [Bullet] Using shooter_position, distance=585,33307
[03:36:29] [INFO] [Bullet] Distance to wall: 585,33307 (39,856407% of viewport)
[03:36:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:29] [INFO] [Bullet] Starting wall penetration at (936.49774, 809.63806)
[03:36:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,8358
[03:36:29] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:29] [INFO] [Bullet] Exiting penetration at (974.47107, 814.87933) after traveling 33,333336 pixels through wall
[03:36:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(708.36035, 44.44926)
[03:36:30] [INFO] [Bullet] Using shooter_position, distance=770,15063
[03:36:30] [INFO] [Bullet] Distance to wall: 770,15063 (52,44098% of viewport)
[03:36:30] [INFO] [Bullet] Distance-based penetration chance: 85,48553%
[03:36:30] [INFO] [Bullet] Starting wall penetration at (708.36035, 44.44926)
[03:36:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,81531
[03:36:30] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:30] [INFO] [Bullet] Exiting penetration at (704.3479, 6.3265) after traveling 33,333336 pixels through wall
[03:36:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(356,729), corner_timer=-0.01
[03:36:30] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[03:36:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.2°, player=(356,729), corner_timer=0.30
[03:36:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(936.5232, 809.459)
[03:36:30] [INFO] [Bullet] Using shooter_position, distance=585,3339
[03:36:30] [INFO] [Bullet] Distance to wall: 585,3339 (39,856464% of viewport)
[03:36:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:30] [INFO] [Bullet] Starting wall penetration at (936.5232, 809.459)
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,861492
[03:36:30] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:30] [INFO] [Bullet] Exiting penetration at (974.49817, 814.68854) after traveling 33,333336 pixels through wall
[03:36:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(936.5374, 809.3507)
[03:36:30] [INFO] [Bullet] Using shooter_position, distance=585,3331
[03:36:30] [INFO] [Bullet] Distance to wall: 585,3331 (39,85641% of viewport)
[03:36:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:30] [INFO] [Bullet] Starting wall penetration at (936.5374, 809.3507)
[03:36:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,87577
[03:36:30] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[03:36:30] [INFO] [FragGrenade] Impact detected! Body: Room1_WallBottom (type: StaticBody2D), triggering explosion
[03:36:30] [INFO] [FragGrenade] Impact detected - exploding immediately!
[03:36:30] [INFO] [GrenadeBase] EXPLODED at (265.1293, 719.851)!
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(265.1293, 719.851), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[03:36:30] [INFO] [FragGrenade] Player found in blast radius at distance 92.1
[03:36:30] [INFO] [Player] Spawning blood effect at (356.66177, 729.60626), dir=(0.99436855, 0.10597671), lethal=True (C#)
[03:36:30] [INFO] [ImpactEffects] spawn_blood_effect called at (356.6618, 729.6063), dir=(0.994369, 0.105977), lethal=true
[03:36:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:30] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[03:36:30] [INFO] [ImpactEffects] Blood effect spawned at (356.6618, 729.6063) (scale=1.5)
[03:36:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[03:36:30] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[03:36:30] [INFO] [CinemaEffects] Player died - triggering death effects
[03:36:30] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[03:36:30] [INFO] [PenultimateHit] Player died - ending penultimate effect
[03:36:30] [INFO] [LastChance] Player died
[03:36:30] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 92.1
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(387.6323, 788.9492), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (387.6323, 788.9492), intensity=0.01, dist=415
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (387.6323, 788.9492), intensity=0.04, dist=239
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (387.6323, 788.9492), intensity=0.01, dist=410
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(373.0469, 776.3967), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (373.0469, 776.3967), intensity=0.02, dist=398
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (373.0469, 776.3967), intensity=0.05, dist=228
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (373.0469, 776.3967), intensity=0.01, dist=427
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(390.2794, 776.2292), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (390.2794, 776.2292), intensity=0.02, dist=404
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (390.2794, 776.2292), intensity=0.05, dist=226
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (390.2794, 776.2292), intensity=0.01, dist=411
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(386.6048, 778.2736), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (386.6048, 778.2736), intensity=0.02, dist=405
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (386.6048, 778.2736), intensity=0.05, dist=229
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (386.6048, 778.2736), intensity=0.01, dist=414
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(385.4604, 775.6318), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (385.4604, 775.6318), intensity=0.02, dist=402
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (385.4604, 775.6318), intensity=0.05, dist=226
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (385.4604, 775.6318), intensity=0.01, dist=416
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(371.7096, 772.1834), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (371.7096, 772.1834), intensity=0.02, dist=394
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (371.7096, 772.1834), intensity=0.05, dist=224
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (371.7096, 772.1834), intensity=0.01, dist=430
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(364.3318, 775.8484), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (364.3318, 775.8484), intensity=0.02, dist=395
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (364.3318, 775.8484), intensity=0.05, dist=229
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (364.3318, 775.8484), intensity=0.01, dist=436
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(387.2303, 767.5583), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (387.2303, 767.5583), intensity=0.02, dist=395
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (387.2303, 767.5583), intensity=0.05, dist=218
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (387.2303, 767.5583), intensity=0.01, dist=416
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(371.0593, 776.9236), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (371.0593, 776.9236), intensity=0.02, dist=398
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (371.0593, 776.9236), intensity=0.05, dist=229
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (371.0593, 776.9236), intensity=0.01, dist=429
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(372.5831, 759.3764), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (372.5831, 759.3764), intensity=0.02, dist=382
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (372.5831, 759.3764), intensity=0.06, dist=211
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (372.5831, 759.3764), intensity=0.01, dist=433
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(365.5977, 763.6442), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (365.5977, 763.6442), intensity=0.02, dist=384
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (365.5977, 763.6442), intensity=0.05, dist=216
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (365.5977, 763.6442), intensity=0.01, dist=438
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(375.7422, 757.7855), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (375.7422, 757.7855), intensity=0.02, dist=382
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (375.7422, 757.7855), intensity=0.06, dist=209
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (375.7422, 757.7855), intensity=0.01, dist=430
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(381.8648, 745.6503), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (381.8648, 745.6503), intensity=0.02, dist=373
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (381.8648, 745.6503), intensity=0.06, dist=196
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (381.8648, 745.6503), intensity=0.01, dist=429
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [GrenadeBase] Scattered 13 casings (lethal zone) + 0 casings (proximity) from explosion
[03:36:30] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 4.0 degrees
[03:36:30] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 97.3 degrees
[03:36:30] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 197.0 degrees
[03:36:30] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 283.2 degrees
[03:36:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (265.1293, 719.851) (radius=225) - using shadow-based wall occlusion
[03:36:30] [INFO] [GrenadeTimer] Impact detected with Room1_WallBottom - EXPLODING!
[03:36:30] [INFO] [GrenadeTimer] EXPLODED at (265.12927, 719.851)!
[03:36:30] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[03:36:30] [INFO] [GrenadeTimer] Damaged player at distance 92,1
[03:36:30] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(265.1293, 719.851), source=NEUTRAL (FragGrenade), range=2938, listeners=9
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[03:36:30] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (265.12927, 719.851) (shadow-based wall occlusion)
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(387.6323, 788.9492), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (387.6323, 788.9492), intensity=0.01, dist=415
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (387.6323, 788.9492), intensity=0.04, dist=239
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (387.6323, 788.9492), intensity=0.01, dist=410
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(373.0469, 776.3967), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (373.0469, 776.3967), intensity=0.02, dist=398
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (373.0469, 776.3967), intensity=0.05, dist=228
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (373.0469, 776.3967), intensity=0.01, dist=427
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(390.2794, 776.2292), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (390.2794, 776.2292), intensity=0.02, dist=404
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (390.2794, 776.2292), intensity=0.05, dist=226
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (390.2794, 776.2292), intensity=0.01, dist=411
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(386.6048, 778.2736), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (386.6048, 778.2736), intensity=0.02, dist=405
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (386.6048, 778.2736), intensity=0.05, dist=229
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (386.6048, 778.2736), intensity=0.01, dist=414
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(385.4604, 775.6318), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (385.4604, 775.6318), intensity=0.02, dist=402
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (385.4604, 775.6318), intensity=0.05, dist=226
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (385.4604, 775.6318), intensity=0.01, dist=416
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(371.7096, 772.1834), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (371.7096, 772.1834), intensity=0.02, dist=394
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (371.7096, 772.1834), intensity=0.05, dist=224
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (371.7096, 772.1834), intensity=0.01, dist=430
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(364.3318, 775.8484), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (364.3318, 775.8484), intensity=0.02, dist=395
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (364.3318, 775.8484), intensity=0.05, dist=229
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (364.3318, 775.8484), intensity=0.01, dist=436
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(387.2303, 767.5583), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (387.2303, 767.5583), intensity=0.02, dist=395
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (387.2303, 767.5583), intensity=0.05, dist=218
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (387.2303, 767.5583), intensity=0.01, dist=416
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(371.0593, 776.9236), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (371.0593, 776.9236), intensity=0.02, dist=398
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (371.0593, 776.9236), intensity=0.05, dist=229
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (371.0593, 776.9236), intensity=0.01, dist=429
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(372.5831, 759.3764), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (372.5831, 759.3764), intensity=0.02, dist=382
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (372.5831, 759.3764), intensity=0.06, dist=211
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (372.5831, 759.3764), intensity=0.01, dist=433
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(365.5977, 763.6442), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (365.5977, 763.6442), intensity=0.02, dist=384
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (365.5977, 763.6442), intensity=0.05, dist=216
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (365.5977, 763.6442), intensity=0.01, dist=438
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(375.7422, 757.7855), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (375.7422, 757.7855), intensity=0.02, dist=382
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (375.7422, 757.7855), intensity=0.06, dist=209
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (375.7422, 757.7855), intensity=0.01, dist=430
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(381.8648, 745.6503), source=NEUTRAL (null), range=900, listeners=9
[03:36:30] [ENEMY] [Enemy1] Heard CASING_KICK at (381.8648, 745.6503), intensity=0.02, dist=373
[03:36:30] [ENEMY] [Enemy2] Heard CASING_KICK at (381.8648, 745.6503), intensity=0.06, dist=196
[03:36:30] [ENEMY] [Enemy4] Heard CASING_KICK at (381.8648, 745.6503), intensity=0.01, dist=429
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[03:36:30] [INFO] [GrenadeTimer] Scattered 13 casings
[03:36:30] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:30] [INFO] [Bullet] Exiting penetration at (974.5133, 814.5732) after traveling 33,333336 pixels through wall
[03:36:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(936.54694, 809.2832)
[03:36:30] [INFO] [Bullet] Using shooter_position, distance=585,3334
[03:36:30] [INFO] [Bullet] Distance to wall: 585,3334 (39,856426% of viewport)
[03:36:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:30] [INFO] [Bullet] Starting wall penetration at (936.54694, 809.2832)
[03:36:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,88538
[03:36:30] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:30] [INFO] [Bullet] Exiting penetration at (974.52344, 814.5012) after traveling 33,333336 pixels through wall
[03:36:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[03:36:30] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/3->2/3
[03:36:30] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.012394, -0.999923), lethal=false
[03:36:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[03:36:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[03:36:30] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[03:36:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(936.4205, 810.1975)
[03:36:30] [INFO] [Bullet] Using shooter_position, distance=585,3333
[03:36:30] [INFO] [Bullet] Distance to wall: 585,3333 (39,856422% of viewport)
[03:36:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:30] [INFO] [Bullet] Starting wall penetration at (936.4205, 810.1975)
[03:36:30] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[03:36:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,75786
[03:36:30] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:30] [INFO] [Bullet] Exiting penetration at (974.38873, 815.4754) after traveling 33,333332 pixels through wall
[03:36:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:30] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[03:36:30] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (395.3466, 754.4424) (added to group)
[03:36:30] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[03:36:30] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[03:36:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6618, 729.6063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[03:36:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[03:36:30] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (446.9084, 748.0479) (added to group)
[03:36:30] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (448.7816, 798.0648) (added to group)
[03:36:30] [ENEMY] [Enemy3] Death animation completed
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (425.4203, 794.9476) (added to group)
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (478.4694, 720.6251) (added to group)
[03:36:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(936.42566, 810.1621)
[03:36:30] [INFO] [Bullet] Using shooter_position, distance=585,3336
[03:36:30] [INFO] [Bullet] Distance to wall: 585,3336 (39,85644% of viewport)
[03:36:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (448.3249, 789.1151) (added to group)
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (448.4548, 820.6123) (added to group)
[03:36:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.0°, player=(356,729), corner_timer=-0.01
[03:36:30] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[03:36:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-131.3°, player=(356,729), corner_timer=0.30
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (454.0618, 829.3668) (added to group)
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (494.5067, 817.4964) (added to group)
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (453.7787, 751.7593) (added to group)
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (484.163, 822.4382) (added to group)
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (411.8173, 509.3209) (added to group)
[03:36:30] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[03:36:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[03:36:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.66177, 729.60626), shooter_id=1869317409502, bullet_pos=(936.4279, 810.14496)
[03:36:30] [INFO] [Bullet] Using shooter_position, distance=585,33344
[03:36:30] [INFO] [Bullet] Distance to wall: 585,33344 (39,85643% of viewport)
[03:36:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[03:36:30] [INFO] [Bullet] Starting wall penetration at (936.4279, 810.14496)
[03:36:30] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[03:36:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,76538
[03:36:30] [INFO] [Bullet] Body exited signal received for penetrating body
[03:36:30] [INFO] [Bullet] Exiting penetration at (974.39667, 815.41943) after traveling 33,333336 pixels through wall
[03:36:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[03:36:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:30] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[03:36:30] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[03:36:30] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[03:36:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[03:36:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[03:36:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[03:36:30] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[03:36:30] [INFO] [CinemaEffects] Death effects reset
[03:36:30] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[03:36:30] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[03:36:30] [ENEMY] [Enemy1] Death animation component initialized
[03:36:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:30] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[03:36:30] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[03:36:30] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[03:36:30] [ENEMY] [Enemy2] Death animation component initialized
[03:36:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:30] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[03:36:30] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[03:36:30] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[03:36:30] [ENEMY] [Enemy3] Death animation component initialized
[03:36:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:30] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[03:36:30] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[03:36:30] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[03:36:30] [ENEMY] [Enemy4] Death animation component initialized
[03:36:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:30] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[03:36:30] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[03:36:30] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[03:36:30] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[03:36:30] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[03:36:30] [ENEMY] [Grenadier] Death animation component initialized
[03:36:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:30] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[03:36:30] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[03:36:30] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[03:36:30] [ENEMY] [Enemy6] Death animation component initialized
[03:36:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:30] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[03:36:30] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[03:36:30] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[03:36:30] [ENEMY] [Enemy7] Death animation component initialized
[03:36:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:30] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[03:36:30] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[03:36:30] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[03:36:30] [ENEMY] [Enemy8] Death animation component initialized
[03:36:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:30] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[03:36:30] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[03:36:30] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[03:36:30] [INFO] [EnemyGrenade] Initialized: 1 grenades
[03:36:30] [ENEMY] [Enemy9] Death animation component initialized
[03:36:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:30] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[03:36:30] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[03:36:30] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[03:36:30] [ENEMY] [Enemy10] Death animation component initialized
[03:36:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[03:36:30] [INFO] [BloodyFeet:Player] Footprint scene loaded
[03:36:30] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[03:36:30] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[03:36:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[03:36:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[03:36:30] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[03:36:30] [INFO] [Player.Weapon] Removed default MakarovPM
[03:36:30] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[03:36:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[03:36:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[03:36:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[03:36:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[03:36:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[03:36:30] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[03:36:30] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[03:36:30] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[03:36:30] [INFO] [Player.Homing] Homing activation sound loaded
[03:36:30] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[03:36:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[03:36:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[03:36:30] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[03:36:30] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[03:36:30] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[03:36:30] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[03:36:30] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[03:36:30] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[03:36:30] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[03:36:30] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[03:36:30] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[03:36:30] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[03:36:30] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[03:36:30] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[03:36:30] [INFO] [BuildingLevel] Setting up weapon: m16
[03:36:30] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[03:36:30] [INFO] [ScoreManager] Level started with 10 enemies
[03:36:30] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[03:36:30] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[03:36:30] [INFO] [ReplayManager] Replay data cleared
[03:36:30] [INFO] [BuildingLevel] Previous replay data cleared
[03:36:30] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[03:36:30] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[03:36:30] [INFO] [ReplayManager] Level: BuildingLevel
[03:36:30] [INFO] [ReplayManager] Player: Player (valid: True)
[03:36:30] [INFO] [ReplayManager] Enemies count: 10
[03:36:30] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[03:36:30] [INFO] [ReplayManager]   Enemy 0: Enemy1
[03:36:30] [INFO] [ReplayManager]   Enemy 1: Enemy2
[03:36:30] [INFO] [ReplayManager]   Enemy 2: Enemy3
[03:36:30] [INFO] [ReplayManager]   Enemy 3: Enemy4
[03:36:30] [INFO] [ReplayManager]   Enemy 4: Grenadier
[03:36:30] [INFO] [ReplayManager]   Enemy 5: Enemy6
[03:36:30] [INFO] [ReplayManager]   Enemy 6: Enemy7
[03:36:30] [INFO] [ReplayManager]   Enemy 7: Enemy8
[03:36:30] [INFO] [ReplayManager]   Enemy 8: Enemy9
[03:36:30] [INFO] [ReplayManager]   Enemy 9: Enemy10
[03:36:30] [INFO] [BuildingLevel] Replay recording started successfully
[03:36:30] [INFO] [BloodDecal] Blood puddle created at (504.7351, 796.1279) (added to group)
[03:36:30] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[03:36:30] [INFO] [CinemaEffects] Found player node: Player
[03:36:30] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[03:36:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[03:36:30] [ENEMY] [Enemy1] Registered as sound listener
[03:36:30] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[03:36:30] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[03:36:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[03:36:30] [ENEMY] [Enemy2] Registered as sound listener
[03:36:30] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[03:36:30] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[03:36:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[03:36:30] [ENEMY] [Enemy3] Registered as sound listener
[03:36:30] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[03:36:30] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[03:36:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[03:36:30] [ENEMY] [Enemy4] Registered as sound listener
[03:36:30] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[03:36:30] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[03:36:30] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[03:36:30] [ENEMY] [Grenadier] Registered as sound listener
[03:36:30] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[03:36:30] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[03:36:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[03:36:30] [ENEMY] [Enemy6] Registered as sound listener
[03:36:30] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[03:36:30] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[03:36:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[03:36:30] [ENEMY] [Enemy7] Registered as sound listener
[03:36:30] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[03:36:30] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[03:36:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[03:36:30] [ENEMY] [Enemy8] Registered as sound listener
[03:36:30] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[03:36:30] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[03:36:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[03:36:30] [ENEMY] [Enemy9] Registered as sound listener
[03:36:30] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[03:36:30] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[03:36:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[03:36:30] [ENEMY] [Enemy10] Registered as sound listener
[03:36:30] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[03:36:30] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[03:36:31] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[03:36:31] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:36:31] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:36:31] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:36:31] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:36:31] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:36:31] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:36:31] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:36:31] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[03:36:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[03:36:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[03:36:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[03:36:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[03:36:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[03:36:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[03:36:31] [INFO] [LastChance] Found player: Player
[03:36:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[03:36:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[03:36:31] [INFO] [LastChance] Connected to player Died signal (C#)
[03:36:31] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (531.2997, 771.4765) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (500.5314, 794.2505) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (518.9902, 777.3408) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (410.374, 504.0479) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (358.9925, 470.5698) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (381.0193, 520.1771) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (434.9533, 439.8593) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (450.881, 880.0493) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (567.9194, 788.8815) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (478.9501, 836.1079) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (418.0978, 434.9164) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (443.2792, 538.8746) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (393.5724, 423.9676) (added to group)
[03:36:31] [INFO] [BloodDecal] Blood puddle created at (372.2994, 464.8066) (added to group)
[03:36:32] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[03:36:32] [INFO] ------------------------------------------------------------
[03:36:32] [INFO] GAME LOG ENDED: 2026-02-09T03:36:32
[03:36:32] [INFO] ============================================================
