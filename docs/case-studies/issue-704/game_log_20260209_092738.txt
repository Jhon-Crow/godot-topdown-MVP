[09:27:38] [INFO] ============================================================
[09:27:38] [INFO] GAME LOG STARTED
[09:27:38] [INFO] ============================================================
[09:27:38] [INFO] Timestamp: 2026-02-09T09:27:38
[09:27:38] [INFO] Log file: I:/Загрузки/godot exe/САмонаводящиеся пУЛи/game_log_20260209_092738.txt
[09:27:38] [INFO] Executable: I:/Загрузки/godot exe/САмонаводящиеся пУЛи/Godot-Top-Down-Template.exe
[09:27:38] [INFO] OS: Windows
[09:27:38] [INFO] Debug build: false
[09:27:38] [INFO] Engine version: 4.3-stable (official)
[09:27:38] [INFO] Project: Godot Top-Down Template
[09:27:38] [INFO] ------------------------------------------------------------
[09:27:38] [INFO] [GameManager] GameManager ready
[09:27:38] [INFO] [ScoreManager] ScoreManager ready
[09:27:38] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[09:27:38] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[09:27:38] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[09:27:38] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[09:27:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:27:38] [INFO] [PenultimateHit] Saturation shader loaded successfully
[09:27:38] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[09:27:38] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[09:27:38] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[09:27:38] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[09:27:38] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[09:27:38] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[09:27:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:27:38] [INFO] [LastChance] Last chance shader loaded successfully
[09:27:38] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[09:27:38] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[09:27:38] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[09:27:38] [INFO] [LastChance]   Sepia intensity: 0.70
[09:27:38] [INFO] [LastChance]   Brightness: 0.60
[09:27:38] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[09:27:38] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[09:27:38] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[09:27:38] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[09:27:38] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[09:27:38] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[09:27:38] [INFO] [CinemaEffects] Created effects layer at layer 99
[09:27:38] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[09:27:38] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[09:27:38] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[09:27:38] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[09:27:38] [INFO] [CinemaEffects]   Grain intensity: 0.15
[09:27:38] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[09:27:38] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[09:27:38] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[09:27:38] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[09:27:38] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[09:27:38] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[09:27:38] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[09:27:38] [INFO] [GrenadeTimerHelper] Autoload ready
[09:27:38] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:27:38] [INFO] [PowerFantasy] Saturation shader loaded successfully
[09:27:38] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[09:27:38] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[09:27:38] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[09:27:38] [INFO] [ProgressManager] ProgressManager ready, loaded 8 entries
[09:27:38] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[09:27:38] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:27:38] [INFO] [FlashbangPlayer] Flashbang player shader loaded successfully
[09:27:38] [INFO] [FlashbangPlayer] Starting shader warmup (Issue #343 fix)...
[09:27:38] [INFO] [FlashbangPlayer] FlashbangPlayerEffectsManager ready
[09:27:38] [INFO] [FlashbangPlayer]   Duration range: 1.0-5.0 seconds
[09:27:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:38] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:27:38] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:27:38] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:27:38] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:27:38] [ENEMY] [Enemy1] Death animation component initialized
[09:27:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:38] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:27:38] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:27:38] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:27:38] [ENEMY] [Enemy2] Death animation component initialized
[09:27:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:38] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:27:38] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:27:38] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:27:38] [ENEMY] [Enemy3] Death animation component initialized
[09:27:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:38] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:27:38] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:27:38] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:27:38] [ENEMY] [Enemy4] Death animation component initialized
[09:27:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:38] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[09:27:38] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[09:27:38] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[09:27:38] [ENEMY] [Enemy5] Death animation component initialized
[09:27:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:38] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:27:38] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:27:38] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:27:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:27:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:27:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:27:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:27:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:27:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:27:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:27:38] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:27:38] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:27:38] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:27:38] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[09:27:38] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[09:27:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:27:38] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[09:27:38] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[09:27:38] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:27:38] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:27:38] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:27:38] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:27:38] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[09:27:38] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[09:27:38] [INFO] [LabyrinthLevel] Setting up weapon: makarov_pm
[09:27:38] [INFO] [ScoreManager] Level started with 5 enemies
[09:27:38] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[09:27:38] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[09:27:38] [INFO] [ReplayManager] Replay data cleared
[09:27:38] [INFO] [LabyrinthLevel] Previous replay data cleared
[09:27:38] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:27:38] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:27:38] [INFO] [ReplayManager] Level: LabyrinthLevel
[09:27:38] [INFO] [ReplayManager] Player: Player (valid: True)
[09:27:38] [INFO] [ReplayManager] Enemies count: 5
[09:27:38] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:27:38] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:27:38] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:27:38] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:27:38] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:27:38] [INFO] [ReplayManager]   Enemy 4: Enemy5
[09:27:38] [INFO] [LabyrinthLevel] Replay recording started successfully
[09:27:38] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[09:27:39] [INFO] [CinemaEffects] Found player node: Player
[09:27:39] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:27:39] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:27:39] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[09:27:39] [ENEMY] [Enemy1] Registered as sound listener
[09:27:39] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[09:27:39] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:27:39] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[09:27:39] [ENEMY] [Enemy2] Registered as sound listener
[09:27:39] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[09:27:39] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:27:39] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[09:27:39] [ENEMY] [Enemy3] Registered as sound listener
[09:27:39] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[09:27:39] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:27:39] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[09:27:39] [ENEMY] [Enemy4] Registered as sound listener
[09:27:39] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[09:27:39] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[09:27:39] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[09:27:39] [ENEMY] [Enemy5] Registered as sound listener
[09:27:39] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[09:27:39] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:27:39] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:27:39] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:27:39] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:27:39] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:27:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:27:39] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[09:27:39] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[09:27:39] [INFO] [PenultimateHit] Shader warmup complete in 581 ms
[09:27:39] [INFO] [LastChance] Shader warmup complete in 579 ms
[09:27:39] [INFO] [CinemaEffects] Cinema shader warmup complete in 521 ms
[09:27:39] [INFO] [FlashbangPlayer] Shader warmup complete in 510 ms
[09:27:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:27:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:27:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:27:39] [INFO] [LastChance] Found player: Player
[09:27:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:27:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:27:39] [INFO] [LastChance] Connected to player Died signal (C#)
[09:27:39] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:27:39] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 1050 ms
[09:27:40] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[09:27:41] [INFO] [PauseMenu] Armory button pressed
[09:27:41] [INFO] [PauseMenu] Creating new armory menu instance
[09:27:41] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[09:27:41] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[09:27:41] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[09:27:41] [INFO] [PauseMenu] back_pressed signal exists on instance
[09:27:41] [INFO] [PauseMenu] back_pressed signal connected
[09:27:41] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[09:27:41] [INFO] [PauseMenu] _populate_weapon_grid method exists
[09:27:41] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[09:27:42] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[09:27:43] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[09:27:44] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=5
[09:27:44] [INFO] [ActiveItemManager] Active item changed from None to Homing Bullets
[09:27:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:27:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:44] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:27:44] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:27:44] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:27:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:27:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:27:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:27:44] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[09:27:44] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:27:44] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:27:44] [ENEMY] [Enemy1] Death animation component initialized
[09:27:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:44] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:27:44] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:27:44] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:27:44] [ENEMY] [Enemy2] Death animation component initialized
[09:27:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:44] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:27:44] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:27:44] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:27:44] [ENEMY] [Enemy3] Death animation component initialized
[09:27:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:44] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:27:44] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:27:44] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:27:44] [ENEMY] [Enemy4] Death animation component initialized
[09:27:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:44] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[09:27:44] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[09:27:44] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[09:27:44] [ENEMY] [Enemy5] Death animation component initialized
[09:27:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:44] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:27:44] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:27:44] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:27:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:27:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:27:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:27:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:27:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:27:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:27:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:27:44] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:27:44] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:27:44] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:27:44] [INFO] [Player.Homing] Homing activation sound loaded
[09:27:44] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:27:44] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[09:27:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:27:44] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[09:27:44] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:27:44] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:27:44] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:27:44] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:27:44] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[09:27:44] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[09:27:44] [INFO] [LabyrinthLevel] Setting up weapon: makarov_pm
[09:27:44] [INFO] [ScoreManager] Level started with 5 enemies
[09:27:44] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[09:27:44] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[09:27:44] [INFO] [ReplayManager] Replay data cleared
[09:27:44] [INFO] [LabyrinthLevel] Previous replay data cleared
[09:27:44] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:27:44] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:27:44] [INFO] [ReplayManager] Level: LabyrinthLevel
[09:27:44] [INFO] [ReplayManager] Player: Player (valid: True)
[09:27:44] [INFO] [ReplayManager] Enemies count: 5
[09:27:44] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:27:44] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:27:44] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:27:44] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:27:44] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:27:44] [INFO] [ReplayManager]   Enemy 4: Enemy5
[09:27:44] [INFO] [LabyrinthLevel] Replay recording started successfully
[09:27:44] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:27:44] [INFO] [CinemaEffects] Found player node: Player
[09:27:44] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:27:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[09:27:44] [ENEMY] [Enemy1] Registered as sound listener
[09:27:44] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[09:27:44] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:27:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[09:27:44] [ENEMY] [Enemy2] Registered as sound listener
[09:27:44] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[09:27:44] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:27:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[09:27:44] [ENEMY] [Enemy3] Registered as sound listener
[09:27:44] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[09:27:44] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:27:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[09:27:44] [ENEMY] [Enemy4] Registered as sound listener
[09:27:44] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[09:27:44] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[09:27:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[09:27:44] [ENEMY] [Enemy5] Registered as sound listener
[09:27:44] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[09:27:44] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:27:44] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[09:27:44] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:27:44] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:27:44] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:27:44] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:27:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:27:44] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[09:27:44] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[09:27:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:27:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:27:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:27:44] [INFO] [LastChance] Found player: Player
[09:27:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:27:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:27:44] [INFO] [LastChance] Connected to player Died signal (C#)
[09:27:44] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:27:45] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[09:27:46] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[09:27:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:27:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:46] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:27:46] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:27:46] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:27:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:27:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:27:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:27:46] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:27:46] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:27:46] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:27:46] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:27:46] [ENEMY] [Enemy1] Death animation component initialized
[09:27:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:46] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:27:46] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:27:46] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:27:46] [ENEMY] [Enemy2] Death animation component initialized
[09:27:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:46] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:27:46] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:27:46] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:27:46] [ENEMY] [Enemy3] Death animation component initialized
[09:27:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:46] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:27:46] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:27:46] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:27:46] [ENEMY] [Enemy4] Death animation component initialized
[09:27:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:46] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:27:46] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:27:46] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:27:46] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:27:46] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:27:46] [ENEMY] [Grenadier] Death animation component initialized
[09:27:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:46] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:27:46] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:27:46] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:27:46] [ENEMY] [Enemy6] Death animation component initialized
[09:27:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:46] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:27:46] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:27:46] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:27:46] [ENEMY] [Enemy7] Death animation component initialized
[09:27:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:46] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:27:46] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:27:46] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:27:46] [ENEMY] [Enemy8] Death animation component initialized
[09:27:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:46] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:27:46] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:27:46] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:27:46] [ENEMY] [Enemy9] Death animation component initialized
[09:27:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:46] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:27:46] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:27:46] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:27:46] [ENEMY] [Enemy10] Death animation component initialized
[09:27:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:46] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:27:46] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:27:46] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:27:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:27:46] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:27:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:27:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:27:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:27:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:27:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:27:46] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:27:46] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:27:46] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:27:46] [INFO] [Player.Homing] Homing activation sound loaded
[09:27:46] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:27:46] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[09:27:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:27:46] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:27:46] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:27:46] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:27:46] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:27:46] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:27:46] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:27:46] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:27:46] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:27:46] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:27:46] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:27:46] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:27:46] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:27:46] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[09:27:46] [INFO] [ScoreManager] Level started with 10 enemies
[09:27:46] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:27:46] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:27:46] [INFO] [ReplayManager] Replay data cleared
[09:27:46] [INFO] [BuildingLevel] Previous replay data cleared
[09:27:46] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:27:46] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:27:46] [INFO] [ReplayManager] Level: BuildingLevel
[09:27:46] [INFO] [ReplayManager] Player: Player (valid: True)
[09:27:46] [INFO] [ReplayManager] Enemies count: 10
[09:27:46] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:27:46] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:27:46] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:27:46] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:27:46] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:27:46] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:27:46] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:27:46] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:27:46] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:27:46] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:27:46] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:27:46] [INFO] [BuildingLevel] Replay recording started successfully
[09:27:46] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:27:46] [INFO] [CinemaEffects] Found player node: Player
[09:27:46] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:27:46] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:27:46] [ENEMY] [Enemy1] Registered as sound listener
[09:27:46] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:27:46] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:27:46] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:27:46] [ENEMY] [Enemy2] Registered as sound listener
[09:27:46] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:27:46] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:27:46] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:27:46] [ENEMY] [Enemy3] Registered as sound listener
[09:27:46] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:27:46] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:27:46] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:27:46] [ENEMY] [Enemy4] Registered as sound listener
[09:27:46] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:27:46] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:27:46] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:27:46] [ENEMY] [Grenadier] Registered as sound listener
[09:27:46] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:27:46] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:27:46] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:27:46] [ENEMY] [Enemy6] Registered as sound listener
[09:27:46] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:27:46] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:27:46] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:27:46] [ENEMY] [Enemy7] Registered as sound listener
[09:27:46] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:27:46] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:27:46] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:27:46] [ENEMY] [Enemy8] Registered as sound listener
[09:27:46] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:27:46] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:27:46] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:27:46] [ENEMY] [Enemy9] Registered as sound listener
[09:27:46] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:27:46] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:27:46] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:27:46] [ENEMY] [Enemy10] Registered as sound listener
[09:27:46] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:27:46] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:27:47] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:27:47] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:47] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:47] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:47] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:47] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:47] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:47] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:47] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:27:47] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[09:27:47] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[09:27:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:27:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:27:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:27:47] [INFO] [LastChance] Found player: Player
[09:27:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:27:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:27:47] [INFO] [LastChance] Connected to player Died signal (C#)
[09:27:47] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:27:48] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:27:48] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:27:48] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:27:48] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1188), corner_timer=0.30
[09:27:48] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1188), corner_timer=0.30
[09:27:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1188), corner_timer=-0.02
[09:27:48] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:27:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1188), corner_timer=-0.02
[09:27:48] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:27:48] [INFO] [Player] Invincibility mode: ON
[09:27:48] [INFO] [GameManager] Invincibility mode toggled: ON
[09:27:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1188), corner_timer=0.30
[09:27:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1188), corner_timer=0.30
[09:27:49] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:27:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1188), corner_timer=-0.02
[09:27:49] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:27:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1188), corner_timer=0.30
[09:27:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1188), corner_timer=-0.02
[09:27:49] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:27:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1188), corner_timer=0.30
[09:27:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1162), corner_timer=-0.02
[09:27:49] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:27:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1157), corner_timer=0.30
[09:27:50] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:27:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(414,1069), corner_timer=-0.02
[09:27:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[09:27:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(410,1065), corner_timer=0.30
[09:27:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:27:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(289,944), corner_timer=-0.02
[09:27:50] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[09:27:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(285,941), corner_timer=0.30
[09:27:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:27:51] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[09:27:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(248,908), corner_timer=-0.02
[09:27:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[09:27:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(248,908), corner_timer=0.30
[09:27:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:27:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(248,908), corner_timer=-0.02
[09:27:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[09:27:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(248,908), corner_timer=0.30
[09:27:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:27:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(248,908), corner_timer=-0.02
[09:27:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[09:27:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(248,908), corner_timer=0.30
[09:27:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:27:52] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[09:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(248,908), corner_timer=-0.02
[09:27:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[09:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(248,908), corner_timer=0.30
[09:27:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:27:52] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(248,908), corner_timer=-0.02
[09:27:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[09:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(248,908), corner_timer=0.30
[09:27:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(248.9219, 914.4991), source=PLAYER (MakarovPM), range=1469, listeners=20
[09:27:52] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:27:52] [ENEMY] [Enemy2] Heard gunshot at (248.9219, 914.4991), source_type=0, intensity=0.02, distance=395
[09:27:52] [ENEMY] [Enemy3] Heard gunshot at (248.9219, 914.4991), source_type=0, intensity=0.01, distance=480
[09:27:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:27:52] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=112.9°, current=-101.3°, player=(248,908), corner_timer=0.00
[09:27:52] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=160.6°, current=-168.8°, player=(248,908), corner_timer=0.00
[09:27:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:27:52] [ENEMY] [Enemy4] Memory: medium confidence (0.61) - transitioning to PURSUING
[09:27:52] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:27:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(248.9219, 914.4991), source=PLAYER (MakarovPM), range=1469, listeners=10
[09:27:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:27:52] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[09:27:52] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:27:52] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=179.1°, current=-101.3°, player=(248,908), corner_timer=0.00
[09:27:52] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=95.2°, current=-157.5°, player=(248,908), corner_timer=0.00
[09:27:52] [ENEMY] [Enemy4] PURSUING corner check: angle -113.2°
[09:27:52] [ENEMY] [Enemy1] PURSUING corner check: angle -39.5°
[09:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(248,908), corner_timer=-0.02
[09:27:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[09:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(248,908), corner_timer=0.30
[09:27:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:27:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(248.9219, 914.4991), source=PLAYER (MakarovPM), range=1469, listeners=10
[09:27:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:27:53] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[09:27:53] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:27:53] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:27:53] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=160.6°, current=72.1°, player=(248,908), corner_timer=0.00
[09:27:53] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:27:53] [ENEMY] [Enemy4] PURSUING corner check: angle -89.5°
[09:27:53] [ENEMY] [Enemy1] PURSUING corner check: angle -1.6°
[09:27:53] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(248,908), corner_timer=-0.02
[09:27:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[09:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(248,908), corner_timer=0.30
[09:27:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(248.9219, 914.4991), source=PLAYER (MakarovPM), range=1469, listeners=10
[09:27:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:27:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:27:53] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:27:53] [ENEMY] [Enemy4] PURSUING corner check: angle -89.5°
[09:27:53] [ENEMY] [Enemy1] PURSUING corner check: angle -1.4°
[09:27:53] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[09:27:53] [INFO] [ImpactEffects] spawn_blood_effect called at (548.0695, 804.81), dir=(0.90889, -0.417035), lethal=false
[09:27:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:27:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:27:53] [INFO] [ImpactEffects] Blood effect spawned at (548.0695, 804.81) (scale=0.5)
[09:27:53] [INFO] [FlashbangStatus] Status: STUNNED applied
[09:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(248,908), corner_timer=-0.02
[09:27:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[09:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(248,908), corner_timer=0.30
[09:27:53] [INFO] [FlashbangStatus] Status: STUNNED removed
[09:27:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:27:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:27:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:53] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:27:53] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:27:53] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:27:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:27:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:27:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:27:53] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:27:53] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:27:53] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:27:53] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:27:53] [ENEMY] [Enemy1] Death animation component initialized
[09:27:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:53] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:27:53] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:27:53] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:27:53] [ENEMY] [Enemy2] Death animation component initialized
[09:27:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:53] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:27:53] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:27:53] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:27:53] [ENEMY] [Enemy3] Death animation component initialized
[09:27:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:53] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:27:53] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:27:53] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:27:53] [ENEMY] [Enemy4] Death animation component initialized
[09:27:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:53] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:27:53] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:27:53] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:27:53] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:27:53] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:27:53] [ENEMY] [Grenadier] Death animation component initialized
[09:27:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:53] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:27:53] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:27:53] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:27:53] [ENEMY] [Enemy6] Death animation component initialized
[09:27:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:53] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:27:53] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:27:53] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:27:53] [ENEMY] [Enemy7] Death animation component initialized
[09:27:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:53] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:27:53] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:27:53] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:27:53] [ENEMY] [Enemy8] Death animation component initialized
[09:27:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:53] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:27:53] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:27:53] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:27:53] [ENEMY] [Enemy9] Death animation component initialized
[09:27:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:53] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:27:53] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:27:53] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:27:53] [ENEMY] [Enemy10] Death animation component initialized
[09:27:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:53] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:27:53] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:27:53] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:27:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:27:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:27:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:27:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:27:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:27:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:27:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:27:53] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:27:53] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:27:53] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:27:53] [INFO] [Player.Homing] Homing activation sound loaded
[09:27:53] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:27:53] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[09:27:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:27:53] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:27:53] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:27:53] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:27:53] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:27:53] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:27:53] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:27:53] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:27:53] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:27:53] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:27:53] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:27:53] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:27:53] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:27:53] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[09:27:53] [INFO] [ScoreManager] Level started with 10 enemies
[09:27:53] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:27:53] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:27:53] [INFO] [ReplayManager] Replay data cleared
[09:27:53] [INFO] [BuildingLevel] Previous replay data cleared
[09:27:53] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:27:53] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:27:53] [INFO] [ReplayManager] Level: BuildingLevel
[09:27:53] [INFO] [ReplayManager] Player: Player (valid: True)
[09:27:53] [INFO] [ReplayManager] Enemies count: 10
[09:27:53] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:27:53] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:27:53] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:27:53] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:27:53] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:27:53] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:27:53] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:27:53] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:27:53] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:27:53] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:27:53] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:27:53] [INFO] [BuildingLevel] Replay recording started successfully
[09:27:53] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:27:53] [INFO] [CinemaEffects] Found player node: Player
[09:27:53] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:27:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:27:53] [ENEMY] [Enemy1] Registered as sound listener
[09:27:53] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:27:53] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:27:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:27:53] [ENEMY] [Enemy2] Registered as sound listener
[09:27:53] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:27:53] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:27:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:27:53] [ENEMY] [Enemy3] Registered as sound listener
[09:27:53] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:27:53] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:27:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:27:53] [ENEMY] [Enemy4] Registered as sound listener
[09:27:53] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:27:53] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:27:53] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:27:53] [ENEMY] [Grenadier] Registered as sound listener
[09:27:53] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:27:53] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:27:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:27:53] [ENEMY] [Enemy6] Registered as sound listener
[09:27:53] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:27:53] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:27:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:27:53] [ENEMY] [Enemy7] Registered as sound listener
[09:27:53] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:27:53] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:27:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:27:53] [ENEMY] [Enemy8] Registered as sound listener
[09:27:53] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:27:53] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:27:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:27:53] [ENEMY] [Enemy9] Registered as sound listener
[09:27:53] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:27:53] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:27:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:27:53] [ENEMY] [Enemy10] Registered as sound listener
[09:27:53] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:27:53] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:27:53] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:27:53] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:53] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:53] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:53] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:53] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:53] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:53] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:53] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:27:53] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[09:27:53] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[09:27:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:27:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:27:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:27:53] [INFO] [LastChance] Found player: Player
[09:27:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:27:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:27:53] [INFO] [LastChance] Connected to player Died signal (C#)
[09:27:53] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:27:53] [INFO] [BloodDecal] Blood puddle created at (586.3806, 799.1475) (added to group)
[09:27:53] [INFO] [BloodDecal] Blood puddle created at (610.4335, 800.0574) (added to group)
[09:27:53] [INFO] [BloodDecal] Blood puddle created at (607.3226, 815.7072) (added to group)
[09:27:53] [INFO] [BloodDecal] Blood puddle created at (609.0698, 766.9314) (added to group)
[09:27:53] [INFO] [BloodDecal] Blood puddle created at (654.4788, 811.7498) (added to group)
[09:27:53] [INFO] [BloodDecal] Blood puddle created at (616.787, 747.995) (added to group)
[09:27:54] [INFO] [BloodDecal] Blood puddle created at (648.8658, 798.9482) (added to group)
[09:27:54] [INFO] [BloodDecal] Blood puddle created at (642.4117, 799.731) (added to group)
[09:27:54] [INFO] [BloodDecal] Blood puddle created at (649.3028, 871.0016) (added to group)
[09:27:54] [INFO] [BloodDecal] Blood puddle created at (630.0546, 813.4645) (added to group)
[09:27:54] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:27:54] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(250.9697, 875.1074), source=PLAYER (MakarovPM), range=1469, listeners=20
[09:27:55] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:27:55] [ENEMY] [Enemy2] Heard gunshot at (250.9697, 875.1074), source_type=0, intensity=0.02, distance=358
[09:27:55] [ENEMY] [Enemy3] Heard gunshot at (250.9697, 875.1074), source_type=0, intensity=0.01, distance=466
[09:27:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:27:55] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=115.0°, current=-67.5°, player=(250,869), corner_timer=0.00
[09:27:55] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=165.1°, current=11.3°, player=(250,869), corner_timer=0.00
[09:27:55] [ENEMY] [Enemy4] Memory: medium confidence (0.63) - transitioning to PURSUING
[09:27:55] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:27:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:27:55] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:27:55] [ENEMY] [Enemy1] Memory: medium confidence (0.63) - transitioning to PURSUING
[09:27:55] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:27:55] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=165.7°, current=179.3°, player=(247,865), corner_timer=0.00
[09:27:55] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-176.4°, current=168.8°, player=(247,865), corner_timer=0.00
[09:27:55] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(247,865), corner_timer=0.30
[09:27:55] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(247,865), corner_timer=0.30
[09:27:55] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=96.3°, current=-157.5°, player=(243,861), corner_timer=0.00
[09:27:55] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:27:55] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(223.4769, 844.2709), source=PLAYER (MakarovPM), range=1469, listeners=10
[09:27:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:27:55] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[09:27:55] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[09:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (600.5904, 769.3578), dir=(0.943778, -0.330579), lethal=false
[09:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:27:55] [INFO] [ImpactEffects] Blood effect spawned at (600.5904, 769.3578) (scale=0.5)
[09:27:55] [INFO] [FlashbangStatus] Status: STUNNED applied
[09:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(214,828), corner_timer=-0.02
[09:27:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:27:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(214,828), corner_timer=-0.02
[09:27:55] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(214.4698, 834.1682), source=PLAYER (MakarovPM), range=1469, listeners=10
[09:27:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[09:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(214,828), corner_timer=0.30
[09:27:55] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(214,828), corner_timer=0.30
[09:27:55] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[09:27:55] [INFO] [FlashbangStatus] Status: STUNNED removed
[09:27:55] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:27:55] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:27:55] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:27:55] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[09:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.5557, 780.33), source=ENEMY (Enemy3), range=1469, listeners=10
[09:27:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[09:27:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(512.05066, 796.8116), shooter_id=301335578683, bullet_pos=(512.05066, 796.8116)
[09:27:55] [INFO] [Bullet] Using shooter_position, distance=0
[09:27:55] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[09:27:55] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[09:27:55] [INFO] [Bullet] Starting wall penetration at (512.05066, 796.8116)
[09:27:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,921795
[09:27:55] [INFO] [BloodDecal] Blood puddle created at (654.9814, 729.9156) (added to group)
[09:27:55] [INFO] [Bullet] Body exited signal received for penetrating body
[09:27:55] [INFO] [Bullet] Exiting penetration at (467.92596, 812.00336) after traveling 41,66667 pixels through wall
[09:27:55] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(574.963, 790.6766), source=ENEMY (Enemy3), range=1469, listeners=10
[09:27:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[09:27:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(509.1656, 805.33527), shooter_id=301335578683, bullet_pos=(509.1656, 805.33527)
[09:27:55] [INFO] [Bullet] Using shooter_position, distance=0
[09:27:55] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[09:27:55] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[09:27:55] [INFO] [Bullet] Starting wall penetration at (509.1656, 805.33527)
[09:27:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,362103
[09:27:55] [INFO] [Bullet] Body exited signal received for penetrating body
[09:27:55] [INFO] [Bullet] Exiting penetration at (463.19598, 813.3711) after traveling 41,66667 pixels through wall
[09:27:55] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:27:55] [INFO] [BloodDecal] Blood puddle created at (651.0704, 746.2851) (added to group)
[09:27:55] [INFO] [BloodDecal] Blood puddle created at (681.9667, 727.9355) (added to group)
[09:27:55] [INFO] [BloodDecal] Blood puddle created at (676.7183, 790.5352) (added to group)
[09:27:55] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=126.3°, current=162.9°, player=(214,828), corner_timer=0.00
[09:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.5837, 799.7134), source=ENEMY (Enemy3), range=1469, listeners=10
[09:27:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[09:27:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(214,828), corner_timer=-0.02
[09:27:55] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:27:55] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:27:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(510.52777, 833.52155), shooter_id=301335578683, bullet_pos=(510.52777, 833.52155)
[09:27:55] [INFO] [Bullet] Using shooter_position, distance=0
[09:27:55] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[09:27:55] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[09:27:55] [INFO] [Bullet] Starting wall penetration at (510.52777, 833.52155)
[09:27:55] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(214,828), corner_timer=0.30
[09:27:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,527103
[09:27:55] [INFO] [Bullet] Body exited signal received for penetrating body
[09:27:55] [INFO] [Bullet] Exiting penetration at (466.4241, 848.7743) after traveling 41,666668 pixels through wall
[09:27:55] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:27:56] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[09:27:56] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(214.4698, 834.1682), source=PLAYER (MakarovPM), range=1469, listeners=10
[09:27:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[09:27:56] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:27:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(223.4769, 844.2709), shooter_id=304691021489, bullet_pos=(919.803, 612.139)
[09:27:56] [INFO] [Bullet] Using shooter_position, distance=733.99951171875
[09:27:56] [INFO] [Bullet] Distance to wall: 733.99951171875 (49.9793764590177% of viewport)
[09:27:56] [INFO] [Bullet] Distance-based penetration chance: 88.357394131146%
[09:27:56] [INFO] [Bullet] Caliber cannot penetrate walls
[09:27:56] [INFO] [BloodDecal] Blood puddle created at (750.6775, 808.4925) (added to group)
[09:27:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(214,828), corner_timer=-0.02
[09:27:56] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:27:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(214,828), corner_timer=0.30
[09:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(214.4698, 834.1682), source=PLAYER (MakarovPM), range=1469, listeners=10
[09:27:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[09:27:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(214,828), corner_timer=-0.02
[09:27:56] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:27:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(214,828), corner_timer=0.30
[09:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(214.4698, 834.1682), source=PLAYER (MakarovPM), range=1469, listeners=10
[09:27:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[09:27:56] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:27:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(214.4698, 834.1682), shooter_id=304691021489, bullet_pos=(1365.835, 390.1942)
[09:27:56] [INFO] [Bullet] Using shooter_position, distance=1233.99926757813
[09:27:56] [INFO] [Bullet] Distance to wall: 1233.99926757813 (84.0252792539613% of viewport)
[09:27:56] [INFO] [Bullet] Distance-based penetration chance: 48.6371742037118%
[09:27:56] [INFO] [Bullet] Penetration failed (distance roll)
[09:27:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(214,828), corner_timer=-0.02
[09:27:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[09:27:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(214,828), corner_timer=0.30
[09:27:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:27:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:57] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:27:57] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:27:57] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:27:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:27:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:27:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:27:57] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:27:57] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:27:57] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:27:57] [ENEMY] [Enemy1] Death animation component initialized
[09:27:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:57] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:27:57] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:27:57] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:27:57] [ENEMY] [Enemy2] Death animation component initialized
[09:27:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:57] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:27:57] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:27:57] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:27:57] [ENEMY] [Enemy3] Death animation component initialized
[09:27:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:57] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:27:57] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:27:57] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:27:57] [ENEMY] [Enemy4] Death animation component initialized
[09:27:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:57] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:27:57] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:27:57] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:27:57] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:27:57] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:27:57] [ENEMY] [Grenadier] Death animation component initialized
[09:27:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:57] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:27:57] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:27:57] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:27:57] [ENEMY] [Enemy6] Death animation component initialized
[09:27:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:57] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:27:57] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:27:57] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:27:57] [ENEMY] [Enemy7] Death animation component initialized
[09:27:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:57] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:27:57] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:27:57] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:27:57] [ENEMY] [Enemy8] Death animation component initialized
[09:27:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:57] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:27:57] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:27:57] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:27:57] [ENEMY] [Enemy9] Death animation component initialized
[09:27:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:57] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:27:57] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:27:57] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:27:57] [ENEMY] [Enemy10] Death animation component initialized
[09:27:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:27:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:27:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:27:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:27:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:27:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:27:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:27:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:27:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:27:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:27:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:27:57] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:27:57] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:27:57] [INFO] [Player.Homing] Homing activation sound loaded
[09:27:57] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:27:57] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[09:27:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:27:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:27:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:27:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:27:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:27:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:27:57] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:27:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:27:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:27:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:27:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:27:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:27:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:27:57] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[09:27:57] [INFO] [ScoreManager] Level started with 10 enemies
[09:27:57] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:27:57] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:27:57] [INFO] [ReplayManager] Replay data cleared
[09:27:57] [INFO] [BuildingLevel] Previous replay data cleared
[09:27:57] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:27:57] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:27:57] [INFO] [ReplayManager] Level: BuildingLevel
[09:27:57] [INFO] [ReplayManager] Player: Player (valid: True)
[09:27:57] [INFO] [ReplayManager] Enemies count: 10
[09:27:57] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:27:57] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:27:57] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:27:57] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:27:57] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:27:57] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:27:57] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:27:57] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:27:57] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:27:57] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:27:57] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:27:57] [INFO] [BuildingLevel] Replay recording started successfully
[09:27:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:27:57] [INFO] [CinemaEffects] Found player node: Player
[09:27:57] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:27:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:27:57] [ENEMY] [Enemy1] Registered as sound listener
[09:27:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:27:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:27:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:27:57] [ENEMY] [Enemy2] Registered as sound listener
[09:27:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:27:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:27:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:27:57] [ENEMY] [Enemy3] Registered as sound listener
[09:27:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:27:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:27:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:27:57] [ENEMY] [Enemy4] Registered as sound listener
[09:27:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:27:57] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:27:57] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:27:57] [ENEMY] [Grenadier] Registered as sound listener
[09:27:57] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:27:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:27:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:27:57] [ENEMY] [Enemy6] Registered as sound listener
[09:27:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:27:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:27:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:27:57] [ENEMY] [Enemy7] Registered as sound listener
[09:27:57] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:27:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:27:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:27:57] [ENEMY] [Enemy8] Registered as sound listener
[09:27:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:27:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:27:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:27:57] [ENEMY] [Enemy9] Registered as sound listener
[09:27:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:27:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:27:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:27:57] [ENEMY] [Enemy10] Registered as sound listener
[09:27:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:27:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:27:57] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:27:57] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:57] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:57] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:57] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:57] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:57] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:57] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:57] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:27:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:27:57] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[09:27:57] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[09:27:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:27:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:27:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:27:57] [INFO] [LastChance] Found player: Player
[09:27:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:27:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:27:57] [INFO] [LastChance] Connected to player Died signal (C#)
[09:27:57] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:27:58] [INFO] [PauseMenu] Armory button pressed
[09:27:58] [INFO] [PauseMenu] Creating new armory menu instance
[09:27:58] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[09:27:58] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[09:27:58] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[09:27:58] [INFO] [PauseMenu] back_pressed signal exists on instance
[09:27:58] [INFO] [PauseMenu] back_pressed signal connected
[09:27:58] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[09:27:58] [INFO] [PauseMenu] _populate_weapon_grid method exists
[09:27:58] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:27:59] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:27:59] [INFO] [GameManager] Weapon selected: m16
[09:27:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:59] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:27:59] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:27:59] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:27:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:27:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:27:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:27:59] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:27:59] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:27:59] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:27:59] [ENEMY] [Enemy1] Death animation component initialized
[09:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:59] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:27:59] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:27:59] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:27:59] [ENEMY] [Enemy2] Death animation component initialized
[09:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:59] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:27:59] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:27:59] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:27:59] [ENEMY] [Enemy3] Death animation component initialized
[09:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:59] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:27:59] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:27:59] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:27:59] [ENEMY] [Enemy4] Death animation component initialized
[09:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:59] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:27:59] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:27:59] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:27:59] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:27:59] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:27:59] [ENEMY] [Grenadier] Death animation component initialized
[09:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:59] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:27:59] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:27:59] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:27:59] [ENEMY] [Enemy6] Death animation component initialized
[09:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:59] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:27:59] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:27:59] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:27:59] [ENEMY] [Enemy7] Death animation component initialized
[09:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:59] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:27:59] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:27:59] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:27:59] [ENEMY] [Enemy8] Death animation component initialized
[09:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:59] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:27:59] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:27:59] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:27:59] [ENEMY] [Enemy9] Death animation component initialized
[09:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:59] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:27:59] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:27:59] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:27:59] [ENEMY] [Enemy10] Death animation component initialized
[09:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:27:59] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:27:59] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:27:59] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:27:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:27:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:27:59] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:27:59] [INFO] [Player.Weapon] Removed default MakarovPM
[09:27:59] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:27:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:27:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:27:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:27:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:27:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:27:59] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:27:59] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:27:59] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:27:59] [INFO] [Player.Homing] Homing activation sound loaded
[09:27:59] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:27:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:27:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:27:59] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:27:59] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:27:59] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:27:59] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:27:59] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:27:59] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:27:59] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:27:59] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:27:59] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:27:59] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:27:59] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:27:59] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:27:59] [INFO] [BuildingLevel] Setting up weapon: m16
[09:27:59] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:27:59] [INFO] [ScoreManager] Level started with 10 enemies
[09:27:59] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:27:59] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:27:59] [INFO] [ReplayManager] Replay data cleared
[09:27:59] [INFO] [BuildingLevel] Previous replay data cleared
[09:27:59] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:27:59] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:27:59] [INFO] [ReplayManager] Level: BuildingLevel
[09:27:59] [INFO] [ReplayManager] Player: Player (valid: True)
[09:27:59] [INFO] [ReplayManager] Enemies count: 10
[09:27:59] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:27:59] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:27:59] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:27:59] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:27:59] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:27:59] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:27:59] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:27:59] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:27:59] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:27:59] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:27:59] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:27:59] [INFO] [BuildingLevel] Replay recording started successfully
[09:27:59] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:27:59] [INFO] [CinemaEffects] Found player node: Player
[09:27:59] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:27:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[09:27:59] [ENEMY] [Enemy1] Registered as sound listener
[09:27:59] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:27:59] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:27:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[09:27:59] [ENEMY] [Enemy2] Registered as sound listener
[09:27:59] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:27:59] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:27:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[09:27:59] [ENEMY] [Enemy3] Registered as sound listener
[09:27:59] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:27:59] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:27:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[09:27:59] [ENEMY] [Enemy4] Registered as sound listener
[09:27:59] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:27:59] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:27:59] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 25)
[09:27:59] [ENEMY] [Grenadier] Registered as sound listener
[09:27:59] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:27:59] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:27:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[09:27:59] [ENEMY] [Enemy6] Registered as sound listener
[09:27:59] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:27:59] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:27:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[09:27:59] [ENEMY] [Enemy7] Registered as sound listener
[09:27:59] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:27:59] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:27:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[09:27:59] [ENEMY] [Enemy8] Registered as sound listener
[09:27:59] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:27:59] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:27:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[09:27:59] [ENEMY] [Enemy9] Registered as sound listener
[09:27:59] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:27:59] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:27:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[09:27:59] [ENEMY] [Enemy10] Registered as sound listener
[09:27:59] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:27:59] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:27:59] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:27:59] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:59] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:59] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:59] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:59] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:59] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:59] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:59] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:27:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:27:59] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:27:59] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:27:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:27:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:27:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:27:59] [INFO] [LastChance] Found player: Player
[09:27:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:27:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:27:59] [INFO] [LastChance] Connected to player Died signal (C#)
[09:27:59] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:00] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:01] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:01] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:01] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:01] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(245,893), corner_timer=0.30
[09:28:01] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(245,893), corner_timer=0.30
[09:28:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(240.4882, 889.7773), source=PLAYER (AssaultRifle), range=1469, listeners=30
[09:28:01] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[09:28:01] [ENEMY] [Enemy2] Heard gunshot at (240.4882, 889.7773), source_type=0, intensity=0.02, distance=375
[09:28:01] [ENEMY] [Enemy3] Heard gunshot at (240.4882, 889.7773), source_type=0, intensity=0.01, distance=480
[09:28:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:01] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=115.1°, current=-157.5°, player=(240,889), corner_timer=0.00
[09:28:01] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=163.1°, current=11.3°, player=(240,889), corner_timer=0.00
[09:28:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(240.4882, 889.7773), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:01] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[09:28:01] [INFO] [ImpactEffects] spawn_blood_effect called at (654.0777, 763.9691), dir=(1, 0), lethal=false
[09:28:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:01] [INFO] [ImpactEffects] Blood effect spawned at (654.0777, 763.9691) (scale=1)
[09:28:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(240,889), corner_timer=-0.01
[09:28:01] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.0°, player=(240,889), corner_timer=-0.01
[09:28:01] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[09:28:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(240,889), corner_timer=0.30
[09:28:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=52.8°, player=(240,889), corner_timer=0.30
[09:28:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(240.48819, 889.7773), shooter_id=465903291979, bullet_pos=(504.6944, 807.415)
[09:28:01] [INFO] [Bullet] Using shooter_position, distance=276,74622
[09:28:01] [INFO] [Bullet] Distance to wall: 276,74622 (18,844158% of viewport)
[09:28:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:01] [INFO] [Bullet] Starting wall penetration at (504.6944, 807.415)
[09:28:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,242718
[09:28:01] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:01] [INFO] [Bullet] Exiting penetration at (541.5305, 796.80615) after traveling 33,333332 pixels through wall
[09:28:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(240.4882, 889.7773), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:01] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:28:01] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:28:01] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=163.1°, current=163.1°, player=(240,889), corner_timer=0.00
[09:28:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(240.48819, 889.7773), shooter_id=465903291979, bullet_pos=(512.97003, 806.3161)
[09:28:01] [INFO] [Bullet] Using shooter_position, distance=284,9774
[09:28:01] [INFO] [Bullet] Distance to wall: 284,9774 (19,404634% of viewport)
[09:28:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:01] [INFO] [Bullet] Starting wall penetration at (512.97003, 806.3161)
[09:28:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(240.4882, 889.7773), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,974894
[09:28:01] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:01] [INFO] [Bullet] Exiting penetration at (550.2494, 797.3923) after traveling 33,333336 pixels through wall
[09:28:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:01] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:28:01] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:28:01] [ENEMY] [Enemy4] Memory: medium confidence (0.59) - transitioning to PURSUING
[09:28:01] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:28:01] [INFO] [BloodDecal] Blood puddle created at (713.2711, 793.666) (added to group)
[09:28:01] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-179.0°, current=-67.5°, player=(240,889), corner_timer=0.00
[09:28:02] [ENEMY] [Enemy4] PURSUING corner check: angle -102.5°
[09:28:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(240.48819, 889.7773), shooter_id=465903291979, bullet_pos=(513.7377, 809.5593)
[09:28:02] [INFO] [Bullet] Using shooter_position, distance=284,78098
[09:28:02] [INFO] [Bullet] Distance to wall: 284,78098 (19,39126% of viewport)
[09:28:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:02] [INFO] [Bullet] Starting wall penetration at (513.7377, 809.5593)
[09:28:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,743248
[09:28:02] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:02] [INFO] [Bullet] Exiting penetration at (550.88464, 800.0964) after traveling 33,333336 pixels through wall
[09:28:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:02] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:02] [INFO] [BloodDecal] Blood puddle created at (732.0945, 766.9327) (added to group)
[09:28:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.2°, player=(240,889), corner_timer=-0.01
[09:28:02] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[09:28:02] [INFO] [BloodDecal] Blood puddle created at (741.6273, 773.2159) (added to group)
[09:28:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.3°, player=(240,889), corner_timer=0.30
[09:28:02] [INFO] [BloodDecal] Blood puddle created at (746.8684, 780.0521) (added to group)
[09:28:02] [INFO] [BloodDecal] Blood puddle created at (753.0394, 783.2355) (added to group)
[09:28:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:02] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:02] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:02] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:02] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:02] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:02] [ENEMY] [Enemy1] Death animation component initialized
[09:28:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:02] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:02] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:02] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:02] [ENEMY] [Enemy2] Death animation component initialized
[09:28:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:02] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:02] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:02] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:02] [ENEMY] [Enemy3] Death animation component initialized
[09:28:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:02] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:02] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:02] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:28:02] [ENEMY] [Enemy4] Death animation component initialized
[09:28:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:02] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:02] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:02] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:02] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:02] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:02] [ENEMY] [Grenadier] Death animation component initialized
[09:28:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:02] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:02] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:02] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:02] [ENEMY] [Enemy6] Death animation component initialized
[09:28:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:02] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:02] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:02] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:02] [ENEMY] [Enemy7] Death animation component initialized
[09:28:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:02] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:02] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:02] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:02] [ENEMY] [Enemy8] Death animation component initialized
[09:28:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:02] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:02] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:02] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:02] [ENEMY] [Enemy9] Death animation component initialized
[09:28:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:02] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:02] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:02] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:02] [ENEMY] [Enemy10] Death animation component initialized
[09:28:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:02] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:02] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:02] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:02] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:02] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:02] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:02] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:02] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:02] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:02] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:02] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:02] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:02] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:02] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:02] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:02] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:02] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:02] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:02] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:02] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:02] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:02] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:02] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:02] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:02] [INFO] [ReplayManager] Replay data cleared
[09:28:02] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:02] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:02] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:02] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:02] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:02] [INFO] [ReplayManager] Enemies count: 10
[09:28:02] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:02] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:02] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:02] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:02] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:02] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:02] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:02] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:02] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:02] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:02] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:02] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:02] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:02] [INFO] [CinemaEffects] Found player node: Player
[09:28:02] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:28:02] [ENEMY] [Enemy1] Registered as sound listener
[09:28:02] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:28:02] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:28:02] [ENEMY] [Enemy2] Registered as sound listener
[09:28:02] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:28:02] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:28:02] [ENEMY] [Enemy3] Registered as sound listener
[09:28:02] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:28:02] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:28:02] [ENEMY] [Enemy4] Registered as sound listener
[09:28:02] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:28:02] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:02] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:28:02] [ENEMY] [Grenadier] Registered as sound listener
[09:28:02] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:02] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:28:02] [ENEMY] [Enemy6] Registered as sound listener
[09:28:02] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:28:02] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:28:02] [ENEMY] [Enemy7] Registered as sound listener
[09:28:02] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:28:02] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:28:02] [ENEMY] [Enemy8] Registered as sound listener
[09:28:02] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:28:02] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:28:02] [ENEMY] [Enemy9] Registered as sound listener
[09:28:02] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:28:02] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:28:02] [ENEMY] [Enemy10] Registered as sound listener
[09:28:02] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:28:02] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:02] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:02] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:02] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:02] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:02] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:02] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:02] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:02] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:02] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:02] [INFO] [LastChance] Found player: Player
[09:28:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:02] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:02] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:02] [INFO] [BloodDecal] Blood puddle created at (817.2668, 763.5875) (added to group)
[09:28:02] [INFO] [BloodDecal] Blood puddle created at (826.5325, 789.5063) (added to group)
[09:28:03] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:03] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(268.7484, 912.4407), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:28:03] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:28:03] [ENEMY] [Enemy2] Heard gunshot at (268.7484, 912.4407), source_type=0, intensity=0.02, distance=385
[09:28:03] [ENEMY] [Enemy3] Heard gunshot at (268.7484, 912.4407), source_type=0, intensity=0.01, distance=461
[09:28:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:03] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=109.9°, current=45.0°, player=(268,912), corner_timer=0.00
[09:28:03] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=159.4°, current=11.3°, player=(268,912), corner_timer=0.00
[09:28:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(268.74844, 912.44073), shooter_id=518499863028, bullet_pos=(507.90054, 813.5404)
[09:28:03] [INFO] [Bullet] Using shooter_position, distance=258,7953
[09:28:03] [INFO] [Bullet] Distance to wall: 258,7953 (17,621847% of viewport)
[09:28:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:03] [INFO] [Bullet] Starting wall penetration at (507.90054, 813.5404)
[09:28:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,74052
[09:28:03] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:03] [INFO] [Bullet] Exiting penetration at (552.2905, 799.1424) after traveling 41,66667 pixels through wall
[09:28:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:03] [ENEMY] [Enemy4] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:28:03] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:28:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:03] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(260.951, 905.4887), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:03] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:28:03] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:28:03] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=179.4°, current=-67.5°, player=(260,905), corner_timer=0.00
[09:28:03] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(260,905), corner_timer=0.30
[09:28:03] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(260,905), corner_timer=0.30
[09:28:04] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=94.1°, current=-157.5°, player=(260,905), corner_timer=0.00
[09:28:04] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:28:04] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:28:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(260.951, 905.4887), shooter_id=518499863028, bullet_pos=(501.48044, 811.0195)
[09:28:04] [INFO] [Bullet] Using shooter_position, distance=258,41605
[09:28:04] [INFO] [Bullet] Distance to wall: 258,41605 (17,596024% of viewport)
[09:28:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:04] [INFO] [Bullet] Starting wall penetration at (501.48044, 811.0195)
[09:28:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(260.5892, 905.1661), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,264635
[09:28:04] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:04] [INFO] [Bullet] Exiting penetration at (546.3906, 798.3366) after traveling 41,66667 pixels through wall
[09:28:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(260.58917, 905.16614), shooter_id=518499863028, bullet_pos=(501.0862, 811.40424)
[09:28:04] [INFO] [Bullet] Using shooter_position, distance=258,1281
[09:28:04] [INFO] [Bullet] Distance to wall: 258,1281 (17,576418% of viewport)
[09:28:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:04] [INFO] [Bullet] Starting wall penetration at (501.0862, 811.40424)
[09:28:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,960976
[09:28:04] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:04] [INFO] [Bullet] Exiting penetration at (546.1989, 799.46204) after traveling 41,666668 pixels through wall
[09:28:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(260.5892, 905.1661), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:04] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:28:04] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:28:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(260.58917, 905.16614), shooter_id=518499863028, bullet_pos=(501.09265, 812.88104)
[09:28:04] [INFO] [Bullet] Using shooter_position, distance=257,60135
[09:28:04] [INFO] [Bullet] Distance to wall: 257,60135 (17,54055% of viewport)
[09:28:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:04] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=160.6°, current=160.6°, player=(260,905), corner_timer=0.00
[09:28:04] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:28:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(260,905), corner_timer=-0.02
[09:28:04] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(260,905), corner_timer=-0.02
[09:28:04] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:28:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(260.5892, 905.1661), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:04] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:28:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(260,905), corner_timer=0.30
[09:28:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(260,905), corner_timer=0.30
[09:28:04] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[09:28:04] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(260.5892, 905.1661), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:04] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:28:04] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[09:28:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(260.5892, 905.1661), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:04] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[09:28:04] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:28:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:28:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(260.5892, 905.1661), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(260,905), corner_timer=-0.02
[09:28:04] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:28:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(260,905), corner_timer=0.30
[09:28:04] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[09:28:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(260.58917, 905.16614), shooter_id=518499863028, bullet_pos=(1122.0879, 301.4085)
[09:28:04] [INFO] [Bullet] Using shooter_position, distance=1051,9998
[09:28:04] [INFO] [Bullet] Distance to wall: 1051,9998 (71,6326% of viewport)
[09:28:04] [INFO] [Bullet] Distance-based penetration chance: 63,095306%
[09:28:04] [INFO] [Bullet] Starting wall penetration at (1122.0879, 301.4085)
[09:28:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:28:04] [INFO] [Bullet] Exiting penetration at (1160.304, 274.62585) after traveling 41,666668 pixels through wall
[09:28:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(260.58917, 905.16614), shooter_id=518499863028, bullet_pos=(1120.152, 298.65445)
[09:28:04] [INFO] [Bullet] Using shooter_position, distance=1052,0002
[09:28:04] [INFO] [Bullet] Distance to wall: 1052,0002 (71,63264% of viewport)
[09:28:04] [INFO] [Bullet] Distance-based penetration chance: 63,09526%
[09:28:04] [INFO] [Bullet] Starting wall penetration at (1120.152, 298.65445)
[09:28:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,957115
[09:28:04] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:04] [INFO] [Bullet] Exiting penetration at (1158.2821, 271.7496) after traveling 41,666668 pixels through wall
[09:28:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:04] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:04] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:04] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:04] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:04] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:04] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:04] [ENEMY] [Enemy1] Death animation component initialized
[09:28:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:04] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:04] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:04] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:04] [ENEMY] [Enemy2] Death animation component initialized
[09:28:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:04] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:04] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:04] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:04] [ENEMY] [Enemy3] Death animation component initialized
[09:28:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:04] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:04] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:04] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:04] [ENEMY] [Enemy4] Death animation component initialized
[09:28:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:04] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:04] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:04] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:04] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:04] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:04] [ENEMY] [Grenadier] Death animation component initialized
[09:28:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:04] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:04] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:04] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:04] [ENEMY] [Enemy6] Death animation component initialized
[09:28:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:04] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:04] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:04] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:04] [ENEMY] [Enemy7] Death animation component initialized
[09:28:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:04] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:04] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:04] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:04] [ENEMY] [Enemy8] Death animation component initialized
[09:28:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:04] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:04] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:04] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:04] [ENEMY] [Enemy9] Death animation component initialized
[09:28:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:04] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:04] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:04] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:04] [ENEMY] [Enemy10] Death animation component initialized
[09:28:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:04] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:04] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:04] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:04] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:04] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:04] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:04] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:04] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:04] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:04] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:04] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:04] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:04] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:04] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:04] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:04] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:04] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:04] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:04] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:04] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:04] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:04] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:04] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:04] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:04] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:04] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:04] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:04] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:04] [INFO] [ReplayManager] Replay data cleared
[09:28:04] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:04] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:04] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:04] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:04] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:04] [INFO] [ReplayManager] Enemies count: 10
[09:28:04] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:04] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:04] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:04] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:04] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:04] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:04] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:04] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:04] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:04] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:04] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:04] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:04] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:04] [INFO] [CinemaEffects] Found player node: Player
[09:28:04] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:28:04] [ENEMY] [Enemy1] Registered as sound listener
[09:28:04] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:28:04] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:28:04] [ENEMY] [Enemy2] Registered as sound listener
[09:28:04] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:28:04] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:28:04] [ENEMY] [Enemy3] Registered as sound listener
[09:28:04] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:28:04] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:28:04] [ENEMY] [Enemy4] Registered as sound listener
[09:28:04] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:28:04] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:04] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:28:04] [ENEMY] [Grenadier] Registered as sound listener
[09:28:04] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:04] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:28:04] [ENEMY] [Enemy6] Registered as sound listener
[09:28:04] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:28:04] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:28:04] [ENEMY] [Enemy7] Registered as sound listener
[09:28:04] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:28:04] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:28:04] [ENEMY] [Enemy8] Registered as sound listener
[09:28:04] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:28:04] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:28:04] [ENEMY] [Enemy9] Registered as sound listener
[09:28:04] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:28:04] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:28:04] [ENEMY] [Enemy10] Registered as sound listener
[09:28:04] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:28:04] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:05] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:05] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:05] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:05] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:05] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:05] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:05] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:05] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:05] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:05] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:05] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:05] [INFO] [LastChance] Found player: Player
[09:28:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:05] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:05] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:05] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:06] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:06] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:06] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(254,897), corner_timer=0.30
[09:28:06] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(254,897), corner_timer=0.30
[09:28:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(253.4732, 896.9854), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:28:06] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:28:06] [ENEMY] [Enemy2] Heard gunshot at (253.4732, 896.9854), source_type=0, intensity=0.02, distance=377
[09:28:06] [ENEMY] [Enemy3] Heard gunshot at (253.4732, 896.9854), source_type=0, intensity=0.01, distance=470
[09:28:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:06] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=112.9°, current=168.8°, player=(253,896), corner_timer=0.00
[09:28:06] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=161.8°, current=-168.8°, player=(253,896), corner_timer=0.00
[09:28:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(253.47316, 896.98535), shooter_id=607754653278, bullet_pos=(497.4037, 809.34875)
[09:28:06] [INFO] [Bullet] Using shooter_position, distance=259,19543
[09:28:06] [INFO] [Bullet] Distance to wall: 259,19543 (17,649096% of viewport)
[09:28:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:06] [INFO] [Bullet] Starting wall penetration at (497.4037, 809.34875)
[09:28:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(252.1554, 895.9445), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,995636
[09:28:06] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:06] [INFO] [Bullet] Exiting penetration at (542.25885, 796.4728) after traveling 41,666668 pixels through wall
[09:28:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(252.1554, 895.9445), shooter_id=607754653278, bullet_pos=(496.0512, 809.01624)
[09:28:06] [INFO] [Bullet] Using shooter_position, distance=258,9241
[09:28:06] [INFO] [Bullet] Distance to wall: 258,9241 (17,63062% of viewport)
[09:28:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:06] [INFO] [Bullet] Starting wall penetration at (496.0512, 809.01624)
[09:28:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,68825
[09:28:06] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:06] [INFO] [Bullet] Exiting penetration at (541.06116, 796.6922) after traveling 41,666668 pixels through wall
[09:28:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(252.1554, 895.9445), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:06] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(252,895), corner_timer=-0.02
[09:28:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(252,895), corner_timer=-0.02
[09:28:06] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:28:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(252.1554, 895.9445), shooter_id=607754653278, bullet_pos=(496.213, 809.9137)
[09:28:07] [INFO] [Bullet] Using shooter_position, distance=258,7768
[09:28:07] [INFO] [Bullet] Distance to wall: 258,7768 (17,620588% of viewport)
[09:28:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:07] [INFO] [Bullet] Starting wall penetration at (496.213, 809.9137)
[09:28:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(252,895), corner_timer=0.30
[09:28:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(252,895), corner_timer=0.30
[09:28:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,937534
[09:28:07] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:07] [INFO] [Bullet] Exiting penetration at (541.3516, 798.0696) after traveling 41,666668 pixels through wall
[09:28:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(252.1554, 895.9445), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:07] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:28:07] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=162.0°, current=59.1°, player=(252,895), corner_timer=0.00
[09:28:07] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:28:07] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:28:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(252.1554, 895.9445), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:07] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:28:07] [ENEMY] [Enemy4] Memory: medium confidence (0.58) - transitioning to PURSUING
[09:28:07] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:28:07] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:07] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-179.6°, current=168.8°, player=(252,895), corner_timer=0.00
[09:28:07] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:28:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(252.1554, 895.9445), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(252,895), corner_timer=-0.02
[09:28:07] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:28:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(252,895), corner_timer=0.30
[09:28:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:07] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:07] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:07] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:07] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:07] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:07] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:07] [ENEMY] [Enemy1] Death animation component initialized
[09:28:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:07] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:07] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:07] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:07] [ENEMY] [Enemy2] Death animation component initialized
[09:28:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:07] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:07] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:07] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:07] [ENEMY] [Enemy3] Death animation component initialized
[09:28:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:07] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:07] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:07] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:07] [ENEMY] [Enemy4] Death animation component initialized
[09:28:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:07] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:07] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:07] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:07] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:07] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:07] [ENEMY] [Grenadier] Death animation component initialized
[09:28:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:07] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:07] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:07] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:07] [ENEMY] [Enemy6] Death animation component initialized
[09:28:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:07] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:07] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:07] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:07] [ENEMY] [Enemy7] Death animation component initialized
[09:28:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:07] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:07] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:07] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:07] [ENEMY] [Enemy8] Death animation component initialized
[09:28:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:07] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:07] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:07] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:07] [ENEMY] [Enemy9] Death animation component initialized
[09:28:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:07] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:07] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:07] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:07] [ENEMY] [Enemy10] Death animation component initialized
[09:28:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:07] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:07] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:07] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:07] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:07] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:07] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:07] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:07] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:07] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:07] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:07] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:07] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:07] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:07] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:07] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:07] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:07] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:07] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:07] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:07] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:07] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:07] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:07] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:07] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:07] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:07] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:07] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:07] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:07] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:07] [INFO] [ReplayManager] Replay data cleared
[09:28:07] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:07] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:07] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:07] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:07] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:07] [INFO] [ReplayManager] Enemies count: 10
[09:28:07] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:07] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:07] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:07] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:07] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:07] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:07] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:07] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:07] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:07] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:07] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:07] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:07] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:07] [INFO] [CinemaEffects] Found player node: Player
[09:28:07] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:28:07] [ENEMY] [Enemy1] Registered as sound listener
[09:28:07] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:28:07] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:28:07] [ENEMY] [Enemy2] Registered as sound listener
[09:28:07] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:28:07] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:28:07] [ENEMY] [Enemy3] Registered as sound listener
[09:28:07] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:28:07] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:28:07] [ENEMY] [Enemy4] Registered as sound listener
[09:28:07] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:28:07] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:07] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:28:07] [ENEMY] [Grenadier] Registered as sound listener
[09:28:07] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:07] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:07] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:28:07] [ENEMY] [Enemy6] Registered as sound listener
[09:28:07] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:28:07] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:07] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:28:07] [ENEMY] [Enemy7] Registered as sound listener
[09:28:07] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:28:07] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:07] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:28:07] [ENEMY] [Enemy8] Registered as sound listener
[09:28:07] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:28:07] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:07] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:28:07] [ENEMY] [Enemy9] Registered as sound listener
[09:28:07] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:28:07] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:07] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:28:07] [ENEMY] [Enemy10] Registered as sound listener
[09:28:07] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:28:07] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:07] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:07] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:07] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:07] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:07] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:07] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:07] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:07] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:07] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:07] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:07] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:07] [INFO] [LastChance] Found player: Player
[09:28:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:07] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:07] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:08] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:08] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:09] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:09] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:09] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(279,940), corner_timer=0.30
[09:28:09] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(279,940), corner_timer=0.30
[09:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(253,911), corner_timer=-0.02
[09:28:09] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:09] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(253,911), corner_timer=-0.02
[09:28:09] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(253,911), corner_timer=0.30
[09:28:09] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(253,911), corner_timer=0.30
[09:28:09] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:28:09] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:28:09] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(253,865), corner_timer=-0.02
[09:28:09] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:28:09] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(253,860), corner_timer=0.30
[09:28:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(253.3607, 832.7266), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:28:09] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:28:09] [ENEMY] [Enemy1] Heard gunshot at (253.3607, 832.7266), source_type=0, intensity=0.01, distance=485
[09:28:09] [ENEMY] [Enemy2] Heard gunshot at (253.3607, 832.7266), source_type=0, intensity=0.02, distance=318
[09:28:09] [ENEMY] [Enemy3] Heard gunshot at (253.3607, 832.7266), source_type=0, intensity=0.01, distance=454
[09:28:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:10] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=95.5°, current=33.8°, player=(253,832), corner_timer=0.00
[09:28:10] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=117.4°, current=-101.3°, player=(253,832), corner_timer=0.00
[09:28:10] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=169.5°, current=-78.7°, player=(253,832), corner_timer=0.00
[09:28:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(253.3607, 800.0599), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:10] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=176.3°, current=128.7°, player=(253,782), corner_timer=0.00
[09:28:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(253.3607, 781.0043), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(253,781), corner_timer=-0.02
[09:28:10] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:28:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(253,779), corner_timer=0.30
[09:28:10] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[09:28:10] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:28:10] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-167.3°, current=168.8°, player=(253,777), corner_timer=0.00
[09:28:10] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:28:10] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:28:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(253.3607, 775.5043), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(253.36072, 800.0599), shooter_id=670534993888, bullet_pos=(917.215, 667.2941)
[09:28:10] [INFO] [Bullet] Using shooter_position, distance=677,0002
[09:28:10] [INFO] [Bullet] Distance to wall: 677,0002 (46,098186% of viewport)
[09:28:10] [INFO] [Bullet] Distance-based penetration chance: 92,885445%
[09:28:10] [INFO] [Bullet] Starting wall penetration at (917.215, 667.2941)
[09:28:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,509705
[09:28:10] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:10] [INFO] [Bullet] Exiting penetration at (962.9755, 658.1424) after traveling 41,66667 pixels through wall
[09:28:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(253.3607, 775.5043), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(253.36072, 781.0043), shooter_id=670534993888, bullet_pos=(916.4745, 644.5891)
[09:28:10] [INFO] [Bullet] Using shooter_position, distance=677
[09:28:10] [INFO] [Bullet] Distance to wall: 677 (46,098175% of viewport)
[09:28:10] [INFO] [Bullet] Distance-based penetration chance: 92,88547%
[09:28:10] [INFO] [Bullet] Starting wall penetration at (916.4745, 644.5891)
[09:28:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,732275
[09:28:10] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:10] [INFO] [Bullet] Exiting penetration at (962.18396, 635.1858) after traveling 41,66667 pixels through wall
[09:28:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:10] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[09:28:10] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(253.36072, 832.72656), shooter_id=670534993888, bullet_pos=(1630.4851, 322.3233)
[09:28:10] [INFO] [Bullet] Using shooter_position, distance=1468,6671
[09:28:10] [INFO] [Bullet] Distance to wall: 1468,6671 (100,00424% of viewport)
[09:28:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(253,775), corner_timer=-0.02
[09:28:10] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:28:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(253.3607, 775.5043), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(253.36072, 775.50433), shooter_id=670534993888, bullet_pos=(916.2861, 638.17676)
[09:28:10] [INFO] [Bullet] Using shooter_position, distance=676,99994
[09:28:10] [INFO] [Bullet] Distance to wall: 676,99994 (46,09817% of viewport)
[09:28:10] [INFO] [Bullet] Distance-based penetration chance: 92,88547%
[09:28:10] [INFO] [Bullet] Starting wall penetration at (916.2861, 638.17676)
[09:28:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(253,775), corner_timer=0.30
[09:28:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,53418
[09:28:10] [ENEMY] [Grenadier] Hit: dmg=1, hp=2/2->1/2
[09:28:10] [INFO] [ImpactEffects] spawn_blood_effect called at (1700, 350), dir=(1, 0), lethal=false
[09:28:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:10] [INFO] [ImpactEffects] Blood effect spawned at (1700, 350) (scale=1)
[09:28:10] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:10] [INFO] [Bullet] Exiting penetration at (961.98254, 628.7106) after traveling 41,66667 pixels through wall
[09:28:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=55.1°, current=-174.0°, player=(253,775), corner_timer=0.00
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(253.3607, 775.5043), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(253.36072, 775.50433), shooter_id=670534993888, bullet_pos=(914.37885, 629.27045)
[09:28:10] [INFO] [Bullet] Using shooter_position, distance=677,00024
[09:28:10] [INFO] [Bullet] Distance to wall: 677,00024 (46,098194% of viewport)
[09:28:10] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [ENEMY] [Enemy4] PURSUING corner check: angle -93.9°
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(253.3607, 775.5043), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(253.36072, 775.50433), shooter_id=670534993888, bullet_pos=(917.1186, 642.25824)
[09:28:10] [INFO] [Bullet] Using shooter_position, distance=677
[09:28:10] [INFO] [Bullet] Distance to wall: 677 (46,098175% of viewport)
[09:28:10] [INFO] [Bullet] Distance-based penetration chance: 92,88547%
[09:28:10] [INFO] [Bullet] Starting wall penetration at (917.1186, 642.25824)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,075268
[09:28:10] [INFO] [BloodDecal] Blood puddle created at (1765.064, 335.2661) (added to group)
[09:28:10] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:10] [INFO] [Bullet] Exiting penetration at (954.70215, 634.71356) after traveling 33,333336 pixels through wall
[09:28:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [BloodDecal] Blood puddle created at (1756.862, 381.739) (added to group)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(253,775), corner_timer=-0.00
[09:28:10] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.0°, player=(253,775), corner_timer=0.30
[09:28:10] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:11] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:11] [INFO] [EnemyGrenade] Throw path blocked for Flashbang to (1124.383, 519.3079)
[09:28:11] [INFO] [BloodDecal] Blood puddle created at (1807.939, 354.9883) (added to group)
[09:28:11] [INFO] [BloodDecal] Blood puddle created at (1773.005, 399.1509) (added to group)
[09:28:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:11] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:11] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:11] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:11] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:11] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:11] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:11] [ENEMY] [Enemy1] Death animation component initialized
[09:28:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:11] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:11] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:11] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:11] [ENEMY] [Enemy2] Death animation component initialized
[09:28:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:11] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:11] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:11] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:11] [ENEMY] [Enemy3] Death animation component initialized
[09:28:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:11] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:11] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:11] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:11] [ENEMY] [Enemy4] Death animation component initialized
[09:28:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:11] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:11] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:11] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:11] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:11] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:11] [ENEMY] [Grenadier] Death animation component initialized
[09:28:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:11] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:11] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:11] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:11] [ENEMY] [Enemy6] Death animation component initialized
[09:28:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:11] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:11] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:11] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:11] [ENEMY] [Enemy7] Death animation component initialized
[09:28:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:11] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:11] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:11] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:11] [ENEMY] [Enemy8] Death animation component initialized
[09:28:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:11] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:11] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:11] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:11] [ENEMY] [Enemy9] Death animation component initialized
[09:28:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:11] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:11] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:11] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:11] [ENEMY] [Enemy10] Death animation component initialized
[09:28:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:11] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:11] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:11] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:11] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:11] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:11] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:11] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:11] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:11] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:11] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:11] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:11] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:11] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:11] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:11] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:11] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:11] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:11] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:11] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:11] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:11] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:11] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:11] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:11] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:11] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:11] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:11] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:11] [INFO] [ReplayManager] Replay data cleared
[09:28:11] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:11] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:11] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:11] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:11] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:11] [INFO] [ReplayManager] Enemies count: 10
[09:28:11] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:11] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:11] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:11] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:11] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:11] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:11] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:11] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:11] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:11] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:11] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:11] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:11] [INFO] [BloodDecal] Blood puddle created at (1824.96, 370.8766) (added to group)
[09:28:11] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:11] [INFO] [CinemaEffects] Found player node: Player
[09:28:11] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:28:11] [ENEMY] [Enemy1] Registered as sound listener
[09:28:11] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:28:11] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:28:11] [ENEMY] [Enemy2] Registered as sound listener
[09:28:11] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:28:11] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:28:11] [ENEMY] [Enemy3] Registered as sound listener
[09:28:11] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:28:11] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:28:11] [ENEMY] [Enemy4] Registered as sound listener
[09:28:11] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:28:11] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:11] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:28:11] [ENEMY] [Grenadier] Registered as sound listener
[09:28:11] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:11] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:28:11] [ENEMY] [Enemy6] Registered as sound listener
[09:28:11] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:28:11] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:28:11] [ENEMY] [Enemy7] Registered as sound listener
[09:28:11] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:28:11] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:28:11] [ENEMY] [Enemy8] Registered as sound listener
[09:28:11] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:28:11] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:28:11] [ENEMY] [Enemy9] Registered as sound listener
[09:28:11] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:28:11] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:28:11] [ENEMY] [Enemy10] Registered as sound listener
[09:28:11] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:28:11] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:11] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:11] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:11] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:11] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:11] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:11] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:11] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:11] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:11] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:11] [INFO] [LastChance] Found player: Player
[09:28:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:11] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:11] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:11] [INFO] [BloodDecal] Blood puddle created at (1772.667, 379.0847) (added to group)
[09:28:11] [INFO] [BloodDecal] Blood puddle created at (1759.019, 363.4851) (added to group)
[09:28:11] [INFO] [BloodDecal] Blood puddle created at (1842.586, 345.9337) (added to group)
[09:28:11] [INFO] [BloodDecal] Blood puddle created at (1792.852, 426.4803) (added to group)
[09:28:11] [INFO] [BloodDecal] Blood puddle created at (1880.415, 404.8043) (added to group)
[09:28:12] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:12] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.09, 803.7275), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:28:12] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:28:12] [ENEMY] [Enemy1] Heard gunshot at (422.09, 803.7275), source_type=0, intensity=0.01, distance=470
[09:28:12] [ENEMY] [Enemy2] Heard gunshot at (422.09, 803.7275), source_type=0, intensity=0.04, distance=255
[09:28:12] [ENEMY] [Enemy3] Heard gunshot at (422.09, 803.7275), source_type=0, intensity=0.03, distance=283
[09:28:12] [ENEMY] [Enemy4] Heard gunshot at (422.09, 803.7275), source_type=0, intensity=0.02, distance=390
[09:28:12] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:12] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=74.9°, current=33.8°, player=(422,803), corner_timer=0.00
[09:28:12] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=85.0°, current=168.8°, player=(422,803), corner_timer=0.00
[09:28:12] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=169.1°, current=-78.7°, player=(422,803), corner_timer=0.00
[09:28:12] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-165.7°, current=-67.5°, player=(422,803), corner_timer=0.00
[09:28:12] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:12] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:12] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(414,795), corner_timer=0.30
[09:28:12] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(414,795), corner_timer=0.30
[09:28:12] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[09:28:12] [INFO] [ImpactEffects] spawn_blood_effect called at (673.675, 754.2116), dir=(1, 0), lethal=false
[09:28:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:12] [INFO] [ImpactEffects] Blood effect spawned at (673.675, 754.2116) (scale=1)
[09:28:12] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=173.7°, current=180.0°, player=(402,784), corner_timer=0.00
[09:28:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(395.6442, 777.2816), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:12] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:12] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[09:28:12] [INFO] [ImpactEffects] spawn_blood_effect called at (638.5665, 756.5387), dir=(1, 0), lethal=false
[09:28:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:12] [INFO] [ImpactEffects] Blood effect spawned at (638.5665, 756.5387) (scale=1)
[09:28:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(369.0396, 756.5305), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:13] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:28:13] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[09:28:13] [INFO] [ImpactEffects] spawn_blood_effect called at (613.9189, 762.0474), dir=(1, 0), lethal=false
[09:28:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:13] [INFO] [ImpactEffects] Blood effect spawned at (613.9189, 762.0474) (scale=1)
[09:28:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(612.8139, 763.8723), source=ENEMY (Enemy3), range=1469, listeners=10
[09:28:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[09:28:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(332.9559, 748.0414), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.0°, player=(332,748), corner_timer=-0.01
[09:28:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.6°, player=(332,748), corner_timer=-0.01
[09:28:13] [ENEMY] [Enemy10] PATROL corner check: angle 14.9°
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (752.2431, 790.2803) (added to group)
[09:28:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.7°, player=(328,748), corner_timer=0.30
[09:28:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.9°, current=54.5°, player=(328,748), corner_timer=0.30
[09:28:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.2887, 772.9964), source=ENEMY (Enemy3), range=1469, listeners=10
[09:28:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[09:28:13] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[09:28:13] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[09:28:13] [INFO] [ImpactEffects] spawn_blood_effect called at (603.9736, 778.4709), dir=(1, 0), lethal=true
[09:28:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:13] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:28:13] [INFO] [ImpactEffects] Blood effect spawned at (603.9736, 778.4709) (scale=1.5)
[09:28:13] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:28:13] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:28:13] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:28:13] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:28:13] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:28:13] [INFO] [PowerFantasy]   - Duration: 300ms
[09:28:13] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:28:13] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:28:13] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:28:13] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:28:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(301.606, 748.0414), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[09:28:13] [INFO] [PowerFantasy] Effect duration expired after 333.00 ms
[09:28:13] [INFO] [PowerFantasy] Ending power fantasy effect
[09:28:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(301.60596, 748.0414), shooter_id=760058219793, bullet_pos=(465.71964, 700.477)
[09:28:13] [INFO] [Bullet] Using shooter_position, distance=170,8674
[09:28:13] [INFO] [Bullet] Distance to wall: 170,8674 (11,634676% of viewport)
[09:28:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (752.6938, 787.7368) (added to group)
[09:28:13] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[09:28:13] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:13] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (729.0989, 807.0629) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (724.7945, 755.5181) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (696.4061, 794.5431) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (688.3691, 770.8279) (added to group)
[09:28:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(544.8816, 767.84717), shooter_id=756702775957, bullet_pos=(33.439766, 841.13916)
[09:28:13] [INFO] [Bullet] Using shooter_position, distance=516,6667
[09:28:13] [INFO] [Bullet] Distance to wall: 516,6667 (35,180786% of viewport)
[09:28:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:13] [INFO] [Bullet] Starting wall penetration at (33.439766, 841.13916)
[09:28:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(270.7977, 748.0414), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[09:28:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,212196
[09:28:13] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:13] [INFO] [Bullet] Exiting penetration at (-12.754978, 847.7591) after traveling 41,666668 pixels through wall
[09:28:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (753.7098, 773.7543) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (760.9644, 764.8303) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (670.4424, 789.025) (added to group)
[09:28:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(539.26746, 774.9222), shooter_id=756702775957, bullet_pos=(64.799774, 797.3982)
[09:28:13] [INFO] [Bullet] Using shooter_position, distance=474,99973
[09:28:13] [INFO] [Bullet] Distance to wall: 474,99973 (32,343605% of viewport)
[09:28:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:13] [INFO] [Bullet] Starting wall penetration at (64.799774, 797.3982)
[09:28:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,830116
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (751.9397, 791.0899) (added to group)
[09:28:13] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:13] [INFO] [Bullet] Exiting penetration at (18.185375, 799.6064) after traveling 41,66667 pixels through wall
[09:28:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(270.79773, 748.0414), shooter_id=760058219793, bullet_pos=(437.79968, 695.8753)
[09:28:13] [INFO] [Bullet] Using shooter_position, distance=174,95985
[09:28:13] [INFO] [Bullet] Distance to wall: 174,95985 (11,913339% of viewport)
[09:28:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (744.5182, 759.593) (added to group)
[09:28:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(254.9644, 748.0414), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (772.7272, 801.0742) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (751.2838, 752.3071) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (677.9807, 818.497) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (684.4169, 765.3467) (added to group)
[09:28:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.6°, player=(253,748), corner_timer=-0.01
[09:28:13] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[09:28:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=17.2°, player=(251,748), corner_timer=0.30
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (871.9736, 843.2266) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (646.9868, 816.8058) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (688.942, 799.7989) (added to group)
[09:28:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(254.96437, 748.0414), shooter_id=760058219793, bullet_pos=(422.35144, 697.12463)
[09:28:13] [INFO] [Bullet] Using shooter_position, distance=174,95984
[09:28:13] [INFO] [Bullet] Distance to wall: 174,95984 (11,913338% of viewport)
[09:28:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (729.3008, 792.7947) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (714.6067, 789.5902) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (686.9265, 786.6735) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (655.2726, 810.0419) (added to group)
[09:28:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(249.131, 748.0414), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (863.8052, 796.1377) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (692.8402, 769.6895) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (706.2728, 794.6945) (added to group)
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (724.1555, 772.2195) (added to group)
[09:28:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(249.13103, 748.0414), shooter_id=760058219793, bullet_pos=(416.56223, 697.2699)
[09:28:13] [INFO] [Bullet] Using shooter_position, distance=174,95985
[09:28:13] [INFO] [Bullet] Distance to wall: 174,95985 (11,913339% of viewport)
[09:28:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:13] [INFO] [BloodDecal] Blood puddle created at (664.0654, 840.25) (added to group)
[09:28:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:14] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:14] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:14] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:14] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:14] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:14] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:14] [ENEMY] [Enemy1] Death animation component initialized
[09:28:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:14] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:14] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:14] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:14] [ENEMY] [Enemy2] Death animation component initialized
[09:28:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:14] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:14] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:14] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:28:14] [ENEMY] [Enemy3] Death animation component initialized
[09:28:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:14] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:14] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:14] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:14] [ENEMY] [Enemy4] Death animation component initialized
[09:28:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:14] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:14] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:14] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:14] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:14] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:14] [ENEMY] [Grenadier] Death animation component initialized
[09:28:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:14] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:14] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:14] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:14] [ENEMY] [Enemy6] Death animation component initialized
[09:28:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:14] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:14] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:14] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:14] [ENEMY] [Enemy7] Death animation component initialized
[09:28:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:14] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:14] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:14] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:14] [ENEMY] [Enemy8] Death animation component initialized
[09:28:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:14] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:14] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:14] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:14] [ENEMY] [Enemy9] Death animation component initialized
[09:28:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:14] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:14] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:14] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:14] [ENEMY] [Enemy10] Death animation component initialized
[09:28:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:14] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:14] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:14] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:14] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:14] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:14] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:14] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:14] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:14] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:14] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:14] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:14] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:14] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:14] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:14] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:14] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:14] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:14] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:14] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:14] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:14] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:14] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:14] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:14] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:14] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:14] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:14] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:14] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:14] [INFO] [ReplayManager] Replay data cleared
[09:28:14] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:14] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:14] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:14] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:14] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:14] [INFO] [ReplayManager] Enemies count: 10
[09:28:14] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:14] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:14] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:14] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:14] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:14] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:14] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:14] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:14] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:14] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:14] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:14] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:14] [INFO] [BloodDecal] Blood puddle created at (667.3764, 838.1006) (added to group)
[09:28:14] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:14] [INFO] [CinemaEffects] Found player node: Player
[09:28:14] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:28:14] [ENEMY] [Enemy1] Registered as sound listener
[09:28:14] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:28:14] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:28:14] [ENEMY] [Enemy2] Registered as sound listener
[09:28:14] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:28:14] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:28:14] [ENEMY] [Enemy3] Registered as sound listener
[09:28:14] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:28:14] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:28:14] [ENEMY] [Enemy4] Registered as sound listener
[09:28:14] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:28:14] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:14] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:28:14] [ENEMY] [Grenadier] Registered as sound listener
[09:28:14] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:14] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:28:14] [ENEMY] [Enemy6] Registered as sound listener
[09:28:14] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:28:14] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:28:14] [ENEMY] [Enemy7] Registered as sound listener
[09:28:14] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:28:14] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:28:14] [ENEMY] [Enemy8] Registered as sound listener
[09:28:14] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:28:14] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:28:14] [ENEMY] [Enemy9] Registered as sound listener
[09:28:14] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:28:14] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:28:14] [ENEMY] [Enemy10] Registered as sound listener
[09:28:14] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:28:14] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:14] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:14] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:14] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:14] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:14] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:14] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:14] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:14] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:14] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:14] [INFO] [LastChance] Found player: Player
[09:28:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:14] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:14] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:14] [INFO] [BloodDecal] Blood puddle created at (813.4142, 770.2874) (added to group)
[09:28:15] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(257.467, 906.7974), source=PLAYER (AssaultRifle), range=1469, listeners=19
[09:28:15] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:28:15] [ENEMY] [Enemy2] Heard gunshot at (257.467, 906.7974), source_type=0, intensity=0.02, distance=384
[09:28:15] [ENEMY] [Enemy3] Heard gunshot at (257.467, 906.7974), source_type=0, intensity=0.01, distance=469
[09:28:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:15] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=111.8°, current=-101.3°, player=(257,906), corner_timer=0.00
[09:28:15] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=160.5°, current=11.3°, player=(257,906), corner_timer=0.00
[09:28:15] [ENEMY] [Enemy4] Memory: medium confidence (0.63) - transitioning to PURSUING
[09:28:15] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:28:15] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:15] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:15] [ENEMY] [Enemy1] Memory: medium confidence (0.63) - transitioning to PURSUING
[09:28:15] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:28:15] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=179.3°, current=-67.5°, player=(253,906), corner_timer=0.00
[09:28:15] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(253,906), corner_timer=0.30
[09:28:15] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(253,906), corner_timer=0.30
[09:28:15] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=95.2°, current=-33.8°, player=(249,906), corner_timer=0.00
[09:28:15] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:28:15] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:28:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(236.967, 906.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(225.1892, 906.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:16] [INFO] [EnemyGrenade] Unsafe throw distance (199 < 275 safe distance, blast=225, margin=50) - skipping throw
[09:28:16] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:28:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(224.967, 906.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:16] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=161.8°, current=161.8°, player=(224,906), corner_timer=0.00
[09:28:16] [INFO] [EnemyGrenade] Unsafe throw distance (197 < 275 safe distance, blast=225, margin=50) - skipping throw
[09:28:16] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:28:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(224,906), corner_timer=-0.02
[09:28:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(224,906), corner_timer=-0.02
[09:28:16] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:28:16] [INFO] [EnemyGrenade] Unsafe throw distance (194 < 275 safe distance, blast=225, margin=50) - skipping throw
[09:28:16] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:28:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(224,906), corner_timer=0.30
[09:28:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(224,906), corner_timer=0.30
[09:28:16] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[09:28:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(224.967, 906.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[09:28:16] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:28:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(257.467, 906.79736), shooter_id=834112850906, bullet_pos=(1385.1687, 344.00995)
[09:28:16] [INFO] [Bullet] Using shooter_position, distance=1260,3336
[09:28:16] [INFO] [Bullet] Distance to wall: 1260,3336 (85,818436% of viewport)
[09:28:16] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:16] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[09:28:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(224.967, 906.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[09:28:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(236.96701, 906.79736), shooter_id=834112850906, bullet_pos=(1368.3574, 351.463)
[09:28:16] [INFO] [Bullet] Using shooter_position, distance=1260,3335
[09:28:16] [INFO] [Bullet] Distance to wall: 1260,3335 (85,81843% of viewport)
[09:28:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(257.467, 906.79736), shooter_id=834112850906, bullet_pos=(1127.5251, 214.56454)
[09:28:16] [INFO] [Bullet] Using shooter_position, distance=1111,8396
[09:28:16] [INFO] [Bullet] Distance to wall: 1111,8396 (75,70721% of viewport)
[09:28:16] [INFO] [Bullet] Distance-based penetration chance: 58,3416%
[09:28:16] [INFO] [Bullet] Penetration failed (distance roll)
[09:28:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(224,906), corner_timer=-0.02
[09:28:16] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:28:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(224,906), corner_timer=0.30
[09:28:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(224.967, 906.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[09:28:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(236.96701, 906.79736), shooter_id=834112850906, bullet_pos=(1120.1658, 204.70787)
[09:28:16] [INFO] [Bullet] Using shooter_position, distance=1128,2595
[09:28:16] [INFO] [Bullet] Distance to wall: 1128,2595 (76,825264% of viewport)
[09:28:16] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[09:28:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(224.967, 906.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[09:28:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(224.96701, 906.79736), shooter_id=834112850906, bullet_pos=(1385.6633, 316.89255)
[09:28:16] [INFO] [Bullet] Using shooter_position, distance=1301,9998
[09:28:16] [INFO] [Bullet] Distance to wall: 1301,9998 (88,65556% of viewport)
[09:28:16] [INFO] [Bullet] Distance-based penetration chance: 43,235184%
[09:28:16] [INFO] [Bullet] Starting wall penetration at (1385.6633, 316.89255)
[09:28:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44,04555
[09:28:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(236.96701, 906.79736), shooter_id=834112850906, bullet_pos=(1313.6179, 53.01642)
[09:28:16] [INFO] [Bullet] Using shooter_position, distance=1374,0884
[09:28:16] [INFO] [Bullet] Distance to wall: 1374,0884 (93,56421% of viewport)
[09:28:16] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:16] [INFO] [Bullet] Exiting penetration at (1427.2654, 295.74902) after traveling 41,666668 pixels through wall
[09:28:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(224.96701, 906.79736), shooter_id=834112850906, bullet_pos=(1382.7388, 311.17276)
[09:28:16] [INFO] [Bullet] Using shooter_position, distance=1302
[09:28:16] [INFO] [Bullet] Distance to wall: 1302 (88,65558% of viewport)
[09:28:16] [INFO] [Bullet] Distance-based penetration chance: 43,235165%
[09:28:16] [INFO] [Bullet] Penetration failed (distance roll)
[09:28:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(225.18924, 906.79736), shooter_id=834112850906, bullet_pos=(1958.7484, 65.306946)
[09:28:16] [INFO] [Bullet] Using shooter_position, distance=1927,0012
[09:28:16] [INFO] [Bullet] Distance to wall: 1927,0012 (131,21306% of viewport)
[09:28:16] [INFO] [Bullet] Distance-based penetration chance: 23,75739%
[09:28:16] [INFO] [Bullet] Penetration failed (distance roll)
[09:28:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(224,906), corner_timer=-0.02
[09:28:16] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:28:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(224,906), corner_timer=0.30
[09:28:16] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:16] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:16] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:16] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:16] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:16] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:16] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:16] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:16] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:16] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:16] [ENEMY] [Enemy1] Death animation component initialized
[09:28:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:16] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:16] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:16] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:16] [ENEMY] [Enemy2] Death animation component initialized
[09:28:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:16] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:16] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:16] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:16] [ENEMY] [Enemy3] Death animation component initialized
[09:28:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:16] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:16] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:16] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:16] [ENEMY] [Enemy4] Death animation component initialized
[09:28:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:16] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:16] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:16] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:16] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:16] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:16] [ENEMY] [Grenadier] Death animation component initialized
[09:28:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:16] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:16] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:16] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:16] [ENEMY] [Enemy6] Death animation component initialized
[09:28:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:16] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:16] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:16] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:16] [ENEMY] [Enemy7] Death animation component initialized
[09:28:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:16] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:16] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:16] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:16] [ENEMY] [Enemy8] Death animation component initialized
[09:28:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:16] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:16] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:16] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:16] [ENEMY] [Enemy9] Death animation component initialized
[09:28:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:16] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:16] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:16] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:16] [ENEMY] [Enemy10] Death animation component initialized
[09:28:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:16] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:16] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:16] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:16] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:16] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:16] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:16] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:16] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:16] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:16] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:16] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:16] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:16] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:16] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:16] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:16] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:16] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:16] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:16] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:16] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:16] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:16] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:16] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:16] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:16] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:16] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:16] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:16] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:16] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:16] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:16] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:16] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:16] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:16] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:16] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:16] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:16] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:16] [INFO] [ReplayManager] Replay data cleared
[09:28:16] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:16] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:16] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:16] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:16] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:16] [INFO] [ReplayManager] Enemies count: 10
[09:28:16] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:16] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:16] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:16] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:16] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:16] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:16] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:16] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:16] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:16] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:16] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:16] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:16] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:16] [INFO] [CinemaEffects] Found player node: Player
[09:28:16] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:16] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:28:16] [ENEMY] [Enemy1] Registered as sound listener
[09:28:16] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:28:16] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:16] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:28:16] [ENEMY] [Enemy2] Registered as sound listener
[09:28:16] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:28:16] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:16] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:28:16] [ENEMY] [Enemy3] Registered as sound listener
[09:28:16] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:28:16] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:16] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:28:16] [ENEMY] [Enemy4] Registered as sound listener
[09:28:16] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:28:16] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:16] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:28:16] [ENEMY] [Grenadier] Registered as sound listener
[09:28:16] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:16] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:16] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:28:16] [ENEMY] [Enemy6] Registered as sound listener
[09:28:16] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:28:16] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:16] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:28:16] [ENEMY] [Enemy7] Registered as sound listener
[09:28:16] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:28:16] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:16] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:28:16] [ENEMY] [Enemy8] Registered as sound listener
[09:28:16] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:28:16] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:16] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:28:16] [ENEMY] [Enemy9] Registered as sound listener
[09:28:16] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:28:16] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:16] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:28:16] [ENEMY] [Enemy10] Registered as sound listener
[09:28:16] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:28:16] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:17] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:17] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:17] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:17] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:17] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:17] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:17] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:17] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:17] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:17] [INFO] [LastChance] Found player: Player
[09:28:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:17] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:17] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:17] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(259.5487, 887.838), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:28:18] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:28:18] [ENEMY] [Enemy2] Heard gunshot at (259.5487, 887.838), source_type=0, intensity=0.02, distance=366
[09:28:18] [ENEMY] [Enemy3] Heard gunshot at (259.5487, 887.838), source_type=0, intensity=0.01, distance=462
[09:28:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:18] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=112.6°, current=-101.3°, player=(259,887), corner_timer=0.00
[09:28:18] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=162.6°, current=-78.7°, player=(259,887), corner_timer=0.00
[09:28:18] [ENEMY] [Enemy4] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:28:18] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:28:18] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:18] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:18] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:28:18] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:28:18] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-177.1°, current=168.8°, player=(245,871), corner_timer=0.00
[09:28:18] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(245,871), corner_timer=0.30
[09:28:18] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(245,871), corner_timer=0.30
[09:28:18] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=96.3°, current=33.8°, player=(243,869), corner_timer=0.00
[09:28:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(240.9507, 866.9781), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:28:18] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:28:18] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:28:18] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:18] [INFO] [Player.Homing] Enabled homing on 2 airborne bullets
[09:28:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(232.219, 857.1844), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:18] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:18] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=167.4°, current=120.0°, player=(232,857), corner_timer=0.00
[09:28:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(240.95073, 866.97815), shooter_id=904224835543, bullet_pos=(497.70175, 561.7977)
[09:28:18] [INFO] [Bullet] Using shooter_position, distance=398,81848
[09:28:18] [INFO] [Bullet] Distance to wall: 398,81848 (27,156284% of viewport)
[09:28:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:18] [INFO] [Bullet] Starting wall penetration at (497.70175, 561.7977)
[09:28:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(259.54868, 887.838), shooter_id=904224835543, bullet_pos=(923.31775, 781.6788)
[09:28:18] [INFO] [Bullet] Using shooter_position, distance=672,20465
[09:28:18] [INFO] [Bullet] Distance to wall: 672,20465 (45,771652% of viewport)
[09:28:18] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:28:18] [INFO] [Bullet] Exiting penetration at (496.80093, 515.1794) after traveling 41,666676 pixels through wall
[09:28:18] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:18] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:28:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(230.0261, 854.7248), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:18] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:18] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[09:28:18] [INFO] [ImpactEffects] spawn_blood_effect called at (599.1125, 778.2615), dir=(1, 0), lethal=false
[09:28:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:18] [INFO] [ImpactEffects] Blood effect spawned at (599.1125, 778.2615) (scale=1)
[09:28:18] [ENEMY] [Enemy4] Hit: dmg=1, hp=4/4->3/4
[09:28:18] [INFO] [ImpactEffects] spawn_blood_effect called at (722.2039, 914.0658), dir=(1, 0), lethal=false
[09:28:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:18] [INFO] [ImpactEffects] Blood effect spawned at (722.2039, 914.0658) (scale=1)
[09:28:18] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=45.5°, current=173.9°, player=(230,854), corner_timer=0.00
[09:28:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.6°, player=(230,854), corner_timer=-0.01
[09:28:18] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.7°, player=(230,854), corner_timer=-0.01
[09:28:18] [ENEMY] [Enemy10] PATROL corner check: angle 14.5°
[09:28:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(230,854), corner_timer=0.30
[09:28:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.5°, current=53.5°, player=(230,854), corner_timer=0.30
[09:28:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(230.02614, 854.7248), shooter_id=904224835543, bullet_pos=(516.32086, 800.2969)
[09:28:18] [INFO] [Bullet] Using shooter_position, distance=291,42252
[09:28:18] [INFO] [Bullet] Distance to wall: 291,42252 (19,843494% of viewport)
[09:28:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:18] [INFO] [Bullet] Starting wall penetration at (516.32086, 800.2969)
[09:28:18] [ENEMY] [Enemy1] PURSUING corner check: angle -51.3°
[09:28:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,22705
[09:28:18] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:18] [INFO] [Bullet] Exiting penetration at (554.6116, 798.5165) after traveling 33,333336 pixels through wall
[09:28:18] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:18] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:28:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(230.0261, 854.7248), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:18] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:28:18] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:28:18] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:19] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[09:28:19] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-177.3°, current=-172.4°, player=(230,854), corner_timer=-0.01
[09:28:19] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[09:28:19] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[09:28:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(230.02614, 854.7248), shooter_id=904224835543, bullet_pos=(507.65094, 804.07635)
[09:28:19] [INFO] [Bullet] Using shooter_position, distance=282,20703
[09:28:19] [INFO] [Bullet] Distance to wall: 282,20703 (19,215996% of viewport)
[09:28:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:19] [INFO] [Bullet] Starting wall penetration at (507.65094, 804.07635)
[09:28:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(230.0261, 854.7248), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,95944
[09:28:19] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:19] [INFO] [Bullet] Exiting penetration at (545.92615, 801.9664) after traveling 33,333336 pixels through wall
[09:28:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:19] [INFO] [BloodDecal] Blood puddle created at (663.1554, 810.5616) (added to group)
[09:28:19] [INFO] [BloodDecal] Blood puddle created at (707.6271, 796.9556) (added to group)
[09:28:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(230.02614, 854.7248), shooter_id=904224835543, bullet_pos=(507.34308, 803.57513)
[09:28:19] [INFO] [Bullet] Using shooter_position, distance=281,99466
[09:28:19] [INFO] [Bullet] Distance to wall: 281,99466 (19,201534% of viewport)
[09:28:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(230.0261, 854.7248), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:19] [INFO] [BloodDecal] Blood puddle created at (709.748, 794.5264) (added to group)
[09:28:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(230,854), corner_timer=-0.01
[09:28:19] [ENEMY] [Enemy10] PATROL corner check: angle 7.3°
[09:28:19] [INFO] [BloodDecal] Blood puddle created at (664.0533, 797.0768) (added to group)
[09:28:19] [INFO] [BloodDecal] Blood puddle created at (829.8823, 916.0063) (added to group)
[09:28:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.3°, current=16.4°, player=(230,854), corner_timer=0.30
[09:28:19] [INFO] [BloodDecal] Blood puddle created at (698.796, 799.5545) (added to group)
[09:28:19] [INFO] [BloodDecal] Blood puddle created at (837.8443, 988.9429) (added to group)
[09:28:19] [ENEMY] [Enemy1] PURSUING corner check: angle 153.8°
[09:28:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(230.02614, 854.7248), shooter_id=904224835543, bullet_pos=(507.1632, 803.2907)
[09:28:19] [INFO] [Bullet] Using shooter_position, distance=281,8695
[09:28:19] [INFO] [Bullet] Distance to wall: 281,8695 (19,193012% of viewport)
[09:28:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:19] [INFO] [Bullet] Starting wall penetration at (507.1632, 803.2907)
[09:28:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(230.0261, 854.7248), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,477282
[09:28:19] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:19] [INFO] [Bullet] Exiting penetration at (545.45276, 801.4594) after traveling 33,333332 pixels through wall
[09:28:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:19] [INFO] [BloodDecal] Blood puddle created at (802.506, 942.4373) (added to group)
[09:28:19] [INFO] [BloodDecal] Blood puddle created at (864.4902, 993.6306) (added to group)
[09:28:19] [INFO] [BloodDecal] Blood puddle created at (818.0654, 987.6627) (added to group)
[09:28:19] [INFO] [BloodDecal] Blood puddle created at (802.5994, 969.4266) (added to group)
[09:28:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(230.02614, 854.7248), shooter_id=904224835543, bullet_pos=(507.06067, 803.1314)
[09:28:19] [INFO] [Bullet] Using shooter_position, distance=281,79782
[09:28:19] [INFO] [Bullet] Distance to wall: 281,79782 (19,188133% of viewport)
[09:28:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:19] [INFO] [Bullet] Starting wall penetration at (507.06067, 803.1314)
[09:28:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(230.0261, 854.7248), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,375834
[09:28:19] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:19] [INFO] [Bullet] Exiting penetration at (545.3529, 801.35645) after traveling 33,333336 pixels through wall
[09:28:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:19] [INFO] [BloodDecal] Blood puddle created at (853.5143, 996.152) (added to group)
[09:28:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(230.02614, 854.7248), shooter_id=904224835543, bullet_pos=(507.00476, 803.0452)
[09:28:19] [INFO] [Bullet] Using shooter_position, distance=281,75867
[09:28:19] [INFO] [Bullet] Distance to wall: 281,75867 (19,185465% of viewport)
[09:28:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:19] [INFO] [Bullet] Starting wall penetration at (507.00476, 803.0452)
[09:28:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(230.0261, 854.7248), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,32043
[09:28:19] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:19] [INFO] [Bullet] Exiting penetration at (545.29834, 801.30066) after traveling 33,333336 pixels through wall
[09:28:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.2°, player=(230,854), corner_timer=-0.01
[09:28:19] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[09:28:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.4°, player=(230,854), corner_timer=0.30
[09:28:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(230.02614, 854.7248), shooter_id=904224835543, bullet_pos=(506.977, 803.0026)
[09:28:19] [INFO] [Bullet] Using shooter_position, distance=281,73917
[09:28:19] [INFO] [Bullet] Distance to wall: 281,73917 (19,184137% of viewport)
[09:28:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:19] [INFO] [Bullet] Starting wall penetration at (506.977, 803.0026)
[09:28:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(230.0261, 854.7248), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,292984
[09:28:19] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:19] [INFO] [Bullet] Exiting penetration at (545.2713, 801.2731) after traveling 33,333332 pixels through wall
[09:28:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:19] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:28:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(230.02614, 854.7248), shooter_id=904224835543, bullet_pos=(506.96686, 802.98706)
[09:28:19] [INFO] [Bullet] Using shooter_position, distance=281,7321
[09:28:19] [INFO] [Bullet] Distance to wall: 281,7321 (19,183657% of viewport)
[09:28:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:19] [INFO] [Bullet] Starting wall penetration at (506.96686, 802.98706)
[09:28:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,28295
[09:28:19] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:19] [INFO] [Bullet] Exiting penetration at (545.2614, 801.263) after traveling 33,333336 pixels through wall
[09:28:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:19] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:19] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:19] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:19] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:19] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:19] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:19] [ENEMY] [Enemy1] Death animation component initialized
[09:28:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:19] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:19] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:19] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:19] [ENEMY] [Enemy2] Death animation component initialized
[09:28:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:19] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:19] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:19] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:19] [ENEMY] [Enemy3] Death animation component initialized
[09:28:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:19] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:19] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:19] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:19] [ENEMY] [Enemy4] Death animation component initialized
[09:28:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:19] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:19] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:19] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:19] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:19] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:19] [ENEMY] [Grenadier] Death animation component initialized
[09:28:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:19] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:19] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:19] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:19] [ENEMY] [Enemy6] Death animation component initialized
[09:28:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:19] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:19] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:19] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:19] [ENEMY] [Enemy7] Death animation component initialized
[09:28:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:19] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:19] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:19] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:19] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:28:19] [ENEMY] [Enemy8] Death animation component initialized
[09:28:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:19] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:19] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:19] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:19] [ENEMY] [Enemy9] Death animation component initialized
[09:28:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:19] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:19] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:19] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:19] [ENEMY] [Enemy10] Death animation component initialized
[09:28:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:19] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:19] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:19] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:19] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:19] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:20] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:20] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:20] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:20] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:20] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:20] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:20] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:20] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:20] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:20] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:20] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:20] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:20] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:20] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:20] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:20] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:20] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:20] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:20] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:20] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:20] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:20] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:20] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:20] [INFO] [ReplayManager] Replay data cleared
[09:28:20] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:20] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:20] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:20] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:20] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:20] [INFO] [ReplayManager] Enemies count: 10
[09:28:20] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:20] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:20] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:20] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:20] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:20] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:20] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:20] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:20] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:20] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:20] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:20] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:20] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:20] [INFO] [CinemaEffects] Found player node: Player
[09:28:20] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:28:20] [ENEMY] [Enemy1] Registered as sound listener
[09:28:20] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:28:20] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:28:20] [ENEMY] [Enemy2] Registered as sound listener
[09:28:20] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:28:20] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:28:20] [ENEMY] [Enemy3] Registered as sound listener
[09:28:20] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:28:20] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:28:20] [ENEMY] [Enemy4] Registered as sound listener
[09:28:20] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:28:20] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:20] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:28:20] [ENEMY] [Grenadier] Registered as sound listener
[09:28:20] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:20] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:28:20] [ENEMY] [Enemy6] Registered as sound listener
[09:28:20] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:28:20] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:28:20] [ENEMY] [Enemy7] Registered as sound listener
[09:28:20] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:28:20] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:28:20] [ENEMY] [Enemy8] Registered as sound listener
[09:28:20] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:28:20] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:28:20] [ENEMY] [Enemy9] Registered as sound listener
[09:28:20] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:28:20] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:28:20] [ENEMY] [Enemy10] Registered as sound listener
[09:28:20] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:28:20] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:20] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:20] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:20] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:20] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:20] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:20] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:20] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:20] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:20] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:20] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:20] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:20] [INFO] [LastChance] Found player: Player
[09:28:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:20] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:20] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:21] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:21] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(328.7516, 842.3891), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:28:21] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:28:21] [ENEMY] [Enemy1] Heard gunshot at (328.7516, 842.3891), source_type=0, intensity=0.01, distance=493
[09:28:21] [ENEMY] [Enemy2] Heard gunshot at (328.7516, 842.3891), source_type=0, intensity=0.03, distance=301
[09:28:21] [ENEMY] [Enemy3] Heard gunshot at (328.7516, 842.3891), source_type=0, intensity=0.02, distance=383
[09:28:21] [ENEMY] [Enemy4] Heard gunshot at (328.7516, 842.3891), source_type=0, intensity=0.01, distance=475
[09:28:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:21] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=86.7°, current=168.8°, player=(328,842), corner_timer=0.00
[09:28:21] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=103.7°, current=-67.5°, player=(328,842), corner_timer=0.00
[09:28:21] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=166.0°, current=11.3°, player=(328,842), corner_timer=0.00
[09:28:21] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-173.0°, current=-101.3°, player=(328,842), corner_timer=0.00
[09:28:21] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=166.7°, current=-179.9°, player=(324,838), corner_timer=0.00
[09:28:21] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:21] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:21] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(320,834), corner_timer=0.30
[09:28:21] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(320,834), corner_timer=0.30
[09:28:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(300.2524, 818.2451), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:21] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[09:28:21] [INFO] [ImpactEffects] spawn_blood_effect called at (663.4803, 757.7028), dir=(1, 0), lethal=false
[09:28:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:21] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:21] [INFO] [ImpactEffects] Blood effect spawned at (663.4803, 757.7028) (scale=1)
[09:28:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(272.282, 808.7582), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:21] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:21] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[09:28:21] [INFO] [ImpactEffects] spawn_blood_effect called at (628.6516, 762.7823), dir=(1, 0), lethal=false
[09:28:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:21] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:21] [INFO] [ImpactEffects] Blood effect spawned at (628.6516, 762.7823) (scale=1)
[09:28:21] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:28:22] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[09:28:22] [INFO] [ImpactEffects] spawn_blood_effect called at (609.9393, 768.8623), dir=(1, 0), lethal=false
[09:28:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:22] [INFO] [ImpactEffects] Blood effect spawned at (609.9393, 768.8623) (scale=1)
[09:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(233.0582, 807.8502), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=55.9°, player=(233,807), corner_timer=-0.00
[09:28:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.6°, player=(233,807), corner_timer=-0.00
[09:28:22] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[09:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(612.402, 772.3464), source=ENEMY (Enemy3), range=1469, listeners=10
[09:28:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[09:28:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=53.6°, player=(228,807), corner_timer=0.30
[09:28:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=55.5°, player=(228,807), corner_timer=0.30
[09:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(545.80804, 786.341), shooter_id=985879546643, bullet_pos=(514.2499, 797.0738)
[09:28:22] [INFO] [Bullet] Using shooter_position, distance=33,333324
[09:28:22] [INFO] [Bullet] Distance to wall: 33,333324 (2,2697275% of viewport)
[09:28:22] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[09:28:22] [INFO] [Bullet] Starting wall penetration at (514.2499, 797.0738)
[09:28:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,281897
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (730.1184, 763.0063) (added to group)
[09:28:22] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:22] [INFO] [Bullet] Exiting penetration at (477.95798, 809.4165) after traveling 33,333332 pixels through wall
[09:28:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (736.9924, 804.6297) (added to group)
[09:28:22] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[09:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(618.5587, 781.0569), source=ENEMY (Enemy3), range=1469, listeners=10
[09:28:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (733.2139, 775.9094) (added to group)
[09:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(193.4582, 807.8502), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (709.7072, 756.5354) (added to group)
[09:28:22] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[09:28:22] [INFO] [ImpactEffects] spawn_blood_effect called at (623.4839, 788.0252), dir=(1, 0), lethal=true
[09:28:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:22] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:28:22] [INFO] [ImpactEffects] Blood effect spawned at (623.4839, 788.0252) (scale=1.5)
[09:28:22] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:28:22] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:28:22] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:28:22] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:28:22] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:28:22] [INFO] [PowerFantasy]   - Duration: 300ms
[09:28:22] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[09:28:22] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:28:22] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:28:22] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (787.2072, 782.7896) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (680.1486, 791.1351) (added to group)
[09:28:22] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[09:28:22] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:22] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (717.9464, 764.3207) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (681.1508, 775.3575) (added to group)
[09:28:22] [INFO] [LastChance] Threat detected: Bullet
[09:28:22] [INFO] [LastChance] Not in hard mode - effect disabled
[09:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:28:22] [INFO] [PowerFantasy] Effect duration expired after 303.00 ms
[09:28:22] [INFO] [PowerFantasy] Ending power fantasy effect
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (734.5684, 782.8456) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (678.5946, 784.8798) (added to group)
[09:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(160.1665, 807.8502), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[09:28:22] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:28:22] [INFO] [Player] Spawning blood effect at (156.72208, 807.85016), dir=(1, 0), lethal=False (C#)
[09:28:22] [INFO] [ImpactEffects] spawn_blood_effect called at (156.7221, 807.8502), dir=(1, 0), lethal=false
[09:28:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:22] [INFO] [ImpactEffects] Blood effect spawned at (156.7221, 807.8502) (scale=1)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (711.3555, 783.2728) (added to group)
[09:28:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(145,807), corner_timer=-0.01
[09:28:22] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[09:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.6665, 807.8502), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[09:28:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=17.1°, player=(143,807), corner_timer=0.30
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (703.4669, 778.801) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (692.9488, 800.6857) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (838.0099, 829.4724) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (745.1635, 783.587) (added to group)
[09:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.66652, 807.85016), shooter_id=989234988434, bullet_pos=(365.20898, 684.939)
[09:28:22] [INFO] [Bullet] Using shooter_position, distance=253,35393
[09:28:22] [INFO] [Bullet] Distance to wall: 253,35393 (17,251335% of viewport)
[09:28:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(137.1665, 807.8502), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (771.4225, 813.9525) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (857.5962, 812.1289) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (670.6, 808.2562) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (701.0026, 804.7812) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (714.5695, 765.8276) (added to group)
[09:28:22] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (880.7477, 861.8156) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (828.1235, 802.8463) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (738.238, 808.3596) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (727.3505, 788.7625) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (694.1047, 803.1476) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (701.5337, 808.4866) (added to group)
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (199.8765, 835.0967) (added to group)
[09:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(137.1665, 807.85016), shooter_id=989234988434, bullet_pos=(358.76843, 685.04614)
[09:28:22] [INFO] [Bullet] Using shooter_position, distance=253,35399
[09:28:22] [INFO] [Bullet] Distance to wall: 253,35399 (17,251339% of viewport)
[09:28:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:22] [INFO] [BloodDecal] Blood puddle created at (238.0866, 833.6033) (added to group)
[09:28:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:22] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:22] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:22] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:22] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:22] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:22] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:22] [ENEMY] [Enemy1] Death animation component initialized
[09:28:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:22] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:22] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:22] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:22] [ENEMY] [Enemy2] Death animation component initialized
[09:28:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:22] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:22] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:22] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:22] [ENEMY] [Enemy3] Death animation component initialized
[09:28:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:22] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:22] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:22] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:22] [ENEMY] [Enemy4] Death animation component initialized
[09:28:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:22] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:22] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:22] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:22] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:22] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:22] [ENEMY] [Grenadier] Death animation component initialized
[09:28:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:22] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:22] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:22] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:22] [ENEMY] [Enemy6] Death animation component initialized
[09:28:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:22] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:22] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:22] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:22] [ENEMY] [Enemy7] Death animation component initialized
[09:28:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:22] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:22] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:22] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:22] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:28:22] [ENEMY] [Enemy8] Death animation component initialized
[09:28:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:22] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:22] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:22] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:22] [ENEMY] [Enemy9] Death animation component initialized
[09:28:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:22] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:22] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:22] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:22] [ENEMY] [Enemy10] Death animation component initialized
[09:28:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:23] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:23] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:23] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:23] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:23] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:23] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:23] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:23] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:23] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:23] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:23] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:23] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:23] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:23] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:23] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:23] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:23] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:23] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:23] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:23] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:23] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:23] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:23] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:23] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:23] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:23] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:23] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:23] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:23] [INFO] [ReplayManager] Replay data cleared
[09:28:23] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:23] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:23] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:23] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:23] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:23] [INFO] [ReplayManager] Enemies count: 10
[09:28:23] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:23] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:23] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:23] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:23] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:23] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:23] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:23] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:23] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:23] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:23] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:23] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:23] [INFO] [BloodDecal] Blood puddle created at (280.6813, 837.2109) (added to group)
[09:28:23] [INFO] [BloodDecal] Blood puddle created at (233.765, 804.7772) (added to group)
[09:28:23] [INFO] [BloodDecal] Blood puddle created at (222.6835, 864.0958) (added to group)
[09:28:23] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:23] [INFO] [CinemaEffects] Found player node: Player
[09:28:23] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:28:23] [ENEMY] [Enemy1] Registered as sound listener
[09:28:23] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:28:23] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:28:23] [ENEMY] [Enemy2] Registered as sound listener
[09:28:23] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:28:23] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:28:23] [ENEMY] [Enemy3] Registered as sound listener
[09:28:23] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:28:23] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:28:23] [ENEMY] [Enemy4] Registered as sound listener
[09:28:23] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:28:23] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:23] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:28:23] [ENEMY] [Grenadier] Registered as sound listener
[09:28:23] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:23] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:28:23] [ENEMY] [Enemy6] Registered as sound listener
[09:28:23] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:28:23] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:28:23] [ENEMY] [Enemy7] Registered as sound listener
[09:28:23] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:28:23] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:28:23] [ENEMY] [Enemy8] Registered as sound listener
[09:28:23] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:28:23] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:28:23] [ENEMY] [Enemy9] Registered as sound listener
[09:28:23] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:28:23] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:28:23] [ENEMY] [Enemy10] Registered as sound listener
[09:28:23] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:28:23] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:23] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:23] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:23] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:23] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:23] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:23] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:23] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:23] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:23] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:23] [INFO] [LastChance] Found player: Player
[09:28:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:23] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:23] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:23] [INFO] [BloodDecal] Blood puddle created at (747.5679, 804.4747) (added to group)
[09:28:23] [INFO] [BloodDecal] Blood puddle created at (766.2123, 803.9533) (added to group)
[09:28:23] [INFO] [BloodDecal] Blood puddle created at (764.5497, 796.182) (added to group)
[09:28:23] [INFO] [BloodDecal] Blood puddle created at (253.9413, 860.2596) (added to group)
[09:28:23] [INFO] [BloodDecal] Blood puddle created at (256.7038, 876.564) (added to group)
[09:28:23] [INFO] [BloodDecal] Blood puddle created at (264.2805, 876.8413) (added to group)
[09:28:23] [INFO] [BloodDecal] Blood puddle created at (307.1008, 801.7429) (added to group)
[09:28:23] [INFO] [BloodDecal] Blood puddle created at (262.0359, 829.2142) (added to group)
[09:28:24] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:24] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:24] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:24] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(239,917), corner_timer=0.30
[09:28:24] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(239,917), corner_timer=0.30
[09:28:24] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(202,917), corner_timer=-0.02
[09:28:25] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(202,917), corner_timer=-0.02
[09:28:25] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:28:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(202,917), corner_timer=0.30
[09:28:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(202,917), corner_timer=0.30
[09:28:25] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.967, 917.7974), source=PLAYER (AssaultRifle), range=1469, listeners=19
[09:28:25] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:28:25] [ENEMY] [Enemy2] Heard gunshot at (202.967, 917.7974), source_type=0, intensity=0.01, distance=417
[09:28:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:25] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=118.2°, current=-157.5°, player=(202,917), corner_timer=0.00
[09:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.967, 917.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(526.60425, 804.34515)
[09:28:25] [INFO] [Bullet] Using shooter_position, distance=342,94675
[09:28:25] [INFO] [Bullet] Distance to wall: 342,94675 (23,351875% of viewport)
[09:28:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:25] [INFO] [Bullet] Starting wall penetration at (526.60425, 804.34515)
[09:28:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(202,917), corner_timer=-0.02
[09:28:25] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:28:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49,395844
[09:28:25] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:25] [INFO] [Bullet] Exiting penetration at (571.135, 790.3884) after traveling 41,666668 pixels through wall
[09:28:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(202,917), corner_timer=0.30
[09:28:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(526.5885, 804.3217)
[09:28:25] [INFO] [Bullet] Using shooter_position, distance=342,93964
[09:28:25] [INFO] [Bullet] Distance to wall: 342,93964 (23,35139% of viewport)
[09:28:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.967, 917.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.967, 917.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(526.5789, 804.30774)
[09:28:25] [INFO] [Bullet] Using shooter_position, distance=342,9352
[09:28:25] [INFO] [Bullet] Distance to wall: 342,9352 (23,35109% of viewport)
[09:28:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:25] [INFO] [Bullet] Starting wall penetration at (526.5789, 804.30774)
[09:28:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(254.6554, 708.46515)
[09:28:25] [INFO] [Bullet] Using shooter_position, distance=215,61926
[09:28:25] [INFO] [Bullet] Distance to wall: 215,61926 (14,681913% of viewport)
[09:28:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49,36907
[09:28:25] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:25] [INFO] [Bullet] Exiting penetration at (571.113, 790.3617) after traveling 41,66667 pixels through wall
[09:28:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.967, 917.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(526.5751, 804.302)
[09:28:25] [INFO] [Bullet] Using shooter_position, distance=342,93347
[09:28:25] [INFO] [Bullet] Distance to wall: 342,93347 (23,350971% of viewport)
[09:28:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:25] [INFO] [Bullet] Starting wall penetration at (526.5751, 804.302)
[09:28:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(202,917), corner_timer=-0.02
[09:28:25] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:28:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49,36497
[09:28:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(47.86412, 769.91797)
[09:28:25] [INFO] [Bullet] Using shooter_position, distance=214,3017
[09:28:25] [INFO] [Bullet] Distance to wall: 214,3017 (14,592197% of viewport)
[09:28:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:25] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:25] [INFO] [Bullet] Exiting penetration at (571.1096, 790.35754) after traveling 41,666668 pixels through wall
[09:28:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(202,917), corner_timer=0.30
[09:28:25] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:25] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[09:28:25] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=0.0°, current=41.7°, player=(202,917), corner_timer=0.00
[09:28:25] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.967, 917.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:25] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:28:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(526.5726, 804.2981)
[09:28:25] [INFO] [Bullet] Using shooter_position, distance=342,93243
[09:28:25] [INFO] [Bullet] Distance to wall: 342,93243 (23,3509% of viewport)
[09:28:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.967, 917.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(526.5713, 804.2962)
[09:28:25] [INFO] [Bullet] Using shooter_position, distance=342,93182
[09:28:25] [INFO] [Bullet] Distance to wall: 342,93182 (23,350859% of viewport)
[09:28:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(330.9605, 709.2077)
[09:28:25] [INFO] [Bullet] Using shooter_position, distance=244,7284
[09:28:25] [INFO] [Bullet] Distance to wall: 244,7284 (16,664007% of viewport)
[09:28:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.967, 917.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(526.5706, 804.29517)
[09:28:26] [INFO] [Bullet] Using shooter_position, distance=342,93155
[09:28:26] [INFO] [Bullet] Distance to wall: 342,93155 (23,350842% of viewport)
[09:28:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(331.28326, 708.542)
[09:28:26] [INFO] [Bullet] Using shooter_position, distance=245,4646
[09:28:26] [INFO] [Bullet] Distance to wall: 245,4646 (16,714136% of viewport)
[09:28:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:26] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:28:26] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(202,917), corner_timer=-0.02
[09:28:26] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:28:26] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(202,917), corner_timer=0.30
[09:28:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(44.87316, 817.9068)
[09:28:26] [INFO] [Bullet] Using shooter_position, distance=187,00746
[09:28:26] [INFO] [Bullet] Distance to wall: 187,00746 (12,733683% of viewport)
[09:28:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.967, 917.7974), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(526.5701, 804.2946)
[09:28:26] [INFO] [Bullet] Using shooter_position, distance=342,93127
[09:28:26] [INFO] [Bullet] Distance to wall: 342,93127 (23,35082% of viewport)
[09:28:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:26] [INFO] [Bullet] Starting wall penetration at (526.5701, 804.2946)
[09:28:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49,35976
[09:28:26] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:26] [INFO] [Bullet] Exiting penetration at (571.10535, 790.35223) after traveling 41,666676 pixels through wall
[09:28:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(253.90404, 710.5454)
[09:28:26] [INFO] [Bullet] Using shooter_position, distance=213,41966
[09:28:26] [INFO] [Bullet] Distance to wall: 213,41966 (14,532139% of viewport)
[09:28:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:26] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:28:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(56.74421, 843.78186)
[09:28:26] [INFO] [Bullet] Using shooter_position, distance=163,8884
[09:28:26] [INFO] [Bullet] Distance to wall: 163,8884 (11,159463% of viewport)
[09:28:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:26] [INFO] [Bullet] Starting wall penetration at (56.74421, 843.78186)
[09:28:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,520629
[09:28:26] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:26] [INFO] [Bullet] Exiting penetration at (25.253511, 859.2944) after traveling 30,104168 pixels through wall
[09:28:26] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[09:28:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.96701, 917.79736), shooter_id=1054951344235, bullet_pos=(43.292004, 757.2536)
[09:28:26] [INFO] [Bullet] Using shooter_position, distance=226,42969
[09:28:26] [INFO] [Bullet] Distance to wall: 226,42969 (15,418014% of viewport)
[09:28:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:26] [INFO] [Bullet] Starting wall penetration at (43.292004, 757.2536)
[09:28:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,537806
[09:28:26] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:26] [INFO] [Bullet] Exiting penetration at (9.020508, 764.8541) after traveling 30,104166 pixels through wall
[09:28:26] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[09:28:26] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(202,917), corner_timer=-0.02
[09:28:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[09:28:26] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(202,917), corner_timer=0.30
[09:28:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:26] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:26] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:26] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:26] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:26] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:26] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:26] [ENEMY] [Enemy1] Death animation component initialized
[09:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:26] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:26] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:26] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:26] [ENEMY] [Enemy2] Death animation component initialized
[09:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:26] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:26] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:26] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:26] [ENEMY] [Enemy3] Death animation component initialized
[09:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:26] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:26] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:26] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:26] [ENEMY] [Enemy4] Death animation component initialized
[09:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:26] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:26] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:26] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:26] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:26] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:26] [ENEMY] [Grenadier] Death animation component initialized
[09:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:26] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:26] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:26] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:26] [ENEMY] [Enemy6] Death animation component initialized
[09:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:26] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:26] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:26] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:26] [ENEMY] [Enemy7] Death animation component initialized
[09:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:26] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:26] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:26] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:26] [ENEMY] [Enemy8] Death animation component initialized
[09:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:26] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:26] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:26] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:26] [ENEMY] [Enemy9] Death animation component initialized
[09:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:26] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:26] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:26] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:26] [ENEMY] [Enemy10] Death animation component initialized
[09:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:26] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:26] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:26] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:26] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:26] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:26] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:26] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:26] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:26] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:26] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:26] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:26] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:26] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:26] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:26] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:26] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:26] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:26] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:26] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:26] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:26] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:26] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:26] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:26] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:26] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:26] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:26] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:26] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:26] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:26] [INFO] [ReplayManager] Replay data cleared
[09:28:26] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:26] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:26] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:26] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:26] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:26] [INFO] [ReplayManager] Enemies count: 10
[09:28:26] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:26] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:26] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:26] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:26] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:26] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:26] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:26] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:26] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:26] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:26] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:26] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:26] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:26] [INFO] [CinemaEffects] Found player node: Player
[09:28:26] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:28:26] [ENEMY] [Enemy1] Registered as sound listener
[09:28:26] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:28:26] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:28:26] [ENEMY] [Enemy2] Registered as sound listener
[09:28:26] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:28:26] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:28:26] [ENEMY] [Enemy3] Registered as sound listener
[09:28:26] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:28:26] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:28:26] [ENEMY] [Enemy4] Registered as sound listener
[09:28:26] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:28:26] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:26] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:28:26] [ENEMY] [Grenadier] Registered as sound listener
[09:28:26] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:26] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:28:26] [ENEMY] [Enemy6] Registered as sound listener
[09:28:26] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:28:26] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:28:26] [ENEMY] [Enemy7] Registered as sound listener
[09:28:26] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:28:26] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:28:26] [ENEMY] [Enemy8] Registered as sound listener
[09:28:26] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:28:26] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:28:26] [ENEMY] [Enemy9] Registered as sound listener
[09:28:26] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:28:26] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:28:26] [ENEMY] [Enemy10] Registered as sound listener
[09:28:26] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:28:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:26] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:26] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:26] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:26] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:26] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:26] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:26] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:26] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:26] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:26] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:26] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:26] [INFO] [LastChance] Found player: Player
[09:28:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:26] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:26] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:27] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:28] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:28] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[09:28:28] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[09:28:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[09:28:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[09:28:28] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:28:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[09:28:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[09:28:28] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:28:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[09:28:28] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:28:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[09:28:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(448,1250), corner_timer=-0.02
[09:28:29] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:28:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(446,1250), corner_timer=0.30
[09:28:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(387,1210), corner_timer=-0.02
[09:28:29] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:28:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(383,1206), corner_timer=0.30
[09:28:29] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:28:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(309,1132), corner_timer=-0.02
[09:28:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[09:28:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(305,1128), corner_timer=0.30
[09:28:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(187,1007), corner_timer=-0.02
[09:28:30] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[09:28:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(185,1004), corner_timer=0.30
[09:28:30] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:30] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[09:28:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(164,978), corner_timer=-0.02
[09:28:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[09:28:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(164,978), corner_timer=0.30
[09:28:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(220,978), corner_timer=-0.02
[09:28:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[09:28:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(226,978), corner_timer=0.30
[09:28:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(320,953), corner_timer=-0.02
[09:28:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[09:28:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(325,953), corner_timer=0.30
[09:28:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:31] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:28:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.6677, 953.2017), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:28:31] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:28:31] [ENEMY] [Enemy2] Heard gunshot at (400.6677, 953.2017), source_type=0, intensity=0.02, distance=403
[09:28:31] [ENEMY] [Enemy3] Heard gunshot at (400.6677, 953.2017), source_type=0, intensity=0.02, distance=362
[09:28:31] [ENEMY] [Enemy4] Heard gunshot at (400.6677, 953.2017), source_type=0, intensity=0.02, distance=403
[09:28:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:28:31] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[09:28:31] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=89.9°, current=-67.5°, player=(400,953), corner_timer=0.00
[09:28:31] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=145.8°, current=-78.7°, player=(400,953), corner_timer=0.00
[09:28:31] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=172.4°, current=168.8°, player=(400,953), corner_timer=0.00
[09:28:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(412,953), corner_timer=-0.02
[09:28:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[09:28:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(414,953), corner_timer=0.30
[09:28:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.7788, 953.2017), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:28:31] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(428.5854, 937.7627), source=NEUTRAL (null), range=900, listeners=10
[09:28:31] [ENEMY] [Enemy2] Heard CASING_KICK at (428.5854, 937.7627), intensity=0.02, dist=346
[09:28:31] [ENEMY] [Enemy3] Heard CASING_KICK at (428.5854, 937.7627), intensity=0.03, dist=287
[09:28:31] [ENEMY] [Enemy4] Heard CASING_KICK at (428.5854, 937.7627), intensity=0.02, dist=350
[09:28:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[09:28:31] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(430.1958, 938.2504), source=NEUTRAL (null), range=900, listeners=10
[09:28:31] [ENEMY] [Enemy2] Heard CASING_KICK at (430.1958, 938.2504), intensity=0.02, dist=341
[09:28:31] [ENEMY] [Enemy3] Heard CASING_KICK at (430.1958, 938.2504), intensity=0.03, dist=281
[09:28:31] [ENEMY] [Enemy4] Heard CASING_KICK at (430.1958, 938.2504), intensity=0.02, dist=348
[09:28:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[09:28:31] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(431.8344, 938.5466), source=NEUTRAL (null), range=900, listeners=10
[09:28:31] [ENEMY] [Enemy2] Heard CASING_KICK at (431.8344, 938.5466), intensity=0.02, dist=337
[09:28:31] [ENEMY] [Enemy3] Heard CASING_KICK at (431.8344, 938.5466), intensity=0.03, dist=274
[09:28:31] [ENEMY] [Enemy4] Heard CASING_KICK at (431.8344, 938.5466), intensity=0.02, dist=343
[09:28:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[09:28:31] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[09:28:31] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:28:31] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(433.4763, 938.709), source=NEUTRAL (null), range=900, listeners=10
[09:28:31] [ENEMY] [Enemy2] Heard CASING_KICK at (433.4763, 938.709), intensity=0.02, dist=332
[09:28:31] [ENEMY] [Enemy3] Heard CASING_KICK at (433.4763, 938.709), intensity=0.03, dist=268
[09:28:31] [ENEMY] [Enemy4] Heard CASING_KICK at (433.4763, 938.709), intensity=0.02, dist=337
[09:28:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[09:28:31] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=78.6°, current=33.8°, player=(421,953), corner_timer=0.00
[09:28:31] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:28:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(421.6677, 953.2017), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:28:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(421.6677, 953.2017), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:28:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(400.66772, 953.2017), shooter_id=1124291578478, bullet_pos=(918.33167, 37.38063)
[09:28:32] [INFO] [Bullet] Using shooter_position, distance=1052,0001
[09:28:32] [INFO] [Bullet] Distance to wall: 1052,0001 (71,63262% of viewport)
[09:28:32] [INFO] [Bullet] Distance-based penetration chance: 63,095272%
[09:28:32] [INFO] [Bullet] Starting wall penetration at (918.33167, 37.38063)
[09:28:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(421,953), corner_timer=-0.02
[09:28:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[09:28:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,485977
[09:28:32] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:32] [INFO] [Bullet] Exiting penetration at (941.2952, -3.2451591) after traveling 41,666668 pixels through wall
[09:28:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(421,953), corner_timer=0.30
[09:28:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(421.6677, 953.2017), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:28:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(417.77884, 953.2017), shooter_id=1124291578478, bullet_pos=(871.8324, 50.644554)
[09:28:32] [INFO] [Bullet] Using shooter_position, distance=1010,3337
[09:28:32] [INFO] [Bullet] Distance to wall: 1010,3337 (68,79548% of viewport)
[09:28:32] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:32] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:28:32] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:28:32] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[09:28:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(421.66772, 953.2017), shooter_id=1124291578478, bullet_pos=(809.2342, 65.447495)
[09:28:32] [INFO] [Bullet] Using shooter_position, distance=968,66675
[09:28:32] [INFO] [Bullet] Distance to wall: 968,66675 (65,958305% of viewport)
[09:28:32] [INFO] [Bullet] Distance-based penetration chance: 69,71532%
[09:28:32] [INFO] [Bullet] Starting wall penetration at (809.2342, 65.447495)
[09:28:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,170676
[09:28:32] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:32] [INFO] [Bullet] Exiting penetration at (827.90564, 22.678886) after traveling 41,666668 pixels through wall
[09:28:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(417.77884, 953.2017), shooter_id=1124291578478, bullet_pos=(985.2535, 276.7031)
[09:28:32] [INFO] [Bullet] Using shooter_position, distance=882,9937
[09:28:32] [INFO] [Bullet] Distance to wall: 882,9937 (60,124664% of viewport)
[09:28:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(421.6677, 953.2017), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:28:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(421.66772, 953.2017), shooter_id=1124291578478, bullet_pos=(808.88226, 65.293884)
[09:28:32] [INFO] [Bullet] Using shooter_position, distance=968,6668
[09:28:32] [INFO] [Bullet] Distance to wall: 968,6668 (65,95831% of viewport)
[09:28:32] [INFO] [Bullet] Distance-based penetration chance: 69,71531%
[09:28:32] [INFO] [Bullet] Starting wall penetration at (808.88226, 65.293884)
[09:28:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(421,953), corner_timer=-0.02
[09:28:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[09:28:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,344567
[09:28:32] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:32] [INFO] [Bullet] Exiting penetration at (827.5368, 22.517872) after traveling 41,666668 pixels through wall
[09:28:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(421,953), corner_timer=0.30
[09:28:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:32] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:32] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:32] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:32] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:32] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:32] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:32] [ENEMY] [Enemy1] Death animation component initialized
[09:28:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:32] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:32] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:32] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:32] [ENEMY] [Enemy2] Death animation component initialized
[09:28:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:32] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:32] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:32] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:32] [ENEMY] [Enemy3] Death animation component initialized
[09:28:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:32] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:32] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:32] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:32] [ENEMY] [Enemy4] Death animation component initialized
[09:28:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:32] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:32] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:32] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:32] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:32] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:32] [ENEMY] [Grenadier] Death animation component initialized
[09:28:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:32] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:32] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:32] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:32] [ENEMY] [Enemy6] Death animation component initialized
[09:28:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:32] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:32] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:32] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:32] [ENEMY] [Enemy7] Death animation component initialized
[09:28:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:32] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:32] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:32] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:32] [ENEMY] [Enemy8] Death animation component initialized
[09:28:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:32] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:32] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:32] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:32] [ENEMY] [Enemy9] Death animation component initialized
[09:28:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:32] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:32] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:32] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:32] [ENEMY] [Enemy10] Death animation component initialized
[09:28:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:32] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:32] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:32] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:32] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:32] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:32] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:32] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:32] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:32] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:32] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:32] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:32] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:32] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:32] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:32] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:32] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:32] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:32] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:32] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:32] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:32] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:32] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:32] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:32] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:32] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:32] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:32] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:32] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:32] [INFO] [ReplayManager] Replay data cleared
[09:28:32] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:32] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:32] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:32] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:32] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:32] [INFO] [ReplayManager] Enemies count: 10
[09:28:32] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:32] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:32] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:32] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:32] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:32] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:32] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:32] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:32] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:32] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:32] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:32] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:32] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:32] [INFO] [CinemaEffects] Found player node: Player
[09:28:32] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:28:32] [ENEMY] [Enemy1] Registered as sound listener
[09:28:32] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:28:32] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:28:32] [ENEMY] [Enemy2] Registered as sound listener
[09:28:32] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:28:32] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:28:32] [ENEMY] [Enemy3] Registered as sound listener
[09:28:32] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:28:32] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:28:32] [ENEMY] [Enemy4] Registered as sound listener
[09:28:32] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:28:32] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:32] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:28:32] [ENEMY] [Grenadier] Registered as sound listener
[09:28:32] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:32] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:28:32] [ENEMY] [Enemy6] Registered as sound listener
[09:28:32] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:28:32] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:28:32] [ENEMY] [Enemy7] Registered as sound listener
[09:28:32] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:28:32] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:28:32] [ENEMY] [Enemy8] Registered as sound listener
[09:28:32] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:28:32] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:28:32] [ENEMY] [Enemy9] Registered as sound listener
[09:28:32] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:28:32] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:28:32] [ENEMY] [Enemy10] Registered as sound listener
[09:28:32] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:28:32] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:32] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:32] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:32] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:32] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:32] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:32] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:32] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:32] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:32] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:32] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:32] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:32] [INFO] [LastChance] Found player: Player
[09:28:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:32] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:32] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:33] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:34] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:34] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:34] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(410,893), corner_timer=0.30
[09:28:34] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(410,893), corner_timer=0.30
[09:28:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(410,905), corner_timer=-0.02
[09:28:34] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(410,905), corner_timer=-0.02
[09:28:34] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:28:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(410,908), corner_timer=0.30
[09:28:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(410,908), corner_timer=0.30
[09:28:34] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:28:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:28:34] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:28:34] [ENEMY] [Enemy2] Heard gunshot at (410.0732, 917.3065), source_type=0, intensity=0.02, distance=367
[09:28:34] [ENEMY] [Enemy3] Heard gunshot at (410.0732, 917.3065), source_type=0, intensity=0.02, distance=335
[09:28:34] [ENEMY] [Enemy4] Heard gunshot at (410.0732, 917.3065), source_type=0, intensity=0.02, distance=390
[09:28:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:28:34] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=88.4°, current=-67.5°, player=(410,917), corner_timer=0.00
[09:28:34] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=150.0°, current=-33.8°, player=(410,917), corner_timer=0.00
[09:28:34] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=177.5°, current=-67.5°, player=(410,917), corner_timer=0.00
[09:28:34] [ENEMY] [Enemy1] Memory: medium confidence (0.63) - transitioning to PURSUING
[09:28:34] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:28:34] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=79.0°, current=168.8°, player=(410,917), corner_timer=0.00
[09:28:34] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:28:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:28:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(410,917), corner_timer=-0.02
[09:28:34] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:28:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(410,917), corner_timer=0.30
[09:28:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:28:35] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:35] [INFO] [Player.Homing] Enabled homing on 3 airborne bullets
[09:28:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(737.49896, 33.421757)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=942,5815
[09:28:35] [INFO] [Bullet] Distance to wall: 942,5815 (64,182106% of viewport)
[09:28:35] [INFO] [Bullet] Distance-based penetration chance: 71,787544%
[09:28:35] [INFO] [Bullet] Starting wall penetration at (737.49896, 33.421757)
[09:28:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,365005
[09:28:35] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:35] [INFO] [Bullet] Exiting penetration at (717.31067, -8.608162) after traveling 41,666668 pixels through wall
[09:28:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:35] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[09:28:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(928.9549, 659.9583)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=579,1945
[09:28:35] [INFO] [Bullet] Distance to wall: 579,1945 (39,43842% of viewport)
[09:28:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(410,917), corner_timer=-0.02
[09:28:35] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:28:35] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:35] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:28:35] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:28:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(410,917), corner_timer=0.30
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(934.653, 825.6679)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=532,5238
[09:28:35] [INFO] [Bullet] Distance to wall: 532,5238 (36,26053% of viewport)
[09:28:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(149.79097, 65.10798)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=891,06067
[09:28:35] [INFO] [Bullet] Distance to wall: 891,06067 (60,673965% of viewport)
[09:28:35] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(685.17773, 813.93506)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=293,88464
[09:28:35] [INFO] [Bullet] Distance to wall: 293,88464 (20,011147% of viewport)
[09:28:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:35] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:28:35] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(43.6897, 98.560745)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=896,9846
[09:28:35] [INFO] [Bullet] Distance to wall: 896,9846 (61,07733% of viewport)
[09:28:35] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[09:28:35] [INFO] [ImpactEffects] spawn_blood_effect called at (621.4705, 795.3164), dir=(1, 0), lethal=false
[09:28:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:35] [INFO] [ImpactEffects] Blood effect spawned at (621.4705, 795.3164) (scale=1)
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(760.2157, 998.8893)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=359,5213
[09:28:35] [INFO] [Bullet] Distance to wall: 359,5213 (24,480467% of viewport)
[09:28:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:35] [INFO] [Bullet] Starting wall penetration at (760.2157, 998.8893)
[09:28:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:28:35] [INFO] [Bullet] Exiting penetration at (736.56323, 1022.3769) after traveling 28,333334 pixels through wall
[09:28:35] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(923.8698, 813.3177)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=524,2143
[09:28:35] [INFO] [Bullet] Distance to wall: 524,2143 (35,694714% of viewport)
[09:28:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:35] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(219.8913, 237.6195)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=705,7928
[09:28:35] [INFO] [Bullet] Distance to wall: 705,7928 (48,05873% of viewport)
[09:28:35] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/3->2/3
[09:28:35] [INFO] [ImpactEffects] spawn_blood_effect called at (774.4525, 909.6092), dir=(1, 0), lethal=false
[09:28:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:35] [INFO] [ImpactEffects] Blood effect spawned at (774.4525, 909.6092) (scale=1)
[09:28:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:35] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(923.9936, 809.32446)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=525,1422
[09:28:35] [INFO] [Bullet] Distance to wall: 525,1422 (35,7579% of viewport)
[09:28:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:35] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[09:28:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(410,917), corner_timer=-0.01
[09:28:35] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:28:35] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[09:28:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=5.7°, player=(410,917), corner_timer=0.30
[09:28:35] [INFO] [BloodDecal] Blood puddle created at (673.9533, 813.6092) (added to group)
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(59.657524, 372.90717)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=647,427
[09:28:35] [INFO] [Bullet] Distance to wall: 647,427 (44,084496% of viewport)
[09:28:35] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:28:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(922.4651, 807.86554)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=523,9493
[09:28:35] [INFO] [Bullet] Distance to wall: 523,9493 (35,67667% of viewport)
[09:28:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(758.03357, 1009.4677)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=359,95853
[09:28:35] [INFO] [Bullet] Distance to wall: 359,95853 (24,510239% of viewport)
[09:28:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:35] [INFO] [Bullet] Starting wall penetration at (758.03357, 1009.4677)
[09:28:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,45484
[09:28:35] [INFO] [BloodDecal] Blood puddle created at (692.0401, 807.203) (added to group)
[09:28:35] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:35] [INFO] [Bullet] Exiting penetration at (736.75665, 1035.1271) after traveling 28,333336 pixels through wall
[09:28:35] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[09:28:35] [INFO] [BloodDecal] Blood puddle created at (675.3821, 840.9231) (added to group)
[09:28:35] [INFO] [BloodDecal] Blood puddle created at (677.2305, 804.1012) (added to group)
[09:28:35] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/3->1/3
[09:28:35] [INFO] [ImpactEffects] spawn_blood_effect called at (774.4525, 909.6092), dir=(1, 0), lethal=false
[09:28:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:35] [INFO] [ImpactEffects] Blood effect spawned at (774.4525, 909.6092) (scale=1)
[09:28:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(922.4764, 807.9177)
[09:28:35] [INFO] [Bullet] Using shooter_position, distance=523,94934
[09:28:35] [INFO] [Bullet] Distance to wall: 523,94934 (35,676678% of viewport)
[09:28:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:35] [INFO] [Bullet] Starting wall penetration at (922.4764, 807.9177)
[09:28:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,275358
[09:28:35] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:35] [INFO] [Bullet] Exiting penetration at (951.18414, 833.3207) after traveling 33,333336 pixels through wall
[09:28:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:35] [INFO] [BloodDecal] Blood puddle created at (816.665, 910.183) (added to group)
[09:28:35] [INFO] [BloodDecal] Blood puddle created at (849.1583, 911.1502) (added to group)
[09:28:35] [INFO] [BloodDecal] Blood puddle created at (850.9193, 915.5632) (added to group)
[09:28:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (863.7004, 932.4594) (added to group)
[09:28:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(922.4816, 807.9424)
[09:28:36] [INFO] [Bullet] Using shooter_position, distance=523,94934
[09:28:36] [INFO] [Bullet] Distance to wall: 523,94934 (35,676678% of viewport)
[09:28:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(410,917), corner_timer=-0.01
[09:28:36] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[09:28:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.1°, player=(410,917), corner_timer=0.30
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (891.256, 907.2556) (added to group)
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (881.6405, 968.0298) (added to group)
[09:28:36] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[09:28:36] [INFO] [ImpactEffects] spawn_blood_effect called at (342.4736, 663.9331), dir=(1, 0), lethal=false
[09:28:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:36] [INFO] [ImpactEffects] Blood effect spawned at (342.4736, 663.9331) (scale=1)
[09:28:36] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/3->0/3
[09:28:36] [INFO] [ImpactEffects] spawn_blood_effect called at (774.4525, 909.6092), dir=(1, 0), lethal=true
[09:28:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:36] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:28:36] [INFO] [ImpactEffects] Blood effect spawned at (774.4525, 909.6092) (scale=1.5)
[09:28:36] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[09:28:36] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:28:36] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:28:36] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:28:36] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:28:36] [INFO] [PowerFantasy]   - Duration: 300ms
[09:28:36] [ENEMY] [Enemy4] [AllyDeath] Notified 3 enemies
[09:28:36] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[09:28:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:28:36] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[09:28:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:28:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(922.4833, 807.9495)
[09:28:36] [INFO] [Bullet] Using shooter_position, distance=523,9495
[09:28:36] [INFO] [Bullet] Distance to wall: 523,9495 (35,67669% of viewport)
[09:28:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:36] [INFO] [PowerFantasy] Effect duration expired after 304.00 ms
[09:28:36] [INFO] [PowerFantasy] Ending power fantasy effect
[09:28:36] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (814.7905, 947.4819) (added to group)
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (849.8709, 891.7963) (added to group)
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (835.9664, 944.2696) (added to group)
[09:28:36] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[09:28:36] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:28:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:28:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(932.8128, 818.87976)
[09:28:36] [INFO] [Bullet] Using shooter_position, distance=531,9253
[09:28:36] [INFO] [Bullet] Distance to wall: 531,9253 (36,219772% of viewport)
[09:28:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:36] [INFO] [Bullet] Starting wall penetration at (932.8128, 818.87976)
[09:28:36] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:28:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,19315
[09:28:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(736.4496, 1018.88293)
[09:28:36] [INFO] [Bullet] Using shooter_position, distance=341,81772
[09:28:36] [INFO] [Bullet] Distance to wall: 341,81772 (23,274998% of viewport)
[09:28:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:36] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:36] [INFO] [Bullet] Exiting penetration at (966.0613, 851.626) after traveling 41,66667 pixels through wall
[09:28:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (855.8542, 918.6064) (added to group)
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (900.2821, 965.9343) (added to group)
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (907.6602, 968.3124) (added to group)
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (426.0216, 662.6983) (added to group)
[09:28:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(919.7007, 811.1892)
[09:28:36] [INFO] [Bullet] Using shooter_position, distance=520,5585
[09:28:36] [INFO] [Bullet] Distance to wall: 520,5585 (35,445786% of viewport)
[09:28:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:36] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[09:28:36] [INFO] [ImpactEffects] spawn_blood_effect called at (621.4705, 795.3164), dir=(1, 0), lethal=true
[09:28:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:36] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:28:36] [INFO] [ImpactEffects] Blood effect spawned at (621.4705, 795.3164) (scale=1.5)
[09:28:36] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:28:36] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[09:28:36] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:28:36] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:28:36] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:28:36] [INFO] [PowerFantasy]   - Duration: 300ms
[09:28:36] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:28:36] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[09:28:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:28:36] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (442.1588, 639.1183) (added to group)
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (440.2536, 678.7758) (added to group)
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (817.9547, 911.0222) (added to group)
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (837.367, 951.4018) (added to group)
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (838.1176, 932.5694) (added to group)
[09:28:36] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (842.1727, 912.4479) (added to group)
[09:28:36] [INFO] [BloodDecal] Blood puddle created at (883.5213, 962.3058) (added to group)
[09:28:37] [INFO] [PowerFantasy] Effect duration expired after 304.00 ms
[09:28:37] [INFO] [PowerFantasy] Ending power fantasy effect
[09:28:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(708.1879, 996.5649)
[09:28:37] [INFO] [Bullet] Using shooter_position, distance=308,47095
[09:28:37] [INFO] [Bullet] Distance to wall: 308,47095 (21,004354% of viewport)
[09:28:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (891.2426, 931.1257) (added to group)
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (895.3209, 986.5902) (added to group)
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (847.6078, 949.2411) (added to group)
[09:28:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.6°, player=(410,917), corner_timer=-0.01
[09:28:37] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[09:28:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-132.4°, player=(410,917), corner_timer=0.30
[09:28:37] [ENEMY] [Enemy4] Ragdoll activated
[09:28:37] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:28:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(855.13586, 66.33087)
[09:28:37] [INFO] [Bullet] Using shooter_position, distance=960,33344
[09:28:37] [INFO] [Bullet] Distance to wall: 960,33344 (65,39087% of viewport)
[09:28:37] [INFO] [Bullet] Distance-based penetration chance: 70,37731%
[09:28:37] [INFO] [Bullet] Penetration failed (distance roll)
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (695.3685, 788.1238) (added to group)
[09:28:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (867.4824, 974.5406) (added to group)
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (874.0072, 970.9564) (added to group)
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (692.5655, 778.9126) (added to group)
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (685.0178, 804.3647) (added to group)
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (870.7386, 979.4018) (added to group)
[09:28:37] [ENEMY] [Enemy1] Hit: dmg=1, hp=3/3->2/3
[09:28:37] [INFO] [ImpactEffects] spawn_blood_effect called at (460.9343, 541.778), dir=(1, 0), lethal=false
[09:28:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:37] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 541.778) (dist=39 px)
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (499, 541.778) (added to group)
[09:28:37] [INFO] [ImpactEffects] Blood effect spawned at (460.9343, 541.778) (scale=1)
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (702.7368, 792.2426) (added to group)
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (534.6245, 693.2764) (added to group)
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (906.6728, 962.3007) (added to group)
[09:28:37] [ENEMY] [Enemy3] Ragdoll activated
[09:28:37] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:28:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=173.0°, player=(410,917), corner_timer=-0.02
[09:28:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[09:28:37] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[09:28:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.9°, player=(410,917), corner_timer=0.30
[09:28:37] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=153.7°, current=151.4°, player=(410,917), corner_timer=0.17
[09:28:37] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[09:28:37] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[09:28:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:37] [INFO] [BloodDecal] Blood puddle created at (778.0696, 805.2147) (added to group)
[09:28:37] [INFO] [ReplayManager] Recording frame 300 (4,3s): player_valid=True, enemies=10
[09:28:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=121.3°, player=(410,917), corner_timer=-0.02
[09:28:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[09:28:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=124.1°, player=(410,917), corner_timer=0.30
[09:28:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(410,917), corner_timer=-0.02
[09:28:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[09:28:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(410,917), corner_timer=0.30
[09:28:38] [ENEMY] [Enemy4] Death animation completed
[09:28:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:38] [ENEMY] [Enemy3] Death animation completed
[09:28:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(410,917), corner_timer=-0.02
[09:28:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[09:28:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(410,917), corner_timer=0.30
[09:28:38] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 4/6
[09:28:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:38] [INFO] [ReplayManager] Recording frame 360 (5,3s): player_valid=True, enemies=10
[09:28:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(410,917), corner_timer=-0.02
[09:28:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[09:28:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(410,917), corner_timer=0.30
[09:28:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[09:28:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(460.7496, 708.1659)
[09:28:39] [INFO] [Bullet] Using shooter_position, distance=215,19266
[09:28:39] [INFO] [Bullet] Distance to wall: 215,19266 (14,652864% of viewport)
[09:28:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:39] [INFO] [Bullet] Starting wall penetration at (460.7496, 708.1659)
[09:28:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,500748
[09:28:39] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:39] [INFO] [Bullet] Exiting penetration at (460.80142, 661.49927) after traveling 41,66667 pixels through wall
[09:28:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[09:28:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(410,917), corner_timer=-0.02
[09:28:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[09:28:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(460.74963, 708.1659)
[09:28:39] [INFO] [Bullet] Using shooter_position, distance=215,19266
[09:28:39] [INFO] [Bullet] Distance to wall: 215,19266 (14,652864% of viewport)
[09:28:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:39] [INFO] [Bullet] Starting wall penetration at (460.74963, 708.1659)
[09:28:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(410,917), corner_timer=0.30
[09:28:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,500748
[09:28:39] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:39] [INFO] [Bullet] Exiting penetration at (460.80142, 661.49927) after traveling 41,66667 pixels through wall
[09:28:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[09:28:39] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[09:28:39] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[09:28:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(460.74963, 708.1659)
[09:28:39] [INFO] [Bullet] Using shooter_position, distance=215,19266
[09:28:39] [INFO] [Bullet] Distance to wall: 215,19266 (14,652864% of viewport)
[09:28:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:39] [INFO] [Bullet] Starting wall penetration at (460.74963, 708.1659)
[09:28:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,500748
[09:28:39] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:39] [INFO] [Bullet] Exiting penetration at (460.80142, 661.49927) after traveling 41,66667 pixels through wall
[09:28:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[09:28:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(460.74954, 708.1659)
[09:28:39] [INFO] [Bullet] Using shooter_position, distance=215,19264
[09:28:39] [INFO] [Bullet] Distance to wall: 215,19264 (14,6528635% of viewport)
[09:28:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:39] [INFO] [Bullet] Starting wall penetration at (460.74954, 708.1659)
[09:28:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,500748
[09:28:39] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:39] [INFO] [Bullet] Exiting penetration at (460.80136, 661.49927) after traveling 41,66667 pixels through wall
[09:28:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[09:28:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(460.7496, 708.1659)
[09:28:39] [INFO] [Bullet] Using shooter_position, distance=215,19266
[09:28:39] [INFO] [Bullet] Distance to wall: 215,19266 (14,652864% of viewport)
[09:28:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:39] [INFO] [Bullet] Starting wall penetration at (460.7496, 708.1659)
[09:28:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(410,917), corner_timer=-0.02
[09:28:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[09:28:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,500748
[09:28:39] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:39] [INFO] [Bullet] Exiting penetration at (460.80142, 661.49927) after traveling 41,66667 pixels through wall
[09:28:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(410,917), corner_timer=0.30
[09:28:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.0732, 917.3065), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[09:28:39] [INFO] [Player.Homing] Homing effect expired, charges remaining: 4/6
[09:28:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.07315, 917.30646), shooter_id=1270538569228, bullet_pos=(460.74963, 708.1659)
[09:28:39] [INFO] [Bullet] Using shooter_position, distance=215,19266
[09:28:39] [INFO] [Bullet] Distance to wall: 215,19266 (14,652864% of viewport)
[09:28:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:39] [INFO] [Bullet] Starting wall penetration at (460.74963, 708.1659)
[09:28:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,500748
[09:28:39] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:39] [INFO] [Bullet] Exiting penetration at (460.80142, 661.49927) after traveling 41,66667 pixels through wall
[09:28:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:39] [INFO] [ReplayManager] Recording frame 420 (6,3s): player_valid=True, enemies=10
[09:28:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(410,915), corner_timer=-0.02
[09:28:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[09:28:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(410,913), corner_timer=0.30
[09:28:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:39] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:39] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:39] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:39] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:39] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:39] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:39] [ENEMY] [Enemy1] Death animation component initialized
[09:28:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:39] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:39] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:39] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:39] [ENEMY] [Enemy2] Death animation component initialized
[09:28:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:39] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:39] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:39] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:39] [ENEMY] [Enemy3] Death animation component initialized
[09:28:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:39] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:39] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:39] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:39] [ENEMY] [Enemy4] Death animation component initialized
[09:28:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:39] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:39] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:39] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:39] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:39] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:39] [ENEMY] [Grenadier] Death animation component initialized
[09:28:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:39] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:39] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:39] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:39] [ENEMY] [Enemy6] Death animation component initialized
[09:28:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:39] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:39] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:39] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:39] [ENEMY] [Enemy7] Death animation component initialized
[09:28:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:39] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:39] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:39] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:39] [ENEMY] [Enemy8] Death animation component initialized
[09:28:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:39] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:39] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:39] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:39] [ENEMY] [Enemy9] Death animation component initialized
[09:28:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:39] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:39] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:39] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:39] [ENEMY] [Enemy10] Death animation component initialized
[09:28:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:39] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:39] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:39] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:39] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:39] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:39] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:39] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:39] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:39] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:39] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:39] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:39] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:39] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:39] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:39] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:39] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:39] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:39] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:39] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:39] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:39] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:39] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:39] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:39] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:39] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:39] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:39] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:39] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:39] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:39] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:39] [INFO] [ReplayManager] Replay data cleared
[09:28:39] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:39] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:39] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:39] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:39] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:39] [INFO] [ReplayManager] Enemies count: 10
[09:28:39] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:39] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:39] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:39] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:39] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:39] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:39] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:39] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:39] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:39] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:39] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:39] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:39] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:39] [INFO] [CinemaEffects] Found player node: Player
[09:28:39] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:39] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[09:28:39] [ENEMY] [Enemy1] Registered as sound listener
[09:28:39] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:28:39] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:39] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[09:28:39] [ENEMY] [Enemy2] Registered as sound listener
[09:28:39] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:28:39] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:39] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[09:28:39] [ENEMY] [Enemy3] Registered as sound listener
[09:28:39] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:28:39] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:39] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[09:28:39] [ENEMY] [Enemy4] Registered as sound listener
[09:28:39] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:28:39] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:39] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 13)
[09:28:39] [ENEMY] [Grenadier] Registered as sound listener
[09:28:39] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:39] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:39] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[09:28:39] [ENEMY] [Enemy6] Registered as sound listener
[09:28:39] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:28:39] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:39] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[09:28:39] [ENEMY] [Enemy7] Registered as sound listener
[09:28:39] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:28:39] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:39] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[09:28:39] [ENEMY] [Enemy8] Registered as sound listener
[09:28:39] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:28:39] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:39] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[09:28:39] [ENEMY] [Enemy9] Registered as sound listener
[09:28:39] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:28:39] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:39] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[09:28:39] [ENEMY] [Enemy10] Registered as sound listener
[09:28:39] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:28:39] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:40] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:40] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:40] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:40] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:40] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:40] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:40] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:40] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:40] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:40] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:40] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:40] [INFO] [LastChance] Found player: Player
[09:28:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:40] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:40] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:40] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:41] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:41] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:28:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 885.6666), source=PLAYER (AssaultRifle), range=1469, listeners=18
[09:28:41] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[09:28:41] [ENEMY] [Enemy2] Heard gunshot at (450, 885.6666), source_type=0, intensity=0.02, distance=339
[09:28:41] [ENEMY] [Enemy3] Heard gunshot at (450, 885.6666), source_type=0, intensity=0.03, distance=284
[09:28:41] [ENEMY] [Enemy4] Heard gunshot at (450, 885.6666), source_type=0, intensity=0.02, distance=350
[09:28:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:28:41] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=81.5°, current=168.8°, player=(450,885), corner_timer=0.00
[09:28:41] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=151.5°, current=123.7°, player=(450,885), corner_timer=0.00
[09:28:41] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-177.7°, current=-67.5°, player=(450,885), corner_timer=0.00
[09:28:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 848.8333), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:28:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 823.9444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:41] [ENEMY] [Enemy1] Heard gunshot at (450, 823.9444), source_type=0, intensity=0.01, distance=497
[09:28:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:41] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=72.4°, current=-33.8°, player=(450,823), corner_timer=0.00
[09:28:41] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:41] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:41] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,814), corner_timer=0.30
[09:28:41] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,814), corner_timer=0.30
[09:28:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 813.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 885.6666), shooter_id=1439887789409, bullet_pos=(874.8955, 61.777714)
[09:28:41] [INFO] [Bullet] Using shooter_position, distance=927,00006
[09:28:41] [INFO] [Bullet] Distance to wall: 927,00006 (63,12114% of viewport)
[09:28:41] [INFO] [Bullet] Distance-based penetration chance: 73,02534%
[09:28:41] [INFO] [Bullet] Starting wall penetration at (874.8955, 61.777714)
[09:28:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,1622095
[09:28:41] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:41] [INFO] [Bullet] Exiting penetration at (896.2854, 20.30183) after traveling 41,666668 pixels through wall
[09:28:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 811.9444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 848.83325), shooter_id=1439887789409, bullet_pos=(892.68, 34.361553)
[09:28:41] [INFO] [Bullet] Using shooter_position, distance=927,00037
[09:28:41] [INFO] [Bullet] Distance to wall: 927,00037 (63,121162% of viewport)
[09:28:41] [INFO] [Bullet] Distance-based penetration chance: 73,02531%
[09:28:41] [INFO] [Bullet] Penetration failed (distance roll)
[09:28:41] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=167.8°, current=-142.9°, player=(450,811), corner_timer=0.00
[09:28:41] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:41] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:28:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 823.9444), shooter_id=1439887789409, bullet_pos=(910.7434, 67.94798)
[09:28:41] [INFO] [Bullet] Using shooter_position, distance=885,3333
[09:28:41] [INFO] [Bullet] Distance to wall: 885,3333 (60,283978% of viewport)
[09:28:41] [INFO] [Bullet] Distance-based penetration chance: 76,335365%
[09:28:41] [INFO] [Bullet] Penetration failed (distance roll)
[09:28:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:41] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:41] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:41] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:41] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:41] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:41] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:41] [ENEMY] [Enemy1] Death animation component initialized
[09:28:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:41] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:41] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:41] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:41] [ENEMY] [Enemy2] Death animation component initialized
[09:28:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:41] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:41] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:41] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:41] [ENEMY] [Enemy3] Death animation component initialized
[09:28:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:41] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:41] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:41] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:41] [ENEMY] [Enemy4] Death animation component initialized
[09:28:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:41] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:41] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:41] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:41] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:41] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:42] [ENEMY] [Grenadier] Death animation component initialized
[09:28:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:42] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:42] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:42] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:42] [ENEMY] [Enemy6] Death animation component initialized
[09:28:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:42] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:42] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:42] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:42] [ENEMY] [Enemy7] Death animation component initialized
[09:28:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:42] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:42] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:42] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:42] [ENEMY] [Enemy8] Death animation component initialized
[09:28:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:42] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:42] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:42] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:42] [ENEMY] [Enemy9] Death animation component initialized
[09:28:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:42] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:42] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:42] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:42] [ENEMY] [Enemy10] Death animation component initialized
[09:28:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:42] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:42] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:42] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:42] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:42] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:42] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:42] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:42] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:42] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:42] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:42] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:42] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:42] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:42] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:42] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:42] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:42] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:42] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:42] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:42] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:42] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:42] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:42] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:42] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:42] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:42] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:42] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:42] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:42] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:42] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:42] [INFO] [ReplayManager] Replay data cleared
[09:28:42] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:42] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:42] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:42] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:42] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:42] [INFO] [ReplayManager] Enemies count: 10
[09:28:42] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:42] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:42] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:42] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:42] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:42] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:42] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:42] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:42] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:42] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:42] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:42] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:42] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:42] [INFO] [CinemaEffects] Found player node: Player
[09:28:42] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:42] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:28:42] [ENEMY] [Enemy1] Registered as sound listener
[09:28:42] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:28:42] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:42] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:28:42] [ENEMY] [Enemy2] Registered as sound listener
[09:28:42] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:28:42] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:42] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:28:42] [ENEMY] [Enemy3] Registered as sound listener
[09:28:42] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:28:42] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:42] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:28:42] [ENEMY] [Enemy4] Registered as sound listener
[09:28:42] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:28:42] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:42] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:28:42] [ENEMY] [Grenadier] Registered as sound listener
[09:28:42] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:42] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:42] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:28:42] [ENEMY] [Enemy6] Registered as sound listener
[09:28:42] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:28:42] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:42] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:28:42] [ENEMY] [Enemy7] Registered as sound listener
[09:28:42] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[09:28:42] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:42] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:28:42] [ENEMY] [Enemy8] Registered as sound listener
[09:28:42] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:28:42] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:42] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:28:42] [ENEMY] [Enemy9] Registered as sound listener
[09:28:42] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:28:42] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:42] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:28:42] [ENEMY] [Enemy10] Registered as sound listener
[09:28:42] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:28:42] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:42] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:42] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:42] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:42] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:42] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:42] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:42] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:42] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:42] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:42] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:42] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:42] [INFO] [LastChance] Found player: Player
[09:28:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:42] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:42] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:43] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:43] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(304.2249, 900.8879), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:28:43] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:28:43] [ENEMY] [Enemy2] Heard gunshot at (304.2249, 900.8879), source_type=0, intensity=0.02, distance=364
[09:28:43] [ENEMY] [Enemy3] Heard gunshot at (304.2249, 900.8879), source_type=0, intensity=0.01, distance=424
[09:28:43] [ENEMY] [Enemy4] Heard gunshot at (304.2249, 900.8879), source_type=0, intensity=0.01, distance=496
[09:28:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:43] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=105.3°, current=45.0°, player=(304,900), corner_timer=0.00
[09:28:43] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=159.1°, current=11.3°, player=(304,900), corner_timer=0.00
[09:28:43] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=179.9°, current=-67.5°, player=(304,900), corner_timer=0.00
[09:28:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(304.22495, 900.8879), shooter_id=1496410230213, bullet_pos=(499.90338, 809.0612)
[09:28:43] [INFO] [Bullet] Using shooter_position, distance=216,15315
[09:28:43] [INFO] [Bullet] Distance to wall: 216,15315 (14,718266% of viewport)
[09:28:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(291.1245, 884.3012), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:43] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:43] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:43] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[09:28:43] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:28:43] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(289,882), corner_timer=0.30
[09:28:43] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(289,882), corner_timer=0.30
[09:28:43] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=91.2°, current=33.8°, player=(289,881), corner_timer=0.00
[09:28:43] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:28:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(288.5303, 881.0167), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:43] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[09:28:43] [INFO] [ImpactEffects] spawn_blood_effect called at (624.1974, 775.5263), dir=(1, 0), lethal=false
[09:28:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:43] [INFO] [ImpactEffects] Blood effect spawned at (624.1974, 775.5263) (scale=1)
[09:28:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(288.53027, 881.01666), shooter_id=1496410230213, bullet_pos=(514.6261, 798.923)
[09:28:43] [INFO] [Bullet] Using shooter_position, distance=240,53835
[09:28:43] [INFO] [Bullet] Distance to wall: 240,53835 (16,378698% of viewport)
[09:28:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:43] [INFO] [Bullet] Starting wall penetration at (514.6261, 798.923)
[09:28:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44,33708
[09:28:43] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:43] [INFO] [Bullet] Exiting penetration at (552.29865, 791.8366) after traveling 33,333336 pixels through wall
[09:28:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(288.5303, 881.0167), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:28:44] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:28:44] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=162.6°, current=162.6°, player=(288,881), corner_timer=0.00
[09:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(288.53027, 881.01666), shooter_id=1496410230213, bullet_pos=(521.64124, 798.2956)
[09:28:44] [INFO] [Bullet] Using shooter_position, distance=247,35297
[09:28:44] [INFO] [Bullet] Distance to wall: 247,35297 (16,842718% of viewport)
[09:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:44] [INFO] [Bullet] Starting wall penetration at (521.64124, 798.2956)
[09:28:44] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:28:44] [INFO] [Bullet] Exiting penetration at (559.8631, 795.40454) after traveling 33,333332 pixels through wall
[09:28:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:44] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:28:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(288.5303, 881.0167), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:44] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:28:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.4°, player=(288,881), corner_timer=-0.00
[09:28:44] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(288,881), corner_timer=-0.00
[09:28:44] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[09:28:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(288,881), corner_timer=0.30
[09:28:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(288,881), corner_timer=0.30
[09:28:44] [INFO] [BloodDecal] Blood puddle created at (679.6396, 815.4939) (added to group)
[09:28:44] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:44] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:28:44] [ENEMY] [Enemy1] PURSUING corner check: angle -51.6°
[09:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(288.53027, 881.01666), shooter_id=1496410230213, bullet_pos=(521.0726, 798.9916)
[09:28:44] [INFO] [Bullet] Using shooter_position, distance=246,58475
[09:28:44] [INFO] [Bullet] Distance to wall: 246,58475 (16,79041% of viewport)
[09:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:44] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[09:28:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(288.5303, 881.0167), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:44] [INFO] [BloodDecal] Blood puddle created at (678.4742, 811.6376) (added to group)
[09:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(288.53027, 881.01666), shooter_id=1496410230213, bullet_pos=(520.62134, 798.3062)
[09:28:44] [INFO] [Bullet] Using shooter_position, distance=246,38847
[09:28:44] [INFO] [Bullet] Distance to wall: 246,38847 (16,777044% of viewport)
[09:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:44] [INFO] [Bullet] Starting wall penetration at (520.62134, 798.3062)
[09:28:44] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:28:44] [INFO] [Bullet] Exiting penetration at (558.91895, 796.65173) after traveling 33,333336 pixels through wall
[09:28:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(288.5303, 881.0167), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:44] [INFO] [BloodDecal] Blood puddle created at (723.5464, 780.3378) (added to group)
[09:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(288.53027, 881.01666), shooter_id=1496410230213, bullet_pos=(520.35846, 797.9153)
[09:28:44] [INFO] [Bullet] Using shooter_position, distance=246,2725
[09:28:44] [INFO] [Bullet] Distance to wall: 246,2725 (16,769148% of viewport)
[09:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:44] [INFO] [Bullet] Starting wall penetration at (520.35846, 797.9153)
[09:28:44] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:28:44] [INFO] [Bullet] Exiting penetration at (558.66846, 796.5773) after traveling 33,333336 pixels through wall
[09:28:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:44] [INFO] [BloodDecal] Blood puddle created at (734.7455, 790.7647) (added to group)
[09:28:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(288.5303, 881.0167), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:28:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(288,881), corner_timer=-0.01
[09:28:44] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[09:28:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.6°, player=(288,881), corner_timer=0.30
[09:28:44] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:28:44] [INFO] [BloodDecal] Blood puddle created at (767.5388, 802.3386) (added to group)
[09:28:44] [ENEMY] [Enemy1] PURSUING corner check: angle 153.5°
[09:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(288.53027, 881.01666), shooter_id=1496410230213, bullet_pos=(520.2092, 797.6959)
[09:28:44] [INFO] [Bullet] Using shooter_position, distance=246,20618
[09:28:44] [INFO] [Bullet] Distance to wall: 246,20618 (16,764631% of viewport)
[09:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:44] [INFO] [Bullet] Starting wall penetration at (520.2092, 797.6959)
[09:28:44] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:28:44] [INFO] [Bullet] Exiting penetration at (558.5249, 796.5341) after traveling 33,333332 pixels through wall
[09:28:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:44] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[09:28:44] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[09:28:44] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:28:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:44] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:44] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:44] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:44] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:44] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:44] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:44] [ENEMY] [Enemy1] Death animation component initialized
[09:28:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:44] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:44] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:44] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:44] [ENEMY] [Enemy2] Death animation component initialized
[09:28:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:44] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:44] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:44] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:44] [ENEMY] [Enemy3] Death animation component initialized
[09:28:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:44] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:44] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:44] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:44] [ENEMY] [Enemy4] Death animation component initialized
[09:28:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:44] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:44] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:44] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:44] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:44] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:44] [ENEMY] [Grenadier] Death animation component initialized
[09:28:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:44] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:44] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:44] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:44] [ENEMY] [Enemy6] Death animation component initialized
[09:28:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:44] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:44] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:44] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:44] [ENEMY] [Enemy7] Death animation component initialized
[09:28:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:44] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:44] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:44] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:44] [ENEMY] [Enemy8] Death animation component initialized
[09:28:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:44] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:44] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:44] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:44] [ENEMY] [Enemy9] Death animation component initialized
[09:28:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:44] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:44] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:44] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:44] [ENEMY] [Enemy10] Death animation component initialized
[09:28:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:44] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:44] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:44] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:44] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:44] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:44] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:44] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:44] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:44] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:44] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:44] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:44] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:44] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:44] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:44] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:44] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:44] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:44] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:44] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:44] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:44] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:44] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:44] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:44] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:44] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:44] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:44] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:44] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:44] [INFO] [ReplayManager] Replay data cleared
[09:28:44] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:44] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:44] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:44] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:44] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:44] [INFO] [ReplayManager] Enemies count: 10
[09:28:44] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:44] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:44] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:44] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:44] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:44] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:44] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:44] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:44] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:44] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:44] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:44] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:44] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:44] [INFO] [CinemaEffects] Found player node: Player
[09:28:44] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:28:44] [ENEMY] [Enemy1] Registered as sound listener
[09:28:44] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:28:44] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:28:44] [ENEMY] [Enemy2] Registered as sound listener
[09:28:44] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:28:44] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:28:44] [ENEMY] [Enemy3] Registered as sound listener
[09:28:44] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:28:44] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:28:44] [ENEMY] [Enemy4] Registered as sound listener
[09:28:44] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:28:44] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:44] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:28:44] [ENEMY] [Grenadier] Registered as sound listener
[09:28:44] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:44] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:28:44] [ENEMY] [Enemy6] Registered as sound listener
[09:28:44] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:28:44] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:28:44] [ENEMY] [Enemy7] Registered as sound listener
[09:28:44] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:28:44] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:28:44] [ENEMY] [Enemy8] Registered as sound listener
[09:28:44] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:28:44] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:28:44] [ENEMY] [Enemy9] Registered as sound listener
[09:28:44] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:28:44] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:28:44] [ENEMY] [Enemy10] Registered as sound listener
[09:28:44] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:28:44] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:45] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:45] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:45] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:45] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:45] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:45] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:45] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:45] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:45] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:45] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:45] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:45] [INFO] [LastChance] Found player: Player
[09:28:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:45] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:45] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:46] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:46] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:46] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:46] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(445,783), corner_timer=0.30
[09:28:46] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(445,783), corner_timer=0.30
[09:28:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(445.0727, 755.7076), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:28:46] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:28:46] [ENEMY] [Enemy1] Heard gunshot at (445.0727, 755.7076), source_type=0, intensity=0.01, distance=431
[09:28:46] [ENEMY] [Enemy2] Heard gunshot at (445.0727, 755.7076), source_type=0, intensity=0.06, distance=211
[09:28:46] [ENEMY] [Enemy3] Heard gunshot at (445.0727, 755.7076), source_type=0, intensity=0.04, distance=255
[09:28:46] [ENEMY] [Enemy4] Heard gunshot at (445.0727, 755.7076), source_type=0, intensity=0.02, distance=383
[09:28:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:46] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.3°, current=168.8°, player=(445,755), corner_timer=0.00
[09:28:46] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.6°, current=-157.5°, player=(445,755), corner_timer=0.00
[09:28:46] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=178.7°, current=11.3°, player=(445,755), corner_timer=0.00
[09:28:46] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-157.9°, current=-67.5°, player=(445,755), corner_timer=0.00
[09:28:46] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=179.9°, current=-167.2°, player=(445,750), corner_timer=0.00
[09:28:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(445.0727, 728.541), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:46] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[09:28:46] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3361, 750.2388), dir=(1, 0), lethal=false
[09:28:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:46] [INFO] [ImpactEffects] Blood effect spawned at (689.3361, 750.2388) (scale=1)
[09:28:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(445.3402, 731.2658), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.07266, 755.70764), shooter_id=1581672039884, bullet_pos=(915.9789, 949.9062)
[09:28:46] [INFO] [Bullet] Using shooter_position, distance=509,3778
[09:28:46] [INFO] [Bullet] Distance to wall: 509,3778 (34,684475% of viewport)
[09:28:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.07266, 755.70764), shooter_id=1581672039884, bullet_pos=(909.66504, 989.8266)
[09:28:46] [INFO] [Bullet] Using shooter_position, distance=520,2478
[09:28:46] [INFO] [Bullet] Distance to wall: 520,2478 (35,424633% of viewport)
[09:28:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:46] [INFO] [Bullet] Starting wall penetration at (909.66504, 989.8266)
[09:28:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(445,732), corner_timer=-0.02
[09:28:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(445,732), corner_timer=-0.02
[09:28:46] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:28:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,884301
[09:28:46] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:46] [INFO] [Bullet] Exiting penetration at (904.45776, 1022.7507) after traveling 28,333336 pixels through wall
[09:28:46] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[09:28:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.07266, 755.70764), shooter_id=1581672039884, bullet_pos=(904.45776, 1022.7507)
[09:28:46] [INFO] [Bullet] Using shooter_position, distance=531,36304
[09:28:46] [INFO] [Bullet] Distance to wall: 531,36304 (36,181488% of viewport)
[09:28:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:46] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:28:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=56.4°, player=(446,733), corner_timer=0.30
[09:28:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.2°, player=(446,733), corner_timer=0.30
[09:28:47] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[09:28:47] [INFO] [ImpactEffects] spawn_blood_effect called at (684.9721, 754.9202), dir=(1, 0), lethal=false
[09:28:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:47] [INFO] [ImpactEffects] Blood effect spawned at (684.9721, 754.9202) (scale=1)
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(683.5175, 756.4807), source=ENEMY (Enemy3), range=1469, listeners=10
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.6673, 744.0518), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:47] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(481.4406, 741.3809), source=NEUTRAL (null), range=900, listeners=10
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (481.4406, 741.3809), intensity=0.02, dist=406
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (481.4406, 741.3809), intensity=0.06, dist=208
[09:28:47] [ENEMY] [Enemy3] Heard CASING_KICK at (481.4406, 741.3809), intensity=0.06, dist=197
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (481.4406, 741.3809), intensity=0.02, dist=323
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(482.7326, 742.251), source=NEUTRAL (null), range=900, listeners=10
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (482.7326, 742.251), intensity=0.01, dist=409
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (482.7326, 742.251), intensity=0.06, dist=209
[09:28:47] [ENEMY] [Enemy3] Heard CASING_KICK at (482.7326, 742.251), intensity=0.07, dist=195
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (482.7326, 742.251), intensity=0.02, dist=318
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.2442, 764.2831), source=ENEMY (Enemy3), range=1469, listeners=10
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(484.5495, 742.777), source=NEUTRAL (null), range=900, listeners=10
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (484.5495, 742.777), intensity=0.01, dist=411
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (484.5495, 742.777), intensity=0.06, dist=211
[09:28:47] [ENEMY] [Enemy3] Heard CASING_KICK at (484.5495, 742.777), intensity=0.07, dist=192
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (484.5495, 742.777), intensity=0.03, dist=312
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(480.0024, 771.3367), source=NEUTRAL (null), range=900, listeners=10
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (480.0024, 771.3367), intensity=0.01, dist=433
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (480.0024, 771.3367), intensity=0.05, dist=235
[09:28:47] [ENEMY] [Enemy3] Heard CASING_KICK at (480.0024, 771.3367), intensity=0.07, dist=195
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (480.0024, 771.3367), intensity=0.03, dist=302
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [LastChance] Threat detected: @Area2D@5724
[09:28:47] [INFO] [LastChance] Not in hard mode - effect disabled
[09:28:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:28:47] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[09:28:47] [INFO] [ImpactEffects] spawn_blood_effect called at (674.7896, 765.8436), dir=(1, 0), lethal=true
[09:28:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:47] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:28:47] [INFO] [ImpactEffects] Blood effect spawned at (674.7896, 765.8436) (scale=1.5)
[09:28:47] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:28:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:28:47] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:28:47] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:28:47] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:28:47] [INFO] [PowerFantasy]   - Duration: 300ms
[09:28:47] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:28:47] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:28:47] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:28:47] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(486.8731, 742.9), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (486.8731, 742.9), intensity=0.01, dist=414
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (486.8731, 742.9), intensity=0.06, dist=212
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (486.8731, 742.9), intensity=0.03, dist=307
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(480.6909, 772.2722), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (480.6909, 772.2722), intensity=0.01, dist=435
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (480.6909, 772.2722), intensity=0.04, dist=236
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (480.6909, 772.2722), intensity=0.03, dist=297
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(489.644, 742.5908), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (489.644, 742.5908), intensity=0.01, dist=416
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (489.644, 742.5908), intensity=0.06, dist=212
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (489.644, 742.5908), intensity=0.03, dist=301
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(481.8486, 773.6486), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (481.8486, 773.6486), intensity=0.01, dist=438
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (481.8486, 773.6486), intensity=0.04, dist=238
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (481.8486, 773.6486), intensity=0.03, dist=291
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(483.4656, 775.4344), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (483.4656, 775.4344), intensity=0.01, dist=440
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (483.4656, 775.4344), intensity=0.04, dist=240
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (483.4656, 775.4344), intensity=0.03, dist=289
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.0777, 762.0231), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(483.7318, 775.7172), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (483.7318, 775.7172), intensity=0.01, dist=441
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (483.7318, 775.7172), intensity=0.04, dist=241
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (483.7318, 775.7172), intensity=0.03, dist=288
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(484.0616, 776.0588), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (484.0616, 776.0588), intensity=0.01, dist=441
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (484.0616, 776.0588), intensity=0.04, dist=241
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (484.0616, 776.0588), intensity=0.03, dist=287
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(484.4546, 776.4582), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (484.4546, 776.4582), intensity=0.01, dist=442
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (484.4546, 776.4582), intensity=0.04, dist=242
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (484.4546, 776.4582), intensity=0.03, dist=286
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(484.9101, 776.9146), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (484.9101, 776.9146), intensity=0.01, dist=443
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (484.9101, 776.9146), intensity=0.04, dist=242
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (484.9101, 776.9146), intensity=0.03, dist=285
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(485.4276, 777.4271), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (485.4276, 777.4271), intensity=0.01, dist=444
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (485.4276, 777.4271), intensity=0.04, dist=243
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (485.4276, 777.4271), intensity=0.03, dist=284
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(478.932, 749.3699), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (478.932, 749.3699), intensity=0.01, dist=417
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (478.932, 749.3699), intensity=0.05, dist=214
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (478.932, 749.3699), intensity=0.03, dist=304
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(486.0065, 777.9948), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (486.0065, 777.9948), intensity=0.01, dist=445
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (486.0065, 777.9948), intensity=0.04, dist=244
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (486.0065, 777.9948), intensity=0.03, dist=282
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(478.9758, 749.4341), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (478.9758, 749.4341), intensity=0.01, dist=417
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (478.9758, 749.4341), intensity=0.05, dist=215
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (478.9758, 749.4341), intensity=0.03, dist=303
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(486.6463, 778.6169), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (486.6463, 778.6169), intensity=0.01, dist=446
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (486.6463, 778.6169), intensity=0.04, dist=244
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (486.6463, 778.6169), intensity=0.03, dist=281
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(479.0618, 749.4235), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (479.0618, 749.4235), intensity=0.01, dist=417
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (479.0618, 749.4235), intensity=0.05, dist=215
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (479.0618, 749.4235), intensity=0.03, dist=303
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(487.3464, 779.2924), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (487.3464, 779.2924), intensity=0.01, dist=447
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (487.3464, 779.2924), intensity=0.04, dist=245
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (487.3464, 779.2924), intensity=0.03, dist=280
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(479.1881, 749.338), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (479.1881, 749.338), intensity=0.01, dist=417
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (479.1881, 749.338), intensity=0.05, dist=214
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (479.1881, 749.338), intensity=0.03, dist=302
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(488.1063, 780.0206), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (488.1063, 780.0206), intensity=0.01, dist=448
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (488.1063, 780.0206), intensity=0.04, dist=246
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (488.1063, 780.0206), intensity=0.03, dist=278
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(479.3529, 749.1779), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (479.3529, 749.1779), intensity=0.01, dist=417
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (479.3529, 749.1779), intensity=0.05, dist=214
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (479.3529, 749.1779), intensity=0.03, dist=302
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(488.9254, 780.8007), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (488.9254, 780.8007), intensity=0.01, dist=449
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (488.9254, 780.8007), intensity=0.04, dist=247
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (488.9254, 780.8007), intensity=0.03, dist=277
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(479.5546, 748.9435), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (479.5546, 748.9435), intensity=0.01, dist=417
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (479.5546, 748.9435), intensity=0.05, dist=214
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (479.5546, 748.9435), intensity=0.03, dist=301
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(489.8031, 781.6317), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (489.8031, 781.6317), intensity=0.01, dist=450
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (489.8031, 781.6317), intensity=0.04, dist=248
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (489.8031, 781.6317), intensity=0.03, dist=275
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(479.7915, 748.635), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (479.7915, 748.635), intensity=0.01, dist=417
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (479.7915, 748.635), intensity=0.05, dist=214
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (479.7915, 748.635), intensity=0.03, dist=301
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:28:47] [INFO] [Player] Spawning blood effect at (471.77225, 765.9265), dir=(1, 0), lethal=False (C#)
[09:28:47] [INFO] [ImpactEffects] spawn_blood_effect called at (471.7722, 765.9265), dir=(1, 0), lethal=false
[09:28:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:47] [INFO] [ImpactEffects] Blood effect spawned at (471.7722, 765.9265) (scale=1)
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(490.7388, 782.5129), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (490.7388, 782.5129), intensity=0.01, dist=452
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (490.7388, 782.5129), intensity=0.04, dist=250
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (490.7388, 782.5129), intensity=0.03, dist=273
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(480.062, 748.2529), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (480.062, 748.2529), intensity=0.01, dist=417
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (480.062, 748.2529), intensity=0.05, dist=214
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (480.062, 748.2529), intensity=0.03, dist=300
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(491.732, 783.4435), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (491.732, 783.4435), intensity=0.01, dist=453
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (491.732, 783.4435), intensity=0.04, dist=251
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (491.732, 783.4435), intensity=0.03, dist=272
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(480.3649, 747.7974), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (480.3649, 747.7974), intensity=0.01, dist=417
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (480.3649, 747.7974), intensity=0.05, dist=214
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (480.3649, 747.7974), intensity=0.03, dist=300
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(492.782, 784.4229), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (492.782, 784.4229), intensity=0.01, dist=455
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (492.782, 784.4229), intensity=0.04, dist=252
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (492.782, 784.4229), intensity=0.03, dist=270
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(480.6986, 747.2692), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (480.6986, 747.2692), intensity=0.01, dist=417
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (480.6986, 747.2692), intensity=0.06, dist=213
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (480.6986, 747.2692), intensity=0.03, dist=299
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(481.0621, 746.6688), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (481.0621, 746.6688), intensity=0.01, dist=417
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (481.0621, 746.6688), intensity=0.06, dist=213
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (481.0621, 746.6688), intensity=0.03, dist=299
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(481.4542, 745.9966), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (481.4542, 745.9966), intensity=0.01, dist=416
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (481.4542, 745.9966), intensity=0.06, dist=212
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (481.4542, 745.9966), intensity=0.03, dist=299
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(481.8737, 745.2534), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (481.8737, 745.2534), intensity=0.01, dist=416
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (481.8737, 745.2534), intensity=0.06, dist=212
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (481.8737, 745.2534), intensity=0.03, dist=298
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [PowerFantasy] Effect duration expired after 306.00 ms
[09:28:47] [INFO] [PowerFantasy] Ending power fantasy effect
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(482.3198, 744.4396), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (482.3198, 744.4396), intensity=0.01, dist=417
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (482.3198, 744.4396), intensity=0.06, dist=211
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (482.3198, 744.4396), intensity=0.03, dist=294
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (764.9521, 743.501) (added to group)
[09:28:47] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-149.9°, current=-149.9°, player=(476,774), corner_timer=0.00
[09:28:47] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[09:28:47] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (776.1826, 810.5938) (added to group)
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(497.8741, 770.2489), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (497.8741, 770.2489), intensity=0.01, dist=450
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (497.8741, 770.2489), intensity=0.04, dist=241
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (497.8741, 770.2489), intensity=0.04, dist=245
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (737.454, 768.1131) (added to group)
[09:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(615.56305, 760.05743), shooter_id=1578316598591, bullet_pos=(64.44789, 849.54535)
[09:28:47] [INFO] [Bullet] Using shooter_position, distance=558,33325
[09:28:47] [INFO] [Bullet] Distance to wall: 558,33325 (38,017937% of viewport)
[09:28:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:47] [INFO] [Bullet] Starting wall penetration at (64.44789, 849.54535)
[09:28:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(479,785), corner_timer=-0.00
[09:28:47] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(498.7367, 771.8611), source=NEUTRAL (null), range=900, listeners=9
[09:28:47] [ENEMY] [Enemy1] Heard CASING_KICK at (498.7367, 771.8611), intensity=0.01, dist=452
[09:28:47] [ENEMY] [Enemy2] Heard CASING_KICK at (498.7367, 771.8611), intensity=0.04, dist=243
[09:28:47] [ENEMY] [Enemy4] Heard CASING_KICK at (498.7367, 771.8611), intensity=0.04, dist=239
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(479.3675, 787.9755), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:28:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,793801
[09:28:47] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:47] [INFO] [Bullet] Exiting penetration at (18.384521, 857.0249) after traveling 41,66667 pixels through wall
[09:28:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:47] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-149.1°, current=-149.1°, player=(479,787), corner_timer=0.00
[09:28:47] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:28:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.6°, player=(479,787), corner_timer=0.30
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (772.8726, 806.4639) (added to group)
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (799.4019, 750.2657) (added to group)
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (760.3201, 781.3718) (added to group)
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (722.7117, 771.4102) (added to group)
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (812.9937, 742.3192) (added to group)
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (807.4442, 771.7806) (added to group)
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (767.597, 771.0314) (added to group)
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (775.1236, 786.6773) (added to group)
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (515.2538, 762.848) (added to group)
[09:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(479.3675, 787.97546), shooter_id=1581672039884, bullet_pos=(920.2719, 629.09314)
[09:28:47] [INFO] [Bullet] Using shooter_position, distance=468,658
[09:28:47] [INFO] [Bullet] Distance to wall: 468,658 (31,911785% of viewport)
[09:28:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (824.7135, 787.1438) (added to group)
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (774.0679, 773.4827) (added to group)
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (579.5941, 786.2242) (added to group)
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (537.6299, 781.3965) (added to group)
[09:28:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:47] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:47] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:47] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:47] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:47] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:47] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:47] [ENEMY] [Enemy1] Death animation component initialized
[09:28:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:47] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:47] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:47] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:47] [ENEMY] [Enemy2] Death animation component initialized
[09:28:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:47] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:47] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:47] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:47] [ENEMY] [Enemy3] Death animation component initialized
[09:28:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:47] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:47] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:47] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:47] [ENEMY] [Enemy4] Death animation component initialized
[09:28:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:47] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:47] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:47] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:47] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:47] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:47] [ENEMY] [Grenadier] Death animation component initialized
[09:28:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:47] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:47] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:47] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:47] [ENEMY] [Enemy6] Death animation component initialized
[09:28:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:47] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:47] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:47] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:47] [ENEMY] [Enemy7] Death animation component initialized
[09:28:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:47] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:47] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:47] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:47] [ENEMY] [Enemy8] Death animation component initialized
[09:28:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:47] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:47] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:47] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:47] [ENEMY] [Enemy9] Death animation component initialized
[09:28:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:47] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:47] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:47] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:47] [ENEMY] [Enemy10] Death animation component initialized
[09:28:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:47] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:47] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:47] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:47] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:47] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:47] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:47] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:47] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:47] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:47] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:47] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:47] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:47] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:47] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:47] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:47] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:47] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:47] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:47] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:47] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:47] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:47] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:47] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:47] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:47] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:47] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:47] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:47] [INFO] [ReplayManager] Replay data cleared
[09:28:47] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:47] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:47] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:47] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:47] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:47] [INFO] [ReplayManager] Enemies count: 10
[09:28:47] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:47] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:47] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:47] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:47] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:47] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:47] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:47] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:47] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:47] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:47] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:47] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:47] [INFO] [BloodDecal] Blood puddle created at (582.781, 745.5272) (added to group)
[09:28:47] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:47] [INFO] [CinemaEffects] Found player node: Player
[09:28:47] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:28:47] [ENEMY] [Enemy1] Registered as sound listener
[09:28:47] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:28:47] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:28:47] [ENEMY] [Enemy2] Registered as sound listener
[09:28:47] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:28:47] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:28:47] [ENEMY] [Enemy3] Registered as sound listener
[09:28:47] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:28:47] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:28:47] [ENEMY] [Enemy4] Registered as sound listener
[09:28:47] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:28:47] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:47] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:28:47] [ENEMY] [Grenadier] Registered as sound listener
[09:28:47] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:47] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:28:47] [ENEMY] [Enemy6] Registered as sound listener
[09:28:47] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:28:47] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:28:47] [ENEMY] [Enemy7] Registered as sound listener
[09:28:47] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:28:47] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:28:47] [ENEMY] [Enemy8] Registered as sound listener
[09:28:47] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:28:47] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:28:47] [ENEMY] [Enemy9] Registered as sound listener
[09:28:47] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:28:47] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:28:47] [ENEMY] [Enemy10] Registered as sound listener
[09:28:47] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:28:47] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:48] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:48] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:48] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:48] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:48] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:48] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:48] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:48] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:48] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:28:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:48] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:48] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:48] [INFO] [LastChance] Found player: Player
[09:28:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:48] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:48] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:48] [INFO] [BloodDecal] Blood puddle created at (870.8961, 901.9082) (added to group)
[09:28:48] [INFO] [BloodDecal] Blood puddle created at (777.8865, 813.6818) (added to group)
[09:28:48] [INFO] [BloodDecal] Blood puddle created at (750.4644, 801.8367) (added to group)
[09:28:48] [INFO] [BloodDecal] Blood puddle created at (809.8899, 787.1696) (added to group)
[09:28:48] [INFO] [BloodDecal] Blood puddle created at (562.3995, 761.9809) (added to group)
[09:28:48] [INFO] [BloodDecal] Blood puddle created at (864.8157, 854.479) (added to group)
[09:28:48] [INFO] [BloodDecal] Blood puddle created at (859.6166, 854.0988) (added to group)
[09:28:48] [INFO] [BloodDecal] Blood puddle created at (630.8868, 772.982) (added to group)
[09:28:48] [INFO] [BloodDecal] Blood puddle created at (633.0923, 817.9265) (added to group)
[09:28:48] [INFO] [BloodDecal] Blood puddle created at (813.0855, 815.564) (added to group)
[09:28:48] [INFO] [BloodDecal] Blood puddle created at (908.6691, 858.165) (added to group)
[09:28:48] [INFO] [BloodDecal] Blood puddle created at (660.9958, 837.621) (added to group)
[09:28:48] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:49] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415.8165, 811.8262), source=PLAYER (AssaultRifle), range=1469, listeners=19
[09:28:49] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:28:49] [ENEMY] [Enemy1] Heard gunshot at (415.8165, 811.8262), source_type=0, intensity=0.01, distance=476
[09:28:49] [ENEMY] [Enemy2] Heard gunshot at (415.8165, 811.8262), source_type=0, intensity=0.04, distance=262
[09:28:49] [ENEMY] [Enemy3] Heard gunshot at (415.8165, 811.8262), source_type=0, intensity=0.03, distance=291
[09:28:49] [ENEMY] [Enemy4] Heard gunshot at (415.8165, 811.8262), source_type=0, intensity=0.02, distance=394
[09:28:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:49] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.9°, current=33.8°, player=(415,811), corner_timer=0.00
[09:28:49] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=86.5°, current=-101.3°, player=(415,811), corner_timer=0.00
[09:28:49] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=167.7°, current=-33.8°, player=(415,811), corner_timer=0.00
[09:28:49] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-167.1°, current=168.8°, player=(415,811), corner_timer=0.00
[09:28:49] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=168.8°, current=131.1°, player=(414,806), corner_timer=0.00
[09:28:49] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:49] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:49] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(413,796), corner_timer=0.30
[09:28:49] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(413,796), corner_timer=0.30
[09:28:49] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[09:28:49] [INFO] [ImpactEffects] spawn_blood_effect called at (673.7595, 754.6949), dir=(1, 0), lethal=false
[09:28:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:49] [INFO] [ImpactEffects] Blood effect spawned at (673.7595, 754.6949) (scale=1)
[09:28:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(413.4716, 776.7204), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:49] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[09:28:49] [INFO] [ImpactEffects] spawn_blood_effect called at (655.7143, 756.4596), dir=(1, 0), lethal=false
[09:28:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:49] [INFO] [ImpactEffects] Blood effect spawned at (655.7143, 756.4596) (scale=1)
[09:28:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(423.9487, 747.7612), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:28:49] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:28:49] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[09:28:49] [INFO] [ImpactEffects] spawn_blood_effect called at (651.7422, 761.4778), dir=(1, 0), lethal=true
[09:28:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:49] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:28:49] [INFO] [ImpactEffects] Blood effect spawned at (651.7422, 761.4778) (scale=1.5)
[09:28:49] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:28:49] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:28:49] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:28:49] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:28:49] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:28:49] [INFO] [PowerFantasy]   - Duration: 300ms
[09:28:49] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:28:49] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:28:49] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:28:49] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:28:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(440.1493, 733.7906), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:28:50] [INFO] [ReplayManager] Recording frame 120 (1,8s): player_valid=True, enemies=10
[09:28:50] [INFO] [PowerFantasy] Effect duration expired after 318.00 ms
[09:28:50] [INFO] [PowerFantasy] Ending power fantasy effect
[09:28:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.9°, player=(448,730), corner_timer=-0.01
[09:28:50] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.6°, player=(448,730), corner_timer=-0.01
[09:28:50] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (740.8257, 789.9749) (added to group)
[09:28:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.0°, player=(452,729), corner_timer=0.30
[09:28:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=53.9°, player=(452,729), corner_timer=0.30
[09:28:50] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(460.6967, 751.7704), source=NEUTRAL (null), range=900, listeners=9
[09:28:50] [ENEMY] [Enemy1] Heard CASING_KICK at (460.6967, 751.7704), intensity=0.01, dist=414
[09:28:50] [ENEMY] [Enemy2] Heard CASING_KICK at (460.6967, 751.7704), intensity=0.07, dist=195
[09:28:50] [ENEMY] [Enemy4] Heard CASING_KICK at (460.6967, 751.7704), intensity=0.02, dist=351
[09:28:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:50] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(459.8326, 754.2946), source=NEUTRAL (null), range=900, listeners=9
[09:28:50] [ENEMY] [Enemy1] Heard CASING_KICK at (459.8326, 754.2946), intensity=0.01, dist=416
[09:28:50] [ENEMY] [Enemy2] Heard CASING_KICK at (459.8326, 754.2946), intensity=0.06, dist=197
[09:28:50] [ENEMY] [Enemy4] Heard CASING_KICK at (459.8326, 754.2946), intensity=0.02, dist=350
[09:28:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.0216, 729.2053), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:28:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(440.14926, 733.7906), shooter_id=1672587774572, bullet_pos=(912.93915, 796.96686)
[09:28:50] [INFO] [Bullet] Using shooter_position, distance=476,99216
[09:28:50] [INFO] [Bullet] Distance to wall: 476,99216 (32,479275% of viewport)
[09:28:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:50] [INFO] [Bullet] Starting wall penetration at (912.93915, 796.96686)
[09:28:50] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[09:28:50] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:50] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:28:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,408503
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (762.9656, 792.3251) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (736.8982, 778.2173) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (757.1552, 802.1557) (added to group)
[09:28:50] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:50] [INFO] [Bullet] Exiting penetration at (959.2099, 803.03284) after traveling 41,666668 pixels through wall
[09:28:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (812.9283, 791.5671) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (772.4181, 793.5786) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (751.0811, 798.1672) (added to group)
[09:28:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(471.0216, 729.20526), shooter_id=1672587774572, bullet_pos=(704.186, 828.3144)
[09:28:50] [INFO] [Bullet] Using shooter_position, distance=253,35399
[09:28:50] [INFO] [Bullet] Distance to wall: 253,35399 (17,251339% of viewport)
[09:28:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:50] [INFO] [Bullet] Starting wall penetration at (704.186, 828.3144)
[09:28:50] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:28:50] [INFO] [Bullet] Exiting penetration at (734.33496, 863.8829) after traveling 41,666668 pixels through wall
[09:28:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (718.9529, 809.1774) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (741.434, 765.2666) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (721.01, 775.4877) (added to group)
[09:28:50] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(496.407, 749.7225), source=NEUTRAL (null), range=900, listeners=9
[09:28:50] [ENEMY] [Enemy1] Heard CASING_KICK at (496.407, 749.7225), intensity=0.01, dist=436
[09:28:50] [ENEMY] [Enemy2] Heard CASING_KICK at (496.407, 749.7225), intensity=0.06, dist=207
[09:28:50] [ENEMY] [Enemy4] Heard CASING_KICK at (496.407, 749.7225), intensity=0.02, dist=319
[09:28:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:50] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(495.5278, 752.022), source=NEUTRAL (null), range=900, listeners=9
[09:28:50] [ENEMY] [Enemy1] Heard CASING_KICK at (495.5278, 752.022), intensity=0.01, dist=437
[09:28:50] [ENEMY] [Enemy2] Heard CASING_KICK at (495.5278, 752.022), intensity=0.06, dist=209
[09:28:50] [ENEMY] [Enemy4] Heard CASING_KICK at (495.5278, 752.022), intensity=0.02, dist=318
[09:28:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (717.9367, 790.1457) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (703.9973, 763.346) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (730.3385, 800.7292) (added to group)
[09:28:50] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(493.6999, 754.3897), source=NEUTRAL (null), range=900, listeners=9
[09:28:50] [ENEMY] [Enemy1] Heard CASING_KICK at (493.6999, 754.3897), intensity=0.01, dist=438
[09:28:50] [ENEMY] [Enemy2] Heard CASING_KICK at (493.6999, 754.3897), intensity=0.06, dist=210
[09:28:50] [ENEMY] [Enemy4] Heard CASING_KICK at (493.6999, 754.3897), intensity=0.02, dist=319
[09:28:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:50] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(490.9236, 756.6606), source=NEUTRAL (null), range=900, listeners=9
[09:28:50] [ENEMY] [Enemy1] Heard CASING_KICK at (490.9236, 756.6606), intensity=0.01, dist=438
[09:28:50] [ENEMY] [Enemy2] Heard CASING_KICK at (490.9236, 756.6606), intensity=0.06, dist=211
[09:28:50] [ENEMY] [Enemy4] Heard CASING_KICK at (490.9236, 756.6606), intensity=0.02, dist=320
[09:28:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (809.1909, 826.761) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (831.6268, 819.4193) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (781.7018, 772.4894) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (732.4952, 776.2509) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (718.8384, 775.0431) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (734.2764, 761.3325) (added to group)
[09:28:50] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(487.2491, 758.7572), source=NEUTRAL (null), range=900, listeners=9
[09:28:50] [ENEMY] [Enemy1] Heard CASING_KICK at (487.2491, 758.7572), intensity=0.01, dist=438
[09:28:50] [ENEMY] [Enemy2] Heard CASING_KICK at (487.2491, 758.7572), intensity=0.06, dist=211
[09:28:50] [ENEMY] [Enemy4] Heard CASING_KICK at (487.2491, 758.7572), intensity=0.02, dist=322
[09:28:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (848.8809, 858.5842) (added to group)
[09:28:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.4°, player=(525,769), corner_timer=-0.02
[09:28:50] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (875.3994, 857.7312) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (807.0778, 776.5226) (added to group)
[09:28:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=17.0°, player=(529,773), corner_timer=0.30
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (742.1968, 791.3741) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (835.0945, 845.3978) (added to group)
[09:28:50] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[09:28:50] [ENEMY] [Enemy3] Ragdoll activated
[09:28:50] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (810.1889, 785.6027) (added to group)
[09:28:50] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (835.0103, 751.9479) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (839.7155, 827.8043) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (859.244, 846.5364) (added to group)
[09:28:50] [INFO] [BloodDecal] Blood puddle created at (839.1713, 799.8099) (added to group)
[09:28:50] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-163.6°, current=-151.1°, player=(582,855), corner_timer=0.00
[09:28:50] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[09:28:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(582,855), corner_timer=-0.02
[09:28:50] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[09:28:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.7°, player=(582,861), corner_timer=0.30
[09:28:50] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 4/6
[09:28:50] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.7656, 960.1798), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[09:28:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(582,965), corner_timer=-0.02
[09:28:51] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:28:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(582,971), corner_timer=0.30
[09:28:51] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[09:28:51] [INFO] [ImpactEffects] spawn_blood_effect called at (771.2729, 911.314), dir=(1, 0), lethal=false
[09:28:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:51] [INFO] [ImpactEffects] Blood effect spawned at (771.2729, 911.314) (scale=1)
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.5201, 983.9338), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[09:28:51] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[09:28:51] [INFO] [ImpactEffects] spawn_blood_effect called at (771.2729, 911.314), dir=(1, 0), lethal=true
[09:28:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:51] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:28:51] [INFO] [ImpactEffects] Blood effect spawned at (771.2729, 911.314) (scale=1.5)
[09:28:51] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[09:28:51] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[09:28:51] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:28:51] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:28:51] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:28:51] [INFO] [PowerFantasy]   - Duration: 300ms
[09:28:51] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[09:28:51] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:28:51] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(610.479, 971.8192), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (610.479, 971.8192), intensity=0.01, dist=457
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(610.5317, 971.9111), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (610.5317, 971.9111), intensity=0.01, dist=457
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.7021, 983.9337), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(610.6203, 971.9782), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (610.6203, 971.9782), intensity=0.01, dist=457
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(610.7451, 972.0202), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (610.7451, 972.0202), intensity=0.01, dist=457
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(610.9063, 972.0369), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (610.9063, 972.0369), intensity=0.01, dist=457
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(611.1044, 972.0278), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (611.1044, 972.0278), intensity=0.01, dist=457
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(611.3396, 971.9929), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (611.3396, 971.9929), intensity=0.01, dist=457
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(611.6123, 971.9316), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (611.6123, 971.9316), intensity=0.01, dist=457
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(611.9229, 971.8439), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (611.9229, 971.8439), intensity=0.01, dist=457
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(612.2715, 971.7294), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (612.2715, 971.7294), intensity=0.01, dist=457
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(612.6585, 971.5876), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (612.6585, 971.5876), intensity=0.01, dist=458
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(612.1976, 989.4388), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (612.1976, 989.4388), intensity=0.01, dist=473
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(613.0843, 971.4185), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (613.0843, 971.4185), intensity=0.01, dist=458
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(612.2732, 989.5907), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (612.2732, 989.5907), intensity=0.01, dist=473
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(613.5491, 971.2216), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (613.5491, 971.2216), intensity=0.01, dist=458
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(612.396, 989.7574), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (612.396, 989.7574), intensity=0.01, dist=474
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(612.5663, 989.9398), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (612.5663, 989.9398), intensity=0.01, dist=474
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(612.7842, 990.1383), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (612.7842, 990.1383), intensity=0.01, dist=474
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(613.05, 990.3538), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (613.05, 990.3538), intensity=0.01, dist=474
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(613.3639, 990.5869), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (613.3639, 990.5869), intensity=0.01, dist=475
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [PowerFantasy] Effect duration expired after 305.00 ms
[09:28:51] [INFO] [PowerFantasy] Ending power fantasy effect
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(613.7259, 990.8383), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (613.7259, 990.8383), intensity=0.01, dist=475
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(617.6752, 993.4711), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (617.6752, 993.4711), intensity=0.01, dist=479
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(620.7255, 968.0186), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (620.7255, 968.0186), intensity=0.01, dist=458
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(621.0145, 992.8118), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (621.0145, 992.8118), intensity=0.01, dist=480
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(624.7786, 992.8558), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (624.7786, 992.8558), intensity=0.01, dist=482
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(628.9955, 993.3012), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (628.9955, 993.3012), intensity=0.01, dist=484
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(633.4106, 993.9064), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (633.4106, 993.9064), intensity=0.01, dist=487
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(623.6389, 981.2089), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (623.6389, 981.2089), intensity=0.01, dist=471
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(592.7021, 983.9337), shooter_id=1672587774572, bullet_pos=(910.7999, 806.32825)
[09:28:51] [INFO] [Bullet] Using shooter_position, distance=364,3212
[09:28:51] [INFO] [Bullet] Distance to wall: 364,3212 (24,8073% of viewport)
[09:28:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(638.3201, 994.9988), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (638.3201, 994.9988), intensity=0.01, dist=490
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(625.2858, 981.7352), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (625.2858, 981.7352), intensity=0.01, dist=472
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(624.5367, 983.9337), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(643.3655, 996.2779), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (643.3655, 996.2779), intensity=0.01, dist=494
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(627.1547, 981.3326), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (627.1547, 981.3326), intensity=0.01, dist=473
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [BloodDecal] Blood puddle created at (865.4742, 956.0291) (added to group)
[09:28:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(629,983), corner_timer=-0.01
[09:28:51] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(648.4038, 997.6821), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (648.4038, 997.6821), intensity=0.01, dist=498
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(628.1909, 980.2512), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (628.1909, 980.2512), intensity=0.01, dist=473
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.6°, player=(635,983), corner_timer=0.30
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(653.8988, 999.7713), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(628.2447, 978.7507), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (628.2447, 978.7507), intensity=0.01, dist=471
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(658.9971, 1001.04), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(627.3305, 976.9322), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (627.3305, 976.9322), intensity=0.01, dist=469
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(663.2329, 1001.218), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(625.4844, 974.8479), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (625.4844, 974.8479), intensity=0.01, dist=466
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [ENEMY] [Enemy3] Death animation completed
[09:28:51] [INFO] [BloodDecal] Blood puddle created at (841.7415, 911.7582) (added to group)
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(667.5688, 1001.369), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(670.5425, 1001.016), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[09:28:51] [INFO] [BloodDecal] Blood puddle created at (894.1572, 964.6939) (added to group)
[09:28:51] [INFO] [BloodDecal] Blood puddle created at (845.869, 965.5078) (added to group)
[09:28:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.5367, 983.9337), shooter_id=1672587774572, bullet_pos=(918.7616, 806.6708)
[09:28:51] [INFO] [Bullet] Using shooter_position, distance=343,49738
[09:28:51] [INFO] [Bullet] Distance to wall: 343,49738 (23,38937% of viewport)
[09:28:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:51] [INFO] [Bullet] Starting wall penetration at (918.7616, 806.6708)
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(673.4363, 1001.212), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(653.8355, 978.7616), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (653.8355, 978.7616), intensity=0.01, dist=484
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,699085
[09:28:51] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:51] [INFO] [Bullet] Exiting penetration at (959.0499, 783.1203) after traveling 41,66667 pixels through wall
[09:28:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(675.2735, 1001.245), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(653.6429, 979.3763), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (653.6429, 979.3763), intensity=0.01, dist=485
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [BloodDecal] Blood puddle created at (862.1625, 987.4205) (added to group)
[09:28:51] [INFO] [BloodDecal] Blood puddle created at (833.9589, 923.1259) (added to group)
[09:28:51] [INFO] [BloodDecal] Blood puddle created at (845.2747, 960.1262) (added to group)
[09:28:51] [INFO] [BloodDecal] Blood puddle created at (866.1931, 970.9822) (added to group)
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(676.6896, 1001.199), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(652.4426, 979.7303), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [ENEMY] [Enemy2] Heard CASING_KICK at (652.4426, 979.7303), intensity=0.01, dist=484
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(676.6907, 998.7731), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[09:28:51] [INFO] [BloodDecal] Blood puddle created at (837.3517, 969.5715) (added to group)
[09:28:51] [INFO] [BloodDecal] Blood puddle created at (846.9916, 911.6354) (added to group)
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(676.2537, 999.4281), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[09:28:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(676.2537, 998.51), source=NEUTRAL (null), range=900, listeners=8
[09:28:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[09:28:51] [INFO] [BloodDecal] Blood puddle created at (882.7391, 967.4695) (added to group)
[09:28:52] [INFO] [ReplayManager] Recording frame 240 (3,4s): player_valid=True, enemies=10
[09:28:52] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(675.4161, 999.0461), source=NEUTRAL (null), range=900, listeners=8
[09:28:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[09:28:52] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=52.3°, current=52.8°, player=(722,982), corner_timer=0.00
[09:28:52] [ENEMY] [Enemy4] Ragdoll activated
[09:28:52] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:28:52] [INFO] [BloodDecal] Blood puddle created at (865.1785, 962.1005) (added to group)
[09:28:52] [INFO] [BloodDecal] Blood puddle created at (880.1407, 970.2615) (added to group)
[09:28:52] [ENEMY] [Enemy1] PURSUING corner check: angle -135.2°
[09:28:52] [ENEMY] [Enemy2] PURSUING corner check: angle 177.6°
[09:28:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:52] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=49.9°, current=72.5°, player=(741,975), corner_timer=0.30
[09:28:52] [INFO] [BloodDecal] Blood puddle created at (901.8675, 981.2999) (added to group)
[09:28:52] [INFO] [Player.Homing] Homing effect expired, charges remaining: 4/6
[09:28:52] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[09:28:52] [INFO] [BloodDecal] Blood puddle created at (898.17, 963.1313) (added to group)
[09:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-130.2°, player=(786,936), corner_timer=-0.02
[09:28:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[09:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-133.0°, player=(790,932), corner_timer=0.30
[09:28:52] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[09:28:52] [ENEMY] [Enemy1] PURSUING corner check: angle -87.2°
[09:28:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:52] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 3/6
[09:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=172.4°, player=(864,858), corner_timer=-0.02
[09:28:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[09:28:52] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=24.1°, current=24.7°, player=(867,854), corner_timer=0.08
[09:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(867,854), corner_timer=0.30
[09:28:52] [ENEMY] [Enemy1] PURSUING corner check: angle 121.9°
[09:28:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:52] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[09:28:52] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=18.1°, current=-73.0°, player=(895,810), corner_timer=0.08
[09:28:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9318, 799.4047), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=8
[09:28:53] [INFO] [ReplayManager] Recording frame 300 (4,4s): player_valid=True, enemies=10
[09:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.3°, current=120.7°, player=(895,772), corner_timer=-0.02
[09:28:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9318, 768.6825), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[09:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(895,768), corner_timer=0.30
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(876.5125, 778.6331), source=NEUTRAL (null), range=900, listeners=8
[09:28:53] [ENEMY] [Enemy2] Heard CASING_KICK at (876.5125, 778.6331), intensity=0.01, dist=441
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=3
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(876.4892, 777.8203), source=NEUTRAL (null), range=900, listeners=8
[09:28:53] [ENEMY] [Enemy2] Heard CASING_KICK at (876.4892, 777.8203), intensity=0.01, dist=436
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=3
[09:28:53] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[09:28:53] [INFO] [ImpactEffects] spawn_blood_effect called at (467.4105, 641.6068), dir=(1, 0), lethal=false
[09:28:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:53] [INFO] [ImpactEffects] Blood effect spawned at (467.4105, 641.6068) (scale=1)
[09:28:53] [ENEMY] [Enemy4] Death animation completed
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9318, 753.1824), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[09:28:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(877.2463, 744.9755), source=NEUTRAL (null), range=900, listeners=8
[09:28:53] [ENEMY] [Enemy2] Heard CASING_KICK at (877.2463, 744.9755), intensity=0.02, dist=398
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(877.639, 743.2179), source=NEUTRAL (null), range=900, listeners=8
[09:28:53] [ENEMY] [Enemy2] Heard CASING_KICK at (877.639, 743.2179), intensity=0.02, dist=393
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:53] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[09:28:53] [INFO] [ImpactEffects] spawn_blood_effect called at (499.1176, 637.2871), dir=(1, 0), lethal=false
[09:28:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:53] [INFO] [ImpactEffects] Blood effect spawned at (499.1176, 637.2871) (scale=1)
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(877.821, 741.489), source=NEUTRAL (null), range=900, listeners=8
[09:28:53] [ENEMY] [Enemy2] Heard CASING_KICK at (877.821, 741.489), intensity=0.02, dist=388
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(877.8558, 739.7968), source=NEUTRAL (null), range=900, listeners=8
[09:28:53] [ENEMY] [Enemy2] Heard CASING_KICK at (877.8558, 739.7968), intensity=0.02, dist=383
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[09:28:53] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9318, 747.6825), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[09:28:53] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/4->1/4
[09:28:53] [INFO] [ImpactEffects] spawn_blood_effect called at (525.2201, 638.2877), dir=(1, 0), lethal=false
[09:28:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:53] [INFO] [ImpactEffects] Blood effect spawned at (525.2201, 638.2877) (scale=1)
[09:28:53] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=177.6°, current=180.0°, player=(895,747), corner_timer=0.08
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (518.1876, 658.6219) (added to group)
[09:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(895,747), corner_timer=-0.02
[09:28:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9318, 747.6825), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[09:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(895,747), corner_timer=0.30
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (554.5884, 624.0446) (added to group)
[09:28:53] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/4->0/4
[09:28:53] [INFO] [ImpactEffects] spawn_blood_effect called at (504.8757, 637.2133), dir=(1, 0), lethal=true
[09:28:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:53] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:28:53] [INFO] [ImpactEffects] Blood effect spawned at (504.8757, 637.2133) (scale=1.5)
[09:28:53] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[09:28:53] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[09:28:53] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:28:53] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:28:53] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:28:53] [INFO] [PowerFantasy]   - Duration: 300ms
[09:28:53] [ENEMY] [Enemy1] [AllyDeath] Witnessed at (504.8757, 637.2133), entering SEARCHING
[09:28:53] [ENEMY] [Enemy1] SEARCHING started: center=(504.8757, 637.2133), radius=100, waypoints=5
[09:28:53] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[09:28:53] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[09:28:53] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:28:53] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (562.0779, 667.4889) (added to group)
[09:28:53] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[09:28:53] [INFO] [PowerFantasy] Ending power fantasy effect
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (569.9552, 699.6326) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (568.2485, 703.0567) (added to group)
[09:28:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(892.465, 747.6825), source=PLAYER (AssaultRifle), range=1469, listeners=7
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=7
[09:28:53] [INFO] [Player.Homing] Homing effect expired, charges remaining: 3/6
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (578.9877, 676.0697) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (591.444, 658.3417) (added to group)
[09:28:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9318, 747.6825), shooter_id=1672587774572, bullet_pos=(505.19165, 519.81976)
[09:28:53] [INFO] [Bullet] Using shooter_position, distance=452,32657
[09:28:53] [INFO] [Bullet] Distance to wall: 452,32657 (30,79975% of viewport)
[09:28:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (546.6501, 664.999) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (554.6421, 692.4727) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (558.1339, 638.1597) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (567.2004, 678.4114) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (637.3523, 690.0353) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (604.8273, 711.9434) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (609.7662, 701.1337) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (544.1059, 644.1355) (added to group)
[09:28:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(892.46497, 747.6825), shooter_id=1672587774572, bullet_pos=(517.7452, 545.4967)
[09:28:53] [INFO] [Bullet] Using shooter_position, distance=425,78635
[09:28:53] [INFO] [Bullet] Distance to wall: 425,78635 (28,992575% of viewport)
[09:28:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:53] [INFO] [Bullet] Starting wall penetration at (517.7452, 545.4967)
[09:28:53] [ENEMY] [Enemy1] SEARCHING corner check: angle 173.4°
[09:28:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,615553
[09:28:53] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:53] [INFO] [Bullet] Exiting penetration at (474.04337, 529.174) after traveling 41,66667 pixels through wall
[09:28:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:53] [ENEMY] [Enemy1] Hit: dmg=1, hp=4/4->3/4
[09:28:53] [INFO] [ImpactEffects] spawn_blood_effect called at (464.607, 525.7468), dir=(1, 0), lethal=false
[09:28:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:28:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:28:53] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 525.7468) (dist=35 px)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (499, 525.7468) (added to group)
[09:28:53] [INFO] [ImpactEffects] Blood effect spawned at (464.607, 525.7468) (scale=1)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (553.0502, 757.8671) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (655.0942, 703.7117) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (601.5079, 679.3917) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (578.5464, 674.2209) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (579.3709, 650.254) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (576.092, 628.6663) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (589.774, 699.5917) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (599.7416, 647.7057) (added to group)
[09:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.6°, player=(882,747), corner_timer=-0.01
[09:28:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(868.6428, 770.822), source=NEUTRAL (null), range=900, listeners=7
[09:28:53] [ENEMY] [Enemy1] Heard CASING_KICK at (868.6428, 770.822), intensity=0.01, dist=466
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[09:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.4°, player=(880,747), corner_timer=0.30
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(868.4264, 771.0566), source=NEUTRAL (null), range=900, listeners=7
[09:28:53] [ENEMY] [Enemy1] Heard CASING_KICK at (868.4264, 771.0566), intensity=0.01, dist=463
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (582.0831, 663.7976) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (623.9068, 698.7867) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (584.0988, 635.0881) (added to group)
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(868.0627, 771.6375), source=NEUTRAL (null), range=900, listeners=7
[09:28:53] [ENEMY] [Enemy1] Heard CASING_KICK at (868.0627, 771.6375), intensity=0.01, dist=460
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[09:28:53] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(867.5687, 772.6185), source=NEUTRAL (null), range=900, listeners=7
[09:28:53] [ENEMY] [Enemy1] Heard CASING_KICK at (867.5687, 772.6185), intensity=0.01, dist=457
[09:28:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (607.6348, 687.1339) (added to group)
[09:28:53] [INFO] [BloodDecal] Blood puddle created at (595.7737, 705.4247) (added to group)
[09:28:54] [INFO] [ReplayManager] Recording frame 360 (5,1s): player_valid=True, enemies=10
[09:28:54] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(866.9777, 774.0526), source=NEUTRAL (null), range=900, listeners=7
[09:28:54] [ENEMY] [Enemy1] Heard CASING_KICK at (866.9777, 774.0526), intensity=0.01, dist=454
[09:28:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (652.7748, 749.7643) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (619.3423, 657.8266) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (562.1171, 657.562) (added to group)
[09:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9318, 747.6825), shooter_id=1672587774572, bullet_pos=(977.94763, 198.409)
[09:28:54] [INFO] [Bullet] Using shooter_position, distance=555,3629
[09:28:54] [INFO] [Bullet] Distance to wall: 555,3629 (37,815685% of viewport)
[09:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:54] [INFO] [Bullet] Starting wall penetration at (977.94763, 198.409)
[09:28:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:28:54] [INFO] [Bullet] Exiting penetration at (1011.37134, 175.68535) after traveling 35,41667 pixels through wall
[09:28:54] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (598.1126, 731.0643) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (628.462, 748.8217) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (681.0393, 669.2964) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (614.8392, 640.9285) (added to group)
[09:28:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (714.1201, 672.6493) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (612.9788, 726.1713) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (697.8589, 668.4631) (added to group)
[09:28:54] [ENEMY] [Enemy2] Ragdoll activated
[09:28:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (700.2866, 785.8704) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (630.9903, 732.324) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (626.42, 715.311) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (635.8675, 678.1739) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (689.3662, 656.6932) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (596.6071, 694.9182) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (603.8706, 685.2167) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (662.0817, 712.5695) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (651.9409, 679.5508) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (592.4537, 739.2709) (added to group)
[09:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(796,747), corner_timer=-0.02
[09:28:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[09:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(791,747), corner_timer=0.30
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (661.0293, 789.6204) (added to group)
[09:28:54] [INFO] [BloodDecal] Blood puddle created at (708.921, 709.4808) (added to group)
[09:28:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:54] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[09:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(755,747), corner_timer=-0.02
[09:28:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[09:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(755,747), corner_timer=0.30
[09:28:54] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=23.2°, current=72.5°, player=(755,747), corner_timer=-0.02
[09:28:54] [ENEMY] [Enemy1] SEARCHING: Player spotted! Transitioning to COMBAT
[09:28:54] [ENEMY] [Enemy1] State: SEARCHING -> COMBAT
[09:28:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:28:54] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[09:28:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:54] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:54] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:54] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:54] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:54] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:54] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:54] [ENEMY] [Enemy1] Death animation component initialized
[09:28:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:54] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:54] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:54] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:54] [ENEMY] [Enemy2] Death animation component initialized
[09:28:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:54] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:54] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:54] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:54] [ENEMY] [Enemy3] Death animation component initialized
[09:28:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:54] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:54] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:54] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:54] [ENEMY] [Enemy4] Death animation component initialized
[09:28:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:54] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:54] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:54] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:54] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:54] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:54] [ENEMY] [Grenadier] Death animation component initialized
[09:28:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:54] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:54] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:54] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:54] [ENEMY] [Enemy6] Death animation component initialized
[09:28:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:54] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:54] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:54] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:54] [ENEMY] [Enemy7] Death animation component initialized
[09:28:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:54] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:54] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:54] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:54] [ENEMY] [Enemy8] Death animation component initialized
[09:28:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:54] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:54] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:54] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:54] [ENEMY] [Enemy9] Death animation component initialized
[09:28:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:54] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:54] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:54] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:54] [ENEMY] [Enemy10] Death animation component initialized
[09:28:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:54] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:54] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:54] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:54] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:54] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:54] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:54] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:54] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:54] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:54] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:54] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:54] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:54] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:54] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:54] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:54] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:54] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:54] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:54] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:54] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:54] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:54] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:54] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:54] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:54] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:54] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:54] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:54] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:54] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:54] [INFO] [ReplayManager] Replay data cleared
[09:28:54] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:54] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:54] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:54] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:54] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:54] [INFO] [ReplayManager] Enemies count: 10
[09:28:54] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:54] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:54] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:54] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:54] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:54] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:54] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:54] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:54] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:54] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:54] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:54] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:54] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:54] [INFO] [CinemaEffects] Found player node: Player
[09:28:54] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[09:28:54] [ENEMY] [Enemy1] Registered as sound listener
[09:28:54] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:28:54] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[09:28:54] [ENEMY] [Enemy2] Registered as sound listener
[09:28:54] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:28:54] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[09:28:54] [ENEMY] [Enemy3] Registered as sound listener
[09:28:54] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:28:54] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[09:28:54] [ENEMY] [Enemy4] Registered as sound listener
[09:28:54] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:28:54] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:54] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 12)
[09:28:54] [ENEMY] [Grenadier] Registered as sound listener
[09:28:54] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:54] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[09:28:54] [ENEMY] [Enemy6] Registered as sound listener
[09:28:54] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:28:54] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[09:28:54] [ENEMY] [Enemy7] Registered as sound listener
[09:28:54] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:28:54] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[09:28:54] [ENEMY] [Enemy8] Registered as sound listener
[09:28:54] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:28:54] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[09:28:54] [ENEMY] [Enemy9] Registered as sound listener
[09:28:54] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:28:54] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[09:28:54] [ENEMY] [Enemy10] Registered as sound listener
[09:28:54] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:28:54] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:55] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:55] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:28:55] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:28:55] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:28:55] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:28:55] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:28:55] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:28:55] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:28:55] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:28:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:55] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:55] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:55] [INFO] [LastChance] Found player: Player
[09:28:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:55] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:55] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:55] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:56] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:56] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:56] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(225,972), corner_timer=0.30
[09:28:56] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(225,972), corner_timer=0.30
[09:28:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(225.8382, 931.0887), source=PLAYER (AssaultRifle), range=1469, listeners=17
[09:28:56] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[09:28:56] [ENEMY] [Enemy2] Heard gunshot at (225.8382, 931.0887), source_type=0, intensity=0.01, distance=419
[09:28:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[09:28:56] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=114.6°, current=-101.3°, player=(225,931), corner_timer=0.00
[09:28:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(225,931), corner_timer=-0.02
[09:28:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(225,931), corner_timer=-0.02
[09:28:56] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:28:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(225,931), corner_timer=0.30
[09:28:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(225,931), corner_timer=0.30
[09:28:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(225.8382, 931.0887), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(225.83815, 931.0887), shooter_id=1867622911793, bullet_pos=(503.9875, 817.0761)
[09:28:56] [INFO] [Bullet] Using shooter_position, distance=300,60925
[09:28:56] [INFO] [Bullet] Distance to wall: 300,60925 (20,469036% of viewport)
[09:28:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:57] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(225.83815, 931.0887), shooter_id=1867622911793, bullet_pos=(504.043, 817.14215)
[09:28:57] [INFO] [Bullet] Using shooter_position, distance=300,63556
[09:28:57] [INFO] [Bullet] Distance to wall: 300,63556 (20,470829% of viewport)
[09:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:57] [INFO] [Bullet] Starting wall penetration at (504.043, 817.14215)
[09:28:57] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[09:28:57] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:28:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(225.8382, 931.0887), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,570696
[09:28:57] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:57] [INFO] [Bullet] Exiting penetration at (548.1901, 802.01575) after traveling 41,666668 pixels through wall
[09:28:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:57] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=97.3°, current=33.8°, player=(225,931), corner_timer=0.00
[09:28:57] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(225.83815, 931.0887), shooter_id=1867622911793, bullet_pos=(503.7433, 816.79114)
[09:28:57] [INFO] [Bullet] Using shooter_position, distance=300,4916
[09:28:57] [INFO] [Bullet] Distance to wall: 300,4916 (20,461027% of viewport)
[09:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:57] [INFO] [Bullet] Starting wall penetration at (503.7433, 816.79114)
[09:28:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(225.8382, 931.0887), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,268995
[09:28:57] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:57] [INFO] [Bullet] Exiting penetration at (547.92163, 801.7561) after traveling 41,66667 pixels through wall
[09:28:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(225,931), corner_timer=-0.02
[09:28:57] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:28:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(225,931), corner_timer=0.30
[09:28:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(225.8382, 931.0887), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:28:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(225.83815, 931.0887), shooter_id=1867622911793, bullet_pos=(503.5776, 816.6027)
[09:28:57] [INFO] [Bullet] Using shooter_position, distance=300,4101
[09:28:57] [INFO] [Bullet] Distance to wall: 300,4101 (20,455477% of viewport)
[09:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:57] [INFO] [Bullet] Starting wall penetration at (503.5776, 816.6027)
[09:28:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,102148
[09:28:57] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:57] [INFO] [Bullet] Exiting penetration at (547.7727, 801.61707) after traveling 41,66667 pixels through wall
[09:28:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:57] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(225.83815, 931.0887), shooter_id=1867622911793, bullet_pos=(503.47482, 816.4479)
[09:28:57] [INFO] [Bullet] Using shooter_position, distance=300,37415
[09:28:57] [INFO] [Bullet] Distance to wall: 300,37415 (20,453028% of viewport)
[09:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:28:57] [INFO] [Bullet] Starting wall penetration at (503.47482, 816.4479)
[09:28:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,00002
[09:28:57] [INFO] [Bullet] Body exited signal received for penetrating body
[09:28:57] [INFO] [Bullet] Exiting penetration at (547.6829, 801.5005) after traveling 41,66667 pixels through wall
[09:28:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:28:57] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[09:28:57] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:28:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:57] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:28:57] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:28:57] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:28:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:28:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:28:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:28:57] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:28:57] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:28:57] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:28:57] [ENEMY] [Enemy1] Death animation component initialized
[09:28:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:57] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:28:57] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:28:57] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:28:57] [ENEMY] [Enemy2] Death animation component initialized
[09:28:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:57] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:28:57] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:28:57] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:28:57] [ENEMY] [Enemy3] Death animation component initialized
[09:28:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:57] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:28:57] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:28:57] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:28:57] [ENEMY] [Enemy4] Death animation component initialized
[09:28:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:57] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:28:57] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:28:57] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:28:57] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:28:57] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:28:57] [ENEMY] [Grenadier] Death animation component initialized
[09:28:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:57] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:28:57] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:28:57] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:28:57] [ENEMY] [Enemy6] Death animation component initialized
[09:28:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:57] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:28:57] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:28:57] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:28:57] [ENEMY] [Enemy7] Death animation component initialized
[09:28:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:57] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:28:57] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:28:57] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:28:57] [ENEMY] [Enemy8] Death animation component initialized
[09:28:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:57] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:28:57] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:28:57] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:28:57] [ENEMY] [Enemy9] Death animation component initialized
[09:28:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:57] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:28:57] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:28:57] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:28:57] [ENEMY] [Enemy10] Death animation component initialized
[09:28:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:28:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:28:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:28:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:28:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:28:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:28:57] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:28:57] [INFO] [Player.Weapon] Removed default MakarovPM
[09:28:57] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:28:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:28:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:28:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:28:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:28:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:28:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:28:57] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:28:57] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:28:57] [INFO] [Player.Homing] Homing activation sound loaded
[09:28:57] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:28:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:28:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:28:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:28:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:28:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:28:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:28:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:28:57] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:28:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:28:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:28:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:28:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:28:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:28:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:28:57] [INFO] [BuildingLevel] Setting up weapon: m16
[09:28:57] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:28:57] [INFO] [ScoreManager] Level started with 10 enemies
[09:28:57] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:28:57] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:28:57] [INFO] [ReplayManager] Replay data cleared
[09:28:57] [INFO] [BuildingLevel] Previous replay data cleared
[09:28:57] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:28:57] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:28:57] [INFO] [ReplayManager] Level: BuildingLevel
[09:28:57] [INFO] [ReplayManager] Player: Player (valid: True)
[09:28:57] [INFO] [ReplayManager] Enemies count: 10
[09:28:57] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:28:57] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:28:57] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:28:57] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:28:57] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:28:57] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:28:57] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:28:57] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:28:57] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:28:57] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:28:57] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:28:57] [INFO] [BuildingLevel] Replay recording started successfully
[09:28:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:28:57] [INFO] [CinemaEffects] Found player node: Player
[09:28:57] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:28:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:28:57] [ENEMY] [Enemy1] Registered as sound listener
[09:28:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:28:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:28:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:28:57] [ENEMY] [Enemy2] Registered as sound listener
[09:28:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:28:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:28:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:28:57] [ENEMY] [Enemy3] Registered as sound listener
[09:28:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:28:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:28:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:28:57] [ENEMY] [Enemy4] Registered as sound listener
[09:28:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:28:57] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:28:57] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:28:57] [ENEMY] [Grenadier] Registered as sound listener
[09:28:57] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:28:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:28:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:28:57] [ENEMY] [Enemy6] Registered as sound listener
[09:28:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:28:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:28:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:28:57] [ENEMY] [Enemy7] Registered as sound listener
[09:28:57] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:28:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:28:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:28:57] [ENEMY] [Enemy8] Registered as sound listener
[09:28:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:28:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:28:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:28:57] [ENEMY] [Enemy9] Registered as sound listener
[09:28:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:28:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:28:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:28:57] [ENEMY] [Enemy10] Registered as sound listener
[09:28:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:28:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:28:57] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:28:57] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:57] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:57] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:57] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:57] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:57] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:57] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:57] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:28:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:28:57] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:28:57] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:28:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:28:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:28:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:28:57] [INFO] [LastChance] Found player: Player
[09:28:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:28:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:28:57] [INFO] [LastChance] Connected to player Died signal (C#)
[09:28:57] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:28:58] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:28:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:59] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:28:59] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:28:59] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(352,1000), corner_timer=0.30
[09:28:59] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(352,1000), corner_timer=0.30
[09:28:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(323,962), corner_timer=-0.02
[09:28:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:28:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(323,962), corner_timer=-0.02
[09:28:59] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:28:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(323,962), corner_timer=0.30
[09:28:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(323,962), corner_timer=0.30
[09:28:59] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:28:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(323,962), corner_timer=-0.02
[09:28:59] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:28:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(323,962), corner_timer=0.30
[09:29:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(323,962), corner_timer=-0.02
[09:29:00] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:29:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(323,962), corner_timer=0.30
[09:29:00] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:29:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.075, 962.8853), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:29:00] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:29:00] [ENEMY] [Enemy2] Heard gunshot at (323.075, 962.8853), source_type=0, intensity=0.01, distance=420
[09:29:00] [ENEMY] [Enemy3] Heard gunshot at (323.075, 962.8853), source_type=0, intensity=0.01, distance=433
[09:29:00] [ENEMY] [Enemy4] Heard gunshot at (323.075, 962.8853), source_type=0, intensity=0.01, distance=481
[09:29:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:00] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=100.6°, current=-157.5°, player=(323,962), corner_timer=0.00
[09:29:00] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=150.5°, current=-33.8°, player=(323,962), corner_timer=0.00
[09:29:00] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=172.5°, current=168.8°, player=(323,962), corner_timer=0.00
[09:29:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.075, 962.8853), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.075, 962.8853), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(323,962), corner_timer=-0.02
[09:29:00] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:29:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(323,962), corner_timer=0.30
[09:29:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.075, 962.8853), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:00] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(323.07495, 962.88525), shooter_id=1923944024549, bullet_pos=(982.62494, 38.777775)
[09:29:00] [INFO] [Bullet] Using shooter_position, distance=1135,3329
[09:29:00] [INFO] [Bullet] Distance to wall: 1135,3329 (77,30691% of viewport)
[09:29:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.075, 962.8853), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:00] [ENEMY] [Enemy1] Memory: medium confidence (0.58) - transitioning to PURSUING
[09:29:00] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:29:00] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=87.8°, current=168.8°, player=(323,962), corner_timer=0.00
[09:29:00] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:29:00] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:29:00] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:00] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(323.07495, 962.88525), shooter_id=1923944024549, bullet_pos=(1112.696, 213.09872)
[09:29:00] [INFO] [Bullet] Using shooter_position, distance=1088,8899
[09:29:00] [INFO] [Bullet] Distance to wall: 1088,8899 (74,144516% of viewport)
[09:29:00] [INFO] [Bullet] Distance-based penetration chance: 60,16473%
[09:29:00] [INFO] [Bullet] Penetration failed (distance roll)
[09:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(323.07495, 962.88525), shooter_id=1923944024549, bullet_pos=(983.49115, 39.39537)
[09:29:00] [INFO] [Bullet] Using shooter_position, distance=1135,334
[09:29:00] [INFO] [Bullet] Distance to wall: 1135,334 (77,30698% of viewport)
[09:29:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.075, 962.8853), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(323,962), corner_timer=-0.02
[09:29:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[09:29:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(323,962), corner_timer=0.30
[09:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(323.07495, 962.88525), shooter_id=1923944024549, bullet_pos=(1117.564, 210.65768)
[09:29:01] [INFO] [Bullet] Using shooter_position, distance=1094,1019
[09:29:01] [INFO] [Bullet] Distance to wall: 1094,1019 (74,49942% of viewport)
[09:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(323.07495, 962.88525), shooter_id=1923944024549, bullet_pos=(983.35974, 39.302017)
[09:29:01] [INFO] [Bullet] Using shooter_position, distance=1135,3334
[09:29:01] [INFO] [Bullet] Distance to wall: 1135,3334 (77,30694% of viewport)
[09:29:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:01] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:01] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:01] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:01] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:01] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:01] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:01] [ENEMY] [Enemy1] Death animation component initialized
[09:29:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:01] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:01] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:01] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:01] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:29:01] [ENEMY] [Enemy2] Death animation component initialized
[09:29:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:01] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:01] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:01] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:01] [ENEMY] [Enemy3] Death animation component initialized
[09:29:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:01] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:01] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:01] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:01] [ENEMY] [Enemy4] Death animation component initialized
[09:29:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:01] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:01] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:01] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:01] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:01] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:01] [ENEMY] [Grenadier] Death animation component initialized
[09:29:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:01] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:01] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:01] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:01] [ENEMY] [Enemy6] Death animation component initialized
[09:29:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:01] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:01] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:01] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:01] [ENEMY] [Enemy7] Death animation component initialized
[09:29:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:01] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:01] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:01] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:01] [ENEMY] [Enemy8] Death animation component initialized
[09:29:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:01] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:01] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:01] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:01] [ENEMY] [Enemy9] Death animation component initialized
[09:29:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:01] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:01] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:01] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:01] [ENEMY] [Enemy10] Death animation component initialized
[09:29:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:01] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:01] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:01] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:01] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:01] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:01] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:01] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:01] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:01] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:01] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:01] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:01] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:01] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:01] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:01] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:01] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:01] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:01] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:01] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:01] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:01] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:01] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:01] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:01] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:01] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:01] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:01] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:01] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:01] [INFO] [ReplayManager] Replay data cleared
[09:29:01] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:01] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:01] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:01] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:01] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:01] [INFO] [ReplayManager] Enemies count: 10
[09:29:01] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:01] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:01] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:01] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:01] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:01] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:01] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:01] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:01] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:01] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:01] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:01] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:01] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:01] [INFO] [CinemaEffects] Found player node: Player
[09:29:01] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:29:01] [ENEMY] [Enemy1] Registered as sound listener
[09:29:01] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:29:01] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:29:01] [ENEMY] [Enemy2] Registered as sound listener
[09:29:01] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:29:01] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:29:01] [ENEMY] [Enemy3] Registered as sound listener
[09:29:01] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:29:01] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:29:01] [ENEMY] [Enemy4] Registered as sound listener
[09:29:01] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:29:01] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:01] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:29:01] [ENEMY] [Grenadier] Registered as sound listener
[09:29:01] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:01] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:29:01] [ENEMY] [Enemy6] Registered as sound listener
[09:29:01] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:29:01] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:29:01] [ENEMY] [Enemy7] Registered as sound listener
[09:29:01] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[09:29:01] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:29:01] [ENEMY] [Enemy8] Registered as sound listener
[09:29:01] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:29:01] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:29:01] [ENEMY] [Enemy9] Registered as sound listener
[09:29:01] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:29:01] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:29:01] [ENEMY] [Enemy10] Registered as sound listener
[09:29:01] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:29:01] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:01] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:01] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:01] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:01] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:01] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:01] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:01] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:01] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:01] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:01] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:01] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:01] [INFO] [LastChance] Found player: Player
[09:29:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:01] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:01] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:02] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:02] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:02] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:02] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:02] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(331,907), corner_timer=0.30
[09:29:02] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(331,907), corner_timer=0.30
[09:29:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(331.3104, 907.2968), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:29:02] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:29:02] [ENEMY] [Enemy2] Heard gunshot at (331.3104, 907.2968), source_type=0, intensity=0.02, distance=364
[09:29:02] [ENEMY] [Enemy3] Heard gunshot at (331.3104, 907.2968), source_type=0, intensity=0.02, distance=401
[09:29:02] [ENEMY] [Enemy4] Heard gunshot at (331.3104, 907.2968), source_type=0, intensity=0.01, distance=469
[09:29:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:02] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=100.9°, current=-157.5°, player=(331,907), corner_timer=0.00
[09:29:02] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=156.9°, current=-78.7°, player=(331,907), corner_timer=0.00
[09:29:02] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=179.1°, current=-67.5°, player=(331,907), corner_timer=0.00
[09:29:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(331.31036, 907.29675), shooter_id=1985684179880, bullet_pos=(519.6391, 803.11176)
[09:29:02] [INFO] [Bullet] Using shooter_position, distance=215,22598
[09:29:02] [INFO] [Bullet] Distance to wall: 215,22598 (14,655134% of viewport)
[09:29:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:02] [INFO] [Bullet] Starting wall penetration at (519.6391, 803.11176)
[09:29:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,13942
[09:29:03] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:03] [INFO] [Bullet] Exiting penetration at (564.64636, 790.778) after traveling 41,666668 pixels through wall
[09:29:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(331.3104, 907.2968), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(331.31036, 907.29675), shooter_id=1985684179880, bullet_pos=(519.2028, 803.30884)
[09:29:03] [INFO] [Bullet] Using shooter_position, distance=214,74884
[09:29:03] [INFO] [Bullet] Distance to wall: 214,74884 (14,622643% of viewport)
[09:29:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(331.3104, 907.2968), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(331,907), corner_timer=-0.02
[09:29:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(331,907), corner_timer=-0.02
[09:29:03] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(331,907), corner_timer=0.30
[09:29:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(331,907), corner_timer=0.30
[09:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(331.31036, 907.29675), shooter_id=1985684179880, bullet_pos=(518.88696, 802.977)
[09:29:03] [INFO] [Bullet] Using shooter_position, distance=214,63362
[09:29:03] [INFO] [Bullet] Distance to wall: 214,63362 (14,614799% of viewport)
[09:29:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:03] [INFO] [Bullet] Starting wall penetration at (518.88696, 802.977)
[09:29:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,421463
[09:29:03] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:03] [INFO] [Bullet] Exiting penetration at (564.9899, 795.8471) after traveling 41,666668 pixels through wall
[09:29:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(331.3104, 907.2968), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:03] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(331.31036, 907.29675), shooter_id=1985684179880, bullet_pos=(518.6232, 802.5041)
[09:29:03] [INFO] [Bullet] Using shooter_position, distance=214,63367
[09:29:03] [INFO] [Bullet] Distance to wall: 214,63367 (14,614801% of viewport)
[09:29:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:03] [INFO] [Bullet] Starting wall penetration at (518.6232, 802.5041)
[09:29:03] [ENEMY] [Enemy1] Memory: medium confidence (0.59) - transitioning to PURSUING
[09:29:03] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:29:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,154957
[09:29:03] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:03] [INFO] [Bullet] Exiting penetration at (564.95996, 797.30945) after traveling 41,66667 pixels through wall
[09:29:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:03] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[09:29:03] [INFO] [ImpactEffects] spawn_blood_effect called at (562.6455, 808.6011), dir=(1, 0), lethal=false
[09:29:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:03] [INFO] [ImpactEffects] Blood effect spawned at (562.6455, 808.6011) (scale=1)
[09:29:03] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=86.8°, current=-157.5°, player=(331,907), corner_timer=0.00
[09:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(331.3104, 907.2968), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:03] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:29:03] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:29:03] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:29:03] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:03] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=156.9°, current=172.0°, player=(331,907), corner_timer=0.00
[09:29:03] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:29:03] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(331.31036, 907.29675), shooter_id=1985684179880, bullet_pos=(526.1234, 799.4408)
[09:29:03] [INFO] [Bullet] Using shooter_position, distance=222,67697
[09:29:03] [INFO] [Bullet] Distance to wall: 222,67697 (15,162484% of viewport)
[09:29:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:03] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[09:29:03] [INFO] [ImpactEffects] spawn_blood_effect called at (548.0689, 816.1355), dir=(1, 0), lethal=true
[09:29:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:03] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:29:03] [INFO] [ImpactEffects] Blood effect spawned at (548.0689, 816.1355) (scale=1.5)
[09:29:03] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:29:03] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:29:03] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:29:03] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:29:03] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:29:03] [INFO] [PowerFantasy]   - Duration: 300ms
[09:29:03] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:29:03] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:29:03] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:29:03] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:29:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(331,907), corner_timer=-0.01
[09:29:03] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(331.3104, 907.2968), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[09:29:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=14.2°, player=(331,907), corner_timer=0.30
[09:29:03] [INFO] [PowerFantasy] Effect duration expired after 303.00 ms
[09:29:03] [INFO] [PowerFantasy] Ending power fantasy effect
[09:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(331.31036, 907.29675), shooter_id=1985684179880, bullet_pos=(450.97916, 702.29004)
[09:29:03] [INFO] [Bullet] Using shooter_position, distance=237,37813
[09:29:03] [INFO] [Bullet] Distance to wall: 237,37813 (16,163513% of viewport)
[09:29:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:03] [INFO] [Bullet] Starting wall penetration at (450.97916, 702.29004)
[09:29:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,26864
[09:29:03] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:03] [INFO] [Bullet] Exiting penetration at (454.376, 655.78687) after traveling 41,666668 pixels through wall
[09:29:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(331.3104, 907.2968), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[09:29:03] [INFO] [BloodDecal] Blood puddle created at (634.8062, 842.2283) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (619.1847, 847.4751) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (605.905, 841.5586) (added to group)
[09:29:04] [ENEMY] [Enemy1] PURSUING corner check: angle -51.5°
[09:29:04] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (665.9064, 794.6696) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (634.0853, 816.6896) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (590.0176, 844.0441) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (610.9038, 803.2941) (added to group)
[09:29:04] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[09:29:04] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (637.5898, 857.3156) (added to group)
[09:29:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:29:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(331,907), corner_timer=-0.01
[09:29:04] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (637.3794, 835.8855) (added to group)
[09:29:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.6°, player=(331,907), corner_timer=0.30
[09:29:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(331.31036, 907.29675), shooter_id=1985684179880, bullet_pos=(341.13388, 423.42786)
[09:29:04] [INFO] [Bullet] Using shooter_position, distance=483,9686
[09:29:04] [INFO] [Bullet] Distance to wall: 483,9686 (32,95431% of viewport)
[09:29:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:04] [INFO] [Bullet] Starting wall penetration at (341.13388, 423.42786)
[09:29:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:29:04] [INFO] [Bullet] Exiting penetration at (304.2048, 394.9617) after traveling 41,66667 pixels through wall
[09:29:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (634.4186, 848.6647) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (662.1897, 847.1641) (added to group)
[09:29:04] [ENEMY] [Enemy3] Ragdoll activated
[09:29:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (622.1667, 887.3759) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (689.9392, 913.67) (added to group)
[09:29:04] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[09:29:04] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-51.5°, current=158.3°, player=(331,907), corner_timer=0.05
[09:29:04] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (695.7335, 920.2145) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (624.0499, 905.9775) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (654.6089, 828.3125) (added to group)
[09:29:04] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[09:29:04] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (663.8613, 929.7005) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (638.9399, 892.4684) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (696.777, 957.301) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (656.3444, 884.3085) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (635.8235, 945.613) (added to group)
[09:29:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(331,907), corner_timer=-0.02
[09:29:04] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (661.6597, 960.9811) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (732.2248, 998.4197) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (677.6246, 946.9659) (added to group)
[09:29:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=6.4°, player=(331,907), corner_timer=0.30
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (650.4658, 896.5917) (added to group)
[09:29:04] [INFO] [BloodDecal] Blood puddle created at (725.7007, 990.0914) (added to group)
[09:29:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:04] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:04] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:04] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:04] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:04] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:04] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:04] [ENEMY] [Enemy1] Death animation component initialized
[09:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:04] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:04] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:04] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:04] [ENEMY] [Enemy2] Death animation component initialized
[09:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:04] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:04] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:04] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:04] [ENEMY] [Enemy3] Death animation component initialized
[09:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:04] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:04] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:04] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:04] [ENEMY] [Enemy4] Death animation component initialized
[09:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:04] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:04] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:04] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:04] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:04] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:04] [ENEMY] [Grenadier] Death animation component initialized
[09:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:04] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:04] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:04] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:04] [ENEMY] [Enemy6] Death animation component initialized
[09:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:04] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:04] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:04] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:04] [ENEMY] [Enemy7] Death animation component initialized
[09:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:04] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:04] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:04] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:04] [ENEMY] [Enemy8] Death animation component initialized
[09:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:04] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:04] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:04] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:04] [ENEMY] [Enemy9] Death animation component initialized
[09:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:04] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:04] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:04] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:04] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:29:04] [ENEMY] [Enemy10] Death animation component initialized
[09:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:04] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:04] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:04] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:04] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:04] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:04] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:04] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:04] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:04] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:04] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:04] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:04] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:04] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:04] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:04] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:04] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:04] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:04] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:04] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:04] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:04] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:04] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:04] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:04] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:04] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:04] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:04] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:04] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:04] [INFO] [ReplayManager] Replay data cleared
[09:29:04] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:04] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:04] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:04] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:04] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:04] [INFO] [ReplayManager] Enemies count: 10
[09:29:04] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:04] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:04] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:04] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:04] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:04] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:04] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:04] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:04] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:04] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:04] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:04] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:04] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:04] [INFO] [CinemaEffects] Found player node: Player
[09:29:04] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:29:04] [ENEMY] [Enemy1] Registered as sound listener
[09:29:04] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:29:04] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:29:04] [ENEMY] [Enemy2] Registered as sound listener
[09:29:04] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:29:04] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:29:04] [ENEMY] [Enemy3] Registered as sound listener
[09:29:04] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:29:04] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:29:04] [ENEMY] [Enemy4] Registered as sound listener
[09:29:04] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:29:04] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:04] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:29:04] [ENEMY] [Grenadier] Registered as sound listener
[09:29:04] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:04] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:29:04] [ENEMY] [Enemy6] Registered as sound listener
[09:29:04] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:29:04] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:29:04] [ENEMY] [Enemy7] Registered as sound listener
[09:29:04] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[09:29:04] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:29:04] [ENEMY] [Enemy8] Registered as sound listener
[09:29:04] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:29:04] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:29:04] [ENEMY] [Enemy9] Registered as sound listener
[09:29:04] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:29:04] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:29:04] [ENEMY] [Enemy10] Registered as sound listener
[09:29:04] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:29:04] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:04] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:04] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:04] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:04] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:04] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:04] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:04] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:04] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:04] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:04] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:04] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:04] [INFO] [LastChance] Found player: Player
[09:29:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:04] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:04] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:05] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:05] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:06] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:06] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(358,915), corner_timer=0.30
[09:29:06] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(358,915), corner_timer=0.30
[09:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=19
[09:29:06] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:29:06] [ENEMY] [Enemy2] Heard gunshot at (358.2932, 915.9306), source_type=0, intensity=0.02, distance=368
[09:29:06] [ENEMY] [Enemy3] Heard gunshot at (358.2932, 915.9306), source_type=0, intensity=0.02, distance=380
[09:29:06] [ENEMY] [Enemy4] Heard gunshot at (358.2932, 915.9306), source_type=0, intensity=0.01, distance=442
[09:29:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:06] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=96.5°, current=45.0°, player=(358,915), corner_timer=0.00
[09:29:06] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=154.1°, current=-168.8°, player=(358,915), corner_timer=0.00
[09:29:06] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=177.9°, current=-101.3°, player=(358,915), corner_timer=0.00
[09:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(405.1772, 706.4355)
[09:29:06] [INFO] [Bullet] Using shooter_position, distance=214,67722
[09:29:06] [INFO] [Bullet] Distance to wall: 214,67722 (14,617766% of viewport)
[09:29:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:06] [INFO] [Bullet] Starting wall penetration at (405.1772, 706.4355)
[09:29:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,19638
[09:29:06] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:06] [INFO] [Bullet] Exiting penetration at (402.26224, 659.86005) after traveling 41,666668 pixels through wall
[09:29:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(404.00656, 706.22156)
[09:29:06] [INFO] [Bullet] Using shooter_position, distance=214,63362
[09:29:06] [INFO] [Bullet] Distance to wall: 214,63362 (14,614799% of viewport)
[09:29:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:06] [INFO] [Bullet] Starting wall penetration at (404.00656, 706.22156)
[09:29:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,332119
[09:29:06] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:06] [INFO] [Bullet] Exiting penetration at (398.52667, 659.8857) after traveling 41,666668 pixels through wall
[09:29:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(358,915), corner_timer=-0.02
[09:29:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(358,915), corner_timer=-0.02
[09:29:06] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(358,915), corner_timer=0.30
[09:29:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(358,915), corner_timer=0.30
[09:29:06] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[09:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(403.54932, 706.12244)
[09:29:06] [INFO] [Bullet] Using shooter_position, distance=214,63359
[09:29:06] [INFO] [Bullet] Distance to wall: 214,63359 (14,614797% of viewport)
[09:29:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:06] [INFO] [Bullet] Starting wall penetration at (403.54932, 706.12244)
[09:29:06] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=96.5°, current=96.5°, player=(358,915), corner_timer=0.00
[09:29:06] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:29:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,265276
[09:29:06] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:06] [INFO] [Bullet] Exiting penetration at (394.92734, 660.2995) after traveling 41,66667 pixels through wall
[09:29:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:06] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[09:29:06] [INFO] [ImpactEffects] spawn_blood_effect called at (388.5251, 650.6812), dir=(1, 0), lethal=false
[09:29:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:06] [INFO] [ImpactEffects] Blood effect spawned at (388.5251, 650.6812) (scale=1)
[09:29:06] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:06] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(405.44653, 706.4105)
[09:29:06] [INFO] [Bullet] Using shooter_position, distance=214,76056
[09:29:06] [INFO] [Bullet] Distance to wall: 214,76056 (14,623443% of viewport)
[09:29:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:06] [INFO] [Bullet] Starting wall penetration at (405.44653, 706.4105)
[09:29:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,703339
[09:29:06] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:06] [INFO] [Bullet] Exiting penetration at (399.3063, 668.59717) after traveling 33,333332 pixels through wall
[09:29:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:06] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[09:29:06] [INFO] [ImpactEffects] spawn_blood_effect called at (388.5251, 650.6812), dir=(1, 0), lethal=false
[09:29:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:06] [INFO] [ImpactEffects] Blood effect spawned at (388.5251, 650.6812) (scale=1)
[09:29:06] [ENEMY] [Enemy1] Memory: medium confidence (0.59) - transitioning to PURSUING
[09:29:06] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:29:06] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=84.1°, current=33.8°, player=(358,915), corner_timer=0.00
[09:29:06] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:06] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:29:06] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:29:06] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(405.32443, 706.383)
[09:29:07] [INFO] [Bullet] Using shooter_position, distance=214,76064
[09:29:07] [INFO] [Bullet] Distance to wall: 214,76064 (14,623446% of viewport)
[09:29:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:07] [INFO] [Bullet] Starting wall penetration at (405.32443, 706.383)
[09:29:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,72967
[09:29:07] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:07] [INFO] [Bullet] Exiting penetration at (399.16214, 668.57324) after traveling 33,333336 pixels through wall
[09:29:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:07] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/4->1/4
[09:29:07] [INFO] [ImpactEffects] spawn_blood_effect called at (388.5251, 650.6812), dir=(1, 0), lethal=false
[09:29:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:07] [INFO] [ImpactEffects] Blood effect spawned at (388.5251, 650.6812) (scale=1)
[09:29:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(358,915), corner_timer=-0.01
[09:29:07] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[09:29:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(358,915), corner_timer=0.30
[09:29:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(471.12662, 690.60297)
[09:29:07] [INFO] [Bullet] Using shooter_position, distance=251,99983
[09:29:07] [INFO] [Bullet] Distance to wall: 251,99983 (17,159132% of viewport)
[09:29:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (460.6412, 656.2903) (added to group)
[09:29:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (474.1583, 645.1943) (added to group)
[09:29:07] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[09:29:07] [INFO] [ImpactEffects] spawn_blood_effect called at (576.2218, 810.1063), dir=(1, 0), lethal=false
[09:29:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:07] [INFO] [ImpactEffects] Blood effect spawned at (576.2218, 810.1063) (scale=1)
[09:29:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(471.0897, 690.5841)
[09:29:07] [INFO] [Bullet] Using shooter_position, distance=252,00017
[09:29:07] [INFO] [Bullet] Distance to wall: 252,00017 (17,159155% of viewport)
[09:29:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:07] [ENEMY] [Enemy1] PURSUING corner check: angle -51.9°
[09:29:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (469.3455, 670.5242) (added to group)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (472.4451, 662.5397) (added to group)
[09:29:07] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[09:29:07] [INFO] [ImpactEffects] spawn_blood_effect called at (576.2218, 810.1063), dir=(1, 0), lethal=false
[09:29:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:07] [INFO] [ImpactEffects] Blood effect spawned at (576.2218, 810.1063) (scale=1)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (475.6507, 662.1801) (added to group)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (454.3073, 671.8361) (added to group)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (474.5424, 673.09) (added to group)
[09:29:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(471.0701, 690.5744)
[09:29:07] [INFO] [Bullet] Using shooter_position, distance=252,00008
[09:29:07] [INFO] [Bullet] Distance to wall: 252,00008 (17,15915% of viewport)
[09:29:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:07] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (552.1639, 667.818) (added to group)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (456.9172, 666.0147) (added to group)
[09:29:07] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:29:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(358,915), corner_timer=-0.01
[09:29:07] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[09:29:07] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:29:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.2°, player=(358,915), corner_timer=0.30
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (460.0878, 665.7601) (added to group)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (498.7882, 668.05) (added to group)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (617.5536, 839.5625) (added to group)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (548.2298, 663.1608) (added to group)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (524.4597, 669.5342) (added to group)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (632.7916, 852.3706) (added to group)
[09:29:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(666.3286, 1008.7752)
[09:29:07] [INFO] [Bullet] Using shooter_position, distance=321,72333
[09:29:07] [INFO] [Bullet] Distance to wall: 321,72333 (21,906734% of viewport)
[09:29:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:07] [INFO] [Bullet] Starting wall penetration at (666.3286, 1008.7752)
[09:29:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,4706745
[09:29:07] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:07] [INFO] [Bullet] Exiting penetration at (683.7624, 1037.186) after traveling 28,33333 pixels through wall
[09:29:07] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (484.103, 664.423) (added to group)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (495.6545, 659.8639) (added to group)
[09:29:07] [ENEMY] [Enemy1] PURSUING corner check: angle 153.8°
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (639.0501, 852.082) (added to group)
[09:29:07] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (574.0609, 697.3991) (added to group)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (671.47, 848.9444) (added to group)
[09:29:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(358,915), corner_timer=-0.01
[09:29:07] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[09:29:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.9°, player=(358,915), corner_timer=0.30
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (652.8467, 879.7629) (added to group)
[09:29:07] [INFO] [BloodDecal] Blood puddle created at (642.4747, 816.7175) (added to group)
[09:29:08] [INFO] [BloodDecal] Blood puddle created at (708.4308, 972.2934) (added to group)
[09:29:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(358,915), corner_timer=-0.01
[09:29:08] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[09:29:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(471.07288, 690.5758)
[09:29:08] [INFO] [Bullet] Using shooter_position, distance=252,00006
[09:29:08] [INFO] [Bullet] Distance to wall: 252,00006 (17,159147% of viewport)
[09:29:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:08] [INFO] [Bullet] Starting wall penetration at (471.07288, 690.5758)
[09:29:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.2°, player=(358,915), corner_timer=0.30
[09:29:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,45298
[09:29:08] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:08] [INFO] [Bullet] Exiting penetration at (488.22852, 656.29565) after traveling 33,333336 pixels through wall
[09:29:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(471.07242, 690.57574)
[09:29:08] [INFO] [Bullet] Using shooter_position, distance=251,99991
[09:29:08] [INFO] [Bullet] Distance to wall: 251,99991 (17,159138% of viewport)
[09:29:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:08] [INFO] [Bullet] Starting wall penetration at (471.07242, 690.57574)
[09:29:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,453007
[09:29:08] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:08] [INFO] [Bullet] Exiting penetration at (488.22797, 656.2956) after traveling 33,333336 pixels through wall
[09:29:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(471.07217, 690.5754)
[09:29:08] [INFO] [Bullet] Using shooter_position, distance=252,00012
[09:29:08] [INFO] [Bullet] Distance to wall: 252,00012 (17,159153% of viewport)
[09:29:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:08] [INFO] [Bullet] Starting wall penetration at (471.07217, 690.5754)
[09:29:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,453472
[09:29:08] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:08] [INFO] [Bullet] Exiting penetration at (488.2277, 656.29517) after traveling 33,333336 pixels through wall
[09:29:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(471.07196, 690.5754)
[09:29:08] [INFO] [Bullet] Using shooter_position, distance=252,00003
[09:29:08] [INFO] [Bullet] Distance to wall: 252,00003 (17,159145% of viewport)
[09:29:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:08] [INFO] [Bullet] Starting wall penetration at (471.07196, 690.5754)
[09:29:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,453457
[09:29:08] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:08] [INFO] [Bullet] Exiting penetration at (488.22745, 656.29517) after traveling 33,333336 pixels through wall
[09:29:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(471.07196, 690.5754)
[09:29:08] [INFO] [Bullet] Using shooter_position, distance=252,00003
[09:29:08] [INFO] [Bullet] Distance to wall: 252,00003 (17,159145% of viewport)
[09:29:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:08] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[09:29:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(522.9526, 796.9293)
[09:29:08] [INFO] [Bullet] Using shooter_position, distance=203,16003
[09:29:08] [INFO] [Bullet] Distance to wall: 203,16003 (13,833541% of viewport)
[09:29:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:08] [INFO] [Bullet] Starting wall penetration at (522.9526, 796.9293)
[09:29:08] [ENEMY] [Enemy4] PURSUING corner check: angle 165.5°
[09:29:08] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:29:08] [INFO] [Bullet] Exiting penetration at (537.56683, 826.8882) after traveling 28,333332 pixels through wall
[09:29:08] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[09:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.0°, player=(358,915), corner_timer=-0.01
[09:29:08] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[09:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-131.3°, player=(358,915), corner_timer=0.30
[09:29:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=175.9°, player=(358,915), corner_timer=-0.01
[09:29:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[09:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=178.1°, player=(358,915), corner_timer=0.30
[09:29:09] [ENEMY] [Enemy4] PURSUING corner check: angle -84.4°
[09:29:09] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[09:29:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:09] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 4/6
[09:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(423.48822, 708.35846)
[09:29:09] [INFO] [Bullet] Using shooter_position, distance=217,5697
[09:29:09] [INFO] [Bullet] Distance to wall: 217,5697 (14,814721% of viewport)
[09:29:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=125.2°, player=(358,915), corner_timer=-0.01
[09:29:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[09:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(358,915), corner_timer=0.30
[09:29:09] [INFO] [ReplayManager] Recording frame 300 (4,4s): player_valid=True, enemies=10
[09:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(422.10245, 708.05707)
[09:29:09] [INFO] [Bullet] Using shooter_position, distance=217,4466
[09:29:09] [INFO] [Bullet] Distance to wall: 217,4466 (14,806339% of viewport)
[09:29:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:09] [ENEMY] [Enemy1] PURSUING corner check: angle 24.2°
[09:29:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(418.8396, 707.4268)
[09:29:10] [INFO] [Bullet] Using shooter_position, distance=217,11676
[09:29:10] [INFO] [Bullet] Distance to wall: 217,11676 (14,78388% of viewport)
[09:29:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:10] [INFO] [Bullet] Starting wall penetration at (418.8396, 707.4268)
[09:29:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,65352
[09:29:10] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:10] [INFO] [Bullet] Exiting penetration at (424.9175, 669.5786) after traveling 33,333336 pixels through wall
[09:29:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.6°, player=(358,915), corner_timer=-0.01
[09:29:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[09:29:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(414.48245, 706.76245)
[09:29:10] [INFO] [Bullet] Using shooter_position, distance=216,5838
[09:29:10] [INFO] [Bullet] Distance to wall: 216,5838 (14,74759% of viewport)
[09:29:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:10] [INFO] [Bullet] Starting wall penetration at (414.48245, 706.76245)
[09:29:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(358,915), corner_timer=0.30
[09:29:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,46532
[09:29:10] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:10] [INFO] [Bullet] Exiting penetration at (418.43427, 668.634) after traveling 33,333336 pixels through wall
[09:29:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:10] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[09:29:10] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-84.4°, current=178.5°, player=(358,915), corner_timer=0.01
[09:29:10] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[09:29:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:10] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[09:29:10] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[09:29:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(410.28918, 706.3755)
[09:29:10] [INFO] [Bullet] Using shooter_position, distance=215,90953
[09:29:10] [INFO] [Bullet] Distance to wall: 215,90953 (14,701678% of viewport)
[09:29:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:10] [INFO] [Bullet] Starting wall penetration at (410.28918, 706.3755)
[09:29:10] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=24.2°, current=101.7°, player=(358,915), corner_timer=0.13
[09:29:10] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[09:29:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,924427
[09:29:10] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:10] [INFO] [Bullet] Exiting penetration at (412.59634, 668.1117) after traveling 33,333332 pixels through wall
[09:29:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:10] [ENEMY] [Enemy1] Hit: dmg=1, hp=3/3->2/3
[09:29:10] [INFO] [ImpactEffects] spawn_blood_effect called at (413.8689, 647.0073), dir=(1, 0), lethal=false
[09:29:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:10] [INFO] [ImpactEffects] Blood effect spawned at (413.8689, 647.0073) (scale=1)
[09:29:10] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[09:29:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(410.28918, 706.3755)
[09:29:10] [INFO] [Bullet] Using shooter_position, distance=215,90953
[09:29:10] [INFO] [Bullet] Distance to wall: 215,90953 (14,701678% of viewport)
[09:29:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:10] [INFO] [Bullet] Starting wall penetration at (410.28918, 706.3755)
[09:29:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,924427
[09:29:10] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:10] [INFO] [Bullet] Exiting penetration at (412.59634, 668.1117) after traveling 33,333332 pixels through wall
[09:29:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:10] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/3->1/3
[09:29:10] [INFO] [ImpactEffects] spawn_blood_effect called at (413.8689, 647.0073), dir=(1, 0), lethal=false
[09:29:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:10] [INFO] [ImpactEffects] Blood effect spawned at (413.8689, 647.0073) (scale=1)
[09:29:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.5°, player=(358,915), corner_timer=-0.01
[09:29:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[09:29:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(410.28918, 706.3755)
[09:29:10] [INFO] [Bullet] Using shooter_position, distance=215,90953
[09:29:10] [INFO] [Bullet] Distance to wall: 215,90953 (14,701678% of viewport)
[09:29:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.8°, player=(358,915), corner_timer=0.30
[09:29:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:10] [INFO] [BloodDecal] Blood puddle created at (470.0963, 675.4237) (added to group)
[09:29:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:10] [INFO] [BloodDecal] Blood puddle created at (492.2889, 648.7726) (added to group)
[09:29:10] [INFO] [BloodDecal] Blood puddle created at (503.7003, 664.4954) (added to group)
[09:29:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(410.28918, 706.3755)
[09:29:10] [INFO] [Bullet] Using shooter_position, distance=215,90953
[09:29:10] [INFO] [Bullet] Distance to wall: 215,90953 (14,701678% of viewport)
[09:29:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:10] [INFO] [Bullet] Starting wall penetration at (410.28918, 706.3755)
[09:29:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,924427
[09:29:10] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:10] [INFO] [Bullet] Exiting penetration at (412.59634, 668.1117) after traveling 33,333332 pixels through wall
[09:29:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:10] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/3->0/3
[09:29:10] [INFO] [ImpactEffects] spawn_blood_effect called at (413.8689, 647.0073), dir=(1, 0), lethal=true
[09:29:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:10] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:29:10] [INFO] [ImpactEffects] Blood effect spawned at (413.8689, 647.0073) (scale=1.5)
[09:29:10] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[09:29:10] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:29:10] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:29:10] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:29:10] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:29:10] [INFO] [PowerFantasy]   - Duration: 300ms
[09:29:10] [ENEMY] [Enemy1] [AllyDeath] Notified 3 enemies
[09:29:10] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 9)
[09:29:10] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:29:10] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[09:29:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:29:10] [INFO] [ReplayManager] Recording frame 360 (5,1s): player_valid=True, enemies=10
[09:29:11] [INFO] [PowerFantasy] Effect duration expired after 332.00 ms
[09:29:11] [INFO] [PowerFantasy] Ending power fantasy effect
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (482.2601, 660.2657) (added to group)
[09:29:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(408.08783, 711.60706)
[09:29:11] [INFO] [Bullet] Using shooter_position, distance=210,30362
[09:29:11] [INFO] [Bullet] Distance to wall: 210,30362 (14,319961% of viewport)
[09:29:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:11] [INFO] [Player.Homing] Homing effect expired, charges remaining: 4/6
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (476.485, 683.7729) (added to group)
[09:29:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.2°, current=89.4°, player=(358,915), corner_timer=-0.00
[09:29:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.1°
[09:29:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.1°, current=92.3°, player=(358,915), corner_timer=0.30
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (496.6548, 644.3344) (added to group)
[09:29:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (508.7239, 662.9614) (added to group)
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (480.5287, 633.0655) (added to group)
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (460.4791, 684.983) (added to group)
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (500.7528, 668.1579) (added to group)
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (621.4177, 662.8965) (added to group)
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (589.1113, 720.8187) (added to group)
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (530.2982, 699.4623) (added to group)
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (505.434, 643.9732) (added to group)
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (533.3176, 694.1616) (added to group)
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (565.4023, 717.8561) (added to group)
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (529.3833, 695.5816) (added to group)
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (511.4574, 654.4547) (added to group)
[09:29:11] [ENEMY] [Enemy1] Ragdoll activated
[09:29:11] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:29:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(791.8052, 49.684322)
[09:29:11] [INFO] [Bullet] Using shooter_position, distance=968,66675
[09:29:11] [INFO] [Bullet] Distance to wall: 968,66675 (65,958305% of viewport)
[09:29:11] [INFO] [Bullet] Distance-based penetration chance: 69,71532%
[09:29:11] [INFO] [Bullet] Starting wall penetration at (791.8052, 49.684322)
[09:29:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,891445
[09:29:11] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:11] [INFO] [Bullet] Exiting penetration at (812.6901, 7.9518776) after traveling 41,66667 pixels through wall
[09:29:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.1°, player=(358,915), corner_timer=-0.02
[09:29:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:29:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.0°, player=(358,915), corner_timer=0.30
[09:29:11] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 3/6
[09:29:11] [INFO] [Player.Homing] Enabled homing on 4 airborne bullets
[09:29:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(525.62427, 569.1916)
[09:29:11] [INFO] [Bullet] Using shooter_position, distance=385,00342
[09:29:11] [INFO] [Bullet] Distance to wall: 385,00342 (26,215591% of viewport)
[09:29:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:11] [INFO] [Bullet] Starting wall penetration at (525.62427, 569.1916)
[09:29:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:29:11] [INFO] [Bullet] Exiting penetration at (535.41693, 523.6045) after traveling 41,66667 pixels through wall
[09:29:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:11] [INFO] [BloodDecal] Blood puddle created at (608.6772, 675.3932) (added to group)
[09:29:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(760.226, 39.61905)
[09:29:11] [INFO] [Bullet] Using shooter_position, distance=964,0912
[09:29:11] [INFO] [Bullet] Distance to wall: 964,0912 (65,64674% of viewport)
[09:29:11] [INFO] [Bullet] Distance-based penetration chance: 70,078804%
[09:29:11] [INFO] [Bullet] Penetration failed (distance roll)
[09:29:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:29:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(552.8963, 39.098827)
[09:29:11] [INFO] [Bullet] Using shooter_position, distance=898,16724
[09:29:11] [INFO] [Bullet] Distance to wall: 898,16724 (61,15786% of viewport)
[09:29:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(403.0415, 706.0135)
[09:29:11] [INFO] [Bullet] Using shooter_position, distance=214,63365
[09:29:11] [INFO] [Bullet] Distance to wall: 214,63365 (14,614801% of viewport)
[09:29:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:11] [INFO] [LastChance] Threat detected: Bullet
[09:29:11] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[09:29:11] [INFO] [ReplayManager] Recording frame 420 (5,9s): player_valid=True, enemies=10
[09:29:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(403.0415, 706.01355)
[09:29:11] [INFO] [Bullet] Using shooter_position, distance=214,63358
[09:29:11] [INFO] [Bullet] Distance to wall: 214,63358 (14,614795% of viewport)
[09:29:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:11] [INFO] [Bullet] Starting wall penetration at (403.0415, 706.01355)
[09:29:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(358,915), corner_timer=-0.02
[09:29:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[09:29:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,368967
[09:29:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(62.368, 307.3971)
[09:29:11] [INFO] [Bullet] Using shooter_position, distance=676,6718
[09:29:11] [INFO] [Bullet] Distance to wall: 676,6718 (46,07583% of viewport)
[09:29:11] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:11] [INFO] [Bullet] Exiting penetration at (394.3087, 660.2116) after traveling 41,666668 pixels through wall
[09:29:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:11] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/4->0/4
[09:29:11] [INFO] [ImpactEffects] spawn_blood_effect called at (388.5251, 650.6812), dir=(1, 0), lethal=true
[09:29:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:11] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:29:11] [INFO] [ImpactEffects] Blood effect spawned at (388.5251, 650.6812) (scale=1.5)
[09:29:11] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[09:29:11] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[09:29:11] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:29:11] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:29:11] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:29:11] [INFO] [PowerFantasy]   - Duration: 300ms
[09:29:11] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[09:29:11] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[09:29:11] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:29:11] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[09:29:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(358,915), corner_timer=0.30
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2932, 915.9306), source=PLAYER (AssaultRifle), range=1469, listeners=8
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[09:29:11] [ENEMY] [Enemy1] Player ammo empty: false -> true
[09:29:11] [ENEMY] [Enemy2] Player ammo empty: false -> true
[09:29:11] [ENEMY] [Enemy3] Player ammo empty: false -> true
[09:29:11] [ENEMY] [Enemy4] Player ammo empty: false -> true
[09:29:11] [ENEMY] [Grenadier] Player ammo empty: false -> true
[09:29:11] [ENEMY] [Enemy6] Player ammo empty: false -> true
[09:29:11] [ENEMY] [Enemy7] Player ammo empty: false -> true
[09:29:11] [ENEMY] [Enemy8] Player ammo empty: false -> true
[09:29:11] [ENEMY] [Enemy9] Player ammo empty: false -> true
[09:29:11] [ENEMY] [Enemy10] Player ammo empty: false -> true
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:11] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=242
[09:29:11] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[09:29:11] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=208
[09:29:11] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:11] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=242), can_see=false
[09:29:11] [ENEMY] [Enemy3] Pursuing vulnerability sound at (358.2932, 915.9306), distance=242
[09:29:11] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=178.5°, current=-84.4°, player=(358,915), corner_timer=0.01
[09:29:11] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=208), can_see=false
[09:29:11] [ENEMY] [Enemy4] Pursuing vulnerability sound at (358.2932, 915.9306), distance=208
[09:29:11] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1456), can_see=false
[09:29:11] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1658), can_see=false
[09:29:11] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1253), can_see=false
[09:29:11] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1632), can_see=false
[09:29:11] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1854), can_see=false
[09:29:11] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1054), can_see=false
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:11] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=242
[09:29:11] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=208
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:11] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=242
[09:29:11] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=208
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:11] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=242
[09:29:11] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=208
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:11] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=241
[09:29:11] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=207
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:11] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=241
[09:29:11] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=207
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:11] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=241
[09:29:11] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=207
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:11] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=240
[09:29:11] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=206
[09:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=240
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=206
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=240
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=206
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(297.70712, 424.07532)
[09:29:12] [INFO] [Bullet] Using shooter_position, distance=495,5727
[09:29:12] [INFO] [Bullet] Distance to wall: 495,5727 (33,744457% of viewport)
[09:29:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=240
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=206
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=239
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=205
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=239
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=205
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=239
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=205
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=238
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=204
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=238
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=204
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=238
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=204
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=238
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=204
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=237
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=203
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=237
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=203
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [PowerFantasy] Effect duration expired after 323.00 ms
[09:29:12] [INFO] [PowerFantasy] Ending power fantasy effect
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=234
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=200
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=232
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=197
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=231
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=194
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=230
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=192
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(270.86935, 274.50494)
[09:29:12] [INFO] [Bullet] Using shooter_position, distance=647,356
[09:29:12] [INFO] [Bullet] Distance to wall: 647,356 (44,079666% of viewport)
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=229
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=193
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=234
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=194
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.04, distance=237
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=194
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=233
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=195
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=229
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=196
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=225
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=197
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=221
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=198
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=141.0°, current=161.5°, player=(358,915), corner_timer=0.00
[09:29:12] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(530.433, 776.668), source=ENEMY (Enemy3), range=1469, listeners=8
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=218
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=199
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (429.2142, 657.1625) (added to group)
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (450.4167, 653.4973) (added to group)
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (456.7012, 684.6007) (added to group)
[09:29:12] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=199), can_see=false
[09:29:12] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1456), can_see=false
[09:29:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1658), can_see=false
[09:29:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1253), can_see=false
[09:29:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1632), can_see=false
[09:29:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1854), can_see=false
[09:29:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1054), can_see=false
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=214
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=201
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[09:29:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(936.1819, 866.17426)
[09:29:12] [INFO] [Bullet] Using shooter_position, distance=580,02673
[09:29:12] [INFO] [Bullet] Distance to wall: 580,02673 (39,495087% of viewport)
[09:29:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:12] [INFO] [LastChance] Threat detected: @Area2D@7616
[09:29:12] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=210
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=202
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (470.9299, 657.7813) (added to group)
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=206
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=203
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.2°, current=89.3°, player=(358,915), corner_timer=-0.01
[09:29:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.1°
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=202
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=205
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:29:12] [INFO] [Player] Spawning blood effect at (358.29324, 915.9306), dir=(1, 0), lethal=False (C#)
[09:29:12] [INFO] [ImpactEffects] spawn_blood_effect called at (358.2932, 915.9306), dir=(1, 0), lethal=false
[09:29:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:12] [INFO] [ImpactEffects] Blood effect spawned at (358.2932, 915.9306) (scale=1)
[09:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.1°, current=92.2°, player=(358,915), corner_timer=0.30
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=199
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=206
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=195
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=208
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (464.5319, 679.471) (added to group)
[09:29:12] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(494.5982, 776.6129), source=ENEMY (Enemy3), range=1469, listeners=8
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[09:29:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=192
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=210
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(775.5952, 1012.8649)
[09:29:12] [INFO] [Bullet] Using shooter_position, distance=428,4124
[09:29:12] [INFO] [Bullet] Distance to wall: 428,4124 (29,171389% of viewport)
[09:29:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:12] [INFO] [LastChance] Threat detected: @Area2D@7629
[09:29:12] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(505.3614, 773.0693), source=NEUTRAL (null), range=900, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard CASING_KICK at (505.3614, 773.0693), intensity=1.00, dist=21
[09:29:12] [ENEMY] [Enemy4] Heard CASING_KICK at (505.3614, 773.0693), intensity=0.53, dist=69
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=188
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=211
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (490.6008, 633.6668) (added to group)
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=188
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.06, distance=213
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=188
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=215
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (524.9532, 688.1256) (added to group)
[09:29:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:29:12] [INFO] [Player] Spawning blood effect at (358.29324, 915.9306), dir=(1, 0), lethal=False (C#)
[09:29:12] [INFO] [ImpactEffects] spawn_blood_effect called at (358.2932, 915.9306), dir=(1, 0), lethal=false
[09:29:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:12] [INFO] [ImpactEffects] Blood effect spawned at (358.2932, 915.9306) (scale=1)
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=188
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=217
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.2932, 915.9306), source=PLAYER (Player), range=600, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.07, distance=188
[09:29:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (358.2932, 915.9306), intensity=0.05, distance=219
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (511.3018, 677.8604) (added to group)
[09:29:12] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.7905, 776.6129), source=ENEMY (Enemy3), range=1469, listeners=8
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[09:29:12] [ENEMY] [Enemy2] Ragdoll activated
[09:29:12] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:29:12] [INFO] [LastChance] Threat detected: @Area2D@7642
[09:29:12] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:29:12] [INFO] [Player] Spawning blood effect at (358.29324, 915.9306), dir=(1, 0), lethal=False (C#)
[09:29:12] [INFO] [ImpactEffects] spawn_blood_effect called at (358.2932, 915.9306), dir=(1, 0), lethal=false
[09:29:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:12] [INFO] [ImpactEffects] Blood effect spawned at (358.2932, 915.9306) (scale=1)
[09:29:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.29324, 915.9306), shooter_id=2061567527568, bullet_pos=(514.7059, 800.89844)
[09:29:12] [INFO] [Bullet] Using shooter_position, distance=194,15794
[09:29:12] [INFO] [Bullet] Distance to wall: 194,15794 (13,220572% of viewport)
[09:29:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:12] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[09:29:12] [INFO] [ImpactEffects] spawn_blood_effect called at (552.4811, 776.0577), dir=(1, 0), lethal=false
[09:29:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:12] [INFO] [ImpactEffects] Blood effect spawned at (552.4811, 776.0577) (scale=1)
[09:29:12] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.7905, 776.6129), source=ENEMY (Enemy3), range=1469, listeners=8
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[09:29:12] [INFO] [LastChance] Threat detected: Bullet
[09:29:12] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:12] [ENEMY] [Enemy1] Death animation completed
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (447.9669, 979.2631) (added to group)
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (421.8626, 908.1794) (added to group)
[09:29:12] [INFO] [ReplayManager] Recording frame 480 (6,6s): player_valid=True, enemies=10
[09:29:12] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=141.3°, current=98.7°, player=(358,915), corner_timer=0.01
[09:29:12] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(531.729, 777.1871), source=ENEMY (Enemy4), range=1469, listeners=8
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[09:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.1°, player=(358,915), corner_timer=-0.02
[09:29:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[09:29:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:29:12] [INFO] [Player] Spawning blood effect at (358.29324, 915.9306), dir=(1, 0), lethal=False (C#)
[09:29:12] [INFO] [ImpactEffects] spawn_blood_effect called at (358.2932, 915.9306), dir=(1, 0), lethal=false
[09:29:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:12] [INFO] [ImpactEffects] Blood effect spawned at (358.2932, 915.9306) (scale=1)
[09:29:12] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.8152, 756.6082), source=NEUTRAL (null), range=900, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard CASING_KICK at (500.8152, 756.6082), intensity=1.00, dist=26
[09:29:12] [ENEMY] [Enemy4] Heard CASING_KICK at (500.8152, 756.6082), intensity=1.00, dist=28
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.0°, player=(358,915), corner_timer=0.30
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (443.2172, 923.514) (added to group)
[09:29:12] [INFO] [LastChance] Threat detected: @Area2D@7664
[09:29:12] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:12] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.9079, 755.3451), source=NEUTRAL (null), range=900, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard CASING_KICK at (499.9079, 755.3451), intensity=1.00, dist=26
[09:29:12] [ENEMY] [Enemy4] Heard CASING_KICK at (499.9079, 755.3451), intensity=1.00, dist=26
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(498.4092, 753.3624), source=NEUTRAL (null), range=900, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard CASING_KICK at (498.4092, 753.3624), intensity=1.00, dist=27
[09:29:12] [ENEMY] [Enemy4] Heard CASING_KICK at (498.4092, 753.3624), intensity=1.00, dist=30
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:12] [INFO] [Player.Homing] Homing effect expired, charges remaining: 3/6
[09:29:12] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.7905, 776.6129), source=ENEMY (Enemy3), range=1469, listeners=8
[09:29:12] [ENEMY] [Enemy4] Heard gunshot at (484.7905, 776.6129), source_type=1, intensity=1.00, distance=33
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[09:29:12] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(496.7623, 751.2219), source=NEUTRAL (null), range=900, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard CASING_KICK at (496.7623, 751.2219), intensity=1.00, dist=28
[09:29:12] [ENEMY] [Enemy4] Heard CASING_KICK at (496.7623, 751.2219), intensity=1.00, dist=34
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (426.4042, 925.4575) (added to group)
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (444.9953, 931.8545) (added to group)
[09:29:12] [INFO] [LastChance] Threat detected: Bullet
[09:29:12] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:29:12] [INFO] [Player] Spawning blood effect at (358.29324, 915.9306), dir=(1, 0), lethal=False (C#)
[09:29:12] [INFO] [ImpactEffects] spawn_blood_effect called at (358.2932, 915.9306), dir=(1, 0), lethal=false
[09:29:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:12] [INFO] [ImpactEffects] Blood effect spawned at (358.2932, 915.9306) (scale=1)
[09:29:12] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.2926, 775.9337), source=ENEMY (Enemy4), range=1469, listeners=8
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (434.7079, 976.5806) (added to group)
[09:29:12] [INFO] [LastChance] Threat detected: @Area2D@7674
[09:29:12] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:29:12] [INFO] [Player] Spawning blood effect at (358.29324, 915.9306), dir=(1, 0), lethal=False (C#)
[09:29:12] [INFO] [ImpactEffects] spawn_blood_effect called at (358.2932, 915.9306), dir=(1, 0), lethal=false
[09:29:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:12] [INFO] [ImpactEffects] Blood effect spawned at (358.2932, 915.9306) (scale=1)
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(514.3424, 772.0058), source=NEUTRAL (null), range=900, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard CASING_KICK at (514.3424, 772.0058), intensity=1.00, dist=30
[09:29:12] [ENEMY] [Enemy4] Heard CASING_KICK at (514.3424, 772.0058), intensity=1.00, dist=13
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1456), can_see=false
[09:29:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1658), can_see=false
[09:29:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1253), can_see=false
[09:29:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1632), can_see=false
[09:29:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1854), can_see=false
[09:29:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1054), can_see=false
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(513.4719, 770.4819), source=NEUTRAL (null), range=900, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard CASING_KICK at (513.4719, 770.4819), intensity=1.00, dist=29
[09:29:12] [ENEMY] [Enemy4] Heard CASING_KICK at (513.4719, 770.4819), intensity=1.00, dist=16
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-84.4°, current=90.0°, player=(358,915), corner_timer=0.01
[09:29:12] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=222), can_see=false
[09:29:12] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(512.1597, 768.8986), source=NEUTRAL (null), range=900, listeners=8
[09:29:12] [ENEMY] [Enemy3] Heard CASING_KICK at (512.1597, 768.8986), intensity=1.00, dist=28
[09:29:12] [ENEMY] [Enemy4] Heard CASING_KICK at (512.1597, 768.8986), intensity=1.00, dist=20
[09:29:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (414.4783, 975.1511) (added to group)
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (416.7286, 933.6597) (added to group)
[09:29:12] [INFO] [BloodDecal] Blood puddle created at (400.4737, 929.2787) (added to group)
[09:29:13] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:29:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.7905, 776.6129), source=ENEMY (Enemy3), range=1469, listeners=8
[09:29:13] [ENEMY] [Enemy4] Heard gunshot at (484.7905, 776.6129), source_type=1, intensity=1.00, distance=47
[09:29:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[09:29:13] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=140.7°, current=87.7°, player=(358,915), corner_timer=0.01
[09:29:13] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[09:29:13] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(510.4262, 767.2684), source=NEUTRAL (null), range=900, listeners=8
[09:29:13] [ENEMY] [Enemy3] Heard CASING_KICK at (510.4262, 767.2684), intensity=1.00, dist=27
[09:29:13] [ENEMY] [Enemy4] Heard CASING_KICK at (510.4262, 767.2684), intensity=1.00, dist=25
[09:29:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:13] [INFO] [LastChance] Threat detected: Bullet
[09:29:13] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:29:13] [INFO] [Player] Spawning blood effect at (358.29324, 915.9306), dir=(1, 0), lethal=False (C#)
[09:29:13] [INFO] [ImpactEffects] spawn_blood_effect called at (358.2932, 915.9306), dir=(1, 0), lethal=false
[09:29:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:13] [INFO] [ImpactEffects] Blood effect spawned at (358.2932, 915.9306) (scale=1)
[09:29:13] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-84.4°, current=90.6°, player=(358,915), corner_timer=0.01
[09:29:13] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(508.2912, 765.6016), source=NEUTRAL (null), range=900, listeners=8
[09:29:13] [ENEMY] [Enemy3] Heard CASING_KICK at (508.2912, 765.6016), intensity=1.00, dist=26
[09:29:13] [ENEMY] [Enemy4] Heard CASING_KICK at (508.2912, 765.6016), intensity=1.00, dist=29
[09:29:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:13] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(505.7901, 763.851), source=NEUTRAL (null), range=900, listeners=8
[09:29:13] [ENEMY] [Enemy3] Heard CASING_KICK at (505.7901, 763.851), intensity=1.00, dist=25
[09:29:13] [ENEMY] [Enemy4] Heard CASING_KICK at (505.7901, 763.851), intensity=1.00, dist=34
[09:29:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (497.4036, 937.1546) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (438.5577, 943.7068) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (476.9841, 965.7277) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (466.076, 971.4493) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (408.8415, 916.2336) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (415.1454, 914.366) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (606.1572, 776.2189) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (598.8407, 791.1276) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (652.4075, 813.6549) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (624.2283, 777.8669) (added to group)
[09:29:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:29:13] [INFO] [Player] Spawning blood effect at (358.29324, 915.9306), dir=(1, 0), lethal=False (C#)
[09:29:13] [INFO] [ImpactEffects] spawn_blood_effect called at (358.2932, 915.9306), dir=(1, 0), lethal=false
[09:29:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:13] [INFO] [ImpactEffects] Blood effect spawned at (358.2932, 915.9306) (scale=1)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (475.2466, 903.086) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (665.5669, 795.9333) (added to group)
[09:29:13] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:29:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.7905, 776.6129), source=ENEMY (Enemy3), range=1469, listeners=8
[09:29:13] [ENEMY] [Enemy4] Heard gunshot at (484.7905, 776.6129), source_type=1, intensity=0.61, distance=64
[09:29:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[09:29:13] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=143.1°, current=86.1°, player=(358,915), corner_timer=0.01
[09:29:13] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[09:29:13] [INFO] [LastChance] Threat detected: Bullet
[09:29:13] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:13] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-84.4°, current=89.0°, player=(358,915), corner_timer=0.01
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (614.4233, 800.2204) (added to group)
[09:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(358,915), corner_timer=-0.02
[09:29:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[09:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(358,915), corner_timer=0.30
[09:29:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:29:13] [INFO] [Player] Spawning blood effect at (358.29324, 915.9306), dir=(1, 0), lethal=False (C#)
[09:29:13] [INFO] [ImpactEffects] spawn_blood_effect called at (358.2932, 915.9306), dir=(1, 0), lethal=false
[09:29:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:13] [INFO] [ImpactEffects] Blood effect spawned at (358.2932, 915.9306) (scale=1)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (443.5881, 995.6768) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (482.1191, 908.8526) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (404.855, 935.2952) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (416.2983, 916.6255) (added to group)
[09:29:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:13] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:29:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.7905, 776.6129), source=ENEMY (Enemy3), range=1469, listeners=8
[09:29:13] [ENEMY] [Enemy4] Heard gunshot at (484.7905, 776.6129), source_type=1, intensity=0.56, distance=67
[09:29:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[09:29:13] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=146.6°, current=149.1°, player=(358,915), corner_timer=0.01
[09:29:13] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (556.6559, 1096.897) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (470.2062, 1024.268) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (629.9554, 815.3599) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (663.0302, 857.015) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (424.8854, 905.3472) (added to group)
[09:29:13] [INFO] [LastChance] Threat detected: Bullet
[09:29:13] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:13] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-84.4°, current=146.6°, player=(358,915), corner_timer=0.01
[09:29:13] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[09:29:13] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (448.9936, 1009.184) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (434.5769, 917.0045) (added to group)
[09:29:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:29:13] [INFO] [Player] Spawning blood effect at (358.29324, 915.9306), dir=(1, 0), lethal=False (C#)
[09:29:13] [INFO] [ImpactEffects] spawn_blood_effect called at (358.2932, 915.9306), dir=(1, 0), lethal=false
[09:29:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:13] [INFO] [ImpactEffects] Blood effect spawned at (358.2932, 915.9306) (scale=1)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (457.592, 958.6906) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (491.7281, 1031.176) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (551.5977, 1098.016) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (448.3167, 974.1768) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (444.0274, 952.7018) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (451.2219, 961.6051) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (452.3461, 973.7939) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (413.1828, 958.1749) (added to group)
[09:29:13] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:29:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.7905, 776.6129), source=ENEMY (Enemy3), range=1469, listeners=8
[09:29:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[09:29:13] [INFO] [LastChance] Threat detected: Bullet
[09:29:13] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (494.0426, 976.2595) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (474.6152, 981.4881) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (427.433, 947.0731) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (477.1453, 918.5957) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (483.6514, 923.8107) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (439.5202, 983.129) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (418.5731, 954.8068) (added to group)
[09:29:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:29:13] [INFO] [Player] Spawning blood effect at (358.29324, 915.9306), dir=(1, 0), lethal=False (C#)
[09:29:13] [INFO] [ImpactEffects] spawn_blood_effect called at (358.2932, 915.9306), dir=(1, 0), lethal=false
[09:29:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:13] [INFO] [ImpactEffects] Blood effect spawned at (358.2932, 915.9306) (scale=1)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (487.1541, 915.4494) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (453.8547, 917.5127) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (452.5572, 966.5687) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (467.218, 966.8748) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (411.3538, 955.7132) (added to group)
[09:29:13] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:29:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.7905, 776.6129), source=ENEMY (Enemy3), range=1469, listeners=8
[09:29:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[09:29:13] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1456), can_see=false
[09:29:13] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1658), can_see=false
[09:29:13] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1253), can_see=false
[09:29:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1632), can_see=false
[09:29:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1854), can_see=false
[09:29:13] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1054), can_see=false
[09:29:13] [INFO] [LastChance] Threat detected: Bullet
[09:29:13] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(358,915), corner_timer=-0.02
[09:29:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (491.4557, 982.6834) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (482.3148, 1027) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (491.6982, 1018.414) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (470.9107, 896.0804) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (448.8821, 982.3823) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (454.4468, 919.4542) (added to group)
[09:29:13] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=227), can_see=false
[09:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(358,915), corner_timer=0.30
[09:29:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[09:29:13] [INFO] [Player] Spawning blood effect at (358.29324, 915.9306), dir=(1, 0), lethal=False (C#)
[09:29:13] [INFO] [ImpactEffects] spawn_blood_effect called at (358.2932, 915.9306), dir=(1, 0), lethal=false
[09:29:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:13] [INFO] [ImpactEffects] Blood effect spawned at (358.2932, 915.9306) (scale=1)
[09:29:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (503.8678, 1075.86) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (474.4902, 1034.228) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (473.8057, 938.0919) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (426.6994, 986.3612) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (467.3717, 906.1924) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (417.3911, 948.6242) (added to group)
[09:29:13] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:29:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.7905, 776.6129), source=ENEMY (Enemy3), range=1469, listeners=8
[09:29:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (465.1147, 1013.13) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (448.2825, 1032.562) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (486.6934, 952.5098) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (479.2767, 936.2593) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (437.0042, 972.5604) (added to group)
[09:29:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:13] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:13] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:13] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:13] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:13] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:13] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:13] [ENEMY] [Enemy1] Death animation component initialized
[09:29:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:13] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:13] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:13] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:13] [ENEMY] [Enemy2] Death animation component initialized
[09:29:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:13] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:13] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:13] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:13] [ENEMY] [Enemy3] Death animation component initialized
[09:29:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:13] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:13] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:13] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:13] [ENEMY] [Enemy4] Death animation component initialized
[09:29:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:13] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:13] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:13] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:13] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:13] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:13] [ENEMY] [Grenadier] Death animation component initialized
[09:29:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:13] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:13] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:13] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:13] [ENEMY] [Enemy6] Death animation component initialized
[09:29:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:13] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:13] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:13] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:13] [ENEMY] [Enemy7] Death animation component initialized
[09:29:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:13] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:13] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:13] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:29:13] [ENEMY] [Enemy8] Death animation component initialized
[09:29:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:13] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:13] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:13] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:13] [ENEMY] [Enemy9] Death animation component initialized
[09:29:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:13] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:13] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:13] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:13] [ENEMY] [Enemy10] Death animation component initialized
[09:29:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:13] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:13] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:13] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:13] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:13] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:13] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:13] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:13] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:13] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:13] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:13] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:13] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:13] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:13] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:13] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:13] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:13] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:13] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:13] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:13] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:13] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:13] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:13] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:13] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:13] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:13] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:13] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:13] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:13] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:13] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:13] [INFO] [ReplayManager] Replay data cleared
[09:29:13] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:13] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:13] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:13] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:13] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:13] [INFO] [ReplayManager] Enemies count: 10
[09:29:13] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:13] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:13] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:13] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:13] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:13] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:13] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:13] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:13] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:13] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:13] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:13] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (500.8946, 1019.233) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (502.6895, 1075.601) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (463.3474, 979.4819) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (486.2803, 1020.877) (added to group)
[09:29:13] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:13] [INFO] [CinemaEffects] Found player node: Player
[09:29:13] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:13] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[09:29:13] [ENEMY] [Enemy1] Registered as sound listener
[09:29:13] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:29:13] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:13] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[09:29:13] [ENEMY] [Enemy2] Registered as sound listener
[09:29:13] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:29:13] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:13] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[09:29:13] [ENEMY] [Enemy3] Registered as sound listener
[09:29:13] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:29:13] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:13] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[09:29:13] [ENEMY] [Enemy4] Registered as sound listener
[09:29:13] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:29:13] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:13] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 13)
[09:29:13] [ENEMY] [Grenadier] Registered as sound listener
[09:29:13] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:13] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:13] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[09:29:13] [ENEMY] [Enemy6] Registered as sound listener
[09:29:13] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:29:13] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:13] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[09:29:13] [ENEMY] [Enemy7] Registered as sound listener
[09:29:13] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:29:13] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:13] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[09:29:13] [ENEMY] [Enemy8] Registered as sound listener
[09:29:13] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:29:13] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:13] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[09:29:13] [ENEMY] [Enemy9] Registered as sound listener
[09:29:13] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:29:13] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:13] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[09:29:13] [ENEMY] [Enemy10] Registered as sound listener
[09:29:13] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:29:13] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:13] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:13] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:13] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:13] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:13] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:13] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:13] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:13] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:13] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:13] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:13] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:13] [INFO] [LastChance] Found player: Player
[09:29:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:13] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:13] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (498.1991, 1042.782) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (479.0535, 1017.979) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (436.2617, 956.3762) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (429.8409, 945.3621) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (423.8519, 937.7803) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (422.299, 927.0627) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (409.9943, 959.0129) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (453.2541, 954.5042) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (477.3731, 976.6688) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (457.839, 989.045) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (449.849, 971.5782) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (468.0057, 962.74) (added to group)
[09:29:13] [INFO] [BloodDecal] Blood puddle created at (456.7432, 1026.924) (added to group)
[09:29:14] [INFO] [BloodDecal] Blood puddle created at (514.7786, 1064.693) (added to group)
[09:29:14] [INFO] [BloodDecal] Blood puddle created at (419.2545, 978.8398) (added to group)
[09:29:14] [INFO] [BloodDecal] Blood puddle created at (451.0836, 991.1144) (added to group)
[09:29:14] [INFO] [BloodDecal] Blood puddle created at (501.5833, 1035.88) (added to group)
[09:29:14] [INFO] [BloodDecal] Blood puddle created at (469.8448, 952.7723) (added to group)
[09:29:14] [INFO] [BloodDecal] Blood puddle created at (488.9046, 953.1937) (added to group)
[09:29:14] [INFO] [BloodDecal] Blood puddle created at (545.6532, 1098.806) (added to group)
[09:29:14] [INFO] [BloodDecal] Blood puddle created at (475.846, 1025.961) (added to group)
[09:29:14] [INFO] [BloodDecal] Blood puddle created at (502.6986, 1045.748) (added to group)
[09:29:14] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:14] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(305.3036, 941.1708), source=PLAYER (AssaultRifle), range=1469, listeners=18
[09:29:15] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[09:29:15] [ENEMY] [Enemy2] Heard gunshot at (305.3036, 941.1708), source_type=0, intensity=0.02, distance=402
[09:29:15] [ENEMY] [Enemy3] Heard gunshot at (305.3036, 941.1708), source_type=0, intensity=0.01, distance=439
[09:29:15] [ENEMY] [Enemy4] Heard gunshot at (305.3036, 941.1708), source_type=0, intensity=0.01, distance=496
[09:29:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:15] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=103.6°, current=168.8°, player=(305,941), corner_timer=0.00
[09:29:15] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=154.2°, current=-168.8°, player=(305,941), corner_timer=0.00
[09:29:15] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=175.2°, current=168.8°, player=(305,941), corner_timer=0.00
[09:29:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(305.30362, 941.1708), shooter_id=2306397442336, bullet_pos=(521.40845, 806.7855)
[09:29:15] [INFO] [Bullet] Using shooter_position, distance=254,48123
[09:29:15] [INFO] [Bullet] Distance to wall: 254,48123 (17,328094% of viewport)
[09:29:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:15] [INFO] [Bullet] Starting wall penetration at (521.40845, 806.7855)
[09:29:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.919, 939.6178), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,962612
[09:29:15] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:15] [INFO] [Bullet] Exiting penetration at (566.2625, 793.906) after traveling 41,666668 pixels through wall
[09:29:15] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(398.0797, 704.4115)
[09:29:15] [INFO] [Bullet] Using shooter_position, distance=253,35399
[09:29:15] [INFO] [Bullet] Distance to wall: 253,35399 (17,251339% of viewport)
[09:29:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:15] [INFO] [Bullet] Starting wall penetration at (398.0797, 704.4115)
[09:29:15] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:15] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,19581
[09:29:15] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:15] [INFO] [Bullet] Exiting penetration at (394.1229, 657.9527) after traveling 41,66667 pixels through wall
[09:29:15] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:15] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[09:29:15] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:29:15] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(303,939), corner_timer=0.30
[09:29:15] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(303,939), corner_timer=0.30
[09:29:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.919, 939.6178), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:15] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=89.6°, current=-157.5°, player=(303,939), corner_timer=0.00
[09:29:15] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:29:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(398.83286, 704.7144)
[09:29:15] [INFO] [Bullet] Using shooter_position, distance=253,35397
[09:29:15] [INFO] [Bullet] Distance to wall: 253,35397 (17,251339% of viewport)
[09:29:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.919, 939.6178), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:15] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[09:29:15] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=0.0°, current=-156.4°, player=(303,939), corner_timer=0.00
[09:29:15] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:29:15] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:29:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(398.68213, 704.65356)
[09:29:15] [INFO] [Bullet] Using shooter_position, distance=253,35399
[09:29:15] [INFO] [Bullet] Distance to wall: 253,35399 (17,251339% of viewport)
[09:29:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:15] [INFO] [Bullet] Starting wall penetration at (398.68213, 704.65356)
[09:29:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,839247
[09:29:15] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:15] [INFO] [Bullet] Exiting penetration at (405.91516, 658.59094) after traveling 41,666668 pixels through wall
[09:29:15] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.919, 939.6178), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:15] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:29:15] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(303,939), corner_timer=-0.02
[09:29:15] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(303,939), corner_timer=-0.02
[09:29:15] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(303,939), corner_timer=0.30
[09:29:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(303,939), corner_timer=0.30
[09:29:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(519.77814, 806.9789)
[09:29:15] [INFO] [Bullet] Using shooter_position, distance=253,35399
[09:29:15] [INFO] [Bullet] Distance to wall: 253,35399 (17,251339% of viewport)
[09:29:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:15] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[09:29:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.919, 939.6178), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:15] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:29:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(519.5898, 806.67285)
[09:29:15] [INFO] [Bullet] Using shooter_position, distance=253,35399
[09:29:15] [INFO] [Bullet] Distance to wall: 253,35399 (17,251339% of viewport)
[09:29:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.919, 939.6178), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:15] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:29:15] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[09:29:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(519.47876, 806.493)
[09:29:15] [INFO] [Bullet] Using shooter_position, distance=253,35396
[09:29:15] [INFO] [Bullet] Distance to wall: 253,35396 (17,251339% of viewport)
[09:29:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:15] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:29:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.919, 939.6178), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:29:15] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:29:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(303,939), corner_timer=-0.02
[09:29:16] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:29:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(303,939), corner_timer=0.30
[09:29:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.919, 939.6178), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:29:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(497.79727, 708.06805)
[09:29:16] [INFO] [Bullet] Using shooter_position, distance=302,0001
[09:29:16] [INFO] [Bullet] Distance to wall: 302,0001 (20,563742% of viewport)
[09:29:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:16] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[09:29:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.919, 939.6178), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:29:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(497.73398, 708.0153)
[09:29:16] [INFO] [Bullet] Using shooter_position, distance=301,9999
[09:29:16] [INFO] [Bullet] Distance to wall: 301,9999 (20,563728% of viewport)
[09:29:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:16] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[09:29:16] [INFO] [ImpactEffects] spawn_blood_effect called at (704.2648, 914.0657), dir=(1, 0), lethal=false
[09:29:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:16] [INFO] [ImpactEffects] Blood effect spawned at (704.2648, 914.0657) (scale=1)
[09:29:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.919, 939.6178), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:29:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(503.04807, 701.5958)
[09:29:16] [INFO] [Bullet] Using shooter_position, distance=310,33344
[09:29:16] [INFO] [Bullet] Distance to wall: 310,33344 (21,131174% of viewport)
[09:29:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:16] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[09:29:16] [INFO] [ImpactEffects] spawn_blood_effect called at (704.2648, 914.0657), dir=(1, 0), lethal=true
[09:29:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:16] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:29:16] [INFO] [ImpactEffects] Blood effect spawned at (704.2648, 914.0657) (scale=1.5)
[09:29:16] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[09:29:16] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:29:16] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:29:16] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:29:16] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:29:16] [INFO] [PowerFantasy]   - Duration: 300ms
[09:29:16] [ENEMY] [Enemy4] [AllyDeath] Notified 3 enemies
[09:29:16] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[09:29:16] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:29:16] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[09:29:16] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[09:29:16] [INFO] [PowerFantasy] Ending power fantasy effect
[09:29:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(303,939), corner_timer=-0.01
[09:29:16] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[09:29:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(503.03387, 701.5843)
[09:29:16] [INFO] [Bullet] Using shooter_position, distance=310,33316
[09:29:16] [INFO] [Bullet] Distance to wall: 310,33316 (21,131157% of viewport)
[09:29:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:16] [INFO] [Bullet] Starting wall penetration at (503.03387, 701.5843)
[09:29:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.7°, player=(303,939), corner_timer=0.30
[09:29:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.919, 939.6178), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[09:29:16] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:29:16] [INFO] [Bullet] Exiting penetration at (532.97595, 665.78973) after traveling 41,666668 pixels through wall
[09:29:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(699.67065, 871.71136)
[09:29:16] [INFO] [Bullet] Using shooter_position, distance=401,53534
[09:29:16] [INFO] [Bullet] Distance to wall: 401,53534 (27,34128% of viewport)
[09:29:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (759.7115, 906.8909) (added to group)
[09:29:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(497.68466, 707.9738)
[09:29:16] [INFO] [Bullet] Using shooter_position, distance=302,0001
[09:29:16] [INFO] [Bullet] Distance to wall: 302,0001 (20,563742% of viewport)
[09:29:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.919, 939.6178), shooter_id=2306397442336, bullet_pos=(565.7678, 1000.26776)
[09:29:16] [INFO] [Bullet] Using shooter_position, distance=268,78098
[09:29:16] [INFO] [Bullet] Distance to wall: 268,78098 (18,30179% of viewport)
[09:29:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:16] [INFO] [Bullet] Starting wall penetration at (565.7678, 1000.26776)
[09:29:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0,8367124
[09:29:16] [INFO] [Bullet] Max penetration distance exceeded: 60,20834 >= 48
[09:29:16] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:16] [INFO] [Bullet] Exiting penetration at (518.729, 1045.4283) after traveling 60,20834 pixels through wall
[09:29:16] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (770.8143, 935.1925) (added to group)
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (778.3518, 963.6466) (added to group)
[09:29:16] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[09:29:16] [INFO] [ImpactEffects] spawn_blood_effect called at (550.8873, 821.4166), dir=(1, 0), lethal=false
[09:29:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:16] [INFO] [ImpactEffects] Blood effect spawned at (550.8873, 821.4166) (scale=1)
[09:29:16] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (779.9672, 942.7852) (added to group)
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (804.7003, 965.6588) (added to group)
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (776.6198, 960.9203) (added to group)
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (795.5964, 917.7712) (added to group)
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (783.0406, 926.3368) (added to group)
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (835.6572, 896.2823) (added to group)
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (770.1166, 918.3503) (added to group)
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (793.1882, 956.0153) (added to group)
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (791.6475, 936.2175) (added to group)
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (787.5467, 930.5326) (added to group)
[09:29:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(303,939), corner_timer=-0.02
[09:29:16] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (774.3846, 945.3191) (added to group)
[09:29:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(303,939), corner_timer=0.30
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (828.0131, 987.3534) (added to group)
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (857.3544, 971.0668) (added to group)
[09:29:16] [INFO] [BloodDecal] Blood puddle created at (774.7057, 929.42) (added to group)
[09:29:17] [ENEMY] [Enemy4] Ragdoll activated
[09:29:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (900.1842, 976.1768) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (808.9644, 974.249) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (820.497, 963.2621) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (838.9374, 941.4921) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (877.3529, 965.1078) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (838.9949, 927.8264) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (597.4825, 836.0684) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (902.8613, 937.8912) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (872.0013, 912.0834) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (845.6274, 956.2354) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (656.5018, 831.7219) (added to group)
[09:29:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:17] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:17] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:17] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:17] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:17] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:17] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:17] [ENEMY] [Enemy1] Death animation component initialized
[09:29:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:17] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:17] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:17] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:17] [ENEMY] [Enemy2] Death animation component initialized
[09:29:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:17] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:17] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:17] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:17] [ENEMY] [Enemy3] Death animation component initialized
[09:29:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:17] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:17] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:17] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:17] [ENEMY] [Enemy4] Death animation component initialized
[09:29:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:17] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:17] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:17] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:17] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:17] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:17] [ENEMY] [Grenadier] Death animation component initialized
[09:29:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:17] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:17] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:17] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:17] [ENEMY] [Enemy6] Death animation component initialized
[09:29:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:17] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:17] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:17] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:17] [ENEMY] [Enemy7] Death animation component initialized
[09:29:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:17] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:17] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:17] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:17] [ENEMY] [Enemy8] Death animation component initialized
[09:29:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:17] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:17] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:17] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:17] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:29:17] [ENEMY] [Enemy9] Death animation component initialized
[09:29:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:17] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:17] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:17] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:17] [ENEMY] [Enemy10] Death animation component initialized
[09:29:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:17] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:17] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:17] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:17] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:17] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:17] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:17] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:17] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:17] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:17] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:17] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:17] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:17] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:17] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:17] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:17] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:17] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:17] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:17] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:17] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:17] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:17] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:17] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:17] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:17] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:17] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:17] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:17] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:17] [INFO] [ReplayManager] Replay data cleared
[09:29:17] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:17] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:17] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:17] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:17] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:17] [INFO] [ReplayManager] Enemies count: 10
[09:29:17] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:17] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:17] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:17] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:17] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:17] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:17] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:17] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:17] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:17] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:17] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:17] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (665.0302, 819.5594) (added to group)
[09:29:17] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:17] [INFO] [CinemaEffects] Found player node: Player
[09:29:17] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:29:17] [ENEMY] [Enemy1] Registered as sound listener
[09:29:17] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:29:17] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:29:17] [ENEMY] [Enemy2] Registered as sound listener
[09:29:17] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:29:17] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:29:17] [ENEMY] [Enemy3] Registered as sound listener
[09:29:17] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:29:17] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:29:17] [ENEMY] [Enemy4] Registered as sound listener
[09:29:17] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:29:17] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:17] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:29:17] [ENEMY] [Grenadier] Registered as sound listener
[09:29:17] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:17] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:29:17] [ENEMY] [Enemy6] Registered as sound listener
[09:29:17] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:29:17] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:29:17] [ENEMY] [Enemy7] Registered as sound listener
[09:29:17] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:29:17] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:29:17] [ENEMY] [Enemy8] Registered as sound listener
[09:29:17] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:29:17] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:29:17] [ENEMY] [Enemy9] Registered as sound listener
[09:29:17] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:29:17] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:29:17] [ENEMY] [Enemy10] Registered as sound listener
[09:29:17] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:29:17] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:17] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:17] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:17] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:17] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:17] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:17] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:17] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:17] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:17] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:17] [INFO] [LastChance] Found player: Player
[09:29:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:17] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:17] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (656.9884, 879.1548) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (638.9124, 922.0285) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (674.3849, 901.2322) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (671.6777, 886.0604) (added to group)
[09:29:17] [INFO] [BloodDecal] Blood puddle created at (694.7038, 969.8508) (added to group)
[09:29:18] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:18] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:18] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:18] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,982), corner_timer=0.30
[09:29:18] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,982), corner_timer=0.30
[09:29:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(419,982), corner_timer=-0.02
[09:29:19] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(419,982), corner_timer=-0.02
[09:29:19] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:29:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(415,982), corner_timer=0.30
[09:29:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(415,982), corner_timer=0.30
[09:29:19] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:19] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:29:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(388,982), corner_timer=-0.02
[09:29:19] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:29:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(388,982), corner_timer=0.30
[09:29:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(388, 982.4445), source=PLAYER (AssaultRifle), range=1469, listeners=19
[09:29:19] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:29:19] [ENEMY] [Enemy2] Heard gunshot at (388, 982.4445), source_type=0, intensity=0.01, distance=433
[09:29:19] [ENEMY] [Enemy3] Heard gunshot at (388, 982.4445), source_type=0, intensity=0.02, distance=389
[09:29:19] [ENEMY] [Enemy4] Heard gunshot at (388, 982.4445), source_type=0, intensity=0.01, distance=420
[09:29:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:19] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=91.6°, current=45.0°, player=(388,982), corner_timer=0.00
[09:29:19] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=143.3°, current=123.7°, player=(388,982), corner_timer=0.00
[09:29:19] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=168.7°, current=-67.5°, player=(388,982), corner_timer=0.00
[09:29:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(388, 982.44446), shooter_id=2408755236375, bullet_pos=(504.49118, 851.9043)
[09:29:19] [INFO] [Bullet] Using shooter_position, distance=174,9598
[09:29:19] [INFO] [Bullet] Distance to wall: 174,9598 (11,913335% of viewport)
[09:29:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(388, 982.4445), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(388, 982.44446), shooter_id=2408755236375, bullet_pos=(404.77637, 703.77234)
[09:29:19] [INFO] [Bullet] Using shooter_position, distance=279,17664
[09:29:19] [INFO] [Bullet] Distance to wall: 279,17664 (19,009651% of viewport)
[09:29:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:19] [INFO] [Bullet] Starting wall penetration at (404.77637, 703.77234)
[09:29:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,214344
[09:29:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(388, 982.44446), shooter_id=2408755236375, bullet_pos=(504.4878, 851.9012)
[09:29:19] [INFO] [Bullet] Using shooter_position, distance=174,95985
[09:29:19] [INFO] [Bullet] Distance to wall: 174,95985 (11,913339% of viewport)
[09:29:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:19] [INFO] [Bullet] Starting wall penetration at (504.4878, 851.9012)
[09:29:19] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:19] [INFO] [Bullet] Exiting penetration at (396.8323, 664.1837) after traveling 35,416668 pixels through wall
[09:29:19] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[09:29:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,061867
[09:29:19] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:19] [INFO] [Bullet] Exiting penetration at (545.14886, 829.08105) after traveling 41,666668 pixels through wall
[09:29:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(388,982), corner_timer=-0.02
[09:29:19] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:29:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(388,982), corner_timer=0.30
[09:29:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(388, 982.4445), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:20] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[09:29:20] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:29:20] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=82.1°, current=-157.5°, player=(388,982), corner_timer=0.00
[09:29:20] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(388, 982.44446), shooter_id=2408755236375, bullet_pos=(504.4858, 851.8995)
[09:29:20] [INFO] [Bullet] Using shooter_position, distance=174,95981
[09:29:20] [INFO] [Bullet] Distance to wall: 174,95981 (11,913336% of viewport)
[09:29:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:20] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[09:29:20] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[09:29:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(388, 982.4445), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(388, 982.44446), shooter_id=2408755236375, bullet_pos=(412.02823, 699.1325)
[09:29:20] [INFO] [Bullet] Using shooter_position, distance=284,32907
[09:29:20] [INFO] [Bullet] Distance to wall: 284,32907 (19,36049% of viewport)
[09:29:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:20] [INFO] [Bullet] Starting wall penetration at (412.02823, 699.1325)
[09:29:20] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=157.0°, current=89.3°, player=(388,982), corner_timer=0.00
[09:29:20] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:29:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,05092
[09:29:20] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:20] [INFO] [Bullet] Exiting penetration at (406.00198, 659.207) after traveling 35,416668 pixels through wall
[09:29:20] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[09:29:20] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(388, 982.44446), shooter_id=2408755236375, bullet_pos=(504.48468, 851.89844)
[09:29:20] [INFO] [Bullet] Using shooter_position, distance=174,95984
[09:29:20] [INFO] [Bullet] Distance to wall: 174,95984 (11,913338% of viewport)
[09:29:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(388, 982.44446), shooter_id=2408755236375, bullet_pos=(404.07196, 704.23865)
[09:29:20] [INFO] [Bullet] Using shooter_position, distance=278,66968
[09:29:20] [INFO] [Bullet] Distance to wall: 278,66968 (18,975132% of viewport)
[09:29:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:20] [INFO] [Bullet] Starting wall penetration at (404.07196, 704.23865)
[09:29:20] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:29:20] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,72246
[09:29:20] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:20] [INFO] [Bullet] Exiting penetration at (395.9412, 664.688) after traveling 35,416668 pixels through wall
[09:29:20] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[09:29:20] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[09:29:20] [INFO] [ImpactEffects] spawn_blood_effect called at (374.1461, 661.014), dir=(1, 0), lethal=false
[09:29:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:20] [INFO] [ImpactEffects] Blood effect spawned at (374.1461, 661.014) (scale=1)
[09:29:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(388,982), corner_timer=-0.02
[09:29:20] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:29:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(388,982), corner_timer=0.30
[09:29:20] [ENEMY] [Enemy1] PURSUING corner check: angle -51.6°
[09:29:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:20] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:20] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:20] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:20] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:20] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:20] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:20] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:29:20] [ENEMY] [Enemy1] Death animation component initialized
[09:29:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:20] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:20] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:20] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:20] [ENEMY] [Enemy2] Death animation component initialized
[09:29:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:20] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:20] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:20] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:20] [ENEMY] [Enemy3] Death animation component initialized
[09:29:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:20] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:20] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:20] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:20] [ENEMY] [Enemy4] Death animation component initialized
[09:29:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:20] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:20] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:20] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:20] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:20] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:20] [ENEMY] [Grenadier] Death animation component initialized
[09:29:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:20] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:20] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:20] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:20] [ENEMY] [Enemy6] Death animation component initialized
[09:29:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:20] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:20] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:20] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:20] [ENEMY] [Enemy7] Death animation component initialized
[09:29:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:20] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:20] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:20] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:20] [ENEMY] [Enemy8] Death animation component initialized
[09:29:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:20] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:20] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:20] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:20] [ENEMY] [Enemy9] Death animation component initialized
[09:29:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:20] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:20] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:20] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:20] [ENEMY] [Enemy10] Death animation component initialized
[09:29:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:20] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:20] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:20] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:20] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:20] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:20] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:20] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:20] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:20] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:20] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:20] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:20] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:20] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:20] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:20] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:20] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:20] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:20] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:20] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:20] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:20] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:20] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:20] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:20] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:20] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:20] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:20] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:20] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:20] [INFO] [ReplayManager] Replay data cleared
[09:29:20] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:20] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:20] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:20] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:20] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:20] [INFO] [ReplayManager] Enemies count: 10
[09:29:20] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:20] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:20] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:20] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:20] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:20] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:20] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:20] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:20] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:20] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:20] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:20] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:20] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:20] [INFO] [CinemaEffects] Found player node: Player
[09:29:20] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:29:20] [ENEMY] [Enemy1] Registered as sound listener
[09:29:20] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:29:20] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:29:20] [ENEMY] [Enemy2] Registered as sound listener
[09:29:20] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:29:20] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:29:20] [ENEMY] [Enemy3] Registered as sound listener
[09:29:20] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:29:20] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:29:20] [ENEMY] [Enemy4] Registered as sound listener
[09:29:20] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:29:20] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:20] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:29:20] [ENEMY] [Grenadier] Registered as sound listener
[09:29:20] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:20] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:29:20] [ENEMY] [Enemy6] Registered as sound listener
[09:29:20] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:29:20] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:29:20] [ENEMY] [Enemy7] Registered as sound listener
[09:29:20] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:29:20] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:29:20] [ENEMY] [Enemy8] Registered as sound listener
[09:29:20] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:29:20] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:29:20] [ENEMY] [Enemy9] Registered as sound listener
[09:29:20] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:29:20] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:29:20] [ENEMY] [Enemy10] Registered as sound listener
[09:29:20] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:29:20] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:20] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:20] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:20] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:20] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:20] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:20] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:20] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:20] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:20] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:20] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:20] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:20] [INFO] [LastChance] Found player: Player
[09:29:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:20] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:20] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:20] [INFO] [BloodDecal] Blood puddle created at (466.239, 682.293) (added to group)
[09:29:20] [INFO] [BloodDecal] Blood puddle created at (512.3362, 651.5443) (added to group)
[09:29:21] [INFO] [BloodDecal] Blood puddle created at (547.5877, 675.3722) (added to group)
[09:29:21] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:22] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:22] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,972), corner_timer=0.30
[09:29:22] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,972), corner_timer=0.30
[09:29:22] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,972), corner_timer=-0.02
[09:29:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,972), corner_timer=-0.02
[09:29:22] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:29:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,972), corner_timer=0.30
[09:29:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,972), corner_timer=0.30
[09:29:22] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:29:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 972.3333), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:29:22] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:29:22] [ENEMY] [Enemy2] Heard gunshot at (450, 972.3333), source_type=0, intensity=0.01, distance=425
[09:29:22] [ENEMY] [Enemy3] Heard gunshot at (450, 972.3333), source_type=0, intensity=0.02, distance=335
[09:29:22] [ENEMY] [Enemy4] Heard gunshot at (450, 972.3333), source_type=0, intensity=0.02, distance=357
[09:29:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:22] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=83.2°, current=168.8°, player=(450,972), corner_timer=0.00
[09:29:22] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=138.4°, current=11.3°, player=(450,972), corner_timer=0.00
[09:29:22] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=168.3°, current=-101.3°, player=(450,972), corner_timer=0.00
[09:29:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 972.3333), shooter_id=2498211350588, bullet_pos=(428.31824, 714.8101)
[09:29:22] [INFO] [Bullet] Using shooter_position, distance=258,43433
[09:29:22] [INFO] [Bullet] Distance to wall: 258,43433 (17,59727% of viewport)
[09:29:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,972), corner_timer=-0.02
[09:29:22] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:29:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,972), corner_timer=0.30
[09:29:22] [INFO] [LastChance] Threat detected: Bullet
[09:29:22] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,972), corner_timer=-0.02
[09:29:23] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:29:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,972), corner_timer=0.30
[09:29:23] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:29:23] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:29:23] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:23] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:23] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:23] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:23] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:23] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:23] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:23] [ENEMY] [Enemy1] Death animation component initialized
[09:29:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:23] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:23] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:23] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:23] [ENEMY] [Enemy2] Death animation component initialized
[09:29:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:23] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:23] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:23] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:23] [ENEMY] [Enemy3] Death animation component initialized
[09:29:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:23] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:23] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:23] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:23] [ENEMY] [Enemy4] Death animation component initialized
[09:29:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:23] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:23] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:23] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:23] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:23] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:23] [ENEMY] [Grenadier] Death animation component initialized
[09:29:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:23] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:23] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:23] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:23] [ENEMY] [Enemy6] Death animation component initialized
[09:29:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:23] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:23] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:23] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:23] [ENEMY] [Enemy7] Death animation component initialized
[09:29:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:23] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:23] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:23] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:23] [ENEMY] [Enemy8] Death animation component initialized
[09:29:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:23] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:23] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:23] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:23] [ENEMY] [Enemy9] Death animation component initialized
[09:29:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:23] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:23] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:23] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:23] [ENEMY] [Enemy10] Death animation component initialized
[09:29:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:23] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:23] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:23] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:23] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:23] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:23] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:23] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:23] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:23] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:23] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:23] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:23] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:23] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:23] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:23] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:23] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:23] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:23] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:23] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:23] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:23] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:23] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:23] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:23] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:23] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:23] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:23] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:23] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:23] [INFO] [ReplayManager] Replay data cleared
[09:29:23] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:23] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:23] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:23] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:23] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:23] [INFO] [ReplayManager] Enemies count: 10
[09:29:23] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:23] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:23] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:23] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:23] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:23] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:23] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:23] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:23] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:23] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:23] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:23] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:23] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:23] [INFO] [CinemaEffects] Found player node: Player
[09:29:23] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:29:23] [ENEMY] [Enemy1] Registered as sound listener
[09:29:23] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:29:23] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:29:23] [ENEMY] [Enemy2] Registered as sound listener
[09:29:23] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:29:23] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:29:23] [ENEMY] [Enemy3] Registered as sound listener
[09:29:23] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:29:23] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:29:23] [ENEMY] [Enemy4] Registered as sound listener
[09:29:23] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:29:23] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:23] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:29:23] [ENEMY] [Grenadier] Registered as sound listener
[09:29:23] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:23] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:29:23] [ENEMY] [Enemy6] Registered as sound listener
[09:29:23] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:29:23] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:29:23] [ENEMY] [Enemy7] Registered as sound listener
[09:29:23] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[09:29:23] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:29:23] [ENEMY] [Enemy8] Registered as sound listener
[09:29:23] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:29:23] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:29:23] [ENEMY] [Enemy9] Registered as sound listener
[09:29:23] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:29:23] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:29:23] [ENEMY] [Enemy10] Registered as sound listener
[09:29:23] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:29:23] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:23] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:23] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:23] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:23] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:23] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:23] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:23] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:23] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:23] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:23] [INFO] [LastChance] Found player: Player
[09:29:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:23] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:23] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:24] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:24] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 870.6666), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:29:24] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:29:24] [ENEMY] [Enemy2] Heard gunshot at (450, 870.6666), source_type=0, intensity=0.02, distance=325
[09:29:24] [ENEMY] [Enemy3] Heard gunshot at (450, 870.6666), source_type=0, intensity=0.03, distance=278
[09:29:24] [ENEMY] [Enemy4] Heard gunshot at (450, 870.6666), source_type=0, intensity=0.02, distance=351
[09:29:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:24] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=81.1°, current=168.8°, player=(450,870), corner_timer=0.00
[09:29:24] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=154.2°, current=-33.8°, player=(450,870), corner_timer=0.00
[09:29:24] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-175.2°, current=-101.3°, player=(450,870), corner_timer=0.00
[09:29:24] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:24] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 870.6666), shooter_id=2566679170005, bullet_pos=(466.06552, 696.446)
[09:29:25] [INFO] [Bullet] Using shooter_position, distance=174,95981
[09:29:25] [INFO] [Bullet] Distance to wall: 174,95981 (11,913336% of viewport)
[09:29:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:25] [INFO] [Bullet] Starting wall penetration at (466.06552, 696.446)
[09:29:25] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:29:25] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:29:25] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,863), corner_timer=0.30
[09:29:25] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,863), corner_timer=0.30
[09:29:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,070255
[09:29:25] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:25] [INFO] [Bullet] Exiting penetration at (455.0339, 651.14276) after traveling 41,66667 pixels through wall
[09:29:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:25] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=73.7°, current=33.8°, player=(450,861), corner_timer=0.00
[09:29:25] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:29:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 857.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(472.8418, 852.2365), source=NEUTRAL (null), range=900, listeners=10
[09:29:25] [ENEMY] [Enemy2] Heard CASING_KICK at (472.8418, 852.2365), intensity=0.03, dist=268
[09:29:25] [ENEMY] [Enemy3] Heard CASING_KICK at (472.8418, 852.2365), intensity=0.05, dist=217
[09:29:25] [ENEMY] [Enemy4] Heard CASING_KICK at (472.8418, 852.2365), intensity=0.03, dist=313
[09:29:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[09:29:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(474.5162, 852.8491), source=NEUTRAL (null), range=900, listeners=10
[09:29:25] [ENEMY] [Enemy2] Heard CASING_KICK at (474.5162, 852.8491), intensity=0.04, dist=264
[09:29:25] [ENEMY] [Enemy3] Heard CASING_KICK at (474.5162, 852.8491), intensity=0.05, dist=216
[09:29:25] [ENEMY] [Enemy4] Heard CASING_KICK at (474.5162, 852.8491), intensity=0.03, dist=312
[09:29:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[09:29:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 855.9444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:25] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[09:29:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 857.4444), shooter_id=2566679170005, bullet_pos=(291.8468, 461.00406)
[09:29:25] [INFO] [Bullet] Using shooter_position, distance=426,82242
[09:29:25] [INFO] [Bullet] Distance to wall: 426,82242 (29,063124% of viewport)
[09:29:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:25] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:29:25] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:29:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 855.9444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:29:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,855), corner_timer=-0.02
[09:29:25] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,855), corner_timer=-0.02
[09:29:25] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:29:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 855.9444), shooter_id=2566679170005, bullet_pos=(288.24872, 460.95844)
[09:29:25] [INFO] [Bullet] Using shooter_position, distance=426,82242
[09:29:25] [INFO] [Bullet] Distance to wall: 426,82242 (29,063124% of viewport)
[09:29:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,855), corner_timer=0.30
[09:29:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,855), corner_timer=0.30
[09:29:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 857.4444), shooter_id=2566679170005, bullet_pos=(60.97375, 564.27295)
[09:29:25] [INFO] [Bullet] Using shooter_position, distance=487,12515
[09:29:25] [INFO] [Bullet] Distance to wall: 487,12515 (33,16925% of viewport)
[09:29:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:25] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[09:29:25] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[09:29:25] [INFO] [ImpactEffects] spawn_blood_effect called at (411.0501, 618.4468), dir=(1, 0), lethal=false
[09:29:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:25] [INFO] [ImpactEffects] Blood effect spawned at (411.0501, 618.4468) (scale=1)
[09:29:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:25] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:25] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:25] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:25] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:25] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:25] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:25] [ENEMY] [Enemy1] Death animation component initialized
[09:29:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:25] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:25] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:25] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:25] [ENEMY] [Enemy2] Death animation component initialized
[09:29:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:25] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:25] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:25] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:25] [ENEMY] [Enemy3] Death animation component initialized
[09:29:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:25] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:25] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:25] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:25] [ENEMY] [Enemy4] Death animation component initialized
[09:29:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:25] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:25] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:25] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:25] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:25] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:25] [ENEMY] [Grenadier] Death animation component initialized
[09:29:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:25] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:25] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:25] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:25] [ENEMY] [Enemy6] Death animation component initialized
[09:29:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:25] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:25] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:25] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:25] [ENEMY] [Enemy7] Death animation component initialized
[09:29:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:25] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:25] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:25] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:25] [ENEMY] [Enemy8] Death animation component initialized
[09:29:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:25] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:25] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:25] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:25] [ENEMY] [Enemy9] Death animation component initialized
[09:29:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:25] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:25] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:25] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:25] [ENEMY] [Enemy10] Death animation component initialized
[09:29:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:25] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:25] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:25] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:25] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:25] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:25] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:25] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:25] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:25] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:25] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:25] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:25] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:25] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:25] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:25] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:25] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:25] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:25] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:25] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:25] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:25] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:25] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:25] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:25] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:25] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:25] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:25] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:25] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:25] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:25] [INFO] [ReplayManager] Replay data cleared
[09:29:25] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:25] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:25] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:25] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:25] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:25] [INFO] [ReplayManager] Enemies count: 10
[09:29:25] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:25] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:25] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:25] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:25] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:25] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:25] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:25] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:25] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:25] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:25] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:25] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:25] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:25] [INFO] [CinemaEffects] Found player node: Player
[09:29:25] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:29:25] [ENEMY] [Enemy1] Registered as sound listener
[09:29:25] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:29:25] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:29:25] [ENEMY] [Enemy2] Registered as sound listener
[09:29:25] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:29:25] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:29:25] [ENEMY] [Enemy3] Registered as sound listener
[09:29:25] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:29:25] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:29:25] [ENEMY] [Enemy4] Registered as sound listener
[09:29:25] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:29:25] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:25] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:29:25] [ENEMY] [Grenadier] Registered as sound listener
[09:29:25] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:25] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:25] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:29:25] [ENEMY] [Enemy6] Registered as sound listener
[09:29:25] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:29:25] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:25] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:29:25] [ENEMY] [Enemy7] Registered as sound listener
[09:29:25] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:29:25] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:25] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:29:25] [ENEMY] [Enemy8] Registered as sound listener
[09:29:25] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:29:25] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:25] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:29:25] [ENEMY] [Enemy9] Registered as sound listener
[09:29:25] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:29:25] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:25] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:29:25] [ENEMY] [Enemy10] Registered as sound listener
[09:29:25] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:29:25] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:25] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:25] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:25] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:25] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:25] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:25] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:25] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:25] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:25] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:25] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:25] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:25] [INFO] [LastChance] Found player: Player
[09:29:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:25] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:25] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:25] [INFO] [BloodDecal] Blood puddle created at (495.171, 606.3572) (added to group)
[09:29:25] [INFO] [BloodDecal] Blood puddle created at (500.43, 625.1377) (added to group)
[09:29:25] [INFO] [BloodDecal] Blood puddle created at (537.926, 678.4395) (added to group)
[09:29:25] [INFO] [BloodDecal] Blood puddle created at (531.9469, 630.1859) (added to group)
[09:29:25] [INFO] [BloodDecal] Blood puddle created at (504.3794, 689.2216) (added to group)
[09:29:26] [INFO] [BloodDecal] Blood puddle created at (501.2673, 640.7274) (added to group)
[09:29:26] [INFO] [BloodDecal] Blood puddle created at (583.1403, 687.7959) (added to group)
[09:29:26] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:27] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:27] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:27] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:27] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(142,929), corner_timer=0.30
[09:29:27] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(142,929), corner_timer=0.30
[09:29:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(142,867), corner_timer=-0.02
[09:29:27] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(142,867), corner_timer=-0.02
[09:29:27] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:29:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(142,867), corner_timer=0.30
[09:29:27] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(142,867), corner_timer=0.30
[09:29:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:29:27] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:29:27] [ENEMY] [Enemy2] Heard gunshot at (142.2099, 867.0126), source_type=0, intensity=0.01, distance=409
[09:29:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:29:27] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=129.1°, current=-101.3°, player=(142,867), corner_timer=0.00
[09:29:27] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:29:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:29:27] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:29:27] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:29:27] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=107.0°, current=33.8°, player=(142,867), corner_timer=0.00
[09:29:27] [ENEMY] [Enemy1] PURSUING corner check: angle 61.7°
[09:29:27] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[09:29:27] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[09:29:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:27] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[09:29:27] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=168.2°, current=180.0°, player=(142,867), corner_timer=0.00
[09:29:27] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[09:29:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:29:27] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.2°, current=-17.0°, player=(142,867), corner_timer=0.00
[09:29:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(142,867), corner_timer=-0.01
[09:29:27] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[09:29:27] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(142,867), corner_timer=0.30
[09:29:27] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[09:29:27] [INFO] [ImpactEffects] spawn_blood_effect called at (674.9453, 755.2559), dir=(1, 0), lethal=true
[09:29:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:27] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:29:27] [INFO] [ImpactEffects] Blood effect spawned at (674.9453, 755.2559) (scale=1.5)
[09:29:27] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:29:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:29:27] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:29:27] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:29:27] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:29:27] [INFO] [PowerFantasy]   - Duration: 300ms
[09:29:27] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:29:27] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:29:27] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:29:27] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:29:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[09:29:28] [INFO] [PowerFantasy] Effect duration expired after 335.00 ms
[09:29:28] [INFO] [PowerFantasy] Ending power fantasy effect
[09:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[09:29:28] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:29:28] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (805.1655, 764.8061) (added to group)
[09:29:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.20995, 867.0126), shooter_id=2625164546184, bullet_pos=(340.65512, 709.5078)
[09:29:28] [INFO] [Bullet] Using shooter_position, distance=253,35397
[09:29:28] [INFO] [Bullet] Distance to wall: 253,35397 (17,251339% of viewport)
[09:29:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (797.1829, 744.7573) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (741.681, 737.3083) (added to group)
[09:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[09:29:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.20995, 867.0126), shooter_id=2625164546184, bullet_pos=(512.5122, 251.78305)
[09:29:28] [INFO] [Bullet] Using shooter_position, distance=718,0745
[09:29:28] [INFO] [Bullet] Distance to wall: 718,0745 (48,895016% of viewport)
[09:29:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(142,867), corner_timer=-0.01
[09:29:28] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (733.0718, 746.5966) (added to group)
[09:29:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.20995, 867.0126), shooter_id=2625164546184, bullet_pos=(233.72981, 265.4979)
[09:29:28] [INFO] [Bullet] Using shooter_position, distance=608,43713
[09:29:28] [INFO] [Bullet] Distance to wall: 608,43713 (41,429604% of viewport)
[09:29:28] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[09:29:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.7°, player=(142,867), corner_timer=0.30
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (780.6224, 825.2875) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (762.6043, 759.7648) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (768.5406, 806.7747) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (772.6629, 737.1854) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (754.7432, 774.3738) (added to group)
[09:29:28] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:29:28] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (729.2733, 773.3652) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (738.6234, 788.1036) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (795.8995, 775.1304) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (771.9427, 816.9554) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (784.4713, 825.5768) (added to group)
[09:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (858.521, 854.0559) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (779.6362, 780.7279) (added to group)
[09:29:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.20995, 867.0126), shooter_id=2625164546184, bullet_pos=(57.15382, 446.57187)
[09:29:28] [INFO] [Bullet] Using shooter_position, distance=428,95798
[09:29:28] [INFO] [Bullet] Distance to wall: 428,95798 (29,208538% of viewport)
[09:29:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:28] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[09:29:28] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[09:29:28] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=61.7°, current=100.5°, player=(142,867), corner_timer=0.09
[09:29:28] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[09:29:28] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[09:29:28] [ENEMY] [Enemy3] Ragdoll activated
[09:29:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (797.6027, 838.1071) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (803.2152, 835.4091) (added to group)
[09:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (876.1477, 762.2939) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (778.7413, 815.59) (added to group)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (788.2418, 784.993) (added to group)
[09:29:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.20995, 867.0126), shooter_id=2625164546184, bullet_pos=(978.5527, 290.48758)
[09:29:28] [INFO] [Bullet] Using shooter_position, distance=1015,8003
[09:29:28] [INFO] [Bullet] Distance to wall: 1015,8003 (69,16771% of viewport)
[09:29:28] [INFO] [Bullet] Distance-based penetration chance: 65,97101%
[09:29:28] [INFO] [Bullet] Penetration failed (distance roll)
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (828.6353, 816.0609) (added to group)
[09:29:28] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/3->2/3
[09:29:28] [INFO] [ImpactEffects] spawn_blood_effect called at (289.9203, 663.9337), dir=(1, 0), lethal=false
[09:29:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:28] [INFO] [ImpactEffects] Blood effect spawned at (289.9203, 663.9337) (scale=1)
[09:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[09:29:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(142,867), corner_timer=-0.02
[09:29:28] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[09:29:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=6.4°, player=(142,867), corner_timer=0.30
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (906.3467, 894.4772) (added to group)
[09:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[09:29:28] [INFO] [BloodDecal] Blood puddle created at (890.6694, 776.8228) (added to group)
[09:29:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.20995, 867.0126), shooter_id=2625164546184, bullet_pos=(1363.9641, 416.99075)
[09:29:29] [INFO] [Bullet] Using shooter_position, distance=1301,9995
[09:29:29] [INFO] [Bullet] Distance to wall: 1301,9995 (88,65554% of viewport)
[09:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[09:29:29] [INFO] [BloodDecal] Blood puddle created at (344.9911, 652.2014) (added to group)
[09:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[09:29:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.20995, 867.0126), shooter_id=2625164546184, bullet_pos=(1363.5343, 415.82568)
[09:29:29] [INFO] [Bullet] Using shooter_position, distance=1301,9995
[09:29:29] [INFO] [Bullet] Distance to wall: 1301,9995 (88,65554% of viewport)
[09:29:29] [INFO] [Bullet] Distance-based penetration chance: 43,235207%
[09:29:29] [INFO] [Bullet] Starting wall penetration at (1363.5343, 415.82568)
[09:29:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,584812
[09:29:29] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:29] [INFO] [Bullet] Exiting penetration at (1407.3093, 399.6541) after traveling 41,666668 pixels through wall
[09:29:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(142,867), corner_timer=-0.02
[09:29:29] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[09:29:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.7°, player=(142,867), corner_timer=0.30
[09:29:29] [INFO] [BloodDecal] Blood puddle created at (415.8856, 686.5673) (added to group)
[09:29:29] [INFO] [BloodDecal] Blood puddle created at (408.6187, 647.6299) (added to group)
[09:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 867.0126), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[09:29:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.20995, 867.0126), shooter_id=2625164546184, bullet_pos=(1363.3153, 415.23065)
[09:29:29] [INFO] [Bullet] Using shooter_position, distance=1302,0005
[09:29:29] [INFO] [Bullet] Distance to wall: 1302,0005 (88,65561% of viewport)
[09:29:29] [INFO] [Bullet] Distance-based penetration chance: 43,235123%
[09:29:29] [INFO] [Bullet] Penetration failed (distance roll)
[09:29:29] [INFO] [BloodDecal] Blood puddle created at (374.0103, 679.6628) (added to group)
[09:29:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.20995, 867.0126), shooter_id=2625164546184, bullet_pos=(1363.172, 414.8454)
[09:29:29] [INFO] [Bullet] Using shooter_position, distance=1301,9998
[09:29:29] [INFO] [Bullet] Distance to wall: 1301,9998 (88,65556% of viewport)
[09:29:29] [INFO] [Bullet] Distance-based penetration chance: 43,235184%
[09:29:29] [INFO] [Bullet] Penetration failed (distance roll)
[09:29:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.20995, 867.0126), shooter_id=2625164546184, bullet_pos=(1363.0739, 414.57864)
[09:29:29] [INFO] [Bullet] Using shooter_position, distance=1302,0005
[09:29:29] [INFO] [Bullet] Distance to wall: 1302,0005 (88,65561% of viewport)
[09:29:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.20995, 867.0126), shooter_id=2625164546184, bullet_pos=(1362.9987, 414.37595)
[09:29:29] [INFO] [Bullet] Using shooter_position, distance=1302,0004
[09:29:29] [INFO] [Bullet] Distance to wall: 1302,0004 (88,6556% of viewport)
[09:29:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.20995, 867.0126), shooter_id=2625164546184, bullet_pos=(1110.8057, 274.94733)
[09:29:29] [INFO] [Bullet] Using shooter_position, distance=1135,2175
[09:29:29] [INFO] [Bullet] Distance to wall: 1135,2175 (77,29905% of viewport)
[09:29:29] [INFO] [Bullet] Distance-based penetration chance: 56,484444%
[09:29:29] [INFO] [Bullet] Starting wall penetration at (1110.8057, 274.94733)
[09:29:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0,635101
[09:29:29] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:29] [INFO] [Bullet] Exiting penetration at (1044.4576, 238.22348) after traveling 35,416664 pixels through wall
[09:29:29] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[09:29:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:29] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:29] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:29] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:29] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:29] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:29] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:29] [ENEMY] [Enemy1] Death animation component initialized
[09:29:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:29] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:29] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:29] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:29] [ENEMY] [Enemy2] Death animation component initialized
[09:29:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:29] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:29] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:29] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:29] [ENEMY] [Enemy3] Death animation component initialized
[09:29:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:29] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:29] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:29] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:29] [ENEMY] [Enemy4] Death animation component initialized
[09:29:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:29] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:29] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:29] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:29] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:29] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:29] [ENEMY] [Grenadier] Death animation component initialized
[09:29:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:29] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:29] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:29] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:29] [ENEMY] [Enemy6] Death animation component initialized
[09:29:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:29] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:29] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:29] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:29] [ENEMY] [Enemy7] Death animation component initialized
[09:29:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:29] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:29] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:29] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:29] [ENEMY] [Enemy8] Death animation component initialized
[09:29:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:29] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:29] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:29] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:29] [ENEMY] [Enemy9] Death animation component initialized
[09:29:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:29] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:29] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:29] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:29] [ENEMY] [Enemy10] Death animation component initialized
[09:29:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:29] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:29] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:29] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:29] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:29] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:29] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:29] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:29] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:29] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:29] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:29] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:29] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:29] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:29] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:29] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:29] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:29] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:29] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:29] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:29] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:29] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:29] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:29] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:29] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:29] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:29] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:29] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:29] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:29] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:29] [INFO] [ReplayManager] Replay data cleared
[09:29:29] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:29] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:29] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:29] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:29] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:29] [INFO] [ReplayManager] Enemies count: 10
[09:29:29] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:29] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:29] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:29] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:29] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:29] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:29] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:29] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:29] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:29] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:29] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:29] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:29] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:29] [INFO] [CinemaEffects] Found player node: Player
[09:29:29] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:29:29] [ENEMY] [Enemy1] Registered as sound listener
[09:29:29] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:29:29] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:29:29] [ENEMY] [Enemy2] Registered as sound listener
[09:29:29] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:29:29] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:29:29] [ENEMY] [Enemy3] Registered as sound listener
[09:29:29] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:29:29] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:29:29] [ENEMY] [Enemy4] Registered as sound listener
[09:29:29] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:29:29] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:29] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:29:29] [ENEMY] [Grenadier] Registered as sound listener
[09:29:29] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:29] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:29:29] [ENEMY] [Enemy6] Registered as sound listener
[09:29:29] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:29:29] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:29:29] [ENEMY] [Enemy7] Registered as sound listener
[09:29:29] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:29:29] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:29:29] [ENEMY] [Enemy8] Registered as sound listener
[09:29:29] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:29:29] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:29:29] [ENEMY] [Enemy9] Registered as sound listener
[09:29:29] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:29:29] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:29:29] [ENEMY] [Enemy10] Registered as sound listener
[09:29:29] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:29:29] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:29] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:29] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:29] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:29] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:29] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:29] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:29] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:29] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:29] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:29] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:29] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:29] [INFO] [LastChance] Found player: Player
[09:29:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:29] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:29] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:30] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:31] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:31] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:31] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,932), corner_timer=0.30
[09:29:31] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,932), corner_timer=0.30
[09:29:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 932.9444), source=PLAYER (AssaultRifle), range=1469, listeners=19
[09:29:31] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:29:31] [ENEMY] [Enemy2] Heard gunshot at (450, 932.9444), source_type=0, intensity=0.02, distance=386
[09:29:31] [ENEMY] [Enemy3] Heard gunshot at (450, 932.9444), source_type=0, intensity=0.03, distance=310
[09:29:31] [ENEMY] [Enemy4] Heard gunshot at (450, 932.9444), source_type=0, intensity=0.02, distance=352
[09:29:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:31] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=82.6°, current=168.8°, player=(450,932), corner_timer=0.00
[09:29:31] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=143.8°, current=-123.8°, player=(450,932), corner_timer=0.00
[09:29:31] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=174.6°, current=-101.3°, player=(450,932), corner_timer=0.00
[09:29:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 932.9444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:31] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[09:29:31] [INFO] [ImpactEffects] spawn_blood_effect called at (404.8334, 587.0192), dir=(1, 0), lethal=false
[09:29:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:31] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 587.0192) (dist=95 px)
[09:29:31] [INFO] [BloodDecal] Blood puddle created at (499, 587.0192) (added to group)
[09:29:31] [INFO] [ImpactEffects] Blood effect spawned at (404.8334, 587.0192) (scale=1)
[09:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 932.9444), shooter_id=2696820034802, bullet_pos=(424.64328, 700.0905)
[09:29:31] [INFO] [Bullet] Using shooter_position, distance=234,23042
[09:29:31] [INFO] [Bullet] Distance to wall: 234,23042 (15,949181% of viewport)
[09:29:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 932.9444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.4°, player=(450,932), corner_timer=-0.00
[09:29:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(450,932), corner_timer=-0.00
[09:29:31] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[09:29:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(450,932), corner_timer=0.30
[09:29:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(450,932), corner_timer=0.30
[09:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 932.9444), shooter_id=2696820034802, bullet_pos=(419.03174, 684.30365)
[09:29:31] [INFO] [Bullet] Using shooter_position, distance=250,56189
[09:29:31] [INFO] [Bullet] Distance to wall: 250,56189 (17,06122% of viewport)
[09:29:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:31] [INFO] [Bullet] Starting wall penetration at (419.03174, 684.30365)
[09:29:31] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[09:29:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,25845
[09:29:31] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:31] [INFO] [Bullet] Exiting penetration at (408.46255, 647.46265) after traveling 33,333336 pixels through wall
[09:29:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:31] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[09:29:31] [INFO] [ImpactEffects] spawn_blood_effect called at (407.0648, 642.7162), dir=(1, 0), lethal=true
[09:29:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:31] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:29:31] [INFO] [ImpactEffects] Blood effect spawned at (407.0648, 642.7162) (scale=1.5)
[09:29:31] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[09:29:31] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:29:31] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:29:31] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:29:31] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:29:31] [INFO] [PowerFantasy]   - Duration: 300ms
[09:29:31] [ENEMY] [Enemy2] [AllyDeath] Notified 3 enemies
[09:29:31] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[09:29:31] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:29:31] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[09:29:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 932.9444), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[09:29:31] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[09:29:32] [INFO] [PowerFantasy] Effect duration expired after 320.00 ms
[09:29:32] [INFO] [PowerFantasy] Ending power fantasy effect
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (491.7082, 612.4657) (added to group)
[09:29:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 932.9444), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (452.8085, 599.8866) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (465.31, 619.9417) (added to group)
[09:29:32] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:29:32] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (484.1101, 602.7942) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (479.9457, 617.9547) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (492.8021, 643.1558) (added to group)
[09:29:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 932.9444), shooter_id=2696820034802, bullet_pos=(917.6817, 642.9738)
[09:29:32] [INFO] [Bullet] Using shooter_position, distance=550,28094
[09:29:32] [INFO] [Bullet] Distance to wall: 550,28094 (37,469643% of viewport)
[09:29:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:32] [INFO] [Bullet] Starting wall penetration at (917.6817, 642.9738)
[09:29:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,320652
[09:29:32] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:32] [INFO] [Bullet] Exiting penetration at (961.8693, 657.9815) after traveling 41,666664 pixels through wall
[09:29:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(450,932), corner_timer=-0.00
[09:29:32] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[09:29:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=17.1°, player=(450,932), corner_timer=0.30
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (491.3207, 649.8724) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (490.1107, 634.9702) (added to group)
[09:29:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:32] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:32] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:32] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:32] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:32] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:32] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:32] [ENEMY] [Enemy1] Death animation component initialized
[09:29:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:32] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:32] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:32] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:32] [ENEMY] [Enemy2] Death animation component initialized
[09:29:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:32] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:32] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:32] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:32] [ENEMY] [Enemy3] Death animation component initialized
[09:29:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:32] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:32] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:32] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:32] [ENEMY] [Enemy4] Death animation component initialized
[09:29:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:32] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:32] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:32] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:32] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:32] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:32] [ENEMY] [Grenadier] Death animation component initialized
[09:29:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:32] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:32] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:32] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:32] [ENEMY] [Enemy6] Death animation component initialized
[09:29:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:32] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:32] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:32] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:32] [ENEMY] [Enemy7] Death animation component initialized
[09:29:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:32] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:32] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:32] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:32] [ENEMY] [Enemy8] Death animation component initialized
[09:29:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:32] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:32] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:32] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:32] [ENEMY] [Enemy9] Death animation component initialized
[09:29:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:32] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:32] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:32] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:32] [ENEMY] [Enemy10] Death animation component initialized
[09:29:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:32] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:32] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:32] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:32] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:32] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:32] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:32] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:32] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:32] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:32] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:32] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:32] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:32] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:32] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:32] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:32] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:32] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:32] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:32] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:32] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:32] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:32] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:32] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:32] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:32] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:32] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:32] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:32] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:32] [INFO] [ReplayManager] Replay data cleared
[09:29:32] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:32] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:32] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:32] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:32] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:32] [INFO] [ReplayManager] Enemies count: 10
[09:29:32] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:32] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:32] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:32] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:32] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:32] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:32] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:32] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:32] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:32] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:32] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:32] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (570.3209, 664.951) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (513.415, 671.6779) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (470.782, 673.0255) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (519.8265, 676.9614) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (505.3356, 648.3255) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (501.2856, 624.6557) (added to group)
[09:29:32] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:32] [INFO] [CinemaEffects] Found player node: Player
[09:29:32] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:29:32] [ENEMY] [Enemy1] Registered as sound listener
[09:29:32] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:29:32] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:29:32] [ENEMY] [Enemy2] Registered as sound listener
[09:29:32] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:29:32] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:29:32] [ENEMY] [Enemy3] Registered as sound listener
[09:29:32] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:29:32] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:29:32] [ENEMY] [Enemy4] Registered as sound listener
[09:29:32] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:29:32] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:32] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:29:32] [ENEMY] [Grenadier] Registered as sound listener
[09:29:32] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:32] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:29:32] [ENEMY] [Enemy6] Registered as sound listener
[09:29:32] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:29:32] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:29:32] [ENEMY] [Enemy7] Registered as sound listener
[09:29:32] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:29:32] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:29:32] [ENEMY] [Enemy8] Registered as sound listener
[09:29:32] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:29:32] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:29:32] [ENEMY] [Enemy9] Registered as sound listener
[09:29:32] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:29:32] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:29:32] [ENEMY] [Enemy10] Registered as sound listener
[09:29:32] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:29:32] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:32] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:32] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:32] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:32] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:32] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:32] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:32] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:32] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:32] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[09:29:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:32] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:32] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:32] [INFO] [LastChance] Found player: Player
[09:29:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:32] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:32] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (601.559, 687.9717) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (566.8578, 668.5876) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (539.0406, 636.872) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (544.0192, 703.2749) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (581.0063, 679.2047) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (621.5297, 682.8988) (added to group)
[09:29:32] [INFO] [BloodDecal] Blood puddle created at (543.4219, 695.8428) (added to group)
[09:29:33] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:33] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:34] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:34] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:34] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(326,1002), corner_timer=0.30
[09:29:34] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(326,1002), corner_timer=0.30
[09:29:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(326.1901, 1002.853), source=PLAYER (AssaultRifle), range=1469, listeners=19
[09:29:34] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:29:34] [ENEMY] [Enemy2] Heard gunshot at (326.1901, 1002.853), source_type=0, intensity=0.01, distance=459
[09:29:34] [ENEMY] [Enemy3] Heard gunshot at (326.1901, 1002.853), source_type=0, intensity=0.01, distance=451
[09:29:34] [ENEMY] [Enemy4] Heard gunshot at (326.1901, 1002.853), source_type=0, intensity=0.01, distance=485
[09:29:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:34] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=99.3°, current=168.8°, player=(326,1002), corner_timer=0.00
[09:29:34] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=145.9°, current=-33.8°, player=(326,1002), corner_timer=0.00
[09:29:34] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=167.8°, current=-67.5°, player=(326,1002), corner_timer=0.00
[09:29:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(326.1901, 1002.853), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(326.19012, 1002.8534), shooter_id=2754684651145, bullet_pos=(378.4703, 706.2323)
[09:29:34] [INFO] [Bullet] Using shooter_position, distance=301,1931
[09:29:34] [INFO] [Bullet] Distance to wall: 301,1931 (20,508793% of viewport)
[09:29:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:34] [INFO] [Bullet] Starting wall penetration at (378.4703, 706.2323)
[09:29:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,280132
[09:29:34] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:34] [INFO] [Bullet] Exiting penetration at (384.49222, 659.95575) after traveling 41,666668 pixels through wall
[09:29:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(326.19012, 1002.8534), shooter_id=2754684651145, bullet_pos=(377.72382, 706.0872)
[09:29:34] [INFO] [Bullet] Using shooter_position, distance=301,20737
[09:29:34] [INFO] [Bullet] Distance to wall: 301,20737 (20,509764% of viewport)
[09:29:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:34] [INFO] [Bullet] Starting wall penetration at (377.72382, 706.0872)
[09:29:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,433329
[09:29:34] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:34] [INFO] [Bullet] Exiting penetration at (383.60333, 659.7924) after traveling 41,66667 pixels through wall
[09:29:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(326.1901, 1002.853), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(326,1002), corner_timer=-0.02
[09:29:34] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(326,1002), corner_timer=-0.02
[09:29:34] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:29:34] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[09:29:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(326,1002), corner_timer=0.30
[09:29:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(326,1002), corner_timer=0.30
[09:29:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(326.19012, 1002.8534), shooter_id=2754684651145, bullet_pos=(374.41763, 705.67944)
[09:29:34] [INFO] [Bullet] Using shooter_position, distance=301,06186
[09:29:34] [INFO] [Bullet] Distance to wall: 301,06186 (20,499857% of viewport)
[09:29:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:34] [INFO] [Bullet] Starting wall penetration at (374.41763, 705.67944)
[09:29:34] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=122.5°, current=-149.3°, player=(326,1002), corner_timer=0.00
[09:29:34] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:29:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,964777
[09:29:34] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:34] [INFO] [Bullet] Exiting penetration at (375.94955, 659.0455) after traveling 41,66667 pixels through wall
[09:29:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:34] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/3->2/3
[09:29:34] [INFO] [ImpactEffects] spawn_blood_effect called at (375.9707, 658.2503), dir=(1, 0), lethal=false
[09:29:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:34] [INFO] [ImpactEffects] Blood effect spawned at (375.9707, 658.2503) (scale=1)
[09:29:34] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:29:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(326.1901, 1002.853), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:34] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:29:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(326.1901, 1002.853), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(326.19012, 1002.8534), shooter_id=2754684651145, bullet_pos=(370.40442, 713.5829)
[09:29:34] [INFO] [Bullet] Using shooter_position, distance=292,63004
[09:29:34] [INFO] [Bullet] Distance to wall: 292,63004 (19,925718% of viewport)
[09:29:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:34] [INFO] [Bullet] Starting wall penetration at (370.40442, 713.5829)
[09:29:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,6213665
[09:29:34] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:34] [INFO] [Bullet] Exiting penetration at (374.24127, 675.442) after traveling 33,333336 pixels through wall
[09:29:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:34] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/3->1/3
[09:29:34] [INFO] [ImpactEffects] spawn_blood_effect called at (375.9707, 658.2503), dir=(1, 0), lethal=false
[09:29:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:34] [INFO] [ImpactEffects] Blood effect spawned at (375.9707, 658.2503) (scale=1)
[09:29:34] [ENEMY] [Enemy1] Memory: medium confidence (0.58) - transitioning to PURSUING
[09:29:34] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:29:34] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:29:34] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:34] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=87.7°, current=-33.8°, player=(326,1002), corner_timer=0.00
[09:29:34] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:29:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(326.1901, 1002.853), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(326.19012, 1002.8534), shooter_id=2754684651145, bullet_pos=(372.94897, 688.7655)
[09:29:34] [INFO] [Bullet] Using shooter_position, distance=317,54935
[09:29:34] [INFO] [Bullet] Distance to wall: 317,54935 (21,622519% of viewport)
[09:29:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:34] [INFO] [Bullet] Starting wall penetration at (372.94897, 688.7655)
[09:29:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,564053
[09:29:34] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:34] [INFO] [Bullet] Exiting penetration at (376.7264, 650.6188) after traveling 33,333332 pixels through wall
[09:29:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:34] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/3->0/3
[09:29:34] [INFO] [ImpactEffects] spawn_blood_effect called at (375.9707, 658.2503), dir=(1, 0), lethal=true
[09:29:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:34] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:29:34] [INFO] [ImpactEffects] Blood effect spawned at (375.9707, 658.2503) (scale=1.5)
[09:29:34] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[09:29:34] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:29:34] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:29:34] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:29:34] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:29:34] [INFO] [PowerFantasy]   - Duration: 300ms
[09:29:34] [ENEMY] [Enemy2] [AllyDeath] Notified 3 enemies
[09:29:34] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[09:29:34] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:29:34] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[09:29:34] [INFO] [BloodDecal] Blood puddle created at (430.0398, 648.5066) (added to group)
[09:29:34] [INFO] [BloodDecal] Blood puddle created at (430.3683, 687.1684) (added to group)
[09:29:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(326,1002), corner_timer=-0.00
[09:29:34] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[09:29:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=14.5°, player=(326,1002), corner_timer=0.30
[09:29:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:35] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:35] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:35] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:35] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:35] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:35] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:35] [ENEMY] [Enemy1] Death animation component initialized
[09:29:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:35] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:35] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:35] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:35] [ENEMY] [Enemy2] Death animation component initialized
[09:29:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:35] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:35] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:35] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:35] [ENEMY] [Enemy3] Death animation component initialized
[09:29:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:35] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:35] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:35] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:35] [ENEMY] [Enemy4] Death animation component initialized
[09:29:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:35] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:35] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:35] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:35] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:35] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:35] [ENEMY] [Grenadier] Death animation component initialized
[09:29:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:35] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:35] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:35] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:35] [ENEMY] [Enemy6] Death animation component initialized
[09:29:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:35] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:35] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:35] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:35] [ENEMY] [Enemy7] Death animation component initialized
[09:29:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:35] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:35] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:35] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:35] [ENEMY] [Enemy8] Death animation component initialized
[09:29:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:35] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:35] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:35] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:35] [ENEMY] [Enemy9] Death animation component initialized
[09:29:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:35] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:35] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:35] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:35] [ENEMY] [Enemy10] Death animation component initialized
[09:29:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:35] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:35] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:35] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:35] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:35] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:35] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:35] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:35] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:35] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:35] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:35] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:35] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:35] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:35] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:35] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:35] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:35] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:35] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:35] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:35] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:35] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:35] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:35] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:35] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:35] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:35] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:35] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:35] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:35] [INFO] [ReplayManager] Replay data cleared
[09:29:35] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:35] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:35] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:35] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:35] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:35] [INFO] [ReplayManager] Enemies count: 10
[09:29:35] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:35] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:35] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:35] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:35] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:35] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:35] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:35] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:35] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:35] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:35] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:35] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:35] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:35] [INFO] [CinemaEffects] Found player node: Player
[09:29:35] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:29:35] [ENEMY] [Enemy1] Registered as sound listener
[09:29:35] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:29:35] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:29:35] [ENEMY] [Enemy2] Registered as sound listener
[09:29:35] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:29:35] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:29:35] [ENEMY] [Enemy3] Registered as sound listener
[09:29:35] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:29:35] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:29:35] [ENEMY] [Enemy4] Registered as sound listener
[09:29:35] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:29:35] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:35] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:29:35] [ENEMY] [Grenadier] Registered as sound listener
[09:29:35] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:35] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:29:35] [ENEMY] [Enemy6] Registered as sound listener
[09:29:35] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:29:35] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:29:35] [ENEMY] [Enemy7] Registered as sound listener
[09:29:35] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:29:35] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:29:35] [ENEMY] [Enemy8] Registered as sound listener
[09:29:35] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:29:35] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:29:35] [ENEMY] [Enemy9] Registered as sound listener
[09:29:35] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:29:35] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:29:35] [ENEMY] [Enemy10] Registered as sound listener
[09:29:35] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:29:35] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:35] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:35] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:35] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:35] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:35] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:35] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:35] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:35] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:35] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:35] [INFO] [LastChance] Found player: Player
[09:29:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:35] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:35] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:35] [INFO] [BloodDecal] Blood puddle created at (456.6485, 666.1959) (added to group)
[09:29:35] [INFO] [BloodDecal] Blood puddle created at (452.1412, 654.6705) (added to group)
[09:29:35] [INFO] [BloodDecal] Blood puddle created at (439.1319, 669.3618) (added to group)
[09:29:35] [INFO] [BloodDecal] Blood puddle created at (418.9299, 684.8737) (added to group)
[09:29:35] [INFO] [BloodDecal] Blood puddle created at (514.8419, 682.5303) (added to group)
[09:29:35] [INFO] [BloodDecal] Blood puddle created at (454.3535, 668.7523) (added to group)
[09:29:35] [INFO] [BloodDecal] Blood puddle created at (480.2043, 659.5846) (added to group)
[09:29:35] [INFO] [BloodDecal] Blood puddle created at (464.6566, 682.47) (added to group)
[09:29:35] [INFO] [BloodDecal] Blood puddle created at (480.8847, 668.8784) (added to group)
[09:29:35] [INFO] [BloodDecal] Blood puddle created at (506.5995, 662.9945) (added to group)
[09:29:36] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:36] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(391.4341, 976.5009), source=PLAYER (AssaultRifle), range=1469, listeners=19
[09:29:36] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:29:36] [ENEMY] [Enemy2] Heard gunshot at (391.4341, 976.5009), source_type=0, intensity=0.01, distance=427
[09:29:36] [ENEMY] [Enemy3] Heard gunshot at (391.4341, 976.5009), source_type=0, intensity=0.02, distance=383
[09:29:36] [ENEMY] [Enemy4] Heard gunshot at (391.4341, 976.5009), source_type=0, intensity=0.01, distance=416
[09:29:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:36] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=91.2°, current=168.8°, player=(391,976), corner_timer=0.00
[09:29:36] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=143.7°, current=-33.8°, player=(391,976), corner_timer=0.00
[09:29:36] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=169.4°, current=-67.5°, player=(391,976), corner_timer=0.00
[09:29:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(380.5738, 962.7505), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:36] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[09:29:36] [INFO] [ImpactEffects] spawn_blood_effect called at (398.4867, 592.638), dir=(1, 0), lethal=false
[09:29:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:36] [INFO] [ImpactEffects] Blood effect spawned at (398.4867, 592.638) (scale=1)
[09:29:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.57376, 962.7505), shooter_id=2808170418111, bullet_pos=(398.60858, 696.38074)
[09:29:36] [INFO] [Bullet] Using shooter_position, distance=266,97958
[09:29:36] [INFO] [Bullet] Distance to wall: 266,97958 (18,179132% of viewport)
[09:29:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:36] [INFO] [Bullet] Starting wall penetration at (398.60858, 696.38074)
[09:29:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(377.9107, 959.3787), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,9512
[09:29:36] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:36] [INFO] [Bullet] Exiting penetration at (397.8428, 658.0551) after traveling 33,333332 pixels through wall
[09:29:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(377.91068, 959.3787), shooter_id=2808170418111, bullet_pos=(395.701, 709.908)
[09:29:36] [INFO] [Bullet] Using shooter_position, distance=250,10423
[09:29:36] [INFO] [Bullet] Distance to wall: 250,10423 (17,030058% of viewport)
[09:29:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:36] [INFO] [Bullet] Starting wall penetration at (395.701, 709.908)
[09:29:36] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[09:29:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,353775
[09:29:36] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:36] [INFO] [Bullet] Exiting penetration at (392.53113, 671.7088) after traveling 33,333332 pixels through wall
[09:29:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:36] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[09:29:36] [INFO] [ImpactEffects] spawn_blood_effect called at (390.4326, 647.7886), dir=(1, 0), lethal=true
[09:29:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:36] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:29:36] [INFO] [ImpactEffects] Blood effect spawned at (390.4326, 647.7886) (scale=1.5)
[09:29:36] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[09:29:36] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:29:36] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:29:36] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:29:36] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:29:36] [INFO] [PowerFantasy]   - Duration: 300ms
[09:29:36] [ENEMY] [Enemy2] [AllyDeath] Notified 3 enemies
[09:29:36] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[09:29:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:29:36] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[09:29:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(377.9107, 959.3787), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (473.9774, 572.4846) (added to group)
[09:29:37] [INFO] [PowerFantasy] Effect duration expired after 303.00 ms
[09:29:37] [INFO] [PowerFantasy] Ending power fantasy effect
[09:29:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(377.9107, 959.3787), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[09:29:37] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:37] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (460.4233, 611.2753) (added to group)
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (488.7886, 591.6909) (added to group)
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (493.1431, 611.4399) (added to group)
[09:29:37] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:29:37] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:37] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(377,959), corner_timer=0.30
[09:29:37] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(377,959), corner_timer=0.30
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (496.8727, 670.8214) (added to group)
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (452.7544, 655.6956) (added to group)
[09:29:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(377.91068, 959.3787), shooter_id=2808170418111, bullet_pos=(931.6762, 793.87476)
[09:29:37] [INFO] [Bullet] Using shooter_position, distance=577,9687
[09:29:37] [INFO] [Bullet] Distance to wall: 577,9687 (39,354954% of viewport)
[09:29:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:37] [INFO] [Bullet] Starting wall penetration at (931.6762, 793.87476)
[09:29:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,642082
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (485.1792, 677.9935) (added to group)
[09:29:37] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:37] [INFO] [Bullet] Exiting penetration at (971.83405, 817.64716) after traveling 41,666668 pixels through wall
[09:29:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:37] [INFO] [ReplayManager] Recording frame 120 (1,7s): player_valid=True, enemies=10
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (513.7603, 667.8535) (added to group)
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (486.014, 649.3693) (added to group)
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (537.5059, 700.4675) (added to group)
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (487.0938, 675.1177) (added to group)
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (461.288, 643.3765) (added to group)
[09:29:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:37] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:37] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:37] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:37] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:37] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:37] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:37] [ENEMY] [Enemy1] Death animation component initialized
[09:29:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:37] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:37] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:37] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:37] [ENEMY] [Enemy2] Death animation component initialized
[09:29:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:37] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:37] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:37] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:37] [ENEMY] [Enemy3] Death animation component initialized
[09:29:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:37] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:37] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:37] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:37] [ENEMY] [Enemy4] Death animation component initialized
[09:29:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:37] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:37] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:37] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:37] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:37] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:37] [ENEMY] [Grenadier] Death animation component initialized
[09:29:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:37] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:37] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:37] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:37] [ENEMY] [Enemy6] Death animation component initialized
[09:29:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:37] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:37] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:37] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:37] [ENEMY] [Enemy7] Death animation component initialized
[09:29:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:37] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:37] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:37] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:37] [ENEMY] [Enemy8] Death animation component initialized
[09:29:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:37] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:37] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:37] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:37] [ENEMY] [Enemy9] Death animation component initialized
[09:29:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:37] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:37] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:37] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:37] [ENEMY] [Enemy10] Death animation component initialized
[09:29:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:37] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:37] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:37] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:37] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:37] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:37] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:37] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:37] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:37] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:37] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:37] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:37] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:37] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:37] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:37] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:37] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:37] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:37] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:37] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:37] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:37] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:37] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:37] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:37] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:37] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:37] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:37] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:37] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:37] [INFO] [ReplayManager] Replay data cleared
[09:29:37] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:37] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:37] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:37] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:37] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:37] [INFO] [ReplayManager] Enemies count: 10
[09:29:37] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:37] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:37] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:37] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:37] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:37] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:37] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:37] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:37] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:37] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:37] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:37] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (556.584, 707.2644) (added to group)
[09:29:37] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:37] [INFO] [CinemaEffects] Found player node: Player
[09:29:37] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:29:37] [ENEMY] [Enemy1] Registered as sound listener
[09:29:37] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:29:37] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:29:37] [ENEMY] [Enemy2] Registered as sound listener
[09:29:37] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:29:37] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:29:37] [ENEMY] [Enemy3] Registered as sound listener
[09:29:37] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:29:37] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:29:37] [ENEMY] [Enemy4] Registered as sound listener
[09:29:37] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:29:37] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:37] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:29:37] [ENEMY] [Grenadier] Registered as sound listener
[09:29:37] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:37] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:29:37] [ENEMY] [Enemy6] Registered as sound listener
[09:29:37] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:29:37] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:29:37] [ENEMY] [Enemy7] Registered as sound listener
[09:29:37] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:29:37] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:29:37] [ENEMY] [Enemy8] Registered as sound listener
[09:29:37] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:29:37] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:29:37] [ENEMY] [Enemy9] Registered as sound listener
[09:29:37] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:29:37] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:29:37] [ENEMY] [Enemy10] Registered as sound listener
[09:29:37] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:29:37] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:37] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:37] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:37] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:37] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:37] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:37] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:37] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:37] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:37] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:37] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:37] [INFO] [LastChance] Found player: Player
[09:29:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:37] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:37] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (622.1625, 676.4293) (added to group)
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (487.9066, 651.3585) (added to group)
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (539.9944, 655.1064) (added to group)
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (560.6946, 689.1804) (added to group)
[09:29:37] [INFO] [BloodDecal] Blood puddle created at (496.8955, 682.468) (added to group)
[09:29:38] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:38] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(363.626, 921.699), source=PLAYER (AssaultRifle), range=1469, listeners=19
[09:29:38] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:29:38] [ENEMY] [Enemy2] Heard gunshot at (363.626, 921.699), source_type=0, intensity=0.02, distance=373
[09:29:38] [ENEMY] [Enemy3] Heard gunshot at (363.626, 921.699), source_type=0, intensity=0.02, distance=378
[09:29:38] [ENEMY] [Enemy4] Heard gunshot at (363.626, 921.699), source_type=0, intensity=0.01, distance=437
[09:29:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[09:29:38] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=95.6°, current=-157.5°, player=(363,921), corner_timer=0.00
[09:29:38] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=153.0°, current=11.3°, player=(363,921), corner_timer=0.00
[09:29:38] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=177.2°, current=-67.5°, player=(363,921), corner_timer=0.00
[09:29:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(363.62598, 921.699), shooter_id=2873786109708, bullet_pos=(497.56, 809.1263)
[09:29:38] [INFO] [Bullet] Using shooter_position, distance=174,95981
[09:29:38] [INFO] [Bullet] Distance to wall: 174,95981 (11,913336% of viewport)
[09:29:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:38] [INFO] [Bullet] Starting wall penetration at (497.56, 809.1263)
[09:29:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,086765
[09:29:38] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:38] [INFO] [Bullet] Exiting penetration at (541.0628, 792.3458) after traveling 41,666668 pixels through wall
[09:29:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(337.274, 903.0105), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(337.27402, 903.0105), shooter_id=2873786109708, bullet_pos=(526.99774, 802.0002)
[09:29:39] [INFO] [Bullet] Using shooter_position, distance=214,9376
[09:29:39] [INFO] [Bullet] Distance to wall: 214,9376 (14,635497% of viewport)
[09:29:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(320.4424, 891.327), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:39] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:39] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(320.44235, 891.32697), shooter_id=2873786109708, bullet_pos=(513.09247, 796.70386)
[09:29:39] [INFO] [Bullet] Using shooter_position, distance=214,63364
[09:29:39] [INFO] [Bullet] Distance to wall: 214,63364 (14,6147995% of viewport)
[09:29:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:39] [INFO] [Bullet] Starting wall penetration at (513.09247, 796.70386)
[09:29:39] [ENEMY] [Enemy1] Memory: medium confidence (0.60) - transitioning to PURSUING
[09:29:39] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:29:39] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(317,889), corner_timer=0.30
[09:29:39] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(317,889), corner_timer=0.30
[09:29:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:29:39] [INFO] [Bullet] Exiting penetration at (559.5831, 792.9711) after traveling 41,666668 pixels through wall
[09:29:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:39] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=88.2°, current=168.8°, player=(317,889), corner_timer=0.00
[09:29:39] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:29:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(317.3388, 889.1727), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:39] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[09:29:39] [INFO] [ImpactEffects] spawn_blood_effect called at (566.0165, 802.4102), dir=(1, 0), lethal=false
[09:29:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:39] [INFO] [ImpactEffects] Blood effect spawned at (566.0165, 802.4102) (scale=1)
[09:29:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(317.3388, 889.1727), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:39] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:29:39] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:29:39] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:39] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[09:29:39] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-97.8°, current=167.4°, player=(317,889), corner_timer=0.00
[09:29:39] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:29:39] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:29:39] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[09:29:39] [INFO] [ImpactEffects] spawn_blood_effect called at (550.1395, 802.4388), dir=(1, 0), lethal=false
[09:29:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:39] [INFO] [ImpactEffects] Blood effect spawned at (550.1395, 802.4388) (scale=1)
[09:29:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(317.3388, 889.1727), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(317,889), corner_timer=-0.01
[09:29:39] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.0°, player=(317,889), corner_timer=-0.01
[09:29:39] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[09:29:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(317,889), corner_timer=0.30
[09:29:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=52.9°, player=(317,889), corner_timer=0.30
[09:29:39] [ENEMY] [Enemy1] PURSUING corner check: angle -51.8°
[09:29:39] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[09:29:39] [INFO] [ImpactEffects] spawn_blood_effect called at (550.1395, 802.4388), dir=(1, 0), lethal=false
[09:29:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:39] [INFO] [ImpactEffects] Blood effect spawned at (550.1395, 802.4388) (scale=1)
[09:29:39] [INFO] [BloodDecal] Blood puddle created at (632.5071, 795.578) (added to group)
[09:29:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(317.3388, 889.1727), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:29:39] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:29:39] [INFO] [BloodDecal] Blood puddle created at (605.4698, 831.9097) (added to group)
[09:29:39] [INFO] [BloodDecal] Blood puddle created at (617.4359, 848.112) (added to group)
[09:29:39] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[09:29:39] [INFO] [ImpactEffects] spawn_blood_effect called at (550.1395, 802.4388), dir=(1, 0), lethal=true
[09:29:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:39] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:29:39] [INFO] [ImpactEffects] Blood effect spawned at (550.1395, 802.4388) (scale=1.5)
[09:29:39] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:29:39] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:29:39] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:29:39] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:29:39] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:29:39] [INFO] [PowerFantasy]   - Duration: 300ms
[09:29:39] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[09:29:39] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:29:39] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:29:39] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:29:39] [INFO] [BloodDecal] Blood puddle created at (668.4095, 855.8304) (added to group)
[09:29:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(317.3388, 889.1727), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[09:29:39] [INFO] [BloodDecal] Blood puddle created at (643.2491, 863.6381) (added to group)
[09:29:40] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[09:29:40] [INFO] [PowerFantasy] Ending power fantasy effect
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (635.2502, 850.7856) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (636.272, 856.1523) (added to group)
[09:29:40] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (602.4203, 847.5039) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (609.9847, 825.0764) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (662.925, 798.1735) (added to group)
[09:29:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(317.3388, 889.1727), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[09:29:40] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.2°, player=(317,889), corner_timer=-0.01
[09:29:40] [ENEMY] [Enemy10] PATROL corner check: angle 7.3°
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (611.1399, 801.6983) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (613.1241, 793.4999) (added to group)
[09:29:40] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.3°, current=16.8°, player=(317,889), corner_timer=0.30
[09:29:40] [ENEMY] [Enemy1] PURSUING corner check: angle 153.3°
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (671.3348, 894.8918) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (745.7383, 807.3369) (added to group)
[09:29:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(317.3388, 889.1727), source=PLAYER (AssaultRifle), range=1469, listeners=9
[09:29:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (667.2418, 835.9196) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (671.7853, 816.5952) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (652.2888, 853.0245) (added to group)
[09:29:40] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[09:29:40] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (667.6018, 895.6651) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (633.6246, 836.2372) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (631.8908, 875.5403) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (591.6588, 835.0797) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (628.5003, 819.5861) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (644.6902, 809.6523) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (616.9717, 795.2844) (added to group)
[09:29:40] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (630.0231, 859.9246) (added to group)
[09:29:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(317.33878, 889.17267), shooter_id=2873786109708, bullet_pos=(65.13602, 235.23482)
[09:29:40] [INFO] [Bullet] Using shooter_position, distance=700,8858
[09:29:40] [INFO] [Bullet] Distance to wall: 700,8858 (47,724606% of viewport)
[09:29:40] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[09:29:40] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=153.3°, current=111.4°, player=(317,889), corner_timer=0.17
[09:29:40] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (707.0245, 952.9234) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (658.0052, 833.3808) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (611.4926, 832.9491) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (660.7731, 851.7615) (added to group)
[09:29:40] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (699.3411, 919.9227) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (651.5851, 835.5224) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (658.1813, 871.6482) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (615.075, 844.1926) (added to group)
[09:29:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(317.33878, 889.17267), shooter_id=2873786109708, bullet_pos=(276.47192, 226.67543)
[09:29:40] [INFO] [Bullet] Using shooter_position, distance=663,75653
[09:29:40] [INFO] [Bullet] Distance to wall: 663,75653 (45,196404% of viewport)
[09:29:40] [ENEMY] [Enemy3] Ragdoll activated
[09:29:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (704.5679, 804.5853) (added to group)
[09:29:40] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(317,889), corner_timer=-0.02
[09:29:40] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (641.4976, 862.798) (added to group)
[09:29:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(317.33878, 889.17267), shooter_id=2873786109708, bullet_pos=(990.7984, 252.1631)
[09:29:40] [INFO] [Bullet] Using shooter_position, distance=927
[09:29:40] [INFO] [Bullet] Distance to wall: 927 (63,121136% of viewport)
[09:29:40] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.9°, player=(317,889), corner_timer=0.30
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (682.5638, 903.8779) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (707.4045, 925.9807) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (709.2847, 954.4733) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (724.1078, 786.2769) (added to group)
[09:29:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:40] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:40] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:40] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:40] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:40] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:40] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:40] [ENEMY] [Enemy1] Death animation component initialized
[09:29:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:40] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:40] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:40] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:40] [ENEMY] [Enemy2] Death animation component initialized
[09:29:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:40] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:40] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:40] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:40] [ENEMY] [Enemy3] Death animation component initialized
[09:29:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:40] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:40] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:40] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:40] [ENEMY] [Enemy4] Death animation component initialized
[09:29:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:40] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:40] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:40] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:40] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:40] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:40] [ENEMY] [Grenadier] Death animation component initialized
[09:29:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:40] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:40] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:40] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:40] [ENEMY] [Enemy6] Death animation component initialized
[09:29:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:40] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:40] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:40] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:40] [ENEMY] [Enemy7] Death animation component initialized
[09:29:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:40] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:40] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:40] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:40] [ENEMY] [Enemy8] Death animation component initialized
[09:29:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:40] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:40] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:40] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:40] [ENEMY] [Enemy9] Death animation component initialized
[09:29:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:40] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:40] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:40] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:40] [ENEMY] [Enemy10] Death animation component initialized
[09:29:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:40] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:40] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:40] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:40] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:40] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:40] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:40] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:40] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:40] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:40] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:40] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:40] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:40] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:40] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:40] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:40] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:40] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:40] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:40] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:40] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:40] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:40] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:40] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:40] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:40] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:40] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:40] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:40] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:40] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:40] [INFO] [ReplayManager] Replay data cleared
[09:29:40] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:40] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:40] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:40] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:40] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:40] [INFO] [ReplayManager] Enemies count: 10
[09:29:40] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:40] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:40] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:40] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:40] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:40] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:40] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:40] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:40] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:40] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:40] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:40] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (662.8886, 872.3792) (added to group)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (715.3306, 798.9391) (added to group)
[09:29:40] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:40] [INFO] [CinemaEffects] Found player node: Player
[09:29:40] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:29:40] [ENEMY] [Enemy1] Registered as sound listener
[09:29:40] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:29:40] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:29:40] [ENEMY] [Enemy2] Registered as sound listener
[09:29:40] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:29:40] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:29:40] [ENEMY] [Enemy3] Registered as sound listener
[09:29:40] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:29:40] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:29:40] [ENEMY] [Enemy4] Registered as sound listener
[09:29:40] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:29:40] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:40] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:29:40] [ENEMY] [Grenadier] Registered as sound listener
[09:29:40] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:40] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:29:40] [ENEMY] [Enemy6] Registered as sound listener
[09:29:40] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:29:40] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:29:40] [ENEMY] [Enemy7] Registered as sound listener
[09:29:40] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:29:40] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:29:40] [ENEMY] [Enemy8] Registered as sound listener
[09:29:40] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:29:40] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:29:40] [ENEMY] [Enemy9] Registered as sound listener
[09:29:40] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:29:40] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:29:40] [ENEMY] [Enemy10] Registered as sound listener
[09:29:40] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:29:40] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:40] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:40] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:40] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:40] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:40] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:40] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:40] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:40] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:40] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:29:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:40] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:40] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:40] [INFO] [LastChance] Found player: Player
[09:29:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:40] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:40] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:40] [INFO] [BloodDecal] Blood puddle created at (739.4755, 976.5234) (added to group)
[09:29:41] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:41] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(328.7516, 913.8891), source=PLAYER (AssaultRifle), range=1469, listeners=19
[09:29:42] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:29:42] [ENEMY] [Enemy2] Heard gunshot at (328.7516, 913.8891), source_type=0, intensity=0.02, distance=371
[09:29:42] [ENEMY] [Enemy3] Heard gunshot at (328.7516, 913.8891), source_type=0, intensity=0.02, distance=406
[09:29:42] [ENEMY] [Enemy4] Heard gunshot at (328.7516, 913.8891), source_type=0, intensity=0.01, distance=471
[09:29:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:42] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=101.1°, current=-101.3°, player=(328,913), corner_timer=0.00
[09:29:42] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=156.2°, current=-78.7°, player=(328,913), corner_timer=0.00
[09:29:42] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=178.3°, current=-101.3°, player=(328,913), corner_timer=0.00
[09:29:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(328.75165, 913.8891), shooter_id=2951900825678, bullet_pos=(515.0312, 806.2618)
[09:29:42] [INFO] [Bullet] Using shooter_position, distance=215,13649
[09:29:42] [INFO] [Bullet] Distance to wall: 215,13649 (14,649039% of viewport)
[09:29:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.8727, 891.2861), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(328.75165, 913.8891), shooter_id=2951900825678, bullet_pos=(407.16837, 709.6091)
[09:29:42] [INFO] [Bullet] Using shooter_position, distance=218,81389
[09:29:42] [INFO] [Bullet] Distance to wall: 218,81389 (14,89944% of viewport)
[09:29:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:42] [INFO] [LastChance] Threat detected: Bullet
[09:29:42] [INFO] [LastChance] Not in hard mode - effect disabled
[09:29:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:29:42] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[09:29:42] [INFO] [ImpactEffects] spawn_blood_effect called at (629.8658, 775.4678), dir=(1, 0), lethal=false
[09:29:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:29:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:29:42] [INFO] [ImpactEffects] Blood effect spawned at (629.8658, 775.4678) (scale=1)
[09:29:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:42] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(287.4973, 876.6862), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:42] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[09:29:42] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:29:42] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(287,876), corner_timer=0.30
[09:29:42] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(287,876), corner_timer=0.30
[09:29:42] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=91.5°, current=-157.5°, player=(286,875), corner_timer=0.00
[09:29:42] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:29:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(287.49725, 876.68616), shooter_id=2951900825678, bullet_pos=(412.93515, 692.70154)
[09:29:42] [INFO] [Bullet] Using shooter_position, distance=222,67691
[09:29:42] [INFO] [Bullet] Distance to wall: 222,67691 (15,162481% of viewport)
[09:29:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:42] [INFO] [Bullet] Starting wall penetration at (412.93515, 692.70154)
[09:29:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,41335
[09:29:42] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:42] [INFO] [Bullet] Exiting penetration at (420.73035, 655.1944) after traveling 33,33334 pixels through wall
[09:29:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(283.8231, 873.4103), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:29:42] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:29:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(283.8231, 873.41034), shooter_id=2951900825678, bullet_pos=(410.6947, 700.13116)
[09:29:42] [INFO] [Bullet] Using shooter_position, distance=214,76051
[09:29:42] [INFO] [Bullet] Distance to wall: 214,76051 (14,62344% of viewport)
[09:29:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:42] [INFO] [Bullet] Starting wall penetration at (410.6947, 700.13116)
[09:29:42] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=164.2°, current=164.2°, player=(283,873), corner_timer=0.00
[09:29:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,700758
[09:29:42] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:42] [INFO] [Bullet] Exiting penetration at (420.1596, 663.0102) after traveling 33,333336 pixels through wall
[09:29:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(283.8231, 873.4103), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:29:42] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:29:42] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:29:42] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[09:29:42] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:29:42] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:42] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:29:42] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:29:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(283.8231, 873.41034), shooter_id=2951900825678, bullet_pos=(408.08035, 698.2469)
[09:29:42] [INFO] [Bullet] Using shooter_position, distance=214,76057
[09:29:42] [INFO] [Bullet] Distance to wall: 214,76057 (14,623443% of viewport)
[09:29:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:42] [INFO] [Bullet] Starting wall penetration at (408.08035, 698.2469)
[09:29:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,683704
[09:29:42] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:42] [INFO] [Bullet] Exiting penetration at (416.98715, 660.9881) after traveling 33,333332 pixels through wall
[09:29:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.6°, player=(283,873), corner_timer=-0.01
[09:29:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.0°, player=(283,873), corner_timer=-0.01
[09:29:42] [ENEMY] [Enemy10] PATROL corner check: angle 14.9°
[09:29:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(283.8231, 873.4103), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:29:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(283,873), corner_timer=0.30
[09:29:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.9°, current=53.9°, player=(283,873), corner_timer=0.30
[09:29:42] [ENEMY] [Enemy1] PURSUING corner check: angle -51.9°
[09:29:42] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[09:29:42] [INFO] [BloodDecal] Blood puddle created at (710.8919, 788.7354) (added to group)
[09:29:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(283.8231, 873.41034), shooter_id=2951900825678, bullet_pos=(473.2575, 707.2218)
[09:29:42] [INFO] [Bullet] Using shooter_position, distance=252,00006
[09:29:42] [INFO] [Bullet] Distance to wall: 252,00006 (17,159147% of viewport)
[09:29:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:42] [INFO] [Bullet] Starting wall penetration at (473.2575, 707.2218)
[09:29:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,186293
[09:29:42] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:42] [INFO] [Bullet] Exiting penetration at (502.07358, 681.94183) after traveling 33,333336 pixels through wall
[09:29:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:43] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:43] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:43] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:43] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:43] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:43] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:43] [ENEMY] [Enemy1] Death animation component initialized
[09:29:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:43] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:43] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:43] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:43] [ENEMY] [Enemy2] Death animation component initialized
[09:29:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:43] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:43] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:43] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:43] [ENEMY] [Enemy3] Death animation component initialized
[09:29:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:43] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:43] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:43] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:43] [ENEMY] [Enemy4] Death animation component initialized
[09:29:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:43] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:43] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:43] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:43] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:43] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:43] [ENEMY] [Grenadier] Death animation component initialized
[09:29:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:43] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:43] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:43] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:43] [ENEMY] [Enemy6] Death animation component initialized
[09:29:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:43] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:43] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:43] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:43] [ENEMY] [Enemy7] Death animation component initialized
[09:29:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:43] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:43] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:43] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:43] [ENEMY] [Enemy8] Death animation component initialized
[09:29:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:43] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:43] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:43] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:43] [ENEMY] [Enemy9] Death animation component initialized
[09:29:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:43] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:43] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:43] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:43] [ENEMY] [Enemy10] Death animation component initialized
[09:29:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:43] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:43] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:43] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:43] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:43] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:43] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:43] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:43] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:43] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:43] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:43] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:43] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:43] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:43] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:43] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:43] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:43] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:43] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:43] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:43] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:43] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:43] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:43] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:43] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:43] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:43] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:43] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:43] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:43] [INFO] [ReplayManager] Replay data cleared
[09:29:43] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:43] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:43] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:43] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:43] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:43] [INFO] [ReplayManager] Enemies count: 10
[09:29:43] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:43] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:43] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:43] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:43] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:43] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:43] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:43] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:43] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:43] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:43] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:43] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:43] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:43] [INFO] [CinemaEffects] Found player node: Player
[09:29:43] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:29:43] [ENEMY] [Enemy1] Registered as sound listener
[09:29:43] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:29:43] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:29:43] [ENEMY] [Enemy2] Registered as sound listener
[09:29:43] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:29:43] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:29:43] [ENEMY] [Enemy3] Registered as sound listener
[09:29:43] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:29:43] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:29:43] [ENEMY] [Enemy4] Registered as sound listener
[09:29:43] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:29:43] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:43] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:29:43] [ENEMY] [Grenadier] Registered as sound listener
[09:29:43] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:43] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:29:43] [ENEMY] [Enemy6] Registered as sound listener
[09:29:43] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:29:43] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:29:43] [ENEMY] [Enemy7] Registered as sound listener
[09:29:43] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:29:43] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:29:43] [ENEMY] [Enemy8] Registered as sound listener
[09:29:43] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:29:43] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:29:43] [ENEMY] [Enemy9] Registered as sound listener
[09:29:43] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:29:43] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:29:43] [ENEMY] [Enemy10] Registered as sound listener
[09:29:43] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:29:43] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:43] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:43] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:43] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:43] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:43] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:43] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:43] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:43] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:43] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:43] [INFO] [LastChance] Found player: Player
[09:29:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:43] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:43] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:44] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:44] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:44] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:44] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(605,1315), corner_timer=0.30
[09:29:44] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(605,1315), corner_timer=0.30
[09:29:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(652,1344), corner_timer=-0.02
[09:29:45] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(652,1344), corner_timer=-0.02
[09:29:45] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:29:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(652,1344), corner_timer=0.30
[09:29:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(652,1344), corner_timer=0.30
[09:29:45] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:29:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(652,1344), corner_timer=-0.02
[09:29:45] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:29:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(652,1344), corner_timer=0.30
[09:29:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(652,1308), corner_timer=-0.02
[09:29:45] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:29:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(652,1306), corner_timer=0.30
[09:29:45] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(652,1300), corner_timer=-0.02
[09:29:46] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:29:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(652,1300), corner_timer=0.30
[09:29:46] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:29:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(652,1300), corner_timer=-0.02
[09:29:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[09:29:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(652,1300), corner_timer=0.30
[09:29:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.7465, 1300.382), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:29:46] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:29:46] [ENEMY] [Enemy4] Heard gunshot at (652.7465, 1300.382), source_type=0, intensity=0.01, distance=427
[09:29:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=8
[09:29:46] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=110.2°, current=168.8°, player=(652,1300), corner_timer=0.00
[09:29:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.7465, 1300.382), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=8
[09:29:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.7465, 1300.3824), shooter_id=3018539929338, bullet_pos=(915.3433, 1446.8176)
[09:29:46] [INFO] [Bullet] Using shooter_position, distance=300,6665
[09:29:46] [INFO] [Bullet] Distance to wall: 300,6665 (20,472937% of viewport)
[09:29:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.7465, 1300.3824), shooter_id=3018539929338, bullet_pos=(915.35474, 1446.7444)
[09:29:46] [INFO] [Bullet] Using shooter_position, distance=300,6408
[09:29:46] [INFO] [Bullet] Distance to wall: 300,6408 (20,471186% of viewport)
[09:29:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.7465, 1300.382), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=8
[09:29:46] [ENEMY] [Enemy3] Memory: medium confidence (0.60) - transitioning to PURSUING
[09:29:46] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[09:29:46] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=94.9°, current=-78.7°, player=(652,1300), corner_timer=0.00
[09:29:46] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[09:29:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.7465, 1300.3824), shooter_id=3018539929338, bullet_pos=(915.3679, 1446.6934)
[09:29:46] [INFO] [Bullet] Using shooter_position, distance=300,62747
[09:29:46] [INFO] [Bullet] Distance to wall: 300,62747 (20,470278% of viewport)
[09:29:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:46] [INFO] [Bullet] Starting wall penetration at (915.3679, 1446.6934)
[09:29:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.7465, 1300.382), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=8
[09:29:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:29:46] [INFO] [Bullet] Exiting penetration at (954.72864, 1471.7635) after traveling 41,666668 pixels through wall
[09:29:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.7465, 1300.3824), shooter_id=3018539929338, bullet_pos=(504.2929, 1732.9503)
[09:29:46] [INFO] [Bullet] Using shooter_position, distance=457,33295
[09:29:46] [INFO] [Bullet] Distance to wall: 457,33295 (31,140644% of viewport)
[09:29:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:46] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:29:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(652,1300), corner_timer=-0.02
[09:29:47] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[09:29:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(652,1300), corner_timer=0.30
[09:29:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.7465, 1300.3824), shooter_id=3018539929338, bullet_pos=(915.37506, 1446.6646)
[09:29:47] [INFO] [Bullet] Using shooter_position, distance=300,6197
[09:29:47] [INFO] [Bullet] Distance to wall: 300,6197 (20,469748% of viewport)
[09:29:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:47] [INFO] [Bullet] Starting wall penetration at (915.37506, 1446.6646)
[09:29:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[09:29:47] [INFO] [Bullet] Exiting penetration at (954.73334, 1471.7385) after traveling 41,666668 pixels through wall
[09:29:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.7465, 1300.382), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=8
[09:29:47] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.7465, 1300.382), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[09:29:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.7465, 1300.3824), shooter_id=3018539929338, bullet_pos=(909.3898, 1688.904)
[09:29:47] [INFO] [Bullet] Using shooter_position, distance=465,63373
[09:29:47] [INFO] [Bullet] Distance to wall: 465,63373 (31,705856% of viewport)
[09:29:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:47] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[09:29:47] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[09:29:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.7465, 1300.382), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[09:29:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(652,1300), corner_timer=-0.02
[09:29:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[09:29:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(652,1300), corner_timer=0.30
[09:29:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.7465, 1300.3824), shooter_id=3018539929338, bullet_pos=(1494.0579, 1576.0824)
[09:29:47] [INFO] [Bullet] Using shooter_position, distance=885,3334
[09:29:47] [INFO] [Bullet] Distance to wall: 885,3334 (60,283978% of viewport)
[09:29:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:47] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:47] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:47] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:47] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:47] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:47] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:47] [ENEMY] [Enemy1] Death animation component initialized
[09:29:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:47] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:47] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:47] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:47] [ENEMY] [Enemy2] Death animation component initialized
[09:29:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:47] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:47] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:47] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:47] [ENEMY] [Enemy3] Death animation component initialized
[09:29:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:47] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:47] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:47] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:47] [ENEMY] [Enemy4] Death animation component initialized
[09:29:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:47] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:47] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:47] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:47] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:47] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:47] [ENEMY] [Grenadier] Death animation component initialized
[09:29:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:47] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:47] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:47] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:47] [ENEMY] [Enemy6] Death animation component initialized
[09:29:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:47] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:47] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:47] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:47] [ENEMY] [Enemy7] Death animation component initialized
[09:29:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:47] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:47] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:47] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:47] [ENEMY] [Enemy8] Death animation component initialized
[09:29:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:47] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:47] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:47] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:47] [ENEMY] [Enemy9] Death animation component initialized
[09:29:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:47] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:47] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:47] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:47] [ENEMY] [Enemy10] Death animation component initialized
[09:29:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:47] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:47] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:47] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:47] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:47] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:47] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:47] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:47] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:47] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:47] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:47] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:47] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:47] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:47] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:47] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:47] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:47] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:47] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:47] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:47] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:47] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:47] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:47] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:47] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:47] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:47] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:47] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:47] [INFO] [ReplayManager] Replay data cleared
[09:29:47] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:47] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:47] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:47] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:47] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:47] [INFO] [ReplayManager] Enemies count: 10
[09:29:47] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:47] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:47] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:47] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:47] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:47] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:47] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:47] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:47] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:47] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:47] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:47] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:47] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:47] [INFO] [CinemaEffects] Found player node: Player
[09:29:47] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:29:47] [ENEMY] [Enemy1] Registered as sound listener
[09:29:47] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:29:47] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:29:47] [ENEMY] [Enemy2] Registered as sound listener
[09:29:47] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:29:47] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:29:47] [ENEMY] [Enemy3] Registered as sound listener
[09:29:47] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:29:47] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:29:47] [ENEMY] [Enemy4] Registered as sound listener
[09:29:47] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:29:47] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:47] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:29:47] [ENEMY] [Grenadier] Registered as sound listener
[09:29:47] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:47] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:29:47] [ENEMY] [Enemy6] Registered as sound listener
[09:29:47] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:29:47] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:29:47] [ENEMY] [Enemy7] Registered as sound listener
[09:29:47] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:29:47] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:29:47] [ENEMY] [Enemy8] Registered as sound listener
[09:29:47] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:29:47] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:29:47] [ENEMY] [Enemy9] Registered as sound listener
[09:29:47] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:29:47] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:29:47] [ENEMY] [Enemy10] Registered as sound listener
[09:29:47] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:29:47] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:47] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:47] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:47] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:47] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:47] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:47] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:47] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:47] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:47] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:47] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:47] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:47] [INFO] [LastChance] Found player: Player
[09:29:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:47] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:47] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:48] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:49] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:49] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:49] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[09:29:49] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[09:29:49] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:29:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[09:29:49] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[09:29:49] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:29:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[09:29:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[09:29:49] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:29:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=20
[09:29:49] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:29:49] [ENEMY] [Enemy4] Heard gunshot at (450, 1250), source_type=0, intensity=0.01, distance=495
[09:29:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[09:29:49] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-101.3°, player=(450,1250), corner_timer=0.00
[09:29:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[09:29:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[09:29:49] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:29:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[09:29:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(909.71375, 1469.8878)
[09:29:49] [INFO] [Bullet] Using shooter_position, distance=509,5953
[09:29:49] [INFO] [Bullet] Distance to wall: 509,5953 (34,699284% of viewport)
[09:29:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[09:29:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(909.3848, 1470.538)
[09:29:50] [INFO] [Bullet] Using shooter_position, distance=509,57965
[09:29:50] [INFO] [Bullet] Distance to wall: 509,57965 (34,698215% of viewport)
[09:29:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:50] [INFO] [Bullet] Starting wall penetration at (909.3848, 1470.538)
[09:29:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,7323
[09:29:50] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:50] [INFO] [Bullet] Exiting penetration at (950.9579, 1491.7385) after traveling 41,66667 pixels through wall
[09:29:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[09:29:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(499.18143, 1597.8074)
[09:29:50] [INFO] [Bullet] Using shooter_position, distance=351,2674
[09:29:50] [INFO] [Bullet] Distance to wall: 351,2674 (23,918444% of viewport)
[09:29:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:50] [INFO] [Bullet] Starting wall penetration at (499.18143, 1597.8074)
[09:29:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(494.4078, 1599.2948)
[09:29:50] [INFO] [Bullet] Using shooter_position, distance=352,10638
[09:29:50] [INFO] [Bullet] Distance to wall: 352,10638 (23,975573% of viewport)
[09:29:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:50] [INFO] [Bullet] Already penetrating, cannot start new penetration
[09:29:50] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:50] [INFO] [Bullet] Exiting penetration at (460.5946, 1609.8308) after traveling 0 pixels through wall
[09:29:50] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[09:29:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(909.12384, 1471.0516)
[09:29:50] [INFO] [Bullet] Using shooter_position, distance=509,56702
[09:29:50] [INFO] [Bullet] Distance to wall: 509,56702 (34,697357% of viewport)
[09:29:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1250), corner_timer=-0.02
[09:29:50] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:29:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[09:29:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1250), corner_timer=0.30
[09:29:50] [ENEMY] [Enemy3] Memory: medium confidence (0.58) - transitioning to PURSUING
[09:29:50] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[09:29:50] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:29:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(908.94336, 1471.4058)
[09:29:50] [INFO] [Bullet] Using shooter_position, distance=509,55817
[09:29:50] [INFO] [Bullet] Distance to wall: 509,55817 (34,696754% of viewport)
[09:29:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:50] [INFO] [Bullet] Starting wall penetration at (908.94336, 1471.4058)
[09:29:50] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-168.8°, player=(450,1250), corner_timer=0.00
[09:29:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,233433
[09:29:50] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:50] [INFO] [Bullet] Exiting penetration at (950.4821, 1492.6735) after traveling 41,666668 pixels through wall
[09:29:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:50] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[09:29:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[09:29:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(908.7519, 1471.7806)
[09:29:50] [INFO] [Bullet] Using shooter_position, distance=509,54877
[09:29:50] [INFO] [Bullet] Distance to wall: 509,54877 (34,696114% of viewport)
[09:29:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:50] [INFO] [Bullet] Starting wall penetration at (908.7519, 1471.7806)
[09:29:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[09:29:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,016827
[09:29:50] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:50] [INFO] [Bullet] Exiting penetration at (950.2757, 1493.0773) after traveling 41,66667 pixels through wall
[09:29:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:50] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:29:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(908.6379, 1472.0037)
[09:29:50] [INFO] [Bullet] Using shooter_position, distance=509,54324
[09:29:50] [INFO] [Bullet] Distance to wall: 509,54324 (34,69574% of viewport)
[09:29:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[09:29:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1250), corner_timer=-0.02
[09:29:50] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:29:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1250), corner_timer=0.30
[09:29:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(908.5439, 1472.1866)
[09:29:50] [INFO] [Bullet] Using shooter_position, distance=509,53842
[09:29:50] [INFO] [Bullet] Distance to wall: 509,53842 (34,695408% of viewport)
[09:29:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:29:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[09:29:50] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[09:29:50] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:29:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[09:29:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[09:29:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[09:29:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1250), corner_timer=-0.02
[09:29:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[09:29:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,1250), corner_timer=0.30
[09:29:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(1497.8909, 1563.1016)
[09:29:50] [INFO] [Bullet] Using shooter_position, distance=1093,6671
[09:29:50] [INFO] [Bullet] Distance to wall: 1093,6671 (74,4698% of viewport)
[09:29:50] [INFO] [Bullet] Distance-based penetration chance: 59,785236%
[09:29:50] [INFO] [Bullet] Starting wall penetration at (1497.8909, 1563.1016)
[09:29:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,941317
[09:29:50] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:50] [INFO] [Bullet] Exiting penetration at (1542.6044, 1576.4615) after traveling 41,666668 pixels through wall
[09:29:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:50] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[09:29:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(1497.8909, 1563.1016)
[09:29:51] [INFO] [Bullet] Using shooter_position, distance=1093,6671
[09:29:51] [INFO] [Bullet] Distance to wall: 1093,6671 (74,4698% of viewport)
[09:29:51] [INFO] [Bullet] Distance-based penetration chance: 59,785236%
[09:29:51] [INFO] [Bullet] Penetration failed (distance roll)
[09:29:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(1497.8909, 1563.1016)
[09:29:51] [INFO] [Bullet] Using shooter_position, distance=1093,6671
[09:29:51] [INFO] [Bullet] Distance to wall: 1093,6671 (74,4698% of viewport)
[09:29:51] [INFO] [Bullet] Distance-based penetration chance: 59,785236%
[09:29:51] [INFO] [Bullet] Starting wall penetration at (1497.8909, 1563.1016)
[09:29:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,941317
[09:29:51] [INFO] [Bullet] Body exited signal received for penetrating body
[09:29:51] [INFO] [Bullet] Exiting penetration at (1542.6044, 1576.4615) after traveling 41,66667 pixels through wall
[09:29:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:29:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(1497.8909, 1563.1016)
[09:29:51] [INFO] [Bullet] Using shooter_position, distance=1093,6671
[09:29:51] [INFO] [Bullet] Distance to wall: 1093,6671 (74,4698% of viewport)
[09:29:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(1258.0435, 1643.3508)
[09:29:51] [INFO] [Bullet] Using shooter_position, distance=898,69855
[09:29:51] [INFO] [Bullet] Distance to wall: 898,69855 (61,19404% of viewport)
[09:29:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,1250), corner_timer=-0.02
[09:29:51] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[09:29:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,1250), corner_timer=0.30
[09:29:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=3088953902709, bullet_pos=(1485.7599, 1735.975)
[09:29:51] [INFO] [Bullet] Using shooter_position, distance=1144,1023
[09:29:51] [INFO] [Bullet] Distance to wall: 1144,1023 (77,90404% of viewport)
[09:29:51] [INFO] [Bullet] Distance-based penetration chance: 55,778633%
[09:29:51] [INFO] [Bullet] Penetration failed (distance roll)
[09:29:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:29:51] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[09:29:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,1250), corner_timer=-0.02
[09:29:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[09:29:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,1250), corner_timer=0.30
[09:29:51] [ENEMY] [Enemy4] PURSUING corner check: angle -90.4°
[09:29:51] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:51] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:29:51] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:29:51] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:29:51] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:29:51] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:29:51] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:29:51] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:29:51] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:29:51] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:29:51] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:29:51] [ENEMY] [Enemy1] Death animation component initialized
[09:29:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:51] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:29:51] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:29:51] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:29:51] [ENEMY] [Enemy2] Death animation component initialized
[09:29:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:51] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:29:51] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:29:51] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:29:51] [ENEMY] [Enemy3] Death animation component initialized
[09:29:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:51] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:29:51] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:29:51] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:29:51] [ENEMY] [Enemy4] Death animation component initialized
[09:29:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:51] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:29:51] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:29:51] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:29:51] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:29:51] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:29:51] [ENEMY] [Grenadier] Death animation component initialized
[09:29:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:51] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:29:51] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:29:51] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:29:51] [ENEMY] [Enemy6] Death animation component initialized
[09:29:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:51] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:29:51] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:29:51] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:29:51] [ENEMY] [Enemy7] Death animation component initialized
[09:29:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:51] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:29:51] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:29:51] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:29:51] [ENEMY] [Enemy8] Death animation component initialized
[09:29:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:51] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:29:51] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:29:51] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:29:51] [ENEMY] [Enemy9] Death animation component initialized
[09:29:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:51] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:29:51] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:29:51] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:29:51] [ENEMY] [Enemy10] Death animation component initialized
[09:29:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:29:51] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:29:51] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:29:51] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:29:51] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:29:51] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:29:51] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[09:29:51] [INFO] [Player.Weapon] Removed default MakarovPM
[09:29:51] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[09:29:51] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:29:51] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:29:51] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:29:51] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:29:51] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:29:51] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[09:29:51] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:29:51] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:29:51] [INFO] [Player.Homing] Homing activation sound loaded
[09:29:51] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:29:51] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:29:51] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:29:51] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:29:51] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:29:51] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:29:51] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:29:51] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:29:51] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:29:51] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:29:51] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:29:51] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:29:51] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:29:51] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:29:51] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:29:51] [INFO] [BuildingLevel] Setting up weapon: m16
[09:29:51] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[09:29:51] [INFO] [ScoreManager] Level started with 10 enemies
[09:29:51] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:29:51] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:29:51] [INFO] [ReplayManager] Replay data cleared
[09:29:51] [INFO] [BuildingLevel] Previous replay data cleared
[09:29:51] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:29:51] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:29:51] [INFO] [ReplayManager] Level: BuildingLevel
[09:29:51] [INFO] [ReplayManager] Player: Player (valid: True)
[09:29:51] [INFO] [ReplayManager] Enemies count: 10
[09:29:51] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:29:51] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:29:51] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:29:51] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:29:51] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:29:51] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:29:51] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:29:51] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:29:51] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:29:51] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:29:51] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:29:51] [INFO] [BuildingLevel] Replay recording started successfully
[09:29:51] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:29:51] [INFO] [CinemaEffects] Found player node: Player
[09:29:51] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:29:51] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:29:51] [ENEMY] [Enemy1] Registered as sound listener
[09:29:51] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:29:51] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:29:51] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:29:51] [ENEMY] [Enemy2] Registered as sound listener
[09:29:51] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:29:51] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:29:51] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:29:51] [ENEMY] [Enemy3] Registered as sound listener
[09:29:51] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:29:51] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:29:51] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:29:51] [ENEMY] [Enemy4] Registered as sound listener
[09:29:51] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:29:51] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:29:51] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:29:51] [ENEMY] [Grenadier] Registered as sound listener
[09:29:51] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:29:51] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:29:51] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:29:51] [ENEMY] [Enemy6] Registered as sound listener
[09:29:51] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:29:51] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:29:51] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:29:51] [ENEMY] [Enemy7] Registered as sound listener
[09:29:51] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[09:29:51] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:29:51] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:29:51] [ENEMY] [Enemy8] Registered as sound listener
[09:29:51] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:29:51] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:29:51] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:29:51] [ENEMY] [Enemy9] Registered as sound listener
[09:29:51] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:29:51] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:29:51] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:29:51] [ENEMY] [Enemy10] Registered as sound listener
[09:29:51] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:29:51] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:29:52] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:29:52] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:52] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:52] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:52] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:52] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:52] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:52] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:52] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:29:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:29:52] [INFO] [Player] Detected weapon: Rifle (default pose)
[09:29:52] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:29:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:29:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:29:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:29:52] [INFO] [LastChance] Found player: Player
[09:29:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:29:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:29:52] [INFO] [LastChance] Connected to player Died signal (C#)
[09:29:52] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:29:53] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:29:53] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:29:53] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:29:53] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[09:29:53] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[09:29:53] [INFO] ------------------------------------------------------------
[09:29:53] [INFO] GAME LOG ENDED: 2026-02-09T09:29:53
[09:29:53] [INFO] ============================================================
