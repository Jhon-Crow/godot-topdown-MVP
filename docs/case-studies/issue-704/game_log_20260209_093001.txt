[09:30:01] [INFO] ============================================================
[09:30:01] [INFO] GAME LOG STARTED
[09:30:01] [INFO] ============================================================
[09:30:01] [INFO] Timestamp: 2026-02-09T09:30:01
[09:30:01] [INFO] Log file: I:/Загрузки/godot exe/САмонаводящиеся пУЛи/game_log_20260209_093001.txt
[09:30:01] [INFO] Executable: I:/Загрузки/godot exe/САмонаводящиеся пУЛи/Godot-Top-Down-Template.exe
[09:30:01] [INFO] OS: Windows
[09:30:01] [INFO] Debug build: false
[09:30:01] [INFO] Engine version: 4.3-stable (official)
[09:30:01] [INFO] Project: Godot Top-Down Template
[09:30:01] [INFO] ------------------------------------------------------------
[09:30:01] [INFO] [GameManager] GameManager ready
[09:30:01] [INFO] [ScoreManager] ScoreManager ready
[09:30:02] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[09:30:02] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[09:30:02] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[09:30:02] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[09:30:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:02] [INFO] [PenultimateHit] Saturation shader loaded successfully
[09:30:02] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[09:30:02] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[09:30:02] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[09:30:02] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[09:30:02] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[09:30:02] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[09:30:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:02] [INFO] [LastChance] Last chance shader loaded successfully
[09:30:02] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[09:30:02] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[09:30:02] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[09:30:02] [INFO] [LastChance]   Sepia intensity: 0.70
[09:30:02] [INFO] [LastChance]   Brightness: 0.60
[09:30:02] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[09:30:02] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[09:30:02] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[09:30:02] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[09:30:02] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[09:30:02] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[09:30:02] [INFO] [CinemaEffects] Created effects layer at layer 99
[09:30:02] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[09:30:02] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[09:30:02] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[09:30:02] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[09:30:02] [INFO] [CinemaEffects]   Grain intensity: 0.15
[09:30:02] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[09:30:02] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[09:30:02] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[09:30:02] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[09:30:02] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[09:30:02] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[09:30:02] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[09:30:02] [INFO] [GrenadeTimerHelper] Autoload ready
[09:30:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:02] [INFO] [PowerFantasy] Saturation shader loaded successfully
[09:30:02] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[09:30:02] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[09:30:02] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[09:30:02] [INFO] [ProgressManager] ProgressManager ready, loaded 8 entries
[09:30:02] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[09:30:02] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:02] [INFO] [FlashbangPlayer] Flashbang player shader loaded successfully
[09:30:02] [INFO] [FlashbangPlayer] Starting shader warmup (Issue #343 fix)...
[09:30:02] [INFO] [FlashbangPlayer] FlashbangPlayerEffectsManager ready
[09:30:02] [INFO] [FlashbangPlayer]   Duration range: 1.0-5.0 seconds
[09:30:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:02] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:02] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:02] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:02] [ENEMY] [Enemy1] Death animation component initialized
[09:30:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:02] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:02] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:02] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:02] [ENEMY] [Enemy2] Death animation component initialized
[09:30:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:02] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:02] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:02] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:30:02] [ENEMY] [Enemy3] Death animation component initialized
[09:30:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:02] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:02] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:02] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:02] [ENEMY] [Enemy4] Death animation component initialized
[09:30:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:02] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[09:30:02] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[09:30:02] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[09:30:02] [ENEMY] [Enemy5] Death animation component initialized
[09:30:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:02] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:02] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:02] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[09:30:02] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[09:30:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:02] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[09:30:02] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[09:30:02] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:02] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:02] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:02] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:02] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[09:30:02] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[09:30:02] [INFO] [LabyrinthLevel] Setting up weapon: makarov_pm
[09:30:02] [INFO] [ScoreManager] Level started with 5 enemies
[09:30:02] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[09:30:02] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[09:30:02] [INFO] [ReplayManager] Replay data cleared
[09:30:02] [INFO] [LabyrinthLevel] Previous replay data cleared
[09:30:02] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:30:02] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:02] [INFO] [ReplayManager] Level: LabyrinthLevel
[09:30:02] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:02] [INFO] [ReplayManager] Enemies count: 5
[09:30:02] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:30:02] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:02] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:02] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:02] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:02] [INFO] [ReplayManager]   Enemy 4: Enemy5
[09:30:02] [INFO] [LabyrinthLevel] Replay recording started successfully
[09:30:02] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[09:30:02] [INFO] [CinemaEffects] Found player node: Player
[09:30:02] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:02] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[09:30:02] [ENEMY] [Enemy1] Registered as sound listener
[09:30:02] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[09:30:02] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[09:30:02] [ENEMY] [Enemy2] Registered as sound listener
[09:30:02] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[09:30:02] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[09:30:02] [ENEMY] [Enemy3] Registered as sound listener
[09:30:02] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[09:30:02] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[09:30:02] [ENEMY] [Enemy4] Registered as sound listener
[09:30:02] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[09:30:02] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[09:30:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[09:30:02] [ENEMY] [Enemy5] Registered as sound listener
[09:30:02] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[09:30:02] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:02] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:30:02] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:30:02] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:30:02] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=67.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:30:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:02] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[09:30:02] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[09:30:02] [INFO] [PenultimateHit] Shader warmup complete in 533 ms
[09:30:02] [INFO] [LastChance] Shader warmup complete in 531 ms
[09:30:02] [INFO] [CinemaEffects] Cinema shader warmup complete in 481 ms
[09:30:02] [INFO] [FlashbangPlayer] Shader warmup complete in 471 ms
[09:30:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:02] [INFO] [LastChance] Found player: Player
[09:30:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:02] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:02] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:02] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 937 ms
[09:30:03] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[09:30:03] [INFO] [GrenadeBase] Grenade created at (1160.183, 1003.82) (frozen)
[09:30:03] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[09:30:03] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[09:30:03] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[09:30:03] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[09:30:03] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[09:30:03] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[09:30:03] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.99543, 0.095494), Speed: 1186.5 (unfrozen)
[09:30:03] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[09:30:03] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[09:30:03] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[09:30:03] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (600, 1000), Distance: 600
[09:30:03] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[09:30:04] [INFO] [PauseMenu] Armory button pressed
[09:30:04] [INFO] [PauseMenu] Creating new armory menu instance
[09:30:04] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[09:30:04] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[09:30:04] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[09:30:04] [INFO] [PauseMenu] back_pressed signal exists on instance
[09:30:04] [INFO] [PauseMenu] back_pressed signal connected
[09:30:04] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[09:30:04] [INFO] [PauseMenu] _populate_weapon_grid method exists
[09:30:04] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[09:30:05] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[09:30:06] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[09:30:07] [INFO] [GameManager] Weapon selected: shotgun
[09:30:07] [INFO] [ActiveItemManager] Active item changed from None to Homing Bullets
[09:30:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:07] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:07] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:07] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:07] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[09:30:07] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:07] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:07] [ENEMY] [Enemy1] Death animation component initialized
[09:30:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:07] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:07] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:07] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:07] [ENEMY] [Enemy2] Death animation component initialized
[09:30:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:07] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:07] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:07] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:07] [ENEMY] [Enemy3] Death animation component initialized
[09:30:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:07] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:07] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:07] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:07] [ENEMY] [Enemy4] Death animation component initialized
[09:30:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:07] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[09:30:07] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[09:30:07] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[09:30:07] [ENEMY] [Enemy5] Death animation component initialized
[09:30:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:07] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:07] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:07] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:07] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[09:30:07] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:07] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[09:30:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:07] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:07] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:07] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:07] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:07] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:07] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 10/10
[09:30:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:07] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[09:30:07] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:07] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:07] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:07] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:07] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[09:30:07] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[09:30:07] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[09:30:07] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[09:30:07] [INFO] [ScoreManager] Level started with 5 enemies
[09:30:07] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[09:30:07] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[09:30:07] [INFO] [ReplayManager] Replay data cleared
[09:30:07] [INFO] [LabyrinthLevel] Previous replay data cleared
[09:30:07] [INFO] [ReplayManager] Detected player weapon: Shotgun
[09:30:07] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:07] [INFO] [ReplayManager] Level: LabyrinthLevel
[09:30:07] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:07] [INFO] [ReplayManager] Enemies count: 5
[09:30:07] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[09:30:07] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:07] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:07] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:07] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:07] [INFO] [ReplayManager]   Enemy 4: Enemy5
[09:30:07] [INFO] [LabyrinthLevel] Replay recording started successfully
[09:30:07] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:07] [INFO] [CinemaEffects] Found player node: Player
[09:30:07] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[09:30:07] [ENEMY] [Enemy1] Registered as sound listener
[09:30:07] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[09:30:07] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[09:30:07] [ENEMY] [Enemy2] Registered as sound listener
[09:30:07] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[09:30:07] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[09:30:07] [ENEMY] [Enemy3] Registered as sound listener
[09:30:07] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[09:30:07] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[09:30:07] [ENEMY] [Enemy4] Registered as sound listener
[09:30:07] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[09:30:07] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[09:30:07] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[09:30:07] [ENEMY] [Enemy5] Registered as sound listener
[09:30:07] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[09:30:07] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:07] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[09:30:07] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:30:07] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:30:07] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:30:07] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[09:30:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:07] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[09:30:07] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[09:30:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:07] [INFO] [LastChance] Found player: Player
[09:30:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:07] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:07] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:08] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[09:30:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:09] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:09] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:09] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:09] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:09] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:09] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:09] [ENEMY] [Enemy1] Death animation component initialized
[09:30:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:09] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:09] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:09] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:09] [ENEMY] [Enemy2] Death animation component initialized
[09:30:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:09] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:09] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:09] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:09] [ENEMY] [Enemy3] Death animation component initialized
[09:30:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:09] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:09] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:09] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:09] [ENEMY] [Enemy4] Death animation component initialized
[09:30:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:09] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:09] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:09] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:09] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:09] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:09] [ENEMY] [Grenadier] Death animation component initialized
[09:30:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:09] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:09] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:09] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:09] [ENEMY] [Enemy6] Death animation component initialized
[09:30:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:09] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:09] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:09] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:09] [ENEMY] [Enemy7] Death animation component initialized
[09:30:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:09] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:09] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:09] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:09] [ENEMY] [Enemy8] Death animation component initialized
[09:30:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:09] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:09] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:09] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:09] [ENEMY] [Enemy9] Death animation component initialized
[09:30:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:09] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:09] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:09] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:09] [ENEMY] [Enemy10] Death animation component initialized
[09:30:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:09] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:09] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:09] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:09] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[09:30:09] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:09] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[09:30:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:09] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:09] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:09] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:09] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:09] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 10/10
[09:30:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:09] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:09] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:09] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:09] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:09] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:09] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:09] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:09] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:09] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:09] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:09] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:09] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:09] [INFO] [BuildingLevel] Setting up weapon: shotgun
[09:30:09] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[09:30:09] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:09] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:09] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:09] [INFO] [ReplayManager] Replay data cleared
[09:30:09] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:09] [INFO] [ReplayManager] Detected player weapon: Shotgun
[09:30:09] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:09] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:09] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:09] [INFO] [ReplayManager] Enemies count: 10
[09:30:09] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[09:30:09] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:09] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:09] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:09] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:09] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:09] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:09] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:09] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:09] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:09] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:09] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:09] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:09] [INFO] [CinemaEffects] Found player node: Player
[09:30:09] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:30:09] [ENEMY] [Enemy1] Registered as sound listener
[09:30:09] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:30:09] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:30:09] [ENEMY] [Enemy2] Registered as sound listener
[09:30:09] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:30:09] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:30:09] [ENEMY] [Enemy3] Registered as sound listener
[09:30:09] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:30:09] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:30:09] [ENEMY] [Enemy4] Registered as sound listener
[09:30:09] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:30:09] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:09] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:30:09] [ENEMY] [Grenadier] Registered as sound listener
[09:30:09] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:09] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:30:09] [ENEMY] [Enemy6] Registered as sound listener
[09:30:09] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:30:09] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:30:09] [ENEMY] [Enemy7] Registered as sound listener
[09:30:09] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:30:09] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:30:09] [ENEMY] [Enemy8] Registered as sound listener
[09:30:09] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:30:09] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:30:09] [ENEMY] [Enemy9] Registered as sound listener
[09:30:09] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:30:09] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:30:09] [ENEMY] [Enemy10] Registered as sound listener
[09:30:09] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:30:09] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:09] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:09] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:09] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:09] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:09] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:09] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:09] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:09] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:09] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:09] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[09:30:09] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[09:30:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:09] [INFO] [LastChance] Found player: Player
[09:30:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:09] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:09] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:10] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:11] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:11] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:11] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(315,1061), corner_timer=0.30
[09:30:11] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(315,1061), corner_timer=0.30
[09:30:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(241,987), corner_timer=-0.02
[09:30:11] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(241,987), corner_timer=-0.02
[09:30:11] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:30:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(237,983), corner_timer=0.30
[09:30:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(237,983), corner_timer=0.30
[09:30:11] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(197,943), corner_timer=-0.02
[09:30:11] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:30:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(197,943), corner_timer=0.30
[09:30:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(197,943), corner_timer=-0.02
[09:30:12] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:30:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(197,943), corner_timer=0.30
[09:30:12] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(197,943), corner_timer=-0.02
[09:30:12] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:30:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(197,943), corner_timer=0.30
[09:30:12] [ENEMY] [Enemy1] Player ammo empty: false -> true
[09:30:12] [ENEMY] [Enemy2] Player ammo empty: false -> true
[09:30:12] [ENEMY] [Enemy3] Player ammo empty: false -> true
[09:30:12] [ENEMY] [Enemy4] Player ammo empty: false -> true
[09:30:12] [ENEMY] [Grenadier] Player ammo empty: false -> true
[09:30:12] [ENEMY] [Enemy6] Player ammo empty: false -> true
[09:30:12] [ENEMY] [Enemy7] Player ammo empty: false -> true
[09:30:12] [ENEMY] [Enemy8] Player ammo empty: false -> true
[09:30:12] [ENEMY] [Enemy9] Player ammo empty: false -> true
[09:30:12] [ENEMY] [Enemy10] Player ammo empty: false -> true
[09:30:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(197.1142, 943.4709), source=PLAYER (Player), range=600, listeners=20
[09:30:12] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:30:12] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (197.1142, 943.4709), intensity=0.01, distance=443
[09:30:12] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[09:30:12] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(197.11417, 943.4709)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=-2,8, distance=49,2px, pos=(235.28404, 912.50397)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=-14,2, distance=37,8px, pos=(227.08441, 920.4046)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=12,1, distance=64,1px, pos=(249.15442, 905.99774)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=-1,2, distance=50,8px, pos=(238.94365, 914.6722)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=11,9, distance=63,9px, pos=(250.45796, 908.2467)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=-0,1, distance=51,9px, pos=(239.88097, 913.979)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=8,4, distance=60,4px, pos=(248.63525, 911.94464)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=11,2, distance=63,2px, pos=(250.658, 909.93176)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=-7,7, distance=44,3px, pos=(234.66156, 919.99506)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=3,0, distance=55,0px, pos=(245.08192, 916.4926)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=1,5, distance=53,5px, pos=(244.54475, 918.7308)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=-14,7, distance=37,3px, pos=(230.1402, 926.02893)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=-8,6, distance=43,4px, pos=(235.31683, 922.9648)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=2,9, distance=54,9px, pos=(246.60518, 919.6331)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=-3,4, distance=48,6px, pos=(241.12564, 922.8879)
[09:30:12] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=8,5, distance=60,5px, pos=(252.8809, 920.13617)
[09:30:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(197.1142, 943.4709), source=PLAYER (Shotgun), range=1469, listeners=10
[09:30:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:30:12] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:30:12] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=602), can_see=false
[09:30:12] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=117.3°, current=45.0°, player=(197,943), corner_timer=0.00
[09:30:12] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=443), can_see=false
[09:30:12] [ENEMY] [Enemy2] Pursuing vulnerability sound at (197.1142, 943.4709), distance=443
[09:30:12] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=539), can_see=false
[09:30:12] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=604), can_see=false
[09:30:12] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1616), can_see=false
[09:30:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1821), can_see=false
[09:30:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1502), can_see=false
[09:30:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1777), can_see=false
[09:30:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1997), can_see=false
[09:30:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1167), can_see=false
[09:30:12] [ENEMY] [Enemy1] Memory: medium confidence (0.53) - transitioning to PURSUING
[09:30:12] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:30:12] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=99.8°, current=33.8°, player=(197,943), corner_timer=0.00
[09:30:12] [ENEMY] [Enemy1] PURSUING corner check: angle -39.5°
[09:30:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(197,943), corner_timer=-0.02
[09:30:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[09:30:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(197,943), corner_timer=0.30
[09:30:12] [ENEMY] [Enemy1] PURSUING corner check: angle -1.6°
[09:30:13] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=556), can_see=false
[09:30:13] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=304), can_see=false
[09:30:13] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=539), can_see=false
[09:30:13] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=604), can_see=false
[09:30:13] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1616), can_see=false
[09:30:13] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1821), can_see=false
[09:30:13] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1495), can_see=false
[09:30:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1777), can_see=false
[09:30:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1997), can_see=false
[09:30:13] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1166), can_see=false
[09:30:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:30:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:13] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:13] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:13] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:13] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:13] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:13] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:13] [ENEMY] [Enemy1] Death animation component initialized
[09:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:13] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:13] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:13] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:30:13] [ENEMY] [Enemy2] Death animation component initialized
[09:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:13] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:13] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:13] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:13] [ENEMY] [Enemy3] Death animation component initialized
[09:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:13] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:13] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:13] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:13] [ENEMY] [Enemy4] Death animation component initialized
[09:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:13] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:13] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:13] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:13] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:13] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:13] [ENEMY] [Grenadier] Death animation component initialized
[09:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:13] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:13] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:13] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:13] [ENEMY] [Enemy6] Death animation component initialized
[09:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:13] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:13] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:13] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:13] [ENEMY] [Enemy7] Death animation component initialized
[09:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:13] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:13] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:13] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:13] [ENEMY] [Enemy8] Death animation component initialized
[09:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:13] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:13] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:13] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:13] [ENEMY] [Enemy9] Death animation component initialized
[09:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:13] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:13] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:13] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:13] [ENEMY] [Enemy10] Death animation component initialized
[09:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:13] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:13] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:13] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:13] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:13] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[09:30:13] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:13] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[09:30:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:13] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:13] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:13] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:13] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:13] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:13] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 10/10
[09:30:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:13] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:13] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:13] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:13] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:13] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:13] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:13] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:13] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:13] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:13] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:13] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:13] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:13] [INFO] [BuildingLevel] Setting up weapon: shotgun
[09:30:13] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[09:30:13] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:13] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:13] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:13] [INFO] [ReplayManager] Replay data cleared
[09:30:13] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:13] [INFO] [ReplayManager] Detected player weapon: Shotgun
[09:30:13] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:13] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:13] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:13] [INFO] [ReplayManager] Enemies count: 10
[09:30:13] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[09:30:13] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:13] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:13] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:13] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:13] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:13] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:13] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:13] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:13] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:13] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:13] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:13] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:13] [INFO] [CinemaEffects] Found player node: Player
[09:30:13] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:13] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:30:13] [ENEMY] [Enemy1] Registered as sound listener
[09:30:13] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:30:13] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:13] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:30:13] [ENEMY] [Enemy2] Registered as sound listener
[09:30:13] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:30:13] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:13] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:30:13] [ENEMY] [Enemy3] Registered as sound listener
[09:30:13] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:30:13] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:13] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:30:13] [ENEMY] [Enemy4] Registered as sound listener
[09:30:13] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:30:13] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:13] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:30:13] [ENEMY] [Grenadier] Registered as sound listener
[09:30:13] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:13] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:13] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:30:13] [ENEMY] [Enemy6] Registered as sound listener
[09:30:13] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:30:13] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:13] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:30:13] [ENEMY] [Enemy7] Registered as sound listener
[09:30:13] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[09:30:13] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:13] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:30:13] [ENEMY] [Enemy8] Registered as sound listener
[09:30:13] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:30:13] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:13] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:30:13] [ENEMY] [Enemy9] Registered as sound listener
[09:30:13] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:30:13] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:13] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:30:13] [ENEMY] [Enemy10] Registered as sound listener
[09:30:13] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:30:13] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:13] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:13] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:13] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:13] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:13] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:13] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:13] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:13] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:13] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:13] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[09:30:13] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[09:30:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:13] [INFO] [LastChance] Found player: Player
[09:30:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:13] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:13] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:14] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:14] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:14] [ENEMY] [Enemy1] Player ammo empty: false -> true
[09:30:14] [ENEMY] [Enemy2] Player ammo empty: false -> true
[09:30:14] [ENEMY] [Enemy3] Player ammo empty: false -> true
[09:30:14] [ENEMY] [Enemy4] Player ammo empty: false -> true
[09:30:14] [ENEMY] [Grenadier] Player ammo empty: false -> true
[09:30:14] [ENEMY] [Enemy6] Player ammo empty: false -> true
[09:30:14] [ENEMY] [Enemy7] Player ammo empty: false -> true
[09:30:14] [ENEMY] [Enemy8] Player ammo empty: false -> true
[09:30:14] [ENEMY] [Enemy9] Player ammo empty: false -> true
[09:30:14] [ENEMY] [Enemy10] Player ammo empty: false -> true
[09:30:14] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(275.9158, 899.0281), source=PLAYER (Player), range=600, listeners=20
[09:30:14] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:30:14] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (275.9158, 899.0281), intensity=0.02, distance=370
[09:30:14] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:14] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (275.9158, 899.0281), intensity=0.01, distance=450
[09:30:14] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[09:30:14] [INFO] [Shotgun.FIX#212] Firing 15 pellets with 15° spread at pos=(275.91583, 899.02814)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 1/15: extraOffset=5,5, distance=57,5px, pos=(321.06326, 863.4014)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 2/15: extraOffset=-2,8, distance=49,2px, pos=(313.72882, 867.58246)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 3/15: extraOffset=9,5, distance=61,5px, pos=(325.1535, 862.206)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 4/15: extraOffset=8,0, distance=60,0px, pos=(324.59244, 863.9699)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 5/15: extraOffset=-12,1, distance=39,9px, pos=(308.16272, 875.5523)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 6/15: extraOffset=-0,4, distance=51,6px, pos=(318.12857, 869.37506)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 7/15: extraOffset=7,3, distance=59,3px, pos=(325.74146, 866.8775)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 8/15: extraOffset=9,2, distance=61,2px, pos=(327.34534, 865.77)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 9/15: extraOffset=0,2, distance=52,2px, pos=(319.96817, 871.0726)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 10/15: extraOffset=-10,8, distance=41,2px, pos=(311.70752, 878.5983)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 11/15: extraOffset=-3,3, distance=48,7px, pos=(318.33246, 875.02515)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 12/15: extraOffset=-12,7, distance=39,3px, pos=(310.20416, 879.8906)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 13/15: extraOffset=1,5, distance=53,5px, pos=(324.08633, 875.6681)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 14/15: extraOffset=-8,9, distance=43,1px, pos=(314.87006, 880.65)
[09:30:14] [INFO] [Shotgun.FIX#212] Normal pellet 15/15: extraOffset=2,0, distance=54,0px, pos=(325.51135, 877.6945)
[09:30:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(275.9158, 899.0281), source=PLAYER (Shotgun), range=1469, listeners=10
[09:30:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:30:14] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=550), can_see=false
[09:30:14] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=109.6°, current=-157.5°, player=(275,899), corner_timer=0.00
[09:30:14] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=370), can_see=false
[09:30:14] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:14] [ENEMY] [Enemy2] Pursuing vulnerability sound at (275.9158, 899.0281), distance=370
[09:30:14] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=160.6°, current=-33.8°, player=(275,899), corner_timer=0.00
[09:30:14] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=450), can_see=false
[09:30:14] [ENEMY] [Enemy3] Pursuing vulnerability sound at (275.9158, 899.0281), distance=450
[09:30:14] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=524), can_see=false
[09:30:14] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1526), can_see=false
[09:30:14] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1733), can_see=false
[09:30:14] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1331), can_see=false
[09:30:14] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1715), can_see=false
[09:30:14] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1937), can_see=false
[09:30:14] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1130), can_see=false
[09:30:14] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:14] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:14] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:14] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:14] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:14] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:14] [ENEMY] [Enemy4] Memory: medium confidence (0.53) - transitioning to PURSUING
[09:30:14] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:30:14] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:14] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:14] [ENEMY] [Enemy1] Memory: medium confidence (0.53) - transitioning to PURSUING
[09:30:14] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:30:14] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:14] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-178.6°, current=-101.3°, player=(260,886), corner_timer=0.00
[09:30:14] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(260,886), corner_timer=0.30
[09:30:14] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(260,886), corner_timer=0.30
[09:30:14] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[09:30:14] [INFO] [ImpactEffects] spawn_blood_effect called at (657.6177, 754.9194), dir=(1, 0), lethal=false
[09:30:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:14] [INFO] [ImpactEffects] Blood effect spawned at (657.6177, 754.9194) (scale=1)
[09:30:14] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[09:30:14] [INFO] [ImpactEffects] spawn_blood_effect called at (657.6177, 754.9194), dir=(1, 0), lethal=false
[09:30:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:14] [INFO] [ImpactEffects] Blood effect spawned at (657.6177, 754.9194) (scale=1)
[09:30:14] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[09:30:14] [INFO] [ImpactEffects] spawn_blood_effect called at (657.6177, 754.9194), dir=(1, 0), lethal=true
[09:30:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:14] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:30:14] [INFO] [ImpactEffects] Blood effect spawned at (657.6177, 754.9194) (scale=1.5)
[09:30:14] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:30:14] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:30:14] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:30:14] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:30:14] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:30:14] [INFO] [PowerFantasy]   - Duration: 300ms
[09:30:14] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:30:14] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:30:14] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:30:14] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:30:14] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=94.3°, current=33.8°, player=(259,885), corner_timer=0.00
[09:30:14] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [PowerFantasy] Effect duration expired after 311.00 ms
[09:30:15] [INFO] [PowerFantasy] Ending power fantasy effect
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=523), can_see=false
[09:30:15] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=345), can_see=false
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=523), can_see=false
[09:30:15] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1539), can_see=false
[09:30:15] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1749), can_see=false
[09:30:15] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1377), can_see=false
[09:30:15] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1739), can_see=false
[09:30:15] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1961), can_see=false
[09:30:15] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1170), can_see=false
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [ReplayManager] Recording frame 120 (1,7s): player_valid=True, enemies=10
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [EnemyGrenade] Throw path blocked to (275.9158, 899.0281)
[09:30:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:15] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:15] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:15] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:15] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:15] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:15] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:15] [ENEMY] [Enemy1] Death animation component initialized
[09:30:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:15] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:15] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:15] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:15] [ENEMY] [Enemy2] Death animation component initialized
[09:30:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:15] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:15] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:15] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:15] [ENEMY] [Enemy3] Death animation component initialized
[09:30:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:15] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:15] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:15] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:15] [ENEMY] [Enemy4] Death animation component initialized
[09:30:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:15] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:15] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:15] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:15] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:15] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:15] [ENEMY] [Grenadier] Death animation component initialized
[09:30:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:15] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:15] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:15] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:15] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:30:15] [ENEMY] [Enemy6] Death animation component initialized
[09:30:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:15] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:15] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:15] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:15] [ENEMY] [Enemy7] Death animation component initialized
[09:30:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:15] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:15] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:15] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:15] [ENEMY] [Enemy8] Death animation component initialized
[09:30:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:15] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:15] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:15] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:15] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:30:15] [ENEMY] [Enemy9] Death animation component initialized
[09:30:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:15] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:15] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:15] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:15] [ENEMY] [Enemy10] Death animation component initialized
[09:30:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:15] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:15] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:15] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:15] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[09:30:15] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:15] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[09:30:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:15] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:15] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:15] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:15] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:15] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 10/10
[09:30:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:15] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:15] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:15] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:15] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:15] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:15] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:15] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:15] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:15] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:15] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:15] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:15] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:15] [INFO] [BuildingLevel] Setting up weapon: shotgun
[09:30:15] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[09:30:15] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:15] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:15] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:15] [INFO] [ReplayManager] Replay data cleared
[09:30:15] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:15] [INFO] [ReplayManager] Detected player weapon: Shotgun
[09:30:15] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:15] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:15] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:15] [INFO] [ReplayManager] Enemies count: 10
[09:30:15] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[09:30:15] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:15] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:15] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:15] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:15] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:15] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:15] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:15] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:15] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:15] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:15] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (717.2614, 783.6678) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (727.1913, 784.1414) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (739.7266, 792.4332) (added to group)
[09:30:15] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:15] [INFO] [CinemaEffects] Found player node: Player
[09:30:15] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:30:15] [ENEMY] [Enemy1] Registered as sound listener
[09:30:15] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:30:15] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:30:15] [ENEMY] [Enemy2] Registered as sound listener
[09:30:15] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:30:15] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:30:15] [ENEMY] [Enemy3] Registered as sound listener
[09:30:15] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:30:15] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:30:15] [ENEMY] [Enemy4] Registered as sound listener
[09:30:15] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:30:15] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:15] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:30:15] [ENEMY] [Grenadier] Registered as sound listener
[09:30:15] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:15] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:30:15] [ENEMY] [Enemy6] Registered as sound listener
[09:30:15] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:30:15] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:30:15] [ENEMY] [Enemy7] Registered as sound listener
[09:30:15] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:30:15] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:30:15] [ENEMY] [Enemy8] Registered as sound listener
[09:30:15] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:30:15] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:30:15] [ENEMY] [Enemy9] Registered as sound listener
[09:30:15] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:30:15] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:30:15] [ENEMY] [Enemy10] Registered as sound listener
[09:30:15] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:30:15] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:15] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:15] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:15] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:15] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:15] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:15] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:15] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:15] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:15] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:15] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[09:30:15] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[09:30:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:15] [INFO] [LastChance] Found player: Player
[09:30:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:15] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:15] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (733.6948, 800.617) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (751.8212, 743.6857) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (743.6294, 762.9705) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (737.2773, 762.2266) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (715.9436, 776.8296) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (786.0996, 792.9531) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (731.1288, 799.2412) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (716.3585, 778.0453) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (708.0796, 762.0327) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (754.8619, 791.6822) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (714.0768, 762.5424) (added to group)
[09:30:15] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (754.5883, 803.1606) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (754.3641, 794.8439) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (815.2455, 791.0903) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (773.3887, 754.9202) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (834.9282, 798.5884) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (739.5336, 791.6731) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (780.6855, 787.5836) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (858.1021, 836.712) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (816.103, 790.0532) (added to group)
[09:30:15] [INFO] [BloodDecal] Blood puddle created at (829.3043, 836.082) (added to group)
[09:30:16] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:16] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:17] [ENEMY] [Enemy1] Player ammo empty: false -> true
[09:30:17] [ENEMY] [Enemy2] Player ammo empty: false -> true
[09:30:17] [ENEMY] [Enemy3] Player ammo empty: false -> true
[09:30:17] [ENEMY] [Enemy4] Player ammo empty: false -> true
[09:30:17] [ENEMY] [Grenadier] Player ammo empty: false -> true
[09:30:17] [ENEMY] [Enemy6] Player ammo empty: false -> true
[09:30:17] [ENEMY] [Enemy7] Player ammo empty: false -> true
[09:30:17] [ENEMY] [Enemy8] Player ammo empty: false -> true
[09:30:17] [ENEMY] [Enemy9] Player ammo empty: false -> true
[09:30:17] [ENEMY] [Enemy10] Player ammo empty: false -> true
[09:30:17] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(274.3503, 887.6089), source=PLAYER (Player), range=600, listeners=19
[09:30:17] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:30:17] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (274.3503, 887.6089), intensity=0.02, distance=360
[09:30:17] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:17] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (274.3503, 887.6089), intensity=0.01, distance=447
[09:30:17] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[09:30:17] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(274.3503, 887.6089)
[09:30:17] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-7,0, distance=45,0px, pos=(310.3616, 860.6999)
[09:30:17] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-6,1, distance=45,9px, pos=(312.07324, 861.4105)
[09:30:17] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=11,8, distance=63,8px, pos=(328.21042, 853.4521)
[09:30:17] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=0,4, distance=52,4px, pos=(318.8197, 859.8111)
[09:30:17] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-11,7, distance=40,3px, pos=(309.0619, 867.1499)
[09:30:17] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=7,9, distance=59,9px, pos=(326.55438, 858.24994)
[09:30:17] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-7,2, distance=44,8px, pos=(314.36578, 867.3795)
[09:30:17] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-3,4, distance=48,6px, pos=(317.81097, 865.78143)
[09:30:17] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=13,1, distance=65,1px, pos=(333.6706, 860.69794)
[09:30:17] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=10,2, distance=62,2px, pos=(331.84073, 863.80225)
[09:30:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(274.3503, 887.6089), source=PLAYER (Shotgun), range=1469, listeners=10
[09:30:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:30:17] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=538), can_see=false
[09:30:17] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=110.4°, current=168.8°, player=(274,887), corner_timer=0.00
[09:30:17] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=360), can_see=false
[09:30:17] [ENEMY] [Enemy2] Pursuing vulnerability sound at (274.3503, 887.6089), distance=360
[09:30:17] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=162.1°, current=11.3°, player=(274,887), corner_timer=0.00
[09:30:17] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=447), can_see=false
[09:30:17] [ENEMY] [Enemy3] Pursuing vulnerability sound at (274.3503, 887.6089), distance=447
[09:30:17] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=526), can_see=false
[09:30:17] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1524), can_see=false
[09:30:17] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1732), can_see=false
[09:30:17] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1333), can_see=false
[09:30:17] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1720), can_see=false
[09:30:17] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1942), can_see=false
[09:30:17] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1138), can_see=false
[09:30:17] [ENEMY] [Enemy4] Memory: medium confidence (0.53) - transitioning to PURSUING
[09:30:17] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:30:17] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:17] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:17] [ENEMY] [Enemy1] Memory: medium confidence (0.53) - transitioning to PURSUING
[09:30:17] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:30:17] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-178.0°, current=-67.5°, player=(266,881), corner_timer=0.00
[09:30:17] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(266,881), corner_timer=0.30
[09:30:17] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(266,881), corner_timer=0.30
[09:30:17] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=93.8°, current=168.8°, player=(264,879), corner_timer=0.00
[09:30:17] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:30:17] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:30:17] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=162.9°, current=170.3°, player=(262,877), corner_timer=0.00
[09:30:17] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=419)
[09:30:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[09:30:17] [INFO] [ImpactEffects] spawn_blood_effect called at (657.6177, 754.9194), dir=(1, 0), lethal=false
[09:30:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:17] [INFO] [ImpactEffects] Blood effect spawned at (657.6177, 754.9194) (scale=1)
[09:30:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[09:30:17] [INFO] [ImpactEffects] spawn_blood_effect called at (657.6177, 754.9194), dir=(1, 0), lethal=false
[09:30:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:17] [INFO] [ImpactEffects] Blood effect spawned at (657.6177, 754.9194) (scale=1)
[09:30:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[09:30:17] [INFO] [ImpactEffects] spawn_blood_effect called at (657.6177, 754.9194), dir=(1, 0), lethal=false
[09:30:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:17] [INFO] [ImpactEffects] Blood effect spawned at (657.6177, 754.9194) (scale=1)
[09:30:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[09:30:17] [INFO] [ImpactEffects] spawn_blood_effect called at (657.6177, 754.9194), dir=(1, 0), lethal=true
[09:30:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:17] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:30:17] [INFO] [ImpactEffects] Blood effect spawned at (657.6177, 754.9194) (scale=1.5)
[09:30:17] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:30:17] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:30:17] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:30:17] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:30:17] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:30:17] [INFO] [PowerFantasy]   - Duration: 300ms
[09:30:17] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:30:17] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:30:17] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:30:17] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:30:17] [INFO] [PowerFantasy] Effect duration expired after 303.00 ms
[09:30:17] [INFO] [PowerFantasy] Ending power fantasy effect
[09:30:17] [INFO] [ReplayManager] Recording frame 120 (1,7s): player_valid=True, enemies=10
[09:30:17] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=510), can_see=false
[09:30:17] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=336), can_see=false
[09:30:17] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=500), can_see=false
[09:30:17] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1533), can_see=false
[09:30:17] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1743), can_see=false
[09:30:17] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1387), can_see=false
[09:30:17] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1738), can_see=false
[09:30:17] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1960), can_see=false
[09:30:17] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1175), can_see=false
[09:30:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.5°, player=(259,876), corner_timer=-0.02
[09:30:17] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.6°, player=(259,876), corner_timer=-0.02
[09:30:17] [ENEMY] [Enemy10] PATROL corner check: angle 14.2°
[09:30:17] [INFO] [BloodDecal] Blood puddle created at (714.9681, 754.1747) (added to group)
[09:30:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.6°, player=(259,876), corner_timer=0.30
[09:30:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.2°, current=53.0°, player=(259,876), corner_timer=0.30
[09:30:17] [INFO] [BloodDecal] Blood puddle created at (710.5003, 789.5146) (added to group)
[09:30:17] [INFO] [BloodDecal] Blood puddle created at (712.0568, 781.4796) (added to group)
[09:30:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:17] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:17] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:17] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:17] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:17] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:17] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:17] [ENEMY] [Enemy1] Death animation component initialized
[09:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:17] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:17] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:17] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:17] [ENEMY] [Enemy2] Death animation component initialized
[09:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:17] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:17] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:17] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:17] [ENEMY] [Enemy3] Death animation component initialized
[09:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:17] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:17] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:17] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:17] [ENEMY] [Enemy4] Death animation component initialized
[09:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:17] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:17] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:17] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:17] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:17] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:17] [ENEMY] [Grenadier] Death animation component initialized
[09:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:17] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:17] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:17] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:17] [ENEMY] [Enemy6] Death animation component initialized
[09:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:17] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:17] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:17] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:17] [ENEMY] [Enemy7] Death animation component initialized
[09:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:17] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:17] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:17] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:17] [ENEMY] [Enemy8] Death animation component initialized
[09:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:17] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:17] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:17] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:17] [ENEMY] [Enemy9] Death animation component initialized
[09:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:17] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:17] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:17] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:17] [ENEMY] [Enemy10] Death animation component initialized
[09:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:17] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:17] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:17] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:17] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[09:30:17] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:17] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[09:30:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:17] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:17] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:17] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:17] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:17] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:17] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 10/10
[09:30:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:17] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:17] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:17] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:17] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:17] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:17] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:17] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:17] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:17] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:17] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:17] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:17] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:17] [INFO] [BuildingLevel] Setting up weapon: shotgun
[09:30:17] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[09:30:17] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:17] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:17] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:17] [INFO] [ReplayManager] Replay data cleared
[09:30:17] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:17] [INFO] [ReplayManager] Detected player weapon: Shotgun
[09:30:17] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:17] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:17] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:17] [INFO] [ReplayManager] Enemies count: 10
[09:30:17] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[09:30:17] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:17] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:17] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:17] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:17] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:17] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:17] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:17] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:17] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:17] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:17] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:17] [INFO] [BloodDecal] Blood puddle created at (709.6838, 772.0554) (added to group)
[09:30:17] [INFO] [BloodDecal] Blood puddle created at (710.8489, 793.3387) (added to group)
[09:30:17] [INFO] [BloodDecal] Blood puddle created at (753.2766, 777.1937) (added to group)
[09:30:17] [INFO] [BloodDecal] Blood puddle created at (737.1188, 747.172) (added to group)
[09:30:17] [INFO] [BloodDecal] Blood puddle created at (711.6769, 778.2087) (added to group)
[09:30:17] [INFO] [BloodDecal] Blood puddle created at (711.3663, 768.0853) (added to group)
[09:30:17] [INFO] [BloodDecal] Blood puddle created at (727.2551, 754.5512) (added to group)
[09:30:17] [INFO] [BloodDecal] Blood puddle created at (741.3082, 748.2083) (added to group)
[09:30:17] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:17] [INFO] [CinemaEffects] Found player node: Player
[09:30:17] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:30:17] [ENEMY] [Enemy1] Registered as sound listener
[09:30:17] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:30:17] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:30:17] [ENEMY] [Enemy2] Registered as sound listener
[09:30:17] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:30:17] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:30:17] [ENEMY] [Enemy3] Registered as sound listener
[09:30:17] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:30:17] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:30:17] [ENEMY] [Enemy4] Registered as sound listener
[09:30:17] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:30:17] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:17] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:30:17] [ENEMY] [Grenadier] Registered as sound listener
[09:30:17] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:17] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:30:17] [ENEMY] [Enemy6] Registered as sound listener
[09:30:17] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:30:17] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:30:17] [ENEMY] [Enemy7] Registered as sound listener
[09:30:17] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:30:17] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:30:17] [ENEMY] [Enemy8] Registered as sound listener
[09:30:17] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:30:17] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:30:17] [ENEMY] [Enemy9] Registered as sound listener
[09:30:17] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:30:17] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:30:17] [ENEMY] [Enemy10] Registered as sound listener
[09:30:17] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:30:17] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:18] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:18] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:18] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:18] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:18] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:18] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:18] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:18] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:18] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:18] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[09:30:18] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[09:30:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:18] [INFO] [LastChance] Found player: Player
[09:30:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:18] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:18] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (803.1312, 769.0142) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (766.5062, 774.7886) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (767.7106, 809.418) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (767.8013, 736.5583) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (797.1708, 754.2885) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (780.3625, 818.2139) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (759.7801, 784.2578) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (731.2938, 783.2603) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (746.6262, 748.9856) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (728.0131, 788.3979) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (760.9654, 735.9622) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (784.2081, 742.6611) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (775.0288, 775.6472) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (727.363, 774.6219) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (757.0593, 783.457) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (822.1216, 786.287) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (818.055, 797.422) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (818.8129, 833.1379) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (785.7799, 790.2179) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (849.8182, 805.9178) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (815.3987, 798.2224) (added to group)
[09:30:18] [INFO] [BloodDecal] Blood puddle created at (842.7793, 801.4697) (added to group)
[09:30:18] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:19] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:19] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:19] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:19] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(241,981), corner_timer=0.30
[09:30:19] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(241,981), corner_timer=0.30
[09:30:19] [ENEMY] [Enemy1] Player ammo empty: false -> true
[09:30:19] [ENEMY] [Enemy2] Player ammo empty: false -> true
[09:30:19] [ENEMY] [Enemy3] Player ammo empty: false -> true
[09:30:19] [ENEMY] [Enemy4] Player ammo empty: false -> true
[09:30:19] [ENEMY] [Grenadier] Player ammo empty: false -> true
[09:30:19] [ENEMY] [Enemy6] Player ammo empty: false -> true
[09:30:19] [ENEMY] [Enemy7] Player ammo empty: false -> true
[09:30:19] [ENEMY] [Enemy8] Player ammo empty: false -> true
[09:30:19] [ENEMY] [Enemy9] Player ammo empty: false -> true
[09:30:19] [ENEMY] [Enemy10] Player ammo empty: false -> true
[09:30:19] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(198.8428, 938.8334), source=PLAYER (Player), range=600, listeners=19
[09:30:19] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:30:19] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (198.8428, 938.8334), intensity=0.01, distance=438
[09:30:19] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=2
[09:30:19] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(198.84279, 938.8334)
[09:30:19] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-1,4, distance=50,6px, pos=(240.3154, 909.9167)
[09:30:19] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=1,5, distance=53,5px, pos=(243.52084, 909.40063)
[09:30:19] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=13,3, distance=65,3px, pos=(254.36827, 904.38885)
[09:30:19] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=0,2, distance=52,2px, pos=(244.13208, 912.811)
[09:30:19] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=2,3, distance=54,3px, pos=(246.46448, 912.7058)
[09:30:19] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=7,1, distance=59,1px, pos=(251.45343, 911.80475)
[09:30:19] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=-12,9, distance=39,1px, pos=(234.57028, 922.9455)
[09:30:19] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-14,7, distance=37,3px, pos=(233.25085, 924.3562)
[09:30:19] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=5,1, distance=57,1px, pos=(251.52487, 916.71606)
[09:30:19] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-4,6, distance=47,4px, pos=(243.23535, 922.09717)
[09:30:19] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=5,5, distance=57,5px, pos=(252.66893, 918.5957)
[09:30:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(198.8428, 938.8334), source=PLAYER (Shotgun), range=1469, listeners=10
[09:30:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[09:30:19] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=597), can_see=false
[09:30:19] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=117.4°, current=-67.5°, player=(198,938), corner_timer=0.00
[09:30:19] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=438), can_see=false
[09:30:19] [ENEMY] [Enemy2] Pursuing vulnerability sound at (198.8428, 938.8334), distance=438
[09:30:19] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=536), can_see=false
[09:30:19] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=602), can_see=false
[09:30:19] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1613), can_see=false
[09:30:19] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1818), can_see=false
[09:30:19] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1453), can_see=false
[09:30:19] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1776), can_see=false
[09:30:19] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1997), can_see=false
[09:30:19] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1190), can_see=false
[09:30:19] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:30:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(174,916), corner_timer=-0.02
[09:30:19] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(174,916), corner_timer=-0.02
[09:30:19] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:30:19] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[09:30:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(172,914), corner_timer=0.30
[09:30:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(172,914), corner_timer=0.30
[09:30:19] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[09:30:19] [INFO] [Shotgun.FIX#445] dragStartPos=(644, 677), aimDir=(0,90, -0,44)
[09:30:19] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[09:30:19] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[09:30:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:19] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[09:30:19] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:20] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:20] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:20] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:20] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=0), need PumpUp - recentering cursor
[09:30:20] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[09:30:20] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[09:30:20] [ENEMY] [Enemy3] Memory: medium confidence (0.51) - transitioning to PURSUING
[09:30:20] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[09:30:20] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:20] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=163.9°, current=-155.9°, player=(161,905), corner_timer=0.00
[09:30:20] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[09:30:20] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:20] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[09:30:20] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[09:30:20] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=90.0°, current=-9.6°, player=(161,905), corner_timer=0.00
[09:30:20] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:20] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:20] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:30:20] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:30:20] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:20] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=573), can_see=false
[09:30:20] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=438), can_see=false
[09:30:20] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=557), can_see=false
[09:30:20] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=638), can_see=false
[09:30:20] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1636), can_see=false
[09:30:20] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1845), can_see=false
[09:30:20] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[09:30:20] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1821), can_see=false
[09:30:20] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2042), can_see=false
[09:30:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(161,905), corner_timer=-0.01
[09:30:20] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1227), can_see=false
[09:30:20] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[09:30:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(161,905), corner_timer=0.30
[09:30:20] [INFO] [BloodDecal] Blood puddle created at (765.3109, 741.0477) (added to group)
[09:30:20] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-3,1, 114,2), length=114,2, isDragUp=False, isDragDown=True, ActionState=Ready
[09:30:20] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(161.8105, 905.8164), source=PLAYER (Player), range=600, listeners=10
[09:30:20] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (161.8105, 905.8164), intensity=0.01, distance=424
[09:30:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=2
[09:30:20] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(161.81046, 905.8164)
[09:30:20] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-14,7, distance=37,3px, pos=(192.52612, 884.6607)
[09:30:20] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-14,0, distance=38,0px, pos=(193.60593, 885.0909)
[09:30:20] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=13,0, distance=65,0px, pos=(218.08514, 873.3009)
[09:30:20] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-10,9, distance=41,1px, pos=(197.56192, 885.51215)
[09:30:20] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=7,8, distance=59,8px, pos=(214.78401, 877.9969)
[09:30:20] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=9,9, distance=61,9px, pos=(217.69681, 879.21814)
[09:30:20] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-12,3, distance=39,7px, pos=(197.58481, 888.5484)
[09:30:20] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=4,0, distance=56,0px, pos=(213.29474, 883.72156)
[09:30:20] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=9,5, distance=61,5px, pos=(217.97707, 880.707)
[09:30:20] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=-3,9, distance=48,1px, pos=(207.00014, 889.2617)
[09:30:20] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-2,3, distance=49,7px, pos=(208.78458, 889.6773)
[09:30:20] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=14,1, distance=66,1px, pos=(224.54248, 884.86346)
[09:30:20] [INFO] [Shotgun.FIX#445v7] Reset drag start position after firing (continuous pump mode)
[09:30:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(161.8105, 905.8164), source=PLAYER (Shotgun), range=1469, listeners=10
[09:30:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[09:30:20] [INFO] [BloodDecal] Blood puddle created at (792.9362, 832.2656) (added to group)
[09:30:20] [INFO] [BloodDecal] Blood puddle created at (829.4008, 846.6202) (added to group)
[09:30:20] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=150.2°, current=149.6°, player=(161,905), corner_timer=0.00
[09:30:20] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=418)
[09:30:20] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[09:30:20] [ENEMY] [Enemy2] FLANKING started: target=(164.0724, 705.8292), side=left, pos=(524.0657, 702.0958)
[09:30:20] [ENEMY] [Enemy2] State: COMBAT -> FLANKING
[09:30:20] [ENEMY] [Enemy2] FLANKING started: target=(165.7236, 705.8547), side=left, pos=(524.0657, 706.0148)
[09:30:20] [ENEMY] [Enemy2] FLANKING started: target=(167.3897, 705.8942), side=left, pos=(524.0657, 709.9338)
[09:30:20] [INFO] [BloodDecal] Blood puddle created at (849.6594, 863.057) (added to group)
[09:30:20] [INFO] [BloodDecal] Blood puddle created at (862.5558, 821.5679) (added to group)
[09:30:20] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[09:30:20] [ENEMY] [Enemy2] PURSUING corner check: angle 48.1°
[09:30:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(161,905), corner_timer=-0.01
[09:30:20] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[09:30:20] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/3->2/3
[09:30:20] [INFO] [ImpactEffects] spawn_blood_effect called at (521.3619, 723.4156), dir=(1, 0), lethal=false
[09:30:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:20] [INFO] [ImpactEffects] Blood effect spawned at (521.3619, 723.4156) (scale=1)
[09:30:20] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/3->1/3
[09:30:20] [INFO] [ImpactEffects] spawn_blood_effect called at (521.3619, 723.4156), dir=(1, 0), lethal=false
[09:30:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:20] [INFO] [ImpactEffects] Blood effect spawned at (521.3619, 723.4156) (scale=1)
[09:30:20] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/3->0/3
[09:30:20] [INFO] [ImpactEffects] spawn_blood_effect called at (521.3619, 723.4156), dir=(1, 0), lethal=true
[09:30:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:30:20] [INFO] [ImpactEffects] Blood effect spawned at (521.3619, 723.4156) (scale=1.5)
[09:30:20] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[09:30:20] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:30:20] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:30:20] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:30:20] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:30:20] [INFO] [PowerFantasy]   - Duration: 300ms
[09:30:20] [ENEMY] [Enemy2] [AllyDeath] Notified 3 enemies
[09:30:20] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[09:30:20] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:30:20] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[09:30:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.2°, player=(161,905), corner_timer=0.30
[09:30:20] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=573), can_see=false
[09:30:20] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=557), can_see=false
[09:30:20] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=638), can_see=false
[09:30:20] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1636), can_see=false
[09:30:20] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1845), can_see=false
[09:30:20] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[09:30:20] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1821), can_see=false
[09:30:20] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2042), can_see=false
[09:30:20] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1221), can_see=false
[09:30:21] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[09:30:21] [INFO] [PowerFantasy] Effect duration expired after 313.00 ms
[09:30:21] [INFO] [PowerFantasy] Ending power fantasy effect
[09:30:21] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:21] [INFO] [ReplayManager] Recording frame 180 (2,6s): player_valid=True, enemies=10
[09:30:21] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:21] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (880.3444, 792.3791) (added to group)
[09:30:21] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[09:30:21] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:21] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (617.8524, 760.0938) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (572.7662, 756.5395) (added to group)
[09:30:21] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (615.4343, 707.7419) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (619.5369, 700.9272) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (620.8042, 714.9024) (added to group)
[09:30:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(161,905), corner_timer=-0.01
[09:30:21] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[09:30:21] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=573), can_see=false
[09:30:21] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=557), can_see=false
[09:30:21] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=638), can_see=false
[09:30:21] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1636), can_see=false
[09:30:21] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1845), can_see=false
[09:30:21] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[09:30:21] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1821), can_see=false
[09:30:21] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2042), can_see=false
[09:30:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=6.4°, player=(161,905), corner_timer=0.30
[09:30:21] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1218), can_see=false
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (624.6797, 767.3787) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (630.0868, 736.709) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (594.7235, 776.5664) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (589.7937, 782.9038) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (608.4496, 721.4252) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (608.7285, 763.6763) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (625.4895, 791.4189) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (588.8412, 761.8683) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (631.2291, 734.4034) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (588.2128, 775.4803) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (646.7954, 732.3148) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (660.3291, 810.1076) (added to group)
[09:30:21] [ENEMY] [Enemy2] Ragdoll activated
[09:30:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (640.493, 713.3221) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (674.6259, 755.9088) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (671.4706, 747.4069) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (677.4678, 849.1534) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (609.5001, 805.4297) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (625.2048, 797.7982) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (646.3948, 745.8657) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (666.4164, 779.4906) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (615.103, 797.0466) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (639.4207, 735.6138) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (637.8081, 774.4452) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (652.3831, 792.179) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (677.547, 813.5516) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (688.3771, 775.2128) (added to group)
[09:30:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(161,905), corner_timer=-0.02
[09:30:21] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[09:30:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.7°, player=(161,905), corner_timer=0.30
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (664.1475, 884.6343) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (644.5748, 853.5405) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (750.5276, 785.4259) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (732.421, 730.7827) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (720.4945, 932.8755) (added to group)
[09:30:21] [INFO] [BloodDecal] Blood puddle created at (634.4369, 801.1551) (added to group)
[09:30:21] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=573), can_see=false
[09:30:21] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=557), can_see=false
[09:30:21] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=638), can_see=false
[09:30:21] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1636), can_see=false
[09:30:21] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1845), can_see=false
[09:30:21] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[09:30:21] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1821), can_see=false
[09:30:21] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2042), can_see=false
[09:30:21] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1216), can_see=false
[09:30:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:30:22] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[09:30:22] [INFO] [Shotgun.FIX#243] RMB released after 27 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[09:30:22] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(15,4, 18,6), length=24,1, ActionState=Ready
[09:30:22] [INFO] [Shotgun.FIX#445v7] Drag too short: 24,1 < 30
[09:30:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(161,905), corner_timer=-0.02
[09:30:22] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[09:30:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(161,905), corner_timer=0.30
[09:30:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:22] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:22] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:22] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:22] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:22] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:22] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:22] [ENEMY] [Enemy1] Death animation component initialized
[09:30:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:22] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:22] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:22] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:22] [ENEMY] [Enemy2] Death animation component initialized
[09:30:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:22] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:22] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:22] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:22] [ENEMY] [Enemy3] Death animation component initialized
[09:30:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:22] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:22] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:22] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:22] [ENEMY] [Enemy4] Death animation component initialized
[09:30:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:22] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:22] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:22] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:22] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:22] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:22] [ENEMY] [Grenadier] Death animation component initialized
[09:30:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:22] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:22] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:22] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:22] [ENEMY] [Enemy6] Death animation component initialized
[09:30:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:22] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:22] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:22] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:22] [ENEMY] [Enemy7] Death animation component initialized
[09:30:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:22] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:22] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:22] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:22] [ENEMY] [Enemy8] Death animation component initialized
[09:30:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:22] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:22] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:22] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:22] [ENEMY] [Enemy9] Death animation component initialized
[09:30:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:22] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:22] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:22] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:22] [ENEMY] [Enemy10] Death animation component initialized
[09:30:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:22] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:22] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:22] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:22] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[09:30:22] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:22] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[09:30:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:22] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:22] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:22] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:22] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:22] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:22] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 10/10
[09:30:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:22] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:22] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:22] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:22] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:22] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:22] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:22] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:22] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:22] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:22] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:22] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:22] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:22] [INFO] [BuildingLevel] Setting up weapon: shotgun
[09:30:22] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[09:30:22] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:22] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:22] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:22] [INFO] [ReplayManager] Replay data cleared
[09:30:22] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:22] [INFO] [ReplayManager] Detected player weapon: Shotgun
[09:30:22] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:22] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:22] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:22] [INFO] [ReplayManager] Enemies count: 10
[09:30:22] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[09:30:22] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:22] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:22] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:22] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:22] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:22] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:22] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:22] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:22] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:22] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:22] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:22] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:22] [INFO] [CinemaEffects] Found player node: Player
[09:30:22] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:30:22] [ENEMY] [Enemy1] Registered as sound listener
[09:30:22] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:30:22] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:30:22] [ENEMY] [Enemy2] Registered as sound listener
[09:30:22] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:30:22] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:30:22] [ENEMY] [Enemy3] Registered as sound listener
[09:30:22] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:30:22] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:30:22] [ENEMY] [Enemy4] Registered as sound listener
[09:30:22] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:30:22] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:22] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:30:22] [ENEMY] [Grenadier] Registered as sound listener
[09:30:22] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:22] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:30:22] [ENEMY] [Enemy6] Registered as sound listener
[09:30:22] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:30:22] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:30:22] [ENEMY] [Enemy7] Registered as sound listener
[09:30:22] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:30:22] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:30:22] [ENEMY] [Enemy8] Registered as sound listener
[09:30:22] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:30:22] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:30:22] [ENEMY] [Enemy9] Registered as sound listener
[09:30:22] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:30:22] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:30:22] [ENEMY] [Enemy10] Registered as sound listener
[09:30:22] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:30:22] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:22] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:22] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:22] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:22] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:22] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:22] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:22] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:22] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:22] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:22] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[09:30:22] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[09:30:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:22] [INFO] [LastChance] Found player: Player
[09:30:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:22] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:22] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:23] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:23] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:23] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:24] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(352,821), corner_timer=0.30
[09:30:24] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(352,821), corner_timer=0.30
[09:30:24] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(352,728), corner_timer=-0.02
[09:30:24] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(352,728), corner_timer=-0.02
[09:30:24] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:30:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(352,728), corner_timer=0.30
[09:30:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(352,728), corner_timer=0.30
[09:30:24] [ENEMY] [Enemy1] Player ammo empty: false -> true
[09:30:24] [ENEMY] [Enemy2] Player ammo empty: false -> true
[09:30:24] [ENEMY] [Enemy3] Player ammo empty: false -> true
[09:30:24] [ENEMY] [Enemy4] Player ammo empty: false -> true
[09:30:24] [ENEMY] [Grenadier] Player ammo empty: false -> true
[09:30:24] [ENEMY] [Enemy6] Player ammo empty: false -> true
[09:30:24] [ENEMY] [Enemy7] Player ammo empty: false -> true
[09:30:24] [ENEMY] [Enemy8] Player ammo empty: false -> true
[09:30:24] [ENEMY] [Enemy9] Player ammo empty: false -> true
[09:30:24] [ENEMY] [Enemy10] Player ammo empty: false -> true
[09:30:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(352.7727, 728.0031), source=PLAYER (Player), range=600, listeners=19
[09:30:24] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:30:24] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (352.7727, 728.0031), intensity=0.02, distance=382
[09:30:24] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:24] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (352.7727, 728.0031), intensity=0.07, distance=184
[09:30:24] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:24] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (352.7727, 728.0031), intensity=0.02, distance=348
[09:30:24] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:24] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (352.7727, 728.0031), intensity=0.01, distance=479
[09:30:24] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[09:30:24] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(352.77267, 728.0031)
[09:30:24] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=1,0, distance=53,0px, pos=(405.66147, 730.883)
[09:30:24] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=3,3, distance=55,3px, pos=(408.05844, 729.9955)
[09:30:24] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=0,7, distance=52,7px, pos=(405.32773, 731.92633)
[09:30:24] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-11,9, distance=40,1px, pos=(392.54987, 733.1979)
[09:30:24] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=10,2, distance=62,2px, pos=(414.56583, 735.481)
[09:30:24] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-13,7, distance=38,3px, pos=(390.68243, 733.7335)
[09:30:24] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=14,1, distance=66,1px, pos=(417.4141, 741.90326)
[09:30:24] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-15,0, distance=37,0px, pos=(388.56894, 737.4467)
[09:30:24] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=8,3, distance=60,3px, pos=(410.73416, 744.55707)
[09:30:24] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=12,2, distance=64,2px, pos=(413.94614, 747.3488)
[09:30:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(352.7727, 728.0031), source=PLAYER (Shotgun), range=1469, listeners=10
[09:30:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:30:24] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=82.1°, current=168.8°, player=(352,728), corner_timer=0.00
[09:30:24] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=382), can_see=false
[09:30:24] [ENEMY] [Enemy1] Pursuing vulnerability sound at (352.7727, 728.0031), distance=382
[09:30:24] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=104.9°, current=-101.3°, player=(352,728), corner_timer=0.00
[09:30:24] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=184), can_see=false
[09:30:24] [ENEMY] [Enemy2] Pursuing vulnerability sound at (352.7727, 728.0031), distance=184
[09:30:24] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-176.4°, current=11.3°, player=(352,728), corner_timer=0.00
[09:30:24] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=348), can_see=false
[09:30:24] [ENEMY] [Enemy3] Pursuing vulnerability sound at (352.7727, 728.0031), distance=348
[09:30:24] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-159.0°, current=-67.5°, player=(352,728), corner_timer=0.00
[09:30:24] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=479), can_see=false
[09:30:24] [ENEMY] [Enemy4] Pursuing vulnerability sound at (352.7727, 728.0031), distance=479
[09:30:24] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1399), can_see=false
[09:30:24] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1621), can_see=false
[09:30:24] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1357), can_see=false
[09:30:24] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1707), can_see=false
[09:30:24] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1931), can_see=false
[09:30:24] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1203), can_see=false
[09:30:24] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-176.4°, current=-163.6°, player=(352,728), corner_timer=0.00
[09:30:24] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:30:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.671, 749.7852), source=ENEMY (Enemy3), range=1469, listeners=10
[09:30:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[09:30:24] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:24] [INFO] [LastChance] Threat detected: Bullet
[09:30:24] [INFO] [LastChance] Not in hard mode - effect disabled
[09:30:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:30:24] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[09:30:24] [INFO] [ImpactEffects] spawn_blood_effect called at (668.0261, 748.7109), dir=(1, 0), lethal=false
[09:30:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:24] [INFO] [ImpactEffects] Blood effect spawned at (668.0261, 748.7109) (scale=1)
[09:30:24] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[09:30:24] [INFO] [ImpactEffects] spawn_blood_effect called at (668.0261, 748.7109), dir=(1, 0), lethal=false
[09:30:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:24] [INFO] [ImpactEffects] Blood effect spawned at (668.0261, 748.7109) (scale=1)
[09:30:24] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[09:30:24] [INFO] [ImpactEffects] spawn_blood_effect called at (668.0261, 748.7109), dir=(1, 0), lethal=true
[09:30:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:30:24] [INFO] [ImpactEffects] Blood effect spawned at (668.0261, 748.7109) (scale=1.5)
[09:30:24] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:30:24] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:30:24] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:30:24] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:30:24] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:30:24] [INFO] [PowerFantasy]   - Duration: 300ms
[09:30:24] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (668.0261, 748.7109), entering SEARCHING
[09:30:24] [ENEMY] [Enemy4] SEARCHING started: center=(668.0261, 748.7109), radius=100, waypoints=5
[09:30:24] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:30:24] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:30:24] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:30:24] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:30:24] [INFO] [Player] Spawning blood effect at (352.77267, 728.0031), dir=(1, 0), lethal=False (C#)
[09:30:24] [INFO] [ImpactEffects] spawn_blood_effect called at (352.7727, 728.0031), dir=(1, 0), lethal=false
[09:30:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:24] [INFO] [ImpactEffects] Blood effect spawned at (352.7727, 728.0031) (scale=1)
[09:30:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[09:30:24] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[09:30:24] [INFO] [PowerFantasy] Effect duration expired after 338.00 ms
[09:30:24] [INFO] [PowerFantasy] Ending power fantasy effect
[09:30:24] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=347), can_see=false
[09:30:24] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=164), can_see=false
[09:30:24] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=462), can_see=false
[09:30:24] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1400), can_see=false
[09:30:24] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1622), can_see=false
[09:30:24] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1356), can_see=false
[09:30:24] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1707), can_see=false
[09:30:24] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1930), can_see=false
[09:30:24] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1197), can_see=false
[09:30:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(352,730), corner_timer=-0.00
[09:30:24] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[09:30:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.6°, player=(352,732), corner_timer=0.30
[09:30:25] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-170.2°, current=-170.4°, player=(352,739), corner_timer=0.00
[09:30:25] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=447)
[09:30:25] [ENEMY] [Enemy4] State: SEARCHING -> PURSUING
[09:30:25] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-174.0°, current=111.3°, player=(352,752), corner_timer=0.00
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (705.9874, 754.67) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (717.9142, 752.2984) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (703.2053, 747.3402) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (741.5536, 750.6394) (added to group)
[09:30:25] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-176.0°, current=147.8°, player=(352,761), corner_timer=0.00
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (740.3019, 772.0708) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (735.1191, 783.4254) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (739.0224, 803.9794) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (754.0911, 791.7621) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (428.2362, 755.2804) (added to group)
[09:30:25] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-177.2°, current=-123.4°, player=(352,766), corner_timer=0.00
[09:30:25] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-178.4°, current=154.2°, player=(352,771), corner_timer=0.00
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (727.3077, 743.5296) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (776.5621, 736.3433) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (739.6434, 754.0927) (added to group)
[09:30:25] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[09:30:25] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-178.9°, current=83.6°, player=(352,777), corner_timer=0.00
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (791.1168, 784.447) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (772.0015, 812.619) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (780.3798, 727.3802) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (461.3295, 760.6644) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (419.1598, 750.8248) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (785.6421, 800.4401) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (777.9929, 771.2543) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (745.0963, 763.7843) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (744.2607, 756.5175) (added to group)
[09:30:25] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=175.6°, current=127.9°, player=(352,815), corner_timer=0.00
[09:30:25] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[09:30:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(352,815), corner_timer=-0.02
[09:30:25] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (790.5764, 829.4924) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (803.063, 778.3395) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (456.1099, 729.1765) (added to group)
[09:30:25] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=174.7°, current=175.6°, player=(352,821), corner_timer=0.00
[09:30:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.8°, player=(352,821), corner_timer=0.30
[09:30:25] [ENEMY] [Enemy3] Ragdoll activated
[09:30:25] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (791.582, 766.5858) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (766.7119, 750.4706) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (804.7571, 804.7219) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (472.4278, 756.0298) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (433.7206, 745.3502) (added to group)
[09:30:25] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:30:25] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=137.3°, current=118.6°, player=(352,848), corner_timer=0.00
[09:30:25] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.2729, 690.3545), source=ENEMY (Enemy2), range=1469, listeners=9
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (471.1869, 808.7864) (added to group)
[09:30:25] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[09:30:25] [INFO] [LastChance] Threat detected: Bullet
[09:30:25] [INFO] [LastChance] Not in hard mode - effect disabled
[09:30:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (863.2581, 767.8998) (added to group)
[09:30:25] [ENEMY] [Enemy1] Pursuing vulnerability sound at (352.7727, 728.0031), distance=226
[09:30:25] [ENEMY] [Enemy4] Pursuing vulnerability sound at (352.7727, 815.6653), distance=345
[09:30:25] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[09:30:25] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=359), can_see=false
[09:30:25] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=350), can_see=false
[09:30:25] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1444), can_see=false
[09:30:25] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1652), can_see=false
[09:30:25] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1346), can_see=false
[09:30:25] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1652), can_see=false
[09:30:25] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1875), can_see=false
[09:30:25] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1092), can_see=false
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (865.4023, 780.2827) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (829.8262, 850.6966) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (876.1691, 787.8117) (added to group)
[09:30:25] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.2729, 705.017), source=ENEMY (Enemy2), range=1469, listeners=9
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (894.4113, 859.2903) (added to group)
[09:30:25] [INFO] [LastChance] Threat detected: Bullet
[09:30:25] [INFO] [LastChance] Not in hard mode - effect disabled
[09:30:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:30:25] [INFO] [Player] Spawning blood effect at (352.77267, 920.1653), dir=(1, 0), lethal=False (C#)
[09:30:25] [INFO] [ImpactEffects] spawn_blood_effect called at (352.7727, 920.1653), dir=(1, 0), lethal=false
[09:30:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:25] [INFO] [ImpactEffects] Blood effect spawned at (352.7727, 920.1653) (scale=1)
[09:30:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[09:30:25] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[09:30:25] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[09:30:25] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.2729, 705.017), source=ENEMY (Enemy2), range=1469, listeners=9
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[09:30:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(352,925), corner_timer=-0.02
[09:30:25] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.9505, 685.544), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (501.9505, 685.544), intensity=0.20, dist=112
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (501.9505, 685.544), intensity=1.00, dist=27
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (501.9505, 685.544), intensity=0.08, dist=172
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(505.3929, 707.9275), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (505.3929, 707.9275), intensity=0.14, dist=134
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (505.3929, 707.9275), intensity=1.00, dist=20
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (505.3929, 707.9275), intensity=0.10, dist=156
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=6.4°, player=(352,931), corner_timer=0.30
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.4072, 684.8267), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (501.4072, 684.8267), intensity=0.22, dist=106
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (501.4072, 684.8267), intensity=1.00, dist=26
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (501.4072, 684.8267), intensity=0.09, dist=168
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(506.6503, 708.1426), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (506.6503, 708.1426), intensity=0.15, dist=130
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (506.6503, 708.1426), intensity=1.00, dist=21
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (506.6503, 708.1426), intensity=0.11, dist=150
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [LastChance] Threat detected: Bullet
[09:30:25] [INFO] [LastChance] Not in hard mode - effect disabled
[09:30:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.2736, 683.8015), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (500.2736, 683.8015), intensity=0.25, dist=99
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (500.2736, 683.8015), intensity=1.00, dist=26
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (500.2736, 683.8015), intensity=0.09, dist=165
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(506.9198, 708.4661), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (506.9198, 708.4661), intensity=0.16, dist=125
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (506.9198, 708.4661), intensity=1.00, dist=23
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (506.9198, 708.4661), intensity=0.12, dist=145
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(498.5453, 682.5558), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (498.5453, 682.5558), intensity=0.29, dist=92
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (498.5453, 682.5558), intensity=1.00, dist=27
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (498.5453, 682.5558), intensity=0.10, dist=162
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(506.9758, 708.8369), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (506.9758, 708.8369), intensity=0.17, dist=120
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (506.9758, 708.8369), intensity=1.00, dist=25
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (506.9758, 708.8369), intensity=0.13, dist=140
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(496.227, 681.175), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (496.227, 681.175), intensity=0.35, dist=85
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (496.227, 681.175), intensity=1.00, dist=28
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (496.227, 681.175), intensity=0.10, dist=159
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(506.9801, 709.2388), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (506.9801, 709.2388), intensity=0.19, dist=115
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (506.9801, 709.2388), intensity=1.00, dist=29
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (506.9801, 709.2388), intensity=0.14, dist=135
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(493.3322, 679.7365), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (493.3322, 679.7365), intensity=0.42, dist=77
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (493.3322, 679.7365), intensity=1.00, dist=31
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (493.3322, 679.7365), intensity=0.10, dist=157
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(506.9697, 710.3514), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (506.9697, 710.3514), intensity=0.20, dist=111
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (506.9697, 710.3514), intensity=1.00, dist=33
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (506.9697, 710.3514), intensity=0.15, dist=129
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [Player] Spawning blood effect at (352.77267, 964.1653), dir=(1, 0), lethal=False (C#)
[09:30:25] [INFO] [ImpactEffects] spawn_blood_effect called at (352.7727, 964.1653), dir=(1, 0), lethal=false
[09:30:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:25] [INFO] [ImpactEffects] Blood effect spawned at (352.7727, 964.1653) (scale=1)
[09:30:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 7.0
[09:30:25] [INFO] [LastChance] Player health updated (C# Damaged): 7.0
[09:30:25] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.1238, 682.6174), source=ENEMY (Enemy2), range=1469, listeners=9
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(489.882, 678.3063), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (489.882, 678.3063), intensity=0.52, dist=69
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (489.882, 678.3063), intensity=1.00, dist=34
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (489.882, 678.3063), intensity=0.10, dist=156
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [LastChance] Threat detected: @Area2D@2176
[09:30:25] [INFO] [LastChance] Not in hard mode - effect disabled
[09:30:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:30:25] [ENEMY] [Enemy1] Memory confidence too low - starting search (engaged enemy)
[09:30:25] [ENEMY] [Enemy1] SEARCHING started: center=(489.882, 678.3063), radius=100, waypoints=5
[09:30:25] [ENEMY] [Enemy1] State: PURSUING -> SEARCHING
[09:30:25] [ENEMY] [Enemy1] SEARCHING corner check: angle -19.6°
[09:30:25] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-107.4°, current=116.7°, player=(352,996), corner_timer=0.00
[09:30:25] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=376), can_see=false
[09:30:25] [INFO] [Player] Spawning blood effect at (352.77267, 1005.3876), dir=(1, 0), lethal=False (C#)
[09:30:25] [INFO] [ImpactEffects] spawn_blood_effect called at (352.7727, 1005.388), dir=(1, 0), lethal=false
[09:30:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:25] [INFO] [ImpactEffects] Blood effect spawned at (352.7727, 1005.388) (scale=1)
[09:30:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 6.0
[09:30:25] [INFO] [LastChance] Player health updated (C# Damaged): 6.0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(463.242, 669.1478), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (463.242, 669.1478), intensity=1.00, dist=29
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (463.242, 669.1478), intensity=0.73, dist=58
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (463.242, 669.1478), intensity=0.12, dist=142
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(463.242, 669.1478), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (463.242, 669.1478), intensity=1.00, dist=29
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (463.242, 669.1478), intensity=0.73, dist=58
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (463.242, 669.1478), intensity=0.12, dist=142
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(459.9131, 668.901), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (459.9131, 668.901), intensity=1.00, dist=30
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (459.9131, 668.901), intensity=0.66, dist=62
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (459.9131, 668.901), intensity=0.13, dist=140
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(459.9131, 668.901), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (459.9131, 668.901), intensity=1.00, dist=30
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (459.9131, 668.901), intensity=0.66, dist=62
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (459.9131, 668.901), intensity=0.13, dist=140
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (433.1524, 925.1961) (added to group)
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(455.8983, 669.1253), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (455.8983, 669.1253), intensity=1.00, dist=34
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (455.8983, 669.1253), intensity=0.58, dist=66
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (455.8983, 669.1253), intensity=0.13, dist=139
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.8944, 680.2136), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (500.8944, 680.2136), intensity=1.00, dist=26
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (500.8944, 680.2136), intensity=1.00, dist=38
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (500.8944, 680.2136), intensity=0.28, dist=94
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(455.8983, 669.1253), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (455.8983, 669.1253), intensity=1.00, dist=34
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (455.8983, 669.1253), intensity=0.58, dist=66
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (455.8983, 669.1253), intensity=0.13, dist=139
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.8944, 680.2136), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (500.8944, 680.2136), intensity=1.00, dist=23
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (500.8944, 680.2136), intensity=1.00, dist=38
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (500.8944, 680.2136), intensity=0.28, dist=94
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(451.1583, 669.6154), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (451.1583, 669.6154), intensity=1.00, dist=39
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (451.1583, 669.6154), intensity=0.50, dist=70
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (451.1583, 669.6154), intensity=0.13, dist=138
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.262, 679.9212), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (500.262, 679.9212), intensity=1.00, dist=20
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (500.262, 679.9212), intensity=1.00, dist=40
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (500.262, 679.9212), intensity=0.31, dist=90
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (439.9054, 980.4465) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (411.1981, 942.3093) (added to group)
[09:30:25] [INFO] [BloodDecal] Blood puddle created at (439.2407, 929.6999) (added to group)
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.9237, 680.0546), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (499.9237, 680.0546), intensity=1.00, dist=19
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (499.9237, 680.0546), intensity=1.00, dist=44
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (499.9237, 680.0546), intensity=0.35, dist=85
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.6858, 680.322), source=NEUTRAL (null), range=900, listeners=9
[09:30:25] [ENEMY] [Enemy1] Heard CASING_KICK at (499.6858, 680.322), intensity=1.00, dist=18
[09:30:25] [ENEMY] [Enemy2] Heard CASING_KICK at (499.6858, 680.322), intensity=1.00, dist=40
[09:30:25] [ENEMY] [Enemy4] Heard CASING_KICK at (499.6858, 680.322), intensity=0.39, dist=80
[09:30:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(352,1023), corner_timer=-0.02
[09:30:25] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[09:30:26] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=388), can_see=false
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.5347, 680.7212), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (499.5347, 680.7212), intensity=1.00, dist=18
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (499.5347, 680.7212), intensity=1.00, dist=40
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (499.5347, 680.7212), intensity=0.45, dist=75
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=378), can_see=false
[09:30:26] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1507), can_see=false
[09:30:26] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1698), can_see=false
[09:30:26] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1352), can_see=false
[09:30:26] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1604), can_see=false
[09:30:26] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1824), can_see=false
[09:30:26] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.7°, player=(352,1025), corner_timer=0.30
[09:30:26] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=992), can_see=false
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.4572, 681.2494), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (499.4572, 681.2494), intensity=1.00, dist=18
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (499.4572, 681.2494), intensity=1.00, dist=37
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (499.4572, 681.2494), intensity=0.51, dist=70
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=123.4°, current=159.3°, player=(352,1028), corner_timer=0.00
[09:30:26] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (433.2821, 936.5529) (added to group)
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.4408, 681.9036), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (499.4408, 681.9036), intensity=1.00, dist=19
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (499.4408, 681.9036), intensity=1.00, dist=37
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (499.4408, 681.9036), intensity=0.60, dist=65
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.4735, 682.6802), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (499.4735, 682.6802), intensity=1.00, dist=19
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (499.4735, 682.6802), intensity=1.00, dist=37
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (499.4735, 682.6802), intensity=0.65, dist=62
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (395.493, 958.6662) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (445.4695, 1018.062) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (421.0541, 951.1265) (added to group)
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.5445, 683.5752), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (499.5445, 683.5752), intensity=1.00, dist=20
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (499.5445, 683.5752), intensity=1.00, dist=38
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (499.5445, 683.5752), intensity=0.70, dist=60
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.644, 684.5843), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (499.644, 684.5843), intensity=1.00, dist=21
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (499.644, 684.5843), intensity=1.00, dist=39
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (499.644, 684.5843), intensity=0.76, dist=57
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (440.8245, 971.3539) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (440.3521, 974.2563) (added to group)
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.7633, 685.7029), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (499.7633, 685.7029), intensity=1.00, dist=22
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (499.7633, 685.7029), intensity=1.00, dist=40
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (499.7633, 685.7029), intensity=0.88, dist=53
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.8946, 686.9261), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (499.8946, 686.9261), intensity=1.00, dist=23
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (499.8946, 686.9261), intensity=1.00, dist=42
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (499.8946, 686.9261), intensity=0.93, dist=52
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.5044, 686.4346), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (500.5044, 686.4346), intensity=1.00, dist=23
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (500.5044, 686.4346), intensity=1.00, dist=41
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (500.5044, 686.4346), intensity=1.00, dist=50
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(533.4377, 723.664), source=ENEMY (Enemy4), range=1469, listeners=9
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(505.3014, 729.4132), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (505.3014, 729.4132), intensity=0.58, dist=66
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (505.3014, 729.4132), intensity=0.35, dist=84
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (505.3014, 729.4132), intensity=1.00, dist=23
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.8741, 686.572), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (500.8741, 686.572), intensity=1.00, dist=23
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (500.8741, 686.572), intensity=1.00, dist=41
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (500.8741, 686.572), intensity=1.00, dist=48
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(504.267, 729.9887), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (504.267, 729.9887), intensity=0.57, dist=66
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (504.267, 729.9887), intensity=0.35, dist=85
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (504.267, 729.9887), intensity=1.00, dist=19
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.0974, 714.9879), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (501.0974, 714.9879), intensity=0.96, dist=51
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (501.0974, 714.9879), intensity=0.52, dist=70
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (501.0974, 714.9879), intensity=1.00, dist=26
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (475.8993, 1017.109) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (471.8704, 1032.147) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (400.4025, 1000.624) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (442.9698, 1028.499) (added to group)
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.1348, 686.711), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (501.1348, 686.711), intensity=1.00, dist=23
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (501.1348, 686.711), intensity=1.00, dist=41
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (501.1348, 686.711), intensity=1.00, dist=47
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(502.2822, 730.6594), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (502.2822, 730.6594), intensity=0.56, dist=67
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (502.2822, 730.6594), intensity=0.34, dist=85
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (502.2822, 730.6594), intensity=1.00, dist=16
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.2009, 714.5563), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (500.2009, 714.5563), intensity=0.98, dist=51
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (500.2009, 714.5563), intensity=0.52, dist=69
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (500.2009, 714.5563), intensity=1.00, dist=24
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.3379, 686.8288), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (501.3379, 686.8288), intensity=1.00, dist=23
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (501.3379, 686.8288), intensity=1.00, dist=42
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (501.3379, 686.8288), intensity=1.00, dist=46
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.3907, 731.3638), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (499.3907, 731.3638), intensity=0.55, dist=67
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (499.3907, 731.3638), intensity=0.34, dist=86
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (499.3907, 731.3638), intensity=1.00, dist=23
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(498.5674, 713.5071), source=NEUTRAL (null), range=900, listeners=9
[09:30:26] [ENEMY] [Enemy1] Heard CASING_KICK at (498.5674, 713.5071), intensity=1.00, dist=50
[09:30:26] [ENEMY] [Enemy2] Heard CASING_KICK at (498.5674, 713.5071), intensity=0.54, dist=68
[09:30:26] [ENEMY] [Enemy4] Heard CASING_KICK at (498.5674, 713.5071), intensity=1.00, dist=29
[09:30:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (428.9745, 1020.867) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (414.7284, 1033.373) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (406.4755, 1035.192) (added to group)
[09:30:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:26] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:26] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:26] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:26] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:26] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:26] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:26] [ENEMY] [Enemy1] Death animation component initialized
[09:30:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:26] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:26] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:26] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:26] [ENEMY] [Enemy2] Death animation component initialized
[09:30:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:26] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:26] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:26] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:26] [ENEMY] [Enemy3] Death animation component initialized
[09:30:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:26] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:26] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:26] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:26] [ENEMY] [Enemy4] Death animation component initialized
[09:30:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:26] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:26] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:26] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:26] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:26] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:26] [ENEMY] [Grenadier] Death animation component initialized
[09:30:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:26] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:26] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:26] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:26] [ENEMY] [Enemy6] Death animation component initialized
[09:30:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:26] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:26] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:26] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:26] [ENEMY] [Enemy7] Death animation component initialized
[09:30:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:26] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:26] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:26] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:26] [ENEMY] [Enemy8] Death animation component initialized
[09:30:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:26] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:26] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:26] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:26] [ENEMY] [Enemy9] Death animation component initialized
[09:30:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:26] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:26] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:26] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:26] [ENEMY] [Enemy10] Death animation component initialized
[09:30:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:26] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:26] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:26] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:26] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[09:30:26] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:26] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[09:30:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:26] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:26] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:26] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:26] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:26] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:26] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 10/10
[09:30:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:26] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:26] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:26] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:26] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:26] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:26] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:26] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:26] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:26] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:26] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:26] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:26] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:26] [INFO] [BuildingLevel] Setting up weapon: shotgun
[09:30:26] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[09:30:26] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:26] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:26] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:26] [INFO] [ReplayManager] Replay data cleared
[09:30:26] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:26] [INFO] [ReplayManager] Detected player weapon: Shotgun
[09:30:26] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:26] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:26] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:26] [INFO] [ReplayManager] Enemies count: 10
[09:30:26] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[09:30:26] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:26] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:26] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:26] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:26] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:26] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:26] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:26] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:26] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:26] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:26] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (489.3342, 976.7164) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (406.1403, 1030.202) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (417.8228, 1034.111) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (407.6331, 1050.069) (added to group)
[09:30:26] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:26] [INFO] [CinemaEffects] Found player node: Player
[09:30:26] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:30:26] [ENEMY] [Enemy1] Registered as sound listener
[09:30:26] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:30:26] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:30:26] [ENEMY] [Enemy2] Registered as sound listener
[09:30:26] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:30:26] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:30:26] [ENEMY] [Enemy3] Registered as sound listener
[09:30:26] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:30:26] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:30:26] [ENEMY] [Enemy4] Registered as sound listener
[09:30:26] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:30:26] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:26] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:30:26] [ENEMY] [Grenadier] Registered as sound listener
[09:30:26] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:26] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:30:26] [ENEMY] [Enemy6] Registered as sound listener
[09:30:26] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:30:26] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:30:26] [ENEMY] [Enemy7] Registered as sound listener
[09:30:26] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:30:26] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:30:26] [ENEMY] [Enemy8] Registered as sound listener
[09:30:26] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:30:26] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:30:26] [ENEMY] [Enemy9] Registered as sound listener
[09:30:26] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:30:26] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:30:26] [ENEMY] [Enemy10] Registered as sound listener
[09:30:26] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:30:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:26] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:26] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:26] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:26] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:26] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:26] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:26] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:26] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:26] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:26] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[09:30:26] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[09:30:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:26] [INFO] [LastChance] Found player: Player
[09:30:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:26] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:26] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (469.54, 1040.305) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (461.054, 1023.482) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (491.7414, 1063.764) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (505.8656, 1141.939) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (436.1523, 1045.949) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (566.3943, 1063.806) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (528.1565, 1137.859) (added to group)
[09:30:26] [INFO] [BloodDecal] Blood puddle created at (472.66, 1125.294) (added to group)
[09:30:27] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:27] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:27] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:27] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1193), corner_timer=0.30
[09:30:27] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1193), corner_timer=0.30
[09:30:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1089), corner_timer=-0.02
[09:30:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1089), corner_timer=-0.02
[09:30:28] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:30:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1083), corner_timer=0.30
[09:30:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1083), corner_timer=0.30
[09:30:28] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[09:30:28] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,986), corner_timer=-0.02
[09:30:28] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:30:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,983), corner_timer=0.30
[09:30:28] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(405,928), corner_timer=-0.02
[09:30:28] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:30:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(401,924), corner_timer=0.30
[09:30:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(327,850), corner_timer=-0.02
[09:30:29] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:30:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(323,846), corner_timer=0.30
[09:30:29] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:30:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(250,773), corner_timer=-0.02
[09:30:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[09:30:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(246,769), corner_timer=0.30
[09:30:29] [ENEMY] [Enemy1] Player ammo empty: false -> true
[09:30:29] [ENEMY] [Enemy2] Player ammo empty: false -> true
[09:30:29] [ENEMY] [Enemy3] Player ammo empty: false -> true
[09:30:29] [ENEMY] [Enemy4] Player ammo empty: false -> true
[09:30:29] [ENEMY] [Grenadier] Player ammo empty: false -> true
[09:30:29] [ENEMY] [Enemy6] Player ammo empty: false -> true
[09:30:29] [ENEMY] [Enemy7] Player ammo empty: false -> true
[09:30:29] [ENEMY] [Enemy8] Player ammo empty: false -> true
[09:30:29] [ENEMY] [Enemy9] Player ammo empty: false -> true
[09:30:29] [ENEMY] [Enemy10] Player ammo empty: false -> true
[09:30:29] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(219.8867, 741.5051), source=PLAYER (Player), range=600, listeners=19
[09:30:29] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:30:29] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (219.8867, 741.5051), intensity=0.02, distance=400
[09:30:29] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:29] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (219.8867, 741.5051), intensity=0.04, distance=263
[09:30:29] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:29] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (219.8867, 741.5051), intensity=0.01, distance=480
[09:30:29] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[09:30:29] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(219.88667, 741.50507)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=7,5, distance=59,5px, pos=(278.73666, 732.70416)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=-1,2, distance=50,8px, pos=(270.38254, 736.16394)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=-5,8, distance=46,2px, pos=(266.00455, 738.0342)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=-6,5, distance=45,5px, pos=(265.2213, 737.7001)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=9,2, distance=61,2px, pos=(280.82977, 736.22217)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=-6,4, distance=45,6px, pos=(265.4128, 738.66455)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=-14,4, distance=37,6px, pos=(257.41193, 739.5579)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=9,7, distance=61,7px, pos=(281.58673, 739.99005)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=-6,9, distance=45,1px, pos=(264.95236, 742.8748)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=-12,6, distance=39,4px, pos=(259.2254, 743.4455)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=-14,6, distance=37,4px, pos=(257.31427, 742.7306)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=2,3, distance=54,3px, pos=(274.18893, 743.7411)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=-5,5, distance=46,5px, pos=(266.2558, 744.5942)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=5,4, distance=57,4px, pos=(277.07755, 745.9457)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=-13,5, distance=38,5px, pos=(258.076, 746.19464)
[09:30:29] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=-4,0, distance=48,0px, pos=(267.404, 748.57825)
[09:30:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.8867, 741.5051), source=PLAYER (Shotgun), range=1469, listeners=10
[09:30:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[09:30:29] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=101.6°, current=-33.8°, player=(219,741), corner_timer=0.00
[09:30:29] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=400), can_see=false
[09:30:29] [ENEMY] [Enemy1] Pursuing vulnerability sound at (219.8867, 741.5051), distance=400
[09:30:29] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=133.2°, current=-101.3°, player=(219,741), corner_timer=0.00
[09:30:29] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=263), can_see=false
[09:30:29] [ENEMY] [Enemy2] Pursuing vulnerability sound at (219.8867, 741.5051), distance=263
[09:30:29] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-179.0°, current=-33.8°, player=(219,741), corner_timer=0.00
[09:30:29] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=480), can_see=false
[09:30:29] [ENEMY] [Enemy3] Pursuing vulnerability sound at (219.8867, 741.5051), distance=480
[09:30:29] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=601), can_see=false
[09:30:29] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1531), can_see=false
[09:30:29] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1754), can_see=false
[09:30:29] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1487), can_see=false
[09:30:29] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1823), can_see=false
[09:30:29] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2047), can_see=false
[09:30:29] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1274), can_see=false
[09:30:29] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-178.5°, current=144.4°, player=(216,737), corner_timer=0.00
[09:30:29] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=478)
[09:30:29] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:30:29] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[09:30:29] [INFO] [ImpactEffects] spawn_blood_effect called at (652.0179, 748.6967), dir=(1, 0), lethal=false
[09:30:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:29] [INFO] [ImpactEffects] Blood effect spawned at (652.0179, 748.6967) (scale=1)
[09:30:29] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[09:30:29] [INFO] [ImpactEffects] spawn_blood_effect called at (652.0179, 748.6967), dir=(1, 0), lethal=false
[09:30:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:29] [INFO] [ImpactEffects] Blood effect spawned at (652.0179, 748.6967) (scale=1)
[09:30:29] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[09:30:29] [INFO] [ImpactEffects] spawn_blood_effect called at (652.0179, 748.6967), dir=(1, 0), lethal=false
[09:30:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:29] [INFO] [ImpactEffects] Blood effect spawned at (652.0179, 748.6967) (scale=1)
[09:30:29] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[09:30:29] [INFO] [ImpactEffects] spawn_blood_effect called at (652.0179, 748.6967), dir=(1, 0), lethal=true
[09:30:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:29] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:30:29] [INFO] [ImpactEffects] Blood effect spawned at (652.0179, 748.6967) (scale=1.5)
[09:30:29] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:30:29] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:30:29] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:30:29] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:30:29] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:30:29] [INFO] [PowerFantasy]   - Duration: 300ms
[09:30:29] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[09:30:29] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:30:29] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:30:29] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:30:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:30:30] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[09:30:30] [INFO] [PowerFantasy] Ending power fantasy effect
[09:30:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=375), can_see=false
[09:30:30] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=281), can_see=false
[09:30:30] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=622), can_see=false
[09:30:30] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1545), can_see=false
[09:30:30] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1770), can_see=false
[09:30:30] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1489), can_see=false
[09:30:30] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1845), can_see=false
[09:30:30] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2069), can_see=false
[09:30:30] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1296), can_see=false
[09:30:30] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=10
[09:30:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.9°, player=(201,728), corner_timer=-0.02
[09:30:30] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[09:30:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-132.7°, player=(201,728), corner_timer=0.30
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (699.6241, 763.6526) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (748.5956, 780.7883) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (752.8421, 742.7188) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (745.0439, 750.0031) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (721.1518, 794.4073) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (713.478, 757.2632) (added to group)
[09:30:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (745.7175, 781.4609) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (772.5014, 782.6434) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (724.9827, 807.6337) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (756.4511, 751.1487) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (746.1033, 759.8828) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (730.2446, 800.1439) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (735.73, 770.6625) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (740.4164, 751.8879) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (756.2795, 765.7067) (added to group)
[09:30:30] [ENEMY] [Enemy3] Ragdoll activated
[09:30:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (771.6621, 755.1046) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (768.4225, 805.9657) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (798.5432, 744.9857) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (771.1628, 810.4662) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (801.4063, 744.2234) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (742.3652, 801.8252) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (807.0768, 725.4174) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (760.2654, 793.9385) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (792.3832, 797.9788) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (811.141, 812.8096) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (805.0851, 823.3146) (added to group)
[09:30:30] [ENEMY] [Enemy1] Pursuing vulnerability sound at (219.8867, 741.5051), distance=306
[09:30:30] [ENEMY] [Enemy2] Pursuing vulnerability sound at (219.8867, 741.5051), distance=306
[09:30:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.7°, player=(201,728), corner_timer=-0.02
[09:30:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (801.3545, 749.7025) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (804.0281, 767.1892) (added to group)
[09:30:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=309), can_see=false
[09:30:30] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=322), can_see=false
[09:30:30] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=622), can_see=false
[09:30:30] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1545), can_see=false
[09:30:30] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1770), can_see=false
[09:30:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.6°, player=(201,728), corner_timer=0.30
[09:30:30] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1420), can_see=false
[09:30:30] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1845), can_see=false
[09:30:30] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2069), can_see=false
[09:30:30] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1296), can_see=false
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (799.6093, 815.5719) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (837.6964, 771.4221) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (835.1615, 813.355) (added to group)
[09:30:30] [INFO] [BloodDecal] Blood puddle created at (788.7341, 819.0474) (added to group)
[09:30:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:30] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:30] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:30] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:30] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:30] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:30] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:30] [ENEMY] [Enemy1] Death animation component initialized
[09:30:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:30] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:30] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:30] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:30] [ENEMY] [Enemy2] Death animation component initialized
[09:30:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:30] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:30] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:30] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:30] [ENEMY] [Enemy3] Death animation component initialized
[09:30:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:30] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:30] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:30] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:30] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:30:30] [ENEMY] [Enemy4] Death animation component initialized
[09:30:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:30] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:30] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:30] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:30] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:30] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:30] [ENEMY] [Grenadier] Death animation component initialized
[09:30:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:30] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:30] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:30] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:30] [ENEMY] [Enemy6] Death animation component initialized
[09:30:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:30] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:30] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:30] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:30] [ENEMY] [Enemy7] Death animation component initialized
[09:30:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:30] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:30] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:30] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:30] [ENEMY] [Enemy8] Death animation component initialized
[09:30:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:30] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:30] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:30] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:30] [ENEMY] [Enemy9] Death animation component initialized
[09:30:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:30] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:30] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:30] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:30] [ENEMY] [Enemy10] Death animation component initialized
[09:30:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:30] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:30] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:30] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:30] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[09:30:30] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:31] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[09:30:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:31] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:31] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:31] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:31] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:31] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:31] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 10/10
[09:30:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:31] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:31] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:31] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:31] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:31] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:31] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:31] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:31] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:31] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:31] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:31] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:31] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:31] [INFO] [BuildingLevel] Setting up weapon: shotgun
[09:30:31] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[09:30:31] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:31] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:31] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:31] [INFO] [ReplayManager] Replay data cleared
[09:30:31] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:31] [INFO] [ReplayManager] Detected player weapon: Shotgun
[09:30:31] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:31] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:31] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:31] [INFO] [ReplayManager] Enemies count: 10
[09:30:31] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[09:30:31] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:31] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:31] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:31] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:31] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:31] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:31] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:31] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:31] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:31] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:31] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:31] [INFO] [BloodDecal] Blood puddle created at (786.902, 798.6681) (added to group)
[09:30:31] [INFO] [BloodDecal] Blood puddle created at (884.1863, 854.328) (added to group)
[09:30:31] [INFO] [BloodDecal] Blood puddle created at (847.3123, 763.7573) (added to group)
[09:30:31] [INFO] [BloodDecal] Blood puddle created at (796.6005, 813.972) (added to group)
[09:30:31] [INFO] [BloodDecal] Blood puddle created at (856.1188, 770.921) (added to group)
[09:30:31] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:31] [INFO] [CinemaEffects] Found player node: Player
[09:30:31] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:30:31] [ENEMY] [Enemy1] Registered as sound listener
[09:30:31] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:30:31] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:30:31] [ENEMY] [Enemy2] Registered as sound listener
[09:30:31] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:30:31] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:30:31] [ENEMY] [Enemy3] Registered as sound listener
[09:30:31] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:30:31] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:30:31] [ENEMY] [Enemy4] Registered as sound listener
[09:30:31] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:30:31] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:31] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:30:31] [ENEMY] [Grenadier] Registered as sound listener
[09:30:31] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:31] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:30:31] [ENEMY] [Enemy6] Registered as sound listener
[09:30:31] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:30:31] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:30:31] [ENEMY] [Enemy7] Registered as sound listener
[09:30:31] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:30:31] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:30:31] [ENEMY] [Enemy8] Registered as sound listener
[09:30:31] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:30:31] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:30:31] [ENEMY] [Enemy9] Registered as sound listener
[09:30:31] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:30:31] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:30:31] [ENEMY] [Enemy10] Registered as sound listener
[09:30:31] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:30:31] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:31] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:31] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:31] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:31] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:31] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:31] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:31] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:31] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:31] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:31] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[09:30:31] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[09:30:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:31] [INFO] [LastChance] Found player: Player
[09:30:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:31] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:31] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:32] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:32] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:32] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:32] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:32] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(348,823), corner_timer=0.30
[09:30:32] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(348,823), corner_timer=0.30
[09:30:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(348,728), corner_timer=-0.02
[09:30:32] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(348,728), corner_timer=-0.02
[09:30:32] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:30:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(348,728), corner_timer=0.30
[09:30:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(348,728), corner_timer=0.30
[09:30:33] [ENEMY] [Enemy1] Player ammo empty: false -> true
[09:30:33] [ENEMY] [Enemy2] Player ammo empty: false -> true
[09:30:33] [ENEMY] [Enemy3] Player ammo empty: false -> true
[09:30:33] [ENEMY] [Enemy4] Player ammo empty: false -> true
[09:30:33] [ENEMY] [Grenadier] Player ammo empty: false -> true
[09:30:33] [ENEMY] [Enemy6] Player ammo empty: false -> true
[09:30:33] [ENEMY] [Enemy7] Player ammo empty: false -> true
[09:30:33] [ENEMY] [Enemy8] Player ammo empty: false -> true
[09:30:33] [ENEMY] [Enemy9] Player ammo empty: false -> true
[09:30:33] [ENEMY] [Enemy10] Player ammo empty: false -> true
[09:30:33] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(348.8836, 728.0005), source=PLAYER (Player), range=600, listeners=19
[09:30:33] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:30:33] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (348.8836, 728.0005), intensity=0.02, distance=381
[09:30:33] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:33] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (348.8836, 728.0005), intensity=0.07, distance=185
[09:30:33] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:33] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (348.8836, 728.0005), intensity=0.02, distance=352
[09:30:33] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:33] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (348.8836, 728.0005), intensity=0.01, distance=483
[09:30:33] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[09:30:33] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(348.88358, 728.00055)
[09:30:33] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=3,6, distance=55,6px, pos=(404.4986, 728.92255)
[09:30:33] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-11,1, distance=40,9px, pos=(389.7185, 730.7931)
[09:30:33] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=13,3, distance=65,3px, pos=(413.97577, 733.67645)
[09:30:33] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-0,7, distance=51,3px, pos=(399.97125, 733.09894)
[09:30:33] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-12,2, distance=39,8px, pos=(388.15225, 734.7323)
[09:30:33] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-2,3, distance=49,7px, pos=(397.87387, 736.44434)
[09:30:33] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=13,8, distance=65,8px, pos=(413.29413, 741.5105)
[09:30:33] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=0,5, distance=52,5px, pos=(400.2234, 738.8612)
[09:30:33] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=-14,8, distance=37,2px, pos=(384.64117, 738.20825)
[09:30:33] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-7,9, distance=44,1px, pos=(391.22983, 740.15216)
[09:30:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(348.8836, 728.0005), source=PLAYER (Shotgun), range=1469, listeners=10
[09:30:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:30:33] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=82.6°, current=-33.8°, player=(348,728), corner_timer=0.00
[09:30:33] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=381), can_see=false
[09:30:33] [ENEMY] [Enemy1] Pursuing vulnerability sound at (348.8836, 728.0005), distance=381
[09:30:33] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=106.0°, current=45.0°, player=(348,728), corner_timer=0.00
[09:30:33] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=185), can_see=false
[09:30:33] [ENEMY] [Enemy2] Pursuing vulnerability sound at (348.8836, 728.0005), distance=185
[09:30:33] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-176.4°, current=11.3°, player=(348,728), corner_timer=0.00
[09:30:33] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=352), can_see=false
[09:30:33] [ENEMY] [Enemy3] Pursuing vulnerability sound at (348.8836, 728.0005), distance=352
[09:30:33] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-159.1°, current=-67.5°, player=(348,728), corner_timer=0.00
[09:30:33] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=483), can_see=false
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [ENEMY] [Enemy4] Pursuing vulnerability sound at (348.8836, 728.0005), distance=483
[09:30:33] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1403), can_see=false
[09:30:33] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1625), can_see=false
[09:30:33] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1360), can_see=false
[09:30:33] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1711), can_see=false
[09:30:33] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1934), can_see=false
[09:30:33] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1206), can_see=false
[09:30:33] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-176.4°, current=-163.6°, player=(348,728), corner_timer=0.00
[09:30:33] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[09:30:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.6709, 749.7875), source=ENEMY (Enemy3), range=1469, listeners=10
[09:30:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [LastChance] Threat detected: Bullet
[09:30:33] [INFO] [LastChance] Not in hard mode - effect disabled
[09:30:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:30:33] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[09:30:33] [INFO] [ImpactEffects] spawn_blood_effect called at (668.0254, 748.7251), dir=(1, 0), lethal=false
[09:30:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:33] [INFO] [ImpactEffects] Blood effect spawned at (668.0254, 748.7251) (scale=1)
[09:30:33] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[09:30:33] [INFO] [ImpactEffects] spawn_blood_effect called at (668.0254, 748.7251), dir=(1, 0), lethal=true
[09:30:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:33] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:30:33] [INFO] [ImpactEffects] Blood effect spawned at (668.0254, 748.7251) (scale=1.5)
[09:30:33] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:30:33] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:30:33] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:30:33] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:30:33] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:30:33] [INFO] [PowerFantasy]   - Duration: 300ms
[09:30:33] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (668.0254, 748.7251), entering SEARCHING
[09:30:33] [ENEMY] [Enemy4] SEARCHING started: center=(668.0254, 748.7251), radius=100, waypoints=5
[09:30:33] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:30:33] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:30:33] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:30:33] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [Player] Spawning blood effect at (348.88358, 728.00055), dir=(1, 0), lethal=False (C#)
[09:30:33] [INFO] [ImpactEffects] spawn_blood_effect called at (348.8836, 728.0005), dir=(1, 0), lethal=false
[09:30:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:33] [INFO] [ImpactEffects] Blood effect spawned at (348.8836, 728.0005) (scale=1)
[09:30:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[09:30:33] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [INFO] [PowerFantasy] Effect duration expired after 323.00 ms
[09:30:33] [INFO] [PowerFantasy] Ending power fantasy effect
[09:30:33] [INFO] [EnemyGrenade] Throw path blocked to (348.8836, 728.0005)
[09:30:33] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[09:30:33] [INFO] [ImpactEffects] spawn_blood_effect called at (802.9301, 845.861), dir=(1, 0), lethal=false
[09:30:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:33] [INFO] [ImpactEffects] Blood effect spawned at (802.9301, 845.861) (scale=1)
[09:30:33] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[09:30:33] [INFO] [ImpactEffects] spawn_blood_effect called at (802.9301, 845.861), dir=(1, 0), lethal=true
[09:30:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:33] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:30:33] [INFO] [ImpactEffects] Blood effect spawned at (802.9301, 845.861) (scale=1.5)
[09:30:33] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[09:30:33] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[09:30:33] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:30:33] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:30:33] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:30:33] [INFO] [PowerFantasy]   - Duration: 300ms
[09:30:33] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[09:30:33] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[09:30:33] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:30:33] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[09:30:33] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=345), can_see=false
[09:30:33] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=165), can_see=false
[09:30:33] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1403), can_see=false
[09:30:33] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1625), can_see=false
[09:30:33] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1360), can_see=false
[09:30:33] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1711), can_see=false
[09:30:33] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1934), can_see=false
[09:30:33] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1201), can_see=false
[09:30:33] [INFO] [PowerFantasy] Effect duration expired after 324.00 ms
[09:30:33] [INFO] [PowerFantasy] Ending power fantasy effect
[09:30:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(348,728), corner_timer=-0.01
[09:30:33] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:30:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.9°, player=(348,728), corner_timer=0.30
[09:30:33] [INFO] [BloodDecal] Blood puddle created at (744.7025, 777.2993) (added to group)
[09:30:33] [INFO] [BloodDecal] Blood puddle created at (706.7571, 778.2061) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (727.7302, 793.2488) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (717.8167, 781.2272) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (776.342, 728.2953) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (860.9774, 847.3419) (added to group)
[09:30:34] [ENEMY] [Enemy1] Pursuing vulnerability sound at (348.8836, 728.0005), distance=292
[09:30:34] [ENEMY] [Enemy2] Pursuing vulnerability sound at (348.8836, 728.0005), distance=182
[09:30:34] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=288), can_see=false
[09:30:34] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=185), can_see=false
[09:30:34] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1403), can_see=false
[09:30:34] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1625), can_see=false
[09:30:34] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1360), can_see=false
[09:30:34] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1711), can_see=false
[09:30:34] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1934), can_see=false
[09:30:34] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1197), can_see=false
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (751.6391, 773.6973) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (777.9913, 730.832) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (848.8843, 846.62) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (860.4686, 856.0206) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (849.3977, 850.0773) (added to group)
[09:30:34] [INFO] [ReplayManager] Recording frame 180 (2,4s): player_valid=True, enemies=10
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (750.4734, 751.9612) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (772.2871, 800.8985) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (458.4719, 731.2382) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (879.0596, 837.3115) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (416.741, 750.2455) (added to group)
[09:30:34] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (806.3288, 791.3672) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (736.8646, 771.7075) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (500.1426, 761.6086) (added to group)
[09:30:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(348,728), corner_timer=-0.02
[09:30:34] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:30:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.7°, player=(348,728), corner_timer=0.30
[09:30:34] [ENEMY] [Enemy3] Ragdoll activated
[09:30:34] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (813.78, 797.7373) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (830.67, 816.5129) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (847.1146, 769.0644) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (901.8099, 853.8854) (added to group)
[09:30:34] [ENEMY] [Enemy4] Ragdoll activated
[09:30:34] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (848.6506, 785.9126) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (764.3293, 807.819) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (775.1995, 790.0134) (added to group)
[09:30:34] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=174.4°, current=-140.0°, player=(348,728), corner_timer=0.00
[09:30:34] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0658, 710.8961), source=ENEMY (Enemy2), range=1469, listeners=8
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (490.0666, 827.334) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (903.8256, 889.7596) (added to group)
[09:30:34] [INFO] [LastChance] Threat detected: Bullet
[09:30:34] [INFO] [LastChance] Not in hard mode - effect disabled
[09:30:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:30:34] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (903.3187, 966.6476) (added to group)
[09:30:34] [INFO] [Player] Spawning blood effect at (348.88358, 728.00055), dir=(1, 0), lethal=False (C#)
[09:30:34] [INFO] [ImpactEffects] spawn_blood_effect called at (348.8836, 728.0005), dir=(1, 0), lethal=false
[09:30:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:34] [INFO] [ImpactEffects] Blood effect spawned at (348.8836, 728.0005) (scale=1)
[09:30:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[09:30:34] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (888.1792, 784.0508) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (892.9721, 874.7814) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (498.2769, 752.7257) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (895.0275, 968.5597) (added to group)
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (481.9604, 851.4923) (added to group)
[09:30:34] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0658, 721.6004), source=ENEMY (Enemy2), range=1469, listeners=8
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[09:30:34] [INFO] [LastChance] Threat detected: Bullet
[09:30:34] [INFO] [LastChance] Not in hard mode - effect disabled
[09:30:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (588.6943, 826.0992) (added to group)
[09:30:34] [INFO] [Player] Spawning blood effect at (348.88358, 731.3996), dir=(1, 0), lethal=False (C#)
[09:30:34] [INFO] [ImpactEffects] spawn_blood_effect called at (348.8836, 731.3996), dir=(1, 0), lethal=false
[09:30:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:34] [INFO] [ImpactEffects] Blood effect spawned at (348.8836, 731.3996) (scale=1)
[09:30:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 7.0
[09:30:34] [INFO] [LastChance] Player health updated (C# Damaged): 7.0
[09:30:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(348,731), corner_timer=-0.02
[09:30:34] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:30:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(348,733), corner_timer=0.30
[09:30:34] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[09:30:34] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0658, 721.6004), source=ENEMY (Enemy2), range=1469, listeners=8
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[09:30:34] [INFO] [LastChance] Threat detected: Bullet
[09:30:34] [INFO] [LastChance] Not in hard mode - effect disabled
[09:30:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:30:34] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=183), can_see=false
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(505.0138, 708.6367), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (505.0138, 708.6367), intensity=0.21, dist=110
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (505.0138, 708.6367), intensity=1.00, dist=21
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1406), can_see=false
[09:30:34] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1627), can_see=false
[09:30:34] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1359), can_see=false
[09:30:34] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1706), can_see=false
[09:30:34] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1929), can_see=false
[09:30:34] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1184), can_see=false
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(505.4857, 708.1742), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (505.4857, 708.1742), intensity=0.23, dist=104
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (505.4857, 708.1742), intensity=1.00, dist=20
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(505.5967, 707.9162), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (505.5967, 707.9162), intensity=0.26, dist=99
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (505.5967, 707.9162), intensity=1.00, dist=19
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(505.2727, 684.7067), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (505.2727, 684.7067), intensity=0.42, dist=77
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (505.2727, 684.7067), intensity=1.00, dist=32
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [Player] Spawning blood effect at (348.88358, 750.0663), dir=(1, 0), lethal=False (C#)
[09:30:34] [INFO] [ImpactEffects] spawn_blood_effect called at (348.8836, 750.0663), dir=(1, 0), lethal=false
[09:30:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:34] [INFO] [ImpactEffects] Blood effect spawned at (348.8836, 750.0663) (scale=1)
[09:30:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 6.0
[09:30:34] [INFO] [LastChance] Player health updated (C# Damaged): 6.0
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(505.5245, 708.0189), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (505.5245, 708.0189), intensity=0.29, dist=93
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (505.5245, 708.0189), intensity=1.00, dist=19
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(504.7185, 683.1594), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (504.7185, 683.1594), intensity=0.51, dist=70
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (504.7185, 683.1594), intensity=1.00, dist=30
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(505.1697, 708.4922), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (505.1697, 708.4922), intensity=0.32, dist=88
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (505.1697, 708.4922), intensity=1.00, dist=20
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(503.7428, 681.1454), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (503.7428, 681.1454), intensity=0.64, dist=62
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (503.7428, 681.1454), intensity=1.00, dist=30
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(504.8363, 708.8689), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (504.8363, 708.8689), intensity=0.36, dist=83
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (504.8363, 708.8689), intensity=1.00, dist=22
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(502.3346, 678.7177), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (502.3346, 678.7177), intensity=0.84, dist=54
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (502.3346, 678.7177), intensity=1.00, dist=30
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (400.4892, 731.997) (added to group)
[09:30:34] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-90.0°, current=160.0°, player=(348,763), corner_timer=0.00
[09:30:34] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=186), can_see=false
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(504.1567, 709.5374), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (504.1567, 709.5374), intensity=0.40, dist=79
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (504.1567, 709.5374), intensity=1.00, dist=24
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.4838, 675.9297), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (500.4838, 675.9297), intensity=1.00, dist=46
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (500.4838, 675.9297), intensity=1.00, dist=31
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [ENEMY] [Enemy1] Memory confidence too low - starting search (engaged enemy)
[09:30:34] [ENEMY] [Enemy1] SEARCHING started: center=(500.4838, 675.9297), radius=100, waypoints=5
[09:30:34] [ENEMY] [Enemy1] State: PURSUING -> SEARCHING
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(503.062, 710.4518), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (503.062, 710.4518), intensity=0.46, dist=74
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (503.062, 710.4518), intensity=1.00, dist=28
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(498.1833, 672.8342), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (498.1833, 672.8342), intensity=1.00, dist=37
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (498.1833, 672.8342), intensity=1.00, dist=32
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(511.1273, 706.8917), source=NEUTRAL (null), range=900, listeners=8
[09:30:34] [ENEMY] [Enemy1] Heard CASING_KICK at (511.1273, 706.8917), intensity=0.46, dist=73
[09:30:34] [ENEMY] [Enemy2] Heard CASING_KICK at (511.1273, 706.8917), intensity=1.00, dist=20
[09:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[09:30:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:34] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:34] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:34] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:34] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:34] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:34] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:34] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:30:34] [ENEMY] [Enemy1] Death animation component initialized
[09:30:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:34] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:34] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:34] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:34] [ENEMY] [Enemy2] Death animation component initialized
[09:30:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:34] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:34] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:34] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:34] [ENEMY] [Enemy3] Death animation component initialized
[09:30:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:34] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:34] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:34] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:34] [ENEMY] [Enemy4] Death animation component initialized
[09:30:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:34] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:34] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:34] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:34] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:34] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:34] [ENEMY] [Grenadier] Death animation component initialized
[09:30:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:34] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:34] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:34] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:34] [ENEMY] [Enemy6] Death animation component initialized
[09:30:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:34] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:34] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:34] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:34] [ENEMY] [Enemy7] Death animation component initialized
[09:30:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:34] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:34] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:34] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:34] [ENEMY] [Enemy8] Death animation component initialized
[09:30:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:34] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:34] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:34] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:34] [ENEMY] [Enemy9] Death animation component initialized
[09:30:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:34] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:34] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:34] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:34] [ENEMY] [Enemy10] Death animation component initialized
[09:30:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:34] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:34] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:34] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:34] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[09:30:34] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:34] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[09:30:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:34] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:34] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:34] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:34] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:34] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:34] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 10/10
[09:30:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:34] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:34] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:34] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:34] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:34] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:34] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:34] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:34] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:34] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:34] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:34] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:34] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:34] [INFO] [BuildingLevel] Setting up weapon: shotgun
[09:30:34] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[09:30:34] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:34] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:34] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:34] [INFO] [ReplayManager] Replay data cleared
[09:30:34] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:34] [INFO] [ReplayManager] Detected player weapon: Shotgun
[09:30:34] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:34] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:34] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:34] [INFO] [ReplayManager] Enemies count: 10
[09:30:34] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[09:30:34] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:34] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:34] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:34] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:34] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:34] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:34] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:34] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:34] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:34] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:34] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:34] [INFO] [BloodDecal] Blood puddle created at (456.7028, 760.9616) (added to group)
[09:30:34] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:34] [INFO] [CinemaEffects] Found player node: Player
[09:30:34] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[09:30:34] [ENEMY] [Enemy1] Registered as sound listener
[09:30:34] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:30:34] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[09:30:34] [ENEMY] [Enemy2] Registered as sound listener
[09:30:34] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:30:34] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[09:30:34] [ENEMY] [Enemy3] Registered as sound listener
[09:30:34] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:30:34] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[09:30:34] [ENEMY] [Enemy4] Registered as sound listener
[09:30:34] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:30:34] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:34] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 13)
[09:30:34] [ENEMY] [Grenadier] Registered as sound listener
[09:30:34] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:34] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[09:30:34] [ENEMY] [Enemy6] Registered as sound listener
[09:30:34] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:30:34] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[09:30:34] [ENEMY] [Enemy7] Registered as sound listener
[09:30:34] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:30:34] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[09:30:34] [ENEMY] [Enemy8] Registered as sound listener
[09:30:34] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:30:34] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[09:30:34] [ENEMY] [Enemy9] Registered as sound listener
[09:30:34] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:30:34] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[09:30:34] [ENEMY] [Enemy10] Registered as sound listener
[09:30:34] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:30:34] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:35] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:35] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:35] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:35] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:35] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:35] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:35] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:35] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:35] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:35] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[09:30:35] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[09:30:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:35] [INFO] [LastChance] Found player: Player
[09:30:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:35] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:35] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (426.4854, 740.1037) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (384.1629, 748.7679) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (474.159, 854.8435) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (456.6131, 770.3889) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (462.7306, 785.4203) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (449.9165, 770.5081) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (413.8878, 748.0872) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (488.7726, 802.0353) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (433.5801, 750.4927) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (434.2229, 855.7219) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (460.3207, 759.8868) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (502.2179, 791.977) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (493.786, 746.5937) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (463.7641, 748.4409) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (431.6044, 821.3443) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (443.6042, 771.8677) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (478.0075, 782.1893) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (496.1864, 783.3134) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (434.5353, 771.6752) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (519.4157, 776.8549) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (525.1917, 743.493) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (555.2983, 809.7064) (added to group)
[09:30:35] [INFO] [BloodDecal] Blood puddle created at (515.298, 795.8057) (added to group)
[09:30:35] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:36] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:36] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:36] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[09:30:36] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[09:30:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[09:30:36] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[09:30:36] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:30:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[09:30:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[09:30:36] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[09:30:37] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:30:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[09:30:37] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1250), corner_timer=-0.02
[09:30:37] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:30:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1250), corner_timer=0.30
[09:30:37] [ENEMY] [Enemy1] Player ammo empty: false -> true
[09:30:37] [ENEMY] [Enemy2] Player ammo empty: false -> true
[09:30:37] [ENEMY] [Enemy3] Player ammo empty: false -> true
[09:30:37] [ENEMY] [Enemy4] Player ammo empty: false -> true
[09:30:37] [ENEMY] [Grenadier] Player ammo empty: false -> true
[09:30:37] [ENEMY] [Enemy6] Player ammo empty: false -> true
[09:30:37] [ENEMY] [Enemy7] Player ammo empty: false -> true
[09:30:37] [ENEMY] [Enemy8] Player ammo empty: false -> true
[09:30:37] [ENEMY] [Enemy9] Player ammo empty: false -> true
[09:30:37] [ENEMY] [Enemy10] Player ammo empty: false -> true
[09:30:37] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(450, 1250), source=PLAYER (Player), range=600, listeners=18
[09:30:37] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[09:30:37] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (450, 1250), intensity=0.01, distance=495
[09:30:37] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[09:30:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[09:30:37] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(450, 1250)
[09:30:37] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-12,0, distance=40,0px, pos=(489.43155, 1256.5847)
[09:30:37] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-10,3, distance=41,7px, pos=(491.08423, 1257.2274)
[09:30:37] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=0,3, distance=52,3px, pos=(501.10016, 1261.1569)
[09:30:37] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-6,8, distance=45,2px, pos=(493.5715, 1262.0042)
[09:30:37] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-8,2, distance=43,8px, pos=(492.0377, 1262.244)
[09:30:37] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-8,0, distance=44,0px, pos=(492.14972, 1262.715)
[09:30:37] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-5,8, distance=46,2px, pos=(493.2564, 1266.1904)
[09:30:37] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=6,9, distance=58,9px, pos=(505.5473, 1269.4736)
[09:30:37] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=-1,3, distance=50,7px, pos=(496.67532, 1269.7852)
[09:30:37] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=0,2, distance=52,2px, pos=(498.17374, 1270.2051)
[09:30:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (Shotgun), range=1469, listeners=10
[09:30:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[09:30:37] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=912), can_see=false
[09:30:37] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=702), can_see=false
[09:30:37] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=559), can_see=false
[09:30:37] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=135.0°, current=-101.3°, player=(450,1250), corner_timer=0.00
[09:30:37] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=495), can_see=false
[09:30:37] [ENEMY] [Enemy4] Pursuing vulnerability sound at (450, 1250), distance=495
[09:30:37] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1540), can_see=false
[09:30:37] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1700), can_see=false
[09:30:37] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1297), can_see=false
[09:30:37] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1464), can_see=false
[09:30:37] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1677), can_see=false
[09:30:37] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=795), can_see=false
[09:30:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1250), corner_timer=-0.02
[09:30:37] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:30:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1250), corner_timer=0.30
[09:30:37] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:30:38] [ENEMY] [Enemy3] Memory: medium confidence (0.51) - transitioning to PURSUING
[09:30:38] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[09:30:38] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=11.3°, player=(450,1250), corner_timer=0.00
[09:30:38] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[09:30:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1250), corner_timer=-0.02
[09:30:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[09:30:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,1250), corner_timer=0.30
[09:30:38] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=912), can_see=false
[09:30:38] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=702), can_see=false
[09:30:38] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=516), can_see=false
[09:30:38] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=557), can_see=false
[09:30:38] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1540), can_see=false
[09:30:38] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1700), can_see=false
[09:30:38] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1297), can_see=false
[09:30:38] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1464), can_see=false
[09:30:38] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1677), can_see=false
[09:30:38] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=792), can_see=false
[09:30:38] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:30:38] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[09:30:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[09:30:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:38] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:38] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:38] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:38] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:38] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:38] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:38] [ENEMY] [Enemy1] Death animation component initialized
[09:30:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:38] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:38] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:38] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:38] [ENEMY] [Enemy2] Death animation component initialized
[09:30:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:38] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:38] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:38] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:38] [ENEMY] [Enemy3] Death animation component initialized
[09:30:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:38] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:38] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:38] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:38] [ENEMY] [Enemy4] Death animation component initialized
[09:30:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:38] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:38] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:38] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:38] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:38] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:38] [ENEMY] [Grenadier] Death animation component initialized
[09:30:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:38] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:38] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:38] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:38] [ENEMY] [Enemy6] Death animation component initialized
[09:30:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:38] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:38] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:38] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:38] [ENEMY] [Enemy7] Death animation component initialized
[09:30:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:38] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:38] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:38] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:38] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:30:38] [ENEMY] [Enemy8] Death animation component initialized
[09:30:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:38] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:38] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:38] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:38] [ENEMY] [Enemy9] Death animation component initialized
[09:30:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:38] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:38] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:38] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:38] [ENEMY] [Enemy10] Death animation component initialized
[09:30:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:38] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:38] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:38] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:38] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[09:30:38] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:38] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[09:30:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:38] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:38] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:38] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:38] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:38] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:38] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 10/10
[09:30:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:38] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:38] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:38] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:38] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:38] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:38] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:38] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:38] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:38] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:38] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:38] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:38] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:38] [INFO] [BuildingLevel] Setting up weapon: shotgun
[09:30:38] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[09:30:38] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:38] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:38] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:38] [INFO] [ReplayManager] Replay data cleared
[09:30:38] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:38] [INFO] [ReplayManager] Detected player weapon: Shotgun
[09:30:38] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:38] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:38] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:38] [INFO] [ReplayManager] Enemies count: 10
[09:30:38] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[09:30:38] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:38] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:38] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:38] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:38] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:38] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:38] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:38] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:38] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:38] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:38] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:38] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:38] [INFO] [CinemaEffects] Found player node: Player
[09:30:38] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:30:38] [ENEMY] [Enemy1] Registered as sound listener
[09:30:38] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:30:38] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:30:38] [ENEMY] [Enemy2] Registered as sound listener
[09:30:38] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:30:38] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:30:38] [ENEMY] [Enemy3] Registered as sound listener
[09:30:38] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:30:38] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:30:38] [ENEMY] [Enemy4] Registered as sound listener
[09:30:38] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:30:38] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:38] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:30:38] [ENEMY] [Grenadier] Registered as sound listener
[09:30:38] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:38] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:30:38] [ENEMY] [Enemy6] Registered as sound listener
[09:30:38] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:30:38] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:30:38] [ENEMY] [Enemy7] Registered as sound listener
[09:30:38] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:30:38] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:30:38] [ENEMY] [Enemy8] Registered as sound listener
[09:30:38] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:30:38] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:30:38] [ENEMY] [Enemy9] Registered as sound listener
[09:30:38] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:30:38] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:30:38] [ENEMY] [Enemy10] Registered as sound listener
[09:30:38] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:30:38] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:38] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:38] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:38] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:38] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:38] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:38] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:38] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:38] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:38] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:38] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[09:30:38] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[09:30:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:38] [INFO] [LastChance] Found player: Player
[09:30:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:38] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:38] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:39] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:40] [INFO] [PauseMenu] Armory button pressed
[09:30:40] [INFO] [PauseMenu] Creating new armory menu instance
[09:30:40] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[09:30:40] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[09:30:40] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[09:30:40] [INFO] [PauseMenu] back_pressed signal exists on instance
[09:30:40] [INFO] [PauseMenu] back_pressed signal connected
[09:30:40] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[09:30:40] [INFO] [PauseMenu] _populate_weapon_grid method exists
[09:30:40] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:41] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:30:42] [INFO] [GameManager] Weapon selected: mini_uzi
[09:30:42] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:42] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:42] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:42] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:42] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:42] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:42] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:42] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:42] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:42] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:42] [ENEMY] [Enemy1] Death animation component initialized
[09:30:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:42] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:42] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:42] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:42] [ENEMY] [Enemy2] Death animation component initialized
[09:30:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:42] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:42] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:42] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:42] [ENEMY] [Enemy3] Death animation component initialized
[09:30:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:42] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:42] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:42] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:42] [ENEMY] [Enemy4] Death animation component initialized
[09:30:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:42] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:42] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:42] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:42] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:42] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:42] [ENEMY] [Grenadier] Death animation component initialized
[09:30:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:42] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:42] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:42] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:42] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:30:42] [ENEMY] [Enemy6] Death animation component initialized
[09:30:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:42] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:42] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:42] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:42] [ENEMY] [Enemy7] Death animation component initialized
[09:30:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:42] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:42] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:42] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:42] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:30:42] [ENEMY] [Enemy8] Death animation component initialized
[09:30:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:42] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:42] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:42] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:42] [ENEMY] [Enemy9] Death animation component initialized
[09:30:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:42] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:42] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:42] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:42] [ENEMY] [Enemy10] Death animation component initialized
[09:30:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:42] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:42] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:42] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:42] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:42] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[09:30:42] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:42] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[09:30:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:42] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:42] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:42] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:42] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:42] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:42] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 10/10
[09:30:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:42] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:42] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:42] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:42] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:42] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:42] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:42] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:42] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:42] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:42] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:42] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:42] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:42] [INFO] [BuildingLevel] Setting up weapon: mini_uzi
[09:30:42] [INFO] [BuildingLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[09:30:42] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:42] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:42] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:42] [INFO] [ReplayManager] Replay data cleared
[09:30:42] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:42] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[09:30:42] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:42] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:42] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:42] [INFO] [ReplayManager] Enemies count: 10
[09:30:42] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[09:30:42] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:42] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:42] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:42] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:42] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:42] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:42] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:42] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:42] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:42] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:42] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:42] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:42] [INFO] [CinemaEffects] Found player node: Player
[09:30:42] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:42] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[09:30:42] [ENEMY] [Enemy1] Registered as sound listener
[09:30:42] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:30:42] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:42] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[09:30:42] [ENEMY] [Enemy2] Registered as sound listener
[09:30:42] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:30:42] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:42] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[09:30:42] [ENEMY] [Enemy3] Registered as sound listener
[09:30:42] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:30:42] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:42] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[09:30:42] [ENEMY] [Enemy4] Registered as sound listener
[09:30:42] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:30:42] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:42] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 25)
[09:30:42] [ENEMY] [Grenadier] Registered as sound listener
[09:30:42] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:42] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:42] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[09:30:42] [ENEMY] [Enemy6] Registered as sound listener
[09:30:42] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:30:42] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:42] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[09:30:42] [ENEMY] [Enemy7] Registered as sound listener
[09:30:42] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[09:30:42] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:42] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[09:30:42] [ENEMY] [Enemy8] Registered as sound listener
[09:30:42] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:30:42] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:42] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[09:30:42] [ENEMY] [Enemy9] Registered as sound listener
[09:30:42] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:30:42] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:42] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[09:30:42] [ENEMY] [Enemy10] Registered as sound listener
[09:30:42] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:30:42] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:42] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:42] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:42] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:42] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:42] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:42] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:42] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:42] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:42] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:42] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[09:30:42] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[09:30:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:42] [INFO] [LastChance] Found player: Player
[09:30:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:42] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:42] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:43] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:43] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:44] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:44] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:44] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(298,887), corner_timer=0.30
[09:30:44] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(298,887), corner_timer=0.30
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 843.9927), source=PLAYER (MiniUzi), range=1469, listeners=30
[09:30:44] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[09:30:44] [ENEMY] [Enemy1] Heard gunshot at (298.3253, 843.9927), source_type=0, intensity=0.01, distance=494
[09:30:44] [ENEMY] [Enemy2] Heard gunshot at (298.3253, 843.9927), source_type=0, intensity=0.03, distance=311
[09:30:44] [ENEMY] [Enemy3] Heard gunshot at (298.3253, 843.9927), source_type=0, intensity=0.01, distance=413
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:30:44] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=90.2°, current=168.8°, player=(298,843), corner_timer=0.00
[09:30:44] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=109.1°, current=-157.5°, player=(298,843), corner_timer=0.00
[09:30:44] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=166.8°, current=11.3°, player=(298,843), corner_timer=0.00
[09:30:44] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=167.5°, current=-179.1°, player=(298,838), corner_timer=0.00
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 829.1594), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 813.2705), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 801.826), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:30:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(298,801), corner_timer=-0.02
[09:30:44] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(298,801), corner_timer=-0.02
[09:30:44] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:30:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(298,799), corner_timer=0.30
[09:30:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(298,799), corner_timer=0.30
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 794.826), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:30:44] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[09:30:44] [INFO] [ImpactEffects] spawn_blood_effect called at (621.0562, 762.5657), dir=(0.949319, -0.314315), lethal=false
[09:30:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:30:44] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:30:44] [INFO] [ImpactEffects] Blood effect spawned at (621.0562, 762.5657) (scale=0.5)
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 792.2705), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:30:44] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:44] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[09:30:44] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 792.2705), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:30:44] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:30:44] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-167.9°, current=-101.3°, player=(298,792), corner_timer=0.00
[09:30:44] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 792.2705), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.553, 774.8522), source=ENEMY (Enemy3), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[09:30:44] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:30:44] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[09:30:44] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 792.2705), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.2706, 785.2719), source=ENEMY (Enemy3), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[09:30:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(298,792), corner_timer=-0.02
[09:30:44] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:30:44] [INFO] [BloodDecal] Blood puddle created at (680.032, 761.8705) (added to group)
[09:30:44] [INFO] [BloodDecal] Blood puddle created at (698.9028, 789.5791) (added to group)
[09:30:44] [INFO] [BloodDecal] Blood puddle created at (659.0286, 751.6434) (added to group)
[09:30:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(298,792), corner_timer=0.30
[09:30:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(298.3253, 829.1594), shooter_id=768195169037, bullet_pos=(920.6915, 624.9915)
[09:30:44] [INFO] [Bullet] Using shooter_position, distance=654.999389648438
[09:30:44] [INFO] [Bullet] Distance to wall: 654.999389648438 (44.6001128788351% of viewport)
[09:30:44] [INFO] [Bullet] Distance-based penetration chance: 94.6332016413591%
[09:30:44] [INFO] [Bullet] Caliber cannot penetrate walls
[09:30:44] [INFO] [LastChance] Threat detected: @Area2D@3928
[09:30:44] [INFO] [LastChance] Not in hard mode - effect disabled
[09:30:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 792.2705), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.9881, 795.6916), source=ENEMY (Enemy3), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[09:30:44] [INFO] [BloodDecal] Blood puddle created at (708.3778, 722.9594) (added to group)
[09:30:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(499.8846, 802.6154), shooter_id=764839725824, bullet_pos=(499.8846, 802.6154)
[09:30:44] [INFO] [Bullet] Using shooter_position, distance=0
[09:30:44] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[09:30:44] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[09:30:44] [INFO] [Bullet] Starting wall penetration at (499.8846, 802.6154)
[09:30:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46,78222
[09:30:44] [INFO] [Bullet] Body exited signal received for penetrating body
[09:30:44] [INFO] [Bullet] Exiting penetration at (453.27783, 800.2517) after traveling 41,666668 pixels through wall
[09:30:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:30:44] [INFO] [BloodDecal] Blood puddle created at (704.5765, 746.0967) (added to group)
[09:30:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(298.3253, 813.2705), shooter_id=768195169037, bullet_pos=(927.5958, 631.4924)
[09:30:44] [INFO] [Bullet] Using shooter_position, distance=654.999755859375
[09:30:44] [INFO] [Bullet] Distance to wall: 654.999755859375 (44.6001378148112% of viewport)
[09:30:44] [INFO] [Bullet] Distance-based penetration chance: 94.6331725493869%
[09:30:44] [INFO] [Bullet] Caliber cannot penetrate walls
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 792.2705), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:30:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(298.3253, 792.2705), shooter_id=768195169037, bullet_pos=(476.1577, 712.2668)
[09:30:44] [INFO] [Bullet] Using shooter_position, distance=194.999938964844
[09:30:44] [INFO] [Bullet] Distance to wall: 194.999938964844 (13.2779044173858% of viewport)
[09:30:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:30:44] [INFO] [Bullet] Caliber cannot penetrate walls
[09:30:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(504.5862, 786.9372), shooter_id=764839725824, bullet_pos=(67.32185, 924.3029)
[09:30:44] [INFO] [Bullet] Using shooter_position, distance=458,33334
[09:30:44] [INFO] [Bullet] Distance to wall: 458,33334 (31,208763% of viewport)
[09:30:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:30:44] [INFO] [Bullet] Starting wall penetration at (67.32185, 924.3029)
[09:30:44] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=120.0°, current=169.4°, player=(298,792), corner_timer=0.00
[09:30:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(561.2086, 804.6484), source=ENEMY (Enemy3), range=1469, listeners=10
[09:30:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[09:30:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,642886
[09:30:44] [INFO] [Bullet] Body exited signal received for penetrating body
[09:30:44] [INFO] [Bullet] Exiting penetration at (22.800396, 938.28925) after traveling 41,66667 pixels through wall
[09:30:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:30:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(497.2872, 827.9863), shooter_id=764839725824, bullet_pos=(497.2872, 827.9863)
[09:30:44] [INFO] [Bullet] Using shooter_position, distance=0
[09:30:44] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[09:30:44] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[09:30:44] [INFO] [Bullet] Starting wall penetration at (497.2872, 827.9863)
[09:30:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49,382328
[09:30:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(298.3253, 801.826), shooter_id=768195169037, bullet_pos=(911.4119, 636.4486)
[09:30:44] [INFO] [Bullet] Using shooter_position, distance=634.999938964844
[09:30:44] [INFO] [Bullet] Distance to wall: 634.999938964844 (43.2383135060422% of viewport)
[09:30:44] [INFO] [Bullet] Distance-based penetration chance: 96.2219675762841%
[09:30:44] [INFO] [Bullet] Caliber cannot penetrate walls
[09:30:44] [INFO] [Bullet] Body exited signal received for penetrating body
[09:30:44] [INFO] [Bullet] Exiting penetration at (450.66965, 830.12695) after traveling 41,66667 pixels through wall
[09:30:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:30:44] [INFO] [BloodDecal] Blood puddle created at (703.3571, 736.1469) (added to group)
[09:30:44] [INFO] [BloodDecal] Blood puddle created at (761.4155, 760.1299) (added to group)
[09:30:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(298.3253, 792.2705), shooter_id=768195169037, bullet_pos=(476.28, 712.5388)
[09:30:45] [INFO] [Bullet] Using shooter_position, distance=195.000106811523
[09:30:45] [INFO] [Bullet] Distance to wall: 195.000106811523 (13.2779158463748% of viewport)
[09:30:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:30:45] [INFO] [Bullet] Caliber cannot penetrate walls
[09:30:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(502.13733, 794.8048), shooter_id=764839725824, bullet_pos=(45.46671, 833.81036)
[09:30:45] [INFO] [Bullet] Using shooter_position, distance=458,3334
[09:30:45] [INFO] [Bullet] Distance to wall: 458,3334 (31,208765% of viewport)
[09:30:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:30:45] [INFO] [Bullet] Starting wall penetration at (45.46671, 833.81036)
[09:30:45] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:30:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 792.2705), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:30:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,150932
[09:30:45] [INFO] [Bullet] Body exited signal received for penetrating body
[09:30:45] [INFO] [Bullet] Exiting penetration at (-1.0306664, 837.78186) after traveling 41,666676 pixels through wall
[09:30:45] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:30:45] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:30:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(298.3253, 794.826), shooter_id=768195169037, bullet_pos=(918.5355, 658.5767)
[09:30:45] [INFO] [Bullet] Using shooter_position, distance=634.999694824219
[09:30:45] [INFO] [Bullet] Distance to wall: 634.999694824219 (43.2382968820581% of viewport)
[09:30:45] [INFO] [Bullet] Distance-based penetration chance: 96.2219869709323%
[09:30:45] [INFO] [Bullet] Caliber cannot penetrate walls
[09:30:45] [INFO] [BloodDecal] Blood puddle created at (782.2849, 799.6103) (added to group)
[09:30:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.3253, 792.2705), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[09:30:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(298.3253, 792.2705), shooter_id=768195169037, bullet_pos=(474.7789, 709.2694)
[09:30:45] [INFO] [Bullet] Using shooter_position, distance=195.000152587891
[09:30:45] [INFO] [Bullet] Distance to wall: 195.000152587891 (13.2779189633719% of viewport)
[09:30:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:30:45] [INFO] [Bullet] Caliber cannot penetrate walls
[09:30:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(298.3253, 792.2705), shooter_id=768195169037, bullet_pos=(921.5799, 670.7043)
[09:30:45] [INFO] [Bullet] Using shooter_position, distance=634.999755859375
[09:30:45] [INFO] [Bullet] Distance to wall: 634.999755859375 (43.2383010380541% of viewport)
[09:30:45] [INFO] [Bullet] Distance-based penetration chance: 96.2219821222702%
[09:30:45] [INFO] [Bullet] Caliber cannot penetrate walls
[09:30:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(298,792), corner_timer=-0.02
[09:30:45] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:30:45] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[09:30:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(298,792), corner_timer=0.30
[09:30:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:45] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:45] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:45] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:45] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:45] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:45] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:45] [ENEMY] [Enemy1] Death animation component initialized
[09:30:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:45] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:45] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:45] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:45] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:30:45] [ENEMY] [Enemy2] Death animation component initialized
[09:30:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:45] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:45] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:45] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:45] [ENEMY] [Enemy3] Death animation component initialized
[09:30:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:45] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:45] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:45] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:45] [ENEMY] [Enemy4] Death animation component initialized
[09:30:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:45] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:45] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:45] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:45] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:45] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:45] [ENEMY] [Grenadier] Death animation component initialized
[09:30:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:45] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:45] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:45] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:45] [ENEMY] [Enemy6] Death animation component initialized
[09:30:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:45] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:45] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:45] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:45] [ENEMY] [Enemy7] Death animation component initialized
[09:30:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:45] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:45] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:45] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:45] [ENEMY] [Enemy8] Death animation component initialized
[09:30:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:45] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:45] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:45] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:45] [ENEMY] [Enemy9] Death animation component initialized
[09:30:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:45] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:45] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:45] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:45] [ENEMY] [Enemy10] Death animation component initialized
[09:30:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:45] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:45] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:45] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:45] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[09:30:45] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:45] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[09:30:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:45] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:45] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:45] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:45] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:45] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:45] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 10/10
[09:30:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:45] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:45] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:45] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:45] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:45] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:45] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:45] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:45] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:45] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:45] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:45] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:45] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:45] [INFO] [BuildingLevel] Setting up weapon: mini_uzi
[09:30:45] [INFO] [BuildingLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[09:30:45] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:45] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:45] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:45] [INFO] [ReplayManager] Replay data cleared
[09:30:45] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:45] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[09:30:45] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:45] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:45] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:45] [INFO] [ReplayManager] Enemies count: 10
[09:30:45] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[09:30:45] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:45] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:45] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:45] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:45] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:45] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:45] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:45] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:45] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:45] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:45] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:45] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:45] [INFO] [CinemaEffects] Found player node: Player
[09:30:45] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:30:45] [ENEMY] [Enemy1] Registered as sound listener
[09:30:45] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:30:45] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:30:45] [ENEMY] [Enemy2] Registered as sound listener
[09:30:45] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:30:45] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:30:45] [ENEMY] [Enemy3] Registered as sound listener
[09:30:45] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:30:45] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:30:45] [ENEMY] [Enemy4] Registered as sound listener
[09:30:45] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:30:45] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:45] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:30:45] [ENEMY] [Grenadier] Registered as sound listener
[09:30:45] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:45] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:30:45] [ENEMY] [Enemy6] Registered as sound listener
[09:30:45] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:30:45] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:30:45] [ENEMY] [Enemy7] Registered as sound listener
[09:30:45] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:30:45] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:30:45] [ENEMY] [Enemy8] Registered as sound listener
[09:30:45] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:30:45] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:30:45] [ENEMY] [Enemy9] Registered as sound listener
[09:30:45] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:30:45] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:30:45] [ENEMY] [Enemy10] Registered as sound listener
[09:30:45] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:30:45] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:45] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:45] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:45] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:45] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:45] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:45] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:45] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:45] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:45] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:45] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[09:30:45] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[09:30:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:45] [INFO] [LastChance] Found player: Player
[09:30:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:45] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:45] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:46] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:46] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:46] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:46] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(330,846), corner_timer=0.30
[09:30:46] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(330,846), corner_timer=0.30
[09:30:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.6871, 838.4244), source=PLAYER (MiniUzi), range=1469, listeners=20
[09:30:47] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:30:47] [ENEMY] [Enemy1] Heard gunshot at (323.6871, 838.4244), source_type=0, intensity=0.01, distance=489
[09:30:47] [ENEMY] [Enemy2] Heard gunshot at (323.6871, 838.4244), source_type=0, intensity=0.03, distance=298
[09:30:47] [ENEMY] [Enemy3] Heard gunshot at (323.6871, 838.4244), source_type=0, intensity=0.02, distance=387
[09:30:47] [ENEMY] [Enemy4] Heard gunshot at (323.6871, 838.4244), source_type=0, intensity=0.01, distance=480
[09:30:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:30:47] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=87.2°, current=33.8°, player=(323,838), corner_timer=0.00
[09:30:47] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=104.8°, current=45.0°, player=(323,838), corner_timer=0.00
[09:30:47] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=166.8°, current=11.3°, player=(323,838), corner_timer=0.00
[09:30:47] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-172.6°, current=-101.3°, player=(323,838), corner_timer=0.00
[09:30:47] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=166.8°, current=-179.1°, player=(323,838), corner_timer=0.00
[09:30:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.3645, 838.0627), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:30:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.3645, 838.0627), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:30:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.3645, 838.0627), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[09:30:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(323,838), corner_timer=-0.02
[09:30:47] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(323,838), corner_timer=-0.02
[09:30:47] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:30:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(323,838), corner_timer=0.30
[09:30:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(323,838), corner_timer=0.30
[09:30:47] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:47] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:30:47] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=107.4°, current=169.1°, player=(323,838), corner_timer=0.00
[09:30:47] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[09:30:47] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:30:47] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:30:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(323,838), corner_timer=-0.02
[09:30:47] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:30:47] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:30:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(323,838), corner_timer=0.30
[09:30:47] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:30:47] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:30:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:47] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:47] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:47] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:47] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:47] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:47] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:47] [ENEMY] [Enemy1] Death animation component initialized
[09:30:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:47] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:47] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:47] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:47] [ENEMY] [Enemy2] Death animation component initialized
[09:30:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:47] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:47] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:47] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:47] [ENEMY] [Enemy3] Death animation component initialized
[09:30:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:47] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:47] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:47] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:47] [ENEMY] [Enemy4] Death animation component initialized
[09:30:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:47] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:47] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:47] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:47] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:47] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:47] [ENEMY] [Grenadier] Death animation component initialized
[09:30:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:47] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:47] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:47] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:47] [ENEMY] [Enemy6] Death animation component initialized
[09:30:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:47] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:47] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:47] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:47] [ENEMY] [Enemy7] Death animation component initialized
[09:30:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:47] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:47] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:47] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:47] [ENEMY] [Enemy8] Death animation component initialized
[09:30:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:47] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:47] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:47] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:47] [ENEMY] [Enemy9] Death animation component initialized
[09:30:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:47] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:47] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:47] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:47] [ENEMY] [Enemy10] Death animation component initialized
[09:30:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:47] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:47] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:47] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:47] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[09:30:47] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:47] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[09:30:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:47] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:47] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:47] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:47] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:47] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 10/10
[09:30:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:47] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:47] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:47] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:47] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:47] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:47] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:47] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:47] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:47] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:47] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:47] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:47] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:47] [INFO] [BuildingLevel] Setting up weapon: mini_uzi
[09:30:47] [INFO] [BuildingLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[09:30:47] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:47] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:47] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:47] [INFO] [ReplayManager] Replay data cleared
[09:30:47] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:47] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[09:30:47] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:47] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:47] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:47] [INFO] [ReplayManager] Enemies count: 10
[09:30:47] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[09:30:47] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:47] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:47] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:47] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:47] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:47] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:47] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:47] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:47] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:47] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:47] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:47] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:47] [INFO] [CinemaEffects] Found player node: Player
[09:30:47] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:30:47] [ENEMY] [Enemy1] Registered as sound listener
[09:30:47] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:30:47] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:30:47] [ENEMY] [Enemy2] Registered as sound listener
[09:30:47] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:30:47] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:30:47] [ENEMY] [Enemy3] Registered as sound listener
[09:30:47] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:30:47] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:30:47] [ENEMY] [Enemy4] Registered as sound listener
[09:30:47] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:30:47] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:47] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:30:47] [ENEMY] [Grenadier] Registered as sound listener
[09:30:47] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:47] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:30:47] [ENEMY] [Enemy6] Registered as sound listener
[09:30:47] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:30:47] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:30:47] [ENEMY] [Enemy7] Registered as sound listener
[09:30:47] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:30:47] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:30:47] [ENEMY] [Enemy8] Registered as sound listener
[09:30:47] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:30:47] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:30:47] [ENEMY] [Enemy9] Registered as sound listener
[09:30:47] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:30:47] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:30:47] [ENEMY] [Enemy10] Registered as sound listener
[09:30:47] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:30:47] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:48] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:48] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:48] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:48] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:48] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:48] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:48] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:48] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:48] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:48] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[09:30:48] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[09:30:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:48] [INFO] [LastChance] Found player: Player
[09:30:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:48] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:48] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:48] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:49] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(250.5418, 909.7567), source=PLAYER (MiniUzi), range=1469, listeners=20
[09:30:49] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:30:49] [ENEMY] [Enemy2] Heard gunshot at (250.5418, 909.7567), source_type=0, intensity=0.02, distance=390
[09:30:49] [ENEMY] [Enemy3] Heard gunshot at (250.5418, 909.7567), source_type=0, intensity=0.01, distance=477
[09:30:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:30:49] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=112.6°, current=-67.5°, player=(250,909), corner_timer=0.00
[09:30:49] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=160.4°, current=-123.8°, player=(250,909), corner_timer=0.00
[09:30:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(243.4679, 903.4499), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:30:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(238.2601, 898.8068), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:30:49] [ENEMY] [Enemy4] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:30:49] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:30:49] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:49] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:49] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:30:49] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:30:49] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:30:49] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-179.8°, current=-101.3°, player=(236,897), corner_timer=0.00
[09:30:49] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(236,897), corner_timer=0.30
[09:30:49] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(236,897), corner_timer=0.30
[09:30:49] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=96.7°, current=-157.5°, player=(235,896), corner_timer=0.00
[09:30:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(234.9184, 895.8273), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:30:49] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:30:49] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:30:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(233.3654, 894.4427), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:30:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(233.3654, 894.4427), source=PLAYER (MiniUzi), range=1469, listeners=10
[09:30:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[09:30:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(233,894), corner_timer=-0.02
[09:30:50] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(233,894), corner_timer=-0.02
[09:30:50] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:30:50] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:30:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(233,894), corner_timer=0.30
[09:30:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(233,894), corner_timer=0.30
[09:30:50] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=162.9°, current=113.7°, player=(233,894), corner_timer=0.00
[09:30:50] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[09:30:50] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:30:50] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:30:50] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:30:50] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:50] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[09:30:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(233,894), corner_timer=-0.02
[09:30:50] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:30:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:50] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:50] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:50] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:50] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:50] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:50] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:50] [ENEMY] [Enemy1] Death animation component initialized
[09:30:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:50] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:50] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:50] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:50] [ENEMY] [Enemy2] Death animation component initialized
[09:30:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:50] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:50] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:50] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:50] [ENEMY] [Enemy3] Death animation component initialized
[09:30:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:50] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:50] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:50] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:50] [ENEMY] [Enemy4] Death animation component initialized
[09:30:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:50] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:50] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:50] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:50] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:50] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:50] [ENEMY] [Grenadier] Death animation component initialized
[09:30:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:50] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:50] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:50] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:50] [ENEMY] [Enemy6] Death animation component initialized
[09:30:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:50] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:50] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:50] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:50] [ENEMY] [Enemy7] Death animation component initialized
[09:30:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:50] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:50] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:50] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:50] [ENEMY] [Enemy8] Death animation component initialized
[09:30:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:50] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:50] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:50] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:50] [ENEMY] [Enemy9] Death animation component initialized
[09:30:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:50] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:50] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:50] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:30:50] [ENEMY] [Enemy10] Death animation component initialized
[09:30:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:50] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:50] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:50] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:50] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:50] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[09:30:50] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:50] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[09:30:50] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:50] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:50] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:50] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:50] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:50] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:50] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:50] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:50] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:50] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:50] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 10/10
[09:30:50] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:50] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:50] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:50] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:50] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:50] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:50] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:50] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:50] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:50] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:50] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:50] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:50] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:50] [INFO] [BuildingLevel] Setting up weapon: mini_uzi
[09:30:50] [INFO] [BuildingLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[09:30:50] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:50] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:50] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:50] [INFO] [ReplayManager] Replay data cleared
[09:30:50] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:50] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[09:30:50] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:50] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:50] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:50] [INFO] [ReplayManager] Enemies count: 10
[09:30:50] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[09:30:50] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:50] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:50] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:50] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:50] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:50] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:50] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:50] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:50] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:50] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:50] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:50] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:50] [INFO] [CinemaEffects] Found player node: Player
[09:30:50] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:50] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:30:50] [ENEMY] [Enemy1] Registered as sound listener
[09:30:50] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:30:50] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:50] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:30:50] [ENEMY] [Enemy2] Registered as sound listener
[09:30:50] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:30:50] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:50] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:30:50] [ENEMY] [Enemy3] Registered as sound listener
[09:30:50] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:30:50] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:50] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:30:50] [ENEMY] [Enemy4] Registered as sound listener
[09:30:50] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:30:50] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:50] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:30:50] [ENEMY] [Grenadier] Registered as sound listener
[09:30:50] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:50] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:50] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:30:50] [ENEMY] [Enemy6] Registered as sound listener
[09:30:50] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:30:50] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:50] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:30:50] [ENEMY] [Enemy7] Registered as sound listener
[09:30:50] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:30:50] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:50] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:30:50] [ENEMY] [Enemy8] Registered as sound listener
[09:30:50] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:30:50] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:50] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:30:50] [ENEMY] [Enemy9] Registered as sound listener
[09:30:50] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:30:50] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:50] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:30:50] [ENEMY] [Enemy10] Registered as sound listener
[09:30:50] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:30:50] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:50] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:50] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:50] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:50] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:50] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:50] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:50] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:50] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:50] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:30:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:50] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[09:30:50] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[09:30:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:50] [INFO] [LastChance] Found player: Player
[09:30:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:50] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:50] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:51] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:51] [INFO] [PauseMenu] Armory button pressed
[09:30:51] [INFO] [PauseMenu] Creating new armory menu instance
[09:30:51] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[09:30:51] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[09:30:51] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[09:30:51] [INFO] [PauseMenu] back_pressed signal exists on instance
[09:30:51] [INFO] [PauseMenu] back_pressed signal connected
[09:30:51] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[09:30:51] [INFO] [PauseMenu] _populate_weapon_grid method exists
[09:30:52] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:53] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:30:53] [INFO] [GameManager] Weapon selected: silenced_pistol
[09:30:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:53] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:53] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:53] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:53] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:53] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:53] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:53] [ENEMY] [Enemy1] Death animation component initialized
[09:30:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:53] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:53] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:53] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:53] [ENEMY] [Enemy2] Death animation component initialized
[09:30:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:53] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:53] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:53] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:53] [ENEMY] [Enemy3] Death animation component initialized
[09:30:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:53] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:53] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:53] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:53] [ENEMY] [Enemy4] Death animation component initialized
[09:30:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:53] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:53] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:53] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:53] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:53] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:53] [ENEMY] [Grenadier] Death animation component initialized
[09:30:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:53] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:53] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:53] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:53] [ENEMY] [Enemy6] Death animation component initialized
[09:30:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:53] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:53] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:53] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:53] [ENEMY] [Enemy7] Death animation component initialized
[09:30:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:53] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:53] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:53] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:53] [ENEMY] [Enemy8] Death animation component initialized
[09:30:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:53] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:53] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:53] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:53] [ENEMY] [Enemy9] Death animation component initialized
[09:30:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:53] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:53] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:53] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:53] [ENEMY] [Enemy10] Death animation component initialized
[09:30:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:53] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:53] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:53] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:53] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[09:30:53] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:54] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[09:30:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:54] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:54] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:54] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:54] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:54] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:54] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 10/10
[09:30:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:54] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:54] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:54] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:54] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:54] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:54] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:54] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:54] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:54] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:54] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:54] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:54] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:54] [INFO] [BuildingLevel] Setting up weapon: silenced_pistol
[09:30:54] [INFO] [BuildingLevel] SilencedPistol already equipped by C# Player - skipping GDScript weapon swap
[09:30:54] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:54] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:54] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:54] [INFO] [ReplayManager] Replay data cleared
[09:30:54] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:54] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[09:30:54] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:54] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:54] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:54] [INFO] [ReplayManager] Enemies count: 10
[09:30:54] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[09:30:54] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:54] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:54] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:54] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:54] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:54] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:54] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:54] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:54] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:54] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:54] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:54] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:54] [INFO] [CinemaEffects] Found player node: Player
[09:30:54] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[09:30:54] [ENEMY] [Enemy1] Registered as sound listener
[09:30:54] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:30:54] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[09:30:54] [ENEMY] [Enemy2] Registered as sound listener
[09:30:54] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:30:54] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[09:30:54] [ENEMY] [Enemy3] Registered as sound listener
[09:30:54] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:30:54] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[09:30:54] [ENEMY] [Enemy4] Registered as sound listener
[09:30:54] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:30:54] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:54] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 25)
[09:30:54] [ENEMY] [Grenadier] Registered as sound listener
[09:30:54] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:54] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[09:30:54] [ENEMY] [Enemy6] Registered as sound listener
[09:30:54] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:30:54] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[09:30:54] [ENEMY] [Enemy7] Registered as sound listener
[09:30:54] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:30:54] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[09:30:54] [ENEMY] [Enemy8] Registered as sound listener
[09:30:54] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:30:54] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[09:30:54] [ENEMY] [Enemy9] Registered as sound listener
[09:30:54] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:30:54] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[09:30:54] [ENEMY] [Enemy10] Registered as sound listener
[09:30:54] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:30:54] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:54] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:54] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:54] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:54] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:54] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:54] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:54] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:54] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:54] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:54] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[09:30:54] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[09:30:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:54] [INFO] [LastChance] Found player: Player
[09:30:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:54] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:54] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:54] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:55] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:55] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:55] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(242,882), corner_timer=0.30
[09:30:55] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(242,882), corner_timer=0.30
[09:30:55] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.5°, current=-168.8°, player=(237,877), corner_timer=0.00
[09:30:55] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[09:30:55] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=164.8°, current=-9.8°, player=(235,875), corner_timer=0.00
[09:30:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(233,873), corner_timer=-0.02
[09:30:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(233,873), corner_timer=-0.02
[09:30:55] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:30:55] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:30:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(233,873), corner_timer=0.30
[09:30:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(233,873), corner_timer=0.30
[09:30:56] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:30:56] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=165.1°, current=45.1°, player=(233,873), corner_timer=0.00
[09:30:56] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(248.6913, 888.8293), shooter_id=1007270497275, bullet_pos=(921.152, 603.4758)
[09:30:56] [INFO] [Bullet] Using shooter_position, distance=730.499816894531
[09:30:56] [INFO] [Bullet] Distance to wall: 730.499816894531 (49.7410758030653% of viewport)
[09:30:56] [INFO] [Bullet] Distance-based penetration chance: 88.6354115630905%
[09:30:56] [INFO] [Bullet] Caliber cannot penetrate walls
[09:30:56] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:30:56] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:30:56] [ENEMY] [Enemy4] Memory: high confidence (0.86) - transitioning to PURSUING
[09:30:56] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:30:56] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-177.4°, current=-101.3°, player=(233,873), corner_timer=0.00
[09:30:56] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:30:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:56] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:30:56] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:30:56] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:30:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:30:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:30:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:30:56] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:30:56] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:30:56] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:30:56] [ENEMY] [Enemy1] Death animation component initialized
[09:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:56] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:30:56] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:30:56] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:30:56] [ENEMY] [Enemy2] Death animation component initialized
[09:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:56] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:30:56] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:30:56] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:30:56] [ENEMY] [Enemy3] Death animation component initialized
[09:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:56] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:30:56] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:30:56] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:30:56] [ENEMY] [Enemy4] Death animation component initialized
[09:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:56] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:30:56] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:30:56] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:30:56] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:30:56] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:30:56] [ENEMY] [Grenadier] Death animation component initialized
[09:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:56] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:30:56] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:30:56] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:30:56] [ENEMY] [Enemy6] Death animation component initialized
[09:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:56] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:30:56] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:30:56] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:30:56] [ENEMY] [Enemy7] Death animation component initialized
[09:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:56] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:30:56] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:30:56] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:30:56] [ENEMY] [Enemy8] Death animation component initialized
[09:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:56] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:30:56] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:30:56] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:30:56] [ENEMY] [Enemy9] Death animation component initialized
[09:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:56] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:30:56] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:30:56] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:30:56] [ENEMY] [Enemy10] Death animation component initialized
[09:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:30:56] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:30:56] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:30:56] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:30:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:30:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:30:56] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[09:30:56] [INFO] [Player.Weapon] Removed default MakarovPM
[09:30:56] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[09:30:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:30:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:30:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:30:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:30:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:30:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:30:56] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:30:56] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:30:56] [INFO] [Player.Homing] Homing activation sound loaded
[09:30:56] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:30:56] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 10/10
[09:30:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:30:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:30:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:30:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:30:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:30:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:30:56] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:30:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:30:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:30:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:30:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:30:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:30:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:30:56] [INFO] [BuildingLevel] Setting up weapon: silenced_pistol
[09:30:56] [INFO] [BuildingLevel] SilencedPistol already equipped by C# Player - skipping GDScript weapon swap
[09:30:56] [INFO] [ScoreManager] Level started with 10 enemies
[09:30:56] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:30:56] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:30:56] [INFO] [ReplayManager] Replay data cleared
[09:30:56] [INFO] [BuildingLevel] Previous replay data cleared
[09:30:56] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[09:30:56] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:30:56] [INFO] [ReplayManager] Level: BuildingLevel
[09:30:56] [INFO] [ReplayManager] Player: Player (valid: True)
[09:30:56] [INFO] [ReplayManager] Enemies count: 10
[09:30:56] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[09:30:56] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:30:56] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:30:56] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:30:56] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:30:56] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:30:56] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:30:56] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:30:56] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:30:56] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:30:56] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:30:56] [INFO] [BuildingLevel] Replay recording started successfully
[09:30:56] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:30:56] [INFO] [CinemaEffects] Found player node: Player
[09:30:56] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:30:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[09:30:56] [ENEMY] [Enemy1] Registered as sound listener
[09:30:56] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:30:56] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:30:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[09:30:56] [ENEMY] [Enemy2] Registered as sound listener
[09:30:56] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:30:56] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:30:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[09:30:56] [ENEMY] [Enemy3] Registered as sound listener
[09:30:56] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:30:56] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:30:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[09:30:56] [ENEMY] [Enemy4] Registered as sound listener
[09:30:56] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:30:56] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:30:56] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 35)
[09:30:56] [ENEMY] [Grenadier] Registered as sound listener
[09:30:56] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:30:56] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:30:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[09:30:56] [ENEMY] [Enemy6] Registered as sound listener
[09:30:56] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:30:56] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:30:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[09:30:56] [ENEMY] [Enemy7] Registered as sound listener
[09:30:56] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:30:56] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:30:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[09:30:56] [ENEMY] [Enemy8] Registered as sound listener
[09:30:56] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:30:56] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:30:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[09:30:56] [ENEMY] [Enemy9] Registered as sound listener
[09:30:56] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:30:56] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:30:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[09:30:56] [ENEMY] [Enemy10] Registered as sound listener
[09:30:56] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:30:56] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:30:56] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:30:56] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:56] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:56] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:56] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:56] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:56] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:56] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:56] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:30:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:30:56] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[09:30:56] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[09:30:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:30:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:30:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:30:56] [INFO] [LastChance] Found player: Player
[09:30:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:30:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:30:56] [INFO] [LastChance] Connected to player Died signal (C#)
[09:30:56] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:30:57] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:30:57] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:30:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:58] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:30:58] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(335,854), corner_timer=0.30
[09:30:58] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(335,854), corner_timer=0.30
[09:30:58] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.2°, current=123.7°, player=(333,853), corner_timer=0.00
[09:30:58] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[09:30:58] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=164.6°, current=-66.1°, player=(330,851), corner_timer=0.00
[09:30:58] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:30:58] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=165.0°, current=-105.7°, player=(327,850), corner_timer=0.00
[09:30:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(327,850), corner_timer=-0.02
[09:30:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:30:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(327,850), corner_timer=-0.02
[09:30:58] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:30:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(327,850), corner_timer=0.30
[09:30:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(327,850), corner_timer=0.30
[09:30:58] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:30:58] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:30:58] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:30:58] [ENEMY] [Enemy4] Memory: high confidence (0.85) - transitioning to PURSUING
[09:30:58] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:30:58] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-174.0°, current=168.8°, player=(327,850), corner_timer=0.00
[09:30:58] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:30:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(327,850), corner_timer=-0.02
[09:30:58] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:30:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(327,850), corner_timer=0.30
[09:30:58] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:30:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(354.5957, 866.2498), shooter_id=1052015331919, bullet_pos=(1379.95, 281.2484)
[09:30:58] [INFO] [Bullet] Using shooter_position, distance=1180.49951171875
[09:30:58] [INFO] [Bullet] Distance to wall: 1180.49951171875 (80.3823825001201% of viewport)
[09:30:58] [INFO] [Bullet] Distance-based penetration chance: 52.8872204165265%
[09:30:58] [INFO] [Bullet] Caliber cannot penetrate walls
[09:30:59] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:30:59] [INFO] [PauseMenu] Armory button pressed
[09:30:59] [INFO] [PauseMenu] Creating new armory menu instance
[09:30:59] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[09:30:59] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[09:30:59] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[09:30:59] [INFO] [PauseMenu] back_pressed signal exists on instance
[09:30:59] [INFO] [PauseMenu] back_pressed signal connected
[09:30:59] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[09:30:59] [INFO] [PauseMenu] _populate_weapon_grid method exists
[09:31:00] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[09:31:01] [INFO] [GameManager] Weapon selected: sniper
[09:31:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:01] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:01] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:01] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:01] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:01] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:01] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:01] [ENEMY] [Enemy1] Death animation component initialized
[09:31:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:01] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:01] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:01] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:01] [ENEMY] [Enemy2] Death animation component initialized
[09:31:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:01] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:01] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:01] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:01] [ENEMY] [Enemy3] Death animation component initialized
[09:31:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:01] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:01] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:01] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:01] [ENEMY] [Enemy4] Death animation component initialized
[09:31:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:01] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:01] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:01] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:01] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:01] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:01] [ENEMY] [Grenadier] Death animation component initialized
[09:31:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:01] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:01] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:01] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:01] [ENEMY] [Enemy6] Death animation component initialized
[09:31:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:01] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:01] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:01] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:01] [ENEMY] [Enemy7] Death animation component initialized
[09:31:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:01] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:01] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:01] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:01] [ENEMY] [Enemy8] Death animation component initialized
[09:31:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:01] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:01] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:01] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:01] [ENEMY] [Enemy9] Death animation component initialized
[09:31:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:01] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:01] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:01] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:01] [ENEMY] [Enemy10] Death animation component initialized
[09:31:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:01] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:01] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:01] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:01] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[09:31:01] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:01] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[09:31:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:01] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:01] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:01] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:01] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:01] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:01] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[09:31:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:01] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:01] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:01] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:01] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:01] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:01] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:01] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:01] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:01] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:01] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:01] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:01] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:01] [INFO] [BuildingLevel] Setting up weapon: sniper
[09:31:01] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[09:31:01] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:01] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:01] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:01] [INFO] [ReplayManager] Replay data cleared
[09:31:01] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:01] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[09:31:01] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:01] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:01] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:01] [INFO] [ReplayManager] Enemies count: 10
[09:31:01] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[09:31:01] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:01] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:01] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:01] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:01] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:01] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:01] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:01] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:01] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:01] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:01] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:01] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:01] [INFO] [CinemaEffects] Found player node: Player
[09:31:01] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 41)
[09:31:01] [ENEMY] [Enemy1] Registered as sound listener
[09:31:01] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:31:01] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 42)
[09:31:01] [ENEMY] [Enemy2] Registered as sound listener
[09:31:01] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:31:01] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 43)
[09:31:01] [ENEMY] [Enemy3] Registered as sound listener
[09:31:01] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:31:01] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 44)
[09:31:01] [ENEMY] [Enemy4] Registered as sound listener
[09:31:01] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:31:01] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:01] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 45)
[09:31:01] [ENEMY] [Grenadier] Registered as sound listener
[09:31:01] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:01] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 46)
[09:31:01] [ENEMY] [Enemy6] Registered as sound listener
[09:31:01] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:31:01] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 47)
[09:31:01] [ENEMY] [Enemy7] Registered as sound listener
[09:31:01] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:31:01] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 48)
[09:31:01] [ENEMY] [Enemy8] Registered as sound listener
[09:31:01] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:31:01] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 49)
[09:31:01] [ENEMY] [Enemy9] Registered as sound listener
[09:31:01] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:31:01] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 50)
[09:31:01] [ENEMY] [Enemy10] Registered as sound listener
[09:31:01] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:31:01] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:01] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:01] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:01] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:01] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:01] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:01] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:01] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:01] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:01] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:01] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[09:31:01] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[09:31:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:01] [INFO] [LastChance] Found player: Player
[09:31:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:01] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:01] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:02] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:31:02] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:03] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:31:03] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(250,949), corner_timer=0.30
[09:31:03] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(250,949), corner_timer=0.30
[09:31:03] [ENEMY] [Enemy3] Hit: dmg=50, hp=4/4->-46/4
[09:31:03] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[09:31:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:31:03] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:31:03] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[09:31:03] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:31:03] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:31:03] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:31:03] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:31:03] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:31:03] [INFO] [PowerFantasy]   - Duration: 300ms
[09:31:03] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:31:03] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 49)
[09:31:03] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:31:03] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:31:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(247.8121, 946.1752), source=PLAYER (SniperRifle), range=3000, listeners=49
[09:31:03] [INFO] [SoundPropagation] Cleaned up 40 invalid listeners
[09:31:03] [ENEMY] [Enemy2] Heard gunshot at (247.8121, 946.1752), source_type=0, intensity=0.01, distance=424
[09:31:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[09:31:03] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=111.0°, current=-67.5°, player=(247,946), corner_timer=0.00
[09:31:03] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (741.8337, 768.1444) (added to group)
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (776.3356, 747.8309) (added to group)
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (750.3421, 766.3685) (added to group)
[09:31:03] [INFO] [PowerFantasy] Effect duration expired after 315.00 ms
[09:31:03] [INFO] [PowerFantasy] Ending power fantasy effect
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (799.0338, 756.0366) (added to group)
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (785.1378, 785.2543) (added to group)
[09:31:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(229,925), corner_timer=-0.01
[09:31:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.5°, player=(229,925), corner_timer=-0.01
[09:31:03] [ENEMY] [Enemy10] PATROL corner check: angle 14.8°
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (746.8446, 753.5781) (added to group)
[09:31:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(229,925), corner_timer=0.30
[09:31:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.8°, current=53.8°, player=(229,925), corner_timer=0.30
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (805.1635, 792.0576) (added to group)
[09:31:03] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (778.3394, 800.5111) (added to group)
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (824.5042, 830.23) (added to group)
[09:31:03] [ENEMY] [Enemy3] Ragdoll activated
[09:31:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:31:03] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (864.9393, 871.3558) (added to group)
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (843.3331, 818.1455) (added to group)
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (842.4607, 776.759) (added to group)
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (855.4503, 878.1952) (added to group)
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (821.198, 798.3118) (added to group)
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (903.0205, 829.0883) (added to group)
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (842.5464, 802.7143) (added to group)
[09:31:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(229,925), corner_timer=-0.02
[09:31:03] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[09:31:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=17.1°, player=(229,925), corner_timer=0.30
[09:31:03] [INFO] [BloodDecal] Blood puddle created at (807.7721, 830.6517) (added to group)
[09:31:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(229,925), corner_timer=-0.02
[09:31:04] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[09:31:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.8°, player=(229,925), corner_timer=0.30
[09:31:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:04] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:04] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:04] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:04] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:04] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:04] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:04] [ENEMY] [Enemy1] Death animation component initialized
[09:31:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:04] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:04] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:04] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:04] [ENEMY] [Enemy2] Death animation component initialized
[09:31:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:04] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:04] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:04] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:04] [ENEMY] [Enemy3] Death animation component initialized
[09:31:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:04] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:04] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:04] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:04] [ENEMY] [Enemy4] Death animation component initialized
[09:31:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:04] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:04] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:04] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:04] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:04] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:04] [ENEMY] [Grenadier] Death animation component initialized
[09:31:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:04] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:04] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:04] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:04] [ENEMY] [Enemy6] Death animation component initialized
[09:31:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:04] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:04] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:04] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:04] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:31:04] [ENEMY] [Enemy7] Death animation component initialized
[09:31:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:04] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:04] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:04] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:04] [ENEMY] [Enemy8] Death animation component initialized
[09:31:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:04] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:04] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:04] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:04] [ENEMY] [Enemy9] Death animation component initialized
[09:31:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:04] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:04] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:04] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:04] [ENEMY] [Enemy10] Death animation component initialized
[09:31:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:04] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:04] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:04] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:04] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[09:31:04] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:04] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[09:31:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:04] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:04] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:04] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:04] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:04] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:04] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[09:31:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:04] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:04] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:04] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:04] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:04] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:04] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:04] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:04] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:04] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:04] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:04] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:04] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:04] [INFO] [BuildingLevel] Setting up weapon: sniper
[09:31:04] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[09:31:04] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:04] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:04] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:04] [INFO] [ReplayManager] Replay data cleared
[09:31:04] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:04] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[09:31:04] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:04] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:04] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:04] [INFO] [ReplayManager] Enemies count: 10
[09:31:04] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[09:31:04] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:04] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:04] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:04] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:04] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:04] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:04] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:04] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:04] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:04] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:04] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:04] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:04] [INFO] [CinemaEffects] Found player node: Player
[09:31:04] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:31:04] [ENEMY] [Enemy1] Registered as sound listener
[09:31:04] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:31:04] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:31:04] [ENEMY] [Enemy2] Registered as sound listener
[09:31:04] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:31:04] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:31:04] [ENEMY] [Enemy3] Registered as sound listener
[09:31:04] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:31:04] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:31:04] [ENEMY] [Enemy4] Registered as sound listener
[09:31:04] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:31:04] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:04] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:31:04] [ENEMY] [Grenadier] Registered as sound listener
[09:31:04] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:04] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:31:04] [ENEMY] [Enemy6] Registered as sound listener
[09:31:04] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:31:04] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:31:04] [ENEMY] [Enemy7] Registered as sound listener
[09:31:04] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[09:31:04] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:31:04] [ENEMY] [Enemy8] Registered as sound listener
[09:31:04] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:31:04] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:31:04] [ENEMY] [Enemy9] Registered as sound listener
[09:31:04] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:31:04] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:31:04] [ENEMY] [Enemy10] Registered as sound listener
[09:31:04] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:31:04] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:04] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:04] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:04] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:04] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:04] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:04] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:04] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:04] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:04] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:04] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[09:31:04] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[09:31:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:04] [INFO] [LastChance] Found player: Player
[09:31:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:04] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:04] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:05] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:31:05] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (SniperRifle), range=3000, listeners=19
[09:31:05] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:31:05] [ENEMY] [Enemy4] Heard gunshot at (450, 1250), source_type=0, intensity=0.01, distance=495
[09:31:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[09:31:05] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-67.5°, player=(450,1250), corner_timer=0.00
[09:31:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:06] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:31:06] [ENEMY] [Enemy3] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:31:06] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[09:31:06] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[09:31:06] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[09:31:06] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-33.8°, player=(450,1250), corner_timer=0.00
[09:31:06] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[09:31:06] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:31:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[09:31:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[09:31:06] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:31:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[09:31:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[09:31:06] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[09:31:06] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:31:06] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:31:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:06] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:06] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:06] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:06] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:06] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:06] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:06] [ENEMY] [Enemy1] Death animation component initialized
[09:31:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:06] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:06] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:06] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:06] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:31:06] [ENEMY] [Enemy2] Death animation component initialized
[09:31:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:06] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:06] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:06] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:06] [ENEMY] [Enemy3] Death animation component initialized
[09:31:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:06] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:06] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:06] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:06] [ENEMY] [Enemy4] Death animation component initialized
[09:31:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:06] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:06] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:06] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:06] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:06] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:06] [ENEMY] [Grenadier] Death animation component initialized
[09:31:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:06] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:06] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:06] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:06] [ENEMY] [Enemy6] Death animation component initialized
[09:31:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:06] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:06] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:06] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:06] [ENEMY] [Enemy7] Death animation component initialized
[09:31:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:06] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:06] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:06] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:06] [ENEMY] [Enemy8] Death animation component initialized
[09:31:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:06] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:06] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:06] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:06] [ENEMY] [Enemy9] Death animation component initialized
[09:31:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:06] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:06] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:06] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:06] [ENEMY] [Enemy10] Death animation component initialized
[09:31:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:06] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:06] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:06] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:06] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:06] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[09:31:06] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:06] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[09:31:06] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:06] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:06] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:06] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:06] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:06] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:06] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:06] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:06] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:06] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:06] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[09:31:06] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:06] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:06] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:06] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:06] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:06] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:06] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:06] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:06] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:06] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:06] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:06] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:06] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:06] [INFO] [BuildingLevel] Setting up weapon: sniper
[09:31:06] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[09:31:06] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:06] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:06] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:06] [INFO] [ReplayManager] Replay data cleared
[09:31:06] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:06] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[09:31:06] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:06] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:06] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:06] [INFO] [ReplayManager] Enemies count: 10
[09:31:06] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[09:31:06] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:06] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:06] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:06] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:06] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:06] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:06] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:06] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:06] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:06] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:06] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:06] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:06] [INFO] [CinemaEffects] Found player node: Player
[09:31:06] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:06] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:31:06] [ENEMY] [Enemy1] Registered as sound listener
[09:31:06] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:31:06] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:06] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:31:06] [ENEMY] [Enemy2] Registered as sound listener
[09:31:06] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:31:06] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:06] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:31:06] [ENEMY] [Enemy3] Registered as sound listener
[09:31:06] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:31:06] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:06] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:31:06] [ENEMY] [Enemy4] Registered as sound listener
[09:31:06] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:31:06] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:06] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:31:06] [ENEMY] [Grenadier] Registered as sound listener
[09:31:06] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:06] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:06] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:31:06] [ENEMY] [Enemy6] Registered as sound listener
[09:31:06] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:31:06] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:06] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:31:06] [ENEMY] [Enemy7] Registered as sound listener
[09:31:06] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:31:06] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:06] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:31:06] [ENEMY] [Enemy8] Registered as sound listener
[09:31:06] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:31:06] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:06] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:31:06] [ENEMY] [Enemy9] Registered as sound listener
[09:31:06] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:31:06] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:06] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:31:06] [ENEMY] [Enemy10] Registered as sound listener
[09:31:06] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:31:06] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:06] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:06] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:06] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:06] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:06] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:06] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:06] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:06] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:06] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:06] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[09:31:06] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[09:31:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:06] [INFO] [LastChance] Found player: Player
[09:31:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:06] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:06] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:07] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:31:07] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:08] [ENEMY] [Enemy4] Hit: dmg=50, hp=2/2->-48/2
[09:31:08] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(1, 0), lethal=true
[09:31:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:31:08] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:31:08] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1.5)
[09:31:08] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[09:31:08] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:31:08] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:31:08] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:31:08] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:31:08] [INFO] [PowerFantasy]   - Duration: 300ms
[09:31:08] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[09:31:08] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 19)
[09:31:08] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:31:08] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[09:31:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1064.944), source=PLAYER (SniperRifle), range=3000, listeners=19
[09:31:08] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:31:08] [ENEMY] [Enemy3] Heard gunshot at (450, 1064.944), source_type=0, intensity=0.02, distance=402
[09:31:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[09:31:08] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=128.4°, current=11.3°, player=(450,1064), corner_timer=0.00
[09:31:08] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[09:31:08] [INFO] [PowerFantasy] Ending power fantasy effect
[09:31:08] [INFO] [BloodDecal] Blood puddle created at (844.6451, 919.22) (added to group)
[09:31:08] [INFO] [BloodDecal] Blood puddle created at (872.061, 884.7804) (added to group)
[09:31:08] [INFO] [BloodDecal] Blood puddle created at (881.546, 919.908) (added to group)
[09:31:08] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:08] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:31:08] [INFO] [BloodDecal] Blood puddle created at (854.9868, 901.6262) (added to group)
[09:31:08] [INFO] [BloodDecal] Blood puddle created at (899.8199, 927.432) (added to group)
[09:31:08] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1064), corner_timer=0.30
[09:31:08] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1064), corner_timer=0.30
[09:31:08] [INFO] [BloodDecal] Blood puddle created at (899.7017, 887.6204) (added to group)
[09:31:08] [INFO] [BloodDecal] Blood puddle created at (862.6121, 920.7342) (added to group)
[09:31:08] [INFO] [BloodDecal] Blood puddle created at (910.0024, 955.0551) (added to group)
[09:31:08] [ENEMY] [Enemy4] Ragdoll activated
[09:31:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:31:08] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:31:08] [INFO] [BloodDecal] Blood puddle created at (911.5919, 927.9767) (added to group)
[09:31:08] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:31:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:08] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:08] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:08] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:08] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:08] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:08] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:08] [ENEMY] [Enemy1] Death animation component initialized
[09:31:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:08] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:08] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:08] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:08] [ENEMY] [Enemy2] Death animation component initialized
[09:31:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:08] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:08] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:08] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:08] [ENEMY] [Enemy3] Death animation component initialized
[09:31:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:08] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:08] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:08] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:08] [ENEMY] [Enemy4] Death animation component initialized
[09:31:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:08] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:08] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:08] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:08] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:08] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:08] [ENEMY] [Grenadier] Death animation component initialized
[09:31:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:08] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:08] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:08] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:08] [ENEMY] [Enemy6] Death animation component initialized
[09:31:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:08] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:08] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:08] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:08] [ENEMY] [Enemy7] Death animation component initialized
[09:31:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:08] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:08] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:08] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:08] [ENEMY] [Enemy8] Death animation component initialized
[09:31:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:08] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:08] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:08] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:08] [ENEMY] [Enemy9] Death animation component initialized
[09:31:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:08] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:08] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:08] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:08] [ENEMY] [Enemy10] Death animation component initialized
[09:31:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:08] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:08] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:08] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:08] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[09:31:08] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:08] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[09:31:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:08] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:08] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:08] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:08] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:08] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:08] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[09:31:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:08] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:08] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:08] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:08] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:08] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:08] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:08] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:08] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:08] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:08] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:08] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:08] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:08] [INFO] [BuildingLevel] Setting up weapon: sniper
[09:31:08] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[09:31:08] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:08] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:08] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:08] [INFO] [ReplayManager] Replay data cleared
[09:31:08] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:08] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[09:31:08] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:08] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:08] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:08] [INFO] [ReplayManager] Enemies count: 10
[09:31:08] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[09:31:08] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:08] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:08] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:08] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:08] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:08] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:08] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:08] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:08] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:08] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:08] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:08] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:08] [INFO] [CinemaEffects] Found player node: Player
[09:31:08] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:31:08] [ENEMY] [Enemy1] Registered as sound listener
[09:31:08] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:31:08] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:31:08] [ENEMY] [Enemy2] Registered as sound listener
[09:31:08] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:31:08] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:31:08] [ENEMY] [Enemy3] Registered as sound listener
[09:31:08] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:31:08] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:31:08] [ENEMY] [Enemy4] Registered as sound listener
[09:31:08] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:31:08] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:08] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:31:08] [ENEMY] [Grenadier] Registered as sound listener
[09:31:08] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:08] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:31:08] [ENEMY] [Enemy6] Registered as sound listener
[09:31:08] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:31:08] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:31:08] [ENEMY] [Enemy7] Registered as sound listener
[09:31:08] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:31:08] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:31:08] [ENEMY] [Enemy8] Registered as sound listener
[09:31:08] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:31:08] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:31:08] [ENEMY] [Enemy9] Registered as sound listener
[09:31:08] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:31:08] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:31:08] [ENEMY] [Enemy10] Registered as sound listener
[09:31:08] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:31:08] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:09] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:09] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(449,1249), corner_timer=0.00
[09:31:09] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(449,1249), corner_timer=0.00
[09:31:09] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(449,1249), corner_timer=0.00
[09:31:09] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(449,1249), corner_timer=0.00
[09:31:09] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(449,1249), corner_timer=0.00
[09:31:09] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(449,1249), corner_timer=0.00
[09:31:09] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(449,1249), corner_timer=0.00
[09:31:09] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(449,1249), corner_timer=0.00
[09:31:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:09] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[09:31:09] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[09:31:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:09] [INFO] [LastChance] Found player: Player
[09:31:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:09] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:09] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:09] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:31:09] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:10] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:31:10] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(329,982), corner_timer=0.30
[09:31:10] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(329,982), corner_timer=0.30
[09:31:10] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:31:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(329,982), corner_timer=-0.02
[09:31:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(329,982), corner_timer=-0.02
[09:31:10] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:31:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(329,982), corner_timer=0.30
[09:31:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(329,982), corner_timer=0.30
[09:31:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(329.1817, 982.9904), source=PLAYER (SniperRifle), range=3000, listeners=19
[09:31:10] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:31:10] [ENEMY] [Enemy2] Heard gunshot at (329.1817, 982.9904), source_type=0, intensity=0.01, distance=439
[09:31:10] [ENEMY] [Enemy3] Heard gunshot at (329.1817, 982.9904), source_type=0, intensity=0.01, distance=438
[09:31:10] [ENEMY] [Enemy4] Heard gunshot at (329.1817, 982.9904), source_type=0, intensity=0.01, distance=478
[09:31:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[09:31:10] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=99.3°, current=-67.5°, player=(329,982), corner_timer=0.00
[09:31:10] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=147.9°, current=-168.8°, player=(329,982), corner_timer=0.00
[09:31:10] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=170.0°, current=168.8°, player=(329,982), corner_timer=0.00
[09:31:11] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:31:11] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:31:11] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:31:11] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=87.4°, current=33.8°, player=(329,982), corner_timer=0.00
[09:31:11] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:31:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(329,982), corner_timer=-0.02
[09:31:11] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:31:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(329,982), corner_timer=0.30
[09:31:11] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[09:31:11] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:31:11] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:31:11] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:31:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(329,982), corner_timer=-0.02
[09:31:11] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:31:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(329,982), corner_timer=0.30
[09:31:11] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[09:31:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:11] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:11] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:11] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:11] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:11] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:11] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:11] [ENEMY] [Enemy1] Death animation component initialized
[09:31:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:11] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:11] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:11] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:11] [ENEMY] [Enemy2] Death animation component initialized
[09:31:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:11] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:11] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:11] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:11] [ENEMY] [Enemy3] Death animation component initialized
[09:31:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:11] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:11] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:11] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:11] [ENEMY] [Enemy4] Death animation component initialized
[09:31:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:11] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:11] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:11] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:11] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:11] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:11] [ENEMY] [Grenadier] Death animation component initialized
[09:31:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:11] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:11] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:11] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:11] [ENEMY] [Enemy6] Death animation component initialized
[09:31:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:11] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:11] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:11] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:31:11] [ENEMY] [Enemy7] Death animation component initialized
[09:31:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:11] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:11] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:11] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:11] [ENEMY] [Enemy8] Death animation component initialized
[09:31:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:11] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:11] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:11] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:11] [ENEMY] [Enemy9] Death animation component initialized
[09:31:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:11] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:11] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:11] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:11] [ENEMY] [Enemy10] Death animation component initialized
[09:31:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:11] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:11] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:11] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:11] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[09:31:11] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:11] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[09:31:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:11] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:11] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:11] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:11] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:11] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[09:31:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:11] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:11] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:11] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:11] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:11] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:11] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:11] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:11] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:11] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:11] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:11] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:11] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:11] [INFO] [BuildingLevel] Setting up weapon: sniper
[09:31:11] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[09:31:11] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:11] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:11] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:11] [INFO] [ReplayManager] Replay data cleared
[09:31:11] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:11] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[09:31:11] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:11] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:11] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:11] [INFO] [ReplayManager] Enemies count: 10
[09:31:11] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[09:31:11] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:11] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:11] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:11] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:11] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:11] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:11] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:11] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:11] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:11] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:11] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:11] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:11] [INFO] [CinemaEffects] Found player node: Player
[09:31:11] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:31:11] [ENEMY] [Enemy1] Registered as sound listener
[09:31:11] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:31:11] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:31:11] [ENEMY] [Enemy2] Registered as sound listener
[09:31:11] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:31:11] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:31:11] [ENEMY] [Enemy3] Registered as sound listener
[09:31:11] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:31:11] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:31:11] [ENEMY] [Enemy4] Registered as sound listener
[09:31:11] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:31:11] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:11] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:31:11] [ENEMY] [Grenadier] Registered as sound listener
[09:31:11] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:11] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:31:11] [ENEMY] [Enemy6] Registered as sound listener
[09:31:11] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:31:11] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:31:11] [ENEMY] [Enemy7] Registered as sound listener
[09:31:11] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:31:11] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:31:11] [ENEMY] [Enemy8] Registered as sound listener
[09:31:11] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:31:11] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:31:11] [ENEMY] [Enemy9] Registered as sound listener
[09:31:11] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:31:11] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:31:11] [ENEMY] [Enemy10] Registered as sound listener
[09:31:11] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:31:11] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:12] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:12] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:12] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:12] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:12] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:12] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:12] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:12] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:12] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:12] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[09:31:12] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[09:31:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:12] [INFO] [LastChance] Found player: Player
[09:31:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:12] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:12] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:13] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:13] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:31:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:13] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:31:13] [ENEMY] [Enemy3] Hit: dmg=50, hp=4/4->-46/4
[09:31:13] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[09:31:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:31:13] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:31:13] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[09:31:13] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:31:13] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:31:13] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:31:13] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:31:13] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:31:13] [INFO] [PowerFantasy]   - Duration: 300ms
[09:31:13] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[09:31:13] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[09:31:13] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:31:13] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 19)
[09:31:13] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:31:13] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:31:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(342.2603, 904.3366), source=PLAYER (SniperRifle), range=3000, listeners=19
[09:31:13] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:31:13] [ENEMY] [Enemy4] Heard gunshot at (342.2603, 904.3366), source_type=0, intensity=0.01, distance=458
[09:31:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[09:31:13] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=99.3°, current=45.0°, player=(342,904), corner_timer=0.00
[09:31:13] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[09:31:13] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=179.5°, current=168.8°, player=(342,904), corner_timer=0.00
[09:31:13] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(342,904), corner_timer=0.30
[09:31:13] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(342,904), corner_timer=0.30
[09:31:13] [INFO] [PowerFantasy] Effect duration expired after 315.00 ms
[09:31:13] [INFO] [PowerFantasy] Ending power fantasy effect
[09:31:13] [INFO] [BloodDecal] Blood puddle created at (752.7322, 763.1391) (added to group)
[09:31:13] [INFO] [BloodDecal] Blood puddle created at (757.1104, 764.1992) (added to group)
[09:31:13] [INFO] [BloodDecal] Blood puddle created at (747.1623, 764.3508) (added to group)
[09:31:13] [INFO] [BloodDecal] Blood puddle created at (802.3867, 746.8259) (added to group)
[09:31:13] [INFO] [BloodDecal] Blood puddle created at (795.0335, 782.8138) (added to group)
[09:31:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.4°, player=(342,904), corner_timer=-0.00
[09:31:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.4°, player=(342,904), corner_timer=-0.00
[09:31:13] [ENEMY] [Enemy10] PATROL corner check: angle 15.0°
[09:31:13] [INFO] [BloodDecal] Blood puddle created at (774.9137, 783.0931) (added to group)
[09:31:13] [INFO] [BloodDecal] Blood puddle created at (788.0665, 802.2665) (added to group)
[09:31:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=53.6°, player=(342,904), corner_timer=0.30
[09:31:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=15.0°, current=55.7°, player=(342,904), corner_timer=0.30
[09:31:14] [INFO] [BloodDecal] Blood puddle created at (760.2162, 770.1431) (added to group)
[09:31:14] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:31:14] [INFO] [BloodDecal] Blood puddle created at (825.3677, 734.6542) (added to group)
[09:31:14] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[09:31:14] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:31:14] [ENEMY] [Enemy3] Ragdoll activated
[09:31:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:31:14] [INFO] [BloodDecal] Blood puddle created at (862.8975, 810.5544) (added to group)
[09:31:14] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:31:14] [INFO] [BloodDecal] Blood puddle created at (830.1153, 825.4545) (added to group)
[09:31:14] [INFO] [BloodDecal] Blood puddle created at (848.2668, 746.9649) (added to group)
[09:31:14] [INFO] [BloodDecal] Blood puddle created at (843.9645, 850.4766) (added to group)
[09:31:14] [INFO] [BloodDecal] Blood puddle created at (872.3517, 758.621) (added to group)
[09:31:14] [INFO] [BloodDecal] Blood puddle created at (840.2273, 816.1729) (added to group)
[09:31:14] [INFO] [BloodDecal] Blood puddle created at (850.066, 827.2501) (added to group)
[09:31:14] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=129.2°, current=128.1°, player=(342,904), corner_timer=0.17
[09:31:14] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[09:31:14] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[09:31:14] [INFO] [BloodDecal] Blood puddle created at (908.8717, 818.6636) (added to group)
[09:31:14] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=129.3°, current=-132.1°, player=(342,904), corner_timer=0.17
[09:31:14] [INFO] [BloodDecal] Blood puddle created at (865.1309, 805.1027) (added to group)
[09:31:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.7°, player=(342,904), corner_timer=-0.02
[09:31:14] [ENEMY] [Enemy10] PATROL corner check: angle 7.3°
[09:31:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.3°, current=17.3°, player=(342,904), corner_timer=0.30
[09:31:14] [INFO] [BloodDecal] Blood puddle created at (905.0717, 905.918) (added to group)
[09:31:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:14] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:14] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:14] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:14] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:14] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:14] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:14] [ENEMY] [Enemy1] Death animation component initialized
[09:31:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:14] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:14] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:14] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:14] [ENEMY] [Enemy2] Death animation component initialized
[09:31:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:14] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:14] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:14] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:14] [ENEMY] [Enemy3] Death animation component initialized
[09:31:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:14] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:14] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:14] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:14] [ENEMY] [Enemy4] Death animation component initialized
[09:31:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:14] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:14] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:14] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:14] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:14] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:14] [ENEMY] [Grenadier] Death animation component initialized
[09:31:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:14] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:14] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:14] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:14] [ENEMY] [Enemy6] Death animation component initialized
[09:31:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:14] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:14] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:14] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:14] [ENEMY] [Enemy7] Death animation component initialized
[09:31:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:14] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:14] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:14] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:14] [ENEMY] [Enemy8] Death animation component initialized
[09:31:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:14] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:14] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:14] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:14] [ENEMY] [Enemy9] Death animation component initialized
[09:31:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:14] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:14] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:14] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:14] [ENEMY] [Enemy10] Death animation component initialized
[09:31:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:14] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:14] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:14] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:14] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[09:31:14] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:14] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[09:31:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:14] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:14] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:14] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:14] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:14] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:14] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[09:31:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:14] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:14] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:14] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:14] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:14] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:14] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:14] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:14] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:14] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:14] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:14] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:14] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:14] [INFO] [BuildingLevel] Setting up weapon: sniper
[09:31:14] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[09:31:14] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:14] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:14] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:14] [INFO] [ReplayManager] Replay data cleared
[09:31:14] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:14] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[09:31:14] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:14] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:14] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:14] [INFO] [ReplayManager] Enemies count: 10
[09:31:14] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[09:31:14] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:14] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:14] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:14] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:14] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:14] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:14] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:14] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:14] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:14] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:14] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:14] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:14] [INFO] [CinemaEffects] Found player node: Player
[09:31:14] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:31:14] [ENEMY] [Enemy1] Registered as sound listener
[09:31:14] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:31:14] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:31:14] [ENEMY] [Enemy2] Registered as sound listener
[09:31:14] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:31:14] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:31:14] [ENEMY] [Enemy3] Registered as sound listener
[09:31:14] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:31:14] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:31:14] [ENEMY] [Enemy4] Registered as sound listener
[09:31:14] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:31:14] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:14] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:31:14] [ENEMY] [Grenadier] Registered as sound listener
[09:31:14] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:14] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:31:14] [ENEMY] [Enemy6] Registered as sound listener
[09:31:14] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:31:14] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:31:14] [ENEMY] [Enemy7] Registered as sound listener
[09:31:14] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:31:14] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:31:14] [ENEMY] [Enemy8] Registered as sound listener
[09:31:14] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:31:14] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:31:14] [ENEMY] [Enemy9] Registered as sound listener
[09:31:14] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:31:14] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:31:14] [ENEMY] [Enemy10] Registered as sound listener
[09:31:14] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:31:14] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:14] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:14] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:14] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:14] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:14] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:14] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:14] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:14] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:14] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:14] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[09:31:14] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[09:31:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:14] [INFO] [LastChance] Found player: Player
[09:31:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:14] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:14] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:15] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:15] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:31:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:16] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:31:16] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(319,911), corner_timer=0.30
[09:31:16] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(319,911), corner_timer=0.30
[09:31:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(319,911), corner_timer=-0.02
[09:31:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(319,911), corner_timer=-0.02
[09:31:16] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:31:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(319,911), corner_timer=0.30
[09:31:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(319,911), corner_timer=0.30
[09:31:16] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:31:16] [ENEMY] [Enemy3] Hit: dmg=50, hp=2/2->-48/2
[09:31:16] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[09:31:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:31:16] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:31:16] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[09:31:16] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:31:16] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:31:16] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:31:16] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:31:16] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:31:16] [INFO] [PowerFantasy]   - Duration: 300ms
[09:31:16] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[09:31:16] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[09:31:16] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:31:16] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 18)
[09:31:16] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:31:16] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:31:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(319.4754, 911.1736), source=PLAYER (SniperRifle), range=3000, listeners=18
[09:31:16] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:31:16] [ENEMY] [Enemy4] Heard gunshot at (319.4754, 911.1736), source_type=0, intensity=0.01, distance=481
[09:31:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[09:31:16] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:31:16] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=102.6°, current=45.0°, player=(319,911), corner_timer=0.00
[09:31:16] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[09:31:16] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=178.7°, current=168.8°, player=(319,911), corner_timer=0.00
[09:31:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(319,911), corner_timer=-0.01
[09:31:16] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[09:31:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(319,911), corner_timer=0.30
[09:31:17] [INFO] [PowerFantasy] Effect duration expired after 315.00 ms
[09:31:17] [INFO] [PowerFantasy] Ending power fantasy effect
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (763.9603, 761.2646) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (767.215, 780.2892) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (750.2498, 753.1058) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (789.902, 740.7472) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (751.0396, 756.7758) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (815.2908, 735.3696) (added to group)
[09:31:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(319,911), corner_timer=-0.02
[09:31:17] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[09:31:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.7°, player=(319,911), corner_timer=0.30
[09:31:17] [ENEMY] [Enemy1] Memory: medium confidence (0.50) - transitioning to PURSUING
[09:31:17] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:31:17] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=88.0°, current=168.8°, player=(319,911), corner_timer=0.00
[09:31:17] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:31:17] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.6°
[09:31:17] [ENEMY] [Enemy3] Ragdoll activated
[09:31:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (842.193, 862.9498) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (849.7543, 851.5623) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (817.8931, 809.4208) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (831.5716, 771.0353) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (808.9037, 830.0083) (added to group)
[09:31:17] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (804.7684, 831.6948) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (860.605, 834.5599) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (856.7164, 794.2191) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (849.0572, 896.1292) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (840.7467, 768.7096) (added to group)
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (827.4442, 815.6865) (added to group)
[09:31:17] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=131.7°, current=130.6°, player=(319,911), corner_timer=0.17
[09:31:17] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[09:31:17] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (810.2156, 818.9107) (added to group)
[09:31:17] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=131.7°, current=-127.2°, player=(319,911), corner_timer=0.17
[09:31:17] [INFO] [BloodDecal] Blood puddle created at (894.2726, 770.7358) (added to group)
[09:31:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:17] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:17] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:17] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:17] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:17] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:17] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:17] [ENEMY] [Enemy1] Death animation component initialized
[09:31:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:17] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:17] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:17] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:17] [ENEMY] [Enemy2] Death animation component initialized
[09:31:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:17] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:17] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:17] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:17] [ENEMY] [Enemy3] Death animation component initialized
[09:31:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:17] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:17] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:17] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:17] [ENEMY] [Enemy4] Death animation component initialized
[09:31:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:17] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:17] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:17] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:17] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:17] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:17] [ENEMY] [Grenadier] Death animation component initialized
[09:31:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:17] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:17] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:17] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:17] [ENEMY] [Enemy6] Death animation component initialized
[09:31:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:17] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:17] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:17] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:17] [ENEMY] [Enemy7] Death animation component initialized
[09:31:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:17] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:17] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:17] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:17] [ENEMY] [Enemy8] Death animation component initialized
[09:31:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:17] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:17] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:17] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:17] [ENEMY] [Enemy9] Death animation component initialized
[09:31:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:17] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:17] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:17] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:17] [ENEMY] [Enemy10] Death animation component initialized
[09:31:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:17] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:17] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:17] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:17] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[09:31:17] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:17] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[09:31:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:17] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:17] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:17] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:17] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:17] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:17] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[09:31:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:17] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:17] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:17] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:17] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:17] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:17] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:17] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:17] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:17] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:17] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:17] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:17] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:17] [INFO] [BuildingLevel] Setting up weapon: sniper
[09:31:17] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[09:31:17] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:17] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:17] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:17] [INFO] [ReplayManager] Replay data cleared
[09:31:17] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:17] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[09:31:17] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:17] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:17] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:17] [INFO] [ReplayManager] Enemies count: 10
[09:31:17] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[09:31:17] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:17] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:17] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:17] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:17] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:17] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:17] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:17] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:17] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:17] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:17] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:17] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:17] [INFO] [CinemaEffects] Found player node: Player
[09:31:17] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:31:17] [ENEMY] [Enemy1] Registered as sound listener
[09:31:17] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:31:17] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:31:17] [ENEMY] [Enemy2] Registered as sound listener
[09:31:17] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:31:17] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:31:17] [ENEMY] [Enemy3] Registered as sound listener
[09:31:17] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:31:17] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:31:17] [ENEMY] [Enemy4] Registered as sound listener
[09:31:17] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:31:17] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:17] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:31:17] [ENEMY] [Grenadier] Registered as sound listener
[09:31:17] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:17] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:31:17] [ENEMY] [Enemy6] Registered as sound listener
[09:31:17] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:31:17] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:31:17] [ENEMY] [Enemy7] Registered as sound listener
[09:31:17] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[09:31:17] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:31:17] [ENEMY] [Enemy8] Registered as sound listener
[09:31:17] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:31:17] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:31:17] [ENEMY] [Enemy9] Registered as sound listener
[09:31:17] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:31:17] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:31:17] [ENEMY] [Enemy10] Registered as sound listener
[09:31:17] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:31:17] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:17] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:17] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:17] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:17] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:17] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:17] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:17] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:17] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:17] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:17] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[09:31:17] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[09:31:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:17] [INFO] [LastChance] Found player: Player
[09:31:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:17] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:17] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:18] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:31:18] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:19] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:19] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:31:19] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(280,931), corner_timer=0.30
[09:31:19] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(280,931), corner_timer=0.30
[09:31:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(280,931), corner_timer=-0.02
[09:31:19] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(280,931), corner_timer=-0.02
[09:31:19] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:31:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(280,931), corner_timer=0.30
[09:31:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(280,931), corner_timer=0.30
[09:31:19] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:31:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(280.5113, 931.6494), source=PLAYER (SniperRifle), range=3000, listeners=19
[09:31:19] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[09:31:19] [ENEMY] [Enemy2] Heard gunshot at (280.5113, 931.6494), source_type=0, intensity=0.02, distance=400
[09:31:19] [ENEMY] [Enemy3] Heard gunshot at (280.5113, 931.6494), source_type=0, intensity=0.01, distance=457
[09:31:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[09:31:19] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:31:19] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=107.4°, current=-101.3°, player=(280,931), corner_timer=0.00
[09:31:19] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=156.6°, current=-78.7°, player=(280,931), corner_timer=0.00
[09:31:19] [ENEMY] [Enemy4] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:31:19] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:31:19] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:31:19] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:31:19] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=176.5°, current=-67.5°, player=(280,931), corner_timer=0.00
[09:31:19] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=91.9°, current=168.8°, player=(280,931), corner_timer=0.00
[09:31:19] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:31:19] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:31:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(280,931), corner_timer=-0.02
[09:31:19] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:31:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(280,931), corner_timer=0.30
[09:31:20] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[09:31:20] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:31:20] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[09:31:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(280,931), corner_timer=-0.02
[09:31:20] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:31:20] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[09:31:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(280,931), corner_timer=0.30
[09:31:20] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[09:31:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:20] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:20] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:20] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:20] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:20] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:20] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:20] [ENEMY] [Enemy1] Death animation component initialized
[09:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:20] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:20] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:20] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:20] [ENEMY] [Enemy2] Death animation component initialized
[09:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:20] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:20] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:20] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:20] [ENEMY] [Enemy3] Death animation component initialized
[09:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:20] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:20] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:20] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:20] [ENEMY] [Enemy4] Death animation component initialized
[09:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:20] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:20] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:20] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:20] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:20] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:20] [ENEMY] [Grenadier] Death animation component initialized
[09:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:20] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:20] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:20] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:20] [ENEMY] [Enemy6] Death animation component initialized
[09:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:20] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:20] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:20] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:20] [ENEMY] [Enemy7] Death animation component initialized
[09:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:20] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:20] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:20] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:20] [ENEMY] [Enemy8] Death animation component initialized
[09:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:20] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:20] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:20] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:20] [ENEMY] [Enemy9] Death animation component initialized
[09:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:20] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:20] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:20] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:20] [ENEMY] [Enemy10] Death animation component initialized
[09:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:20] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:20] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:20] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:20] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[09:31:20] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:20] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[09:31:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:20] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:20] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:20] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:20] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:20] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:20] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[09:31:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:20] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:20] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:20] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:20] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:20] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:20] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:20] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:20] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:20] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:20] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:20] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:20] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:20] [INFO] [BuildingLevel] Setting up weapon: sniper
[09:31:20] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[09:31:20] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:20] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:20] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:20] [INFO] [ReplayManager] Replay data cleared
[09:31:20] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:20] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[09:31:20] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:20] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:20] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:20] [INFO] [ReplayManager] Enemies count: 10
[09:31:20] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[09:31:20] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:20] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:20] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:20] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:20] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:20] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:20] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:20] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:20] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:20] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:20] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:20] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:20] [INFO] [CinemaEffects] Found player node: Player
[09:31:20] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:31:20] [ENEMY] [Enemy1] Registered as sound listener
[09:31:20] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:31:20] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:31:20] [ENEMY] [Enemy2] Registered as sound listener
[09:31:20] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:31:20] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:31:20] [ENEMY] [Enemy3] Registered as sound listener
[09:31:20] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:31:20] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:31:20] [ENEMY] [Enemy4] Registered as sound listener
[09:31:20] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:31:20] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:20] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:31:20] [ENEMY] [Grenadier] Registered as sound listener
[09:31:20] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:20] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:31:20] [ENEMY] [Enemy6] Registered as sound listener
[09:31:20] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:31:20] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:31:20] [ENEMY] [Enemy7] Registered as sound listener
[09:31:20] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:31:20] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:31:20] [ENEMY] [Enemy8] Registered as sound listener
[09:31:20] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[09:31:20] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:31:20] [ENEMY] [Enemy9] Registered as sound listener
[09:31:20] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:31:20] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:31:20] [ENEMY] [Enemy10] Registered as sound listener
[09:31:20] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:31:20] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:20] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:20] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:20] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:20] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:20] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:20] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:20] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:20] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:20] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:20] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[09:31:20] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[09:31:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:20] [INFO] [LastChance] Found player: Player
[09:31:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:20] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:20] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:21] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:31:21] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:22] [ENEMY] [Enemy3] Hit: dmg=50, hp=4/4->-46/4
[09:31:22] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[09:31:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:31:22] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:31:22] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[09:31:22] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:31:22] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:31:22] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:31:22] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:31:22] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:31:22] [INFO] [PowerFantasy]   - Duration: 300ms
[09:31:22] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[09:31:22] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 19)
[09:31:22] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:31:22] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:31:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(427.1712, 878.8313), source=PLAYER (SniperRifle), range=3000, listeners=19
[09:31:22] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:31:22] [ENEMY] [Enemy2] Heard gunshot at (427.1712, 878.8313), source_type=0, intensity=0.02, distance=330
[09:31:22] [ENEMY] [Enemy4] Heard gunshot at (427.1712, 878.8313), source_type=0, intensity=0.02, distance=373
[09:31:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[09:31:22] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=85.3°, current=-157.5°, player=(427,878), corner_timer=0.00
[09:31:22] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-176.8°, current=168.8°, player=(427,878), corner_timer=0.00
[09:31:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:22] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:31:22] [ENEMY] [Enemy1] Memory: medium confidence (0.63) - transitioning to PURSUING
[09:31:22] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:31:22] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(427,878), corner_timer=0.30
[09:31:22] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(427,878), corner_timer=0.30
[09:31:22] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=76.5°, current=-157.5°, player=(427,878), corner_timer=0.00
[09:31:22] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:31:22] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (746.4539, 774.2382) (added to group)
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (774.9141, 741.5062) (added to group)
[09:31:22] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[09:31:22] [INFO] [PowerFantasy] Ending power fantasy effect
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (772.6082, 743.3484) (added to group)
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (744.3953, 778.1143) (added to group)
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (777.6823, 763.7273) (added to group)
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (799.8805, 731.7121) (added to group)
[09:31:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.0°, player=(427,878), corner_timer=-0.01
[09:31:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.7°, player=(427,878), corner_timer=-0.01
[09:31:22] [ENEMY] [Enemy10] PATROL corner check: angle 14.9°
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (787.2552, 808.8419) (added to group)
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (783.3611, 774.0963) (added to group)
[09:31:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(427,878), corner_timer=0.30
[09:31:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.9°, current=55.0°, player=(427,878), corner_timer=0.30
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (828.2075, 816.454) (added to group)
[09:31:22] [ENEMY] [Enemy1] PURSUING corner check: angle -51.5°
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (771.7231, 756.4667) (added to group)
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (840.34, 783.4178) (added to group)
[09:31:22] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (791.5508, 768.8405) (added to group)
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (801.3021, 742.7241) (added to group)
[09:31:22] [ENEMY] [Enemy3] Ragdoll activated
[09:31:22] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (839.7922, 752.0283) (added to group)
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (818.772, 843.4183) (added to group)
[09:31:22] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:31:22] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (813.5891, 823.4686) (added to group)
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (788.4874, 829.4926) (added to group)
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (888.1556, 808.8173) (added to group)
[09:31:22] [INFO] [BloodDecal] Blood puddle created at (819.5845, 851.1974) (added to group)
[09:31:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:22] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:22] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:22] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:22] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:22] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:22] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:22] [ENEMY] [Enemy1] Death animation component initialized
[09:31:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:22] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:22] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:22] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:22] [ENEMY] [Enemy2] Death animation component initialized
[09:31:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:22] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:22] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:22] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:22] [ENEMY] [Enemy3] Death animation component initialized
[09:31:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:22] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:22] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:22] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:22] [ENEMY] [Enemy4] Death animation component initialized
[09:31:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:22] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:22] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:22] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:22] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:22] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:22] [ENEMY] [Grenadier] Death animation component initialized
[09:31:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:22] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:22] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:22] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:22] [ENEMY] [Enemy6] Death animation component initialized
[09:31:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:22] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:22] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:22] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:22] [ENEMY] [Enemy7] Death animation component initialized
[09:31:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:22] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:22] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:22] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:22] [ENEMY] [Enemy8] Death animation component initialized
[09:31:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:22] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:22] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:22] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:22] [ENEMY] [Enemy9] Death animation component initialized
[09:31:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:22] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:22] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:22] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:22] [ENEMY] [Enemy10] Death animation component initialized
[09:31:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:22] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:22] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:22] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:22] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[09:31:22] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:22] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[09:31:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:22] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:22] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:22] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:22] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:22] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:22] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[09:31:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:22] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:22] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:22] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:22] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:22] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:22] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:22] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:22] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:22] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:22] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:22] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:22] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:22] [INFO] [BuildingLevel] Setting up weapon: sniper
[09:31:22] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[09:31:22] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:22] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:22] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:22] [INFO] [ReplayManager] Replay data cleared
[09:31:22] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:22] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[09:31:22] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:22] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:22] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:22] [INFO] [ReplayManager] Enemies count: 10
[09:31:22] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[09:31:22] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:22] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:22] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:22] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:22] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:22] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:22] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:22] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:22] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:22] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:22] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:22] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:22] [INFO] [CinemaEffects] Found player node: Player
[09:31:22] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:31:22] [ENEMY] [Enemy1] Registered as sound listener
[09:31:22] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:31:22] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:31:22] [ENEMY] [Enemy2] Registered as sound listener
[09:31:22] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[09:31:22] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:31:22] [ENEMY] [Enemy3] Registered as sound listener
[09:31:22] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:31:22] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:31:22] [ENEMY] [Enemy4] Registered as sound listener
[09:31:22] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:31:22] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:22] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:31:22] [ENEMY] [Grenadier] Registered as sound listener
[09:31:22] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:22] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:31:22] [ENEMY] [Enemy6] Registered as sound listener
[09:31:22] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:31:22] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:31:22] [ENEMY] [Enemy7] Registered as sound listener
[09:31:22] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[09:31:22] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:31:22] [ENEMY] [Enemy8] Registered as sound listener
[09:31:22] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:31:22] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:31:22] [ENEMY] [Enemy9] Registered as sound listener
[09:31:22] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[09:31:22] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:31:22] [ENEMY] [Enemy10] Registered as sound listener
[09:31:22] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:31:22] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:23] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:23] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:23] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:23] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:23] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:23] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:23] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:23] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:23] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:23] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[09:31:23] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[09:31:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:23] [INFO] [LastChance] Found player: Player
[09:31:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:23] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:23] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:23] [INFO] [BloodDecal] Blood puddle created at (858.623, 795.2936) (added to group)
[09:31:24] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:24] [INFO] [PauseMenu] Armory button pressed
[09:31:24] [INFO] [PauseMenu] Creating new armory menu instance
[09:31:24] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[09:31:24] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[09:31:24] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[09:31:24] [INFO] [PauseMenu] back_pressed signal exists on instance
[09:31:24] [INFO] [PauseMenu] back_pressed signal connected
[09:31:24] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[09:31:24] [INFO] [PauseMenu] _populate_weapon_grid method exists
[09:31:25] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:31:26] [INFO] [GameManager] Weapon selected: revolver
[09:31:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:26] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:26] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:26] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:26] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:26] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:26] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:26] [ENEMY] [Enemy1] Death animation component initialized
[09:31:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:26] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:26] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:26] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:26] [ENEMY] [Enemy2] Death animation component initialized
[09:31:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:26] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:26] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:26] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:26] [ENEMY] [Enemy3] Death animation component initialized
[09:31:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:26] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:26] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:26] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:26] [ENEMY] [Enemy4] Death animation component initialized
[09:31:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:26] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:26] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:26] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:26] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:26] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:26] [ENEMY] [Grenadier] Death animation component initialized
[09:31:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:26] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:26] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:26] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:26] [ENEMY] [Enemy6] Death animation component initialized
[09:31:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:26] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:26] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:26] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:26] [ENEMY] [Enemy7] Death animation component initialized
[09:31:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:26] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:26] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:26] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:31:26] [ENEMY] [Enemy8] Death animation component initialized
[09:31:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:26] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:26] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:26] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[09:31:26] [ENEMY] [Enemy9] Death animation component initialized
[09:31:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:26] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:26] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:26] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:26] [ENEMY] [Enemy10] Death animation component initialized
[09:31:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:26] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:26] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:26] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:26] [INFO] [Player.Weapon] GameManager weapon selection: revolver (Revolver)
[09:31:26] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:26] [INFO] [Player.Weapon] Equipped Revolver (ammo: 5/5)
[09:31:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:26] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:26] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:26] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:26] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:26] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:26] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[09:31:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:26] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:26] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:26] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:26] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:26] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:26] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:26] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:26] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:26] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:26] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:26] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:26] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:26] [INFO] [BuildingLevel] Setting up weapon: revolver
[09:31:26] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:26] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:26] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:26] [INFO] [ReplayManager] Replay data cleared
[09:31:26] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:26] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:31:26] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:26] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:26] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:26] [INFO] [ReplayManager] Enemies count: 10
[09:31:26] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:31:26] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:26] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:26] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:26] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:26] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:26] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:26] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:26] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:26] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:26] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:26] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:26] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:26] [INFO] [CinemaEffects] Found player node: Player
[09:31:26] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[09:31:26] [ENEMY] [Enemy1] Registered as sound listener
[09:31:26] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:31:26] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[09:31:26] [ENEMY] [Enemy2] Registered as sound listener
[09:31:26] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[09:31:26] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[09:31:26] [ENEMY] [Enemy3] Registered as sound listener
[09:31:26] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:31:26] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[09:31:26] [ENEMY] [Enemy4] Registered as sound listener
[09:31:26] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[09:31:26] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:26] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 24)
[09:31:26] [ENEMY] [Grenadier] Registered as sound listener
[09:31:26] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:26] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[09:31:26] [ENEMY] [Enemy6] Registered as sound listener
[09:31:26] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:31:26] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[09:31:26] [ENEMY] [Enemy7] Registered as sound listener
[09:31:26] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:31:26] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[09:31:26] [ENEMY] [Enemy8] Registered as sound listener
[09:31:26] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:31:26] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[09:31:26] [ENEMY] [Enemy9] Registered as sound listener
[09:31:26] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:31:26] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[09:31:26] [ENEMY] [Enemy10] Registered as sound listener
[09:31:26] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[09:31:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:26] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:26] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:26] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:26] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:26] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:26] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:26] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:26] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:26] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:26] [INFO] [Player] Detected weapon: RSh-12 Revolver (Pistol pose)
[09:31:26] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[09:31:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:26] [INFO] [LastChance] Found player: Player
[09:31:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:26] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:26] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:27] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:27] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:31:27] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:27] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:31:27] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(363,937), corner_timer=0.30
[09:31:27] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(363,937), corner_timer=0.30
[09:31:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(296,871), corner_timer=-0.02
[09:31:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(296,871), corner_timer=-0.02
[09:31:28] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:31:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(294,868), corner_timer=0.30
[09:31:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(294,868), corner_timer=0.30
[09:31:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(285.461, 859.5984), source=PLAYER (Revolver), range=2500, listeners=29
[09:31:28] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[09:31:28] [ENEMY] [Enemy2] Heard gunshot at (285.461, 859.5984), source_type=0, intensity=0.02, distance=330
[09:31:28] [ENEMY] [Enemy3] Heard gunshot at (285.461, 859.5984), source_type=0, intensity=0.01, distance=429
[09:31:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[09:31:28] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:31:28] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=110.3°, current=45.0°, player=(285,859), corner_timer=0.00
[09:31:28] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=165.2°, current=-78.7°, player=(285,859), corner_timer=0.00
[09:31:28] [ENEMY] [Enemy4] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:31:28] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:31:28] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:31:28] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:31:28] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-175.4°, current=-67.5°, player=(284,858), corner_timer=0.00
[09:31:28] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=91.8°, current=-33.8°, player=(284,858), corner_timer=0.00
[09:31:28] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:31:28] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:31:28] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:31:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(284,858), corner_timer=-0.02
[09:31:28] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:31:28] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=165.4°, current=118.1°, player=(284,858), corner_timer=0.00
[09:31:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(284,858), corner_timer=0.30
[09:31:28] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:31:28] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=121.3°, current=143.9°, player=(284,858), corner_timer=0.00
[09:31:28] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[09:31:28] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:31:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(285.461, 859.5984), shooter_id=1645324798572, bullet_pos=(1363.476, 242.123)
[09:31:28] [INFO] [Bullet] Using shooter_position, distance=1242.33374023438
[09:31:28] [INFO] [Bullet] Distance to wall: 1242.33374023438 (84.5927888228692% of viewport)
[09:31:28] [INFO] [Bullet] Distance-based penetration chance: 47.9750797066526%
[09:31:28] [INFO] [Bullet] Penetration failed (distance roll)
[09:31:28] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:31:28] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:31:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(284,858), corner_timer=-0.02
[09:31:28] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[09:31:28] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[09:31:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(284,858), corner_timer=0.30
[09:31:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(284.4004, 858.5377), source=PLAYER (Revolver), range=2500, listeners=10
[09:31:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[09:31:29] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[09:31:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(284,858), corner_timer=-0.02
[09:31:29] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[09:31:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(284,858), corner_timer=0.30
[09:31:29] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:31:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:29] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:29] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:29] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:29] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:29] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:29] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:29] [ENEMY] [Enemy1] Death animation component initialized
[09:31:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:29] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:29] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:29] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:29] [ENEMY] [Enemy2] Death animation component initialized
[09:31:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:29] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:29] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:29] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:29] [ENEMY] [Enemy3] Death animation component initialized
[09:31:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:29] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:29] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:29] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:29] [ENEMY] [Enemy4] Death animation component initialized
[09:31:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:29] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:29] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:29] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:29] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:29] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:29] [ENEMY] [Grenadier] Death animation component initialized
[09:31:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:29] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:29] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:29] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:29] [ENEMY] [Enemy6] Death animation component initialized
[09:31:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:29] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:29] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:29] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:29] [ENEMY] [Enemy7] Death animation component initialized
[09:31:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:29] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:29] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:29] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:29] [ENEMY] [Enemy8] Death animation component initialized
[09:31:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:29] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:29] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:29] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:29] [ENEMY] [Enemy9] Death animation component initialized
[09:31:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:29] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:29] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:29] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:29] [ENEMY] [Enemy10] Death animation component initialized
[09:31:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:29] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:29] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:29] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:29] [INFO] [Player.Weapon] GameManager weapon selection: revolver (Revolver)
[09:31:29] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:29] [INFO] [Player.Weapon] Equipped Revolver (ammo: 5/5)
[09:31:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:29] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:29] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:29] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:29] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:29] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:29] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[09:31:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:29] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:29] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:29] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:29] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:29] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:29] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:29] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:29] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:29] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:29] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:29] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:29] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:29] [INFO] [BuildingLevel] Setting up weapon: revolver
[09:31:29] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:29] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:29] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:29] [INFO] [ReplayManager] Replay data cleared
[09:31:29] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:29] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:31:29] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:29] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:29] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:29] [INFO] [ReplayManager] Enemies count: 10
[09:31:29] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:31:29] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:29] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:29] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:29] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:29] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:29] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:29] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:29] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:29] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:29] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:29] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:29] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:29] [INFO] [CinemaEffects] Found player node: Player
[09:31:29] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:31:29] [ENEMY] [Enemy1] Registered as sound listener
[09:31:29] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[09:31:29] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:31:29] [ENEMY] [Enemy2] Registered as sound listener
[09:31:29] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:31:29] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:31:29] [ENEMY] [Enemy3] Registered as sound listener
[09:31:29] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[09:31:29] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:31:29] [ENEMY] [Enemy4] Registered as sound listener
[09:31:29] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[09:31:29] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:29] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:31:29] [ENEMY] [Grenadier] Registered as sound listener
[09:31:29] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:29] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:31:29] [ENEMY] [Enemy6] Registered as sound listener
[09:31:29] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[09:31:29] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:31:29] [ENEMY] [Enemy7] Registered as sound listener
[09:31:29] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[09:31:29] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:31:29] [ENEMY] [Enemy8] Registered as sound listener
[09:31:29] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:31:29] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:31:29] [ENEMY] [Enemy9] Registered as sound listener
[09:31:29] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:31:29] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:31:29] [ENEMY] [Enemy10] Registered as sound listener
[09:31:29] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[09:31:29] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:29] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:29] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:29] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:29] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:29] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:29] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:29] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:29] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:29] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:29] [INFO] [Player] Detected weapon: RSh-12 Revolver (Pistol pose)
[09:31:29] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[09:31:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:29] [INFO] [LastChance] Found player: Player
[09:31:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:29] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:29] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:30] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:30] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:31:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:31] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:31:31] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(291,858), corner_timer=0.30
[09:31:31] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(291,858), corner_timer=0.30
[09:31:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(275.7363, 847.21), source=PLAYER (Revolver), range=2500, listeners=20
[09:31:31] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:31:31] [ENEMY] [Enemy1] Heard gunshot at (275.7363, 847.21), source_type=0, intensity=0.01, distance=498
[09:31:31] [ENEMY] [Enemy2] Heard gunshot at (275.7363, 847.21), source_type=0, intensity=0.02, distance=322
[09:31:31] [ENEMY] [Enemy3] Heard gunshot at (275.7363, 847.21), source_type=0, intensity=0.01, distance=435
[09:31:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[09:31:31] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=92.8°, current=-157.5°, player=(275,847), corner_timer=0.00
[09:31:31] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=112.7°, current=-157.5°, player=(275,847), corner_timer=0.00
[09:31:31] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=167.1°, current=-78.7°, player=(275,847), corner_timer=0.00
[09:31:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(274,846), corner_timer=-0.02
[09:31:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(274,846), corner_timer=-0.02
[09:31:31] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:31:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(274,846), corner_timer=0.30
[09:31:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(274,846), corner_timer=0.30
[09:31:31] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=167.2°, current=120.0°, player=(274,846), corner_timer=0.00
[09:31:31] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[09:31:31] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[09:31:31] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[09:31:31] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:31:31] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:31:31] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-174.2°, current=-101.3°, player=(274,846), corner_timer=0.00
[09:31:31] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=44.7°, current=153.1°, player=(274,846), corner_timer=0.00
[09:31:31] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:31:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(275.7363, 847.21), shooter_id=1731878455329, bullet_pos=(1386.992, 392.5542)
[09:31:31] [INFO] [Bullet] Using shooter_position, distance=1200.66687011719
[09:31:31] [INFO] [Bullet] Distance to wall: 1200.66687011719 (81.7556150179718% of viewport)
[09:31:31] [INFO] [Bullet] Distance-based penetration chance: 51.2851158123662%
[09:31:31] [INFO] [Bullet] Starting wall penetration at (1386.992, 392.5542)
[09:31:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45.5775413513184
[09:31:31] [INFO] [Bullet] Body exited signal received for penetrating body
[09:31:31] [INFO] [Bullet] Exiting penetration at (1430.183, 374.883) after traveling 41.6666603088379 pixels through wall
[09:31:31] [INFO] [Bullet] Damage multiplier after penetration: 0.7
[09:31:31] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[09:31:31] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[09:31:31] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:31:31] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[09:31:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(274,846), corner_timer=-0.02
[09:31:31] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:31:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(274,846), corner_timer=0.30
[09:31:32] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[09:31:32] [INFO] [PauseMenu] Armory button pressed
[09:31:32] [INFO] [PauseMenu] Creating new armory menu instance
[09:31:32] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[09:31:32] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[09:31:32] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[09:31:32] [INFO] [PauseMenu] back_pressed signal exists on instance
[09:31:32] [INFO] [PauseMenu] back_pressed signal connected
[09:31:32] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[09:31:32] [INFO] [PauseMenu] _populate_weapon_grid method exists
[09:31:33] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[09:31:33] [INFO] [GameManager] Weapon selected: ak_gl
[09:31:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:34] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:34] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:34] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:34] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:34] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:34] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:34] [ENEMY] [Enemy1] Death animation component initialized
[09:31:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:34] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:34] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:34] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:34] [ENEMY] [Enemy2] Death animation component initialized
[09:31:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:34] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:34] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:34] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:34] [ENEMY] [Enemy3] Death animation component initialized
[09:31:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:34] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:34] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:34] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:34] [ENEMY] [Enemy4] Death animation component initialized
[09:31:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:34] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:34] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:34] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:34] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:34] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:34] [ENEMY] [Grenadier] Death animation component initialized
[09:31:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:34] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:34] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:34] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:34] [ENEMY] [Enemy6] Death animation component initialized
[09:31:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:34] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:34] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:34] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:34] [ENEMY] [Enemy7] Death animation component initialized
[09:31:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:34] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:34] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:34] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:34] [ENEMY] [Enemy8] Death animation component initialized
[09:31:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:34] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:34] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:34] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:34] [ENEMY] [Enemy9] Death animation component initialized
[09:31:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:34] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:34] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:34] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:34] [ENEMY] [Enemy10] Death animation component initialized
[09:31:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:34] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:34] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:34] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:34] [INFO] [Player.Weapon] GameManager weapon selection: ak_gl (AKGL)
[09:31:34] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:34] [INFO] [Player.Weapon] Equipped AKGL (ammo: 30/30)
[09:31:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:34] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:34] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:34] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:34] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:34] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:31:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:34] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:34] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:34] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:34] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:34] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:34] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:34] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:34] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:34] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:34] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:34] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:34] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:34] [INFO] [BuildingLevel] Setting up weapon: ak_gl
[09:31:34] [INFO] [BuildingLevel] AKGL already equipped by C# Player - skipping GDScript weapon swap
[09:31:34] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:34] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:34] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:34] [INFO] [ReplayManager] Replay data cleared
[09:31:34] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:34] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:31:34] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:34] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:34] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:34] [INFO] [ReplayManager] Enemies count: 10
[09:31:34] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:31:34] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:34] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:34] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:34] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:34] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:34] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:34] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:34] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:34] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:34] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:34] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:34] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:34] [INFO] [CinemaEffects] Found player node: Player
[09:31:34] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[09:31:34] [ENEMY] [Enemy1] Registered as sound listener
[09:31:34] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[09:31:34] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[09:31:34] [ENEMY] [Enemy2] Registered as sound listener
[09:31:34] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:31:34] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[09:31:34] [ENEMY] [Enemy3] Registered as sound listener
[09:31:34] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[09:31:34] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[09:31:34] [ENEMY] [Enemy4] Registered as sound listener
[09:31:34] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:31:34] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:34] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[09:31:34] [ENEMY] [Grenadier] Registered as sound listener
[09:31:34] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:34] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[09:31:34] [ENEMY] [Enemy6] Registered as sound listener
[09:31:34] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[09:31:34] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[09:31:34] [ENEMY] [Enemy7] Registered as sound listener
[09:31:34] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[09:31:34] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[09:31:34] [ENEMY] [Enemy8] Registered as sound listener
[09:31:34] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[09:31:34] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[09:31:34] [ENEMY] [Enemy9] Registered as sound listener
[09:31:34] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[09:31:34] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[09:31:34] [ENEMY] [Enemy10] Registered as sound listener
[09:31:34] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:31:34] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:34] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:34] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:34] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:34] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:34] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:34] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:34] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:34] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:34] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[09:31:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:34] [INFO] [Player] Detected weapon: AK + GL (Rifle pose)
[09:31:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:31:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:34] [INFO] [LastChance] Found player: Player
[09:31:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:34] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:34] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:34] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[09:31:35] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(283.6932, 896.3308), source=PLAYER (AKGL), range=1600, listeners=20
[09:31:35] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[09:31:35] [ENEMY] [Enemy2] Heard gunshot at (283.6932, 896.3308), source_type=0, intensity=0.02, distance=365
[09:31:35] [ENEMY] [Enemy3] Heard gunshot at (283.6932, 896.3308), source_type=0, intensity=0.01, distance=441
[09:31:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[09:31:35] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=108.6°, current=-67.5°, player=(283,896), corner_timer=0.00
[09:31:35] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=160.6°, current=-78.7°, player=(283,896), corner_timer=0.00
[09:31:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(283.69318, 896.3308), shooter_id=1793098517835, bullet_pos=(505.39655, 810.73663)
[09:31:35] [INFO] [Bullet] Using shooter_position, distance=237,65257
[09:31:35] [INFO] [Bullet] Distance to wall: 237,65257 (16,182201% of viewport)
[09:31:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[09:31:35] [INFO] [Bullet] Starting wall penetration at (505.39655, 810.73663)
[09:31:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,198547
[09:31:35] [INFO] [Bullet] Body exited signal received for penetrating body
[09:31:35] [INFO] [Bullet] Exiting penetration at (554.76953, 795.51306) after traveling 46,66667 pixels through wall
[09:31:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[09:31:35] [ENEMY] [Enemy4] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:31:35] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[09:31:35] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:35] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:31:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(271.5938, 884.2314), source=PLAYER (AKGL), range=1600, listeners=10
[09:31:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[09:31:35] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[09:31:35] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[09:31:35] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-178.3°, current=-101.3°, player=(271,884), corner_timer=0.00
[09:31:35] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(271,884), corner_timer=0.30
[09:31:35] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(271,884), corner_timer=0.30
[09:31:35] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=93.2°, current=168.8°, player=(270,883), corner_timer=0.00
[09:31:35] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[09:31:35] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[09:31:35] [ENEMY] [Enemy3] Hit: dmg=2, hp=4/4->2/4
[09:31:35] [INFO] [ImpactEffects] spawn_blood_effect called at (628.8634, 772.6611), dir=(1, 0), lethal=false
[09:31:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:31:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[09:31:35] [INFO] [ImpactEffects] Blood effect spawned at (628.8634, 772.6611) (scale=1)
[09:31:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(268.844, 881.4815), source=PLAYER (AKGL), range=1600, listeners=10
[09:31:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[09:31:35] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[09:31:35] [ENEMY] [Enemy3] Hit: dmg=2, hp=2/4->0/4
[09:31:35] [INFO] [ImpactEffects] spawn_blood_effect called at (591.0848, 784.0802), dir=(1, 0), lethal=true
[09:31:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[09:31:35] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[09:31:35] [INFO] [ImpactEffects] Blood effect spawned at (591.0848, 784.0802) (scale=1.5)
[09:31:35] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[09:31:35] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[09:31:35] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[09:31:35] [INFO] [PowerFantasy] Starting power fantasy effect:
[09:31:35] [INFO] [PowerFantasy]   - Time scale: 0.10
[09:31:35] [INFO] [PowerFantasy]   - Duration: 300ms
[09:31:35] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[09:31:35] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[09:31:35] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[09:31:35] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[09:31:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(268.844, 881.4815), source=PLAYER (AKGL), range=1600, listeners=9
[09:31:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[09:31:36] [INFO] [ReplayManager] Recording frame 120 (1,8s): player_valid=True, enemies=10
[09:31:36] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[09:31:36] [INFO] [PowerFantasy] Ending power fantasy effect
[09:31:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(268,881), corner_timer=-0.02
[09:31:36] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(268,881), corner_timer=-0.02
[09:31:36] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:31:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(268,881), corner_timer=0.30
[09:31:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.8°, player=(268,881), corner_timer=0.30
[09:31:36] [ENEMY] [Enemy1] PURSUING corner check: angle -51.2°
[09:31:36] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[09:31:36] [ENEMY] [Enemy4] PURSUING corner check: angle -93.9°
[09:31:36] [INFO] [BloodDecal] Blood puddle created at (727.2284, 808.7045) (added to group)
[09:31:36] [INFO] [BloodDecal] Blood puddle created at (676.128, 773.322) (added to group)
[09:31:36] [INFO] [BloodDecal] Blood puddle created at (655.2708, 777.855) (added to group)
[09:31:36] [INFO] [BloodDecal] Blood puddle created at (681.2023, 794.4134) (added to group)
[09:31:36] [INFO] [BloodDecal] Blood puddle created at (644.8626, 787.0789) (added to group)
[09:31:36] [INFO] [BloodDecal] Blood puddle created at (658.7041, 796.9246) (added to group)
[09:31:36] [INFO] [BloodDecal] Blood puddle created at (679.7359, 800.0193) (added to group)
[09:31:36] [INFO] [BloodDecal] Blood puddle created at (679.4257, 842.1706) (added to group)
[09:31:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(268,881), corner_timer=-0.02
[09:31:36] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[09:31:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(268,881), corner_timer=0.30
[09:31:36] [ENEMY] [Enemy1] PURSUING corner check: angle 153.6°
[09:31:36] [ENEMY] [Enemy3] Ragdoll activated
[09:31:36] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[09:31:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(268.84396, 881.4815), shooter_id=1793098517835, bullet_pos=(1559.0892, 56.710052)
[09:31:36] [INFO] [Bullet] Using shooter_position, distance=1531,333
[09:31:36] [INFO] [Bullet] Distance to wall: 1531,333 (104,27128% of viewport)
[09:31:36] [INFO] [BloodDecal] Blood puddle created at (770.0126, 805.6351) (added to group)
[09:31:36] [INFO] [BloodDecal] Blood puddle created at (760.7147, 788.4128) (added to group)
[09:31:36] [INFO] [BloodDecal] Blood puddle created at (763.4845, 780.264) (added to group)
[09:31:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:36] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[09:31:36] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[09:31:36] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[09:31:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[09:31:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[09:31:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[09:31:36] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[09:31:36] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[09:31:36] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[09:31:36] [ENEMY] [Enemy1] Death animation component initialized
[09:31:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:36] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[09:31:36] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[09:31:36] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[09:31:36] [ENEMY] [Enemy2] Death animation component initialized
[09:31:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:36] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[09:31:36] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[09:31:36] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[09:31:36] [ENEMY] [Enemy3] Death animation component initialized
[09:31:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:36] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[09:31:36] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[09:31:36] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[09:31:36] [ENEMY] [Enemy4] Death animation component initialized
[09:31:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:36] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[09:31:36] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[09:31:36] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[09:31:36] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[09:31:36] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[09:31:36] [ENEMY] [Grenadier] Death animation component initialized
[09:31:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:36] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[09:31:36] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[09:31:36] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[09:31:36] [ENEMY] [Enemy6] Death animation component initialized
[09:31:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:36] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[09:31:36] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[09:31:36] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[09:31:36] [ENEMY] [Enemy7] Death animation component initialized
[09:31:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:36] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[09:31:36] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[09:31:36] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[09:31:36] [ENEMY] [Enemy8] Death animation component initialized
[09:31:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:36] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[09:31:36] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[09:31:36] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[09:31:36] [ENEMY] [Enemy9] Death animation component initialized
[09:31:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:36] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[09:31:36] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[09:31:36] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[09:31:36] [ENEMY] [Enemy10] Death animation component initialized
[09:31:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[09:31:36] [INFO] [BloodyFeet:Player] Footprint scene loaded
[09:31:36] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[09:31:36] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[09:31:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[09:31:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[09:31:36] [INFO] [Player.Weapon] GameManager weapon selection: ak_gl (AKGL)
[09:31:36] [INFO] [Player.Weapon] Removed default MakarovPM
[09:31:36] [INFO] [Player.Weapon] Equipped AKGL (ammo: 30/30)
[09:31:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[09:31:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[09:31:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[09:31:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[09:31:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[09:31:36] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[09:31:36] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[09:31:36] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[09:31:36] [INFO] [Player.Homing] Homing activation sound loaded
[09:31:36] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[09:31:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[09:31:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[09:31:37] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[09:31:37] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[09:31:37] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[09:31:37] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[09:31:37] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[09:31:37] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[09:31:37] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[09:31:37] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[09:31:37] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[09:31:37] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[09:31:37] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[09:31:37] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[09:31:37] [INFO] [BuildingLevel] Setting up weapon: ak_gl
[09:31:37] [INFO] [BuildingLevel] AKGL already equipped by C# Player - skipping GDScript weapon swap
[09:31:37] [INFO] [ScoreManager] Level started with 10 enemies
[09:31:37] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[09:31:37] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[09:31:37] [INFO] [ReplayManager] Replay data cleared
[09:31:37] [INFO] [BuildingLevel] Previous replay data cleared
[09:31:37] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[09:31:37] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[09:31:37] [INFO] [ReplayManager] Level: BuildingLevel
[09:31:37] [INFO] [ReplayManager] Player: Player (valid: True)
[09:31:37] [INFO] [ReplayManager] Enemies count: 10
[09:31:37] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[09:31:37] [INFO] [ReplayManager]   Enemy 0: Enemy1
[09:31:37] [INFO] [ReplayManager]   Enemy 1: Enemy2
[09:31:37] [INFO] [ReplayManager]   Enemy 2: Enemy3
[09:31:37] [INFO] [ReplayManager]   Enemy 3: Enemy4
[09:31:37] [INFO] [ReplayManager]   Enemy 4: Grenadier
[09:31:37] [INFO] [ReplayManager]   Enemy 5: Enemy6
[09:31:37] [INFO] [ReplayManager]   Enemy 6: Enemy7
[09:31:37] [INFO] [ReplayManager]   Enemy 7: Enemy8
[09:31:37] [INFO] [ReplayManager]   Enemy 8: Enemy9
[09:31:37] [INFO] [ReplayManager]   Enemy 9: Enemy10
[09:31:37] [INFO] [BuildingLevel] Replay recording started successfully
[09:31:37] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[09:31:37] [INFO] [CinemaEffects] Found player node: Player
[09:31:37] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[09:31:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[09:31:37] [ENEMY] [Enemy1] Registered as sound listener
[09:31:37] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[09:31:37] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[09:31:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[09:31:37] [ENEMY] [Enemy2] Registered as sound listener
[09:31:37] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[09:31:37] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[09:31:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[09:31:37] [ENEMY] [Enemy3] Registered as sound listener
[09:31:37] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[09:31:37] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[09:31:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[09:31:37] [ENEMY] [Enemy4] Registered as sound listener
[09:31:37] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[09:31:37] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[09:31:37] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[09:31:37] [ENEMY] [Grenadier] Registered as sound listener
[09:31:37] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[09:31:37] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[09:31:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[09:31:37] [ENEMY] [Enemy6] Registered as sound listener
[09:31:37] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[09:31:37] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[09:31:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[09:31:37] [ENEMY] [Enemy7] Registered as sound listener
[09:31:37] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[09:31:37] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[09:31:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[09:31:37] [ENEMY] [Enemy8] Registered as sound listener
[09:31:37] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[09:31:37] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[09:31:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[09:31:37] [ENEMY] [Enemy9] Registered as sound listener
[09:31:37] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[09:31:37] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[09:31:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[09:31:37] [ENEMY] [Enemy10] Registered as sound listener
[09:31:37] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[09:31:37] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[09:31:37] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[09:31:37] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:37] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:37] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:37] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:37] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:37] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:37] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:37] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[09:31:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[09:31:37] [INFO] [Player] Detected weapon: AK + GL (Rifle pose)
[09:31:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[09:31:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[09:31:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[09:31:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[09:31:37] [INFO] [LastChance] Found player: Player
[09:31:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[09:31:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[09:31:37] [INFO] [LastChance] Connected to player Died signal (C#)
[09:31:37] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[09:31:37] [INFO] [BloodDecal] Blood puddle created at (713.1332, 937.4675) (added to group)
[09:31:38] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[09:31:38] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:38] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[09:31:38] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[09:31:38] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[09:31:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[09:31:38] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[09:31:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[09:31:38] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[09:31:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[09:31:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[09:31:39] [INFO] ------------------------------------------------------------
[09:31:39] [INFO] GAME LOG ENDED: 2026-02-09T09:31:39
[09:31:39] [INFO] ============================================================
