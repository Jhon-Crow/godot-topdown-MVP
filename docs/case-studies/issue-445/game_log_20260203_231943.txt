[23:19:43] [INFO] ============================================================
[23:19:43] [INFO] GAME LOG STARTED
[23:19:43] [INFO] ============================================================
[23:19:43] [INFO] Timestamp: 2026-02-03T23:19:43
[23:19:43] [INFO] Log file: I:/Загрузки/godot exe/взвод дроб вверх/game_log_20260203_231943.txt
[23:19:43] [INFO] Executable: I:/Загрузки/godot exe/взвод дроб вверх/Godot-Top-Down-Template.exe
[23:19:43] [INFO] OS: Windows
[23:19:43] [INFO] Debug build: false
[23:19:43] [INFO] Engine version: 4.3-stable (official)
[23:19:43] [INFO] Project: Godot Top-Down Template
[23:19:43] [INFO] ------------------------------------------------------------
[23:19:43] [INFO] [GameManager] GameManager ready
[23:19:43] [INFO] [ScoreManager] ScoreManager ready
[23:19:43] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[23:19:43] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[23:19:43] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[23:19:43] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[23:19:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:19:43] [INFO] [PenultimateHit] Saturation shader loaded successfully
[23:19:43] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[23:19:43] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[23:19:43] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[23:19:43] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[23:19:43] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[23:19:43] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[23:19:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:19:43] [INFO] [LastChance] Last chance shader loaded successfully
[23:19:43] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[23:19:43] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[23:19:43] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[23:19:43] [INFO] [LastChance]   Sepia intensity: 0.70
[23:19:43] [INFO] [LastChance]   Brightness: 0.60
[23:19:43] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[23:19:43] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[23:19:43] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false
[23:19:43] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.2 - overlay approach with enhanced death effects)...
[23:19:43] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:19:43] [INFO] [CinemaEffects] Created effects layer at layer 99
[23:19:43] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[23:19:43] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[23:19:43] [INFO] [CinemaEffects] Cinema film effect initialized (v5.2) - Configuration:
[23:19:43] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[23:19:43] [INFO] [CinemaEffects]   Grain intensity: 0.15
[23:19:43] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[23:19:43] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[23:19:43] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[23:19:43] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[23:19:43] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[23:19:43] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel (top-right)
[23:19:43] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[23:19:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:43] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:19:43] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:19:43] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:19:43] [ENEMY] [Enemy1] Death animation component initialized
[23:19:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:43] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:19:43] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:19:43] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:19:43] [ENEMY] [Enemy2] Death animation component initialized
[23:19:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:43] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:19:43] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:19:43] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:19:43] [ENEMY] [Enemy3] Death animation component initialized
[23:19:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:43] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:19:43] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:19:43] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:19:43] [ENEMY] [Enemy4] Death animation component initialized
[23:19:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:43] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:19:43] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:19:43] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:19:43] [ENEMY] [Enemy5] Death animation component initialized
[23:19:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:43] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:19:43] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:19:43] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:19:43] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:19:43] [ENEMY] [Enemy6] Death animation component initialized
[23:19:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:43] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:19:43] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:19:43] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:19:43] [ENEMY] [Enemy7] Death animation component initialized
[23:19:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:43] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:19:43] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:19:43] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:19:43] [ENEMY] [Enemy8] Death animation component initialized
[23:19:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:43] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:19:43] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:19:43] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:19:43] [ENEMY] [Enemy9] Death animation component initialized
[23:19:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:43] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:19:43] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:19:43] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:19:43] [ENEMY] [Enemy10] Death animation component initialized
[23:19:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:43] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:19:43] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:19:43] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:19:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:19:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:19:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:19:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:19:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:19:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:19:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:19:43] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:19:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:19:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:19:43] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[23:19:43] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:19:43] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:19:43] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:19:43] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:19:43] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:19:43] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:19:43] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:19:43] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:19:43] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:19:43] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:19:43] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:19:43] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:19:43] [INFO] [ScoreManager] Level started with 10 enemies
[23:19:43] [INFO] [CinemaEffects] Found player node: Player
[23:19:43] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:19:43] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:19:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[23:19:43] [ENEMY] [Enemy1] Registered as sound listener
[23:19:43] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[23:19:43] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:19:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[23:19:43] [ENEMY] [Enemy2] Registered as sound listener
[23:19:43] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[23:19:43] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:19:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[23:19:43] [ENEMY] [Enemy3] Registered as sound listener
[23:19:43] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[23:19:43] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:19:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[23:19:43] [ENEMY] [Enemy4] Registered as sound listener
[23:19:43] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[23:19:43] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:19:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[23:19:43] [ENEMY] [Enemy5] Registered as sound listener
[23:19:43] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[23:19:43] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:19:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[23:19:43] [ENEMY] [Enemy6] Registered as sound listener
[23:19:43] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[23:19:43] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:19:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[23:19:43] [ENEMY] [Enemy7] Registered as sound listener
[23:19:43] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 2, behavior: PATROL
[23:19:43] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:19:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[23:19:43] [ENEMY] [Enemy8] Registered as sound listener
[23:19:43] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[23:19:43] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:19:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[23:19:43] [ENEMY] [Enemy9] Registered as sound listener
[23:19:43] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[23:19:43] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:19:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[23:19:43] [ENEMY] [Enemy10] Registered as sound listener
[23:19:43] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[23:19:43] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:19:43] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:19:43] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:19:43] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:19:43] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:19:43] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:19:43] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:19:43] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:19:43] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:19:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:19:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[23:19:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[23:19:43] [INFO] [PenultimateHit] Shader warmup complete in 179 ms
[23:19:43] [INFO] [LastChance] Shader warmup complete in 178 ms
[23:19:43] [INFO] [CinemaEffects] Cinema shader warmup complete in 150 ms
[23:19:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:19:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:19:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:19:43] [INFO] [LastChance] Found player: Player
[23:19:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:19:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:19:43] [INFO] [LastChance] Connected to player Died signal (C#)
[23:19:43] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:19:43] [INFO] [ImpactEffects] Particle shader warmup complete: 5 effects warmed up in 431 ms
[23:19:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:19:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:19:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:19:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:19:46] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:19:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:46] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:19:46] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:19:46] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:19:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:19:46] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:19:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:19:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:19:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:19:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:19:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:19:46] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:19:46] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[23:19:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:19:46] [INFO] [CinemaEffects] Found player node: Player
[23:19:46] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:19:46] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:19:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:19:46] [INFO] [Player] Detected weapon: Rifle (default pose)
[23:19:46] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[23:19:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:19:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:19:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:19:46] [INFO] [LastChance] Found player: Player
[23:19:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:19:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:19:46] [INFO] [LastChance] Connected to player Died signal (C#)
[23:19:46] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:19:47] [INFO] [PauseMenu] Armory button pressed
[23:19:47] [INFO] [PauseMenu] Creating new armory menu instance
[23:19:47] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[23:19:47] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[23:19:47] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[23:19:47] [INFO] [PauseMenu] back_pressed signal exists on instance
[23:19:47] [INFO] [PauseMenu] back_pressed signal connected
[23:19:47] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[23:19:47] [INFO] [PauseMenu] _populate_weapon_grid method exists
[23:19:47] [INFO] [GameManager] Weapon selected: shotgun
[23:19:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:19:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:19:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:19:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:19:47] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:19:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:19:47] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:19:47] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:19:47] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:19:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:19:47] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:19:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:19:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:19:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:19:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:19:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:19:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:19:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[23:19:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:19:47] [INFO] [CinemaEffects] Found player node: Player
[23:19:47] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:19:47] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:19:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:19:47] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:19:47] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:19:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:19:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:19:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:19:47] [INFO] [LastChance] Found player: Player
[23:19:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:19:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:19:47] [INFO] [LastChance] Connected to player Died signal (C#)
[23:19:47] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:19:48] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(150, 360)
[23:19:48] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=8,7, distance=33,7px, pos=(148.24365, 326.3506)
[23:19:48] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-3,4, distance=21,6px, pos=(149.27145, 338.4434)
[23:19:48] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-5,6, distance=19,4px, pos=(149.46779, 340.62054)
[23:19:48] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-7,7, distance=17,3px, pos=(150.27257, 342.72284)
[23:19:48] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-1,7, distance=23,3px, pos=(150.68275, 336.73602)
[23:19:48] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=10,2, distance=35,2px, pos=(152.18784, 324.89075)
[23:19:48] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-8,3, distance=16,7px, pos=(151.72528, 343.42966)
[23:19:48] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=2,4, distance=27,4px, pos=(153.17303, 332.77533)
[23:19:48] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=-11,6, distance=13,4px, pos=(152.20035, 346.7474)
[23:19:48] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-2,0, distance=23,0px, pos=(153.79956, 337.29117)
[23:19:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (Shotgun), range=1469, listeners=10
[23:19:48] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[23:19:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:19:49] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:19:49] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:19:49] [INFO] [Shotgun.FIX#445] dragStartPos=(172, 11), aimDir=(0,06, -1,00)
[23:19:49] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:49] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:49] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(68,8, -10,4), length=69,6, dotWithAim=14,6, aimDir=(0,06, -1,00), isPump=True
[23:19:49] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:19:49] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:19:49] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:49] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:49] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(103,6, -0,8), length=103,6, dotWithAim=7,2, aimDir=(0,06, -1,00), isPump=True
[23:19:49] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:19:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(97,6, 90,1), length=132,8, dotWithAim=-83,9, aimDir=(0,06, -1,00), isPump=True
[23:19:49] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:19:49] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:19:49] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:49] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:49] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-131,6, 628,5), length=642,1, dotWithAim=-635,4, aimDir=(0,06, -1,00), isPump=False
[23:19:49] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:19:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-131,6, 628,5), length=642,1, dotWithAim=-635,4, aimDir=(0,06, -1,00), isPump=False
[23:19:49] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:19:50] [INFO] [Shotgun.FIX#243] RMB released after 26 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:19:50] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-131,6, 628,5), length=642,1, dotWithAim=-635,4, ActionState=Ready, minDist=20
[23:19:50] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:19:50] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(150, 360)
[23:19:50] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=-14,4, distance=10,6px, pos=(153.07513, 370.1062)
[23:19:50] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=-6,0, distance=19,0px, pos=(154.76863, 378.39908)
[23:19:50] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=-5,4, distance=19,6px, pos=(153.47423, 379.27338)
[23:19:50] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=-1,7, distance=23,3px, pos=(153.1381, 383.12103)
[23:19:50] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=13,2, distance=38,2px, pos=(152.24202, 398.14456)
[23:19:50] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=-4,0, distance=21,0px, pos=(150.0443, 380.99115)
[23:19:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (Shotgun), range=1469, listeners=0
[23:19:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:19:51] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:19:51] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:19:51] [INFO] [Shotgun.FIX#445] dragStartPos=(123, 0), aimDir=(-0,08, -1,00)
[23:19:52] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:52] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:52] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:52] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(0,0, 0,0), length=0,0, dotWithAim=-0,0, aimDir=(-0,08, -1,00), isPump=True
[23:19:52] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(0,0, 0,0), length=0,0, dotWithAim=-0,0, aimDir=(-0,08, -1,00), isPump=True
[23:19:52] [INFO] [Shotgun.FIX#243] RMB released after 22 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:19:52] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(0,0, 0,0), length=0,0, dotWithAim=-0,0, ActionState=NeedsPumpUp, minDist=20
[23:19:52] [INFO] [Shotgun.FIX#445v3] Drag too short: 0,0 < 20
[23:19:52] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:19:52] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:19:52] [INFO] [Shotgun.FIX#445] dragStartPos=(133, 11), aimDir=(-0,05, -1,00)
[23:19:52] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:52] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:52] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:19:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(213,1, -10,7), length=213,4, dotWithAim=0,3, aimDir=(-0,05, -1,00), isPump=True
[23:19:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:19:53] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=0,3
[23:19:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(219,8, -10,7), length=220,1, dotWithAim=-0,0, aimDir=(-0,05, -1,00), isPump=True
[23:19:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:19:53] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-0,0
[23:19:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(222,5, 238,4), length=326,1, dotWithAim=-249,0, aimDir=(-0,05, -1,00), isPump=True
[23:19:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:19:53] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-249,0
[23:19:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(221,8, 708,6), length=742,5, dotWithAim=-718,6, aimDir=(-0,05, -1,00), isPump=True
[23:19:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:19:53] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-718,6
[23:19:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(215,8, 689,3), length=722,3, dotWithAim=-699,0, aimDir=(-0,05, -1,00), isPump=True
[23:19:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:19:53] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-699,0
[23:19:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(215,8, 689,3), length=722,3, dotWithAim=-699,0, aimDir=(-0,05, -1,00), isPump=True
[23:19:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:19:53] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-699,0
[23:19:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(383,5, -10,7), length=383,6, dotWithAim=-8,0, aimDir=(-0,05, -1,00), isPump=True
[23:19:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:19:54] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-8,0
[23:19:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(700,8, -10,7), length=700,9, dotWithAim=-23,5, aimDir=(-0,05, -1,00), isPump=True
[23:19:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:19:54] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-23,5
[23:19:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(553,8, 708,6), length=899,4, dotWithAim=-734,8, aimDir=(-0,05, -1,00), isPump=True
[23:19:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:19:54] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-734,8
[23:19:54] [INFO] [Shotgun.FIX#243] RMB released after 99 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:19:54] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(495,7, 666,6), length=830,7, dotWithAim=-690,0, ActionState=NeedsPumpUp, minDist=20
[23:19:54] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:20:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:20:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:20:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:20:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:20:01] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:20:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:01] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:20:01] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:20:01] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:20:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:20:01] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:20:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:20:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:20:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:20:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:20:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:20:01] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:20:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[23:20:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:20:01] [INFO] [CinemaEffects] Found player node: Player
[23:20:01] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:20:01] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:20:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:20:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:20:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:20:01] [INFO] [LastChance] Found player: Player
[23:20:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:20:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:20:01] [INFO] [LastChance] Connected to player Died signal (C#)
[23:20:01] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:20:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:20:01] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:20:01] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:20:03] [INFO] [Shotgun.FIX#212] Firing 8 pellets with 15° spread at pos=(150, 360)
[23:20:03] [INFO] [Shotgun.FIX#212] Normal pellet 1/8: extraOffset=8,4, distance=33,4px, pos=(146.64653, 326.7448)
[23:20:03] [INFO] [Shotgun.FIX#212] Normal pellet 2/8: extraOffset=10,3, distance=35,3px, pos=(148.41301, 324.7431)
[23:20:03] [INFO] [Shotgun.FIX#212] Normal pellet 3/8: extraOffset=14,8, distance=39,8px, pos=(148.48611, 320.18457)
[23:20:03] [INFO] [Shotgun.FIX#212] Normal pellet 4/8: extraOffset=12,1, distance=37,1px, pos=(150.32686, 322.8642)
[23:20:03] [INFO] [Shotgun.FIX#212] Normal pellet 5/8: extraOffset=-11,6, distance=13,4px, pos=(150.95238, 346.60654)
[23:20:03] [INFO] [Shotgun.FIX#212] Normal pellet 6/8: extraOffset=-14,4, distance=10,6px, pos=(150.85107, 349.38702)
[23:20:03] [INFO] [Shotgun.FIX#212] Normal pellet 7/8: extraOffset=6,5, distance=31,5px, pos=(154.18002, 328.82562)
[23:20:03] [INFO] [Shotgun.FIX#212] Normal pellet 8/8: extraOffset=10,1, distance=35,1px, pos=(155.15637, 325.30548)
[23:20:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:03] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:03] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:20:03] [INFO] [Shotgun.FIX#445] dragStartPos=(162, 10), aimDir=(0,03, -1,00)
[23:20:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:03] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:03] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-5,7, -10,2), length=11,7, dotWithAim=10,0, aimDir=(0,03, -1,00), isPump=True
[23:20:03] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:03] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:03] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(209,8, 2,7), length=209,8, dotWithAim=4,5, aimDir=(0,03, -1,00), isPump=True
[23:20:03] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:03] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:04] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:04] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-181,7, 682,6), length=706,4, dotWithAim=-688,4, aimDir=(0,03, -1,00), isPump=False
[23:20:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-185,1, 645,2), length=671,2, dotWithAim=-651,1, aimDir=(0,03, -1,00), isPump=False
[23:20:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:04] [INFO] [Shotgun.FIX#243] RMB released after 25 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:20:04] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-185,7, 636,5), length=663,1, dotWithAim=-642,5, ActionState=Ready, minDist=20
[23:20:04] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:20:06] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(150, 360)
[23:20:06] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=0,2, distance=25,2px, pos=(149.23473, 334.77417)
[23:20:06] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=1,3, distance=26,3px, pos=(150.0828, 333.73267)
[23:20:06] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=-4,4, distance=20,6px, pos=(150.1043, 339.38715)
[23:20:06] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=1,3, distance=26,3px, pos=(151.9081, 333.79337)
[23:20:06] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=-13,1, distance=11,9px, pos=(151.09123, 348.19736)
[23:20:06] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=-3,8, distance=21,2px, pos=(152.47006, 338.91544)
[23:20:06] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=5,3, distance=30,3px, pos=(154.83104, 330.0703)
[23:20:06] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=-1,1, distance=23,9px, pos=(155.00226, 336.6407)
[23:20:06] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=-9,7, distance=15,3px, pos=(153.74168, 345.14594)
[23:20:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:06] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:06] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:20:06] [INFO] [Shotgun.FIX#445] dragStartPos=(177, 4), aimDir=(0,08, -1,00)
[23:20:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:06] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:06] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(22,4, -3,9), length=22,7, dotWithAim=5,6, aimDir=(0,08, -1,00), isPump=True
[23:20:06] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:06] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=5,6
[23:20:06] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(46,5, -1,9), length=46,5, dotWithAim=5,5, aimDir=(0,08, -1,00), isPump=True
[23:20:06] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:06] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=5,5
[23:20:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-178,0, 715,4), length=737,2, dotWithAim=-726,9, aimDir=(0,08, -1,00), isPump=True
[23:20:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:07] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-726,9
[23:20:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-178,0, 715,4), length=737,2, dotWithAim=-726,9, aimDir=(0,08, -1,00), isPump=True
[23:20:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:07] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-726,9
[23:20:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-178,0, 712,7), length=734,6, dotWithAim=-724,3, aimDir=(0,08, -1,00), isPump=True
[23:20:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:07] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-724,3
[23:20:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-178,0, 712,7), length=734,6, dotWithAim=-724,3, aimDir=(0,08, -1,00), isPump=True
[23:20:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:07] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-724,3
[23:20:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(166,7, -3,9), length=166,7, dotWithAim=16,7, aimDir=(0,08, -1,00), isPump=True
[23:20:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:07] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:07] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:07] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:07] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(356,7, 18,7), length=357,2, dotWithAim=8,7, aimDir=(0,08, -1,00), isPump=True
[23:20:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:08] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:08] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:08] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:08] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-684,8, 670,6), length=958,4, dotWithAim=-721,0, aimDir=(0,08, -1,00), isPump=False
[23:20:08] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:08] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-684,8, 655,2), length=947,7, dotWithAim=-705,7, aimDir=(0,08, -1,00), isPump=False
[23:20:08] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:08] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-684,8, 655,2), length=947,7, dotWithAim=-705,7, aimDir=(0,08, -1,00), isPump=False
[23:20:08] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:08] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-684,8, 655,2), length=947,7, dotWithAim=-705,7, aimDir=(0,08, -1,00), isPump=False
[23:20:08] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:08] [INFO] [Shotgun.FIX#212] Firing 8 pellets with 15° spread at pos=(150, 360)
[23:20:08] [INFO] [Shotgun.FIX#212] Normal pellet 1/8: extraOffset=10,3, distance=35,3px, pos=(147.53741, 324.8266)
[23:20:08] [INFO] [Shotgun.FIX#212] Normal pellet 2/8: extraOffset=10,2, distance=35,2px, pos=(149.57088, 324.76083)
[23:20:08] [INFO] [Shotgun.FIX#212] Normal pellet 3/8: extraOffset=-11,5, distance=13,5px, pos=(150.00441, 346.50906)
[23:20:08] [INFO] [Shotgun.FIX#212] Normal pellet 4/8: extraOffset=0,9, distance=25,9px, pos=(152.15665, 334.2136)
[23:20:08] [INFO] [Shotgun.FIX#212] Normal pellet 5/8: extraOffset=8,2, distance=33,2px, pos=(152.78513, 326.8836)
[23:20:08] [INFO] [Shotgun.FIX#212] Normal pellet 6/8: extraOffset=0,6, distance=25,6px, pos=(153.81885, 334.64212)
[23:20:08] [INFO] [Shotgun.FIX#212] Normal pellet 7/8: extraOffset=-5,3, distance=19,7px, pos=(153.20749, 340.58304)
[23:20:08] [INFO] [Shotgun.FIX#212] Normal pellet 8/8: extraOffset=13,9, distance=38,9px, pos=(157.26593, 321.77133)
[23:20:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:08] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-686,6, 680,9), length=967,0, dotWithAim=-731,5, aimDir=(0,08, -1,00), isPump=True
[23:20:08] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:08] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-731,5
[23:20:09] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-685,8, 670,5), length=959,1, dotWithAim=-721,1, aimDir=(0,08, -1,00), isPump=True
[23:20:09] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:09] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-721,1
[23:20:09] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-653,6, 461,1), length=799,9, dotWithAim=-509,8, aimDir=(0,08, -1,00), isPump=True
[23:20:09] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:09] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-509,8
[23:20:09] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:09] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:09] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:09] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:09] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(161,7, 0,0), length=161,7, dotWithAim=12,4, aimDir=(0,08, -1,00), isPump=True
[23:20:09] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:09] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:09] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:09] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:09] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:09] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-428,9, 685,9), length=809,0, dotWithAim=-716,8, aimDir=(0,08, -1,00), isPump=False
[23:20:09] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:09] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-425,6, 655,9), length=781,8, dotWithAim=-686,5, aimDir=(0,08, -1,00), isPump=False
[23:20:09] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:10] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(150, 360)
[23:20:10] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=-13,5, distance=11,5px, pos=(149.5571, 348.45898)
[23:20:10] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=11,8, distance=36,8px, pos=(150.77745, 323.2464)
[23:20:10] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=6,2, distance=31,2px, pos=(152.05391, 328.88776)
[23:20:10] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=-0,9, distance=24,1px, pos=(151.95735, 335.9692)
[23:20:10] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=9,0, distance=34,0px, pos=(154.84947, 326.34662)
[23:20:10] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=-5,1, distance=19,9px, pos=(154.54642, 340.65018)
[23:20:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:10] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-427,4, 680,0), length=803,2, dotWithAim=-710,8, aimDir=(0,08, -1,00), isPump=True
[23:20:10] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:10] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-710,8
[23:20:10] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-430,2, 680,3), length=804,9, dotWithAim=-711,3, aimDir=(0,08, -1,00), isPump=True
[23:20:10] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:10] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-711,3
[23:20:10] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-429,4, 667,2), length=793,5, dotWithAim=-698,2, aimDir=(0,08, -1,00), isPump=True
[23:20:10] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:10] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-698,2
[23:20:10] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-239,8, -33,4), length=242,1, dotWithAim=14,9, aimDir=(0,08, -1,00), isPump=True
[23:20:10] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:10] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:10] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:10] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:10] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:10] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(291,9, 6,7), length=292,0, dotWithAim=15,7, aimDir=(0,08, -1,00), isPump=True
[23:20:10] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:10] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:10] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:10] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:10] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:10] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-444,3, 673,9), length=807,2, dotWithAim=-706,0, aimDir=(0,08, -1,00), isPump=False
[23:20:10] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:11] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-465,0, 667,9), length=813,8, dotWithAim=-701,6, aimDir=(0,08, -1,00), isPump=False
[23:20:11] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:11] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(150, 360)
[23:20:11] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-14,2, distance=10,8px, pos=(149.19048, 349.1933)
[23:20:11] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-10,5, distance=14,5px, pos=(149.55556, 345.52875)
[23:20:11] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-1,3, distance=23,7px, pos=(150.52267, 336.26578)
[23:20:11] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=11,4, distance=36,4px, pos=(150.303, 323.60025)
[23:20:11] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-4,6, distance=20,4px, pos=(150.94907, 339.59506)
[23:20:11] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-3,4, distance=21,6px, pos=(151.21065, 338.45682)
[23:20:11] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=3,4, distance=28,4px, pos=(152.42484, 331.71902)
[23:20:11] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=8,7, distance=33,7px, pos=(153.84433, 326.51263)
[23:20:11] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=8,5, distance=33,5px, pos=(155.62979, 326.9825)
[23:20:11] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=12,4, distance=37,4px, pos=(156.77997, 323.23187)
[23:20:11] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-4,5, distance=20,5px, pos=(154.14214, 339.96408)
[23:20:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:11] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-466,8, 690,9), length=833,8, dotWithAim=-724,6, aimDir=(0,08, -1,00), isPump=True
[23:20:11] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:11] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-724,6
[23:20:11] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-466,3, 691,4), length=833,9, dotWithAim=-725,0, aimDir=(0,08, -1,00), isPump=True
[23:20:11] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:11] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-725,0
[23:20:11] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-465,4, 680,0), length=824,0, dotWithAim=-713,6, aimDir=(0,08, -1,00), isPump=True
[23:20:11] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:11] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-713,6
[23:20:11] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-460,3, 662,6), length=806,8, dotWithAim=-695,9, aimDir=(0,08, -1,00), isPump=True
[23:20:11] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:11] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-695,9
[23:20:11] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-459,0, -45,4), length=461,2, dotWithAim=10,1, aimDir=(0,08, -1,00), isPump=True
[23:20:11] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:11] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=10,1
[23:20:12] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-465,0, 50,8), length=467,7, dotWithAim=-86,2, aimDir=(0,08, -1,00), isPump=True
[23:20:12] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:12] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-86,2
[23:20:12] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-388,1, -45,4), length=390,8, dotWithAim=15,6, aimDir=(0,08, -1,00), isPump=True
[23:20:12] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:12] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:12] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:12] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:12] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:12] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(499,7, 0,0), length=499,7, dotWithAim=38,3, aimDir=(0,08, -1,00), isPump=True
[23:20:12] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:12] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:12] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:12] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:12] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:12] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-556,5, 567,1), length=794,5, dotWithAim=-608,0, aimDir=(0,08, -1,00), isPump=False
[23:20:12] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:12] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-555,8, 550,4), length=782,2, dotWithAim=-591,3, aimDir=(0,08, -1,00), isPump=False
[23:20:12] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:13] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(150, 360)
[23:20:13] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-13,9, distance=11,1px, pos=(149.29286, 348.9306)
[23:20:13] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-1,6, distance=23,4px, pos=(149.4894, 336.6227)
[23:20:13] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=7,9, distance=32,9px, pos=(150.4406, 327.14566)
[23:20:13] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=12,1, distance=37,1px, pos=(150.5871, 322.93484)
[23:20:13] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-5,5, distance=19,5px, pos=(151.43188, 340.5327)
[23:20:13] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-8,7, distance=16,3px, pos=(151.19263, 343.76062)
[23:20:13] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-11,6, distance=13,4px, pos=(151.48361, 346.72504)
[23:20:13] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-6,4, distance=18,6px, pos=(152.96881, 341.62103)
[23:20:13] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=4,4, distance=29,4px, pos=(155.44588, 331.05893)
[23:20:13] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=4,7, distance=29,7px, pos=(155.7235, 330.87988)
[23:20:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-557,7, 574,8), length=800,9, dotWithAim=-615,8, aimDir=(0,08, -1,00), isPump=True
[23:20:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-615,8
[23:20:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-557,9, 572,8), length=799,6, dotWithAim=-613,9, aimDir=(0,08, -1,00), isPump=True
[23:20:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-613,9
[23:20:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-557,0, 562,1), length=791,4, dotWithAim=-603,1, aimDir=(0,08, -1,00), isPump=True
[23:20:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-603,1
[23:20:13] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:13] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:13] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(329,4, 0,0), length=329,4, dotWithAim=25,2, aimDir=(0,08, -1,00), isPump=True
[23:20:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:13] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:13] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:13] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-408,2, 643,2), length=761,8, dotWithAim=-672,6, aimDir=(0,08, -1,00), isPump=False
[23:20:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:14] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-395,5, 556,4), length=682,6, dotWithAim=-585,0, aimDir=(0,08, -1,00), isPump=False
[23:20:14] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:14] [INFO] [Shotgun.FIX#212] Firing 8 pellets with 15° spread at pos=(150, 360)
[23:20:14] [INFO] [Shotgun.FIX#212] Normal pellet 1/8: extraOffset=-5,8, distance=19,2px, pos=(148.8653, 340.8069)
[23:20:14] [INFO] [Shotgun.FIX#212] Normal pellet 2/8: extraOffset=-10,9, distance=14,1px, pos=(149.71123, 345.85892)
[23:20:14] [INFO] [Shotgun.FIX#212] Normal pellet 3/8: extraOffset=8,1, distance=33,1px, pos=(151.43625, 326.9013)
[23:20:14] [INFO] [Shotgun.FIX#212] Normal pellet 4/8: extraOffset=-0,7, distance=24,3px, pos=(151.37233, 335.74713)
[23:20:14] [INFO] [Shotgun.FIX#212] Normal pellet 5/8: extraOffset=8,1, distance=33,1px, pos=(152.94107, 326.99945)
[23:20:14] [INFO] [Shotgun.FIX#212] Normal pellet 6/8: extraOffset=10,4, distance=35,4px, pos=(154.52303, 324.8989)
[23:20:14] [INFO] [Shotgun.FIX#212] Normal pellet 7/8: extraOffset=-3,0, distance=22,0px, pos=(153.22583, 338.24615)
[23:20:14] [INFO] [Shotgun.FIX#212] Normal pellet 8/8: extraOffset=12,0, distance=37,0px, pos=(158.43336, 323.96442)
[23:20:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:14] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-392,7, 495,3), length=632,1, dotWithAim=-524,0, aimDir=(0,08, -1,00), isPump=True
[23:20:14] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:14] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-524,0
[23:20:14] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-395,9, 492,1), length=631,6, dotWithAim=-521,0, aimDir=(0,08, -1,00), isPump=True
[23:20:14] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:14] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-521,0
[23:20:14] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-378,8, 329,9), length=502,3, dotWithAim=-358,0, aimDir=(0,08, -1,00), isPump=True
[23:20:14] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:14] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-358,0
[23:20:14] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:14] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:14] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:14] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:14] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(243,2, -16,0), length=243,7, dotWithAim=34,6, aimDir=(0,08, -1,00), isPump=True
[23:20:14] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:15] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:15] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:15] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:15] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:15] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-269,2, 529,0), length=593,6, dotWithAim=-548,0, aimDir=(0,08, -1,00), isPump=False
[23:20:15] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:15] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-269,2, 529,0), length=593,6, dotWithAim=-548,0, aimDir=(0,08, -1,00), isPump=False
[23:20:15] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:15] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(150, 360)
[23:20:15] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-11,3, distance=13,7px, pos=(149.01334, 346.32)
[23:20:15] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-2,3, distance=22,7px, pos=(149.28754, 337.29785)
[23:20:15] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-5,0, distance=20,0px, pos=(150.56097, 339.99414)
[23:20:15] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=1,5, distance=26,5px, pos=(150.93016, 333.4714)
[23:20:15] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-0,4, distance=24,6px, pos=(151.03151, 335.43002)
[23:20:15] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-4,0, distance=21,0px, pos=(152.0074, 339.08533)
[23:20:15] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-3,1, distance=21,9px, pos=(152.89557, 338.3356)
[23:20:15] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=11,4, distance=36,4px, pos=(155.61833, 324.05426)
[23:20:15] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=10,6, distance=35,6px, pos=(156.18747, 324.9659)
[23:20:15] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=11,9, distance=36,9px, pos=(157.86943, 323.91656)
[23:20:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:15] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-271,1, 553,4), length=616,3, dotWithAim=-572,6, aimDir=(0,08, -1,00), isPump=True
[23:20:15] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:15] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-572,6
[23:20:15] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-270,6, 547,5), length=610,7, dotWithAim=-566,6, aimDir=(0,08, -1,00), isPump=True
[23:20:15] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:15] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-566,6
[23:20:15] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-269,9, 537,1), length=601,1, dotWithAim=-556,2, aimDir=(0,08, -1,00), isPump=True
[23:20:15] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:15] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-556,2
[23:20:16] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-247,2, 366,7), length=442,2, dotWithAim=-384,5, aimDir=(0,08, -1,00), isPump=True
[23:20:16] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:16] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-384,5
[23:20:16] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:16] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:16] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:16] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:16] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(285,9, -114,9), length=308,1, dotWithAim=136,4, aimDir=(0,08, -1,00), isPump=True
[23:20:16] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:16] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - tube empty, need to reload (MMB not held)
[23:20:16] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:16] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:16] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:16] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-227,8, 454,8), length=508,7, dotWithAim=-471,0, aimDir=(0,08, -1,00), isPump=False
[23:20:16] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:16] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-237,2, 396,1), length=461,6, dotWithAim=-413,1, aimDir=(0,08, -1,00), isPump=False
[23:20:16] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:16] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-236,5, 392,7), length=458,4, dotWithAim=-409,7, aimDir=(0,08, -1,00), isPump=False
[23:20:16] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-236,5, 392,7), length=458,4, dotWithAim=-409,7, aimDir=(0,08, -1,00), isPump=False
[23:20:17] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-236,5, 392,1), length=457,9, dotWithAim=-409,0, aimDir=(0,08, -1,00), isPump=False
[23:20:17] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:17] [INFO] [Shotgun.FIX#243] Bolt opened for loading - ReloadState=Loading, ShellsInTube=0/8
[23:20:17] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:17] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:17] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(244,5, -18,7), length=245,2, dotWithAim=37,4, aimDir=(0,08, -1,00), isPump=False
[23:20:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(249,2, -11,4), length=249,4, dotWithAim=30,4, aimDir=(0,08, -1,00), isPump=False
[23:20:17] [INFO] [Shotgun.FIX#243] RMB released after 29 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:20:17] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(247,8, -10,0), length=248,1, dotWithAim=29,0, ActionState=Ready, minDist=30
[23:20:17] [INFO] [Shotgun.FIX#445v3] Reload drag not vertical: absY=10,0 <= absX=247,8
[23:20:18] [INFO] [Shotgun.EVENT] MMB event: pressed=True (was False), isDragging=False
[23:20:18] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:18] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[23:20:18] [INFO] [Shotgun.FIX#445] dragStartPos=(442, 9), aimDir=(0,08, -1,00)
[23:20:18] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:18] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:18] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-139,0, 531,7), length=549,5, dotWithAim=-540,7, aimDir=(0,08, -1,00), isPump=False
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#243] RMB released after 12 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:20:18] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-227,1, 710,0), length=745,4, dotWithAim=-725,3, ActionState=Ready, minDist=30
[23:20:18] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[23:20:18] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[23:20:18] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=0/8, Tutorial=True, ReserveAmmo=12
[23:20:18] [INFO] [Shotgun.FIX#243] Shell LOADED - 1/8 shells in tube
[23:20:18] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:18] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[23:20:18] [INFO] [Shotgun.FIX#445] dragStartPos=(269, 276), aimDir=(0,08, -1,00)
[23:20:18] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:18] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-269,2, 443,5), length=518,8, dotWithAim=-462,8, aimDir=(0,08, -1,00), isPump=False
[23:20:18] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:20:19] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-269,2, 436,8), length=513,1, dotWithAim=-456,1, ActionState=Ready, minDist=30
[23:20:19] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[23:20:19] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[23:20:19] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=1/8, Tutorial=True, ReserveAmmo=12
[23:20:19] [INFO] [Shotgun.FIX#243] Shell LOADED - 2/8 shells in tube
[23:20:19] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:19] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[23:20:19] [INFO] [Shotgun.FIX#445] dragStartPos=(172, 77), aimDir=(0,08, -1,00)
[23:20:19] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:19] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-172,4, 641,9), length=664,6, dotWithAim=-653,2, aimDir=(0,08, -1,00), isPump=False
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] RMB released after 13 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:20:19] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-170,4, 631,8), length=654,4, dotWithAim=-643,0, ActionState=Ready, minDist=30
[23:20:19] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[23:20:19] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[23:20:19] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=2/8, Tutorial=True, ReserveAmmo=12
[23:20:19] [INFO] [Shotgun.FIX#243] Shell LOADED - 3/8 shells in tube
[23:20:19] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:19] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[23:20:19] [INFO] [Shotgun.FIX#445] dragStartPos=(230, 0), aimDir=(0,08, -1,00)
[23:20:19] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:19] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:19] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-231,1, 719,3), length=755,6, dotWithAim=-734,9, aimDir=(0,08, -1,00), isPump=False
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:19] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:20:19] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-231,1, 719,3), length=755,6, dotWithAim=-734,9, ActionState=Ready, minDist=30
[23:20:19] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[23:20:19] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[23:20:19] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=3/8, Tutorial=True, ReserveAmmo=12
[23:20:19] [INFO] [Shotgun.FIX#243] Shell LOADED - 4/8 shells in tube
[23:20:20] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:20] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[23:20:20] [INFO] [Shotgun.FIX#445] dragStartPos=(259, 1), aimDir=(0,08, -1,00)
[23:20:20] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:20] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:20:20] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-259,2, 718,7), length=764,0, dotWithAim=-736,4, ActionState=Ready, minDist=30
[23:20:20] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[23:20:20] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[23:20:20] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=4/8, Tutorial=True, ReserveAmmo=12
[23:20:20] [INFO] [Shotgun.FIX#243] Shell LOADED - 5/8 shells in tube
[23:20:20] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:20] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[23:20:20] [INFO] [Shotgun.FIX#445] dragStartPos=(277, 15), aimDir=(0,08, -1,00)
[23:20:20] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-277,2, 704,0), length=756,6, dotWithAim=-723,1, aimDir=(0,08, -1,00), isPump=False
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:20] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:20:20] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-277,2, 691,9), length=745,4, dotWithAim=-711,1, ActionState=Ready, minDist=30
[23:20:20] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[23:20:20] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[23:20:20] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=5/8, Tutorial=True, ReserveAmmo=12
[23:20:20] [INFO] [Shotgun.FIX#243] Shell LOADED - 6/8 shells in tube
[23:20:20] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:20] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[23:20:20] [INFO] [Shotgun.FIX#445] dragStartPos=(289, 7), aimDir=(0,08, -1,00)
[23:20:21] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-289,9, 712,7), length=769,4, dotWithAim=-732,8, aimDir=(0,08, -1,00), isPump=False
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:20:21] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-289,9, 712,7), length=769,4, dotWithAim=-732,8, ActionState=Ready, minDist=30
[23:20:21] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[23:20:21] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[23:20:21] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=6/8, Tutorial=True, ReserveAmmo=12
[23:20:21] [INFO] [Shotgun.FIX#243] Shell LOADED - 7/8 shells in tube
[23:20:21] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:21] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[23:20:21] [INFO] [Shotgun.FIX#445] dragStartPos=(244, 38), aimDir=(0,08, -1,00)
[23:20:21] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-244,5, 681,3), length=723,8, dotWithAim=-698,0, aimDir=(0,08, -1,00), isPump=False
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:20:21] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:20:21] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-244,5, 681,3), length=723,8, dotWithAim=-698,0, ActionState=Ready, minDist=30
[23:20:21] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[23:20:21] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[23:20:21] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=7/8, Tutorial=True, ReserveAmmo=12
[23:20:21] [INFO] [Shotgun.FIX#243] Shell LOADED - 8/8 shells in tube
[23:20:21] [INFO] [Shotgun.EVENT] MMB event: pressed=False (was True), isDragging=False
[23:20:22] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:22] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=Loading
[23:20:22] [INFO] [Shotgun.FIX#445] dragStartPos=(149, 247), aimDir=(0,08, -1,00)
[23:20:22] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:22] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:22] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:22] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:20:22] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:20:22] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:20:22] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:20:22] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:20:22] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:20:22] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:20:22] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-130,3, 472,2), length=489,8, dotWithAim=-480,8, ActionState=Ready, minDist=30
[23:20:22] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=False, isMMBHeld=False => shouldLoadShell=False
[23:20:22] [INFO] [Shotgun.FIX#266] Closing bolt (MMB was not held)
[23:20:22] [INFO] [Shotgun.FIX#243] Reload complete - bolt closed, ready to fire with 8 shells
[23:20:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:25] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[23:20:25] [INFO] [Shotgun.FIX#445] dragStartPos=(763, 66), aimDir=(0,85, -0,53)
[23:20:25] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:25] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:25] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:25] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(0,0, 0,0), length=0,0, dotWithAim=-0,0, aimDir=(0,85, -0,53), isPump=False
[23:20:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(0,0, 0,0), length=0,0, dotWithAim=-0,0, aimDir=(0,85, -0,53), isPump=False
[23:20:26] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(189.82516, 426.46747)
[23:20:26] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=9,9, distance=34,9px, pos=(216.23923, 403.64066)
[23:20:26] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=6,4, distance=31,4px, pos=(214.91872, 407.65152)
[23:20:26] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=5,6, distance=30,6px, pos=(214.09038, 407.78128)
[23:20:26] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-8,6, distance=16,4px, pos=(203.44528, 417.32352)
[23:20:26] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=0,6, distance=25,6px, pos=(211.5148, 412.93964)
[23:20:26] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-0,3, distance=24,7px, pos=(210.61188, 413.13382)
[23:20:26] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=7,1, distance=32,1px, pos=(217.36452, 409.90018)
[23:20:26] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=2,5, distance=27,5px, pos=(214.17377, 413.58585)
[23:20:26] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=7,2, distance=32,2px, pos=(218.71329, 412.22137)
[23:20:26] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=9,1, distance=34,1px, pos=(220.72429, 412.02423)
[23:20:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(189.8252, 426.4675), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-20,9, 13,1), length=24,7, dotWithAim=-24,7, aimDir=(0,85, -0,53), isPump=True
[23:20:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:26] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-24,7
[23:20:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-17,3, 10,9), length=20,5, dotWithAim=-20,5, aimDir=(0,85, -0,53), isPump=True
[23:20:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:26] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-20,5
[23:20:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-8,6, 5,4), length=10,1, dotWithAim=-10,1, aimDir=(0,85, -0,53), isPump=True
[23:20:26] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:26] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:26] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:26] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:26] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:26] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:26] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:26] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(0,7, 321,8), length=321,8, dotWithAim=-170,6, aimDir=(0,85, -0,53), isPump=False
[23:20:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(2,0, 289,9), length=289,9, dotWithAim=-152,5, aimDir=(0,85, -0,53), isPump=False
[23:20:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:27] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(321.48053, 347.3334)
[23:20:27] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=3,8, distance=28,8px, pos=(343.95908, 329.27493)
[23:20:27] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=-12,5, distance=12,5px, pos=(331.18796, 339.39917)
[23:20:27] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=12,5, distance=37,5px, pos=(351.52023, 324.80377)
[23:20:27] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=4,7, distance=29,7px, pos=(346.07727, 330.6419)
[23:20:27] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=11,1, distance=36,1px, pos=(352.37488, 328.7064)
[23:20:27] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=7,2, distance=32,2px, pos=(349.09454, 330.7621)
[23:20:27] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=3,6, distance=28,6px, pos=(346.32495, 333.12488)
[23:20:27] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=5,7, distance=30,7px, pos=(348.654, 333.15082)
[23:20:27] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=8,2, distance=33,2px, pos=(351.51758, 333.21594)
[23:20:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(321.4805, 347.3334), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-18,9, 271,4), length=272,0, dotWithAim=-160,4, aimDir=(0,85, -0,53), isPump=True
[23:20:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:27] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-160,4
[23:20:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-17,3, 264,3), length=264,9, dotWithAim=-155,2, aimDir=(0,85, -0,53), isPump=True
[23:20:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:27] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-155,2
[23:20:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-10,2, 256,9), length=257,1, dotWithAim=-145,3, aimDir=(0,85, -0,53), isPump=True
[23:20:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:27] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-145,3
[23:20:27] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:27] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:27] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:27] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:27] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:27] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:27] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:27] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-41,6, 219,4), length=223,3, dotWithAim=-151,9, aimDir=(0,85, -0,53), isPump=False
[23:20:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-35,6, 179,1), length=182,6, dotWithAim=-125,4, aimDir=(0,85, -0,53), isPump=False
[23:20:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:28] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(446.05243, 333.29214)
[23:20:28] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=-0,7, distance=24,3px, pos=(464.88403, 317.96936)
[23:20:28] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=5,6, distance=30,6px, pos=(470.5045, 314.96698)
[23:20:28] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=-0,8, distance=24,2px, pos=(465.8045, 319.23737)
[23:20:28] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=-13,1, distance=11,9px, pos=(456.22992, 327.149)
[23:20:28] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=-10,7, distance=14,3px, pos=(458.54156, 326.35156)
[23:20:28] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=8,2, distance=33,2px, pos=(475.68356, 318.3629)
[23:20:28] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=-1,7, distance=23,3px, pos=(467.03986, 323.08954)
[23:20:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(446.0524, 333.2921), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-56,6, 176,1), length=185,0, dotWithAim=-141,6, aimDir=(0,85, -0,53), isPump=True
[23:20:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-141,6
[23:20:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-55,6, 175,4), length=184,0, dotWithAim=-140,4, aimDir=(0,85, -0,53), isPump=True
[23:20:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-140,4
[23:20:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-51,2, 187,6), length=194,5, dotWithAim=-143,1, aimDir=(0,85, -0,53), isPump=True
[23:20:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-143,1
[23:20:28] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:28] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:28] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:28] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(88,6, -51,1), length=102,3, dotWithAim=102,2, aimDir=(0,85, -0,53), isPump=True
[23:20:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:28] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:28] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:28] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:28] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-61,7, 103,0), length=120,1, dotWithAim=-107,1, aimDir=(0,85, -0,53), isPump=False
[23:20:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-61,7, 59,5), length=85,7, dotWithAim=-83,9, aimDir=(0,85, -0,53), isPump=False
[23:20:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:29] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(390.6607, 344.19687)
[23:20:29] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=-1,3, distance=23,7px, pos=(408.7356, 328.87204)
[23:20:29] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=-12,5, distance=12,5px, pos=(400.59772, 336.63318)
[23:20:29] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=4,8, distance=29,8px, pos=(415.14648, 327.22668)
[23:20:29] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=-5,2, distance=19,8px, pos=(406.7983, 332.7118)
[23:20:29] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=-15,0, distance=10,0px, pos=(399.09988, 338.79156)
[23:20:29] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=-11,9, distance=13,1px, pos=(401.8629, 337.44135)
[23:20:29] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=12,9, distance=37,9px, pos=(423.66953, 325.5881)
[23:20:29] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=-10,1, distance=14,9px, pos=(404.04135, 337.68417)
[23:20:29] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=-2,6, distance=22,4px, pos=(411.13266, 335.0037)
[23:20:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(390.6607, 344.1969), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-82,5, 66,4), length=105,9, dotWithAim=-105,2, aimDir=(0,85, -0,53), isPump=True
[23:20:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:29] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-105,2
[23:20:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-79,6, 62,3), length=101,1, dotWithAim=-100,5, aimDir=(0,85, -0,53), isPump=True
[23:20:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:29] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-100,5
[23:20:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-74,6, 45,3), length=87,2, dotWithAim=-87,2, aimDir=(0,85, -0,53), isPump=True
[23:20:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:29] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-87,2
[23:20:29] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:29] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:29] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:29] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(58,5, -99,8), length=115,6, dotWithAim=102,6, aimDir=(0,85, -0,53), isPump=True
[23:20:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:29] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:30] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:30] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:30] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:30] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(1,6, 21,7), length=21,7, dotWithAim=-10,2, aimDir=(0,85, -0,53), isPump=False
[23:20:30] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(1,6, 9,6), length=9,7, dotWithAim=-3,7, aimDir=(0,85, -0,53), isPump=False
[23:20:30] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(1,6, 6,2), length=6,4, dotWithAim=-1,9, aimDir=(0,85, -0,53), isPump=False
[23:20:30] [INFO] [Shotgun.FIX#212] Firing 8 pellets with 15° spread at pos=(455.76425, 331.22815)
[23:20:30] [INFO] [Shotgun.FIX#212] Normal pellet 1/8: extraOffset=0,8, distance=25,8px, pos=(475.77176, 314.92703)
[23:20:30] [INFO] [Shotgun.FIX#212] Normal pellet 2/8: extraOffset=14,2, distance=39,2px, pos=(486.54044, 306.95917)
[23:20:30] [INFO] [Shotgun.FIX#212] Normal pellet 3/8: extraOffset=-8,9, distance=16,1px, pos=(469.04742, 322.2031)
[23:20:30] [INFO] [Shotgun.FIX#212] Normal pellet 4/8: extraOffset=0,6, distance=25,6px, pos=(477.1936, 317.15088)
[23:20:30] [INFO] [Shotgun.FIX#212] Normal pellet 5/8: extraOffset=2,1, distance=27,1px, pos=(479.07266, 317.41006)
[23:20:30] [INFO] [Shotgun.FIX#212] Normal pellet 6/8: extraOffset=7,5, distance=32,5px, pos=(484.36426, 315.74734)
[23:20:30] [INFO] [Shotgun.FIX#212] Normal pellet 7/8: extraOffset=8,2, distance=33,2px, pos=(485.3922, 316.2568)
[23:20:30] [INFO] [Shotgun.FIX#212] Normal pellet 8/8: extraOffset=-11,5, distance=13,5px, pos=(468.09106, 325.72183)
[23:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(455.7643, 331.2281), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:30] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-18,6, 18,8), length=26,5, dotWithAim=-25,8, aimDir=(0,85, -0,53), isPump=True
[23:20:30] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:30] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-25,8
[23:20:30] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-21,5, 44,5), length=49,4, dotWithAim=-41,9, aimDir=(0,85, -0,53), isPump=True
[23:20:30] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:30] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-41,9
[23:20:30] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:30] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:30] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:30] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(105,3, -260,2), length=280,7, dotWithAim=227,6, aimDir=(0,85, -0,53), isPump=True
[23:20:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:31] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:31] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:31] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:31] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-12,4, -11,3), length=16,8, dotWithAim=-4,5, aimDir=(0,85, -0,53), isPump=False
[23:20:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-12,4, -11,3), length=16,8, dotWithAim=-4,5, aimDir=(0,85, -0,53), isPump=False
[23:20:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-12,4, -11,3), length=16,8, dotWithAim=-4,5, aimDir=(0,85, -0,53), isPump=False
[23:20:31] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(434.77145, 341.31537)
[23:20:31] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-0,3, distance=24,7px, pos=(454.20026, 326.04608)
[23:20:31] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-10,2, distance=14,8px, pos=(446.3189, 332.12244)
[23:20:31] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-3,7, distance=21,3px, pos=(451.8969, 328.5849)
[23:20:31] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=1,2, distance=26,2px, pos=(456.01157, 325.97836)
[23:20:31] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-2,0, distance=23,0px, pos=(453.7151, 328.2071)
[23:20:31] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=10,9, distance=35,9px, pos=(465.04285, 322.05054)
[23:20:31] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=8,1, distance=33,1px, pos=(463.48898, 324.9091)
[23:20:31] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=5,1, distance=30,1px, pos=(460.76654, 326.23264)
[23:20:31] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=3,8, distance=28,8px, pos=(460.16614, 327.8264)
[23:20:31] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-5,0, distance=20,0px, pos=(452.95224, 332.92096)
[23:20:31] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=6,0, distance=31,0px, pos=(462.8074, 328.13016)
[23:20:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(434.7715, 341.3154), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-33,2, 1,7), length=33,2, dotWithAim=-29,0, aimDir=(0,85, -0,53), isPump=True
[23:20:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:31] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-29,0
[23:20:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-30,3, -0,1), length=30,3, dotWithAim=-25,6, aimDir=(0,85, -0,53), isPump=True
[23:20:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:31] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-25,6
[23:20:32] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:32] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:32] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:32] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(49,8, -578,2), length=580,3, dotWithAim=349,7, aimDir=(0,85, -0,53), isPump=True
[23:20:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(8,9, 115,6), length=116,0, dotWithAim=-54,0, aimDir=(0,85, -0,53), isPump=True
[23:20:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:32] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:32] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:32] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:32] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-48,1, -2,0), length=48,1, dotWithAim=-39,7, aimDir=(0,85, -0,53), isPump=False
[23:20:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-48,1, -5,3), length=48,4, dotWithAim=-37,9, aimDir=(0,85, -0,53), isPump=False
[23:20:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:32] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(434.77145, 341.24426)
[23:20:32] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=1,3, distance=26,3px, pos=(454.60645, 323.96777)
[23:20:32] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=2,8, distance=27,8px, pos=(456.17227, 323.56366)
[23:20:32] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-6,8, distance=18,2px, pos=(449.19928, 330.20898)
[23:20:32] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-10,1, distance=14,9px, pos=(447.08447, 332.92392)
[23:20:32] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-12,1, distance=12,9px, pos=(445.4796, 334.09796)
[23:20:32] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=2,9, distance=27,9px, pos=(457.89935, 325.63086)
[23:20:32] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-12,0, distance=13,0px, pos=(445.86893, 334.45624)
[23:20:32] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=10,3, distance=35,3px, pos=(465.5787, 323.91083)
[23:20:32] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=14,8, distance=39,8px, pos=(469.31274, 321.52267)
[23:20:32] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=1,4, distance=26,4px, pos=(458.45172, 329.57324)
[23:20:32] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-1,3, distance=23,7px, pos=(456.16705, 331.02643)
[23:20:32] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=12,8, distance=37,8px, pos=(468.87613, 324.95712)
[23:20:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(434.7715, 341.2443), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-69,1, 7,8), length=69,5, dotWithAim=-62,6, aimDir=(0,85, -0,53), isPump=True
[23:20:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:32] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-62,6
[23:20:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-67,4, 6,8), length=67,7, dotWithAim=-60,7, aimDir=(0,85, -0,53), isPump=True
[23:20:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:33] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-60,7
[23:20:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-60,3, 2,3), length=60,4, dotWithAim=-52,3, aimDir=(0,85, -0,53), isPump=True
[23:20:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:33] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-52,3
[23:20:33] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:33] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:33] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:33] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(72,5, -536,8), length=541,6, dotWithAim=346,9, aimDir=(0,85, -0,53), isPump=True
[23:20:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(106,2, 121,9), length=161,7, dotWithAim=25,1, aimDir=(0,85, -0,53), isPump=True
[23:20:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(110,2, 110,5), length=156,1, dotWithAim=34,5, aimDir=(0,85, -0,53), isPump=True
[23:20:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:34] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(110,2, 110,5), length=156,1, dotWithAim=34,5, aimDir=(0,85, -0,53), isPump=True
[23:20:34] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:34] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(100,9, -41,1), length=108,9, dotWithAim=107,3, aimDir=(0,85, -0,53), isPump=True
[23:20:34] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:34] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(43,4, -49,1), length=65,6, dotWithAim=62,9, aimDir=(0,85, -0,53), isPump=True
[23:20:34] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:34] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:34] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:34] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:34] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:34] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-251,2, 0,0), length=251,2, dotWithAim=-212,7, aimDir=(0,85, -0,53), isPump=False
[23:20:34] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:34] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-251,2, 0,0), length=251,2, dotWithAim=-212,7, aimDir=(0,85, -0,53), isPump=False
[23:20:34] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:34] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-251,2, 0,0), length=251,2, dotWithAim=-212,7, aimDir=(0,85, -0,53), isPump=False
[23:20:34] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:34] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(434.77145, 341.24426)
[23:20:34] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-4,3, distance=20,7px, pos=(450.87442, 328.2683)
[23:20:34] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=14,2, distance=39,2px, pos=(466.04346, 317.65137)
[23:20:34] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-9,8, distance=15,2px, pos=(447.0143, 332.21277)
[23:20:34] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=3,5, distance=28,5px, pos=(457.72025, 324.39508)
[23:20:34] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-3,3, distance=21,7px, pos=(452.8861, 329.29623)
[23:20:34] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-1,1, distance=23,9px, pos=(455.11316, 328.65768)
[23:20:34] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-10,8, distance=14,2px, pos=(447.04044, 334.11816)
[23:20:34] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-10,6, distance=14,4px, pos=(447.26657, 334.03696)
[23:20:34] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=8,4, distance=33,4px, pos=(464.29276, 325.5809)
[23:20:34] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=10,2, distance=35,2px, pos=(465.72278, 324.48782)
[23:20:34] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-11,4, distance=13,6px, pos=(447.0734, 335.34985)
[23:20:34] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-13,7, distance=11,3px, pos=(444.9348, 336.41605)
[23:20:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(434.7715, 341.2443), source=PLAYER (Shotgun), range=1469, listeners=0
[23:20:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:20:35] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-271,5, 12,8), length=271,8, dotWithAim=-236,7, aimDir=(0,85, -0,53), isPump=True
[23:20:35] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:35] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-236,7
[23:20:35] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-267,6, 9,5), length=267,8, dotWithAim=-231,6, aimDir=(0,85, -0,53), isPump=True
[23:20:35] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:35] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-231,6
[23:20:35] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:35] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:35] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:35] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(19,1, 243,4), length=244,1, dotWithAim=-113,3, aimDir=(0,85, -0,53), isPump=True
[23:20:35] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:35] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - tube empty, need to reload (MMB not held)
[23:20:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:35] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:35] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:35] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-112,5, 190,4), length=221,2, dotWithAim=-196,6, aimDir=(0,85, -0,53), isPump=False
[23:20:35] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:35] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-112,5, 190,4), length=221,2, dotWithAim=-196,6, aimDir=(0,85, -0,53), isPump=False
[23:20:35] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-112,5, 185,1), length=216,6, dotWithAim=-193,7, aimDir=(0,85, -0,53), isPump=False
[23:20:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-112,5, 185,1), length=216,6, dotWithAim=-193,7, aimDir=(0,85, -0,53), isPump=False
[23:20:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-112,5, 185,1), length=216,6, dotWithAim=-193,7, aimDir=(0,85, -0,53), isPump=False
[23:20:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:36] [INFO] [Shotgun.FIX#243] RMB released after 57 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:20:36] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-112,5, 185,1), length=216,6, dotWithAim=-193,7, ActionState=Ready, minDist=20
[23:20:36] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:20:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:20:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:40] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:20:40] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:20:40] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:20:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:20:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:20:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:20:40] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:20:40] [ENEMY] [Enemy1] Death animation component initialized
[23:20:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:40] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:20:40] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:20:40] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:20:40] [ENEMY] [Enemy2] Death animation component initialized
[23:20:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:40] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:20:40] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:20:40] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:20:40] [ENEMY] [Enemy3] Death animation component initialized
[23:20:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:40] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:20:40] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:20:40] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:20:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:40] [ENEMY] [Enemy4] Death animation component initialized
[23:20:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:40] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:20:40] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:20:40] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:20:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:40] [ENEMY] [Enemy5] Death animation component initialized
[23:20:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:40] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:20:40] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:20:40] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:20:40] [ENEMY] [Enemy6] Death animation component initialized
[23:20:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:40] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:20:40] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:20:40] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:20:40] [ENEMY] [Enemy7] Death animation component initialized
[23:20:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:40] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:20:40] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:20:40] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:20:40] [ENEMY] [Enemy8] Death animation component initialized
[23:20:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:40] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:20:40] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:20:40] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:20:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:40] [ENEMY] [Enemy9] Death animation component initialized
[23:20:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:40] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:20:40] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:20:40] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:20:40] [ENEMY] [Enemy10] Death animation component initialized
[23:20:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:40] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:20:40] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:20:40] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:20:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:20:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:20:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:20:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:20:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:20:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:20:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:20:40] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:20:40] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:20:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:20:40] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:20:40] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:20:40] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:20:40] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:20:40] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:20:40] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:20:40] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:20:40] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:20:40] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:20:40] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:20:40] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:20:40] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:20:40] [INFO] [ScoreManager] Level started with 10 enemies
[23:20:40] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:20:40] [INFO] [CinemaEffects] Found player node: Player
[23:20:40] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:20:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[23:20:40] [ENEMY] [Enemy1] Registered as sound listener
[23:20:40] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[23:20:40] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:20:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[23:20:40] [ENEMY] [Enemy2] Registered as sound listener
[23:20:40] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[23:20:40] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:20:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[23:20:40] [ENEMY] [Enemy3] Registered as sound listener
[23:20:40] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[23:20:40] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:20:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[23:20:40] [ENEMY] [Enemy4] Registered as sound listener
[23:20:40] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[23:20:40] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:20:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[23:20:40] [ENEMY] [Enemy5] Registered as sound listener
[23:20:40] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[23:20:40] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:20:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[23:20:40] [ENEMY] [Enemy6] Registered as sound listener
[23:20:40] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[23:20:40] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:20:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[23:20:40] [ENEMY] [Enemy7] Registered as sound listener
[23:20:40] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[23:20:40] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:20:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[23:20:40] [ENEMY] [Enemy8] Registered as sound listener
[23:20:40] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[23:20:40] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:20:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[23:20:40] [ENEMY] [Enemy9] Registered as sound listener
[23:20:40] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[23:20:40] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:20:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[23:20:40] [ENEMY] [Enemy10] Registered as sound listener
[23:20:40] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[23:20:40] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:20:41] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:41] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:41] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:41] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:41] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:41] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:41] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:41] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:20:41] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:20:41] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:20:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:20:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:20:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:20:41] [INFO] [LastChance] Found player: Player
[23:20:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:20:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:20:41] [INFO] [LastChance] Connected to player Died signal (C#)
[23:20:41] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:20:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:20:42] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:20:42] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,929), corner_timer=0.30
[23:20:42] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,929), corner_timer=0.30
[23:20:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,825), corner_timer=-0.02
[23:20:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:20:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,825), corner_timer=-0.02
[23:20:42] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[23:20:42] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=123.7°, player=(450,819), corner_timer=0.00
[23:20:42] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[23:20:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,819), corner_timer=0.30
[23:20:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,819), corner_timer=0.30
[23:20:42] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-64.9°, player=(449,809), corner_timer=0.00
[23:20:43] [ENEMY] [Enemy4] Memory: high confidence (0.88) - transitioning to PURSUING
[23:20:43] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[23:20:43] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-160.3°, current=168.8°, player=(429,767), corner_timer=0.00
[23:20:43] [ENEMY] [Enemy4] PURSUING corner check: angle -113.2°
[23:20:43] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:20:43] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:20:43] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:20:43] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:20:43] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:20:43] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:20:43] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:20:43] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:20:43] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:20:43] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:20:43] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(418.2009, 755.8384), source=PLAYER (Player), range=600, listeners=10
[23:20:43] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (418.2009, 755.8384), intensity=0.01, distance=423
[23:20:43] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:20:43] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (418.2009, 755.8384), intensity=0.06, distance=207
[23:20:43] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:20:43] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (418.2009, 755.8384), intensity=0.04, distance=266
[23:20:43] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (418.2009, 755.8384), intensity=0.02, distance=399
[23:20:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:20:43] [INFO] [Shotgun.FIX#212] Firing 8 pellets with 15° spread at pos=(418.20093, 755.8384)
[23:20:43] [INFO] [Shotgun.FIX#212] Normal pellet 1/8: extraOffset=9,2, distance=34,2px, pos=(451.27307, 747.20026)
[23:20:43] [INFO] [Shotgun.FIX#212] Normal pellet 2/8: extraOffset=12,3, distance=37,3px, pos=(454.58597, 747.8016)
[23:20:43] [INFO] [Shotgun.FIX#212] Normal pellet 3/8: extraOffset=-7,3, distance=17,7px, pos=(435.5739, 752.5958)
[23:20:43] [INFO] [Shotgun.FIX#212] Normal pellet 4/8: extraOffset=10,9, distance=35,9px, pos=(453.84888, 751.4121)
[23:20:43] [INFO] [Shotgun.FIX#212] Normal pellet 5/8: extraOffset=-1,1, distance=23,9px, pos=(442.01758, 753.8352)
[23:20:43] [INFO] [Shotgun.FIX#212] Normal pellet 6/8: extraOffset=12,0, distance=37,0px, pos=(455.17255, 754.55524)
[23:20:43] [INFO] [Shotgun.FIX#212] Normal pellet 7/8: extraOffset=1,9, distance=26,9px, pos=(445.11017, 754.85)
[23:20:43] [INFO] [Shotgun.FIX#212] Normal pellet 8/8: extraOffset=-11,3, distance=13,7px, pos=(431.8745, 756.26984)
[23:20:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(418.2009, 755.8384), source=PLAYER (Shotgun), range=1469, listeners=10
[23:20:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:20:43] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=73.8°, current=-157.5°, player=(418,755), corner_timer=0.00
[23:20:43] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=423), can_see=false
[23:20:43] [ENEMY] [Enemy1] Pursuing vulnerability sound at (418.2009, 755.8384), distance=423
[23:20:43] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=84.9°, current=-67.5°, player=(418,755), corner_timer=0.00
[23:20:43] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=207), can_see=false
[23:20:43] [ENEMY] [Enemy2] Pursuing vulnerability sound at (418.2009, 755.8384), distance=207
[23:20:43] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=266), can_see=false
[23:20:43] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=399), can_see=false
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [ENEMY] [Enemy4] Pursuing vulnerability sound at (418.2009, 755.8384), distance=399
[23:20:43] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1345), can_see=false
[23:20:43] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1562), can_see=false
[23:20:43] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1288), can_see=false
[23:20:43] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1636), can_see=false
[23:20:43] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1860), can_see=false
[23:20:43] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1134), can_see=false
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[23:20:43] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:43] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4503, 753.7658), dir=(1, 0), lethal=false
[23:20:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:43] [INFO] [ImpactEffects] Blood effect spawned at (684.4503, 753.7658) (scale=1)
[23:20:43] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-177.1°, current=180.0°, player=(397,739), corner_timer=0.00
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(397,739), corner_timer=-0.02
[23:20:43] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[23:20:43] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[23:20:43] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:43] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4503, 753.7658), dir=(1, 0), lethal=true
[23:20:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:43] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:20:43] [INFO] [ImpactEffects] Blood effect spawned at (684.4503, 753.7658) (scale=1.5)
[23:20:43] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:20:43] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:20:43] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:20:43] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:20:43] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:20:43] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(392,737), corner_timer=0.30
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:43] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:20:43] [INFO] [Shotgun.FIX#445] dragStartPos=(830, 664), aimDir=(0,99, -0,14)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (752.0859, 785.3885) (added to group)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (744.6403, 784.5206) (added to group)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (752.0379, 798.4919) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (772.4655, 754.262) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (758.9069, 772.2155) (added to group)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (747.3417, 790.0405) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(311,748), corner_timer=-0.01
[23:20:43] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.1°, player=(307,750), corner_timer=0.30
[23:20:43] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(100,5, 266,7), length=285,0, dotWithAim=62,8, aimDir=(0,99, -0,14), isPump=True
[23:20:43] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:43] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=350), can_see=false
[23:20:43] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=127), can_see=false
[23:20:43] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=491), can_see=false
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1453), can_see=false
[23:20:43] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[23:20:43] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1403), can_see=false
[23:20:43] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1742), can_see=false
[23:20:43] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1966), can_see=false
[23:20:43] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1210), can_see=false
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (759.8213, 779.0031) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (769.876, 768.1853) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (750.1674, 768.0495) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (795.4229, 766.9781) (added to group)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (774.2799, 794.2697) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (828.2666, 797.902) (added to group)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (810.3333, 807.8135) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (750.8699, 784.6714) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(88,2, 572,4), length=579,2, dotWithAim=8,5, aimDir=(0,99, -0,14), isPump=True
[23:20:43] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [ENEMY] [Enemy3] Ragdoll activated
[23:20:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (759.8288, 779.4119) (added to group)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (785.9705, 768.6965) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (825.2905, 808.9518) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (798.5368, 805.9197) (added to group)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (828.0383, 796.6229) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (878.6807, 880.931) (added to group)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (824.8636, 764.3179) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(217.6953, 755.5025), source=PLAYER (Player), range=600, listeners=9
[23:20:43] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (217.6953, 755.5025), intensity=0.02, distance=361
[23:20:43] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (217.6953, 755.5025), intensity=0.07, distance=192
[23:20:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[23:20:43] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(78,2, 477,9), length=484,2, dotWithAim=11,6, aimDir=(0,99, -0,14), isPump=True
[23:20:43] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (838.2803, 847.5453) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (889.7504, 764.3439) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(208,755), corner_timer=-0.01
[23:20:43] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (891.0674, 803.4705) (added to group)
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.8°, player=(204,755), corner_timer=0.30
[23:20:43] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:43] [INFO] [BloodDecal] Blood puddle created at (854.3702, 816.6354) (added to group)
[23:20:44] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:44] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:44] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:44] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:44] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:44] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(78,2, 479,7), length=486,0, dotWithAim=11,4, aimDir=(0,99, -0,14), isPump=True
[23:20:44] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:44] [ENEMY] [Enemy1] Pursuing vulnerability sound at (217.6953, 755.5025), distance=357
[23:20:44] [ENEMY] [Enemy2] Pursuing vulnerability sound at (217.6953, 755.5025), distance=163
[23:20:44] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:44] [ENEMY] [Enemy4] Pursuing vulnerability sound at (418.2009, 755.8384), distance=371
[23:20:44] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=371), can_see=false
[23:20:44] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=202), can_see=false
[23:20:44] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=615), can_see=false
[23:20:44] [INFO] [EnemyGrenade] Throw path blocked to (418.2009, 755.8384)
[23:20:44] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1583), can_see=false
[23:20:44] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1805), can_see=false
[23:20:44] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1533), can_see=false
[23:20:44] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1861), can_see=false
[23:20:44] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2084), can_see=false
[23:20:44] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1298), can_see=false
[23:20:44] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-176.1°, current=-154.3°, player=(157,768), corner_timer=0.28
[23:20:44] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=628)
[23:20:44] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[23:20:44] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[23:20:44] [ENEMY] [Enemy4] FLANKING started: target=(264.5586, 604.2882), side=left, pos=(784.0673, 810.9008)
[23:20:44] [ENEMY] [Enemy4] State: COMBAT -> FLANKING
[23:20:44] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[23:20:44] [ENEMY] [Enemy4] FLANKING started: target=(260.5647, 606.1219), side=left, pos=(784.0673, 810.2512)
[23:20:44] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[23:20:44] [ENEMY] [Enemy4] FLANKING started: target=(238.3026, 953.9818), side=right, pos=(784.0673, 809.6016)
[23:20:44] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[23:20:44] [ENEMY] [Enemy4] FLANKING started: target=(253.0484, 610.1081), side=left, pos=(784.0673, 808.9519)
[23:20:44] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(76,2, 495,2), length=501,1, dotWithAim=7,3, aimDir=(0,99, -0,14), isPump=True
[23:20:44] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:44] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[23:20:44] [ENEMY] [Enemy4] FLANKING started: target=(249.5247, 612.2606), side=left, pos=(784.0673, 808.3023)
[23:20:44] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[23:20:44] [ENEMY] [Enemy4] FLANKING started: target=(233.4072, 960.6949), side=right, pos=(784.0673, 807.6527)
[23:20:44] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[23:20:44] [ENEMY] [Enemy4] FLANKING started: target=(242.9428, 616.8847), side=left, pos=(784.0673, 807.0031)
[23:20:44] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[23:20:44] [ENEMY] [Enemy4] FLANKING started: target=(231.1414, 965.6563), side=right, pos=(784.0673, 806.3535)
[23:20:44] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[23:20:44] [ENEMY] [Enemy4] FLANKING started: target=(236.9766, 621.9345), side=left, pos=(784.0673, 805.7039)
[23:20:44] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[23:20:44] [ENEMY] [Enemy4] FLANKING started: target=(229.6771, 970.9996), side=right, pos=(784.0673, 805.0543)
[23:20:44] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[23:20:44] [ENEMY] [Enemy4] FLANKING started: target=(229.2463, 973.8127), side=right, pos=(784.0673, 804.4047)
[23:20:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(130,799), corner_timer=-0.01
[23:20:44] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[23:20:44] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[23:20:44] [ENEMY] [Enemy4] FLANKING started: target=(229.1674, 630.309), side=left, pos=(784.0673, 803.7551)
[23:20:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.1°, player=(129,803), corner_timer=0.30
[23:20:44] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=FLANKING, target=179.6°, current=-180.0°, player=(127,807), corner_timer=0.28
[23:20:44] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(104,3, 187,9), length=214,9, dotWithAim=77,4, aimDir=(0,99, -0,14), isPump=True
[23:20:44] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:44] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:44] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:44] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:44] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:44] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=461), can_see=false
[23:20:44] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=220), can_see=false
[23:20:44] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=644), can_see=false
[23:20:44] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1648), can_see=false
[23:20:44] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1864), can_see=false
[23:20:44] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1569), can_see=false
[23:20:44] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1868), can_see=false
[23:20:44] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2090), can_see=false
[23:20:44] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1273), can_see=false
[23:20:44] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[23:20:44] [INFO] [GrenadeBase] Grenade created at (727.6176, 781.2104) (frozen)
[23:20:44] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[23:20:44] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[23:20:44] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.989941, -0.141484), Speed: 700.8 (unfrozen)
[23:20:44] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[23:20:44] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[23:20:44] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[23:20:44] [INFO] [FragGrenade] Impact detected! Body: Enemy3 (type: CharacterBody2D), triggering explosion
[23:20:44] [INFO] [FragGrenade] Impact detected - exploding immediately!
[23:20:44] [INFO] [GrenadeBase] EXPLODED at (699.8359, 783.7608)!
[23:20:44] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(699.8359, 783.7608), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[23:20:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[23:20:44] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 33.7
[23:20:44] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[23:20:44] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:44] [INFO] [ImpactEffects] spawn_blood_effect called at (750.6071, 785.751), dir=(0.999233, 0.03917), lethal=false
[23:20:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:44] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:44] [INFO] [ImpactEffects] Blood effect spawned at (750.6071, 785.751) (scale=1)
[23:20:44] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/2 -> 0/2
[23:20:44] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:44] [INFO] [ImpactEffects] spawn_blood_effect called at (750.6071, 785.751), dir=(0.999233, 0.03917), lethal=true
[23:20:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:44] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:20:44] [INFO] [ImpactEffects] Blood effect spawned at (750.6071, 785.751) (scale=1.5)
[23:20:44] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[23:20:44] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[23:20:44] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[23:20:44] [INFO] [DeathAnim] Started - Angle: 2.2 deg, Index: 12
[23:20:44] [ENEMY] [Enemy4] Death animation started with hit direction: (0.999233, 0.03917)
[23:20:44] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 50.8
[23:20:44] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 2.9 degrees
[23:20:44] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 86.1 degrees
[23:20:44] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 169.6 degrees
[23:20:44] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 260.6 degrees
[23:20:44] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-28,1, -232,3), length=234,0, dotWithAim=4,2, aimDir=(0,99, -0,14), isPump=False
[23:20:44] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:20:44] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[23:20:44] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-23,4, -674,9), length=675,3, dotWithAim=69,8, aimDir=(0,99, -0,14), isPump=False
[23:20:44] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:44] [ENEMY] [Enemy3] Death animation completed
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (805.2196, 779.5737) (added to group)
[23:20:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.0°, player=(182,845), corner_timer=-0.01
[23:20:45] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (844.8993, 803.9761) (added to group)
[23:20:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-131.3°, player=(185,842), corner_timer=0.30
[23:20:45] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-24,1, -670,4), length=670,9, dotWithAim=68,5, aimDir=(0,99, -0,14), isPump=False
[23:20:45] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (807.401, 802.844) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (810.1303, 805.4592) (added to group)
[23:20:45] [ENEMY] [Enemy1] Pursuing vulnerability sound at (217.6953, 755.5025), distance=354
[23:20:45] [ENEMY] [Enemy2] Pursuing vulnerability sound at (217.6953, 755.5025), distance=94
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (811.7296, 823.9562) (added to group)
[23:20:45] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=426), can_see=false
[23:20:45] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=163), can_see=false
[23:20:45] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1573), can_see=false
[23:20:45] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1789), can_see=false
[23:20:45] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1429), can_see=false
[23:20:45] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1809), can_see=false
[23:20:45] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2032), can_see=false
[23:20:45] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1232), can_see=false
[23:20:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (841.2049, 865.8125) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (876.6083, 816.715) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (865.863, 836.0618) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (806.2136, 849.3604) (added to group)
[23:20:45] [INFO] [Shotgun.FIX#243] RMB released after 39 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:20:45] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-25,4, -682,3), length=682,8, dotWithAim=68,8, ActionState=Ready, minDist=20
[23:20:45] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=True (away from player), isPumpDown=False (toward player)
[23:20:45] [INFO] [Shotgun.FIX#445v3] Bolt open BLOCKED by cooldown
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (872.4537, 879.209) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (875.5534, 871.7534) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (886.0048, 896.4418) (added to group)
[23:20:45] [ENEMY] [Enemy4] Ragdoll activated
[23:20:45] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (894.8362, 870.9966) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (877.9415, 884.3386) (added to group)
[23:20:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:20:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:45] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:20:45] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:20:45] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:20:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:20:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:20:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:20:45] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:20:45] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:45] [ENEMY] [Enemy1] Death animation component initialized
[23:20:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:45] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:20:45] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:20:45] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:20:45] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:45] [ENEMY] [Enemy2] Death animation component initialized
[23:20:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:45] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:20:45] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:20:45] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:20:45] [ENEMY] [Enemy3] Death animation component initialized
[23:20:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:45] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:20:45] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:20:45] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:20:45] [ENEMY] [Enemy4] Death animation component initialized
[23:20:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:45] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:20:45] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:20:45] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:20:45] [ENEMY] [Enemy5] Death animation component initialized
[23:20:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:45] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:20:45] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:20:45] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:20:45] [ENEMY] [Enemy6] Death animation component initialized
[23:20:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:45] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:20:45] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:20:45] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:20:45] [ENEMY] [Enemy7] Death animation component initialized
[23:20:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:45] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:20:45] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:20:45] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:20:45] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:45] [ENEMY] [Enemy8] Death animation component initialized
[23:20:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:45] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:20:45] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:20:45] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:20:45] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:45] [ENEMY] [Enemy9] Death animation component initialized
[23:20:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:45] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:20:45] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:20:45] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:20:45] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:45] [ENEMY] [Enemy10] Death animation component initialized
[23:20:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:45] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:20:45] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:20:45] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:20:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:20:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:20:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:20:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:20:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:20:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:20:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:20:45] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:20:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[23:20:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:20:45] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:20:45] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:20:45] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:20:45] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:20:45] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:20:45] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:20:45] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:20:45] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:20:45] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:20:45] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:20:45] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:20:45] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:20:45] [INFO] [ScoreManager] Level started with 10 enemies
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (890.313, 792.1287) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (871.5425, 866.7506) (added to group)
[23:20:45] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:20:45] [INFO] [CinemaEffects] Found player node: Player
[23:20:45] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:20:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[23:20:45] [ENEMY] [Enemy1] Registered as sound listener
[23:20:45] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[23:20:45] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:20:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[23:20:45] [ENEMY] [Enemy2] Registered as sound listener
[23:20:45] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[23:20:45] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:20:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[23:20:45] [ENEMY] [Enemy3] Registered as sound listener
[23:20:45] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[23:20:45] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:20:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[23:20:45] [ENEMY] [Enemy4] Registered as sound listener
[23:20:45] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[23:20:45] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:20:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[23:20:45] [ENEMY] [Enemy5] Registered as sound listener
[23:20:45] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[23:20:45] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:20:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[23:20:45] [ENEMY] [Enemy6] Registered as sound listener
[23:20:45] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[23:20:45] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:20:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[23:20:45] [ENEMY] [Enemy7] Registered as sound listener
[23:20:45] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[23:20:45] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:20:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[23:20:45] [ENEMY] [Enemy8] Registered as sound listener
[23:20:45] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[23:20:45] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:20:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[23:20:45] [ENEMY] [Enemy9] Registered as sound listener
[23:20:45] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[23:20:45] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:20:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[23:20:45] [ENEMY] [Enemy10] Registered as sound listener
[23:20:45] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:20:45] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:20:45] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:45] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:45] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:45] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:45] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:45] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:45] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:45] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:20:45] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:20:45] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:20:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:20:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:20:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:20:45] [INFO] [LastChance] Found player: Player
[23:20:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:20:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:20:45] [INFO] [LastChance] Connected to player Died signal (C#)
[23:20:45] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (858.3838, 846.6617) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (830.0039, 904.6371) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (884.5907, 814.7025) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (834.898, 884.6102) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (823.4413, 892.5243) (added to group)
[23:20:45] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (847.4949, 932.7131) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (862.4984, 856.5994) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (883.1058, 945.8079) (added to group)
[23:20:45] [INFO] [BloodDecal] Blood puddle created at (863.6234, 954.2107) (added to group)
[23:20:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:20:46] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:20:46] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,825), corner_timer=0.30
[23:20:46] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,825), corner_timer=0.30
[23:20:47] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:20:47] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:20:47] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:20:47] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:20:47] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:20:47] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:20:47] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:20:47] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:20:47] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:20:47] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:20:47] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(433.3106, 767.3229), source=PLAYER (Player), range=600, listeners=18
[23:20:47] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[23:20:47] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (433.3106, 767.3229), intensity=0.01, distance=438
[23:20:47] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:20:47] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (433.3106, 767.3229), intensity=0.05, distance=220
[23:20:47] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:20:47] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (433.3106, 767.3229), intensity=0.04, distance=267
[23:20:47] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:20:47] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (433.3106, 767.3229), intensity=0.02, distance=390
[23:20:47] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:20:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:20:47] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(433.31058, 767.3229)
[23:20:47] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=2,8, distance=27,8px, pos=(460.79037, 762.91034)
[23:20:47] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=7,9, distance=32,9px, pos=(465.95624, 763.07874)
[23:20:47] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=8,2, distance=33,2px, pos=(466.30594, 763.79694)
[23:20:47] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-13,2, distance=11,8px, pos=(445.05173, 765.9953)
[23:20:47] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-11,5, distance=13,5px, pos=(446.7843, 766.36993)
[23:20:47] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=6,5, distance=31,5px, pos=(464.79413, 766.41974)
[23:20:47] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=4,7, distance=29,7px, pos=(463.0024, 767.0524)
[23:20:47] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-13,5, distance=11,5px, pos=(444.84158, 767.51917)
[23:20:47] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=-13,3, distance=11,7px, pos=(445.04758, 767.4614)
[23:20:47] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=-7,4, distance=17,6px, pos=(450.86517, 768.2403)
[23:20:47] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=5,5, distance=30,5px, pos=(463.6595, 769.9636)
[23:20:47] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-9,9, distance=15,1px, pos=(448.32782, 768.941)
[23:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(433.3106, 767.3229), source=PLAYER (Shotgun), range=1469, listeners=10
[23:20:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:20:47] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=72.3°, current=-157.5°, player=(433,767), corner_timer=0.00
[23:20:47] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=438), can_see=false
[23:20:47] [INFO] [EnemyGrenade] Throw path blocked to (433.3106, 767.3229)
[23:20:47] [ENEMY] [Enemy1] Pursuing vulnerability sound at (433.3106, 767.3229), distance=438
[23:20:47] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=81.3°, current=45.0°, player=(433,767), corner_timer=0.00
[23:20:47] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=220), can_see=false
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (220 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy2] Pursuing vulnerability sound at (433.3106, 767.3229), distance=220
[23:20:47] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=176.3°, current=-33.8°, player=(433,767), corner_timer=0.00
[23:20:47] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=267), can_see=false
[23:20:47] [ENEMY] [Enemy3] Pursuing vulnerability sound at (433.3106, 767.3229), distance=267
[23:20:47] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-160.1°, current=168.8°, player=(433,767), corner_timer=0.00
[23:20:47] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=390), can_see=false
[23:20:47] [ENEMY] [Enemy4] Pursuing vulnerability sound at (433.3106, 767.3229), distance=390
[23:20:47] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1334), can_see=false
[23:20:47] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1550), can_see=false
[23:20:47] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1232), can_see=false
[23:20:47] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1618), can_see=false
[23:20:47] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1841), can_see=false
[23:20:47] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1125), can_see=false
[23:20:47] [INFO] [EnemyGrenade] Throw path blocked to (433.3106, 767.3229)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (216 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=176.9°, current=139.7°, player=(430,764), corner_timer=0.00
[23:20:47] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[23:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.6779, 750.3457), source=ENEMY (Enemy3), range=1469, listeners=10
[23:20:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[23:20:47] [INFO] [EnemyGrenade] Throw path blocked to (433.3106, 767.3229)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (211 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Throw path blocked to (433.3106, 767.3229)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (207 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [LastChance] Threat detected: Bullet
[23:20:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:20:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:47] [INFO] [EnemyGrenade] Throw path blocked to (433.3106, 767.3229)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (203 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/3 -> 2/3
[23:20:47] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:47] [INFO] [ImpactEffects] spawn_blood_effect called at (673.3654, 751.2346), dir=(1, 0), lethal=false
[23:20:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:47] [INFO] [ImpactEffects] Blood effect spawned at (673.3654, 751.2346) (scale=1)
[23:20:47] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/3 -> 1/3
[23:20:47] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:47] [INFO] [ImpactEffects] spawn_blood_effect called at (673.3654, 751.2346), dir=(1, 0), lethal=false
[23:20:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:47] [INFO] [ImpactEffects] Blood effect spawned at (673.3654, 751.2346) (scale=1)
[23:20:47] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/3 -> 0/3
[23:20:47] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:47] [INFO] [ImpactEffects] spawn_blood_effect called at (673.3654, 751.2346), dir=(1, 0), lethal=true
[23:20:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:47] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:20:47] [INFO] [ImpactEffects] Blood effect spawned at (673.3654, 751.2346) (scale=1.5)
[23:20:47] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:20:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:20:47] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:20:47] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:20:47] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:20:47] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:20:47] [INFO] [EnemyGrenade] Throw path blocked to (433.3106, 767.3229)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (199 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (195 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(413,754), corner_timer=-0.02
[23:20:47] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:20:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(413,754), corner_timer=-0.02
[23:20:47] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (192 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=56.4°, player=(411,753), corner_timer=0.30
[23:20:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.2°, player=(411,753), corner_timer=0.30
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (186 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (183 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (180 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (177 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (175 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (169 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (166 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (164 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:47] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:20:47] [INFO] [Shotgun.FIX#445] dragStartPos=(1143, 698), aimDir=(1,00, -0,08)
[23:20:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(627.5926, 761.7546), shooter_id=336718728010, bullet_pos=(61.73911, 792.1011)
[23:20:47] [INFO] [Bullet] Using shooter_position, distance=566.666625976563
[23:20:47] [INFO] [Bullet] Distance to wall: 566.666625976563 (38.5853725707874% of viewport)
[23:20:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:20:47] [INFO] [Bullet] Starting wall penetration at (61.73911, 792.1011)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (161 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.55148983001709
[23:20:47] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:47] [INFO] [Bullet] Body exited signal received for penetrating body
[23:20:47] [INFO] [Bullet] Exiting penetration at (23.46078, 794.1539) after traveling 33.3333358764648 pixels through wall
[23:20:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (159 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (157 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (154 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (149 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (752.1074, 791.6842) (added to group)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-176.7°, current=-170.6°, player=(369,776), corner_timer=0.00
[23:20:47] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=418)
[23:20:47] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[23:20:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(7,7, -208,0), length=208,1, dotWithAim=23,8, aimDir=(1,00, -0,08), isPump=True
[23:20:47] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:47] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (720.9267, 750.8167) (added to group)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(789.6139, 798.2624), source=ENEMY (Enemy4), range=1469, listeners=9
[23:20:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[23:20:47] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (724.609, 757.7277) (added to group)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:20:47] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(364,784), corner_timer=-0.01
[23:20:47] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[23:20:47] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (756.6528, 778.3971) (added to group)
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (759.7921, 798.3689) (added to group)
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (735.1672, 805.6561) (added to group)
[23:20:47] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=352), can_see=false
[23:20:47] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=205), can_see=false
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=436), can_see=true
[23:20:47] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1407), can_see=false
[23:20:47] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1623), can_see=false
[23:20:47] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1340), can_see=false
[23:20:47] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[23:20:47] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[23:20:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.2°, player=(362,787), corner_timer=0.30
[23:20:47] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1148), can_see=false
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (786.1719, 816.2424) (added to group)
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (733.2661, 783.1752) (added to group)
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (752.125, 772.4151) (added to group)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (793.3747, 818.2369) (added to group)
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (765.278, 793.7476) (added to group)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [LastChance] Threat detected: Bullet
[23:20:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:20:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (142 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (735.5205, 778.1708) (added to group)
[23:20:47] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[23:20:47] [INFO] [GrenadeBase] Grenade created at (411.6481, 500.9179) (frozen)
[23:20:47] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[23:20:47] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[23:20:47] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.017608, 0.999845), Speed: 614.2 (unfrozen)
[23:20:47] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[23:20:47] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (139 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(103,2, 120,4), length=158,6, dotWithAim=93,5, aimDir=(1,00, -0,08), isPump=True
[23:20:47] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (136 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (139 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (804.4281, 831.3323) (added to group)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (137 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy3] Ragdoll activated
[23:20:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (747.5259, 798.1734) (added to group)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (133 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.0598, 759.2679), source=ENEMY (Enemy4), range=1469, listeners=9
[23:20:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (129 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (126 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (774.6754, 785.3438) (added to group)
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (836.5318, 743.9584) (added to group)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (126 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (124 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (122 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (802.8134, 783.3078) (added to group)
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (782.2051, 788.1868) (added to group)
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (832.127, 831.007) (added to group)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (119 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(87,2, 661,6), length=667,3, dotWithAim=35,4, aimDir=(1,00, -0,08), isPump=True
[23:20:47] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (791.071, 801.613) (added to group)
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (117 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [INFO] [EnemyGrenade] Unsafe throw distance (114 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:47] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (806.9043, 777.0746) (added to group)
[23:20:47] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=155.7°, current=-175.5°, player=(297,804), corner_timer=0.00
[23:20:47] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 702.1155), source=ENEMY (Enemy2), range=1469, listeners=9
[23:20:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (785.0933, 809.942) (added to group)
[23:20:47] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (782.0888, 795.8541) (added to group)
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (830.1674, 833.0468) (added to group)
[23:20:47] [INFO] [LastChance] Threat detected: Bullet
[23:20:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:20:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:47] [INFO] [BloodDecal] Blood puddle created at (804.1729, 777.0567) (added to group)
[23:20:47] [INFO] [LastChance] Threat detected: @Area2D@1315
[23:20:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:20:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(279,804), corner_timer=-0.01
[23:20:48] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[23:20:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.3°, player=(275,804), corner_timer=0.30
[23:20:48] [INFO] [Player] Spawning blood effect at (266.26352, 804.3995), dir=(1, 0), lethal=False (C#)
[23:20:48] [INFO] [ImpactEffects] spawn_blood_effect called at (266.2635, 804.3995), dir=(1, 0), lethal=false
[23:20:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:48] [INFO] [ImpactEffects] Blood effect spawned at (266.2635, 804.3995) (scale=1)
[23:20:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[23:20:48] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[23:20:48] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:20:48] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(67,1, 564,0), length=568,0, dotWithAim=23,0, aimDir=(1,00, -0,08), isPump=True
[23:20:48] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (812.0488, 816.9097) (added to group)
[23:20:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:20:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.1511, 718.6994), source=ENEMY (Enemy2), range=1469, listeners=9
[23:20:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:20:48] [INFO] [LastChance] Threat detected: Bullet
[23:20:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:20:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:48] [ENEMY] [Enemy1] Pursuing vulnerability sound at (266.2635, 804.3995), distance=308
[23:20:48] [ENEMY] [Enemy1] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[23:20:48] [ENEMY] [Enemy1] EVADING_GRENADE started: escaping to (521.5366, 354.1892)
[23:20:48] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[23:20:48] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (740.1238, 797.0186)
[23:20:48] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=653), can_see=true
[23:20:48] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1525), can_see=false
[23:20:48] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1742), can_see=false
[23:20:48] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1457), can_see=false
[23:20:48] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1777), can_see=false
[23:20:48] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2000), can_see=false
[23:20:48] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1217), can_see=false
[23:20:48] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[23:20:48] [INFO] [FragGrenade] Impact detected! Body: Room1_WallBottom (type: StaticBody2D), triggering explosion
[23:20:48] [INFO] [FragGrenade] Impact detected - exploding immediately!
[23:20:48] [INFO] [GrenadeBase] EXPLODED at (408.4837, 679.8923)!
[23:20:48] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(408.4837, 679.8923), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[23:20:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[23:20:48] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:20:48] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:48] [INFO] [ImpactEffects] spawn_blood_effect called at (452.6861, 564.2656), dir=(0.357082, -0.934073), lethal=false
[23:20:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:48] [INFO] [ImpactEffects] Blood effect spawned at (452.6861, 564.2656) (scale=1)
[23:20:48] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:20:48] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:48] [INFO] [ImpactEffects] spawn_blood_effect called at (452.6861, 564.2656), dir=(0.357082, -0.934073), lethal=false
[23:20:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:48] [INFO] [ImpactEffects] Blood effect spawned at (452.6861, 564.2656) (scale=1)
[23:20:48] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:20:48] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:48] [INFO] [ImpactEffects] spawn_blood_effect called at (452.6861, 564.2656), dir=(0.357082, -0.934073), lethal=false
[23:20:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:48] [INFO] [ImpactEffects] Blood effect spawned at (452.6861, 564.2656) (scale=1)
[23:20:48] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/4 -> 0/4
[23:20:48] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:48] [INFO] [ImpactEffects] spawn_blood_effect called at (452.6861, 564.2656), dir=(0.357082, -0.934073), lethal=true
[23:20:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:48] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:20:48] [INFO] [ImpactEffects] Blood effect spawned at (452.6861, 564.2656) (scale=1.5)
[23:20:48] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[23:20:48] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[23:20:48] [ENEMY] [Enemy1] [AllyDeath] Notified 2 enemies
[23:20:48] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[23:20:48] [INFO] [DeathAnim] Started - Angle: -69.1 deg, Index: 7
[23:20:48] [ENEMY] [Enemy1] Death animation started with hit direction: (0.357082, -0.934073)
[23:20:48] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 123.8
[23:20:48] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 10.3 degrees
[23:20:48] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 74.0 degrees
[23:20:48] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.5 degrees
[23:20:48] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 286.7 degrees
[23:20:48] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped to safe distance
[23:20:48] [ENEMY] [Enemy2] State: EVADING_GRENADE -> COMBAT
[23:20:48] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:20:48] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:20:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:20:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.7763, 725.6693), source=ENEMY (Enemy2), range=1469, listeners=8
[23:20:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[23:20:48] [INFO] [LastChance] Threat detected: @Area2D@1346
[23:20:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:20:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:48] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:20:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:20:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.1118, 743.0256), source=ENEMY (Enemy2), range=1469, listeners=8
[23:20:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[23:20:48] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(51,1, 671,6), length=673,5, dotWithAim=-1,4, aimDir=(1,00, -0,08), isPump=True
[23:20:48] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (306.6823, 814.114) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (340.3967, 838.4265) (added to group)
[23:20:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.7°, player=(173,804), corner_timer=-0.01
[23:20:48] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (322.1488, 795.3147) (added to group)
[23:20:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=5.9°, player=(169,804), corner_timer=0.30
[23:20:48] [INFO] [LastChance] Threat detected: Bullet
[23:20:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:20:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (311.4438, 829.1163) (added to group)
[23:20:48] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:20:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(887.9327, 639.285), source=ENEMY (Enemy4), range=1469, listeners=8
[23:20:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[23:20:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:20:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(536.1369, 761.1526), source=ENEMY (Enemy2), range=1469, listeners=8
[23:20:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (381.9408, 838.7116) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (467.7718, 514.1779) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (458.8126, 491.834) (added to group)
[23:20:48] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=405), can_see=true
[23:20:48] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=405)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (443.0826, 494.3446) (added to group)
[23:20:48] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=778)
[23:20:48] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (399.4171, 894.657) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (488.259, 505.695) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (460.756, 496.6996) (added to group)
[23:20:48] [INFO] [LastChance] Threat detected: @Area2D@1380
[23:20:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:20:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:48] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:20:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(887.9327, 615.2885), source=ENEMY (Enemy4), range=1469, listeners=8
[23:20:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[23:20:48] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (491.8877, 515.5796) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (473.482, 499.7794) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (496.5228, 548.5668) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (466.3076, 498.8781) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (496.6788, 531.2351) (added to group)
[23:20:48] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (344.0702, 850.8137) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (453.3262, 510.282) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (459.7206, 480.5881) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (496.9652, 496.7435) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (448.2722, 511.4367) (added to group)
[23:20:48] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-90.0°, current=165.5°, player=(117,804), corner_timer=0.00
[23:20:48] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=796), can_see=false
[23:20:48] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1646), can_see=false
[23:20:48] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1866), can_see=false
[23:20:48] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1583), can_see=false
[23:20:48] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1896), can_see=false
[23:20:48] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2118), can_see=false
[23:20:48] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1313), can_see=false
[23:20:48] [INFO] [Player] Spawning blood effect at (115.19701, 804.3995), dir=(1, 0), lethal=False (C#)
[23:20:48] [INFO] [ImpactEffects] spawn_blood_effect called at (115.197, 804.3995), dir=(1, 0), lethal=false
[23:20:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:48] [INFO] [ImpactEffects] Blood effect spawned at (115.197, 804.3995) (scale=1)
[23:20:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:20:48] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:20:48] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:20:48] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (435.3002, 846.6462) (added to group)
[23:20:48] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=165.8°, current=162.8°, player=(110,804), corner_timer=0.00
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (464.527, 517.5667) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (448.231, 532.787) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (449.5907, 532.9589) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (474.5698, 486.7292) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (490.1625, 473.6938) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (465.4264, 488.9503) (added to group)
[23:20:48] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (499.4482, 546.5616) (added to group)
[23:20:48] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=51.4°, current=179.3°, player=(105,804), corner_timer=0.00
[23:20:48] [INFO] [EnemyGrenade] Unsafe throw distance (139 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:48] [INFO] [LastChance] Threat detected: @Area2D@1377
[23:20:48] [INFO] [LastChance] Triggering last chance effect!
[23:20:48] [INFO] [LastChance] Starting last chance effect:
[23:20:48] [INFO] [LastChance]   - Time will be frozen (except player)
[23:20:48] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:20:48] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:20:48] [INFO] [LastChance]   - Brightness: 0.60
[23:20:48] [INFO] [LastChance] Pushed bullet @Area2D@1377 from distance 134.8 to 200.0
[23:20:48] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[23:20:48] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:20:48] [INFO] [LastChance] Skipping player node: Player
[23:20:48] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:20:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1275
[23:20:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1277
[23:20:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1306
[23:20:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1316
[23:20:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1325
[23:20:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1347
[23:20:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1369
[23:20:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1378
[23:20:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1381
[23:20:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1392
[23:20:48] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:20:48] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:20:48] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (440.2555, 813.2866) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (443.431, 466.7727) (added to group)
[23:20:48] [INFO] [Shotgun.FIX#243] RMB released after 6 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:20:48] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(8,7, -96,8), length=97,2, dotWithAim=16,2, ActionState=Ready, minDist=20
[23:20:48] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=True (away from player), isPumpDown=False (toward player)
[23:20:48] [INFO] [Shotgun.FIX#445v3] Bolt open BLOCKED by cooldown
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (462.0065, 486.2968) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (446.7245, 541.8027) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (446.9178, 524.2542) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (460.912, 530.8573) (added to group)
[23:20:48] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:20:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:48] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:20:48] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:20:48] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:20:48] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:20:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:20:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:20:48] [INFO] [LastChance] Ending last chance effect
[23:20:48] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[23:20:48] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[23:20:48] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[23:20:48] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[23:20:48] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:20:48] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:20:48] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:20:48] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:20:48] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:20:48] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[23:20:48] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[23:20:48] [INFO] [LastChance] All process modes restored
[23:20:48] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:20:48] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:20:48] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:48] [ENEMY] [Enemy1] Death animation component initialized
[23:20:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:48] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:20:48] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:20:48] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:20:48] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:48] [ENEMY] [Enemy2] Death animation component initialized
[23:20:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:48] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:20:48] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:20:48] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:20:48] [ENEMY] [Enemy3] Death animation component initialized
[23:20:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:48] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:20:48] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:20:48] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:20:48] [ENEMY] [Enemy4] Death animation component initialized
[23:20:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:48] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:20:48] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:20:48] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:20:48] [ENEMY] [Enemy5] Death animation component initialized
[23:20:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:48] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:20:48] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:20:48] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:20:48] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:48] [ENEMY] [Enemy6] Death animation component initialized
[23:20:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:48] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:20:48] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:20:48] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:20:48] [ENEMY] [Enemy7] Death animation component initialized
[23:20:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:48] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:20:48] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:20:48] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:20:48] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:48] [ENEMY] [Enemy8] Death animation component initialized
[23:20:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:48] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:20:48] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:20:48] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:20:48] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:48] [ENEMY] [Enemy9] Death animation component initialized
[23:20:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:48] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:20:48] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:20:48] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:20:48] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:48] [ENEMY] [Enemy10] Death animation component initialized
[23:20:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:48] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:20:48] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:20:48] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:20:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:20:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:20:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:20:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:20:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:20:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:20:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:20:48] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:20:48] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:20:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:20:48] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:20:48] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:20:48] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:20:48] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:20:48] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:20:48] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:20:48] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:20:48] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:20:48] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:20:48] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:20:48] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:20:48] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:20:48] [INFO] [ScoreManager] Level started with 10 enemies
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (374.1376, 924.0221) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (457.5175, 553.8112) (added to group)
[23:20:48] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:20:48] [INFO] [CinemaEffects] Found player node: Player
[23:20:48] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:20:48] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[23:20:48] [ENEMY] [Enemy1] Registered as sound listener
[23:20:48] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[23:20:48] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:20:48] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[23:20:48] [ENEMY] [Enemy2] Registered as sound listener
[23:20:48] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[23:20:48] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:20:48] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[23:20:48] [ENEMY] [Enemy3] Registered as sound listener
[23:20:48] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[23:20:48] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:20:48] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[23:20:48] [ENEMY] [Enemy4] Registered as sound listener
[23:20:48] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[23:20:48] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:20:48] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[23:20:48] [ENEMY] [Enemy5] Registered as sound listener
[23:20:48] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[23:20:48] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:20:48] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[23:20:48] [ENEMY] [Enemy6] Registered as sound listener
[23:20:48] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[23:20:48] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:20:48] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[23:20:48] [ENEMY] [Enemy7] Registered as sound listener
[23:20:48] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[23:20:48] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:20:48] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[23:20:48] [ENEMY] [Enemy8] Registered as sound listener
[23:20:48] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[23:20:48] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:20:48] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[23:20:48] [ENEMY] [Enemy9] Registered as sound listener
[23:20:48] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[23:20:48] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:20:48] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[23:20:48] [ENEMY] [Enemy10] Registered as sound listener
[23:20:48] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[23:20:48] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:20:48] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:20:48] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:20:48] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:20:48] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:20:48] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:20:48] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:20:48] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:20:48] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:20:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:20:48] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:20:48] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:20:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:20:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:20:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:20:48] [INFO] [LastChance] Found player: Player
[23:20:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:20:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:20:48] [INFO] [LastChance] Connected to player Died signal (C#)
[23:20:48] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (491.1164, 442.2887) (added to group)
[23:20:48] [INFO] [BloodDecal] Blood puddle created at (450.3147, 466.1044) (added to group)
[23:20:49] [INFO] [BloodDecal] Blood puddle created at (434.2902, 487.7517) (added to group)
[23:20:49] [INFO] [BloodDecal] Blood puddle created at (181.5533, 857.5766) (added to group)
[23:20:49] [INFO] [BloodDecal] Blood puddle created at (188.9563, 819.3289) (added to group)
[23:20:49] [INFO] [BloodDecal] Blood puddle created at (446.3652, 489.2941) (added to group)
[23:20:49] [INFO] [BloodDecal] Blood puddle created at (191.4217, 820.4694) (added to group)
[23:20:49] [INFO] [BloodDecal] Blood puddle created at (222.0311, 861.3322) (added to group)
[23:20:49] [INFO] [BloodDecal] Blood puddle created at (223.4614, 814.6127) (added to group)
[23:20:49] [INFO] [BloodDecal] Blood puddle created at (239.4, 794.3132) (added to group)
[23:20:49] [INFO] [BloodDecal] Blood puddle created at (202.6254, 900.9718) (added to group)
[23:20:49] [INFO] [BloodDecal] Blood puddle created at (317.3778, 866.0426) (added to group)
[23:20:49] [INFO] [BloodDecal] Blood puddle created at (326.9774, 828.1065) (added to group)
[23:20:49] [INFO] [BloodDecal] Blood puddle created at (249.4537, 919.1263) (added to group)
[23:20:50] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:20:50] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:20:50] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,937), corner_timer=0.30
[23:20:50] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,937), corner_timer=0.30
[23:20:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,836), corner_timer=-0.02
[23:20:50] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:20:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,836), corner_timer=-0.02
[23:20:50] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[23:20:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,831), corner_timer=0.30
[23:20:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,831), corner_timer=0.30
[23:20:50] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=168.6°, current=123.7°, player=(450,800), corner_timer=0.00
[23:20:50] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[23:20:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=18
[23:20:50] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[23:20:50] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[23:20:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[23:20:50] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=78.6°, current=-67.5°, player=(450,797), corner_timer=0.00
[23:20:50] [INFO] [LastChance] Threat detected: Bullet
[23:20:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:20:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:51] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[23:20:51] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[23:20:51] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[23:20:51] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[23:20:51] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-162.4°, current=-101.3°, player=(450,789), corner_timer=0.00
[23:20:51] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=71.1°, current=-33.8°, player=(450,786), corner_timer=0.00
[23:20:51] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[23:20:51] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[23:20:51] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[23:20:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5187, 751.9799), source=ENEMY (Enemy3), range=1469, listeners=10
[23:20:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[23:20:51] [INFO] [LastChance] Threat detected: @Area2D@1706
[23:20:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:20:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:51] [INFO] [Player] Spawning blood effect at (453.2395, 777.5075), dir=(1, 0), lethal=False (C#)
[23:20:51] [INFO] [ImpactEffects] spawn_blood_effect called at (453.2395, 777.5075), dir=(1, 0), lethal=false
[23:20:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:51] [INFO] [ImpactEffects] Blood effect spawned at (453.2395, 777.5075) (scale=1)
[23:20:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:20:51] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:20:51] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:20:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(453,777), corner_timer=-0.02
[23:20:51] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[23:20:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(454,776), corner_timer=0.30
[23:20:51] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[23:20:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5187, 751.9799), source=ENEMY (Enemy3), range=1469, listeners=10
[23:20:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[23:20:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.2828, 771.0304), shooter_id=464863104477, bullet_pos=(63.4984, 886.5313)
[23:20:51] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[23:20:51] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[23:20:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:20:51] [INFO] [Bullet] Starting wall penetration at (63.4984, 886.5313)
[23:20:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.5320663452148
[23:20:51] [INFO] [Bullet] Body exited signal received for penetrating body
[23:20:51] [INFO] [Bullet] Exiting penetration at (17.75565, 895.7713) after traveling 41.6666679382324 pixels through wall
[23:20:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:20:51] [INFO] [LastChance] Threat detected: @Area2D@1708
[23:20:51] [INFO] [LastChance] Triggering last chance effect!
[23:20:51] [INFO] [LastChance] Starting last chance effect:
[23:20:51] [INFO] [LastChance]   - Time will be frozen (except player)
[23:20:51] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:20:51] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:20:51] [INFO] [LastChance]   - Brightness: 0.60
[23:20:51] [INFO] [LastChance] Pushed bullet @Area2D@1708 from distance 120.0 to 200.0
[23:20:51] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[23:20:51] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:20:51] [INFO] [LastChance] Skipping player node: Player
[23:20:51] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:20:51] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1707
[23:20:51] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1709
[23:20:51] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:20:51] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:20:51] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:20:51] [INFO] [BloodDecal] Blood puddle created at (511.9054, 797.8245) (added to group)
[23:20:51] [INFO] [BloodDecal] Blood puddle created at (554.7605, 800.1107) (added to group)
[23:20:51] [INFO] [BloodDecal] Blood puddle created at (629.2344, 823.3264) (added to group)
[23:20:51] [INFO] [BloodDecal] Blood puddle created at (590.715, 805.8606) (added to group)
[23:20:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:20:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:53] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:20:53] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:20:53] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:20:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:20:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:20:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:20:53] [INFO] [LastChance] Ending last chance effect
[23:20:53] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[23:20:53] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[23:20:53] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[23:20:53] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[23:20:53] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:20:53] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:20:53] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:20:53] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:20:53] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:20:53] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[23:20:53] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[23:20:53] [INFO] [LastChance] All process modes restored
[23:20:53] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:20:53] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:20:53] [ENEMY] [Enemy1] Death animation component initialized
[23:20:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:53] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:20:53] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:20:53] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:20:53] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:53] [ENEMY] [Enemy2] Death animation component initialized
[23:20:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:53] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:20:53] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:20:53] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:20:53] [ENEMY] [Enemy3] Death animation component initialized
[23:20:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:53] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:20:53] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:20:53] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:20:53] [ENEMY] [Enemy4] Death animation component initialized
[23:20:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:53] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:20:53] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:20:53] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:20:53] [ENEMY] [Enemy5] Death animation component initialized
[23:20:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:53] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:20:53] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:20:53] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:20:53] [ENEMY] [Enemy6] Death animation component initialized
[23:20:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:53] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:20:53] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:20:53] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:20:53] [ENEMY] [Enemy7] Death animation component initialized
[23:20:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:53] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:20:53] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:20:53] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:20:53] [ENEMY] [Enemy8] Death animation component initialized
[23:20:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:53] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:20:53] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:20:53] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:20:53] [ENEMY] [Enemy9] Death animation component initialized
[23:20:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:53] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:20:53] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:20:53] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:20:53] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:20:53] [ENEMY] [Enemy10] Death animation component initialized
[23:20:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:20:53] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:20:53] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:20:53] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:20:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:20:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:20:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:20:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:20:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:20:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:20:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:20:53] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:20:53] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[23:20:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:20:53] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:20:53] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:20:53] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:20:53] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:20:53] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:20:53] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:20:53] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:20:53] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:20:53] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:20:53] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:20:53] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:20:53] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:20:53] [INFO] [ScoreManager] Level started with 10 enemies
[23:20:53] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:20:53] [INFO] [CinemaEffects] Found player node: Player
[23:20:53] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:20:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[23:20:53] [ENEMY] [Enemy1] Registered as sound listener
[23:20:53] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[23:20:53] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:20:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[23:20:53] [ENEMY] [Enemy2] Registered as sound listener
[23:20:53] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[23:20:53] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:20:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[23:20:53] [ENEMY] [Enemy3] Registered as sound listener
[23:20:53] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[23:20:53] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:20:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[23:20:53] [ENEMY] [Enemy4] Registered as sound listener
[23:20:53] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[23:20:53] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:20:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[23:20:53] [ENEMY] [Enemy5] Registered as sound listener
[23:20:53] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[23:20:53] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:20:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[23:20:53] [ENEMY] [Enemy6] Registered as sound listener
[23:20:53] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[23:20:53] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:20:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[23:20:53] [ENEMY] [Enemy7] Registered as sound listener
[23:20:53] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[23:20:53] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:20:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[23:20:53] [ENEMY] [Enemy8] Registered as sound listener
[23:20:53] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[23:20:53] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:20:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[23:20:53] [ENEMY] [Enemy9] Registered as sound listener
[23:20:53] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[23:20:53] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:20:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[23:20:53] [ENEMY] [Enemy10] Registered as sound listener
[23:20:53] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:20:53] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:20:53] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:53] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:53] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:53] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:53] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:53] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:53] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:53] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:20:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:20:53] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:20:53] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:20:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:20:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:20:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:20:53] [INFO] [LastChance] Found player: Player
[23:20:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:20:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:20:53] [INFO] [LastChance] Connected to player Died signal (C#)
[23:20:53] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:20:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:20:55] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:20:55] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,836), corner_timer=0.30
[23:20:55] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,836), corner_timer=0.30
[23:20:55] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:20:55] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:20:55] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:20:55] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:20:55] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:20:55] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:20:55] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:20:55] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:20:55] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:20:55] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:20:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(448.5858, 771.5808), source=PLAYER (Player), range=600, listeners=20
[23:20:55] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[23:20:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:20:55] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(448.58582, 771.5808)
[23:20:55] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=-4,5, distance=20,5px, pos=(468.01242, 765.1163)
[23:20:55] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=14,4, distance=39,4px, pos=(486.67023, 761.348)
[23:20:55] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=-13,6, distance=11,4px, pos=(459.73447, 769.24023)
[23:20:55] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=8,0, distance=33,0px, pos=(480.7831, 764.3932)
[23:20:55] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=1,7, distance=26,7px, pos=(474.87463, 766.69855)
[23:20:55] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=14,6, distance=39,6px, pos=(487.71777, 765.7962)
[23:20:55] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=-3,9, distance=21,1px, pos=(469.55035, 769.1053)
[23:20:55] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=1,2, distance=26,2px, pos=(474.7097, 769.84296)
[23:20:55] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=-14,2, distance=10,8px, pos=(459.3921, 771.20013)
[23:20:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.5858, 771.5808), source=PLAYER (Shotgun), range=1469, listeners=10
[23:20:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:20:55] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=447), can_see=false
[23:20:55] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=227), can_see=false
[23:20:55] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=252), can_see=false
[23:20:55] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=374), can_see=false
[23:20:55] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1321), can_see=false
[23:20:55] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1535), can_see=false
[23:20:55] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1212), can_see=false
[23:20:55] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1602), can_see=false
[23:20:55] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1826), can_see=false
[23:20:55] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1110), can_see=false
[23:20:55] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:20:55] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:55] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[23:20:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:55] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[23:20:55] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:20:55] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:55] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[23:20:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:55] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[23:20:55] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:20:55] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:55] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[23:20:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:55] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[23:20:55] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[23:20:55] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:55] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[23:20:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:55] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:20:55] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[23:20:55] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:20:55] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:20:55] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:20:55] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:20:55] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:20:55] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:20:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(437,745), corner_timer=-0.01
[23:20:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:20:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.0°, player=(437,745), corner_timer=-0.01
[23:20:55] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[23:20:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(436,743), corner_timer=0.30
[23:20:55] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=52.8°, player=(436,743), corner_timer=0.30
[23:20:55] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:20:55] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:20:55] [INFO] [Shotgun.FIX#445] dragStartPos=(1226, 632), aimDir=(0,99, -0,12)
[23:20:55] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:55] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:55] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:56] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:56] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:56] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (740.6622, 754.6685) (added to group)
[23:20:56] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (768.5366, 798.5953) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (759.3898, 760.8152) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (758.6128, 773.2308) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (745.8181, 779.1014) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (759.5179, 756.9976) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (765.9113, 765.3048) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (787.2845, 738.3992) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (780.6638, 770.559) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (754.6502, 744.3328) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (783.2845, 749.7435) (added to group)
[23:20:56] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(36,9, -126,5), length=131,8, dotWithAim=52,3, aimDir=(0,99, -0,12), isPump=True
[23:20:56] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:20:56] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=407), can_see=false
[23:20:56] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=200), can_see=false
[23:20:56] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=444), can_see=false
[23:20:56] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1377), can_see=false
[23:20:56] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1596), can_see=false
[23:20:56] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1323), can_see=false
[23:20:56] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1672), can_see=false
[23:20:56] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1895), can_see=false
[23:20:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.2°, player=(382,748), corner_timer=-0.01
[23:20:56] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1162), can_see=false
[23:20:56] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (787.0852, 769.2491) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (791.3255, 764.1907) (added to group)
[23:20:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.3°, player=(379,751), corner_timer=0.30
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (807.8368, 768.0341) (added to group)
[23:20:56] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (802.8813, 774.3381) (added to group)
[23:20:56] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (815.4957, 755.5489) (added to group)
[23:20:56] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (771.4854, 786.4553) (added to group)
[23:20:56] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (830.5701, 784.3555) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (799.7359, 793.3561) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (850.2404, 814.2585) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (780.5334, 792.2813) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (828.182, 819.6135) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (799.1107, 769.9606) (added to group)
[23:20:56] [ENEMY] [Enemy3] Ragdoll activated
[23:20:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:20:56] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-0,7, -4,5), length=4,5, dotWithAim=-0,2, aimDir=(0,99, -0,12), isPump=False
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (810.116, 816.7358) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (798.7258, 773.8374) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (814.7955, 762.6819) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (867.9734, 824.0923) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (860.5062, 895.7076) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (882.5159, 772.4265) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (787.4746, 791.0074) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (793.743, 838.8429) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (821.9517, 808.9363) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (847.6671, 843.9421) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (861.4462, 882.5868) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (900.2761, 755.7775) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (846.894, 798.4875) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (839.7492, 835.345) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (893.3657, 853.053) (added to group)
[23:20:56] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-0,7, 5,9), length=6,0, dotWithAim=-1,4, aimDir=(0,99, -0,12), isPump=False
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (858.5795, 864.9532) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (839.1982, 855.8617) (added to group)
[23:20:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(295,785), corner_timer=-0.01
[23:20:56] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (911.396, 868.7338) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (842.907, 863.5145) (added to group)
[23:20:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.3°, player=(292,785), corner_timer=0.30
[23:20:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(290.1459, 786.0291), source=PLAYER (Player), range=600, listeners=9
[23:20:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (290.1459, 786.0291), intensity=0.01, distance=436
[23:20:56] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:20:56] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (290.1459, 786.0291), intensity=0.04, distance=260
[23:20:56] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:20:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[23:20:56] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(290.14594, 786.0291)
[23:20:56] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=2,7, distance=27,7px, pos=(316.91187, 778.7778)
[23:20:56] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=14,7, distance=39,7px, pos=(328.72006, 776.4812)
[23:20:56] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-11,2, distance=13,8px, pos=(303.69788, 783.3551)
[23:20:56] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=5,2, distance=30,2px, pos=(319.99103, 781.567)
[23:20:56] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=3,1, distance=28,1px, pos=(317.8916, 781.4298)
[23:20:56] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=0,6, distance=25,6px, pos=(315.5656, 783.36554)
[23:20:56] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-0,7, distance=24,3px, pos=(314.3166, 783.9793)
[23:20:56] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-9,0, distance=16,0px, pos=(306.12854, 785.00146)
[23:20:56] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=-9,0, distance=16,0px, pos=(306.17636, 785.96063)
[23:20:56] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-1,5, distance=23,5px, pos=(313.65015, 786.66534)
[23:20:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(290.1459, 786.0291), source=PLAYER (Shotgun), range=1469, listeners=9
[23:20:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (901.8156, 937.9355) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (840.0984, 850.8124) (added to group)
[23:20:56] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=91.3°, current=-33.8°, player=(290,786), corner_timer=0.00
[23:20:56] [ENEMY] [Enemy1] Pursuing vulnerability sound at (290.1459, 786.0291), distance=436
[23:20:56] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=115.0°, current=-157.5°, player=(290,786), corner_timer=0.00
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (260 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [ENEMY] [Enemy2] Pursuing vulnerability sound at (290.1459, 786.0291), distance=260
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (844.3007, 863.6767) (added to group)
[23:20:56] [INFO] [BloodDecal] Blood puddle created at (842.0311, 844.4695) (added to group)
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (259 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (258 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (256 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (255 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=425), can_see=false
[23:20:56] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=261), can_see=false
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (254 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=533), can_see=false
[23:20:56] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1487), can_see=false
[23:20:56] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1705), can_see=false
[23:20:56] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1423), can_see=false
[23:20:56] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1752), can_see=false
[23:20:56] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1975), can_see=false
[23:20:56] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1203), can_see=false
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (253 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-24,5, 16,3), length=29,4, dotWithAim=-26,4, aimDir=(0,99, -0,12), isPump=True
[23:20:56] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:56] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-26,4
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (252 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (251 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (250 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (250 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (249 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (248 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (248 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (247 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (247 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-19,7, 24,0), length=31,0, dotWithAim=-22,5, aimDir=(0,99, -0,12), isPump=True
[23:20:56] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:56] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-22,5
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.7°, player=(268,787), corner_timer=-0.01
[23:20:56] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=5.9°, player=(269,787), corner_timer=0.30
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (247 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (248 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-11,4, 24,9), length=27,4, dotWithAim=-14,4, aimDir=(0,99, -0,12), isPump=True
[23:20:57] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:57] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-14,4
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (248 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (247 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (247 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (245 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (244 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (248 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (252 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (255 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=357), can_see=false
[23:20:57] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=258), can_see=false
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (258 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=521), can_see=false
[23:20:57] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1475), can_see=false
[23:20:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1693), can_see=false
[23:20:57] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1410), can_see=false
[23:20:57] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1740), can_see=false
[23:20:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1963), can_see=false
[23:20:57] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1191), can_see=false
[23:20:57] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-13,9, -15,3), length=20,6, dotWithAim=-11,9, aimDir=(0,99, -0,12), isPump=True
[23:20:57] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:57] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-11,9
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (260 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (263 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (265 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (266 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (262 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (259 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (263 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (261 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (258 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (255 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(330,787), corner_timer=-0.01
[23:20:57] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (256 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.2°, player=(333,787), corner_timer=0.30
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (256 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (255 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (254 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(22,0, 382,4), length=383,1, dotWithAim=-25,5, aimDir=(0,99, -0,12), isPump=True
[23:20:57] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:57] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (252 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (251 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (249 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (248 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (247 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:20:57] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=155.6°, current=-154.6°, player=(360,787), corner_timer=0.00
[23:20:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:20:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.869), source=ENEMY (Enemy2), range=1469, listeners=9
[23:20:57] [ENEMY] [Enemy4] Heard gunshot at (524.0657, 713.869), source_type=1, intensity=0.02, distance=333
[23:20:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:20:57] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-165.7°, current=-67.5°, player=(360,787), corner_timer=0.00
[23:20:57] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:20:57] [INFO] [LastChance] Threat detected: Bullet
[23:20:57] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:20:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:57] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:20:57] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[23:20:57] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[23:20:57] [ENEMY] [Enemy3] Death animation completed
[23:20:57] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(0,0, 91,0), length=91,0, dotWithAim=-11,3, aimDir=(0,99, -0,12), isPump=False
[23:20:57] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:57] [INFO] [Player] Spawning blood effect at (365.8566, 787.7908), dir=(1, 0), lethal=False (C#)
[23:20:57] [INFO] [ImpactEffects] spawn_blood_effect called at (365.8566, 787.7908), dir=(1, 0), lethal=false
[23:20:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:57] [INFO] [ImpactEffects] Blood effect spawned at (365.8566, 787.7908) (scale=1)
[23:20:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[23:20:57] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[23:20:57] [ENEMY] [Enemy1] Pursuing vulnerability sound at (290.1459, 786.0291), distance=283
[23:20:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:20:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 725.6211), source=ENEMY (Enemy2), range=1469, listeners=9
[23:20:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:20:57] [INFO] [LastChance] Threat detected: Bullet
[23:20:57] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[23:20:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=232), can_see=false
[23:20:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=447), can_see=false
[23:20:57] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1403), can_see=false
[23:20:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1619), can_see=false
[23:20:57] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1335), can_see=false
[23:20:57] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1670), can_see=false
[23:20:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1893), can_see=false
[23:20:57] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1136), can_see=false
[23:20:57] [INFO] [Player] Spawning blood effect at (365.78543, 787.7908), dir=(1, 0), lethal=False (C#)
[23:20:57] [INFO] [ImpactEffects] spawn_blood_effect called at (365.7854, 787.7908), dir=(1, 0), lethal=false
[23:20:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:57] [INFO] [ImpactEffects] Blood effect spawned at (365.7854, 787.7908) (scale=1)
[23:20:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[23:20:57] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[23:20:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.0°, player=(364,787), corner_timer=-0.01
[23:20:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:20:57] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(0,0, 75,1), length=75,1, dotWithAim=-9,3, aimDir=(0,99, -0,12), isPump=False
[23:20:57] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:20:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(363,787), corner_timer=0.30
[23:20:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:20:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 725.6211), source=ENEMY (Enemy2), range=1469, listeners=9
[23:20:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:20:57] [INFO] [LastChance] Threat detected: Bullet
[23:20:57] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:20:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:20:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(356.7721, 787.7908), source=PLAYER (Player), range=600, listeners=9
[23:20:57] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (356.7721, 787.7908), intensity=0.05, distance=214
[23:20:57] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (356.7721, 787.7908), intensity=0.08, distance=178
[23:20:57] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (356.7721, 787.7908), intensity=0.01, distance=457
[23:20:57] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[23:20:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[23:20:57] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(356.77206, 787.7908)
[23:20:57] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=11,5, distance=36,5px, pos=(392.16223, 778.7387)
[23:20:57] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=13,1, distance=38,1px, pos=(394.0896, 780.04236)
[23:20:57] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-0,2, distance=24,8px, pos=(381.08627, 782.8507)
[23:20:57] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-14,4, distance=10,6px, pos=(367.2576, 786.07605)
[23:20:57] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-3,0, distance=22,0px, pos=(378.4375, 784.19965)
[23:20:57] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-0,3, distance=24,7px, pos=(381.31183, 785.3543)
[23:20:57] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-2,5, distance=22,5px, pos=(379.17258, 785.98145)
[23:20:57] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=13,3, distance=38,3px, pos=(394.99298, 785.9298)
[23:20:57] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=2,7, distance=27,7px, pos=(384.4754, 786.73083)
[23:20:57] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-0,3, distance=24,7px, pos=(381.51807, 787.3894)
[23:20:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.7721, 787.7908), source=PLAYER (Shotgun), range=1469, listeners=9
[23:20:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[23:20:57] [ENEMY] [Enemy4] Pursuing vulnerability sound at (356.7721, 787.7908), distance=457
[23:20:57] [INFO] [Player] Spawning blood effect at (352.06094, 787.7908), dir=(1, 0), lethal=False (C#)
[23:20:57] [INFO] [ImpactEffects] spawn_blood_effect called at (352.0609, 787.7908), dir=(1, 0), lethal=false
[23:20:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:57] [INFO] [ImpactEffects] Blood effect spawned at (352.0609, 787.7908) (scale=1)
[23:20:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:20:57] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:20:57] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:20:57] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:20:57] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:20:57] [INFO] [ImpactEffects] spawn_blood_effect called at (524.0657, 725.6211), dir=(1, 0), lethal=false
[23:20:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:20:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:20:57] [INFO] [ImpactEffects] Blood effect spawned at (524.0657, 725.6211) (scale=1)
[23:20:57] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-23,9, 78,4), length=81,9, dotWithAim=-33,5, aimDir=(0,99, -0,12), isPump=True
[23:20:57] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:57] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-33,5
[23:20:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:20:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 725.6211), source=ENEMY (Enemy2), range=1469, listeners=9
[23:20:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:20:58] [INFO] [LastChance] Threat detected: Bullet
[23:20:58] [INFO] [LastChance] Triggering last chance effect!
[23:20:58] [INFO] [LastChance] Starting last chance effect:
[23:20:58] [INFO] [LastChance]   - Time will be frozen (except player)
[23:20:58] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:20:58] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:20:58] [INFO] [LastChance]   - Brightness: 0.60
[23:20:58] [INFO] [LastChance] Pushed bullet Bullet from distance 129.1 to 200.0
[23:20:58] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[23:20:58] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:20:58] [INFO] [LastChance] Skipping player node: Player
[23:20:58] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:20:58] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2060
[23:20:58] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2061
[23:20:58] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2062
[23:20:58] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2064
[23:20:58] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2083
[23:20:58] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:20:58] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:20:58] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (455.2741, 787.6931) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (442.3377, 787.2672) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (422.7737, 807.1971) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (412.5552, 821.8967) (added to group)
[23:20:58] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-17,2, 86,8), length=88,5, dotWithAim=-27,9, aimDir=(0,99, -0,12), isPump=True
[23:20:58] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:58] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-27,9
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (451.9689, 817.2335) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (415.3419, 803.1777) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (426.0109, 782.2687) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (483.7102, 833.8862) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (420.1068, 796.1042) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (478.2363, 811.0619) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (467.4848, 761.1582) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (436.6416, 799.0815) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (435.8541, 793.4918) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (412.243, 775.5251) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (617.3276, 729.7531) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (611.3962, 757.1023) (added to group)
[23:20:58] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-9,0, 102,2), length=102,6, dotWithAim=-21,6, aimDir=(0,99, -0,12), isPump=True
[23:20:58] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:58] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-21,6
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (444.9124, 850.2791) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (416.7316, 788.1675) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (454.1105, 850.8243) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (495.2844, 806.4125) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (631.4496, 768.8793) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (633.168, 761.0644) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (462.3616, 855.5544) (added to group)
[23:20:58] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-22,7, -58,4), length=62,7, dotWithAim=-15,3, aimDir=(0,99, -0,12), isPump=True
[23:20:58] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:58] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-15,3
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (593.6522, 770.299) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (594.4255, 748.326) (added to group)
[23:20:58] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2110
[23:20:58] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2110
[23:20:58] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:20:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (478.1758, 863.8553) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (677.907, 841.3964) (added to group)
[23:20:58] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (673.7513, 808.9455) (added to group)
[23:20:58] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:20:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (552.9006, 794.6086) (added to group)
[23:20:58] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:20:58] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-41,4, 492,4), length=494,2, dotWithAim=-102,1, aimDir=(0,99, -0,12), isPump=False
[23:20:58] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (658.4227, 890.3058) (added to group)
[23:20:58] [INFO] [BloodDecal] Blood puddle created at (667.424, 907.0016) (added to group)
[23:20:58] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-41,4, 469,8), length=471,7, dotWithAim=-99,3, aimDir=(0,99, -0,12), isPump=False
[23:20:58] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:59] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(181.8363, 735.197), source=PLAYER (Player), range=600, listeners=9
[23:20:59] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (181.8363, 735.197), intensity=0.02, distance=321
[23:20:59] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (181.8363, 735.197), intensity=0.02, distance=342
[23:20:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[23:20:59] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(181.8363, 735.19696)
[23:20:59] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=-14,9, distance=10,1px, pos=(191.59007, 732.7356)
[23:20:59] [INFO] [LastChance] Freezing newly fired player bullet: ShotgunPellet
[23:20:59] [INFO] [LastChance] Registered frozen player bullet: ShotgunPellet
[23:20:59] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=13,4, distance=38,4px, pos=(219.56929, 728.2)
[23:20:59] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2117
[23:20:59] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2117
[23:20:59] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=-7,6, distance=17,4px, pos=(199.0375, 732.37463)
[23:20:59] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2118
[23:20:59] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2118
[23:20:59] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=-2,4, distance=22,6px, pos=(204.357, 732.90625)
[23:20:59] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2119
[23:20:59] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2119
[23:20:59] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=10,2, distance=35,2px, pos=(217.02097, 734.17206)
[23:20:59] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2120
[23:20:59] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2120
[23:20:59] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=3,0, distance=28,0px, pos=(209.8607, 735.6538)
[23:20:59] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2121
[23:20:59] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2121
[23:20:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(181.8363, 735.197), source=PLAYER (Shotgun), range=1469, listeners=9
[23:20:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[23:20:59] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-65,9, 442,7), length=447,5, dotWithAim=-120,2, aimDir=(0,99, -0,12), isPump=True
[23:20:59] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:59] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-120,2
[23:20:59] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-63,2, 424,9), length=429,5, dotWithAim=-115,3, aimDir=(0,99, -0,12), isPump=True
[23:20:59] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:59] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-115,3
[23:20:59] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-54,9, 421,4), length=425,0, dotWithAim=-106,7, aimDir=(0,99, -0,12), isPump=True
[23:20:59] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:59] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-106,7
[23:20:59] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[23:20:59] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-96,8, -296,4), length=311,8, dotWithAim=-59,3, aimDir=(0,99, -0,12), isPump=True
[23:20:59] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:59] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-59,3
[23:20:59] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-165,0, 423,6), length=454,6, dotWithAim=-216,2, aimDir=(0,99, -0,12), isPump=True
[23:20:59] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:59] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-216,2
[23:20:59] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-166,3, 418,8), length=450,7, dotWithAim=-216,9, aimDir=(0,99, -0,12), isPump=True
[23:20:59] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:20:59] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-216,9
[23:21:00] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-157,0, -27,0), length=159,3, dotWithAim=-152,4, aimDir=(0,99, -0,12), isPump=True
[23:21:00] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:00] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-152,4
[23:21:00] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-99,5, -336,2), length=350,6, dotWithAim=-57,1, aimDir=(0,99, -0,12), isPump=True
[23:21:00] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:00] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-57,1
[23:21:00] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2122
[23:21:00] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2122
[23:21:00] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:00] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:00] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:00] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:00] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:00] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:00] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:00] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:00] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-137,6, 31,9), length=141,3, dotWithAim=-140,5, aimDir=(0,99, -0,12), isPump=False
[23:21:00] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:00] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-372,8, 712,1), length=803,8, dotWithAim=-458,1, aimDir=(0,99, -0,12), isPump=False
[23:21:00] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-428,2, 701,4), length=821,8, dotWithAim=-511,8, aimDir=(0,99, -0,12), isPump=False
[23:21:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:01] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.07458, 667.4938), source=PLAYER (Player), range=600, listeners=9
[23:21:01] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.07458, 667.4938), intensity=0.02, distance=407
[23:21:01] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (80.07458, 667.4938), intensity=0.01, distance=448
[23:21:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[23:21:01] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(80.074585, 667.4938)
[23:21:01] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=5,2, distance=30,2px, pos=(109.213, 659.5632)
[23:21:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2123
[23:21:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2123
[23:21:01] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=1,1, distance=26,1px, pos=(105.67773, 662.4703)
[23:21:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2124
[23:21:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2124
[23:21:01] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=11,5, distance=36,5px, pos=(116.17854, 662.2277)
[23:21:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2125
[23:21:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2125
[23:21:01] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=-8,1, distance=16,9px, pos=(96.83889, 665.09)
[23:21:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2126
[23:21:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2126
[23:21:01] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=7,7, distance=32,7px, pos=(112.60212, 664.317)
[23:21:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2127
[23:21:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2127
[23:21:01] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-8,2, distance=16,8px, pos=(96.88521, 667.2274)
[23:21:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2128
[23:21:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2128
[23:21:01] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=7,7, distance=32,7px, pos=(112.74106, 668.4831)
[23:21:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2129
[23:21:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2129
[23:21:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07458, 667.4938), source=PLAYER (Shotgun), range=1469, listeners=9
[23:21:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[23:21:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-452,9, 697,9), length=832,0, dotWithAim=-535,8, aimDir=(0,99, -0,12), isPump=True
[23:21:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:01] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-535,8
[23:21:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-458,7, 696,5), length=834,0, dotWithAim=-541,4, aimDir=(0,99, -0,12), isPump=True
[23:21:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:01] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-541,4
[23:21:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-448,4, 690,7), length=823,5, dotWithAim=-530,5, aimDir=(0,99, -0,12), isPump=True
[23:21:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:01] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-530,5
[23:21:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-301,3, -38,0), length=303,7, dotWithAim=-294,3, aimDir=(0,99, -0,12), isPump=True
[23:21:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:01] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-294,3
[23:21:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-211,8, 14,7), length=212,3, dotWithAim=-212,0, aimDir=(0,99, -0,12), isPump=True
[23:21:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:01] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-212,0
[23:21:02] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-324,0, 615,1), length=695,2, dotWithAim=-397,7, aimDir=(0,99, -0,12), isPump=True
[23:21:02] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:02] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-397,7
[23:21:02] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-322,7, 542,6), length=631,3, dotWithAim=-387,4, aimDir=(0,99, -0,12), isPump=True
[23:21:02] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:02] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-387,4
[23:21:02] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-176,4, -184,7), length=255,4, dotWithAim=-152,1, aimDir=(0,99, -0,12), isPump=True
[23:21:02] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:02] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-152,1
[23:21:02] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-60,1, -121,5), length=135,6, dotWithAim=-44,6, aimDir=(0,99, -0,12), isPump=True
[23:21:02] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:02] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-44,6
[23:21:02] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-213,1, 511,5), length=554,1, dotWithAim=-274,8, aimDir=(0,99, -0,12), isPump=True
[23:21:02] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:02] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-274,8
[23:21:02] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-322,7, 508,7), length=602,4, dotWithAim=-383,2, aimDir=(0,99, -0,12), isPump=True
[23:21:02] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:02] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-383,2
[23:21:03] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-322,7, 507,5), length=601,4, dotWithAim=-383,0, aimDir=(0,99, -0,12), isPump=True
[23:21:03] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:03] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-383,0
[23:21:03] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-359,4, -212,4), length=417,5, dotWithAim=-330,3, aimDir=(0,99, -0,12), isPump=True
[23:21:03] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:03] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-330,3
[23:21:03] [INFO] [Shotgun.FIX#243] RMB released after 168 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:03] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-173,0, -212,6), length=274,1, dotWithAim=-145,4, ActionState=NeedsPumpUp, minDist=20
[23:21:03] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:03] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:03] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:03] [INFO] [Shotgun.FIX#445] dragStartPos=(1050, 840), aimDir=(0,94, 0,35)
[23:21:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:03] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:03] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(84,2, -721,4), length=726,3, dotWithAim=-171,7, aimDir=(0,94, 0,35), isPump=True
[23:21:03] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:03] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-171,7
[23:21:04] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[23:21:04] [INFO] [LastChance] Ending last chance effect
[23:21:04] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[23:21:04] [ENEMY] [Enemy1] Search mode: PURSUING -> SEARCHING at (349.3854, 787.7908)
[23:21:04] [ENEMY] [Enemy1] SEARCHING started: center=(349.3854, 787.7908), radius=100, waypoints=5
[23:21:04] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[23:21:04] [ENEMY] [Enemy2] Search mode: COMBAT -> SEARCHING at (341.1812, 789.0583)
[23:21:04] [ENEMY] [Enemy2] SEARCHING started: center=(341.1812, 789.0583), radius=100, waypoints=5
[23:21:04] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[23:21:04] [ENEMY] [Enemy4] Search mode: PURSUING -> SEARCHING at (524.0657, 713.869)
[23:21:04] [ENEMY] [Enemy4] SEARCHING started: center=(524.0657, 713.869), radius=100, waypoints=5
[23:21:04] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:21:04] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:21:04] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:21:04] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:21:04] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:21:04] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[23:21:04] [INFO] [LastChance] Reset memory for 9 enemies (player teleport effect)
[23:21:04] [INFO] [LastChance] All process modes restored
[23:21:04] [INFO] [LastChance] Unfroze player bullet: ShotgunPellet
[23:21:04] [INFO] [LastChance] Unfroze player bullet: @Area2D@2117
[23:21:04] [INFO] [LastChance] Unfroze player bullet: @Area2D@2118
[23:21:04] [INFO] [LastChance] Unfroze player bullet: @Area2D@2119
[23:21:04] [INFO] [LastChance] Unfroze player bullet: @Area2D@2120
[23:21:04] [INFO] [LastChance] Unfroze player bullet: @Area2D@2121
[23:21:04] [INFO] [LastChance] Unfroze player bullet: @Area2D@2123
[23:21:04] [INFO] [LastChance] Unfroze player bullet: @Area2D@2124
[23:21:04] [INFO] [LastChance] Unfroze player bullet: @Area2D@2125
[23:21:04] [INFO] [LastChance] Unfroze player bullet: @Area2D@2126
[23:21:04] [INFO] [LastChance] Unfroze player bullet: @Area2D@2127
[23:21:04] [INFO] [LastChance] Unfroze player bullet: @Area2D@2128
[23:21:04] [INFO] [LastChance] Unfroze player bullet: @Area2D@2129
[23:21:04] [INFO] [LastChance] Unfroze bullet casing: Casing
[23:21:04] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2060
[23:21:04] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2061
[23:21:04] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2062
[23:21:04] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2064
[23:21:04] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2083
[23:21:04] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2110
[23:21:04] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2122
[23:21:04] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:21:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=443), can_see=false
[23:21:04] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=-148.2°, current=160.9°, player=(80,450), corner_timer=0.00
[23:21:04] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=522), can_see=false
[23:21:04] [ENEMY] [Enemy2] SEARCHING corner check: angle 0.4°
[23:21:04] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=825), can_see=false
[23:21:04] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1623), can_see=false
[23:21:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1870), can_see=false
[23:21:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1644), can_see=false
[23:21:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2076), can_see=false
[23:21:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2300), can_see=false
[23:21:04] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1578), can_see=false
[23:21:04] [ENEMY] [Enemy1] SEARCHING corner check: angle -49.3°
[23:21:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(77,5, -685,7), length=690,1, dotWithAim=-165,5, aimDir=(0,94, 0,35), isPump=True
[23:21:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:04] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-165,5
[23:21:04] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-129.6°, player=(80,424), corner_timer=-0.01
[23:21:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[23:21:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-132.5°, player=(80,419), corner_timer=0.30
[23:21:04] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:21:04] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:04] [INFO] [ImpactEffects] spawn_blood_effect called at (499.3556, 743.0566), dir=(1, 0), lethal=false
[23:21:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:04] [INFO] [ImpactEffects] Blood effect spawned at (499.3556, 743.0566) (scale=1)
[23:21:04] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:21:04] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:04] [INFO] [ImpactEffects] spawn_blood_effect called at (499.3556, 743.0566), dir=(1, 0), lethal=false
[23:21:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:04] [INFO] [ImpactEffects] Blood effect spawned at (499.3556, 743.0566) (scale=1)
[23:21:04] [INFO] [EnemyGrenade] Throw path blocked to (80.07582, 413.6048)
[23:21:04] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/4 -> 0/4
[23:21:04] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:04] [INFO] [ImpactEffects] spawn_blood_effect called at (494.4265, 744.4901), dir=(1, 0), lethal=true
[23:21:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:04] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:04] [INFO] [ImpactEffects] Blood effect spawned at (494.4265, 744.4901) (scale=1.5)
[23:21:04] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[23:21:04] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:21:04] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[23:21:04] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[23:21:04] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:04] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[23:21:04] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:21:04] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:04] [INFO] [ImpactEffects] spawn_blood_effect called at (522.2881, 662.5266), dir=(1, 0), lethal=false
[23:21:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:04] [INFO] [ImpactEffects] Blood effect spawned at (522.2881, 662.5266) (scale=1)
[23:21:04] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:21:04] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:04] [INFO] [ImpactEffects] spawn_blood_effect called at (522.2881, 662.5266), dir=(1, 0), lethal=false
[23:21:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:04] [INFO] [ImpactEffects] Blood effect spawned at (522.2881, 662.5266) (scale=1)
[23:21:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(462.755, 755.1439), shooter_id=496605595959, bullet_pos=(58.61725, 899.926)
[23:21:04] [INFO] [Bullet] Using shooter_position, distance=429.289154052734
[23:21:04] [INFO] [Bullet] Distance to wall: 429.289154052734 (29.2310878925981% of viewport)
[23:21:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:04] [INFO] [Bullet] Starting wall penetration at (58.61725, 899.926)
[23:21:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10.1602668762207
[23:21:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(38,1, -470,2), length=471,8, dotWithAim=-127,6, aimDir=(0,94, 0,35), isPump=True
[23:21:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:04] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-127,6
[23:21:04] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:04] [INFO] [Bullet] Exiting penetration at (22.40081, 912.4884) after traveling 33.3333358764648 pixels through wall
[23:21:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:04] [ENEMY] [Enemy4] SEARCHING corner check: angle 177.3°
[23:21:04] [INFO] [LastChance] Visual effects fade-out complete
[23:21:04] [INFO] [LastChance] Restored original colors to 5 player sprites
[23:21:04] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[23:21:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-254,5, -84,8), length=268,3, dotWithAim=-268,1, aimDir=(0,94, 0,35), isPump=True
[23:21:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:04] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-268,1
[23:21:04] [ENEMY] [Enemy1] SEARCHING corner check: angle 0.2°
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (563.8315, 735.2445) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (551.8872, 771.6244) (added to group)
[23:21:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.9°, current=175.8°, player=(80,320), corner_timer=-0.00
[23:21:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (588.3985, 785.3809) (added to group)
[23:21:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=178.1°, player=(80,315), corner_timer=0.30
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (564.6067, 695.6332) (added to group)
[23:21:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=606), can_see=false
[23:21:04] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=805), can_see=false
[23:21:04] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1619), can_see=false
[23:21:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1874), can_see=false
[23:21:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1641), can_see=false
[23:21:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2148), can_see=false
[23:21:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2371), can_see=false
[23:21:04] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1685), can_see=false
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (572.0287, 746.6356) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (583.8188, 674.0748) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (575.7079, 778.3491) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (563.4667, 770.8088) (added to group)
[23:21:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-539,1, -102,8), length=548,8, dotWithAim=-541,3, aimDir=(0,94, 0,35), isPump=True
[23:21:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:04] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-541,3
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (569.283, 801.3713) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (614.6096, 637.346) (added to group)
[23:21:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (561.3297, 807.0781) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (592.7316, 695.3432) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (595.5292, 768.0427) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (561.1163, 784.5393) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (601.4236, 815.4111) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (566.8417, 772.5969) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (584.8399, 734.282) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (614.1909, 754.7517) (added to group)
[23:21:04] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (588.7016, 690.7692) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (623.7858, 764.5815) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (626.6542, 653.9372) (added to group)
[23:21:04] [ENEMY] [Enemy4] SEARCHING corner check: angle -74.2°
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (643.7498, 827.6045) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (638.1307, 738.0805) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (623.6025, 703.7115) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (593.7641, 665.5859) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (621.2166, 727.3638) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (644.8175, 810.3359) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (614.2155, 789.0032) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (613.2074, 752.4359) (added to group)
[23:21:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-539,1, -121,9), length=552,7, dotWithAim=-547,9, aimDir=(0,94, 0,35), isPump=True
[23:21:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:04] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-547,9
[23:21:04] [ENEMY] [Enemy2] Ragdoll activated
[23:21:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (577.0647, 819.8914) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (595.7245, 683.3106) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (645.3253, 745.7162) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (605.7748, 761.0197) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (660.5198, 656.7632) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (636.0468, 772.5217) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (670.8967, 865.4351) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (599.5836, 718.9377) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (584.7047, 801.1038) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (675.6672, 741.7325) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (628.0214, 830.0431) (added to group)
[23:21:04] [ENEMY] [Enemy1] SEARCHING corner check: angle 72.3°
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (641.8423, 834.4169) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (593.4504, 802.0496) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (643.9622, 747.8206) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (638.423, 755.1859) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (643.4511, 791.6933) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (665.0213, 897.0407) (added to group)
[23:21:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=125.2°, player=(131,235), corner_timer=-0.01
[23:21:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (695.2819, 779.0154) (added to group)
[23:21:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(134,232), corner_timer=0.30
[23:21:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-539,1, -126,4), length=553,7, dotWithAim=-549,5, aimDir=(0,94, 0,35), isPump=True
[23:21:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:04] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-549,5
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (599.7498, 813.2402) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (661.8061, 723.6279) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (640.3404, 810.2362) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (609.0015, 794.9033) (added to group)
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (673.1901, 776.1548) (added to group)
[23:21:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:04] [INFO] [BloodDecal] Blood puddle created at (700.7927, 782.7356) (added to group)
[23:21:05] [INFO] [BloodDecal] Blood puddle created at (723.9177, 927.3442) (added to group)
[23:21:05] [INFO] [BloodDecal] Blood puddle created at (627.9976, 866.0139) (added to group)
[23:21:05] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=613), can_see=false
[23:21:05] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=700), can_see=false
[23:21:05] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1544), can_see=false
[23:21:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1804), can_see=false
[23:21:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1606), can_see=false
[23:21:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2137), can_see=false
[23:21:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2358), can_see=false
[23:21:05] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1716), can_see=false
[23:21:05] [INFO] [BloodDecal] Blood puddle created at (751.7904, 741.0028) (added to group)
[23:21:05] [ENEMY] [Enemy4] SEARCHING corner check: angle 105.8°
[23:21:05] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-541,1, -130,7), length=556,7, dotWithAim=-552,8, aimDir=(0,94, 0,35), isPump=True
[23:21:05] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:05] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-552,8
[23:21:05] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-368,1, -839,1), length=916,3, dotWithAim=-636,7, aimDir=(0,94, 0,35), isPump=True
[23:21:05] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:05] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-636,7
[23:21:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.6°, player=(198,163), corner_timer=-0.01
[23:21:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[23:21:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(199,160), corner_timer=0.30
[23:21:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:05] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(229,8, -839,7), length=870,6, dotWithAim=-76,2, aimDir=(0,94, 0,35), isPump=True
[23:21:05] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:05] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-76,2
[23:21:05] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=662), can_see=false
[23:21:05] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=648), can_see=false
[23:21:05] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1502), can_see=false
[23:21:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1765), can_see=false
[23:21:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1590), can_see=false
[23:21:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2134), can_see=false
[23:21:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2354), can_see=false
[23:21:05] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1738), can_see=false
[23:21:05] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(40,1, -361,1), length=363,3, dotWithAim=-87,9, aimDir=(0,94, 0,35), isPump=True
[23:21:05] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:05] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-87,9
[23:21:05] [INFO] [Shotgun.FIX#243] RMB released after 111 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:05] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(35,4, -309,7), length=311,7, dotWithAim=-74,4, ActionState=NeedsPumpUp, minDist=20
[23:21:05] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.5°, player=(211,144), corner_timer=-0.01
[23:21:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(211,144), corner_timer=0.30
[23:21:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:05] [ENEMY] [Enemy2] Death animation completed
[23:21:06] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(221.5359, 144.5639), source=PLAYER (Player), range=600, listeners=8
[23:21:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=0, below_threshold=0
[23:21:06] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=673), can_see=false
[23:21:06] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=623), can_see=false
[23:21:06] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1483), can_see=false
[23:21:06] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1746), can_see=false
[23:21:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(231,144), corner_timer=-0.01
[23:21:06] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1573), can_see=false
[23:21:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[23:21:06] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2119), can_see=false
[23:21:06] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2338), can_see=false
[23:21:06] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1728), can_see=false
[23:21:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(234,144), corner_timer=0.30
[23:21:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(257,144), corner_timer=-0.01
[23:21:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[23:21:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(257,144), corner_timer=0.30
[23:21:06] [ENEMY] [Enemy1] SEARCHING corner check: angle 54.6°
[23:21:06] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:06] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:06] [INFO] [Shotgun.FIX#445] dragStartPos=(1118, 688), aimDir=(0,85, 0,53)
[23:21:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:06] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=659), can_see=false
[23:21:06] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=595), can_see=false
[23:21:06] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1457), can_see=false
[23:21:06] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1719), can_see=false
[23:21:06] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1549), can_see=false
[23:21:06] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2098), can_see=false
[23:21:06] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2317), can_see=false
[23:21:06] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1713), can_see=false
[23:21:06] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:06] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(161,7, -687,9), length=706,7, dotWithAim=-230,7, aimDir=(0,85, 0,53), isPump=True
[23:21:06] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:06] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-230,7
[23:21:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(257,144), corner_timer=-0.01
[23:21:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[23:21:06] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(57,5, -350,0), length=354,7, dotWithAim=-138,3, aimDir=(0,85, 0,53), isPump=True
[23:21:06] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:06] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-138,3
[23:21:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(257,144), corner_timer=0.30
[23:21:06] [ENEMY] [Enemy1] SEARCHING corner check: angle 54.6°
[23:21:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-470,3, 31,4), length=471,4, dotWithAim=-380,9, aimDir=(0,85, 0,53), isPump=True
[23:21:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:07] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-380,9
[23:21:07] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=600), can_see=false
[23:21:07] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=548), can_see=false
[23:21:07] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1457), can_see=false
[23:21:07] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1719), can_see=false
[23:21:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1549), can_see=false
[23:21:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2098), can_see=false
[23:21:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2317), can_see=false
[23:21:07] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1713), can_see=false
[23:21:07] [INFO] [BloodyFeet:Enemy1] Blood ran out - no more footprints
[23:21:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-484,3, -41,4), length=486,1, dotWithAim=-431,6, aimDir=(0,85, 0,53), isPump=True
[23:21:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:07] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-431,6
[23:21:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(257,144), corner_timer=-0.01
[23:21:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[23:21:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(257,144), corner_timer=0.30
[23:21:07] [ENEMY] [Enemy1] SEARCHING corner check: angle 89.6°
[23:21:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-298,0, -687,9), length=749,7, dotWithAim=-619,3, aimDir=(0,85, 0,53), isPump=True
[23:21:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:07] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-619,3
[23:21:07] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(161,7, -687,9), length=706,7, dotWithAim=-230,7, aimDir=(0,85, 0,53), isPump=True
[23:21:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:07] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-230,7
[23:21:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(257,144), corner_timer=-0.02
[23:21:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[23:21:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(257,144), corner_timer=0.30
[23:21:07] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=694), can_see=false
[23:21:07] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=548), can_see=false
[23:21:07] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1457), can_see=false
[23:21:07] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1719), can_see=false
[23:21:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1549), can_see=false
[23:21:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2098), can_see=false
[23:21:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2317), can_see=false
[23:21:07] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1713), can_see=false
[23:21:07] [ENEMY] [Enemy1] SEARCHING corner check: angle -179.0°
[23:21:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-170,4, 31,4), length=173,2, dotWithAim=-127,3, aimDir=(0,85, 0,53), isPump=True
[23:21:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:07] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-127,3
[23:21:07] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[23:21:07] [ENEMY] [Enemy4] SEARCHING corner check: angle -78.8°
[23:21:07] [INFO] [Shotgun.FIX#243] RMB released after 78 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:07] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-997,4, 31,4), length=997,9, dotWithAim=-826,5, ActionState=NeedsPumpUp, minDist=20
[23:21:07] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(257,144), corner_timer=-0.02
[23:21:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(257,144), corner_timer=0.30
[23:21:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=781), can_see=false
[23:21:08] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=596), can_see=false
[23:21:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1445), can_see=false
[23:21:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1708), can_see=false
[23:21:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1539), can_see=false
[23:21:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2088), can_see=false
[23:21:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2307), can_see=false
[23:21:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1707), can_see=false
[23:21:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(297,144), corner_timer=-0.02
[23:21:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(303,144), corner_timer=0.30
[23:21:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(397,144), corner_timer=-0.02
[23:21:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(400,144), corner_timer=0.30
[23:21:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=846), can_see=false
[23:21:08] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=578), can_see=false
[23:21:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1308), can_see=false
[23:21:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1572), can_see=false
[23:21:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1420), can_see=false
[23:21:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1982), can_see=false
[23:21:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2199), can_see=false
[23:21:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1639), can_see=false
[23:21:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:08] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:08] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:08] [INFO] [Shotgun.FIX#445] dragStartPos=(399, 709), aimDir=(-0,03, 1,00)
[23:21:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(415,144), corner_timer=-0.02
[23:21:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:08] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(415,144), corner_timer=0.30
[23:21:08] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:09] [ENEMY] [Enemy1] SEARCHING corner check: angle 133.0°
[23:21:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:09] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(369,4, -709,3), length=799,8, dotWithAim=-719,5, aimDir=(-0,03, 1,00), isPump=True
[23:21:09] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:09] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-719,5
[23:21:09] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=767), can_see=false
[23:21:09] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=622), can_see=false
[23:21:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1301), can_see=false
[23:21:09] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1565), can_see=false
[23:21:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1414), can_see=false
[23:21:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1977), can_see=false
[23:21:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2194), can_see=false
[23:21:09] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1636), can_see=false
[23:21:09] [ENEMY] [Enemy4] SEARCHING corner check: angle 48.6°
[23:21:09] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(734,2, -472,9), length=873,3, dotWithAim=-493,5, aimDir=(-0,03, 1,00), isPump=True
[23:21:09] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:09] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-493,5
[23:21:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(415,144), corner_timer=-0.02
[23:21:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(415,144), corner_timer=0.30
[23:21:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:09] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:09] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:09] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:09] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:09] [INFO] [BloodyFeet:Enemy1] Blood ran out - no more footprints
[23:21:09] [ENEMY] [Enemy4] SEARCHING corner check: angle -131.4°
[23:21:09] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-13,4, 0,0), length=13,4, dotWithAim=0,4, aimDir=(-0,03, 1,00), isPump=True
[23:21:09] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:09] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-14,0, 0,0), length=14,0, dotWithAim=0,4, ActionState=NeedsPumpDown, minDist=20
[23:21:09] [INFO] [Shotgun.FIX#445v3] Drag too short: 14,0 < 20
[23:21:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(415,144), corner_timer=-0.02
[23:21:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(415,144), corner_timer=0.30
[23:21:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:09] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=711), can_see=false
[23:21:09] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=671), can_see=false
[23:21:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1304), can_see=false
[23:21:09] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1568), can_see=false
[23:21:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1417), can_see=false
[23:21:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1979), can_see=false
[23:21:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2196), can_see=false
[23:21:09] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1638), can_see=false
[23:21:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(359,144), corner_timer=-0.02
[23:21:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:09] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-108.0°, current=-106.3°, player=(353,144), corner_timer=0.27
[23:21:09] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:21:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.5899, 813.9781), source=ENEMY (Enemy4), range=1469, listeners=8
[23:21:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[23:21:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(353,144), corner_timer=0.30
[23:21:09] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=706)
[23:21:09] [ENEMY] [Enemy4] State: SEARCHING -> PURSUING
[23:21:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:10] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:21:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.6648, 815.6757), source=ENEMY (Enemy4), range=1469, listeners=8
[23:21:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[23:21:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:10] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:21:10] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:21:10] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:21:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:21:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:21:10] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:21:10] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:10] [ENEMY] [Enemy1] Death animation component initialized
[23:21:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:10] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:21:10] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:21:10] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:21:10] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:10] [ENEMY] [Enemy2] Death animation component initialized
[23:21:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:10] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:21:10] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:21:10] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:21:10] [ENEMY] [Enemy3] Death animation component initialized
[23:21:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:10] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:21:10] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:21:10] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:21:10] [ENEMY] [Enemy4] Death animation component initialized
[23:21:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:10] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:21:10] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:21:10] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:21:10] [ENEMY] [Enemy5] Death animation component initialized
[23:21:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:10] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:21:10] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:21:10] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:21:10] [ENEMY] [Enemy6] Death animation component initialized
[23:21:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:10] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:21:10] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:21:10] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:21:10] [ENEMY] [Enemy7] Death animation component initialized
[23:21:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:10] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:21:10] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:21:10] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:21:10] [ENEMY] [Enemy8] Death animation component initialized
[23:21:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:10] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:21:10] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:21:10] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:21:10] [ENEMY] [Enemy9] Death animation component initialized
[23:21:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:10] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:21:10] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:21:10] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:21:10] [ENEMY] [Enemy10] Death animation component initialized
[23:21:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:10] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:21:10] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:21:10] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:21:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:21:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:21:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:21:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:21:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:21:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:21:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:21:10] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:21:10] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[23:21:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:21:10] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:21:10] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:21:10] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:21:10] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:21:10] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:21:10] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:21:10] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:21:10] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:21:10] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:21:10] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:21:10] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:21:10] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:21:10] [INFO] [ScoreManager] Level started with 10 enemies
[23:21:10] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:21:10] [INFO] [CinemaEffects] Found player node: Player
[23:21:10] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:21:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[23:21:10] [ENEMY] [Enemy1] Registered as sound listener
[23:21:10] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[23:21:10] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:21:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[23:21:10] [ENEMY] [Enemy2] Registered as sound listener
[23:21:10] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[23:21:10] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:21:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[23:21:10] [ENEMY] [Enemy3] Registered as sound listener
[23:21:10] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[23:21:10] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:21:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[23:21:10] [ENEMY] [Enemy4] Registered as sound listener
[23:21:10] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[23:21:10] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:21:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[23:21:10] [ENEMY] [Enemy5] Registered as sound listener
[23:21:10] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[23:21:10] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:21:10] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[23:21:10] [ENEMY] [Enemy6] Registered as sound listener
[23:21:10] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[23:21:10] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:21:10] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[23:21:10] [ENEMY] [Enemy7] Registered as sound listener
[23:21:10] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[23:21:10] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:21:10] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[23:21:10] [ENEMY] [Enemy8] Registered as sound listener
[23:21:10] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[23:21:10] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:21:10] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[23:21:10] [ENEMY] [Enemy9] Registered as sound listener
[23:21:10] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[23:21:10] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:21:10] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[23:21:10] [ENEMY] [Enemy10] Registered as sound listener
[23:21:10] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:21:10] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:21:10] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:10] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:10] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:10] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:10] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:10] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:10] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:10] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:10] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:21:10] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:21:10] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:21:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:21:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:21:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:21:10] [INFO] [LastChance] Found player: Player
[23:21:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:21:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:21:10] [INFO] [LastChance] Connected to player Died signal (C#)
[23:21:10] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:21:11] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:21:11] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:21:11] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,973), corner_timer=0.30
[23:21:11] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,973), corner_timer=0.30
[23:21:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,869), corner_timer=-0.02
[23:21:12] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:21:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,869), corner_timer=-0.02
[23:21:12] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[23:21:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,863), corner_timer=0.30
[23:21:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,863), corner_timer=0.30
[23:21:12] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:21:12] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:21:12] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:21:12] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:21:12] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:21:12] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:21:12] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:21:12] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:21:12] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:21:12] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:21:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(438.4042, 784.6656), source=PLAYER (Player), range=600, listeners=18
[23:21:12] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[23:21:12] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (438.4042, 784.6656), intensity=0.01, distance=456
[23:21:12] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:12] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (438.4042, 784.6656), intensity=0.04, distance=238
[23:21:12] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:12] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (438.4042, 784.6656), intensity=0.04, distance=264
[23:21:12] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:12] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (438.4042, 784.6656), intensity=0.02, distance=380
[23:21:12] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:12] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:21:12] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(438.40417, 784.6656)
[23:21:12] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=3,9, distance=28,9px, pos=(466.84048, 779.41284)
[23:21:12] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=-7,8, distance=17,2px, pos=(455.4278, 782.54114)
[23:21:12] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=11,5, distance=36,5px, pos=(474.73166, 780.7144)
[23:21:12] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=8,7, distance=33,7px, pos=(472.04803, 782.9524)
[23:21:12] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=-10,8, distance=14,2px, pos=(452.6418, 784.11523)
[23:21:12] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-2,0, distance=23,0px, pos=(461.3777, 785.7636)
[23:21:12] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=7,2, distance=32,2px, pos=(470.51617, 786.4045)
[23:21:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.4042, 784.6656), source=PLAYER (Shotgun), range=1469, listeners=10
[23:21:12] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:21:12] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=72.3°, current=168.8°, player=(438,784), corner_timer=0.00
[23:21:12] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=456), can_see=false
[23:21:12] [INFO] [EnemyGrenade] Throw path blocked to (438.4042, 784.6656)
[23:21:12] [ENEMY] [Enemy1] Pursuing vulnerability sound at (438.4042, 784.6656), distance=456
[23:21:12] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=80.7°, current=45.0°, player=(438,784), corner_timer=0.00
[23:21:12] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=238), can_see=false
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (238 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [ENEMY] [Enemy2] Pursuing vulnerability sound at (438.4042, 784.6656), distance=238
[23:21:12] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=172.5°, current=-33.8°, player=(438,784), corner_timer=0.00
[23:21:12] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=264), can_see=false
[23:21:12] [ENEMY] [Enemy3] Pursuing vulnerability sound at (438.4042, 784.6656), distance=264
[23:21:12] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-162.3°, current=-67.5°, player=(438,784), corner_timer=0.00
[23:21:12] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=380), can_see=false
[23:21:12] [ENEMY] [Enemy4] Pursuing vulnerability sound at (438.4042, 784.6656), distance=380
[23:21:12] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1334), can_see=false
[23:21:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1548), can_see=false
[23:21:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1265), can_see=false
[23:21:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1606), can_see=false
[23:21:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1829), can_see=false
[23:21:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1099), can_see=false
[23:21:12] [INFO] [EnemyGrenade] Throw path blocked to (438.4042, 784.6656)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (234 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.2°, current=136.8°, player=(435,781), corner_timer=0.00
[23:21:12] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[23:21:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.7022, 750.6149), source=ENEMY (Enemy3), range=1469, listeners=10
[23:21:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[23:21:12] [INFO] [EnemyGrenade] Throw path blocked to (438.4042, 784.6656)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (229 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Throw path blocked to (438.4042, 784.6656)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (225 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(430,775), corner_timer=-0.02
[23:21:12] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[23:21:12] [INFO] [LastChance] Threat detected: Bullet
[23:21:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:12] [INFO] [EnemyGrenade] Throw path blocked to (438.4042, 784.6656)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (221 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(427,772), corner_timer=0.30
[23:21:12] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/3 -> 2/3
[23:21:12] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:12] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4751, 752.7244), dir=(1, 0), lethal=false
[23:21:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:12] [INFO] [ImpactEffects] Blood effect spawned at (673.4751, 752.7244) (scale=1)
[23:21:12] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/3 -> 1/3
[23:21:12] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:12] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4751, 752.7244), dir=(1, 0), lethal=false
[23:21:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:12] [INFO] [ImpactEffects] Blood effect spawned at (673.4751, 752.7244) (scale=1)
[23:21:12] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/3 -> 0/3
[23:21:12] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:12] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4751, 752.7244), dir=(1, 0), lethal=true
[23:21:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:12] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:12] [INFO] [ImpactEffects] Blood effect spawned at (673.4751, 752.7244) (scale=1.5)
[23:21:12] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:21:12] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:21:12] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (673.4751, 752.7244), entering SEARCHING
[23:21:12] [ENEMY] [Enemy4] SEARCHING started: center=(673.4751, 752.7244), radius=100, waypoints=5
[23:21:12] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:21:12] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:21:12] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:12] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:21:12] [INFO] [EnemyGrenade] Throw path blocked to (438.4042, 784.6656)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (217 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (213 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (210 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (207 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (204 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (197 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (195 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (192 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (186 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (183 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (181 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.4957, 766.3403), shooter_id=723668437546, bullet_pos=(65.79105, 833.2332)
[23:21:12] [INFO] [Bullet] Using shooter_position, distance=566.666687011719
[23:21:12] [INFO] [Bullet] Distance to wall: 566.666687011719 (38.5853767267834% of viewport)
[23:21:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:12] [INFO] [Bullet] Starting wall penetration at (65.79105, 833.2332)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (178 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.30436182022095
[23:21:12] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:12] [INFO] [Bullet] Exiting penetration at (27.72573, 837.7582) after traveling 33.3333320617676 pixels through wall
[23:21:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (175 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:12] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:12] [INFO] [Shotgun.FIX#445] dragStartPos=(1176, 687), aimDir=(0,99, -0,10)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (173 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (170 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-174.4°, current=-174.4°, player=(377,770), corner_timer=0.00
[23:21:12] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=415)
[23:21:12] [ENEMY] [Enemy4] State: SEARCHING -> PURSUING
[23:21:12] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (168 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (721.2683, 779.3981) (added to group)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (166 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (754.7562, 786.7408) (added to group)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (164 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (723.724, 770.6639) (added to group)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (162 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (722.6819, 779.8935) (added to group)
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (718.4792, 775.3304) (added to group)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (160 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-178.4°, current=102.3°, player=(362,781), corner_timer=0.00
[23:21:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(362,781), corner_timer=-0.00
[23:21:12] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (747.5098, 778.1594) (added to group)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (161 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.1°, player=(359,784), corner_timer=0.30
[23:21:12] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (161 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-179.8°, current=142.6°, player=(356,787), corner_timer=0.00
[23:21:12] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (161 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-180.0°, current=78.4°, player=(353,789), corner_timer=0.00
[23:21:12] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (748.1387, 787.2531) (added to group)
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (771.4944, 785.256) (added to group)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (160 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:12] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=361), can_see=false
[23:21:12] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=222), can_see=false
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (160 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=424), can_see=false
[23:21:12] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1425), can_see=false
[23:21:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1640), can_see=false
[23:21:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1356), can_see=false
[23:21:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1686), can_see=false
[23:21:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1910), can_see=false
[23:21:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1150), can_see=false
[23:21:12] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (727.4497, 756.3113) (added to group)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (160 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (781.9835, 775.4434) (added to group)
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (754.5776, 777.626) (added to group)
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (767.0665, 765.5762) (added to group)
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (771.8727, 747.7525) (added to group)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (159 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (763.5083, 761.9921) (added to group)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (159 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (768.9332, 814.4026) (added to group)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (158 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (744.7609, 771.3705) (added to group)
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (813.8487, 777.3015) (added to group)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (154 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[23:21:12] [INFO] [GrenadeBase] Grenade created at (412.0432, 500.9229) (frozen)
[23:21:12] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[23:21:12] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[23:21:12] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.00773, 0.99997), Speed: 649.6 (unfrozen)
[23:21:12] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[23:21:12] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (151 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(96,3, -107,6), length=144,4, dotWithAim=106,8, aimDir=(0,99, -0,10), isPump=True
[23:21:12] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (775.8817, 816.2635) (added to group)
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (148 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [ENEMY] [Enemy3] Ragdoll activated
[23:21:12] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:12] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:12] [INFO] [BloodDecal] Blood puddle created at (832.3486, 778.7465) (added to group)
[23:21:13] [INFO] [EnemyGrenade] Unsafe throw distance (139 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:13] [INFO] [EnemyGrenade] Unsafe throw distance (136 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (814.6797, 787.0826) (added to group)
[23:21:13] [INFO] [EnemyGrenade] Unsafe throw distance (135 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (775.3432, 794.8037) (added to group)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (848.3493, 821.9921) (added to group)
[23:21:13] [INFO] [EnemyGrenade] Unsafe throw distance (133 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:13] [INFO] [EnemyGrenade] Unsafe throw distance (130 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:13] [INFO] [EnemyGrenade] Unsafe throw distance (127 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:13] [INFO] [EnemyGrenade] Unsafe throw distance (125 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(10,8, 459,5), length=459,6, dotWithAim=-36,3, aimDir=(0,99, -0,10), isPump=True
[23:21:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:13] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:13] [INFO] [EnemyGrenade] Unsafe throw distance (122 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:13] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=158.3°, current=-173.6°, player=(267,804), corner_timer=0.00
[23:21:13] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:21:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(267,804), corner_timer=-0.01
[23:21:13] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[23:21:13] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (836.8315, 753.5009) (added to group)
[23:21:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 706.0343), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:13] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=177.5°, current=129.3°, player=(263,804), corner_timer=0.00
[23:21:13] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.9059, 785.9337), source=ENEMY (Enemy4), range=1469, listeners=9
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[23:21:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.8°, player=(263,804), corner_timer=0.30
[23:21:13] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (884.0562, 805.357) (added to group)
[23:21:13] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[23:21:13] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (819.4575, 843.2229) (added to group)
[23:21:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(622.7023, 796.6235), shooter_id=724003982402, bullet_pos=(522.7941, 800.9089)
[23:21:13] [INFO] [Bullet] Using shooter_position, distance=100.000068664551
[23:21:13] [INFO] [Bullet] Distance to wall: 100.000068664551 (6.80918855928107% of viewport)
[23:21:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:13] [INFO] [Bullet] Starting wall penetration at (522.7941, 800.9089)
[23:21:13] [INFO] [LastChance] Threat detected: Bullet
[23:21:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.5183153152466
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (865.3257, 860.7465) (added to group)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (824.8566, 847.5609) (added to group)
[23:21:13] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:13] [INFO] [Bullet] Exiting penetration at (484.4959, 802.5516) after traveling 33.3333320617676 pixels through wall
[23:21:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-111,6, 139,6), length=178,7, dotWithAim=-125,3, aimDir=(0,99, -0,10), isPump=False
[23:21:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (836.8402, 847.8558) (added to group)
[23:21:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.0378, 719.0564), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:13] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(657.669, 786.8145), source=ENEMY (Enemy4), range=1469, listeners=9
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[23:21:13] [ENEMY] [Enemy1] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[23:21:13] [ENEMY] [Enemy1] EVADING_GRENADE started: escaping to (455.1535, 498.356)
[23:21:13] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[23:21:13] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (644.2515, 585.8586)
[23:21:13] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[23:21:13] [INFO] [FragGrenade] Impact detected! Body: Room1_WallBottom (type: StaticBody2D), triggering explosion
[23:21:13] [INFO] [FragGrenade] Impact detected - exploding immediately!
[23:21:13] [INFO] [GrenadeBase] EXPLODED at (410.6371, 678.558)!
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(410.6371, 678.558), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[23:21:13] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:21:13] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (449.5835, 556.3162), dir=(0.303566, -0.95281), lethal=false
[23:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:13] [INFO] [ImpactEffects] Blood effect spawned at (449.5835, 556.3162) (scale=1)
[23:21:13] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:21:13] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (449.5835, 556.3162), dir=(0.303566, -0.95281), lethal=false
[23:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:13] [INFO] [ImpactEffects] Blood effect spawned at (449.5835, 556.3162) (scale=1)
[23:21:13] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:21:13] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (449.5835, 556.3162), dir=(0.303566, -0.95281), lethal=false
[23:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:13] [INFO] [ImpactEffects] Blood effect spawned at (449.5835, 556.3162) (scale=1)
[23:21:13] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/4 -> 0/4
[23:21:13] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (449.5835, 556.3162), dir=(0.303566, -0.95281), lethal=true
[23:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:13] [INFO] [ImpactEffects] Blood effect spawned at (449.5835, 556.3162) (scale=1.5)
[23:21:13] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[23:21:13] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[23:21:13] [ENEMY] [Enemy1] [AllyDeath] Notified 2 enemies
[23:21:13] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[23:21:13] [INFO] [DeathAnim] Started - Angle: -72.3 deg, Index: 7
[23:21:13] [ENEMY] [Enemy1] Death animation started with hit direction: (0.303566, -0.95281)
[23:21:13] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 128.3
[23:21:13] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 2.5 degrees
[23:21:13] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 75.8 degrees
[23:21:13] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 178.0 degrees
[23:21:13] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 277.3 degrees
[23:21:13] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped to safe distance
[23:21:13] [ENEMY] [Enemy2] State: EVADING_GRENADE -> COMBAT
[23:21:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.4406, 797.3469), shooter_id=724003982402, bullet_pos=(523.8286, 800.048)
[23:21:13] [INFO] [Bullet] Using shooter_position, distance=66.6666793823242
[23:21:13] [INFO] [Bullet] Distance to wall: 66.6666793823242 (4.5394567883562% of viewport)
[23:21:13] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[23:21:13] [INFO] [Bullet] Starting wall penetration at (523.8286, 800.048)
[23:21:13] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=431), can_see=true
[23:21:13] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1553), can_see=false
[23:21:13] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1771), can_see=false
[23:21:13] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1487), can_see=false
[23:21:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1805), can_see=false
[23:21:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2027), can_see=false
[23:21:13] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1238), can_see=false
[23:21:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.4851589202881
[23:21:13] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:13] [INFO] [Bullet] Exiting penetration at (485.5267, 801.6011) after traveling 33.3333358764648 pixels through wall
[23:21:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:13] [INFO] [LastChance] Threat detected: @Area2D@2704
[23:21:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(519.0564, 726.7203), source=ENEMY (Enemy2), range=1469, listeners=8
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[23:21:13] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(625.4547, 786.8145), source=ENEMY (Enemy4), range=1469, listeners=8
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[23:21:13] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:21:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(558.2233, 797.3282), shooter_id=724003982402, bullet_pos=(524.9169, 798.6694)
[23:21:13] [INFO] [Bullet] Using shooter_position, distance=33.3333282470703
[23:21:13] [INFO] [Bullet] Distance to wall: 33.3333282470703 (2.26972761492885% of viewport)
[23:21:13] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[23:21:13] [INFO] [Bullet] Starting wall penetration at (524.9169, 798.6694)
[23:21:13] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[23:21:13] [INFO] [Bullet] Exiting penetration at (486.6146, 800.2117) after traveling 33.3333358764648 pixels through wall
[23:21:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:13] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:21:13] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (520.594, 726.9766), dir=(0.979265, 0.202585), lethal=false
[23:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:13] [INFO] [ImpactEffects] Blood effect spawned at (520.594, 726.9766) (scale=1)
[23:21:13] [INFO] [LastChance] Threat detected: Bullet
[23:21:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(161,804), corner_timer=-0.01
[23:21:13] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[23:21:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(530.5503, 732.9937), source=ENEMY (Enemy2), range=1469, listeners=8
[23:21:13] [ENEMY] [Enemy4] Heard gunshot at (530.5503, 732.9937), source_type=1, intensity=0.37, distance=83
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[23:21:13] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.2403, 786.8145), source=ENEMY (Enemy4), range=1469, listeners=8
[23:21:13] [ENEMY] [Enemy2] Heard gunshot at (593.2403, 786.8145), source_type=1, intensity=0.39, distance=80
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[23:21:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.2°, player=(157,804), corner_timer=0.30
[23:21:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(526.006, 797.3096), shooter_id=724003982402, bullet_pos=(526.006, 797.3096)
[23:21:13] [INFO] [Bullet] Using shooter_position, distance=0
[23:21:13] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[23:21:13] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[23:21:13] [INFO] [Bullet] Starting wall penetration at (526.006, 797.3096)
[23:21:13] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:21:13] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:21:13] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[23:21:13] [INFO] [Bullet] Exiting penetration at (487.7032, 798.8415) after traveling 33.3333358764648 pixels through wall
[23:21:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-129,6, 164,7), length=209,6, dotWithAim=-145,8, aimDir=(0,99, -0,10), isPump=False
[23:21:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:13] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=403), can_see=true
[23:21:13] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=403)
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(135.4794, 804.2418), source=PLAYER (Player), range=600, listeners=8
[23:21:13] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (135.4794, 804.2418), intensity=0.02, distance=407
[23:21:13] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[23:21:13] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (135.4794, 804.2418), intensity=0.01, distance=438
[23:21:13] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[23:21:13] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(135.4794, 804.2418)
[23:21:13] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=-12,0, distance=13,0px, pos=(148.0184, 800.9328)
[23:21:13] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=-9,4, distance=15,6px, pos=(150.86313, 801.64935)
[23:21:13] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=5,8, distance=30,8px, pos=(165.93361, 799.7498)
[23:21:13] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=-10,8, distance=14,2px, pos=(149.6464, 803.1463)
[23:21:13] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=-5,4, distance=19,6px, pos=(155.06343, 802.63446)
[23:21:13] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=3,5, distance=28,5px, pos=(164.00276, 803.6872)
[23:21:13] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=9,5, distance=34,5px, pos=(170.01895, 805.03217)
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(135.4794, 804.2418), source=PLAYER (Shotgun), range=1469, listeners=8
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[23:21:13] [ENEMY] [Enemy2] Pursuing vulnerability sound at (135.4794, 804.2418), distance=407
[23:21:13] [ENEMY] [Enemy4] Pursuing vulnerability sound at (135.4794, 804.2418), distance=438
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (443.6947, 523.5676) (added to group)
[23:21:13] [INFO] [LastChance] Threat detected: @Area2D@2736
[23:21:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:13] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=439)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (489.6077, 489.9096) (added to group)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (486.5403, 533.8432) (added to group)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (440.6512, 509.0811) (added to group)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (479.4254, 510.9794) (added to group)
[23:21:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.1619, 732.9965), source=ENEMY (Enemy2), range=1469, listeners=8
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[23:21:13] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(561.3506, 781.7507), source=ENEMY (Enemy4), range=1469, listeners=8
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (460.7947, 522.9815) (added to group)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (461.9169, 521.2016) (added to group)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (467.8215, 518.6892) (added to group)
[23:21:13] [INFO] [Player] Spawning blood effect at (106.39383, 808.3808), dir=(1, 0), lethal=False (C#)
[23:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (106.3938, 808.3808), dir=(1, 0), lethal=false
[23:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:13] [INFO] [ImpactEffects] Blood effect spawned at (106.3938, 808.3808) (scale=1)
[23:21:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[23:21:13] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (463.8135, 470.8666) (added to group)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (583.9136, 763.2211) (added to group)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (571.3187, 737.972) (added to group)
[23:21:13] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:21:13] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (495.2924, 737.8765), dir=(1, 0), lethal=false
[23:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:13] [INFO] [ImpactEffects] Blood effect spawned at (495.2924, 737.8765) (scale=1)
[23:21:13] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:21:13] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (495.2924, 737.8765), dir=(1, 0), lethal=false
[23:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:13] [INFO] [ImpactEffects] Blood effect spawned at (495.2924, 737.8765) (scale=1)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (458.0935, 491.5076) (added to group)
[23:21:13] [INFO] [LastChance] Threat detected: Bullet
[23:21:13] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:13] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[23:21:13] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (528.2955, 776.3193), dir=(1, 0), lethal=false
[23:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:13] [INFO] [ImpactEffects] Blood effect spawned at (528.2955, 776.3193) (scale=1)
[23:21:13] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/2 -> 0/2
[23:21:13] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (528.2955, 776.3193), dir=(1, 0), lethal=true
[23:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:13] [INFO] [ImpactEffects] Blood effect spawned at (528.2955, 776.3193) (scale=1.5)
[23:21:13] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[23:21:13] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[23:21:13] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[23:21:13] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 7)
[23:21:13] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:13] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[23:21:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(491.1341, 736.921), source=ENEMY (Enemy2), range=1469, listeners=7
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[23:21:13] [INFO] [LastChance] Threat detected: @Area2D@2763
[23:21:13] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (440.8512, 511.1629) (added to group)
[23:21:13] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1682), can_see=false
[23:21:13] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1902), can_see=false
[23:21:13] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1616), can_see=false
[23:21:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1922), can_see=false
[23:21:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2144), can_see=false
[23:21:13] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1329), can_see=false
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (498.757, 539.0389) (added to group)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (454.4708, 510.4167) (added to group)
[23:21:13] [INFO] [Player] Spawning blood effect at (80.066505, 824.67267), dir=(1, 0), lethal=False (C#)
[23:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (80.06651, 824.6727), dir=(1, 0), lethal=false
[23:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:13] [INFO] [ImpactEffects] Blood effect spawned at (80.06651, 824.6727) (scale=1)
[23:21:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:21:13] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:21:13] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:21:13] [INFO] [Player] Spawning blood effect at (80.066505, 827.4693), dir=(1, 0), lethal=True (C#)
[23:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (80.06651, 827.4693), dir=(1, 0), lethal=true
[23:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:13] [INFO] [ImpactEffects] Blood effect spawned at (80.06651, 827.4693) (scale=1.5)
[23:21:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[23:21:13] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[23:21:13] [INFO] [CinemaEffects] Player died - triggering death effects
[23:21:13] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[23:21:13] [INFO] [PenultimateHit] Player died - ending penultimate effect
[23:21:13] [INFO] [LastChance] Player died
[23:21:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-146,6, 176,8), length=229,7, dotWithAim=-163,9, aimDir=(0,99, -0,10), isPump=True
[23:21:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-163,9
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (481.3295, 495.57) (added to group)
[23:21:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:13] [ENEMY] [Enemy1] Ragdoll activated
[23:21:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (435.9243, 486.4714) (added to group)
[23:21:13] [INFO] [LastChance] Threat detected: @Area2D@2815
[23:21:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.5872, 736.0651), source=ENEMY (Enemy2), range=1469, listeners=7
[23:21:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (460.1094, 495.8792) (added to group)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (469.453, 474.6005) (added to group)
[23:21:13] [INFO] [BloodDecal] Blood puddle created at (606.7656, 799.8333) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (461.5355, 509.4028) (added to group)
[23:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(426.2889, 757.5536), shooter_id=723332893126, bullet_pos=(66.44238, 827.9451)
[23:21:14] [INFO] [Bullet] Using shooter_position, distance=366.666687011719
[23:21:14] [INFO] [Bullet] Distance to wall: 366.666687011719 (24.9670089592123% of viewport)
[23:21:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:14] [INFO] [Bullet] Starting wall penetration at (66.44238, 827.9451)
[23:21:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.23816251754761
[23:21:14] [INFO] [Bullet] Max penetration distance exceeded: 66.6666717529297 >= 48
[23:21:14] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:14] [INFO] [Bullet] Exiting penetration at (-3.891251, 841.7035) after traveling 66.6666717529297 pixels through wall
[23:21:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (455.2928, 545.0512) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (479.7474, 477.8419) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (462.6281, 540.6646) (added to group)
[23:21:14] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:14] [INFO] [LastChance] Threat detected: Bullet
[23:21:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:14] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (470.6105, 516.7719) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (456.682, 536.4347) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (459.7306, 435.1231) (added to group)
[23:21:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(423.762, 736.0649), source=ENEMY (Enemy2), range=1469, listeners=7
[23:21:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[23:21:14] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (447.6508, 531.2466) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (482.9506, 511.4471) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (693.04, 781.1943) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (682.4744, 778.192) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (154.0476, 818.0117) (added to group)
[23:21:14] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (681.5601, 759.6959) (added to group)
[23:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(394.3044, 761.0829), shooter_id=723332893126, bullet_pos=(40.11293, 855.913)
[23:21:14] [INFO] [Bullet] Using shooter_position, distance=366.666564941406
[23:21:14] [INFO] [Bullet] Distance to wall: 366.666564941406 (24.9670006472203% of viewport)
[23:21:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (468.0645, 560.5952) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (458.3319, 474.4729) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (471.5472, 471.5098) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (453.6813, 534.9728) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (671.0147, 847.8622) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (201.3926, 824.817) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (549.0818, 752.6851) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (592.433, 767.6707) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (601.598, 795.1636) (added to group)
[23:21:14] [INFO] [LastChance] Threat detected: @Area2D@2864
[23:21:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(423.7268, 736.0649), source=ENEMY (Enemy2), range=1469, listeners=7
[23:21:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[23:21:14] [ENEMY] [Enemy3] Death animation completed
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (476.4431, 547.45) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (584.2192, 753.1103) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (604.5454, 736.0273) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (583.4696, 778.157) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (144.4772, 856.6234) (added to group)
[23:21:14] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:21:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(427.7917, 737.3712), source=ENEMY (Enemy2), range=1469, listeners=7
[23:21:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[23:21:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.0°, player=(88,906), corner_timer=-0.01
[23:21:14] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[23:21:14] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-75,2, -490,7), length=496,5, dotWithAim=-24,6, aimDir=(0,99, -0,10), isPump=True
[23:21:14] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:14] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-24,6
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (679.0009, 852.7025) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (571.9161, 755.1675) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (168.6129, 871.2474) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (169.6092, 862.7001) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (131.3598, 861.2595) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (155.9045, 814.1761) (added to group)
[23:21:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-131.3°, player=(90,910), corner_timer=0.30
[23:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(363.6577, 767.9723), shooter_id=723332893126, bullet_pos=(53.26429, 889.4921)
[23:21:14] [INFO] [Bullet] Using shooter_position, distance=333.333404541016
[23:21:14] [INFO] [Bullet] Distance to wall: 333.333404541016 (22.6972844612805% of viewport)
[23:21:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:14] [INFO] [Bullet] Starting wall penetration at (53.26429, 889.4921)
[23:21:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.4974813461304
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (626.9476, 864.8529) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (197.5452, 845.508) (added to group)
[23:21:14] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[23:21:14] [INFO] [GrenadeBase] Grenade created at (396.1287, 744.1026) (frozen)
[23:21:14] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[23:21:14] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[23:21:14] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.994679, 0.103022), Speed: 697.0 (unfrozen)
[23:21:14] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[23:21:14] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (608.8752, 823.4832) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (581.7405, 789.2667) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (134.8329, 855.3129) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (143.8496, 866.0205) (added to group)
[23:21:14] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:14] [INFO] [Bullet] Exiting penetration at (17.56904, 903.4669) after traveling 33.3333320617676 pixels through wall
[23:21:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:14] [INFO] [LastChance] Threat detected: @Area2D@2882
[23:21:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(435.9159, 739.9818), source=ENEMY (Enemy2), range=1469, listeners=7
[23:21:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[23:21:14] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=37.7°, current=93.5°, player=(98,920), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=384), can_see=false
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (639.55, 869.3046) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (575.8251, 784.3998) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (569.3878, 782.2662) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (566.0468, 764.1998) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (579.6918, 739.7528) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (608.6215, 777.072) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (643.6206, 762.5978) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (179.4631, 820.554) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (138.8904, 867.9645) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (171.7465, 828.3534) (added to group)
[23:21:14] [INFO] [LastChance] Threat detected: @Area2D@2888
[23:21:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (225.6656, 843.4761) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (622.81, 812.7071) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (610.3997, 811.6613) (added to group)
[23:21:14] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1694), can_see=false
[23:21:14] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1902), can_see=false
[23:21:14] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1513), can_see=false
[23:21:14] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1863), can_see=false
[23:21:14] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2083), can_see=false
[23:21:14] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1244), can_see=false
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (267.4128, 825.6454) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (194.1306, 862.4887) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (626.4927, 798.524) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (653.1583, 795.2062) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (179.6846, 838.6377) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (169.5437, 876.8609) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (138.9149, 863.6536) (added to group)
[23:21:14] [INFO] [LastChance] Threat detected: @Area2D@2904
[23:21:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:14] [ENEMY] [Enemy4] Ragdoll activated
[23:21:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (269.5267, 887.0632) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (606.5374, 803.9928) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (156.6055, 874.2767) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (171.9334, 902.4978) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (206.5633, 921.7048) (added to group)
[23:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(370.3984, 773.9308), shooter_id=723332893126, bullet_pos=(40.60315, 934.1794)
[23:21:14] [INFO] [Bullet] Using shooter_position, distance=366.666748046875
[23:21:14] [INFO] [Bullet] Distance to wall: 366.666748046875 (24.9670131152083% of viewport)
[23:21:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (239.3242, 843.5542) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (641.9268, 837.6596) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (661.172, 895.1299) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (623.6303, 798.7277) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (628.4292, 809.421) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (661.0356, 900.7249) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (676.2294, 909.3021) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (666.8458, 795.6052) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (664.674, 871.6934) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (209.8051, 928.8558) (added to group)
[23:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(382.9786, 774.538), shooter_id=723332893126, bullet_pos=(57.9603, 944.2659)
[23:21:14] [INFO] [Bullet] Using shooter_position, distance=366.666687011719
[23:21:14] [INFO] [Bullet] Distance to wall: 366.666687011719 (24.9670089592123% of viewport)
[23:21:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (643.5194, 758.0574) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (228.1618, 849.7316) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (156.0815, 847.1543) (added to group)
[23:21:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:21:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:21:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:21:14] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:21:14] [INFO] [CinemaEffects] Death effects reset
[23:21:14] [ENEMY] [Enemy1] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:21:14] [ENEMY] [Enemy2] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:21:14] [ENEMY] [Enemy3] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:21:14] [ENEMY] [Enemy4] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:21:14] [ENEMY] [Enemy5] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:21:14] [ENEMY] [Enemy6] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:21:14] [ENEMY] [Enemy7] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:21:14] [ENEMY] [Enemy8] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:21:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:14] [ENEMY] [Enemy9] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:21:14] [ENEMY] [Enemy10] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:21:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:21:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:21:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:21:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:21:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:21:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:21:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:21:14] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:21:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[23:21:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:21:14] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:21:14] [INFO] [ScoreManager] Level started with 10 enemies
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (665.9023, 871.5111) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (636.3987, 826.9677) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (651.5196, 897.498) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (635.1344, 868.3791) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (643.5289, 857.4191) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (226.3013, 858.199) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (234.5729, 821.3375) (added to group)
[23:21:14] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:21:14] [INFO] [CinemaEffects] Found player node: Player
[23:21:14] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[23:21:14] [ENEMY] [Enemy1] Registered as sound listener
[23:21:14] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[23:21:14] [ENEMY] [Enemy2] Registered as sound listener
[23:21:14] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[23:21:14] [ENEMY] [Enemy3] Registered as sound listener
[23:21:14] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[23:21:14] [ENEMY] [Enemy4] Registered as sound listener
[23:21:14] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[23:21:14] [ENEMY] [Enemy5] Registered as sound listener
[23:21:14] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[23:21:14] [ENEMY] [Enemy6] Registered as sound listener
[23:21:14] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[23:21:14] [ENEMY] [Enemy7] Registered as sound listener
[23:21:14] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[23:21:14] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[23:21:14] [ENEMY] [Enemy8] Registered as sound listener
[23:21:14] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[23:21:14] [ENEMY] [Enemy9] Registered as sound listener
[23:21:14] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[23:21:14] [ENEMY] [Enemy10] Registered as sound listener
[23:21:14] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[23:21:14] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:21:14] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:21:14] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:21:14] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:21:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:21:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:21:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:21:14] [INFO] [LastChance] Found player: Player
[23:21:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:21:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:21:14] [INFO] [LastChance] Connected to player Died signal (C#)
[23:21:14] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (219.3425, 949.9839) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (249.8644, 855.8633) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (603.1568, 795.6652) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (623.9221, 828.2645) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (622.6904, 858.6841) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (614.4298, 856.1788) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (660.4391, 908.3069) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (641.7792, 916.566) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (714.3206, 934.2912) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (638.8362, 834.0813) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (264.8197, 936.1049) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (229.2733, 856.5317) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (180.1878, 916.8823) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (220.0463, 876.4415) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (632.6396, 823.9294) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (728.7941, 968.5281) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (191.7084, 894.0812) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (263.1982, 853.8748) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (731.7312, 807.4783) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (677.251, 809.458) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (741.653, 987.9743) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (185.9626, 925.4448) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (220.8872, 954.3594) (added to group)
[23:21:14] [INFO] [BloodDecal] Blood puddle created at (271.2867, 918.5126) (added to group)
[23:21:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:21:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:21:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:21:14] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:21:14] [ENEMY] [Enemy1] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:21:14] [ENEMY] [Enemy2] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:21:14] [ENEMY] [Enemy3] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:21:14] [ENEMY] [Enemy4] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:21:14] [ENEMY] [Enemy5] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:21:14] [ENEMY] [Enemy6] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:21:14] [ENEMY] [Enemy7] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:21:14] [ENEMY] [Enemy8] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:21:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:14] [ENEMY] [Enemy9] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:21:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:14] [ENEMY] [Enemy10] Death animation component initialized
[23:21:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:14] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:21:14] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:21:14] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:21:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:21:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:21:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:21:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:21:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:21:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:21:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:21:14] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:21:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[23:21:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:21:14] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:21:14] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:21:14] [INFO] [ScoreManager] Level started with 10 enemies
[23:21:14] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:21:14] [INFO] [CinemaEffects] Found player node: Player
[23:21:14] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 18)
[23:21:14] [ENEMY] [Enemy1] Registered as sound listener
[23:21:14] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 19)
[23:21:14] [ENEMY] [Enemy2] Registered as sound listener
[23:21:14] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 20)
[23:21:14] [ENEMY] [Enemy3] Registered as sound listener
[23:21:14] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 21)
[23:21:14] [ENEMY] [Enemy4] Registered as sound listener
[23:21:14] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 22)
[23:21:14] [ENEMY] [Enemy5] Registered as sound listener
[23:21:14] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 23)
[23:21:14] [ENEMY] [Enemy6] Registered as sound listener
[23:21:14] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 24)
[23:21:14] [ENEMY] [Enemy7] Registered as sound listener
[23:21:14] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[23:21:14] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 25)
[23:21:14] [ENEMY] [Enemy8] Registered as sound listener
[23:21:14] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 26)
[23:21:14] [ENEMY] [Enemy9] Registered as sound listener
[23:21:14] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[23:21:14] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:21:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 27)
[23:21:14] [ENEMY] [Enemy10] Registered as sound listener
[23:21:14] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:21:14] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:21:14] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:21:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:21:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:21:14] [INFO] [LastChance] Found player: Player
[23:21:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:21:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:21:14] [INFO] [LastChance] Connected to player Died signal (C#)
[23:21:14] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:21:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:21:14] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:21:14] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:21:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:21:16] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:21:16] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,797), corner_timer=0.30
[23:21:16] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,797), corner_timer=0.30
[23:21:16] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:21:16] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:21:16] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:21:16] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:21:16] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:21:16] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:21:16] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:21:16] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:21:16] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:21:16] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:21:16] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(450, 775.9999), source=PLAYER (Player), range=600, listeners=27
[23:21:16] [INFO] [SoundPropagation] Cleaned up 17 invalid listeners
[23:21:16] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (450, 775.9999), intensity=0.01, distance=452
[23:21:16] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:16] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (450, 775.9999), intensity=0.05, distance=231
[23:21:16] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:16] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (450, 775.9999), intensity=0.04, distance=251
[23:21:16] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:16] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (450, 775.9999), intensity=0.02, distance=371
[23:21:16] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:21:16] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(450, 775.99994)
[23:21:16] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-4,6, distance=20,4px, pos=(469.51288, 770.1217)
[23:21:16] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=14,6, distance=39,6px, pos=(488.24933, 765.7389)
[23:21:16] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-13,4, distance=11,6px, pos=(461.3087, 773.28467)
[23:21:16] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-0,5, distance=24,5px, pos=(473.8537, 770.4757)
[23:21:16] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-12,3, distance=12,7px, pos=(462.51266, 773.94147)
[23:21:16] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-13,1, distance=11,9px, pos=(461.76654, 774.1996)
[23:21:16] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=6,6, distance=31,6px, pos=(481.43512, 772.8861)
[23:21:16] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=2,5, distance=27,5px, pos=(477.35782, 773.401)
[23:21:16] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=7,7, distance=32,7px, pos=(482.6752, 774.0006)
[23:21:16] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-0,0, distance=25,0px, pos=(474.98215, 775.5743)
[23:21:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 775.9999), source=PLAYER (Shotgun), range=1469, listeners=10
[23:21:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:21:16] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.6°, current=168.8°, player=(450,775), corner_timer=0.00
[23:21:16] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=452), can_see=false
[23:21:16] [ENEMY] [Enemy1] Pursuing vulnerability sound at (450, 775.9999), distance=452
[23:21:16] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=77.5°, current=45.0°, player=(450,775), corner_timer=0.00
[23:21:16] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=231), can_see=false
[23:21:16] [ENEMY] [Enemy2] Pursuing vulnerability sound at (450, 775.9999), distance=231
[23:21:16] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=174.1°, current=11.3°, player=(450,775), corner_timer=0.00
[23:21:16] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=251), can_see=false
[23:21:16] [ENEMY] [Enemy3] Pursuing vulnerability sound at (450, 775.9999), distance=251
[23:21:16] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-160.5°, current=-67.5°, player=(450,775), corner_timer=0.00
[23:21:16] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=371), can_see=false
[23:21:16] [ENEMY] [Enemy4] Pursuing vulnerability sound at (450, 775.9999), distance=371
[23:21:16] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1321), can_see=false
[23:21:16] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1535), can_see=false
[23:21:16] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1185), can_see=false
[23:21:16] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1599), can_see=false
[23:21:16] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1823), can_see=false
[23:21:16] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1094), can_see=false
[23:21:16] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=174.9°, current=-171.8°, player=(450,772), corner_timer=0.00
[23:21:16] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[23:21:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.6953, 750.5517), source=ENEMY (Enemy3), range=1469, listeners=10
[23:21:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[23:21:16] [INFO] [LastChance] Threat detected: Bullet
[23:21:16] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:16] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[23:21:16] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:16] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4229, 752.1084), dir=(1, 0), lethal=false
[23:21:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:16] [INFO] [ImpactEffects] Blood effect spawned at (673.4229, 752.1084) (scale=1)
[23:21:16] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[23:21:16] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:16] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4229, 752.1084), dir=(1, 0), lethal=true
[23:21:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:16] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:16] [INFO] [ImpactEffects] Blood effect spawned at (673.4229, 752.1084) (scale=1.5)
[23:21:16] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:21:16] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:21:16] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (673.4229, 752.1084), entering SEARCHING
[23:21:16] [ENEMY] [Enemy4] SEARCHING started: center=(673.4229, 752.1084), radius=100, waypoints=5
[23:21:16] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:21:16] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:21:16] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:16] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:21:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.4°, player=(449,752), corner_timer=-0.00
[23:21:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:21:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(449,752), corner_timer=-0.00
[23:21:16] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[23:21:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(448,752), corner_timer=0.30
[23:21:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(448,752), corner_timer=0.30
[23:21:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.0593, 764.3447), shooter_id=873639972193, bullet_pos=(63.64709, 814.8425)
[23:21:16] [INFO] [Bullet] Using shooter_position, distance=566.666687011719
[23:21:16] [INFO] [Bullet] Distance to wall: 566.666687011719 (38.5853767267834% of viewport)
[23:21:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:16] [INFO] [Bullet] Starting wall penetration at (63.64709, 814.8425)
[23:21:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6.55983400344849
[23:21:16] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:16] [INFO] [Bullet] Exiting penetration at (25.46627, 818.2585) after traveling 33.3333358764648 pixels through wall
[23:21:16] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:16] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-170.2°, current=-170.3°, player=(444,755), corner_timer=0.00
[23:21:16] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[23:21:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(792.1171, 814.7308), source=ENEMY (Enemy4), range=1469, listeners=9
[23:21:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[23:21:16] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:16] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:16] [INFO] [Shotgun.FIX#445] dragStartPos=(961, 657), aimDir=(0,98, -0,19)
[23:21:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.1726, 810.9694), shooter_id=873975514915, bullet_pos=(724.1726, 810.9694)
[23:21:16] [INFO] [Bullet] Using shooter_position, distance=0
[23:21:16] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[23:21:16] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[23:21:16] [INFO] [Bullet] Starting wall penetration at (724.1726, 810.9694)
[23:21:16] [ENEMY] [Enemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[23:21:16] [ENEMY] [Enemy4] State: SEARCHING -> COMBAT
[23:21:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.609561920166
[23:21:16] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:16] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:16] [INFO] [Bullet] Exiting penetration at (686.393, 804.4772) after traveling 33.3333320617676 pixels through wall
[23:21:16] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:16] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:21:16] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:16] [INFO] [BloodDecal] Blood puddle created at (731.5686, 751.701) (added to group)
[23:21:16] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:16] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:16] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:16] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:16] [INFO] [BloodDecal] Blood puddle created at (717.6572, 767.95) (added to group)
[23:21:16] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=84.9°, current=-171.1°, player=(434,761), corner_timer=0.00
[23:21:16] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:16] [INFO] [BloodDecal] Blood puddle created at (717.6157, 755.5787) (added to group)
[23:21:16] [INFO] [BloodDecal] Blood puddle created at (743.8751, 782.233) (added to group)
[23:21:16] [INFO] [BloodDecal] Blood puddle created at (749.0989, 774.7175) (added to group)
[23:21:16] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=329), can_see=false
[23:21:16] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=152), can_see=false
[23:21:16] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=375), can_see=false
[23:21:16] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[23:21:16] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1345), can_see=false
[23:21:16] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1561), can_see=false
[23:21:16] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1283), can_see=false
[23:21:16] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1629), can_see=false
[23:21:16] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1853), can_see=false
[23:21:16] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1126), can_see=false
[23:21:16] [INFO] [BloodDecal] Blood puddle created at (769.4845, 731.0338) (added to group)
[23:21:16] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[23:21:16] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(77,0, -193,3), length=208,1, dotWithAim=112,1, aimDir=(0,98, -0,19), isPump=True
[23:21:16] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:21:16] [INFO] [BloodDecal] Blood puddle created at (732.0144, 799.58) (added to group)
[23:21:16] [INFO] [BloodDecal] Blood puddle created at (771.1953, 790.7296) (added to group)
[23:21:16] [INFO] [BloodDecal] Blood puddle created at (762.1754, 773.1953) (added to group)
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (791.6028, 783.0633) (added to group)
[23:21:17] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (793.8188, 805.0398) (added to group)
[23:21:17] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(389,767), corner_timer=-0.01
[23:21:17] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[23:21:17] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.6°, player=(385,767), corner_timer=0.30
[23:21:17] [ENEMY] [Enemy3] Ragdoll activated
[23:21:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:17] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (841.7895, 785.1987) (added to group)
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (809.2006, 772.376) (added to group)
[23:21:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-62,1, 239,9), length=247,8, dotWithAim=-106,2, aimDir=(0,98, -0,19), isPump=False
[23:21:17] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (854.0364, 780.2403) (added to group)
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (794.3151, 796.4189) (added to group)
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (838.6237, 798.3201) (added to group)
[23:21:17] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=160.3°, current=173.2°, player=(341,767), corner_timer=0.00
[23:21:17] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:21:17] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 706.0343), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:17] [INFO] [LastChance] Threat detected: Bullet
[23:21:17] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (856.6654, 837.9327) (added to group)
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (852.4711, 863.3036) (added to group)
[23:21:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-78,8, 195,5), length=210,8, dotWithAim=-114,2, aimDir=(0,98, -0,19), isPump=False
[23:21:17] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:17] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:17] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(295.4748, 773.0939), source=PLAYER (Player), range=600, listeners=9
[23:21:17] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (295.4748, 773.0939), intensity=0.04, distance=266
[23:21:17] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (295.4748, 773.0939), intensity=0.04, distance=236
[23:21:17] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (295.4748, 773.0939), intensity=0.01, distance=498
[23:21:17] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[23:21:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[23:21:17] [INFO] [Shotgun.FIX#212] Firing 8 pellets with 15° spread at pos=(295.4748, 773.0939)
[23:21:17] [INFO] [Shotgun.FIX#212] Normal pellet 1/8: extraOffset=5,3, distance=30,3px, pos=(324.14865, 763.17847)
[23:21:17] [INFO] [Shotgun.FIX#212] Normal pellet 2/8: extraOffset=11,4, distance=36,4px, pos=(330.3125, 762.4139)
[23:21:17] [INFO] [Shotgun.FIX#212] Normal pellet 3/8: extraOffset=14,6, distance=39,6px, pos=(333.8972, 763.5175)
[23:21:17] [INFO] [Shotgun.FIX#212] Normal pellet 4/8: extraOffset=-10,6, distance=14,4px, pos=(309.5414, 769.8196)
[23:21:17] [INFO] [Shotgun.FIX#212] Normal pellet 5/8: extraOffset=-5,7, distance=19,3px, pos=(314.5783, 770.049)
[23:21:17] [INFO] [Shotgun.FIX#212] Normal pellet 6/8: extraOffset=14,6, distance=39,6px, pos=(334.72653, 767.66876)
[23:21:17] [INFO] [Shotgun.FIX#212] Normal pellet 7/8: extraOffset=-7,2, distance=17,8px, pos=(313.24973, 771.8366)
[23:21:17] [INFO] [Shotgun.FIX#212] Normal pellet 8/8: extraOffset=-1,1, distance=23,9px, pos=(319.29987, 771.7447)
[23:21:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(295.4748, 773.0939), source=PLAYER (Shotgun), range=1469, listeners=9
[23:21:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[23:21:17] [INFO] [LastChance] Threat detected: Bullet
[23:21:17] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:17] [ENEMY] [Enemy1] Pursuing vulnerability sound at (295.4748, 773.0939), distance=266
[23:21:17] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-172.8°, current=174.1°, player=(295,773), corner_timer=0.00
[23:21:17] [ENEMY] [Enemy4] Pursuing vulnerability sound at (295.4748, 773.0939), distance=498
[23:21:17] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=267), can_see=false
[23:21:17] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=499), can_see=false
[23:21:17] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1471), can_see=false
[23:21:17] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1690), can_see=false
[23:21:17] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1412), can_see=false
[23:21:17] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1744), can_see=false
[23:21:17] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1967), can_see=false
[23:21:17] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1203), can_see=false
[23:21:17] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.3°, player=(288,776), corner_timer=-0.01
[23:21:17] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[23:21:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.5°, player=(284,778), corner_timer=0.30
[23:21:17] [INFO] [Player] Spawning blood effect at (280.97705, 780.5835), dir=(1, 0), lethal=False (C#)
[23:21:17] [INFO] [ImpactEffects] spawn_blood_effect called at (280.9771, 780.5835), dir=(1, 0), lethal=false
[23:21:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:17] [INFO] [ImpactEffects] Blood effect spawned at (280.9771, 780.5835) (scale=1)
[23:21:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[23:21:17] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[23:21:17] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:21:17] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:17] [INFO] [ImpactEffects] spawn_blood_effect called at (524.0657, 713.8718), dir=(1, 0), lethal=false
[23:21:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:17] [INFO] [ImpactEffects] Blood effect spawned at (524.0657, 713.8718) (scale=1)
[23:21:17] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:21:17] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:17] [INFO] [ImpactEffects] spawn_blood_effect called at (524.0657, 713.8718), dir=(1, 0), lethal=false
[23:21:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:17] [INFO] [ImpactEffects] Blood effect spawned at (524.0657, 713.8718) (scale=1)
[23:21:17] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:21:17] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:17] [INFO] [ImpactEffects] spawn_blood_effect called at (524.0657, 713.8718), dir=(1, 0), lethal=false
[23:21:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:17] [INFO] [ImpactEffects] Blood effect spawned at (524.0657, 713.8718) (scale=1)
[23:21:17] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-102,4, 206,8), length=230,8, dotWithAim=-139,5, aimDir=(0,98, -0,19), isPump=True
[23:21:17] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:17] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-139,5
[23:21:17] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-177.9°, current=-162.5°, player=(267,791), corner_timer=0.00
[23:21:17] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:21:17] [INFO] [LastChance] Threat detected: Bullet
[23:21:17] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:17] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=520)
[23:21:17] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-179.4°, current=-114.1°, player=(261,797), corner_timer=0.00
[23:21:17] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:17] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=177.3°, current=164.8°, player=(246,813), corner_timer=0.00
[23:21:17] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:21:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-96,3, 223,3), length=243,2, dotWithAim=-136,6, aimDir=(0,98, -0,19), isPump=True
[23:21:17] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:17] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-136,6
[23:21:17] [INFO] [LastChance] Threat detected: Bullet
[23:21:17] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:17] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=176.1°, current=-177.3°, player=(238,823), corner_timer=0.00
[23:21:17] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (585.3091, 715.5972) (added to group)
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (598.3506, 763.351) (added to group)
[23:21:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(227,853), corner_timer=-0.01
[23:21:17] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[23:21:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-101,5, -366,7), length=380,5, dotWithAim=-30,6, aimDir=(0,98, -0,19), isPump=True
[23:21:17] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:17] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-30,6
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (329.9521, 780.4948) (added to group)
[23:21:17] [INFO] [LastChance] Threat detected: @Area2D@3559
[23:21:17] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(226,857), corner_timer=0.30
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (592.7797, 719.9562) (added to group)
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (333.4155, 831.3555) (added to group)
[23:21:17] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:21:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:17] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (342.5507, 794.9395) (added to group)
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (631.6491, 742.7994) (added to group)
[23:21:17] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:17] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=365), can_see=false
[23:21:17] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=497), can_see=false
[23:21:17] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1566), can_see=false
[23:21:17] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1777), can_see=false
[23:21:17] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1472), can_see=false
[23:21:17] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1768), can_see=false
[23:21:17] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1990), can_see=false
[23:21:17] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1182), can_see=false
[23:21:17] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (610.3911, 785.441) (added to group)
[23:21:17] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (349.9569, 822.064) (added to group)
[23:21:17] [INFO] [BloodDecal] Blood puddle created at (612.2449, 790.1139) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (589.8782, 761.7429) (added to group)
[23:21:18] [INFO] [LastChance] Threat detected: Bullet
[23:21:18] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:18] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (365.881, 850.7792) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (629.3231, 760.94) (added to group)
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(464.8474, 747.3948), shooter_id=873304426581, bullet_pos=(65.76112, 916.2377)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=433.333343505859
[23:21:18] [INFO] [Bullet] Distance to wall: 433.333343505859 (29.50646418907% of viewport)
[23:21:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:18] [INFO] [Bullet] Starting wall penetration at (65.76112, 916.2377)
[23:21:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.67505300045013
[23:21:18] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (360.3209, 828.8714) (added to group)
[23:21:18] [INFO] [Bullet] Max penetration distance exceeded: 66.6666717529297 >= 48
[23:21:18] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:18] [INFO] [Bullet] Exiting penetration at (-0.241627, 944.1617) after traveling 66.6666717529297 pixels through wall
[23:21:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:18] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (350.4073, 842.6941) (added to group)
[23:21:18] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:18] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (653.3724, 803.3199) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (443.1901, 797.5844) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (642.4757, 761.7261) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (643.7835, 751.694) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (661.6425, 759.6537) (added to group)
[23:21:18] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=142.5°, current=-170.6°, player=(226,923), corner_timer=0.00
[23:21:18] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[23:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 695.5396), source=ENEMY (Enemy1), range=1469, listeners=9
[23:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (410.4305, 864.0059) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (692.0741, 753.1509) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (627.8288, 765.2375) (added to group)
[23:21:18] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:18] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (368.1928, 843.4632) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (643.699, 732.3867) (added to group)
[23:21:18] [INFO] [LastChance] Threat detected: @Area2D@3580
[23:21:18] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (615.3323, 739.5327) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (604.0608, 767.448) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (643.5137, 803.0992) (added to group)
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(467.8845, 752.2681), shooter_id=873304426581, bullet_pos=(54.95928, 969.686)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=466.666625976563
[23:21:18] [INFO] [Bullet] Distance to wall: 466.666625976563 (31.7761886870018% of viewport)
[23:21:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:18] [INFO] [Bullet] Starting wall penetration at (54.95928, 969.686)
[23:21:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.3859434127808
[23:21:18] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-165,1, 685,1), length=704,7, dotWithAim=-291,2, aimDir=(0,98, -0,19), isPump=False
[23:21:18] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:18] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:18] [INFO] [Bullet] Exiting penetration at (21.04043, 987.5453) after traveling 33.3333358764648 pixels through wall
[23:21:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:18] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:18] [INFO] [LastChance] Threat detected: @Area2D@3587
[23:21:18] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:18] [ENEMY] [Enemy3] Death animation completed
[23:21:18] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[23:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0674, 711.7198), source=ENEMY (Enemy1), range=1469, listeners=9
[23:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(236,954), corner_timer=-0.01
[23:21:18] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (645.5961, 800.5714) (added to group)
[23:21:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.3°, player=(239,957), corner_timer=0.30
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (686.276, 739.422) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (636.9207, 849.2628) (added to group)
[23:21:18] [INFO] [LastChance] Threat detected: @Area2D@3599
[23:21:18] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (713.6116, 781.5744) (added to group)
[23:21:18] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(471.4751, 757.0555), shooter_id=873304426581, bullet_pos=(51.23206, 1027.972)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=499.999969482422
[23:21:18] [INFO] [Bullet] Distance to wall: 499.999969482422 (34.0459173409297% of viewport)
[23:21:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:18] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:18] [ENEMY] [Enemy1] Heard gunshot at (524.0657, 713.8718), source_type=1, intensity=1.00, distance=4
[23:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (724.1976, 756.6998) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (663.0928, 879.2601) (added to group)
[23:21:18] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[23:21:18] [INFO] [LastChance] Threat detected: Bullet
[23:21:18] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:18] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-176,4, 726,8), length=747,9, dotWithAim=-310,2, aimDir=(0,98, -0,19), isPump=False
[23:21:18] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (625.1158, 792.3516) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (620.5514, 855.2986) (added to group)
[23:21:18] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[23:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(531.9775, 719.8401), source=ENEMY (Enemy1), range=1469, listeners=9
[23:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (762.3574, 784.395) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (747.4631, 786.3245) (added to group)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (664.5103, 832.9825) (added to group)
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.1425, 742.8378), shooter_id=872968883534, bullet_pos=(51.74066, 1067.145)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=533.333312988281
[23:21:18] [INFO] [Bullet] Distance to wall: 533.333312988281 (36.3156459948575% of viewport)
[23:21:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:18] [INFO] [LastChance] Threat detected: @Area2D@3624
[23:21:18] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (665.6902, 778.1521) (added to group)
[23:21:18] [ENEMY] [Enemy4] Pursuing vulnerability sound at (240.9667, 819.7179), distance=355
[23:21:18] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:18] [ENEMY] [Enemy1] Heard gunshot at (524.0657, 713.8718), source_type=1, intensity=1.00, distance=23
[23:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.1948, 761.2241), shooter_id=873304426581, bullet_pos=(52.15168, 1086)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=533.333374023438
[23:21:18] [INFO] [Bullet] Distance to wall: 533.333374023438 (36.3156501508536% of viewport)
[23:21:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:18] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[23:21:18] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=375), can_see=false
[23:21:18] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1565), can_see=false
[23:21:18] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1762), can_see=false
[23:21:18] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1426), can_see=false
[23:21:18] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1688), can_see=false
[23:21:18] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1908), can_see=false
[23:21:18] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1073), can_see=false
[23:21:18] [INFO] [LastChance] Threat detected: @Area2D@3630
[23:21:18] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:18] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[23:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(549.8626, 733.0544), source=ENEMY (Enemy1), range=1469, listeners=9
[23:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:18] [INFO] [Shotgun.FIX#243] RMB released after 24 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:18] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-233,9, 695,2), length=733,5, dotWithAim=-360,7, ActionState=Ready, minDist=20
[23:21:18] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(477.4602, 761.3018), shooter_id=872968883534, bullet_pos=(44.57501, 1126.981)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=566.666442871094
[23:21:18] [INFO] [Bullet] Distance to wall: 566.666442871094 (38.5853601027993% of viewport)
[23:21:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:18] [INFO] [LastChance] Threat detected: @Area2D@3637
[23:21:18] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:18] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:18] [ENEMY] [Enemy1] Heard gunshot at (524.0657, 713.8718), source_type=1, intensity=1.00, distance=47
[23:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:18] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=133.3°, current=133.3°, player=(299,1019), corner_timer=0.00
[23:21:18] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=378), can_see=false
[23:21:18] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(479.4796, 765.2789), shooter_id=873304426581, bullet_pos=(61.57266, 1147.986)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=566.666870117188
[23:21:18] [INFO] [Bullet] Distance to wall: 566.666870117188 (38.5853891947715% of viewport)
[23:21:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:18] [INFO] [LastChance] Threat detected: @Area2D@3640
[23:21:18] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:18] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=55.1°, current=133.3°, player=(302,1023), corner_timer=0.00
[23:21:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(309,1029), corner_timer=-0.01
[23:21:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.1425, 742.8378), shooter_id=872968883534, bullet_pos=(362.2412, 1404.278)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=671.006774902344
[23:21:18] [INFO] [Bullet] Distance to wall: 671.006774902344 (45.6900851757595% of viewport)
[23:21:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(312,1032), corner_timer=0.30
[23:21:18] [INFO] [LastChance] Threat detected: @Area2D@3644
[23:21:18] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:18] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(488.4613, 772.1558), shooter_id=872968883534, bullet_pos=(54.42351, 1186.416)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=600.000122070313
[23:21:18] [INFO] [Bullet] Distance to wall: 600.000122070313 (40.8551116147053% of viewport)
[23:21:18] [INFO] [Bullet] Distance-based penetration chance: 99.0023697828438%
[23:21:18] [INFO] [Bullet] Starting wall penetration at (54.42351, 1186.416)
[23:21:18] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[23:21:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.33575201034546
[23:21:18] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:18] [INFO] [Bullet] Exiting penetration at (26.69332, 1212.882) after traveling 33.3333320617676 pixels through wall
[23:21:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:18] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.1948, 761.2241), shooter_id=873304426581, bullet_pos=(395.0314, 1390.142)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=634.005798339844
[23:21:18] [INFO] [Bullet] Distance to wall: 634.005798339844 (43.1706206428225% of viewport)
[23:21:18] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 3/3 -> 2/3
[23:21:18] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:18] [INFO] [ImpactEffects] spawn_blood_effect called at (519.4948, 775.9978), dir=(-0.525352, 0.850885), lethal=false
[23:21:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:18] [INFO] [ImpactEffects] Wall found for blood splatter at (504.6754, 800) (dist=28 px)
[23:21:18] [INFO] [BloodDecal] Blood puddle created at (504.6754, 799) (added to group)
[23:21:18] [INFO] [ImpactEffects] Blood effect spawned at (519.4948, 775.9978) (scale=1)
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(484.4715, 769.2153), shooter_id=873304426581, bullet_pos=(59.35274, 1238.667)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=633.333435058594
[23:21:18] [INFO] [Bullet] Distance to wall: 633.333435058594 (43.1248381906351% of viewport)
[23:21:18] [INFO] [Bullet] Distance-based penetration chance: 96.354355444259%
[23:21:18] [INFO] [Bullet] Starting wall penetration at (59.35274, 1238.667)
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(477.4602, 761.3018), shooter_id=872968883534, bullet_pos=(340.6763, 1398.385)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=651.601318359375
[23:21:18] [INFO] [Bullet] Distance to wall: 651.601318359375 (44.3687319562607% of viewport)
[23:21:18] [INFO] [Bullet] Distance-based penetration chance: 94.9031460510292%
[23:21:18] [INFO] [Bullet] Starting wall penetration at (340.6763, 1398.385)
[23:21:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.1828470230103
[23:21:18] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[23:21:18] [INFO] [Bullet] Exiting penetration at (33.62186, 1267.082) after traveling 33.3333358764648 pixels through wall
[23:21:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:18] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:18] [INFO] [Bullet] Exiting penetration at (365.249, 1420.908) after traveling 28.3333339691162 pixels through wall
[23:21:18] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(479.4796, 765.2789), shooter_id=873304426581, bullet_pos=(306.9322, 1390.523)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=648.616027832031
[23:21:18] [INFO] [Bullet] Distance to wall: 648.616027832031 (44.1654580347886% of viewport)
[23:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(508.1544, 786.8227), shooter_id=872968883534, bullet_pos=(65.17053, 1239.455)
[23:21:18] [INFO] [Bullet] Using shooter_position, distance=633.333068847656
[23:21:18] [INFO] [Bullet] Distance to wall: 633.333068847656 (43.124813254659% of viewport)
[23:21:18] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:18] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/3 -> 1/3
[23:21:18] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:18] [INFO] [ImpactEffects] spawn_blood_effect called at (486.7854, 779.9641), dir=(-0.449922, 0.893068), lethal=false
[23:21:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:18] [INFO] [ImpactEffects] Blood effect spawned at (486.7854, 779.9641) (scale=1)
[23:21:18] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=113.2°, current=70.9°, player=(358,1070), corner_timer=0.00
[23:21:18] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.1726, 776.2688), source=ENEMY (Enemy4), range=1469, listeners=9
[23:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[23:21:18] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[23:21:18] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:21:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-126.7°, player=(369,1074), corner_timer=-0.01
[23:21:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(489.7346, 772.6253), shooter_id=873304426581, bullet_pos=(49.62398, 1359.208)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=733.332824707031
[23:21:19] [INFO] [Bullet] Distance to wall: 733.332824707031 (49.9339805144604% of viewport)
[23:21:19] [INFO] [LastChance] Threat detected: Bullet
[23:21:19] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-129.0°, player=(373,1075), corner_timer=0.30
[23:21:19] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 713.8718), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:19] [ENEMY] [Enemy4] Heard gunshot at (524.0657, 713.8718), source_type=1, intensity=0.66, distance=62
[23:21:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:19] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:21:19] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1508), can_see=false
[23:21:19] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1692), can_see=false
[23:21:19] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1276), can_see=false
[23:21:19] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1567), can_see=false
[23:21:19] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1786), can_see=false
[23:21:19] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=942), can_see=false
[23:21:19] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/3 -> 0/3
[23:21:19] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:19] [INFO] [ImpactEffects] spawn_blood_effect called at (494.5385, 768.0555), dir=(-0.374417, 0.927261), lethal=true
[23:21:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:19] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:19] [INFO] [ImpactEffects] Blood effect spawned at (494.5385, 768.0555) (scale=1.5)
[23:21:19] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[23:21:19] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[23:21:19] [ENEMY] [Enemy4] [AllyDeath] Notified 2 enemies
[23:21:19] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[23:21:19] [INFO] [DeathAnim] Started - Angle: 112.0 deg, Index: 19
[23:21:19] [ENEMY] [Enemy4] Death animation started with hit direction: (-0.374417, 0.927261)
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.1425, 742.8378), shooter_id=872968883534, bullet_pos=(760.8958, 1012.536)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=392.927764892578
[23:21:19] [INFO] [Bullet] Distance to wall: 392.927764892578 (26.7551740419842% of viewport)
[23:21:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.1948, 761.2241), shooter_id=873304426581, bullet_pos=(773.7102, 1012.452)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=390.162841796875
[23:21:19] [INFO] [Bullet] Distance to wall: 390.162841796875 (26.5669053441525% of viewport)
[23:21:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(508.1544, 786.8227), shooter_id=872968883534, bullet_pos=(345.176, 1602.314)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=831.61767578125
[23:21:19] [INFO] [Bullet] Distance to wall: 831.61767578125 (56.6263767540088% of viewport)
[23:21:19] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=348), can_see=false
[23:21:19] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(489.7346, 772.6253), shooter_id=873304426581, bullet_pos=(260.9701, 1595.028)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=853.626831054688
[23:21:19] [INFO] [Bullet] Distance to wall: 853.626831054688 (58.125020607845% of viewport)
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(479.4796, 765.2789), shooter_id=873304426581, bullet_pos=(699.4244, 1027.209)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=342.028198242188
[23:21:19] [INFO] [Bullet] Distance to wall: 342.028198242188 (23.2893289527091% of viewport)
[23:21:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:19] [INFO] [Bullet] Starting wall penetration at (699.4244, 1027.209)
[23:21:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[23:21:19] [INFO] [Bullet] Exiting penetration at (720.7675, 1007.453) after traveling 24.0833339691162 pixels through wall
[23:21:19] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(464.722, 841.4783), shooter_id=873975514915, bullet_pos=(228.4466, 1392.998)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=600.000183105469
[23:21:19] [INFO] [Bullet] Distance to wall: 600.000183105469 (40.8551157707013% of viewport)
[23:21:19] [INFO] [Bullet] Distance-based penetration chance: 99.0023649341818%
[23:21:19] [INFO] [Bullet] Starting wall penetration at (228.4466, 1392.998)
[23:21:19] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=103.2°, current=103.2°, player=(438,1079), corner_timer=0.00
[23:21:19] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=375), can_see=false
[23:21:19] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[23:21:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.6611633300781
[23:21:19] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:19] [INFO] [Bullet] Exiting penetration at (213.3513, 1428.234) after traveling 33.3333320617676 pixels through wall
[23:21:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:19] [ENEMY] [Enemy2] Pursuing vulnerability sound at (434.0582, 1078.38), distance=375
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (456.7316, 855.1443) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (403.1237, 878.6873) (added to group)
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(508.1544, 786.8227), shooter_id=872968883534, bullet_pos=(508.5147, 1387.429)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=600.606750488281
[23:21:19] [INFO] [Bullet] Distance to wall: 600.606750488281 (40.8964180591761% of viewport)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (454.5064, 853.1068) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (493.224, 818.3038) (added to group)
[23:21:19] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(464.2649, 1090.129), source=PLAYER (Player), range=600, listeners=8
[23:21:19] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (464.2649, 1090.129), intensity=0.02, distance=342
[23:21:19] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[23:21:19] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (464.2649, 1090.129), intensity=0.02, distance=363
[23:21:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[23:21:19] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(464.2649, 1090.1288)
[23:21:19] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=8,8, distance=33,8px, pos=(450.8683, 1059.074)
[23:21:19] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=-7,3, distance=17,7px, pos=(457.24496, 1073.8387)
[23:21:19] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=2,2, distance=27,2px, pos=(455.39612, 1064.4282)
[23:21:19] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=-9,5, distance=15,5px, pos=(458.9773, 1075.5765)
[23:21:19] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=-11,2, distance=13,8px, pos=(460.08582, 1076.9285)
[23:21:19] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=4,9, distance=29,9px, pos=(456.8431, 1061.114)
[23:21:19] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=1,5, distance=26,5px, pos=(458.77097, 1064.2327)
[23:21:19] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=5,3, distance=30,3px, pos=(459.11127, 1060.2795)
[23:21:19] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=2,2, distance=27,2px, pos=(460.01883, 1063.2896)
[23:21:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.2649, 1090.129), source=PLAYER (Shotgun), range=1469, listeners=8
[23:21:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[23:21:19] [ENEMY] [Enemy1] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=106.4°, current=118.0°, player=(464,1090), corner_timer=0.00
[23:21:19] [ENEMY] [Enemy1] Pursuing vulnerability sound at (464.2649, 1090.129), distance=342
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (480.1405, 837.2075) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (495.1708, 858.4651) (added to group)
[23:21:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=178.1°, player=(467,1092), corner_timer=-0.01
[23:21:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[23:21:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=179.0°, player=(470,1094), corner_timer=0.30
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (488.9479, 852.2759) (added to group)
[23:21:19] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=94.0°, current=137.6°, player=(478,1102), corner_timer=0.00
[23:21:19] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.0345, 739.252), source=ENEMY (Enemy2), range=1469, listeners=8
[23:21:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(507.1016, 807.2313), shooter_id=873304426581, bullet_pos=(507.1016, 807.2313)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=0
[23:21:19] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[23:21:19] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[23:21:19] [INFO] [Bullet] Starting wall penetration at (507.1016, 807.2313)
[23:21:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[23:21:19] [INFO] [Bullet] Exiting penetration at (504.4285, 845.4713) after traveling 33.3333358764648 pixels through wall
[23:21:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (451.6931, 838.5414) (added to group)
[23:21:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.1948, 761.2241), shooter_id=873304426581, bullet_pos=(1051.438, 1373.31)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=840.65771484375
[23:21:19] [INFO] [Bullet] Distance to wall: 840.65771484375 (57.2419296369404% of viewport)
[23:21:19] [INFO] [Bullet] Distance-based penetration chance: 79.8844154235695%
[23:21:19] [INFO] [Bullet] Starting wall penetration at (1051.438, 1373.31)
[23:21:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[23:21:19] [INFO] [Bullet] Exiting penetration at (1066.972, 1393.495) after traveling 20.4708347320557 pixels through wall
[23:21:19] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (453.2735, 889.8484) (added to group)
[23:21:19] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1434), can_see=false
[23:21:19] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1607), can_see=false
[23:21:19] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1144), can_see=false
[23:21:19] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1450), can_see=false
[23:21:19] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1669), can_see=false
[23:21:19] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=828), can_see=false
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (455.9422, 867.2783) (added to group)
[23:21:19] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=90.1°, current=165.0°, player=(490,1122), corner_timer=0.00
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (384.4818, 953.851) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (467.715, 968.591) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (434.2969, 893.7895) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (481.6741, 883.2848) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (484.7485, 925.0866) (added to group)
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.1425, 742.8378), shooter_id=872968883534, bullet_pos=(1281.938, 1383.478)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=1030.21301269531
[23:21:19] [INFO] [Bullet] Distance to wall: 1030.21301269531 (70.1490984291107% of viewport)
[23:21:19] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=90.7°, current=122.1°, player=(492,1131), corner_timer=0.00
[23:21:19] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[23:21:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(497.525, 772.3813), source=ENEMY (Enemy1), range=1469, listeners=8
[23:21:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[23:21:19] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=88.0°, current=137.2°, player=(492,1131), corner_timer=0.00
[23:21:19] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:21:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(479.941, 767.3675), source=ENEMY (Enemy2), range=1469, listeners=8
[23:21:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[23:21:19] [ENEMY] [Enemy4] Ragdoll activated
[23:21:19] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(504.4473, 840.0768), shooter_id=872968883534, bullet_pos=(504.4473, 840.0768)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=0
[23:21:19] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[23:21:19] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[23:21:19] [INFO] [Bullet] Starting wall penetration at (504.4473, 840.0768)
[23:21:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[23:21:19] [INFO] [Bullet] Exiting penetration at (503.9499, 878.4069) after traveling 33.3333320617676 pixels through wall
[23:21:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:19] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=89.4°, current=169.7°, player=(493,1137), corner_timer=0.00
[23:21:19] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=365), can_see=false
[23:21:19] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (384.0439, 1050.83) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (414.7358, 923.1202) (added to group)
[23:21:19] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:21:19] [INFO] [LastChance] Threat detected: @Area2D@3773
[23:21:19] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:19] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=87.8°, current=80.4°, player=(491,1149), corner_timer=0.00
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (305.6506, 1013.988) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (457.3765, 972.6861) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (477.2242, 1055.98) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (369.4147, 968.9453) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (409.2285, 916.0103) (added to group)
[23:21:19] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[23:21:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.2705, 790.9777), source=ENEMY (Enemy1), range=1469, listeners=8
[23:21:19] [ENEMY] [Enemy2] Heard gunshot at (477.2705, 790.9777), source_type=1, intensity=1.00, distance=11
[23:21:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[23:21:19] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:21:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.1635, 780.2914), source=ENEMY (Enemy2), range=1469, listeners=8
[23:21:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[23:21:19] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:19] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[23:21:19] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (410.4028, 996.9128) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (470.3977, 962.7041) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (422.9379, 956.3636) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (424.1666, 978.4885) (added to group)
[23:21:19] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[23:21:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=126.1°, player=(486,1159), corner_timer=-0.01
[23:21:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[23:21:19] [INFO] [Player] Spawning blood effect at (485.10294, 1161.3617), dir=(1, 0), lethal=False (C#)
[23:21:19] [INFO] [ImpactEffects] spawn_blood_effect called at (485.1029, 1161.362), dir=(1, 0), lethal=false
[23:21:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:19] [INFO] [ImpactEffects] Blood effect spawned at (485.1029, 1161.362) (scale=1)
[23:21:19] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:21:19] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:21:19] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:21:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=128.4°, player=(485,1161), corner_timer=0.30
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (492.9182, 972.7051) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (440.6256, 994.7729) (added to group)
[23:21:19] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(508.1544, 786.8227), shooter_id=872968883534, bullet_pos=(65.79666, 925.821)
[23:21:19] [INFO] [Bullet] Using shooter_position, distance=463.681915283203
[23:21:19] [INFO] [Bullet] Distance to wall: 463.681915283203 (31.572954247492% of viewport)
[23:21:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:19] [INFO] [LastChance] Threat detected: @Area2D@3795
[23:21:19] [INFO] [LastChance] Triggering last chance effect!
[23:21:19] [INFO] [LastChance] Starting last chance effect:
[23:21:19] [INFO] [LastChance]   - Time will be frozen (except player)
[23:21:19] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:21:19] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:21:19] [INFO] [LastChance]   - Brightness: 0.60
[23:21:19] [INFO] [LastChance] Pushed bullet Bullet from distance 141.6 to 200.0
[23:21:19] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[23:21:19] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:21:19] [INFO] [LastChance] Skipping player node: Player
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3508
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3510
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3537
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3540
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3554
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3555
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3560
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3566
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3567
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3581
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3588
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3600
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3611
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3625
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3631
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3638
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3641
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3645
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3651
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3658
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3660
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3664
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3751
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3772
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3774
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3794
[23:21:19] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3796
[23:21:19] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:21:19] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:21:19] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:21:19] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:19] [INFO] [Shotgun.FIX#445] dragStartPos=(346, 786), aimDir=(-0,32, -0,95)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (426.5442, 957.1333) (added to group)
[23:21:19] [INFO] [BloodDecal] Blood puddle created at (462.9516, 1005.155) (added to group)
[23:21:19] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:19] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:19] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:20] [INFO] [BloodDecal] Blood puddle created at (542.3682, 1197.63) (added to group)
[23:21:20] [INFO] [BloodDecal] Blood puddle created at (547.5468, 1154.82) (added to group)
[23:21:20] [INFO] [BloodDecal] Blood puddle created at (528.4379, 1167.403) (added to group)
[23:21:20] [INFO] [BloodDecal] Blood puddle created at (529.6615, 1162.279) (added to group)
[23:21:20] [INFO] [BloodDecal] Blood puddle created at (534.2921, 1178.913) (added to group)
[23:21:20] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(256,9, 616,3), length=667,7, dotWithAim=-666,0, aimDir=(-0,32, -0,95), isPump=True
[23:21:20] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:20] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-666,0
[23:21:20] [INFO] [BloodDecal] Blood puddle created at (591.2769, 1151.852) (added to group)
[23:21:20] [INFO] [BloodDecal] Blood puddle created at (560.9741, 1210.668) (added to group)
[23:21:20] [INFO] [BloodDecal] Blood puddle created at (551.6745, 1237.568) (added to group)
[23:21:20] [INFO] [Shotgun.FIX#243] RMB released after 17 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:20] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(262,9, 680,7), length=729,7, dotWithAim=-728,9, ActionState=NeedsPumpUp, minDist=20
[23:21:20] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:20] [INFO] [BloodDecal] Blood puddle created at (599.2256, 1255.088) (added to group)
[23:21:20] [INFO] [BloodDecal] Blood puddle created at (559.4755, 1185.856) (added to group)
[23:21:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:20] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:21:20] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:21:20] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:21:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:21:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:21:20] [INFO] [LastChance] Ending last chance effect
[23:21:20] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[23:21:20] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[23:21:20] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[23:21:20] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[23:21:20] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:21:20] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:21:20] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:21:20] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:21:20] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:21:20] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[23:21:20] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[23:21:20] [INFO] [LastChance] All process modes restored
[23:21:20] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:21:20] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:21:20] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:20] [ENEMY] [Enemy1] Death animation component initialized
[23:21:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:20] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:21:20] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:21:20] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:21:20] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:20] [ENEMY] [Enemy2] Death animation component initialized
[23:21:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:20] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:21:20] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:21:20] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:21:20] [ENEMY] [Enemy3] Death animation component initialized
[23:21:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:20] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:21:20] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:21:20] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:21:20] [ENEMY] [Enemy4] Death animation component initialized
[23:21:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:20] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:21:20] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:21:20] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:21:20] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:20] [ENEMY] [Enemy5] Death animation component initialized
[23:21:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:20] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:21:20] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:21:20] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:21:20] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:20] [ENEMY] [Enemy6] Death animation component initialized
[23:21:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:20] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:21:20] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:21:20] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:21:20] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:20] [ENEMY] [Enemy7] Death animation component initialized
[23:21:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:20] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:21:20] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:21:20] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:21:20] [ENEMY] [Enemy8] Death animation component initialized
[23:21:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:20] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:21:20] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:21:20] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:21:20] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:20] [ENEMY] [Enemy9] Death animation component initialized
[23:21:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:20] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:21:20] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:21:20] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:21:20] [ENEMY] [Enemy10] Death animation component initialized
[23:21:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:20] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:21:20] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:21:20] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:21:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:21:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:21:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:21:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:21:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:21:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:21:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:21:20] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:21:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:21:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:21:20] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:21:20] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:21:20] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:21:20] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:21:20] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:21:20] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:21:20] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:21:20] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:21:20] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:21:20] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:21:20] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:21:20] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:21:20] [INFO] [ScoreManager] Level started with 10 enemies
[23:21:20] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:21:20] [INFO] [CinemaEffects] Found player node: Player
[23:21:20] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:21:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[23:21:20] [ENEMY] [Enemy1] Registered as sound listener
[23:21:20] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[23:21:20] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:21:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[23:21:20] [ENEMY] [Enemy2] Registered as sound listener
[23:21:20] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[23:21:20] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:21:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[23:21:20] [ENEMY] [Enemy3] Registered as sound listener
[23:21:20] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[23:21:20] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:21:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[23:21:20] [ENEMY] [Enemy4] Registered as sound listener
[23:21:20] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[23:21:20] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:21:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[23:21:20] [ENEMY] [Enemy5] Registered as sound listener
[23:21:20] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[23:21:20] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:21:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[23:21:20] [ENEMY] [Enemy6] Registered as sound listener
[23:21:20] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[23:21:20] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:21:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[23:21:20] [ENEMY] [Enemy7] Registered as sound listener
[23:21:20] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[23:21:20] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:21:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[23:21:20] [ENEMY] [Enemy8] Registered as sound listener
[23:21:20] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[23:21:20] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:21:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[23:21:20] [ENEMY] [Enemy9] Registered as sound listener
[23:21:20] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[23:21:20] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:21:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[23:21:20] [ENEMY] [Enemy10] Registered as sound listener
[23:21:20] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:21:20] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:21:20] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:20] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:20] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:20] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:20] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:20] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:20] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:20] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:21:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:21:20] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:21:20] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:21:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:21:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:21:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:21:20] [INFO] [LastChance] Found player: Player
[23:21:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:21:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:21:20] [INFO] [LastChance] Connected to player Died signal (C#)
[23:21:20] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:21:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:21:22] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:21:22] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,819), corner_timer=0.30
[23:21:22] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,819), corner_timer=0.30
[23:21:22] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:21:22] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:21:22] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:21:22] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:21:22] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:21:22] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:21:22] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:21:22] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:21:22] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:21:22] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:21:22] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(448.4367, 777.5251), source=PLAYER (Player), range=600, listeners=18
[23:21:22] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[23:21:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:21:22] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(448.4367, 777.52515)
[23:21:22] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=14,5, distance=39,5px, pos=(486.22424, 765.89124)
[23:21:22] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-12,8, distance=12,2px, pos=(460.30676, 774.50635)
[23:21:22] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-12,6, distance=12,4px, pos=(460.5549, 774.6786)
[23:21:22] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-11,8, distance=13,2px, pos=(461.38937, 775.10266)
[23:21:22] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=10,6, distance=35,6px, pos=(483.5377, 771.47406)
[23:21:22] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=2,1, distance=27,1px, pos=(475.24658, 773.72186)
[23:21:22] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=9,7, distance=34,7px, pos=(483.0045, 774.08093)
[23:21:22] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-8,6, distance=16,4px, pos=(464.75272, 775.94305)
[23:21:22] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=9,9, distance=34,9px, pos=(483.25067, 775.4034)
[23:21:22] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=10,8, distance=35,8px, pos=(484.2436, 776.954)
[23:21:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.4367, 777.5251), source=PLAYER (Shotgun), range=1469, listeners=10
[23:21:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:21:22] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=453), can_see=false
[23:21:22] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=233), can_see=false
[23:21:22] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=253), can_see=false
[23:21:22] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=372), can_see=false
[23:21:22] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1323), can_see=false
[23:21:22] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[23:21:22] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1201), can_see=false
[23:21:22] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1600), can_see=false
[23:21:22] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1823), can_see=false
[23:21:22] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1101), can_see=false
[23:21:22] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:21:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:22] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[23:21:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:22] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[23:21:22] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:21:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:22] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[23:21:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:22] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[23:21:22] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:21:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:22] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[23:21:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:22] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[23:21:22] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[23:21:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:22] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[23:21:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:22] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:22] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[23:21:22] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:21:22] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:21:22] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:21:22] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:21:22] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:22] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:21:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.5°, player=(433,755), corner_timer=-0.00
[23:21:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:21:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(433,755), corner_timer=-0.00
[23:21:22] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[23:21:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(431,754), corner_timer=0.30
[23:21:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(431,754), corner_timer=0.30
[23:21:22] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:22] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:22] [INFO] [Shotgun.FIX#445] dragStartPos=(912, 666), aimDir=(0,98, -0,18)
[23:21:22] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:22] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:22] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:22] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:22] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:22] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (778.1503, 735.4689) (added to group)
[23:21:22] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (769.3384, 758.6798) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (768.2658, 749.9124) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (769.2152, 796.4532) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (767.4392, 785.8511) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (756.8558, 783.9628) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (788.0446, 736.561) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (776.0745, 760.356) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (768.1128, 736.9225) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (783.4575, 790.7773) (added to group)
[23:21:22] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=420), can_see=false
[23:21:22] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=215), can_see=false
[23:21:22] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=447), can_see=false
[23:21:22] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1389), can_see=false
[23:21:22] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1607), can_see=false
[23:21:22] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1331), can_see=false
[23:21:22] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1673), can_see=false
[23:21:22] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[23:21:22] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1158), can_see=false
[23:21:22] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(2,9, -147,2), length=147,2, dotWithAim=29,2, aimDir=(0,98, -0,18), isPump=True
[23:21:22] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (805.8922, 770.5472) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (826.7296, 793.8884) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (816.5154, 786.3478) (added to group)
[23:21:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(360,763), corner_timer=-0.01
[23:21:22] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (811.3278, 742.9536) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (789.0456, 776.3182) (added to group)
[23:21:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.6°, player=(356,763), corner_timer=0.30
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (769.9611, 794.1068) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (790.6686, 741.5482) (added to group)
[23:21:22] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (808.9993, 743.2061) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (769.1953, 784.4221) (added to group)
[23:21:22] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (812.8207, 756.0698) (added to group)
[23:21:22] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (787.0927, 794.9089) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (806.8889, 822.7098) (added to group)
[23:21:22] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:22] [ENEMY] [Enemy3] Ragdoll activated
[23:21:22] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (813.8011, 841.7576) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (771.4285, 819.5054) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (859.7142, 824.9332) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (781.5227, 826.9379) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (780.4306, 777.6121) (added to group)
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (822.2867, 859.644) (added to group)
[23:21:22] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(11,4, 269,9), length=270,1, dotWithAim=-37,1, aimDir=(0,98, -0,18), isPump=False
[23:21:22] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:22] [INFO] [BloodDecal] Blood puddle created at (865.0987, 805.1393) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (896.25, 796.377) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (881.192, 786.9659) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (848.3038, 755.5107) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (845.7353, 830.5691) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (841.7741, 834.6705) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (861.3148, 865.9159) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (855.6919, 889.3794) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (899.0417, 748.0916) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (861.2506, 892.6721) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (849.1279, 857.5125) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (835.3176, 836.4724) (added to group)
[23:21:23] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(11,4, 269,1), length=269,4, dotWithAim=-37,0, aimDir=(0,98, -0,18), isPump=False
[23:21:23] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (896.8561, 764.1525) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (849.2321, 784.5865) (added to group)
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (905.298, 753.5366) (added to group)
[23:21:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.3°, player=(255,763), corner_timer=-0.01
[23:21:23] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[23:21:23] [INFO] [BloodDecal] Blood puddle created at (812.9899, 813.0462) (added to group)
[23:21:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.5°, player=(250,763), corner_timer=0.30
[23:21:23] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=418), can_see=false
[23:21:23] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=268), can_see=false
[23:21:23] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=579), can_see=false
[23:21:23] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1520), can_see=false
[23:21:23] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1741), can_see=false
[23:21:23] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1466), can_see=false
[23:21:23] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1799), can_see=false
[23:21:23] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2022), can_see=false
[23:21:23] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1250), can_see=false
[23:21:23] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(11,4, 268,7), length=269,0, dotWithAim=-36,9, aimDir=(0,98, -0,18), isPump=False
[23:21:23] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:23] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(11,4, 268,5), length=268,8, dotWithAim=-36,9, aimDir=(0,98, -0,18), isPump=False
[23:21:23] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(150,762), corner_timer=-0.01
[23:21:23] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[23:21:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(145,761), corner_timer=0.30
[23:21:23] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(11,4, 267,0), length=267,3, dotWithAim=-36,6, aimDir=(0,98, -0,18), isPump=False
[23:21:23] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:23] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=437), can_see=false
[23:21:23] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=349), can_see=false
[23:21:23] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=708), can_see=false
[23:21:23] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1638), can_see=false
[23:21:23] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1863), can_see=false
[23:21:23] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1596), can_see=false
[23:21:23] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1925), can_see=false
[23:21:23] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2148), can_see=false
[23:21:23] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1358), can_see=false
[23:21:23] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(11,4, 257,0), length=257,2, dotWithAim=-34,8, aimDir=(0,98, -0,18), isPump=False
[23:21:23] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:23] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=153.2°, current=168.8°, player=(80,711), corner_timer=0.00
[23:21:23] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(80,708), corner_timer=-0.01
[23:21:23] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[23:21:23] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(11,4, 238,9), length=239,1, dotWithAim=-31,5, aimDir=(0,98, -0,18), isPump=False
[23:21:23] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.3°, player=(80,706), corner_timer=0.30
[23:21:24] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(372.9763, 562.7106), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:24] [ENEMY] [Enemy1] Heard gunshot at (372.9763, 562.7106), source_type=1, intensity=0.05, distance=225
[23:21:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[23:21:24] [ENEMY] [Enemy3] Death animation completed
[23:21:24] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=123.1°, current=-157.5°, player=(80,686), corner_timer=0.00
[23:21:24] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(11,4, 216,6), length=216,9, dotWithAim=-27,6, aimDir=(0,98, -0,18), isPump=False
[23:21:24] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:24] [INFO] [LastChance] Threat detected: Bullet
[23:21:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(314.0776, 596.7919), shooter_id=1047988801388, bullet_pos=(100.054, 689.7346)
[23:21:24] [INFO] [Bullet] Using shooter_position, distance=233.33332824707
[23:21:24] [INFO] [Bullet] Distance to wall: 233.33332824707 (15.8880953824999% of viewport)
[23:21:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:24] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(341.2783, 575.3506), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[23:21:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.07561, 666.3099), source=PLAYER (Player), range=600, listeners=9
[23:21:24] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.07561, 666.3099), intensity=0.02, distance=351
[23:21:24] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (80.07561, 666.3099), intensity=0.03, distance=272
[23:21:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[23:21:24] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(80.07561, 666.3099)
[23:21:24] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=-3,7, distance=21,3px, pos=(100.24529, 659.52527)
[23:21:24] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=-9,2, distance=15,8px, pos=(95.4005, 662.32355)
[23:21:24] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=-10,5, distance=14,5px, pos=(94.19229, 663.13806)
[23:21:24] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=10,6, distance=35,6px, pos=(115.23628, 660.83905)
[23:21:24] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=8,9, distance=33,9px, pos=(113.58458, 661.2676)
[23:21:24] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-0,2, distance=24,8px, pos=(104.80608, 664.54645)
[23:21:24] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=5,4, distance=30,4px, pos=(110.3838, 664.0404)
[23:21:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07561, 666.3099), source=PLAYER (Shotgun), range=1469, listeners=9
[23:21:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[23:21:24] [INFO] [Player] Spawning blood effect at (80.07561, 666.3099), dir=(1, 0), lethal=False (C#)
[23:21:24] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07561, 666.3099), dir=(1, 0), lethal=false
[23:21:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:24] [INFO] [ImpactEffects] Blood effect spawned at (80.07561, 666.3099) (scale=1)
[23:21:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:21:24] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:21:24] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:21:24] [INFO] [EnemyGrenade] Throw path blocked to (80.07561, 666.3099)
[23:21:24] [INFO] [EnemyGrenade] Throw path blocked to (80.07561, 666.3099)
[23:21:24] [INFO] [LastChance] Threat detected: @Area2D@4142
[23:21:24] [INFO] [LastChance] Triggering last chance effect!
[23:21:24] [INFO] [LastChance] Starting last chance effect:
[23:21:24] [INFO] [LastChance]   - Time will be frozen (except player)
[23:21:24] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:21:24] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:21:24] [INFO] [LastChance]   - Brightness: 0.60
[23:21:24] [INFO] [LastChance] Pushed bullet @Area2D@4142 from distance 141.8 to 200.0
[23:21:24] [INFO] [LastChance] Pushed bullet ShotgunPellet from distance 86.9 to 200.0
[23:21:24] [INFO] [LastChance] Pushed bullet @Area2D@4144 from distance 81.7 to 200.0
[23:21:24] [INFO] [LastChance] Pushed bullet @Area2D@4145 from distance 80.5 to 200.0
[23:21:24] [INFO] [LastChance] Pushed bullet @Area2D@4146 from distance 101.8 to 200.0
[23:21:24] [INFO] [LastChance] Pushed bullet @Area2D@4147 from distance 100.1 to 200.0
[23:21:24] [INFO] [LastChance] Pushed bullet @Area2D@4148 from distance 91.3 to 200.0
[23:21:24] [INFO] [LastChance] Pushed bullet @Area2D@4149 from distance 96.9 to 200.0
[23:21:24] [INFO] [LastChance] Pushed 8 threatening bullets away from player
[23:21:24] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:21:24] [INFO] [LastChance] Skipping player node: Player
[23:21:24] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:21:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4140
[23:21:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4143
[23:21:24] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:21:24] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:21:24] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:21:24] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-12,5, 195,7), length=196,1, dotWithAim=-47,3, aimDir=(0,98, -0,18), isPump=True
[23:21:24] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:24] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-47,3
[23:21:24] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-7,8, 181,1), length=181,3, dotWithAim=-40,1, aimDir=(0,98, -0,18), isPump=True
[23:21:24] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:24] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-40,1
[23:21:24] [INFO] [BloodDecal] Blood puddle created at (124.287, 669.2059) (added to group)
[23:21:24] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(0,4, 181,7), length=181,7, dotWithAim=-32,1, aimDir=(0,98, -0,18), isPump=True
[23:21:24] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:24] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-32,1
[23:21:24] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4151
[23:21:24] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4151
[23:21:24] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:24] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:24] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:24] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:24] [INFO] [BloodDecal] Blood puddle created at (185.9464, 681.0521) (added to group)
[23:21:24] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-24,6, -85,7), length=89,1, dotWithAim=-8,8, aimDir=(0,98, -0,18), isPump=True
[23:21:24] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:21:24] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:24] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:24] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:24] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:25] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-0,7, 705,3), length=705,3, dotWithAim=-126,8, aimDir=(0,98, -0,18), isPump=False
[23:21:25] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:25] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-0,7, 729,5), length=729,5, dotWithAim=-131,1, aimDir=(0,98, -0,18), isPump=False
[23:21:25] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:25] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-0,7, 745,2), length=745,2, dotWithAim=-134,0, aimDir=(0,98, -0,18), isPump=False
[23:21:25] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:25] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 752,3), length=752,3, dotWithAim=-137,2, aimDir=(0,98, -0,18), isPump=False
[23:21:25] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:25] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 755,2), length=755,2, dotWithAim=-137,7, aimDir=(0,98, -0,18), isPump=False
[23:21:25] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:25] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[23:21:25] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 756,4), length=756,4, dotWithAim=-137,9, aimDir=(0,98, -0,18), isPump=False
[23:21:25] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 756,9), length=756,9, dotWithAim=-138,0, aimDir=(0,98, -0,18), isPump=False
[23:21:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 757,1), length=757,2, dotWithAim=-138,1, aimDir=(0,98, -0,18), isPump=False
[23:21:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 757,2), length=757,2, dotWithAim=-138,1, aimDir=(0,98, -0,18), isPump=False
[23:21:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 759,1), length=759,1, dotWithAim=-138,4, aimDir=(0,98, -0,18), isPump=False
[23:21:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 771,9), length=771,9, dotWithAim=-140,7, aimDir=(0,98, -0,18), isPump=False
[23:21:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 790,7), length=790,7, dotWithAim=-144,1, aimDir=(0,98, -0,18), isPump=False
[23:21:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 797,1), length=797,1, dotWithAim=-145,2, aimDir=(0,98, -0,18), isPump=False
[23:21:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 779,1), length=779,1, dotWithAim=-142,0, aimDir=(0,98, -0,18), isPump=False
[23:21:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 744,4), length=744,4, dotWithAim=-135,8, aimDir=(0,98, -0,18), isPump=False
[23:21:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 715,7), length=715,7, dotWithAim=-130,6, aimDir=(0,98, -0,18), isPump=False
[23:21:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 707,0), length=707,0, dotWithAim=-129,1, aimDir=(0,98, -0,18), isPump=False
[23:21:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 722,7), length=722,7, dotWithAim=-131,9, aimDir=(0,98, -0,18), isPump=False
[23:21:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 759,9), length=759,9, dotWithAim=-138,5, aimDir=(0,98, -0,18), isPump=False
[23:21:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 807,4), length=807,4, dotWithAim=-147,0, aimDir=(0,98, -0,18), isPump=False
[23:21:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 859,0), length=859,0, dotWithAim=-156,3, aimDir=(0,98, -0,18), isPump=False
[23:21:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:28] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(580.0554, 973.1827), source=PLAYER (Player), range=600, listeners=9
[23:21:28] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (580.0554, 973.1827), intensity=0.01, distance=467
[23:21:28] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (580.0554, 973.1827), intensity=0.05, distance=232
[23:21:28] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[23:21:28] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(580.0554, 973.18274)
[23:21:28] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=-4,4, distance=20,6px, pos=(599.8265, 967.2504)
[23:21:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4153
[23:21:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4153
[23:21:28] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=-1,2, distance=23,8px, pos=(603.048, 967.1225)
[23:21:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4154
[23:21:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4154
[23:21:28] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=11,2, distance=36,2px, pos=(615.09064, 964.264)
[23:21:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4155
[23:21:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4155
[23:21:28] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=-9,8, distance=15,2px, pos=(594.891, 969.99677)
[23:21:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4156
[23:21:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4156
[23:21:28] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=-8,6, distance=16,4px, pos=(596.25256, 970.63965)
[23:21:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4157
[23:21:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4157
[23:21:28] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=14,4, distance=39,4px, pos=(619.1218, 967.9001)
[23:21:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4158
[23:21:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4158
[23:21:28] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=14,1, distance=39,1px, pos=(619.03217, 969.5687)
[23:21:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4159
[23:21:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4159
[23:21:28] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=5,4, distance=30,4px, pos=(610.2693, 970.0764)
[23:21:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4160
[23:21:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4160
[23:21:28] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=-10,4, distance=14,6px, pos=(594.64746, 972.43353)
[23:21:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4161
[23:21:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4161
[23:21:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.0554, 973.1827), source=PLAYER (Shotgun), range=1469, listeners=9
[23:21:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[23:21:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-26,7, 912,5), length=912,9, dotWithAim=-189,4, aimDir=(0,98, -0,18), isPump=True
[23:21:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-189,4
[23:21:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-19,9, 936,4), length=936,7, dotWithAim=-187,1, aimDir=(0,98, -0,18), isPump=True
[23:21:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-187,1
[23:21:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-9,6, 942,4), length=942,5, dotWithAim=-178,1, aimDir=(0,98, -0,18), isPump=True
[23:21:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-178,1
[23:21:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 930,7), length=930,7, dotWithAim=-169,1, aimDir=(0,98, -0,18), isPump=True
[23:21:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:29] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-169,1
[23:21:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 908,3), length=908,3, dotWithAim=-165,1, aimDir=(0,98, -0,18), isPump=True
[23:21:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:29] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-165,1
[23:21:29] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4162
[23:21:29] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4162
[23:21:29] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:29] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:29] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:29] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(20,7, -8,9), length=22,5, dotWithAim=22,0, aimDir=(0,98, -0,18), isPump=True
[23:21:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:21:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-5,3, 199,3), length=199,4, dotWithAim=-40,9, aimDir=(0,98, -0,18), isPump=True
[23:21:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:29] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:29] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:29] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:29] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-27,4, 379,6), length=380,6, dotWithAim=-94,8, aimDir=(0,98, -0,18), isPump=False
[23:21:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:30] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-27,4, 354,2), length=355,2, dotWithAim=-90,3, aimDir=(0,98, -0,18), isPump=False
[23:21:30] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:30] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-27,4, 355,5), length=356,6, dotWithAim=-90,5, aimDir=(0,98, -0,18), isPump=False
[23:21:30] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:30] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[23:21:30] [INFO] [LastChance] Ending last chance effect
[23:21:30] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[23:21:30] [ENEMY] [Enemy1] Search mode: COMBAT -> SEARCHING at (372.9763, 562.7106)
[23:21:30] [ENEMY] [Enemy1] SEARCHING started: center=(372.9763, 562.7106), radius=100, waypoints=5
[23:21:30] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[23:21:30] [ENEMY] [Enemy2] Search mode: COMBAT -> SEARCHING at (80.07561, 664.5329)
[23:21:30] [ENEMY] [Enemy2] SEARCHING started: center=(80.07561, 664.5329), radius=100, waypoints=4
[23:21:30] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[23:21:30] [ENEMY] [Enemy4] Search mode: PURSUING -> SEARCHING at (580.0554, 973.1827)
[23:21:30] [ENEMY] [Enemy4] SEARCHING started: center=(580.0554, 973.1827), radius=100, waypoints=5
[23:21:30] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:21:30] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:21:30] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:21:30] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:21:30] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:21:30] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[23:21:30] [INFO] [LastChance] Reset memory for 9 enemies (player teleport effect)
[23:21:30] [INFO] [LastChance] All process modes restored
[23:21:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@4153
[23:21:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@4154
[23:21:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@4155
[23:21:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@4156
[23:21:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@4157
[23:21:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@4158
[23:21:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@4159
[23:21:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@4160
[23:21:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@4161
[23:21:30] [INFO] [LastChance] Unfroze bullet casing: Casing
[23:21:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4140
[23:21:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4143
[23:21:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4151
[23:21:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4162
[23:21:30] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:21:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=432), can_see=false
[23:21:30] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=55.7°, current=161.5°, player=(462,774), corner_timer=0.00
[23:21:30] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=236), can_see=false
[23:21:30] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=-159.7°, current=-101.3°, player=(462,774), corner_timer=0.00
[23:21:30] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=360), can_see=false
[23:21:30] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1308), can_see=false
[23:21:30] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1523), can_see=false
[23:21:30] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1241), can_see=false
[23:21:30] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1588), can_see=false
[23:21:30] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1812), can_see=false
[23:21:30] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1081), can_see=false
[23:21:30] [INFO] [Shotgun.FIX#243] RMB released after 34 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:30] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-30,1, 363,4), length=364,6, dotWithAim=-94,6, ActionState=Ready, minDist=20
[23:21:30] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:30] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/2 -> 1/2
[23:21:30] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:30] [INFO] [ImpactEffects] spawn_blood_effect called at (324.3556, 581.2845), dir=(1, 0), lethal=false
[23:21:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:30] [INFO] [ImpactEffects] Blood effect spawned at (324.3556, 581.2845) (scale=1)
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (239 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (241 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (243 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (244 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 3/3 -> 2/3
[23:21:30] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:30] [INFO] [ImpactEffects] spawn_blood_effect called at (782.1547, 913.3352), dir=(1, 0), lethal=false
[23:21:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:30] [INFO] [ImpactEffects] Blood effect spawned at (782.1547, 913.3352) (scale=1)
[23:21:30] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/3 -> 1/3
[23:21:30] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:30] [INFO] [ImpactEffects] spawn_blood_effect called at (782.1547, 913.3352), dir=(1, 0), lethal=false
[23:21:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:30] [INFO] [ImpactEffects] Blood effect spawned at (782.1547, 913.3352) (scale=1)
[23:21:30] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/3 -> 0/3
[23:21:30] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:30] [INFO] [ImpactEffects] spawn_blood_effect called at (782.1547, 913.3352), dir=(1, 0), lethal=true
[23:21:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:30] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:30] [INFO] [ImpactEffects] Blood effect spawned at (782.1547, 913.3352) (scale=1.5)
[23:21:30] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[23:21:30] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:21:30] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[23:21:30] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:30] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (248 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(450,788), corner_timer=-0.01
[23:21:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(280.2019, 605.3552), shooter_id=1047988801388, bullet_pos=(38.25764, 697.0095)
[23:21:30] [INFO] [Bullet] Using shooter_position, distance=258.722869873047
[23:21:30] [INFO] [Bullet] Distance to wall: 258.722869873047 (17.6169159590629% of viewport)
[23:21:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:30] [INFO] [Bullet] Starting wall penetration at (38.25764, 697.0095)
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (250 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(449,790), corner_timer=0.30
[23:21:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.6915836334229
[23:21:30] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:30] [INFO] [Bullet] Exiting penetration at (2.141249, 709.8566) after traveling 33.3333320617676 pixels through wall
[23:21:30] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (252 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (254 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [ENEMY] [Enemy1] SEARCHING corner check: angle -79.3°
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (256 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (259 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (261 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (264 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (266 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (268 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (271 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [ENEMY] [Enemy2] SEARCHING corner check: angle -109.3°
[23:21:30] [INFO] [EnemyGrenade] Unsafe throw distance (273 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (449.1039, 802.8947)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (449.8534, 803.1122)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (406.1114, 583.0286) (added to group)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (450.7264, 803.1558)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (451.7228, 803.0255)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (452.8427, 802.7211)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (454.086, 802.2427)
[23:21:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-126.7°, player=(454,802), corner_timer=-0.01
[23:21:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (383.9787, 588.4469) (added to group)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (822.0666, 911.4642) (added to group)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (455.4528, 801.5903)
[23:21:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-129.0°, player=(455,801), corner_timer=0.30
[23:21:30] [INFO] [LastChance] Visual effects fade-out complete
[23:21:30] [INFO] [LastChance] Restored original colors to 5 player sprites
[23:21:30] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (378.6212, 606.8801) (added to group)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (456.943, 800.764)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (458.5566, 799.7636)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (865.0145, 895.0515) (added to group)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (460.2937, 798.5893)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (462.1542, 797.241)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (890.1065, 920.3164) (added to group)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (848.8598, 949.4938) (added to group)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (464.1381, 795.7186)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (843.7733, 964.1158) (added to group)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (466.2455, 794.0223)
[23:21:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (436.6259, 564.9136) (added to group)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (448.7593, 606.2104) (added to group)
[23:21:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=364), can_see=false
[23:21:30] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=312), can_see=false
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (468.4763, 792.152)
[23:21:30] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1308), can_see=false
[23:21:30] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1521), can_see=false
[23:21:30] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1161), can_see=false
[23:21:30] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1575), can_see=false
[23:21:30] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1799), can_see=false
[23:21:30] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1064), can_see=false
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (435.5475, 595.2609) (added to group)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (850.4538, 908.4168) (added to group)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (853.8888, 939.6864) (added to group)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (837.1498, 959.8564) (added to group)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (894.9646, 975.1318) (added to group)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (470.8306, 790.1077)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (434.3076, 597.3451) (added to group)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (838.6113, 948.1065) (added to group)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (473.3083, 787.8895)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (846.17, 970.7816) (added to group)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (475.9095, 785.4972)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (881.9089, 952.3679) (added to group)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (478.6341, 782.9309)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (481.4822, 780.1906)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (484.4537, 777.2764)
[23:21:30] [ENEMY] [Enemy1] SEARCHING corner check: angle 176.4°
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (487.5486, 774.1881)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (910.3375, 937.3556) (added to group)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (865.8031, 935.9959) (added to group)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (490.6599, 771.0768)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (860.93, 924.4933) (added to group)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (900.1532, 921.946) (added to group)
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (493.7711, 767.9656)
[23:21:30] [ENEMY] [Enemy2] SEARCHING corner check: angle -109.3°
[23:21:30] [INFO] [EnemyGrenade] Throw path blocked to (496.8824, 764.8543)
[23:21:30] [ENEMY] [Enemy4] Ragdoll activated
[23:21:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (414.1033, 605.0881) (added to group)
[23:21:30] [INFO] [BloodDecal] Blood puddle created at (867.7173, 934.6159) (added to group)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (499.9937, 761.743)
[23:21:31] [INFO] [BloodDecal] Blood puddle created at (409.0555, 669.1186) (added to group)
[23:21:31] [INFO] [BloodDecal] Blood puddle created at (887.5175, 938.0626) (added to group)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (503.1049, 758.6318)
[23:21:31] [INFO] [BloodDecal] Blood puddle created at (434.1693, 668.2051) (added to group)
[23:21:31] [INFO] [BloodDecal] Blood puddle created at (877.0497, 968.1673) (added to group)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (506.2162, 755.5205)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (509.3275, 752.4092)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (512.4388, 749.298)
[23:21:31] [INFO] [BloodDecal] Blood puddle created at (876.9216, 948.6707) (added to group)
[23:21:31] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (515.55, 746.1867)
[23:21:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=178.1°, player=(515,746), corner_timer=-0.01
[23:21:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (518.6613, 743.0754)
[23:21:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=179.0°, player=(518,743), corner_timer=0.30
[23:21:31] [INFO] [BloodDecal] Blood puddle created at (899.5859, 991.7664) (added to group)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (521.7726, 739.9642)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (524.8839, 736.8529)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (527.9951, 733.7416)
[23:21:31] [INFO] [BloodDecal] Blood puddle created at (899.8632, 991.4885) (added to group)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (531.1064, 730.6304)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (534.2177, 727.5191)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (537.3289, 724.4078)
[23:21:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (540.4402, 721.2966)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (543.5515, 718.1853)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (546.6627, 715.074)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (549.774, 711.9628)
[23:21:31] [INFO] [EnemyGrenade] Throw path blocked to (552.8853, 708.8515)
[23:21:31] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=237), can_see=false
[23:21:31] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=471), can_see=false
[23:21:31] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1190), can_see=false
[23:21:31] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1410), can_see=false
[23:21:31] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1068), can_see=false
[23:21:31] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1533), can_see=false
[23:21:31] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1757), can_see=false
[23:21:31] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1081), can_see=false
[23:21:31] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:31] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(583.8257, 687.9455), source=PLAYER (Player), range=600, listeners=8
[23:21:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[23:21:31] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(583.8257, 687.9455)
[23:21:31] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=12,1, distance=37,1px, pos=(547.2214, 681.7323)
[23:21:31] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=3,6, distance=28,6px, pos=(555.9403, 681.4932)
[23:21:31] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=3,5, distance=28,5px, pos=(556.00867, 681.5376)
[23:21:31] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=2,9, distance=27,9px, pos=(557.20197, 679.71106)
[23:21:31] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-3,0, distance=22,0px, pos=(562.93805, 681.10895)
[23:21:31] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=13,2, distance=38,2px, pos=(547.5411, 676.11084)
[23:21:31] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-6,5, distance=18,5px, pos=(566.43256, 681.64575)
[23:21:31] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-14,7, distance=10,3px, pos=(574.2976, 684.1137)
[23:21:31] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=9,9, distance=34,9px, pos=(551.81647, 674.0967)
[23:21:31] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=12,0, distance=37,0px, pos=(550.2847, 672.2132)
[23:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.8257, 687.9455), source=PLAYER (Shotgun), range=1469, listeners=8
[23:21:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[23:21:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=126.1°, player=(595,684), corner_timer=-0.01
[23:21:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[23:21:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=128.4°, player=(599,683), corner_timer=0.30
[23:21:31] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/3 -> 2/3
[23:21:31] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:31] [INFO] [ImpactEffects] spawn_blood_effect called at (374.1972, 582.1021), dir=(1, 0), lethal=false
[23:21:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:31] [INFO] [ImpactEffects] Blood effect spawned at (374.1972, 582.1021) (scale=1)
[23:21:31] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/3 -> 1/3
[23:21:31] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:31] [INFO] [ImpactEffects] spawn_blood_effect called at (374.1972, 582.1021), dir=(1, 0), lethal=false
[23:21:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:31] [INFO] [ImpactEffects] Blood effect spawned at (374.1972, 582.1021) (scale=1)
[23:21:31] [INFO] [EnemyGrenade] Unsafe throw distance (255 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:31] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/3 -> 0/3
[23:21:31] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:31] [INFO] [ImpactEffects] spawn_blood_effect called at (374.3262, 584.1514), dir=(1, 0), lethal=true
[23:21:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:31] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:31] [INFO] [ImpactEffects] Blood effect spawned at (374.3262, 584.1514) (scale=1.5)
[23:21:31] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[23:21:31] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[23:21:31] [ENEMY] [Enemy1] [AllyDeath] Notified 1 enemies
[23:21:31] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[23:21:31] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:31] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[23:21:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:31] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:31] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:31] [INFO] [Shotgun.FIX#445] dragStartPos=(21, 476), aimDir=(-0,95, -0,30)
[23:21:31] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:31] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:31] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:31] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:31] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:31] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[23:21:31] [INFO] [GrenadeBase] Grenade created at (128.0301, 668.8531) (frozen)
[23:21:31] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[23:21:31] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[23:21:31] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.999114, 0.042077), Speed: 939.0 (unfrozen)
[23:21:31] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[23:21:31] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[23:21:31] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:31] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:31] [INFO] [BloodDecal] Blood puddle created at (446.3011, 592.9077) (added to group)
[23:21:31] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=599), can_see=false
[23:21:31] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1063), can_see=false
[23:21:31] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1282), can_see=false
[23:21:31] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=952), can_see=false
[23:21:31] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1441), can_see=false
[23:21:31] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1663), can_see=false
[23:21:31] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1043), can_see=false
[23:21:31] [INFO] [BloodDecal] Blood puddle created at (433.6636, 603.2564) (added to group)
[23:21:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.6°, player=(694,667), corner_timer=-0.01
[23:21:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[23:21:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(697,664), corner_timer=0.30
[23:21:31] [INFO] [BloodDecal] Blood puddle created at (435.5767, 591.2217) (added to group)
[23:21:31] [INFO] [BloodDecal] Blood puddle created at (423.4672, 627.2214) (added to group)
[23:21:31] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:31] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:31] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:31] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:31] [INFO] [BloodDecal] Blood puddle created at (484.5849, 598.5325) (added to group)
[23:21:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (433.4355, 609.3308) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (445.3701, 616.1384) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (503.51, 619.0106) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (494.4821, 589.824) (added to group)
[23:21:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(21,8, 507,9), length=508,3, dotWithAim=-174,8, aimDir=(-0,95, -0,30), isPump=False
[23:21:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (468.6474, 646.8221) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (445.4711, 635.8603) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (466.6978, 606.1293) (added to group)
[23:21:32] [ENEMY] [Enemy1] Ragdoll activated
[23:21:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:32] [ENEMY] [Enemy4] Death animation completed
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (527.7138, 659.2876) (added to group)
[23:21:32] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[23:21:32] [INFO] [FragGrenade] Impact detected! Body: Room1_WallBottom (type: StaticBody2D), triggering explosion
[23:21:32] [INFO] [FragGrenade] Impact detected - exploding immediately!
[23:21:32] [INFO] [GrenadeBase] EXPLODED at (408.3596, 680.0217)!
[23:21:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(408.3596, 680.0217), source=NEUTRAL (FragGrenade), range=2937, listeners=7
[23:21:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[23:21:32] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 101.7
[23:21:32] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -14.9 degrees
[23:21:32] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 109.3 degrees
[23:21:32] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 196.0 degrees
[23:21:32] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 286.6 degrees
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (515.1889, 690.8524) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (493.5712, 652.225) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (502.1488, 607.5245) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (476.9561, 633.6836) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (529.4368, 613.9901) (added to group)
[23:21:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.5°, player=(782,661), corner_timer=-0.01
[23:21:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(59,0, 502,9), length=506,4, dotWithAim=-208,8, aimDir=(-0,95, -0,30), isPump=False
[23:21:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (533.2493, 640.9591) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (508.9222, 688.0551) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (518.0641, 686.6477) (added to group)
[23:21:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.8°, player=(786,663), corner_timer=0.30
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (509.6069, 607.1817) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (554.6646, 660.4464) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (502.1381, 676.1931) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (512.0374, 663.2179) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (579.8128, 715.2404) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (584.2915, 719.2799) (added to group)
[23:21:32] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=711), can_see=false
[23:21:32] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=958), can_see=false
[23:21:32] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1173), can_see=false
[23:21:32] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=843), can_see=false
[23:21:32] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1347), can_see=false
[23:21:32] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1568), can_see=false
[23:21:32] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=995), can_see=false
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (564.8931, 732.8168) (added to group)
[23:21:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (597.7361, 627.5347) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (479.9022, 658.4979) (added to group)
[23:21:32] [INFO] [BloodDecal] Blood puddle created at (589.0554, 647.7911) (added to group)
[23:21:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(92,3, 513,4), length=521,6, dotWithAim=-243,7, aimDir=(-0,95, -0,30), isPump=False
[23:21:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(124,5, 534,1), length=548,4, dotWithAim=-280,7, aimDir=(-0,95, -0,30), isPump=False
[23:21:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:32] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(851.7413, 727.8261), source=PLAYER (Player), range=600, listeners=7
[23:21:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=0
[23:21:32] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(851.7413, 727.8261)
[23:21:32] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=-11,5, distance=13,5px, pos=(838.4924, 725.2512)
[23:21:32] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=2,3, distance=27,3px, pos=(825.1125, 721.98987)
[23:21:32] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=9,5, distance=34,5px, pos=(818.1588, 720.0243)
[23:21:32] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=3,0, distance=28,0px, pos=(824.77167, 720.37103)
[23:21:32] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=5,6, distance=30,6px, pos=(822.4584, 718.79346)
[23:21:32] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=10,4, distance=35,4px, pos=(818.4439, 715.82355)
[23:21:32] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=-9,4, distance=15,6px, pos=(837.31244, 721.97437)
[23:21:32] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=-13,1, distance=11,9px, pos=(840.74493, 723.16705)
[23:21:32] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=5,8, distance=30,8px, pos=(823.9556, 714.4316)
[23:21:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(851.7413, 727.8261), source=PLAYER (Shotgun), range=1469, listeners=7
[23:21:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=6
[23:21:32] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:32] [ENEMY] [Enemy2] SEARCHING corner check: angle -0.1°
[23:21:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(858,733), corner_timer=-0.01
[23:21:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[23:21:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(861,735), corner_timer=0.30
[23:21:32] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=9.2°, current=9.5°, player=(879,745), corner_timer=0.22
[23:21:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(182,7, 567,4), length=596,1, dotWithAim=-346,3, aimDir=(-0,95, -0,30), isPump=True
[23:21:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:32] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-346,3
[23:21:32] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=806)
[23:21:32] [ENEMY] [Enemy2] State: SEARCHING -> RETREATING
[23:21:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:32] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=821), can_see=true
[23:21:32] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=899), can_see=false
[23:21:32] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1097), can_see=false
[23:21:32] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=730), can_see=false
[23:21:32] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1222), can_see=false
[23:21:32] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1444), can_see=false
[23:21:32] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=889), can_see=false
[23:21:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(88.07476, 601.463), source=ENEMY (Enemy2), range=1469, listeners=7
[23:21:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[23:21:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(203,4, 582,9), length=617,4, dotWithAim=-370,7, aimDir=(-0,95, -0,30), isPump=True
[23:21:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:32] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-370,7
[23:21:33] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/2 -> 0/2
[23:21:33] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:33] [INFO] [ImpactEffects] spawn_blood_effect called at (88.07476, 587.0896), dir=(1, 0), lethal=true
[23:21:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:33] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:33] [INFO] [ImpactEffects] Blood effect spawned at (88.07476, 587.0896) (scale=1.5)
[23:21:33] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[23:21:33] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[23:21:33] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 6)
[23:21:33] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:33] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[23:21:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(895,754), corner_timer=-0.01
[23:21:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[23:21:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(895,754), corner_timer=0.30
[23:21:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(253,8, 138,4), length=289,0, dotWithAim=-283,8, aimDir=(-0,95, -0,30), isPump=True
[23:21:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:33] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-283,8
[23:21:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:33] [INFO] [LastChance] Threat detected: Bullet
[23:21:33] [INFO] [LastChance] Effect already used this life
[23:21:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(395,7, -48,9), length=398,7, dotWithAim=-362,2, aimDir=(-0,95, -0,30), isPump=True
[23:21:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:33] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-362,2
[23:21:33] [INFO] [Player] Spawning blood effect at (895.2851, 754.61383), dir=(1, 0), lethal=True (C#)
[23:21:33] [INFO] [ImpactEffects] spawn_blood_effect called at (895.2851, 754.6138), dir=(1, 0), lethal=true
[23:21:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:33] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:33] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 754.6138) (dist=16 px)
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (911, 754.6138) (added to group)
[23:21:33] [INFO] [ImpactEffects] Blood effect spawned at (895.2851, 754.6138) (scale=1.5)
[23:21:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[23:21:33] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[23:21:33] [INFO] [CinemaEffects] Player died - triggering death effects
[23:21:33] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[23:21:33] [INFO] [PenultimateHit] Player died - ending penultimate effect
[23:21:33] [INFO] [LastChance] Player died
[23:21:33] [ENEMY] [Enemy1] Death animation completed
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (169.576, 614.1929) (added to group)
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (127.1994, 622.0477) (added to group)
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (133.5629, 623.8439) (added to group)
[23:21:33] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=905), can_see=false
[23:21:33] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1103), can_see=false
[23:21:33] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=735), can_see=false
[23:21:33] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1226), can_see=false
[23:21:33] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1448), can_see=false
[23:21:33] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=889), can_see=false
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (133.3138, 599.8936) (added to group)
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (186.6779, 582.2255) (added to group)
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (139.5294, 602.8585) (added to group)
[23:21:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(246,7, 594,7), length=643,8, dotWithAim=-415,5, aimDir=(-0,95, -0,30), isPump=True
[23:21:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:33] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-415,5
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (200.3168, 596.4954) (added to group)
[23:21:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(880,756), corner_timer=-0.01
[23:21:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[23:21:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(878,757), corner_timer=0.30
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (144.9107, 652.2246) (added to group)
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (229.3512, 637.6042) (added to group)
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (220.8239, 636.0913) (added to group)
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (228.2448, 633.0853) (added to group)
[23:21:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (180.1385, 598.4032) (added to group)
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (184.07, 644.532) (added to group)
[23:21:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(255,3, 518,5), length=578,0, dotWithAim=-400,6, aimDir=(-0,95, -0,30), isPump=True
[23:21:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:33] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-400,6
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (183.5228, 668.2124) (added to group)
[23:21:33] [ENEMY] [Enemy2] Ragdoll activated
[23:21:33] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (158.914, 674.7943) (added to group)
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (213.0482, 651.0984) (added to group)
[23:21:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(242,4, 530,5), length=583,3, dotWithAim=-392,0, aimDir=(-0,95, -0,30), isPump=True
[23:21:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:33] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-392,0
[23:21:33] [INFO] [BloodDecal] Blood puddle created at (221.619, 639.2839) (added to group)
[23:21:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(841,821), corner_timer=-0.01
[23:21:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[23:21:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(841,824), corner_timer=0.30
[23:21:33] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=983), can_see=false
[23:21:33] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1172), can_see=false
[23:21:33] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=773), can_see=false
[23:21:33] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1228), can_see=false
[23:21:33] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1452), can_see=false
[23:21:33] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=837), can_see=false
[23:21:33] [INFO] [Shotgun.FIX#243] RMB released after 118 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:33] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(283,0, 541,6), length=611,1, dotWithAim=-434,0, ActionState=NeedsPumpUp, minDist=20
[23:21:33] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:34] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:21:34] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:21:34] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:21:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:21:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:21:34] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:21:34] [INFO] [CinemaEffects] Death effects reset
[23:21:34] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:34] [ENEMY] [Enemy1] Death animation component initialized
[23:21:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:34] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:21:34] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:21:34] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:21:34] [ENEMY] [Enemy2] Death animation component initialized
[23:21:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:34] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:21:34] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:21:34] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:21:34] [ENEMY] [Enemy3] Death animation component initialized
[23:21:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:34] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:21:34] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:21:34] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:21:34] [ENEMY] [Enemy4] Death animation component initialized
[23:21:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:34] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:21:34] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:21:34] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:21:34] [ENEMY] [Enemy5] Death animation component initialized
[23:21:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:34] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:21:34] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:21:34] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:21:34] [ENEMY] [Enemy6] Death animation component initialized
[23:21:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:34] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:21:34] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:21:34] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:21:34] [ENEMY] [Enemy7] Death animation component initialized
[23:21:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:34] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:21:34] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:21:34] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:21:34] [ENEMY] [Enemy8] Death animation component initialized
[23:21:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:34] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:21:34] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:21:34] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:21:34] [ENEMY] [Enemy9] Death animation component initialized
[23:21:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:34] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:21:34] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:21:34] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:21:34] [ENEMY] [Enemy10] Death animation component initialized
[23:21:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:34] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:21:34] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:21:34] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:21:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:21:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:21:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:21:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:21:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:21:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:21:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:21:34] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:21:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:21:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:21:34] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:21:34] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:21:34] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:21:34] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:21:34] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:21:34] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:21:34] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:21:34] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:21:34] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:21:34] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:21:34] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:21:34] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:21:34] [INFO] [ScoreManager] Level started with 10 enemies
[23:21:34] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:21:34] [INFO] [CinemaEffects] Found player node: Player
[23:21:34] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:21:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[23:21:34] [ENEMY] [Enemy1] Registered as sound listener
[23:21:34] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[23:21:34] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:21:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[23:21:34] [ENEMY] [Enemy2] Registered as sound listener
[23:21:34] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[23:21:34] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:21:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[23:21:34] [ENEMY] [Enemy3] Registered as sound listener
[23:21:34] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[23:21:34] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:21:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[23:21:34] [ENEMY] [Enemy4] Registered as sound listener
[23:21:34] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[23:21:34] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:21:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[23:21:34] [ENEMY] [Enemy5] Registered as sound listener
[23:21:34] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[23:21:34] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:21:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[23:21:34] [ENEMY] [Enemy6] Registered as sound listener
[23:21:34] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[23:21:34] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:21:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[23:21:34] [ENEMY] [Enemy7] Registered as sound listener
[23:21:34] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[23:21:34] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:21:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[23:21:34] [ENEMY] [Enemy8] Registered as sound listener
[23:21:34] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[23:21:34] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:21:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[23:21:34] [ENEMY] [Enemy9] Registered as sound listener
[23:21:34] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[23:21:34] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:21:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[23:21:34] [ENEMY] [Enemy10] Registered as sound listener
[23:21:34] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:21:34] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:21:34] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:34] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:34] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:34] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:34] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:34] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:34] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:34] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:21:34] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:21:34] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:21:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:21:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:21:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:21:34] [INFO] [LastChance] Found player: Player
[23:21:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:21:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:21:34] [INFO] [LastChance] Connected to player Died signal (C#)
[23:21:34] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:21:35] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:21:35] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:21:35] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(420,798), corner_timer=0.30
[23:21:35] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(420,798), corner_timer=0.30
[23:21:35] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:21:35] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:21:35] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:21:35] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:21:35] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:21:35] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:21:35] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:21:35] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:21:35] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:21:35] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:21:35] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(417.082, 796.093), source=PLAYER (Player), range=600, listeners=16
[23:21:35] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[23:21:35] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (417.082, 796.093), intensity=0.01, distance=461
[23:21:35] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:35] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (417.082, 796.093), intensity=0.04, distance=247
[23:21:35] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:35] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (417.082, 796.093), intensity=0.03, distance=287
[23:21:35] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:35] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (417.082, 796.093), intensity=0.02, distance=397
[23:21:35] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:21:35] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(417.08203, 796.09296)
[23:21:35] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=10,2, distance=35,2px, pos=(450.88126, 786.3101)
[23:21:35] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=5,7, distance=30,7px, pos=(446.44028, 787.1882)
[23:21:35] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=8,1, distance=33,1px, pos=(449.17285, 788.0334)
[23:21:35] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=0,4, distance=25,4px, pos=(441.6549, 789.8632)
[23:21:35] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=6,6, distance=31,6px, pos=(448.1682, 790.58734)
[23:21:35] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=12,6, distance=37,6px, pos=(454.0705, 789.18835)
[23:21:35] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=14,1, distance=39,1px, pos=(455.71484, 789.9925)
[23:21:35] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-4,9, distance=20,1px, pos=(436.99344, 793.3046)
[23:21:35] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-9,5, distance=15,5px, pos=(432.56992, 794.9986)
[23:21:35] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-10,0, distance=15,0px, pos=(432.04324, 795.02405)
[23:21:35] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-5,9, distance=19,1px, pos=(436.11697, 795.27094)
[23:21:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.082, 796.093), source=PLAYER (Shotgun), range=1469, listeners=10
[23:21:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:21:35] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=75.3°, current=-157.5°, player=(417,796), corner_timer=0.00
[23:21:35] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=461), can_see=false
[23:21:35] [INFO] [EnemyGrenade] Throw path blocked to (417.082, 796.093)
[23:21:35] [ENEMY] [Enemy1] Pursuing vulnerability sound at (417.082, 796.093), distance=461
[23:21:35] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=86.0°, current=-157.5°, player=(417,796), corner_timer=0.00
[23:21:35] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=247), can_see=false
[23:21:35] [ENEMY] [Enemy2] Pursuing vulnerability sound at (417.082, 796.093), distance=247
[23:21:35] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=170.7°, current=-33.8°, player=(417,796), corner_timer=0.00
[23:21:35] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=287), can_see=false
[23:21:35] [ENEMY] [Enemy3] Pursuing vulnerability sound at (417.082, 796.093), distance=287
[23:21:35] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-164.8°, current=-67.5°, player=(417,796), corner_timer=0.00
[23:21:35] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=397), can_see=false
[23:21:35] [ENEMY] [Enemy4] Pursuing vulnerability sound at (417.082, 796.093), distance=397
[23:21:35] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1358), can_see=false
[23:21:35] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1572), can_see=false
[23:21:35] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1201), can_see=false
[23:21:35] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1621), can_see=false
[23:21:35] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1844), can_see=false
[23:21:35] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1092), can_see=false
[23:21:35] [INFO] [EnemyGrenade] Throw path blocked to (417.082, 796.093)
[23:21:35] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=171.3°, current=136.8°, player=(413,793), corner_timer=0.00
[23:21:35] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[23:21:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.7022, 750.6149), source=ENEMY (Enemy3), range=1469, listeners=10
[23:21:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[23:21:35] [INFO] [EnemyGrenade] Throw path blocked to (417.082, 796.093)
[23:21:35] [INFO] [EnemyGrenade] Throw path blocked to (417.082, 796.093)
[23:21:35] [INFO] [LastChance] Threat detected: Bullet
[23:21:35] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:35] [INFO] [EnemyGrenade] Throw path blocked to (417.082, 796.093)
[23:21:35] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[23:21:35] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:35] [INFO] [ImpactEffects] spawn_blood_effect called at (673.511, 753.0746), dir=(1, 0), lethal=false
[23:21:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:35] [INFO] [ImpactEffects] Blood effect spawned at (673.511, 753.0746) (scale=1)
[23:21:35] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[23:21:35] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:35] [INFO] [ImpactEffects] spawn_blood_effect called at (673.511, 753.0746), dir=(1, 0), lethal=true
[23:21:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:35] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:35] [INFO] [ImpactEffects] Blood effect spawned at (673.511, 753.0746) (scale=1.5)
[23:21:35] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:21:35] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:21:35] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (673.511, 753.0746), entering SEARCHING
[23:21:35] [ENEMY] [Enemy4] SEARCHING started: center=(673.511, 753.0746), radius=100, waypoints=5
[23:21:35] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:21:35] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:21:35] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:35] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:21:35] [INFO] [EnemyGrenade] Throw path blocked to (417.082, 796.093)
[23:21:35] [INFO] [EnemyGrenade] Throw path blocked to (417.082, 796.093)
[23:21:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.4°, player=(348,803), corner_timer=-0.00
[23:21:35] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:21:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(348,803), corner_timer=-0.00
[23:21:35] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[23:21:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(344,806), corner_timer=0.30
[23:21:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(344,806), corner_timer=0.30
[23:21:35] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:35] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:35] [INFO] [Shotgun.FIX#445] dragStartPos=(1230, 620), aimDir=(0,98, -0,21)
[23:21:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:35] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:35] [INFO] [BloodDecal] Blood puddle created at (739.3536, 769.6471) (added to group)
[23:21:36] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (729.9572, 785.3563) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (730.1624, 777.0146) (added to group)
[23:21:36] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:36] [ENEMY] [Enemy4] SEARCHING corner check: angle -72.9°
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (738.8487, 780.5296) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (762.5107, 803.8347) (added to group)
[23:21:36] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:36] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=401), can_see=false
[23:21:36] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=271), can_see=false
[23:21:36] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=461), can_see=false
[23:21:36] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1470), can_see=false
[23:21:36] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1683), can_see=false
[23:21:36] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1390), can_see=false
[23:21:36] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1708), can_see=false
[23:21:36] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1931), can_see=false
[23:21:36] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1164), can_see=false
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (731.5977, 800.1755) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (736.3973, 809.5605) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (757.728, 782.3376) (added to group)
[23:21:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(36,3, -123,1), length=128,4, dotWithAim=61,4, aimDir=(0,98, -0,21), isPump=True
[23:21:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (772.8473, 744.9484) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (746.8104, 788.0951) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (736.3328, 779.999) (added to group)
[23:21:36] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=173.3°, current=164.3°, player=(289,830), corner_timer=0.19
[23:21:36] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=463)
[23:21:36] [ENEMY] [Enemy4] State: SEARCHING -> PURSUING
[23:21:36] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=173.5°, current=91.8°, player=(284,830), corner_timer=0.19
[23:21:36] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:36] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[23:21:36] [INFO] [GrenadeBase] Grenade created at (411.2726, 504.8213) (frozen)
[23:21:36] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[23:21:36] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[23:21:36] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.065882, 0.997827), Speed: 662.4 (unfrozen)
[23:21:36] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[23:21:36] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[23:21:36] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:36] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:36] [ENEMY] [Enemy3] Ragdoll activated
[23:21:36] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:36] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (784.747, 749.4987) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (813.89, 844.7148) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (793.4764, 771.1169) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (784.6008, 819.1318) (added to group)
[23:21:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(254,830), corner_timer=-0.01
[23:21:36] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (822.1471, 829.1429) (added to group)
[23:21:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.6°, player=(249,830), corner_timer=0.30
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (851.7277, 864.2997) (added to group)
[23:21:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-10,0, 155,1), length=155,4, dotWithAim=-42,4, aimDir=(0,98, -0,21), isPump=False
[23:21:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (844.7051, 817.2195) (added to group)
[23:21:36] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=156.5°, current=-157.6°, player=(227,830), corner_timer=0.00
[23:21:36] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 702.1155), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:36] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(223.7685, 831.2419), source=PLAYER (Player), range=600, listeners=9
[23:21:36] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (223.7685, 831.2419), intensity=0.02, distance=378
[23:21:36] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (223.7685, 831.2419), intensity=0.02, distance=325
[23:21:36] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (223.7685, 831.2419), intensity=0.01, distance=467
[23:21:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[23:21:36] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(223.76852, 831.24194)
[23:21:36] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=13,4, distance=38,4px, pos=(260.26486, 819.17706)
[23:21:36] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-12,6, distance=12,4px, pos=(235.49657, 827.2302)
[23:21:36] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=5,8, distance=30,8px, pos=(253.38266, 822.9178)
[23:21:36] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-10,0, distance=15,0px, pos=(238.18243, 827.22797)
[23:21:36] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=4,8, distance=29,8px, pos=(252.83223, 824.4687)
[23:21:36] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-14,5, distance=10,5px, pos=(233.9491, 828.742)
[23:21:36] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=5,1, distance=30,1px, pos=(253.39374, 826.028)
[23:21:36] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-6,8, distance=18,2px, pos=(241.66692, 827.71326)
[23:21:36] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=-9,5, distance=15,5px, pos=(239.10129, 828.9089)
[23:21:36] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=3,8, distance=28,8px, pos=(252.40366, 827.7523)
[23:21:36] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-11,0, distance=14,0px, pos=(237.74214, 829.9667)
[23:21:36] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-14,5, distance=10,5px, pos=(234.20897, 830.4301)
[23:21:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(223.7685, 831.2419), source=PLAYER (Shotgun), range=1469, listeners=9
[23:21:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=1
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (843.1091, 754.1445) (added to group)
[23:21:36] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:21:36] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=174.4°, current=127.8°, player=(223,831), corner_timer=0.19
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (841.4179, 860.55) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (827.0547, 802.3144) (added to group)
[23:21:36] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=174.3°, current=130.2°, player=(219,832), corner_timer=0.19
[23:21:36] [INFO] [LastChance] Threat detected: Bullet
[23:21:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (858.2219, 866.3992) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (904.7556, 890.9902) (added to group)
[23:21:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-39,5, 152,8), length=157,8, dotWithAim=-70,8, aimDir=(0,98, -0,21), isPump=True
[23:21:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:36] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-70,8
[23:21:36] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:21:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.0465, 719.0704), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:36] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/3 -> 2/3
[23:21:36] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:36] [INFO] [ImpactEffects] spawn_blood_effect called at (522.4748, 720.5708), dir=(1, 0), lethal=false
[23:21:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:36] [INFO] [ImpactEffects] Blood effect spawned at (522.4748, 720.5708) (scale=1)
[23:21:36] [INFO] [Player] Spawning blood effect at (190.04654, 845.43274), dir=(1, 0), lethal=False (C#)
[23:21:36] [INFO] [ImpactEffects] spawn_blood_effect called at (190.0465, 845.4327), dir=(1, 0), lethal=false
[23:21:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:36] [INFO] [ImpactEffects] Blood effect spawned at (190.0465, 845.4327) (scale=1)
[23:21:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:21:36] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:21:36] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:21:36] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/3 -> 1/3
[23:21:36] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:36] [INFO] [ImpactEffects] spawn_blood_effect called at (521.9777, 721.8959), dir=(1, 0), lethal=false
[23:21:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:36] [INFO] [ImpactEffects] Blood effect spawned at (521.9777, 721.8959) (scale=1)
[23:21:36] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/3 -> 0/3
[23:21:36] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:36] [INFO] [ImpactEffects] spawn_blood_effect called at (521.9777, 721.8959), dir=(1, 0), lethal=true
[23:21:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:36] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:36] [INFO] [ImpactEffects] Blood effect spawned at (521.9777, 721.8959) (scale=1.5)
[23:21:36] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[23:21:36] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[23:21:36] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[23:21:36] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[23:21:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:36] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[23:21:36] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[23:21:36] [INFO] [FragGrenade] Impact detected! Body: Room1_WallBottom (type: StaticBody2D), triggering explosion
[23:21:36] [INFO] [FragGrenade] Impact detected - exploding immediately!
[23:21:36] [INFO] [GrenadeBase] EXPLODED at (399.5063, 678.4631)!
[23:21:36] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(399.5063, 678.4631), source=NEUTRAL (FragGrenade), range=2937, listeners=8
[23:21:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[23:21:36] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:21:36] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:36] [INFO] [ImpactEffects] spawn_blood_effect called at (449.5871, 556.3256), dir=(0.379382, -0.92524), lethal=false
[23:21:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:36] [INFO] [ImpactEffects] Blood effect spawned at (449.5871, 556.3256) (scale=1)
[23:21:36] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:21:36] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:36] [INFO] [ImpactEffects] spawn_blood_effect called at (449.5871, 556.3256), dir=(0.379382, -0.92524), lethal=false
[23:21:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:36] [INFO] [ImpactEffects] Blood effect spawned at (449.5871, 556.3256) (scale=1)
[23:21:36] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:21:36] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:36] [INFO] [ImpactEffects] spawn_blood_effect called at (449.5871, 556.3256), dir=(0.379382, -0.92524), lethal=false
[23:21:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:36] [INFO] [ImpactEffects] Blood effect spawned at (449.5871, 556.3256) (scale=1)
[23:21:36] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/4 -> 0/4
[23:21:36] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:36] [INFO] [ImpactEffects] spawn_blood_effect called at (449.5871, 556.3256), dir=(0.379382, -0.92524), lethal=true
[23:21:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:36] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:36] [INFO] [ImpactEffects] Blood effect spawned at (449.5871, 556.3256) (scale=1.5)
[23:21:36] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[23:21:36] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[23:21:36] [ENEMY] [Enemy1] [AllyDeath] Notified 1 enemies
[23:21:36] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[23:21:36] [INFO] [DeathAnim] Started - Angle: -67.7 deg, Index: 7
[23:21:36] [ENEMY] [Enemy1] Death animation started with hit direction: (0.379382, -0.92524)
[23:21:36] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 132.0
[23:21:36] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 10.1 degrees
[23:21:36] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 91.1 degrees
[23:21:36] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 196.4 degrees
[23:21:36] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 285.0 degrees
[23:21:36] [ENEMY] [Enemy4] Pursuing vulnerability sound at (223.7685, 831.2419), distance=431
[23:21:36] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=469), can_see=false
[23:21:36] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1597), can_see=false
[23:21:36] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1811), can_see=false
[23:21:36] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1515), can_see=false
[23:21:36] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1818), can_see=false
[23:21:36] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2040), can_see=false
[23:21:36] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1237), can_see=false
[23:21:36] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[23:21:36] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:36] [INFO] [ImpactEffects] spawn_blood_effect called at (643.883, 787.5661), dir=(1, 0), lethal=false
[23:21:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:36] [INFO] [ImpactEffects] Blood effect spawned at (643.883, 787.5661) (scale=1)
[23:21:36] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/2 -> 0/2
[23:21:36] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:36] [INFO] [ImpactEffects] spawn_blood_effect called at (643.883, 787.5661), dir=(1, 0), lethal=true
[23:21:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:36] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:36] [INFO] [ImpactEffects] Blood effect spawned at (643.883, 787.5661) (scale=1.5)
[23:21:36] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[23:21:36] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[23:21:36] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 6)
[23:21:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:36] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[23:21:36] [INFO] [LastChance] Threat detected: @Area2D@4701
[23:21:36] [INFO] [LastChance] Triggering last chance effect!
[23:21:36] [INFO] [LastChance] Starting last chance effect:
[23:21:36] [INFO] [LastChance]   - Time will be frozen (except player)
[23:21:36] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:21:36] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:21:36] [INFO] [LastChance]   - Brightness: 0.60
[23:21:36] [INFO] [LastChance] Pushed bullet @Area2D@4701 from distance 137.5 to 200.0
[23:21:36] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[23:21:36] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:21:36] [INFO] [LastChance] Skipping player node: Player
[23:21:36] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:21:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4651
[23:21:36] [INFO] [LastChance] Froze existing grenade: FragGrenade
[23:21:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4683
[23:21:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4702
[23:21:36] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:21:36] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:21:36] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:21:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-28,3, 181,6), length=183,8, dotWithAim=-65,9, aimDir=(0,98, -0,21), isPump=True
[23:21:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:36] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-65,9
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (568.8276, 713.0685) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (455.3634, 511.8403) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (562.2719, 747.739) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (486.7186, 536.294) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (446.0146, 485.708) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (468.7739, 531.9604) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (455.9929, 524.8734) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (451.8272, 526.4822) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (571.3627, 717.6601) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (272.2919, 833.0461) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (615.6483, 740.5174) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (479.8189, 499.4355) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (488.931, 511.5398) (added to group)
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (615.4999, 750.4797) (added to group)
[23:21:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-20,2, 211,6), length=212,6, dotWithAim=-64,3, aimDir=(0,98, -0,21), isPump=True
[23:21:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:36] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-64,3
[23:21:36] [INFO] [BloodDecal] Blood puddle created at (582.8212, 722.8913) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (583.9526, 754.1722) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (488.3085, 547.3904) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (593.522, 717.7154) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (458.5338, 530.0082) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (609.1481, 776.6339) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (484.6448, 466.355) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (741.4611, 766.9516) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (651.1708, 785.0446) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (625.9982, 768.7233) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (469.966, 507.8437) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (657.9717, 736.5842) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (498.7349, 506.6848) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (445.0593, 517.4103) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (499.2147, 501.8204) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (715.5078, 803.1793) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (733.6226, 807.8339) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (621.0493, 777.2282) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (302.2869, 854.0262) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (276.5775, 916.9653) (added to group)
[23:21:37] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-16,0, 244,9), length=245,5, dotWithAim=-67,2, aimDir=(0,98, -0,21), isPump=True
[23:21:37] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:37] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-67,2
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (644.908, 728.3041) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (674.4174, 727.2318) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (642.0046, 714.0687) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (457.4643, 463.1376) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (622.459, 734.055) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (321.2418, 856.3411) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (291.1721, 870.0615) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (617.2425, 744.5132) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (631.4548, 788.1191) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (633.6101, 718.9245) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (610.7946, 749.4648) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (608.5833, 743.3851) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (298.0128, 887.5002) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (678.0166, 734.9878) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (453.4505, 478.8688) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (662.2563, 767.1549) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (677.8309, 767.4133) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (438.7011, 479.7757) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (451.4748, 472.1608) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (703.3951, 774.6145) (added to group)
[23:21:37] [INFO] [Shotgun.FIX#243] RMB released after 57 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:37] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-16,7, 269,3), length=269,9, dotWithAim=-73,0, ActionState=NeedsPumpUp, minDist=20
[23:21:37] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (656.2886, 842.7355) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (728.4072, 789.5891) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (637.4247, 805.1718) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (445.0852, 516.1746) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (471.0949, 528.434) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (831.6197, 822.5039) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (321.6191, 982.6558) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (697.9661, 763.9247) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (655.1754, 762.3685) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (648.0145, 768.3119) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (827.3658, 786.8309) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (312.9337, 884.4651) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (363.2969, 866.4791) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (656.9695, 857.0114) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (688.158, 747.8393) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (479.2986, 449.6187) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (343.6334, 937.6014) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (443.6766, 543.2006) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (673.2623, 886.0417) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (449.4232, 430.0124) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (849.0162, 806.3853) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (688.5975, 763.6621) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (479.9342, 565.2724) (added to group)
[23:21:37] [INFO] [BloodDecal] Blood puddle created at (449.2682, 518.1636) (added to group)
[23:21:38] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:38] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:38] [INFO] [Shotgun.FIX#445] dragStartPos=(1242, 1329), aimDir=(0,96, 0,27)
[23:21:38] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:38] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:38] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:38] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-41,4, -573,0), length=574,5, dotWithAim=-191,8, aimDir=(0,96, 0,27), isPump=True
[23:21:38] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:38] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-191,8
[23:21:39] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-10,0, -555,9), length=556,0, dotWithAim=-157,0, aimDir=(0,96, 0,27), isPump=True
[23:21:39] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:39] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-157,0
[23:21:39] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(14,7, -546,4), length=546,6, dotWithAim=-130,6, aimDir=(0,96, 0,27), isPump=True
[23:21:39] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:39] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-130,6
[23:21:39] [INFO] [Shotgun.FIX#243] RMB released after 38 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:39] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(13,4, -503,2), length=503,4, dotWithAim=-120,5, ActionState=NeedsPumpUp, minDist=20
[23:21:39] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:39] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:39] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:39] [INFO] [Shotgun.FIX#445] dragStartPos=(1294, 958), aimDir=(0,95, -0,31)
[23:21:39] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:39] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:39] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:39] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4821
[23:21:39] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4821
[23:21:39] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:39] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:39] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:39] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:40] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(57,9, -58,5), length=82,3, dotWithAim=73,2, aimDir=(0,95, -0,31), isPump=True
[23:21:40] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:21:40] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:40] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:40] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:40] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[23:21:40] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:40] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-30,1, 477,6), length=478,6, dotWithAim=-177,6, aimDir=(0,95, -0,31), isPump=False
[23:21:40] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:40] [INFO] [Shotgun.FIX#243] RMB released after 16 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:40] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-28,2, 475,2), length=476,0, dotWithAim=-175,0, ActionState=Ready, minDist=20
[23:21:40] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:42] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(959.2691, 1391.294), source=PLAYER (Player), range=600, listeners=6
[23:21:42] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (959.2691, 1391.294), intensity=0.03, distance=295
[23:21:42] [ENEMY] [Enemy10] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[23:21:42] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(959.2691, 1391.2937)
[23:21:42] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=12,1, distance=37,1px, pos=(989.2967, 1413.1461)
[23:21:42] [INFO] [LastChance] Freezing newly fired player bullet: ShotgunPellet
[23:21:42] [INFO] [LastChance] Registered frozen player bullet: ShotgunPellet
[23:21:42] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=2,7, distance=27,7px, pos=(980.9197, 1408.5685)
[23:21:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4822
[23:21:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4822
[23:21:42] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=2,5, distance=27,5px, pos=(980.381, 1408.8795)
[23:21:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4823
[23:21:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4823
[23:21:42] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=-7,7, distance=17,3px, pos=(971.8766, 1403.083)
[23:21:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4824
[23:21:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4824
[23:21:42] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=4,0, distance=29,0px, pos=(979.31476, 1412.2449)
[23:21:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4825
[23:21:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4825
[23:21:42] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=-10,0, distance=15,0px, pos=(969.0779, 1402.6309)
[23:21:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4826
[23:21:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4826
[23:21:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(959.2691, 1391.294), source=PLAYER (Shotgun), range=1469, listeners=6
[23:21:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=5
[23:21:42] [INFO] [LastChance] Effect duration expired after 6.01 real seconds
[23:21:42] [INFO] [LastChance] Ending last chance effect
[23:21:42] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:21:42] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:21:42] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:21:42] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:21:42] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:21:42] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=true
[23:21:42] [ENEMY] [Enemy10] Search mode: PURSUING -> SEARCHING at (959.2691, 1391.294)
[23:21:42] [ENEMY] [Enemy10] SEARCHING started: center=(959.2691, 1391.294), radius=100, waypoints=5
[23:21:42] [INFO] [LastChance] Reset memory for 6 enemies (player teleport effect)
[23:21:42] [INFO] [LastChance] All process modes restored
[23:21:42] [INFO] [LastChance] Unfroze player bullet: ShotgunPellet
[23:21:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@4822
[23:21:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@4823
[23:21:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@4824
[23:21:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@4825
[23:21:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@4826
[23:21:42] [INFO] [LastChance] Unfroze bullet casing: Casing
[23:21:42] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4651
[23:21:42] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4683
[23:21:42] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4702
[23:21:42] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4821
[23:21:42] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:21:42] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1242), can_see=false
[23:21:42] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1346), can_see=false
[23:21:42] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=881), can_see=false
[23:21:42] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=987), can_see=false
[23:21:42] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1201), can_see=false
[23:21:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=SEARCHING, target=-130.7°, current=7.3°, player=(921,1317), corner_timer=0.05
[23:21:42] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=375), can_see=false
[23:21:42] [ENEMY] [Enemy10] SEARCHING corner check: angle 131.3°
[23:21:42] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:42] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:42] [INFO] [Shotgun.FIX#445] dragStartPos=(1277, 1409), aimDir=(0,96, 0,27)
[23:21:42] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:42] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 3/3 -> 2/3
[23:21:42] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:42] [INFO] [ImpactEffects] spawn_blood_effect called at (1143.237, 1581.592), dir=(1, 0), lethal=false
[23:21:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:42] [INFO] [ImpactEffects] Blood effect spawned at (1143.237, 1581.592) (scale=1)
[23:21:42] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 2/3 -> 1/3
[23:21:42] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:42] [INFO] [ImpactEffects] spawn_blood_effect called at (1143.237, 1581.592), dir=(1, 0), lethal=false
[23:21:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:42] [INFO] [ImpactEffects] Blood effect spawned at (1143.237, 1581.592) (scale=1)
[23:21:42] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 1/3 -> 0/3
[23:21:42] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:42] [INFO] [ImpactEffects] spawn_blood_effect called at (1143.237, 1581.592), dir=(1, 0), lethal=true
[23:21:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:42] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:42] [INFO] [ImpactEffects] Blood effect spawned at (1143.237, 1581.592) (scale=1.5)
[23:21:42] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[23:21:42] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:21:42] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 5)
[23:21:42] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:42] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[23:21:42] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:42] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(462.4519, 750.0364), shooter_id=1164238129896, bullet_pos=(60.38355, 900.228)
[23:21:42] [INFO] [Bullet] Using shooter_position, distance=429.204467773438
[23:21:42] [INFO] [Bullet] Distance to wall: 429.204467773438 (29.2253214481164% of viewport)
[23:21:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:21:42] [INFO] [Bullet] Starting wall penetration at (60.38355, 900.228)
[23:21:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.03341007232666
[23:21:42] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:42] [INFO] [Bullet] Exiting penetration at (24.47466, 913.6442) after traveling 33.3333358764648 pixels through wall
[23:21:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:42] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(126,9, -451,6), length=469,1, dotWithAim=1,9, aimDir=(0,96, 0,27), isPump=True
[23:21:42] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:21:42] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=1,9
[23:21:43] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:43] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:43] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:43] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1190.527, 1600.815) (added to group)
[23:21:43] [INFO] [LastChance] Visual effects fade-out complete
[23:21:43] [INFO] [LastChance] Restored original colors to 5 player sprites
[23:21:43] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1201.79, 1600.331) (added to group)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1220.089, 1615.686) (added to group)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1191.687, 1594.194) (added to group)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1228.533, 1587.092) (added to group)
[23:21:43] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-118,0, 522,6), length=535,7, dotWithAim=25,6, aimDir=(0,96, 0,27), isPump=True
[23:21:43] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1241.321, 1619.175) (added to group)
[23:21:43] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1302), can_see=false
[23:21:43] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1427), can_see=false
[23:21:43] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=984), can_see=false
[23:21:43] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1120), can_see=false
[23:21:43] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1335), can_see=false
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1210.28, 1579.593) (added to group)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1247.744, 1598.251) (added to group)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1250.538, 1625.419) (added to group)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1205.187, 1623.01) (added to group)
[23:21:43] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1295.584, 1632.09) (added to group)
[23:21:43] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:43] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1238.029, 1587.122) (added to group)
[23:21:43] [ENEMY] [Enemy10] Ragdoll activated
[23:21:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:43] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1304.372, 1623.113) (added to group)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1273.626, 1592.556) (added to group)
[23:21:43] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-37,6, -23,3), length=44,2, dotWithAim=-42,4, aimDir=(0,96, 0,27), isPump=False
[23:21:43] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1311.651, 1577.663) (added to group)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1299.526, 1632.167) (added to group)
[23:21:43] [INFO] [Shotgun.FIX#243] RMB released after 12 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:43] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-47,4, -31,2), length=56,7, dotWithAim=-54,0, ActionState=Ready, minDist=20
[23:21:43] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1336.747, 1592.541) (added to group)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1290.053, 1616.729) (added to group)
[23:21:43] [INFO] [BloodDecal] Blood puddle created at (1339.95, 1639.225) (added to group)
[23:21:43] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1308), can_see=false
[23:21:43] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1456), can_see=false
[23:21:43] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1043), can_see=false
[23:21:43] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1233), can_see=false
[23:21:43] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1451), can_see=false
[23:21:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-126.7°, player=(586,1130), corner_timer=-0.01
[23:21:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[23:21:44] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1363), can_see=false
[23:21:44] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1528), can_see=false
[23:21:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-129.0°, player=(582,1130), corner_timer=0.30
[23:21:44] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1087), can_see=false
[23:21:44] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1356), can_see=false
[23:21:44] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1574), can_see=false
[23:21:44] [ENEMY] [Enemy10] Death animation completed
[23:21:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=178.1°, player=(494,1097), corner_timer=-0.01
[23:21:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[23:21:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=179.0°, player=(491,1094), corner_timer=0.30
[23:21:44] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1425), can_see=false
[23:21:44] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1604), can_see=false
[23:21:44] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1153), can_see=false
[23:21:44] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1477), can_see=false
[23:21:44] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1697), can_see=false
[23:21:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=126.1°, player=(459,1006), corner_timer=-0.01
[23:21:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[23:21:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=128.4°, player=(459,1002), corner_timer=0.30
[23:21:45] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1374), can_see=false
[23:21:45] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1569), can_see=false
[23:21:45] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1153), can_see=false
[23:21:45] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1528), can_see=false
[23:21:45] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1750), can_see=false
[23:21:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.6°, player=(459,901), corner_timer=-0.01
[23:21:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[23:21:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(459,896), corner_timer=0.30
[23:21:45] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1321), can_see=false
[23:21:45] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1532), can_see=false
[23:21:45] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1155), can_see=false
[23:21:45] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1578), can_see=false
[23:21:45] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1801), can_see=false
[23:21:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.5°, player=(461,794), corner_timer=-0.01
[23:21:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(463,789), corner_timer=0.30
[23:21:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(528,712), corner_timer=-0.02
[23:21:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(532,708), corner_timer=0.30
[23:21:46] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1183), can_see=false
[23:21:46] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1405), can_see=false
[23:21:46] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1071), can_see=false
[23:21:46] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1544), can_see=false
[23:21:46] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1767), can_see=false
[23:21:46] [INFO] [ScoreManager] Combo ended at 1. Max combo: 4
[23:21:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(586,625), corner_timer=-0.02
[23:21:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(586,620), corner_timer=0.30
[23:21:46] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1126), can_see=false
[23:21:46] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1365), can_see=false
[23:21:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(586,515), corner_timer=-0.02
[23:21:46] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1094), can_see=false
[23:21:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:46] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1612), can_see=false
[23:21:46] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1833), can_see=false
[23:21:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(586,510), corner_timer=0.30
[23:21:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(633,425), corner_timer=-0.02
[23:21:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(637,421), corner_timer=0.30
[23:21:47] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1020), can_see=false
[23:21:47] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1270), can_see=false
[23:21:47] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1059), can_see=false
[23:21:47] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1613), can_see=false
[23:21:47] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1830), can_see=false
[23:21:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(729,391), corner_timer=-0.02
[23:21:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(734,391), corner_timer=0.30
[23:21:47] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:47] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[23:21:47] [INFO] [Shotgun.FIX#445] dragStartPos=(1099, 604), aimDir=(0,79, 0,62)
[23:21:47] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:47] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(839,391), corner_timer=-0.02
[23:21:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:47] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(844,391), corner_timer=0.30
[23:21:47] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=851), can_see=false
[23:21:47] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1102), can_see=false
[23:21:47] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=915), can_see=false
[23:21:47] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1490), can_see=false
[23:21:47] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1704), can_see=false
[23:21:47] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:47] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-70,3, -568,6), length=572,9, dotWithAim=-406,6, ActionState=Ready, minDist=20
[23:21:47] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(926,446), corner_timer=-0.02
[23:21:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(930,450), corner_timer=0.30
[23:21:48] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=734), can_see=false
[23:21:48] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=971), can_see=false
[23:21:48] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=752), can_see=false
[23:21:48] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1329), can_see=false
[23:21:48] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1542), can_see=false
[23:21:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1015,496), corner_timer=-0.02
[23:21:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1020,496), corner_timer=0.30
[23:21:48] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:48] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[23:21:48] [INFO] [Shotgun.FIX#445] dragStartPos=(1195, 461), aimDir=(0,96, -0,27)
[23:21:48] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:48] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:48] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:48] [INFO] [Shotgun.FIX#243] Bolt opened for loading - ReloadState=Loading, ShellsInTube=5/8
[23:21:48] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1060,498), corner_timer=-0.02
[23:21:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:48] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1060,498), corner_timer=0.30
[23:21:48] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:48] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=656), can_see=false
[23:21:48] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=891), can_see=false
[23:21:48] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=681), can_see=false
[23:21:48] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1269), can_see=false
[23:21:48] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1479), can_see=false
[23:21:48] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-86,5, -209,7), length=226,8, dotWithAim=-27,8, aimDir=(0,96, -0,27), isPump=False
[23:21:49] [INFO] [Shotgun.FIX#243] RMB released after 12 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:49] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-84,1, -209,2), length=225,5, dotWithAim=-25,6, ActionState=Ready, minDist=30
[23:21:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1060,498), corner_timer=-0.02
[23:21:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1060,498), corner_timer=0.30
[23:21:49] [INFO] [Shotgun.EVENT] MMB event: pressed=True (was False), isDragging=False
[23:21:49] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=656), can_see=false
[23:21:49] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=891), can_see=false
[23:21:49] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=681), can_see=false
[23:21:49] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1269), can_see=false
[23:21:49] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1479), can_see=false
[23:21:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1060,498), corner_timer=-0.02
[23:21:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1060,498), corner_timer=0.30
[23:21:49] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:49] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[23:21:49] [INFO] [Shotgun.FIX#445] dragStartPos=(1129, 178), aimDir=(0,96, -0,27)
[23:21:49] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:21:49] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:21:49] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:21:49] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:49] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:49] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:49] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:49] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:49] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:49] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-29,8, 267,2), length=268,9, dotWithAim=-99,6, aimDir=(0,96, -0,27), isPump=False
[23:21:49] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:49] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:49] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:21:49] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-29,8, 269,2), length=270,9, dotWithAim=-100,1, ActionState=Ready, minDist=30
[23:21:49] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[23:21:49] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[23:21:49] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=5/8, Tutorial=False, ReserveAmmo=12
[23:21:49] [INFO] [Shotgun.FIX#243] Shell LOADED - 6/8 shells in tube
[23:21:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1060,498), corner_timer=-0.02
[23:21:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1060,498), corner_timer=0.30
[23:21:49] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=656), can_see=false
[23:21:49] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=891), can_see=false
[23:21:49] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=681), can_see=false
[23:21:49] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1269), can_see=false
[23:21:49] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1479), can_see=false
[23:21:50] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:50] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[23:21:50] [INFO] [Shotgun.FIX#445] dragStartPos=(1121, 198), aimDir=(0,96, -0,27)
[23:21:50] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:21:50] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1060,498), corner_timer=-0.02
[23:21:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1060,498), corner_timer=0.30
[23:21:50] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-66,1, 321,9), length=328,7, dotWithAim=-149,1, aimDir=(0,96, -0,27), isPump=False
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] RMB released after 14 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:21:50] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-66,1, 233,1), length=242,3, dotWithAim=-125,5, ActionState=Ready, minDist=30
[23:21:50] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[23:21:50] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[23:21:50] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=6/8, Tutorial=False, ReserveAmmo=11
[23:21:50] [INFO] [Shotgun.FIX#243] Shell LOADED - 7/8 shells in tube
[23:21:50] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=656), can_see=false
[23:21:50] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=891), can_see=false
[23:21:50] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=681), can_see=false
[23:21:50] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1269), can_see=false
[23:21:50] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1479), can_see=false
[23:21:50] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:50] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[23:21:50] [INFO] [Shotgun.FIX#445] dragStartPos=(1054, 281), aimDir=(0,96, -0,27)
[23:21:50] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:21:50] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:21:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1060,498), corner_timer=-0.02
[23:21:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:50] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1060,498), corner_timer=0.30
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-30,1, 155,0), length=157,8, dotWithAim=-70,1, aimDir=(0,96, -0,27), isPump=False
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[23:21:50] [INFO] [Shotgun.FIX#243] RMB released after 13 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:21:50] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-29,4, 142,9), length=145,9, dotWithAim=-66,2, ActionState=Ready, minDist=30
[23:21:50] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[23:21:50] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[23:21:50] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=7/8, Tutorial=False, ReserveAmmo=10
[23:21:50] [INFO] [Shotgun.FIX#243] Shell LOADED - 8/8 shells in tube
[23:21:50] [INFO] [Shotgun.EVENT] MMB event: pressed=False (was True), isDragging=False
[23:21:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1060,498), corner_timer=-0.02
[23:21:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1060,498), corner_timer=0.30
[23:21:50] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=656), can_see=false
[23:21:50] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=891), can_see=false
[23:21:50] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=681), can_see=false
[23:21:50] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1269), can_see=false
[23:21:50] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1479), can_see=false
[23:21:51] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:51] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=Loading
[23:21:51] [INFO] [Shotgun.FIX#445] dragStartPos=(1035, 163), aimDir=(0,96, -0,27)
[23:21:51] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:51] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:21:51] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:51] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:21:51] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:51] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:21:51] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:21:51] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:21:51] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:21:51] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:21:51] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:21:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1060,498), corner_timer=-0.02
[23:21:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:51] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:21:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1060,498), corner_timer=0.30
[23:21:51] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-40,1, 677,9), length=679,1, dotWithAim=-218,3, aimDir=(0,96, -0,27), isPump=False
[23:21:51] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:21:51] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[23:21:51] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:51] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-31,1, 694,0), length=694,6, dotWithAim=-213,9, ActionState=Ready, minDist=30
[23:21:51] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=False, isMMBHeld=False => shouldLoadShell=False
[23:21:51] [INFO] [Shotgun.FIX#266] Closing bolt (MMB was not held)
[23:21:51] [INFO] [Shotgun.FIX#243] Reload complete - bolt closed, ready to fire with 8 shells
[23:21:51] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=602), can_see=false
[23:21:51] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=834), can_see=false
[23:21:51] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=636), can_see=false
[23:21:51] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1233), can_see=false
[23:21:51] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1440), can_see=false
[23:21:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1122,498), corner_timer=-0.02
[23:21:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1127,498), corner_timer=0.30
[23:21:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1219,466), corner_timer=-0.02
[23:21:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1223,462), corner_timer=0.30
[23:21:52] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=449), can_see=false
[23:21:52] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=692), can_see=false
[23:21:52] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=589), can_see=false
[23:21:52] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1207), can_see=false
[23:21:52] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1403), can_see=false
[23:21:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1297,388), corner_timer=-0.02
[23:21:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1300,384), corner_timer=0.30
[23:21:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,329), corner_timer=-0.02
[23:21:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:52] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=353), can_see=false
[23:21:52] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=614), can_see=false
[23:21:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,329), corner_timer=0.30
[23:21:52] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=628), can_see=false
[23:21:52] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1249), can_see=false
[23:21:52] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1434), can_see=false
[23:21:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,313), corner_timer=-0.02
[23:21:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,310), corner_timer=0.30
[23:21:53] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=364), can_see=false
[23:21:53] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=633), can_see=false
[23:21:53] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=695), can_see=false
[23:21:53] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1316), can_see=false
[23:21:53] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1497), can_see=false
[23:21:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,211), corner_timer=-0.02
[23:21:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,206), corner_timer=0.30
[23:21:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1393,125), corner_timer=-0.02
[23:21:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1397,123), corner_timer=0.30
[23:21:53] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=374), can_see=false
[23:21:53] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=637), can_see=false
[23:21:53] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=807), can_see=false
[23:21:53] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1420), can_see=false
[23:21:53] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1591), can_see=false
[23:21:53] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1414.103, 114.5175), source=PLAYER (Player), range=600, listeners=5
[23:21:53] [ENEMY] [Enemy5] Heard player EMPTY_CLICK at (1414.103, 114.5175), intensity=0.02, distance=370
[23:21:53] [ENEMY] [Enemy5] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[23:21:53] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(1414.1025, 114.517525)
[23:21:53] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=6,3, distance=31,3px, pos=(1441.5378, 129.53726)
[23:21:53] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=6,6, distance=31,6px, pos=(1441.6992, 129.87608)
[23:21:53] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-6,2, distance=18,8px, pos=(1430.165, 124.313065)
[23:21:53] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=2,4, distance=27,4px, pos=(1437.2621, 129.17856)
[23:21:53] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=0,9, distance=25,9px, pos=(1435.8202, 128.54692)
[23:21:53] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-11,1, distance=13,9px, pos=(1425.5994, 122.38733)
[23:21:53] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-0,6, distance=24,4px, pos=(1434.1663, 128.36203)
[23:21:53] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=2,3, distance=27,3px, pos=(1435.4893, 131.48611)
[23:21:53] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=0,4, distance=25,4px, pos=(1434.0559, 130.20772)
[23:21:53] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=11,9, distance=36,9px, pos=(1442.5858, 138.00323)
[23:21:53] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-8,0, distance=17,0px, pos=(1426.9613, 125.586426)
[23:21:53] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-4,8, distance=20,2px, pos=(1429.009, 128.0902)
[23:21:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1414.103, 114.5175), source=PLAYER (Shotgun), range=1469, listeners=5
[23:21:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[23:21:53] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-140.5°, current=146.3°, player=(1414,114), corner_timer=0.00
[23:21:53] [ENEMY] [Enemy5] Pursuing vulnerability sound at (1414.103, 114.5175), distance=370
[23:21:53] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:21:53] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1685.251, 317.1674), dir=(1, 0), lethal=false
[23:21:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:53] [INFO] [ImpactEffects] Blood effect spawned at (1685.251, 317.1674) (scale=1)
[23:21:53] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:21:53] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.067, 312.3065), dir=(1, 0), lethal=false
[23:21:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:53] [INFO] [ImpactEffects] Blood effect spawned at (1684.067, 312.3065) (scale=1)
[23:21:53] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-141.7°, current=177.5°, player=(1438,98), corner_timer=0.00
[23:21:53] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[23:21:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1684.066, 292.6436), source=ENEMY (Enemy5), range=1469, listeners=5
[23:21:53] [ENEMY] [Enemy6] Heard gunshot at (1684.066, 292.6436), source_type=1, intensity=0.03, distance=309
[23:21:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[23:21:53] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-145.5°, current=146.3°, player=(1438,98), corner_timer=0.00
[23:21:53] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:21:53] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1942.969, 445.1636), dir=(1, 0), lethal=false
[23:21:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:53] [INFO] [ImpactEffects] Blood effect spawned at (1942.969, 445.1636) (scale=1)
[23:21:53] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:21:53] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1942.969, 445.1636), dir=(1, 0), lethal=false
[23:21:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:53] [INFO] [ImpactEffects] Blood effect spawned at (1942.969, 445.1636) (scale=1)
[23:21:53] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:21:53] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1942.969, 445.1636), dir=(1, 0), lethal=false
[23:21:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:53] [INFO] [ImpactEffects] Blood effect spawned at (1942.969, 445.1636) (scale=1)
[23:21:53] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-145.4°, current=180.0°, player=(1438,97), corner_timer=0.00
[23:21:53] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) - pursuing to attack (dist=613)
[23:21:53] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[23:21:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1438,97), corner_timer=-0.01
[23:21:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:21:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(1437,96), corner_timer=0.30
[23:21:53] [INFO] [LastChance] Threat detected: Bullet
[23:21:53] [INFO] [LastChance] Effect already used this life
[23:21:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:53] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:53] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:53] [INFO] [Shotgun.FIX#445] dragStartPos=(1874, 410), aimDir=(0,81, 0,58)
[23:21:53] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:53] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-145.3°, current=-59.0°, player=(1433,94), corner_timer=0.00
[23:21:53] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:53] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:53] [INFO] [Player] Spawning blood effect at (1429.7589, 93.89009), dir=(1, 0), lethal=True (C#)
[23:21:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1429.759, 93.89009), dir=(1, 0), lethal=true
[23:21:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:53] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:53] [INFO] [ImpactEffects] Blood effect spawned at (1429.759, 93.89009) (scale=1.5)
[23:21:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[23:21:53] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[23:21:53] [INFO] [CinemaEffects] Player died - triggering death effects
[23:21:53] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[23:21:53] [INFO] [PenultimateHit] Player died - ending penultimate effect
[23:21:53] [INFO] [LastChance] Player died
[23:21:53] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-147.0°, current=-98.6°, player=(1429,93), corner_timer=0.00
[23:21:53] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[23:21:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1688.561, 262.1032), source=ENEMY (Enemy5), range=1469, listeners=5
[23:21:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[23:21:53] [ENEMY] [Enemy5] State: PURSUING -> COMBAT
[23:21:54] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[23:21:54] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[23:21:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1942.969, 445.1636), source=ENEMY (Enemy6), range=1469, listeners=5
[23:21:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1753.159, 320.1941) (added to group)
[23:21:54] [INFO] [LastChance] Threat detected: @Area2D@4924
[23:21:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1742.127, 306.8796) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1752.398, 302.8766) (added to group)
[23:21:54] [ENEMY] [Enemy6] State: PURSUING -> RETREATING
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1771.126, 296.029) (added to group)
[23:21:54] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=636), can_see=true
[23:21:54] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=830), can_see=false
[23:21:54] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1442), can_see=false
[23:21:54] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1611), can_see=false
[23:21:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(51,5, -412,6), length=415,8, dotWithAim=-198,7, aimDir=(0,81, 0,58), isPump=True
[23:21:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:54] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-198,7
[23:21:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1681.949, 248.1717), source=ENEMY (Enemy5), range=1469, listeners=5
[23:21:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1754.207, 314.7882) (added to group)
[23:21:54] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[23:21:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1679.832, 248.4345), source=ENEMY (Enemy5), range=1469, listeners=5
[23:21:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[23:21:54] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[23:21:54] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:21:54] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1671.319, 248.7192), dir=(-0.827924, -0.56084), lethal=false
[23:21:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:54] [INFO] [ImpactEffects] Blood effect spawned at (1671.319, 248.7192) (scale=1)
[23:21:54] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-177.6°, current=34.1°, player=(1391,91), corner_timer=0.00
[23:21:54] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=321), can_see=false
[23:21:54] [ENEMY] [Enemy7] Memory: high confidence (0.90) - transitioning to PURSUING
[23:21:54] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[23:21:54] [INFO] [LastChance] Threat detected: @Area2D@4945
[23:21:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-105.5°, current=89.4°, player=(1386,91), corner_timer=0.06
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1789.559, 330.2667) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2010.986, 434.9287) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2021.741, 461.9341) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1780.624, 310.0706) (added to group)
[23:21:54] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2009.8, 467.8464) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2027.86, 429.1315) (added to group)
[23:21:54] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1822.879, 394.8781) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2021.878, 453.3864) (added to group)
[23:21:54] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:54] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1813.925, 393.0696) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2053.812, 499.9123) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2013.65, 480.3935) (added to group)
[23:21:54] [ENEMY] [Enemy7] PURSUING corner check: angle 93.0°
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1836.798, 307.3784) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1818.688, 420.9423) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2033.208, 516.5201) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1768.045, 375.2039) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1496.233, 144.81) (added to group)
[23:21:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-26,6, 72,8), length=77,5, dotWithAim=20,8, aimDir=(0,81, 0,58), isPump=True
[23:21:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2058.699, 514.5064) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2084.884, 496.8932) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1816.615, 335.9643) (added to group)
[23:21:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1619.48, 221.1858), shooter_id=1165244761799, bullet_pos=(1005.512, 65.76947)
[23:21:54] [INFO] [Bullet] Using shooter_position, distance=633.332824707031
[23:21:54] [INFO] [Bullet] Distance to wall: 633.332824707031 (43.1247966306749% of viewport)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1495.725, 157.6665) (added to group)
[23:21:54] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-106.8°, current=-137.9°, player=(1320,91), corner_timer=0.00
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2044.664, 470.1165) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2056.505, 499.7995) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2071.557, 438.2174) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1532.509, 140.0444) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1563.136, 149.3973) (added to group)
[23:21:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1940.497, 436.9964), source=ENEMY (Enemy6), range=1469, listeners=5
[23:21:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2076.586, 475.8735) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2074.127, 496.3366) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2062.613, 485.1075) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2049.199, 540.871) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1542.213, 84.9005) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1609.244, 235.3154) (added to group)
[23:21:54] [INFO] [BloodyFeet:Enemy5] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2028.767, 478.3991) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1507.031, 172.1303) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1858.489, 421.4241) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1829.251, 411.7241) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2113.25, 584.0984) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1521.176, 114.0744) (added to group)
[23:21:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-62,7, 70,8), length=94,6, dotWithAim=-9,7, aimDir=(0,81, 0,58), isPump=True
[23:21:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1820.407, 365.3513) (added to group)
[23:21:54] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=732), can_see=false
[23:21:54] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=813), can_see=false
[23:21:54] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1488), can_see=false
[23:21:54] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1668), can_see=false
[23:21:54] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1911.299, 512.8268) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1830.441, 434.864) (added to group)
[23:21:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:21:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:21:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:21:54] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:21:54] [INFO] [CinemaEffects] Death effects reset
[23:21:54] [ENEMY] [Enemy1] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:21:54] [ENEMY] [Enemy2] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:21:54] [ENEMY] [Enemy3] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:21:54] [ENEMY] [Enemy4] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:21:54] [ENEMY] [Enemy5] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:21:54] [ENEMY] [Enemy6] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:21:54] [ENEMY] [Enemy7] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:21:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:54] [ENEMY] [Enemy8] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:21:54] [ENEMY] [Enemy9] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:21:54] [ENEMY] [Enemy10] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:21:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:21:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:21:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:21:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:21:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:21:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:21:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:21:54] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:21:54] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:21:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:21:54] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:21:54] [INFO] [ScoreManager] Level started with 10 enemies
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2059.295, 542.8519) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2140.662, 501.0956) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2117.534, 576.6543) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1564.669, 205.9944) (added to group)
[23:21:54] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:21:54] [INFO] [CinemaEffects] Found player node: Player
[23:21:54] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[23:21:54] [ENEMY] [Enemy1] Registered as sound listener
[23:21:54] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[23:21:54] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[23:21:54] [ENEMY] [Enemy2] Registered as sound listener
[23:21:54] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[23:21:54] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[23:21:54] [ENEMY] [Enemy3] Registered as sound listener
[23:21:54] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[23:21:54] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[23:21:54] [ENEMY] [Enemy4] Registered as sound listener
[23:21:54] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[23:21:54] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[23:21:54] [ENEMY] [Enemy5] Registered as sound listener
[23:21:54] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[23:21:54] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[23:21:54] [ENEMY] [Enemy6] Registered as sound listener
[23:21:54] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[23:21:54] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[23:21:54] [ENEMY] [Enemy7] Registered as sound listener
[23:21:54] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[23:21:54] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[23:21:54] [ENEMY] [Enemy8] Registered as sound listener
[23:21:54] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[23:21:54] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[23:21:54] [ENEMY] [Enemy9] Registered as sound listener
[23:21:54] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[23:21:54] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[23:21:54] [ENEMY] [Enemy10] Registered as sound listener
[23:21:54] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[23:21:54] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:21:54] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[23:21:54] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(449,1250), corner_timer=0.00
[23:21:54] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[23:21:54] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[23:21:54] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[23:21:54] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[23:21:54] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[23:21:54] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[23:21:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:21:54] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:21:54] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:21:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:21:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:21:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:21:54] [INFO] [LastChance] Found player: Player
[23:21:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:21:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:21:54] [INFO] [LastChance] Connected to player Died signal (C#)
[23:21:54] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:21:54] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[23:21:54] [INFO] [Shotgun.FIX#445] dragStartPos=(1026, 1402), aimDir=(0,97, 0,25)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2138.514, 470.0583) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2097.663, 552.5564) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2092.568, 549.6505) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2090.853, 565.2614) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2119.686, 476.8663) (added to group)
[23:21:54] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2055.448, 567.1205) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1602.586, 100.6282) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1586.182, 111.0403) (added to group)
[23:21:54] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2057.789, 552.4543) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1599.738, 145.4389) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1600.356, 233.7216) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1607.636, 143.8233) (added to group)
[23:21:54] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (2170.259, 665.1537) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1624.648, 146.3585) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1594.668, 223.3335) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1624.349, 177.992) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1596.143, 217.234) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1659.552, 184.4458) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1558.324, 181.7186) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1605.985, 243.5383) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1596.438, 248.5601) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1594.877, 181.0845) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1523.205, 252.0302) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1552.431, 177.7674) (added to group)
[23:21:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(102,2, -60,1), length=118,6, dotWithAim=83,6, aimDir=(0,97, 0,25), isPump=False
[23:21:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1494.334, 243.4219) (added to group)
[23:21:54] [INFO] [BloodDecal] Blood puddle created at (1571.882, 266.666) (added to group)
[23:21:54] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:54] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(112,5, -63,3), length=129,1, dotWithAim=92,8, ActionState=Ready, minDist=20
[23:21:54] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=True (away from player), isPumpDown=False (toward player)
[23:21:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:21:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:21:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:21:54] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:21:54] [ENEMY] [Enemy1] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:21:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:54] [ENEMY] [Enemy2] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:21:54] [ENEMY] [Enemy3] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:21:54] [ENEMY] [Enemy4] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:21:54] [ENEMY] [Enemy5] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:21:54] [ENEMY] [Enemy6] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:21:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:54] [ENEMY] [Enemy7] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:21:54] [ENEMY] [Enemy8] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:21:54] [ENEMY] [Enemy9] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:21:54] [ENEMY] [Enemy10] Death animation component initialized
[23:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:54] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:21:54] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:21:54] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:21:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:21:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:21:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:21:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:21:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:21:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:21:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:21:54] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:21:54] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[23:21:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:21:54] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:21:54] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:21:54] [INFO] [ScoreManager] Level started with 10 enemies
[23:21:54] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:21:54] [INFO] [CinemaEffects] Found player node: Player
[23:21:54] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 16)
[23:21:54] [ENEMY] [Enemy1] Registered as sound listener
[23:21:54] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[23:21:54] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 17)
[23:21:54] [ENEMY] [Enemy2] Registered as sound listener
[23:21:54] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[23:21:54] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:21:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 18)
[23:21:54] [ENEMY] [Enemy3] Registered as sound listener
[23:21:54] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[23:21:54] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:21:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 19)
[23:21:55] [ENEMY] [Enemy4] Registered as sound listener
[23:21:55] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[23:21:55] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:21:55] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 20)
[23:21:55] [ENEMY] [Enemy5] Registered as sound listener
[23:21:55] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[23:21:55] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:21:55] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 21)
[23:21:55] [ENEMY] [Enemy6] Registered as sound listener
[23:21:55] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[23:21:55] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:21:55] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 22)
[23:21:55] [ENEMY] [Enemy7] Registered as sound listener
[23:21:55] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[23:21:55] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:21:55] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 23)
[23:21:55] [ENEMY] [Enemy8] Registered as sound listener
[23:21:55] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[23:21:55] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:21:55] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 24)
[23:21:55] [ENEMY] [Enemy9] Registered as sound listener
[23:21:55] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[23:21:55] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:21:55] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 25)
[23:21:55] [ENEMY] [Enemy10] Registered as sound listener
[23:21:55] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:21:55] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:21:55] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:55] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:55] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:55] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:55] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:55] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:55] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:55] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:21:55] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:21:55] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:21:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:21:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:21:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:21:55] [INFO] [LastChance] Found player: Player
[23:21:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:21:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:21:55] [INFO] [LastChance] Connected to player Died signal (C#)
[23:21:55] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:21:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:21:56] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:21:56] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(447,783), corner_timer=0.30
[23:21:56] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(447,783), corner_timer=0.30
[23:21:56] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:21:56] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:21:56] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:21:56] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:21:56] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:21:56] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:21:56] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:21:56] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:21:56] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:21:56] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:21:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(446.4645, 779.2021), source=PLAYER (Player), range=600, listeners=25
[23:21:56] [INFO] [SoundPropagation] Cleaned up 15 invalid listeners
[23:21:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (446.4645, 779.2021), intensity=0.01, distance=454
[23:21:56] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:56] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (446.4645, 779.2021), intensity=0.05, distance=234
[23:21:56] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:56] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (446.4645, 779.2021), intensity=0.04, distance=255
[23:21:56] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:56] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (446.4645, 779.2021), intensity=0.02, distance=374
[23:21:56] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:21:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:21:56] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(446.4645, 779.20215)
[23:21:56] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-0,9, distance=24,1px, pos=(470.23132, 775.51044)
[23:21:56] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-7,5, distance=17,5px, pos=(463.72522, 776.5321)
[23:21:56] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=14,4, distance=39,4px, pos=(485.6328, 775.2234)
[23:21:56] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-1,4, distance=23,6px, pos=(469.89066, 776.5707)
[23:21:56] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=6,9, distance=31,9px, pos=(478.3141, 776.6982)
[23:21:56] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-9,1, distance=15,9px, pos=(462.3923, 778.9373)
[23:21:56] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=-12,1, distance=12,9px, pos=(459.39093, 778.6748)
[23:21:56] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-5,8, distance=19,2px, pos=(465.619, 779.1177)
[23:21:56] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=12,0, distance=37,0px, pos=(483.4639, 780.97144)
[23:21:56] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-11,8, distance=13,2px, pos=(459.6312, 779.7346)
[23:21:56] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=2,9, distance=27,9px, pos=(474.31082, 781.0976)
[23:21:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(446.4645, 779.2021), source=PLAYER (Shotgun), range=1469, listeners=10
[23:21:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:21:56] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=71.2°, current=-33.8°, player=(446,779), corner_timer=0.00
[23:21:56] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=454), can_see=false
[23:21:56] [ENEMY] [Enemy1] Pursuing vulnerability sound at (446.4645, 779.2021), distance=454
[23:21:56] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=78.5°, current=168.8°, player=(446,779), corner_timer=0.00
[23:21:56] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=234), can_see=false
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (234 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [ENEMY] [Enemy2] Pursuing vulnerability sound at (446.4645, 779.2021), distance=234
[23:21:56] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=173.4°, current=-123.8°, player=(446,779), corner_timer=0.00
[23:21:56] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=255), can_see=false
[23:21:56] [ENEMY] [Enemy3] Pursuing vulnerability sound at (446.4645, 779.2021), distance=255
[23:21:56] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-161.1°, current=-101.3°, player=(446,779), corner_timer=0.00
[23:21:56] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=374), can_see=false
[23:21:56] [ENEMY] [Enemy4] Pursuing vulnerability sound at (446.4645, 779.2021), distance=374
[23:21:56] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1325), can_see=false
[23:21:56] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1539), can_see=false
[23:21:56] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1173), can_see=false
[23:21:56] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1601), can_see=false
[23:21:56] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1824), can_see=false
[23:21:56] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1083), can_see=false
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (229 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (225 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (221 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (217 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/3 -> 2/3
[23:21:56] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:56] [INFO] [ImpactEffects] spawn_blood_effect called at (673.5086, 753.0512), dir=(1, 0), lethal=false
[23:21:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:56] [INFO] [ImpactEffects] Blood effect spawned at (673.5086, 753.0512) (scale=1)
[23:21:56] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/3 -> 1/3
[23:21:56] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:56] [INFO] [ImpactEffects] spawn_blood_effect called at (673.5086, 753.0512), dir=(1, 0), lethal=false
[23:21:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:56] [INFO] [ImpactEffects] Blood effect spawned at (673.5086, 753.0512) (scale=1)
[23:21:56] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/3 -> 0/3
[23:21:56] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:21:56] [INFO] [ImpactEffects] spawn_blood_effect called at (673.5086, 753.0512), dir=(1, 0), lethal=true
[23:21:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:21:56] [INFO] [ImpactEffects] Blood effect spawned at (673.5086, 753.0512) (scale=1.5)
[23:21:56] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:21:56] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:21:56] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (673.5086, 753.0512), entering SEARCHING
[23:21:56] [ENEMY] [Enemy4] SEARCHING started: center=(673.5086, 753.0512), radius=100, waypoints=5
[23:21:56] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:21:56] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:21:56] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:21:56] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (212 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (208 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (205 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (202 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (198 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (195 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (192 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (186 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (183 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (180 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (177 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (174 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:56] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:56] [INFO] [Shotgun.FIX#445] dragStartPos=(1266, 701), aimDir=(1,00, -0,06)
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (169 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (166 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-170.6°, current=-170.7°, player=(405,750), corner_timer=0.00
[23:21:56] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[23:21:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(792.1171, 814.7308), source=ENEMY (Enemy4), range=1469, listeners=9
[23:21:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[23:21:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.4°, player=(405,750), corner_timer=-0.00
[23:21:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:21:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(405,750), corner_timer=-0.00
[23:21:56] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[23:21:56] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.151, 811.3829), shooter_id=1402675922472, bullet_pos=(724.151, 811.3829)
[23:21:56] [INFO] [Bullet] Using shooter_position, distance=0
[23:21:56] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[23:21:56] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[23:21:56] [INFO] [Bullet] Starting wall penetration at (724.151, 811.3829)
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (164 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [ENEMY] [Enemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[23:21:56] [ENEMY] [Enemy4] State: SEARCHING -> COMBAT
[23:21:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(403,751), corner_timer=0.30
[23:21:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(403,751), corner_timer=0.30
[23:21:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.8677711486816
[23:21:56] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:56] [INFO] [Bullet] Body exited signal received for penetrating body
[23:21:56] [INFO] [Bullet] Exiting penetration at (686.3326, 805.1208) after traveling 33.3333320617676 pixels through wall
[23:21:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (161 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (159 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:56] [INFO] [BloodDecal] Blood puddle created at (753.3365, 740.9825) (added to group)
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (157 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:56] [INFO] [BloodDecal] Blood puddle created at (745.0997, 750.4613) (added to group)
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (155 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=403)
[23:21:56] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:56] [INFO] [BloodDecal] Blood puddle created at (750.1704, 753.8017) (added to group)
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=85.0°, current=-171.8°, player=(389,759), corner_timer=0.00
[23:21:56] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:56] [INFO] [BloodDecal] Blood puddle created at (780.76, 810.3719) (added to group)
[23:21:56] [INFO] [BloodDecal] Blood puddle created at (731.0134, 793.4741) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=337), can_see=false
[23:21:57] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=187), can_see=false
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=420), can_see=false
[23:21:57] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[23:21:57] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1391), can_see=false
[23:21:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1608), can_see=false
[23:21:57] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1329), can_see=false
[23:21:57] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1669), can_see=false
[23:21:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1892), can_see=false
[23:21:57] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1155), can_see=false
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (735.0394, 768.5879) (added to group)
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (769.251, 731.6382) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (742.5751, 775.4517) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (151 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(1,6, 207,7), length=207,7, dotWithAim=-10,2, aimDir=(1,00, -0,06), isPump=True
[23:21:57] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (748.4995, 785.0827) (added to group)
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (754.9033, 757.2617) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (149 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (145 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (813.725, 801.9205) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (142 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (738.2087, 772.3958) (added to group)
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (778.4312, 750.7746) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (138 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (765.6943, 772.2668) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (141 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (808.8282, 761.2045) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (138 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [ENEMY] [Enemy3] Ragdoll activated
[23:21:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (821.9408, 839.7346) (added to group)
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (792.0324, 764.3867) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (134 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (130 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (771.9766, 806.4775) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (127 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (830.967, 854.8953) (added to group)
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (769.7256, 791.6412) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (126 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(332,810), corner_timer=-0.01
[23:21:57] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[23:21:57] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-12,2, 63,9), length=65,0, dotWithAim=-15,8, aimDir=(1,00, -0,06), isPump=False
[23:21:57] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (124 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.6°, player=(329,812), corner_timer=0.30
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (815.7073, 833.9536) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (121 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (118 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (798.2418, 789.9513) (added to group)
[23:21:57] [INFO] [EnemyGrenade] Unsafe throw distance (115 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (802.0168, 812.3752) (added to group)
[23:21:57] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=150.3°, current=-172.6°, player=(314,817), corner_timer=0.00
[23:21:57] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:21:57] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:21:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0659, 702.1157), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:57] [INFO] [LastChance] Threat detected: Bullet
[23:21:57] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:21:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (795.0267, 814.1765) (added to group)
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (810.4139, 813.1723) (added to group)
[23:21:57] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-185,2, -304,8), length=356,7, dotWithAim=-167,5, aimDir=(1,00, -0,06), isPump=False
[23:21:57] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (872.6985, 805.6884) (added to group)
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (818.7972, 812.2435) (added to group)
[23:21:57] [INFO] [Player] Spawning blood effect at (283.16003, 828.23083), dir=(1, 0), lethal=False (C#)
[23:21:57] [INFO] [ImpactEffects] spawn_blood_effect called at (283.16, 828.2308), dir=(1, 0), lethal=false
[23:21:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:57] [INFO] [ImpactEffects] Blood effect spawned at (283.16, 828.2308) (scale=1)
[23:21:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[23:21:57] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (824.4265, 824.8052) (added to group)
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (857.1381, 844.1566) (added to group)
[23:21:57] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:21:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0659, 709.9536), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:57] [INFO] [Shotgun.FIX#243] RMB released after 24 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:57] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-265,4, -299,4), length=400,1, dotWithAim=-247,8, ActionState=Ready, minDist=20
[23:21:57] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:57] [INFO] [LastChance] Threat detected: Bullet
[23:21:57] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[23:21:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:57] [ENEMY] [Enemy1] Pursuing vulnerability sound at (446.4645, 779.2021), distance=223
[23:21:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=335), can_see=false
[23:21:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=523), can_see=false
[23:21:57] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1514), can_see=false
[23:21:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1727), can_see=false
[23:21:57] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1432), can_see=false
[23:21:57] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1743), can_see=false
[23:21:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1965), can_see=false
[23:21:57] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1179), can_see=false
[23:21:57] [INFO] [Player] Spawning blood effect at (258.43024, 850.1277), dir=(1, 0), lethal=False (C#)
[23:21:57] [INFO] [ImpactEffects] spawn_blood_effect called at (258.4302, 850.1277), dir=(1, 0), lethal=false
[23:21:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:57] [INFO] [ImpactEffects] Blood effect spawned at (258.4302, 850.1277) (scale=1)
[23:21:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[23:21:57] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[23:21:57] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:21:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0659, 709.9536), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.3°, player=(255,855), corner_timer=-0.01
[23:21:57] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[23:21:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.5°, player=(253,858), corner_timer=0.30
[23:21:57] [INFO] [LastChance] Threat detected: @Area2D@5623
[23:21:57] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:21:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:21:57] [INFO] [Player] Spawning blood effect at (250.69995, 871.6016), dir=(1, 0), lethal=False (C#)
[23:21:57] [INFO] [ImpactEffects] spawn_blood_effect called at (250.7, 871.6016), dir=(1, 0), lethal=false
[23:21:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:21:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:21:57] [INFO] [ImpactEffects] Blood effect spawned at (250.7, 871.6016) (scale=1)
[23:21:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:21:57] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:21:57] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:21:57] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:21:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0659, 709.9536), source=ENEMY (Enemy2), range=1469, listeners=9
[23:21:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (338.0102, 834.9988) (added to group)
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (340.1452, 847.2955) (added to group)
[23:21:57] [INFO] [LastChance] Threat detected: Bullet
[23:21:57] [INFO] [LastChance] Triggering last chance effect!
[23:21:57] [INFO] [LastChance] Starting last chance effect:
[23:21:57] [INFO] [LastChance]   - Time will be frozen (except player)
[23:21:57] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:21:57] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:21:57] [INFO] [LastChance]   - Brightness: 0.60
[23:21:57] [INFO] [LastChance] Pushed bullet Bullet from distance 122.2 to 200.0
[23:21:57] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[23:21:57] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:21:57] [INFO] [LastChance] Skipping player node: Player
[23:21:57] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:21:57] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5579
[23:21:57] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5613
[23:21:57] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5621
[23:21:57] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5624
[23:21:57] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5629
[23:21:57] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:21:57] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:21:57] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (384.9354, 896.8646) (added to group)
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (351.1735, 879.0718) (added to group)
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (327.4327, 845.6473) (added to group)
[23:21:57] [INFO] [BloodDecal] Blood puddle created at (355.2054, 860.2346) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (361.8367, 861.4505) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (310.8329, 901.5313) (added to group)
[23:21:58] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(291.4731, 934.3658), source=PLAYER (Player), range=600, listeners=9
[23:21:58] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (291.4731, 934.3658), intensity=0.02, distance=360
[23:21:58] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (291.4731, 934.3658), intensity=0.02, distance=323
[23:21:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[23:21:58] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(291.47314, 934.3658)
[23:21:58] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-7,4, distance=17,6px, pos=(305.16122, 923.3621)
[23:21:58] [INFO] [LastChance] Freezing newly fired player bullet: ShotgunPellet
[23:21:58] [INFO] [LastChance] Registered frozen player bullet: ShotgunPellet
[23:21:58] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-4,7, distance=20,3px, pos=(306.98425, 921.33136)
[23:21:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5640
[23:21:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5640
[23:21:58] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=1,6, distance=26,6px, pos=(312.4258, 917.91974)
[23:21:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5641
[23:21:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5641
[23:21:58] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=10,1, distance=35,1px, pos=(320.27368, 914.2549)
[23:21:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5642
[23:21:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5642
[23:21:58] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=9,0, distance=34,0px, pos=(319.6763, 915.4298)
[23:21:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5643
[23:21:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5643
[23:21:58] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-2,7, distance=22,3px, pos=(310.01614, 921.8978)
[23:21:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5644
[23:21:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5644
[23:21:58] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=-13,1, distance=11,9px, pos=(301.7541, 928.40375)
[23:21:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5645
[23:21:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5645
[23:21:58] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=12,0, distance=37,0px, pos=(323.72928, 916.3245)
[23:21:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5646
[23:21:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5646
[23:21:58] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-10,5, distance=14,5px, pos=(304.22144, 927.4511)
[23:21:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5647
[23:21:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5647
[23:21:58] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=10,2, distance=35,2px, pos=(322.74615, 918.10156)
[23:21:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5648
[23:21:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5648
[23:21:58] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=12,7, distance=37,7px, pos=(325.56757, 918.2177)
[23:21:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5649
[23:21:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5649
[23:21:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(291.4731, 934.3658), source=PLAYER (Shotgun), range=1469, listeners=9
[23:21:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (291.9196, 903.4449) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (367.5716, 914.626) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (348.7493, 904.497) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (428.8934, 958.6399) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (416.6225, 974.6844) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (367.8911, 927.5922) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (373.7671, 925.3513) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (353.5611, 882.1365) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (316.7411, 944.9358) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (355.9994, 942.4973) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (378.9341, 887.4995) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (420.9786, 910.6477) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (494.123, 890.2061) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (353.6819, 952.1636) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (360.688, 878.9568) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (384.5008, 983.3022) (added to group)
[23:21:58] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (399.8421, 979.748) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (433.5363, 878.3307) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (372.1185, 931.7325) (added to group)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (441.1539, 917.693) (added to group)
[23:21:58] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:21:58] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:21:58] [INFO] [Shotgun.FIX#445] dragStartPos=(845, 736), aimDir=(0,85, -0,53)
[23:21:58] [INFO] [BloodDecal] Blood puddle created at (378.0754, 1002.086) (added to group)
[23:21:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:58] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@5671
[23:21:58] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@5671
[23:21:58] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:21:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:58] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:21:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:58] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:21:58] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(84,6, 48,8), length=97,6, dotWithAim=45,3, aimDir=(0,85, -0,53), isPump=False
[23:21:58] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:21:59] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(84,6, 749,7), length=754,4, dotWithAim=-329,3, aimDir=(0,85, -0,53), isPump=False
[23:21:59] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:21:59] [INFO] [Shotgun.FIX#243] RMB released after 27 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:21:59] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(84,6, 746,2), length=751,0, dotWithAim=-327,5, ActionState=Ready, minDist=20
[23:21:59] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:21:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:59] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:21:59] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:21:59] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:21:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:21:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:21:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:21:59] [INFO] [LastChance] Ending last chance effect
[23:21:59] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[23:21:59] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[23:21:59] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[23:21:59] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[23:21:59] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:21:59] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:21:59] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:21:59] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:21:59] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:21:59] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[23:21:59] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[23:21:59] [INFO] [LastChance] All process modes restored
[23:21:59] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:21:59] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:21:59] [ENEMY] [Enemy1] Death animation component initialized
[23:21:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:59] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:21:59] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:21:59] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:21:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:59] [ENEMY] [Enemy2] Death animation component initialized
[23:21:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:59] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:21:59] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:21:59] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:21:59] [ENEMY] [Enemy3] Death animation component initialized
[23:21:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:59] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:21:59] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:21:59] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:21:59] [ENEMY] [Enemy4] Death animation component initialized
[23:21:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:59] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:21:59] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:21:59] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:21:59] [ENEMY] [Enemy5] Death animation component initialized
[23:21:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:59] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:21:59] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:21:59] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:21:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:21:59] [ENEMY] [Enemy6] Death animation component initialized
[23:21:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:59] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:21:59] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:21:59] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:21:59] [ENEMY] [Enemy7] Death animation component initialized
[23:21:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:59] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:21:59] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:21:59] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:21:59] [ENEMY] [Enemy8] Death animation component initialized
[23:21:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:59] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:21:59] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:21:59] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:21:59] [ENEMY] [Enemy9] Death animation component initialized
[23:21:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:59] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:21:59] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:21:59] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:21:59] [ENEMY] [Enemy10] Death animation component initialized
[23:21:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:21:59] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:21:59] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:21:59] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:21:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:21:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:21:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:21:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:21:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:21:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:21:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:21:59] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:21:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[23:21:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:21:59] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:21:59] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:21:59] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:21:59] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:21:59] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:21:59] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:21:59] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:21:59] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:21:59] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:21:59] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:21:59] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:21:59] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:21:59] [INFO] [ScoreManager] Level started with 10 enemies
[23:21:59] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:21:59] [INFO] [CinemaEffects] Found player node: Player
[23:21:59] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:21:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[23:21:59] [ENEMY] [Enemy1] Registered as sound listener
[23:21:59] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[23:21:59] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:21:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[23:21:59] [ENEMY] [Enemy2] Registered as sound listener
[23:21:59] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[23:21:59] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:21:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[23:21:59] [ENEMY] [Enemy3] Registered as sound listener
[23:21:59] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[23:21:59] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:21:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[23:21:59] [ENEMY] [Enemy4] Registered as sound listener
[23:21:59] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[23:21:59] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:21:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[23:21:59] [ENEMY] [Enemy5] Registered as sound listener
[23:21:59] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[23:21:59] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:21:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[23:21:59] [ENEMY] [Enemy6] Registered as sound listener
[23:21:59] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[23:21:59] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:21:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[23:21:59] [ENEMY] [Enemy7] Registered as sound listener
[23:21:59] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[23:21:59] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:21:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[23:21:59] [ENEMY] [Enemy8] Registered as sound listener
[23:21:59] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[23:21:59] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:21:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[23:21:59] [ENEMY] [Enemy9] Registered as sound listener
[23:21:59] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[23:21:59] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:21:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[23:21:59] [ENEMY] [Enemy10] Registered as sound listener
[23:21:59] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[23:21:59] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:21:59] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:59] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:59] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:59] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:59] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:59] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:59] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:59] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:21:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:21:59] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:21:59] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:21:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:21:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:21:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:21:59] [INFO] [LastChance] Found player: Player
[23:21:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:21:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:21:59] [INFO] [LastChance] Connected to player Died signal (C#)
[23:21:59] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:01] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:01] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:22:01] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[23:22:01] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[23:22:01] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:22:01] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:22:01] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:22:01] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:22:01] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:22:01] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:22:01] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:22:01] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:22:01] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:22:01] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:22:01] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(446.1874, 740.7348), source=PLAYER (Player), range=600, listeners=19
[23:22:01] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[23:22:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:22:01] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(446.18744, 740.7348)
[23:22:01] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=13,2, distance=38,2px, pos=(484.30154, 742.6246)
[23:22:01] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-12,3, distance=12,7px, pos=(458.9028, 741.66595)
[23:22:01] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=7,5, distance=32,5px, pos=(478.5454, 743.865)
[23:22:01] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=12,8, distance=37,8px, pos=(483.76505, 745.1782)
[23:22:01] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-5,6, distance=19,4px, pos=(465.38815, 743.7623)
[23:22:01] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=10,2, distance=35,2px, pos=(480.8175, 746.7989)
[23:22:01] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=6,1, distance=31,1px, pos=(476.7443, 746.56134)
[23:22:01] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-13,0, distance=12,0px, pos=(457.8104, 743.54315)
[23:22:01] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=-12,7, distance=12,3px, pos=(458.1086, 743.7408)
[23:22:01] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-5,7, distance=19,3px, pos=(464.6539, 746.4409)
[23:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(446.1874, 740.7348), source=PLAYER (Shotgun), range=1469, listeners=10
[23:22:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:22:01] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=417), can_see=false
[23:22:01] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=196), can_see=false
[23:22:01] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=254), can_see=false
[23:22:01] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=388), can_see=false
[23:22:01] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1313), can_see=false
[23:22:01] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1532), can_see=false
[23:22:01] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1207), can_see=false
[23:22:01] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1618), can_see=false
[23:22:01] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1841), can_see=false
[23:22:01] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1130), can_see=false
[23:22:01] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:22:01] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:01] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[23:22:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:01] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[23:22:01] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:22:01] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:01] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[23:22:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:01] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[23:22:01] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:22:01] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:01] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[23:22:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:01] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[23:22:01] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[23:22:01] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:01] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[23:22:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:01] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:22:01] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[23:22:01] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:22:01] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:22:01] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:22:01] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:22:01] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:22:01] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:22:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.5°, player=(426,731), corner_timer=-0.00
[23:22:01] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(426,731), corner_timer=-0.00
[23:22:01] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[23:22:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(424,732), corner_timer=0.30
[23:22:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(424,732), corner_timer=0.30
[23:22:01] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:01] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:01] [INFO] [Shotgun.FIX#445] dragStartPos=(1270, 839), aimDir=(1,00, 0,08)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (752.1539, 744.2464) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (752.6266, 779.691) (added to group)
[23:22:01] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (753.6997, 767.32) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (758.8547, 787.3395) (added to group)
[23:22:01] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (742.9973, 747.3678) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (784.4131, 734.9022) (added to group)
[23:22:01] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (753.3398, 789.4447) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (751.2218, 765.7306) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (756.4622, 792.2902) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (771.2079, 758.3412) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (785.4551, 774.2309) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (784.1329, 737.4919) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (795.9716, 804.2619) (added to group)
[23:22:01] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=432), can_see=false
[23:22:01] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=230), can_see=false
[23:22:01] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=454), can_see=false
[23:22:01] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1404), can_see=false
[23:22:01] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1621), can_see=false
[23:22:01] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1341), can_see=false
[23:22:01] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1678), can_see=false
[23:22:01] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1901), can_see=false
[23:22:01] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1156), can_see=false
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (770.5832, 757.1617) (added to group)
[23:22:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(8,2, -434,0), length=434,0, dotWithAim=-28,6, aimDir=(1,00, 0,08), isPump=True
[23:22:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:01] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-28,6
[23:22:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(350,780), corner_timer=-0.01
[23:22:01] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[23:22:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.6°, player=(346,780), corner_timer=0.30
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (804.8112, 814.8546) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (817.5417, 810.362) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (765.9355, 814.7319) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (776.1357, 774.84) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (816.8686, 784.6508) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (825.7523, 839.0299) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (775.1977, 754.1843) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (804.3691, 756.8105) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (773.0662, 767.4432) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (788.5471, 834.639) (added to group)
[23:22:01] [ENEMY] [Enemy3] Ragdoll activated
[23:22:01] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (817.3202, 839.0777) (added to group)
[23:22:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-15,2, 36,7), length=39,7, dotWithAim=-12,0, aimDir=(1,00, 0,08), isPump=True
[23:22:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:22:01] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-12,0
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (859.6478, 890.0178) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (795.4203, 826.8765) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (809.317, 837.4581) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (854.9792, 787.4847) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (821.5433, 839.2989) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (881.293, 746.3781) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (862.5753, 897.4111) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (862.4214, 779.4175) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (893.2672, 784.7766) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (790.2881, 821.6823) (added to group)
[23:22:01] [INFO] [BloodDecal] Blood puddle created at (853.783, 777.9484) (added to group)
[23:22:02] [INFO] [BloodDecal] Blood puddle created at (833.4858, 803.5219) (added to group)
[23:22:02] [INFO] [BloodDecal] Blood puddle created at (794.558, 804.6064) (added to group)
[23:22:02] [INFO] [BloodDecal] Blood puddle created at (877.0496, 896.2112) (added to group)
[23:22:02] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-15,2, 12,9), length=19,9, dotWithAim=-14,1, aimDir=(1,00, 0,08), isPump=True
[23:22:02] [INFO] [BloodDecal] Blood puddle created at (856.8326, 793.6897) (added to group)
[23:22:02] [INFO] [Shotgun.FIX#243] RMB released after 31 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:02] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-15,2, 13,5), length=20,3, dotWithAim=-14,0, ActionState=NeedsPumpUp, minDist=20
[23:22:02] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:02] [INFO] [BloodDecal] Blood puddle created at (874.7194, 900.968) (added to group)
[23:22:02] [INFO] [BloodDecal] Blood puddle created at (903.181, 902.7549) (added to group)
[23:22:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.3°, player=(247,781), corner_timer=-0.01
[23:22:02] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[23:22:02] [INFO] [BloodDecal] Blood puddle created at (853.945, 826.9455) (added to group)
[23:22:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.5°, player=(243,781), corner_timer=0.30
[23:22:02] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=436), can_see=false
[23:22:02] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=284), can_see=false
[23:22:02] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=578), can_see=false
[23:22:02] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1528), can_see=false
[23:22:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1747), can_see=false
[23:22:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1468), can_see=false
[23:22:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1795), can_see=false
[23:22:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2018), can_see=false
[23:22:02] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1240), can_see=false
[23:22:02] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:02] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:02] [INFO] [Shotgun.FIX#445] dragStartPos=(1188, 1131), aimDir=(0,94, 0,34)
[23:22:02] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:02] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:02] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(220,781), corner_timer=-0.01
[23:22:02] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[23:22:02] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(40,1, -710,1), length=711,2, dotWithAim=-202,8, aimDir=(0,94, 0,34), isPump=True
[23:22:02] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:02] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-202,8
[23:22:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(220,781), corner_timer=0.30
[23:22:02] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(91,5, -709,8), length=715,7, dotWithAim=-154,3, aimDir=(0,94, 0,34), isPump=True
[23:22:02] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:02] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-154,3
[23:22:02] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=439), can_see=false
[23:22:02] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=293), can_see=false
[23:22:02] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=592), can_see=false
[23:22:02] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1541), can_see=false
[23:22:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1761), can_see=false
[23:22:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1482), can_see=false
[23:22:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1808), can_see=false
[23:22:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2031), can_see=false
[23:22:02] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1248), can_see=false
[23:22:02] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(91,5, -709,6), length=715,5, dotWithAim=-154,2, aimDir=(0,94, 0,34), isPump=True
[23:22:02] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:02] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-154,2
[23:22:02] [INFO] [Shotgun.FIX#243] RMB released after 30 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:02] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(90,2, -698,9), length=704,7, dotWithAim=-151,8, ActionState=NeedsPumpUp, minDist=20
[23:22:02] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(220,781), corner_timer=-0.01
[23:22:02] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[23:22:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.3°, player=(220,781), corner_timer=0.30
[23:22:03] [ENEMY] [Enemy3] Death animation completed
[23:22:03] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=439), can_see=false
[23:22:03] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=293), can_see=false
[23:22:03] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=592), can_see=false
[23:22:03] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1541), can_see=false
[23:22:03] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1761), can_see=false
[23:22:03] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1482), can_see=false
[23:22:03] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1808), can_see=false
[23:22:03] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2031), can_see=false
[23:22:03] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1247), can_see=false
[23:22:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(219,781), corner_timer=-0.01
[23:22:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(218,781), corner_timer=0.30
[23:22:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-126.7°, player=(214,781), corner_timer=-0.01
[23:22:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[23:22:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-129.0°, player=(214,781), corner_timer=0.30
[23:22:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:03] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=440), can_see=false
[23:22:03] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=296), can_see=false
[23:22:03] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=597), can_see=false
[23:22:03] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1547), can_see=false
[23:22:03] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1767), can_see=false
[23:22:03] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1418), can_see=false
[23:22:03] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1813), can_see=false
[23:22:03] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2036), can_see=false
[23:22:03] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1251), can_see=false
[23:22:03] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:03] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:03] [INFO] [Shotgun.FIX#445] dragStartPos=(1217, 724), aimDir=(1,00, -0,06)
[23:22:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:03] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:03] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:03] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=178.1°, player=(214,781), corner_timer=-0.01
[23:22:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[23:22:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=179.0°, player=(214,781), corner_timer=0.30
[23:22:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(11,4, 0,0), length=11,4, dotWithAim=11,3, aimDir=(1,00, -0,06), isPump=True
[23:22:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(11,4, 410,1), length=410,3, dotWithAim=-11,9, aimDir=(1,00, -0,06), isPump=True
[23:22:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:22:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=440), can_see=false
[23:22:04] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=296), can_see=false
[23:22:04] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=597), can_see=false
[23:22:04] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1547), can_see=false
[23:22:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1767), can_see=false
[23:22:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1402), can_see=false
[23:22:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1813), can_see=false
[23:22:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2036), can_see=false
[23:22:04] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1251), can_see=false
[23:22:04] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:04] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:04] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:04] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.2°, current=126.7°, player=(205,781), corner_timer=-0.00
[23:22:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[23:22:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=129.6°, player=(202,781), corner_timer=0.30
[23:22:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-30,1, 147,6), length=150,6, dotWithAim=-38,4, aimDir=(1,00, -0,06), isPump=False
[23:22:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:04] [INFO] [Shotgun.FIX#243] RMB released after 17 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:04] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-26,1, 133,6), length=136,1, dotWithAim=-33,6, ActionState=Ready, minDist=20
[23:22:04] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.8°, current=89.6°, player=(108,780), corner_timer=-0.02
[23:22:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[23:22:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(103,780), corner_timer=0.30
[23:22:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=475), can_see=false
[23:22:04] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=382), can_see=false
[23:22:04] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=717), can_see=false
[23:22:04] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1663), can_see=false
[23:22:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1885), can_see=false
[23:22:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1523), can_see=false
[23:22:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1927), can_see=false
[23:22:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2150), can_see=false
[23:22:04] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1347), can_see=false
[23:22:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:04] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[23:22:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.6°, current=89.6°, player=(80,716), corner_timer=-0.02
[23:22:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[23:22:05] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=153.3°, current=-157.5°, player=(80,711), corner_timer=0.00
[23:22:05] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(80,711), corner_timer=0.30
[23:22:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:05] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[23:22:05] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[23:22:05] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=124.3°, current=-157.5°, player=(80,672), corner_timer=0.00
[23:22:05] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:22:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(370.7356, 562.9197), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[23:22:05] [ENEMY] [Enemy1] PURSUING corner check: angle 37.5°
[23:22:05] [INFO] [LastChance] Threat detected: Bullet
[23:22:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:05] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=339), can_see=false
[23:22:05] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=765), can_see=false
[23:22:05] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1646), can_see=false
[23:22:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1880), can_see=false
[23:22:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1553), can_see=false
[23:22:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1991), can_see=false
[23:22:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2214), can_see=false
[23:22:05] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1444), can_see=false
[23:22:05] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:22:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.2314, 574.3775), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[23:22:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(310.2436, 594.0856), shooter_id=1498087952434, bullet_pos=(37.36234, 697.0677)
[23:22:05] [INFO] [Bullet] Using shooter_position, distance=291.666748046875
[23:22:05] [INFO] [Bullet] Distance to wall: 291.666748046875 (19.8601252023692% of viewport)
[23:22:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:05] [INFO] [Bullet] Starting wall penetration at (37.36234, 697.0677)
[23:22:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.9351806640625
[23:22:05] [INFO] [Bullet] Body exited signal received for penetrating body
[23:22:05] [INFO] [Bullet] Exiting penetration at (-6.29866, 713.5449) after traveling 41.666675567627 pixels through wall
[23:22:05] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:22:05] [INFO] [LastChance] Threat detected: @Area2D@5999
[23:22:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:05] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.07458, 621.8929), source=PLAYER (Player), range=600, listeners=9
[23:22:05] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.07458, 621.8929), intensity=0.03, distance=307
[23:22:05] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (80.07458, 621.8929), intensity=0.04, distance=238
[23:22:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[23:22:05] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(80.07458, 621.89294)
[23:22:05] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-0,5, distance=24,5px, pos=(104.4106, 619.5301)
[23:22:05] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-10,7, distance=14,3px, pos=(94.29365, 620.4456)
[23:22:05] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-5,6, distance=19,4px, pos=(99.43121, 620.70544)
[23:22:05] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=12,9, distance=37,9px, pos=(118.00247, 621.043)
[23:22:05] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=3,4, distance=28,4px, pos=(108.44615, 622.304)
[23:22:05] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-8,8, distance=16,2px, pos=(96.21432, 622.55865)
[23:22:05] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-8,7, distance=16,3px, pos=(96.38434, 622.84393)
[23:22:05] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=13,5, distance=38,5px, pos=(118.27447, 626.4411)
[23:22:05] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=-7,4, distance=17,6px, pos=(97.52459, 623.85376)
[23:22:05] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-5,3, distance=19,7px, pos=(99.57612, 624.90137)
[23:22:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07458, 621.8929), source=PLAYER (Shotgun), range=1469, listeners=9
[23:22:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[23:22:05] [ENEMY] [Enemy1] Pursuing vulnerability sound at (80.07458, 621.8929), distance=307
[23:22:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(80,621), corner_timer=-0.02
[23:22:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[23:22:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(80,619), corner_timer=0.30
[23:22:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(271.5518, 598.367), shooter_id=1498087952434, bullet_pos=(29.04191, 659.1038)
[23:22:05] [INFO] [Bullet] Using shooter_position, distance=249.999984741211
[23:22:05] [INFO] [Bullet] Distance to wall: 249.999984741211 (17.0229586704648% of viewport)
[23:22:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:05] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:22:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4689, 579.2647), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[23:22:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(271.5518, 598.367), shooter_id=1498087952434, bullet_pos=(99.76433, 686.4723)
[23:22:05] [INFO] [Bullet] Using shooter_position, distance=193.063369750977
[23:22:05] [INFO] [Bullet] Distance to wall: 193.063369750977 (13.1460398585768% of viewport)
[23:22:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:05] [INFO] [LastChance] Threat detected: Bullet
[23:22:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:05] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:22:05] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:05] [INFO] [ImpactEffects] spawn_blood_effect called at (314.4689, 579.2647), dir=(1, 0), lethal=false
[23:22:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:05] [INFO] [ImpactEffects] Blood effect spawned at (314.4689, 579.2647) (scale=1)
[23:22:05] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:22:05] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:05] [INFO] [ImpactEffects] spawn_blood_effect called at (314.4689, 579.2647), dir=(1, 0), lethal=false
[23:22:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:05] [INFO] [ImpactEffects] Blood effect spawned at (314.4689, 579.2647) (scale=1)
[23:22:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:05] [INFO] [Player] Spawning blood effect at (80.07458, 612.1951), dir=(1, 0), lethal=False (C#)
[23:22:05] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07458, 612.1951), dir=(1, 0), lethal=false
[23:22:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:05] [INFO] [ImpactEffects] Blood effect spawned at (80.07458, 612.1951) (scale=1)
[23:22:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[23:22:05] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[23:22:05] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:22:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4689, 579.2647), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[23:22:05] [INFO] [LastChance] Threat detected: Bullet
[23:22:05] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[23:22:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:05] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:22:05] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:05] [INFO] [ImpactEffects] spawn_blood_effect called at (314.4689, 579.2647), dir=(0.861057, -0.508509), lethal=false
[23:22:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:05] [INFO] [ImpactEffects] Blood effect spawned at (314.4689, 579.2647) (scale=1)
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (237 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (237 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [Player] Spawning blood effect at (80.07458, 616.95953), dir=(1, 0), lethal=False (C#)
[23:22:05] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07458, 616.9595), dir=(1, 0), lethal=false
[23:22:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:05] [INFO] [ImpactEffects] Blood effect spawned at (80.07458, 616.9595) (scale=1)
[23:22:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[23:22:05] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (237 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=120.6°, current=70.8°, player=(80,618), corner_timer=0.20
[23:22:05] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[23:22:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(206.0378, 405.1912), source=ENEMY (Enemy1), range=1469, listeners=9
[23:22:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (238 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[23:22:05] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:22:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4689, 579.2647), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[23:22:05] [INFO] [LastChance] Threat detected: Bullet
[23:22:05] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:22:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (238 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [LastChance] Threat detected: @Area2D@6028
[23:22:05] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:22:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (239 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (239 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (240 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (240 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [Player] Spawning blood effect at (80.07458, 635.37726), dir=(1, 0), lethal=False (C#)
[23:22:05] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07458, 635.3773), dir=(1, 0), lethal=false
[23:22:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:05] [INFO] [ImpactEffects] Blood effect spawned at (80.07458, 635.3773) (scale=1)
[23:22:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:22:05] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:22:05] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:22:05] [INFO] [Player] Spawning blood effect at (80.07458, 635.37726), dir=(1, 0), lethal=True (C#)
[23:22:05] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07458, 635.3773), dir=(1, 0), lethal=true
[23:22:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:05] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:22:05] [INFO] [ImpactEffects] Blood effect spawned at (80.07458, 635.3773) (scale=1.5)
[23:22:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[23:22:05] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[23:22:05] [INFO] [CinemaEffects] Player died - triggering death effects
[23:22:05] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[23:22:05] [INFO] [PenultimateHit] Player died - ending penultimate effect
[23:22:05] [INFO] [LastChance] Player died
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (241 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.5°, player=(80,635), corner_timer=-0.01
[23:22:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:22:05] [INFO] [BloodDecal] Blood puddle created at (363.6997, 569.6186) (added to group)
[23:22:05] [INFO] [BloodDecal] Blood puddle created at (391.1893, 595.278) (added to group)
[23:22:05] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[23:22:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(193.6606, 408.4537), source=ENEMY (Enemy1), range=1469, listeners=9
[23:22:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (242 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.8°, player=(80,638), corner_timer=0.30
[23:22:05] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:22:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4689, 579.2647), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[23:22:05] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=765), can_see=false
[23:22:05] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1646), can_see=false
[23:22:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1880), can_see=false
[23:22:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1553), can_see=false
[23:22:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1991), can_see=false
[23:22:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2215), can_see=false
[23:22:05] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1444), can_see=false
[23:22:05] [INFO] [BloodDecal] Blood puddle created at (144.6118, 630.7147) (added to group)
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (244 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [BloodDecal] Blood puddle created at (386.6269, 566.2961) (added to group)
[23:22:05] [INFO] [LastChance] Threat detected: Bullet
[23:22:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:05] [INFO] [LastChance] Threat detected: @Area2D@6052
[23:22:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (245 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [BloodDecal] Blood puddle created at (377.8359, 622.3866) (added to group)
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (247 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:05] [INFO] [BloodDecal] Blood puddle created at (380.3107, 591.7373) (added to group)
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (249 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [BloodDecal] Blood puddle created at (421.7232, 561.0388) (added to group)
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (250 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:05] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:05] [INFO] [Shotgun.FIX#445] dragStartPos=(992, 527), aimDir=(0,99, -0,16)
[23:22:05] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[23:22:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(193.6606, 408.4537), source=ENEMY (Enemy1), range=1469, listeners=9
[23:22:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (252 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:05] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:22:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4689, 579.2647), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[23:22:05] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:05] [INFO] [BloodDecal] Blood puddle created at (435.5034, 634.8809) (added to group)
[23:22:05] [INFO] [BloodDecal] Blood puddle created at (398.3356, 641.6195) (added to group)
[23:22:05] [INFO] [BloodDecal] Blood puddle created at (379.3973, 632.1924) (added to group)
[23:22:05] [INFO] [BloodDecal] Blood puddle created at (156.6472, 669.0629) (added to group)
[23:22:05] [INFO] [EnemyGrenade] Unsafe throw distance (255 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:05] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:05] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:06] [INFO] [EnemyGrenade] Unsafe throw distance (257 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:06] [INFO] [LastChance] Threat detected: @Area2D@6065
[23:22:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:06] [INFO] [LastChance] Threat detected: Bullet
[23:22:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:06] [INFO] [EnemyGrenade] Unsafe throw distance (259 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:06] [INFO] [EnemyGrenade] Unsafe throw distance (261 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:06] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (439.4291, 665.7239) (added to group)
[23:22:06] [INFO] [EnemyGrenade] Unsafe throw distance (263 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (399.0998, 653.1755) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (402.2119, 594.1541) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (151.4486, 626.7422) (added to group)
[23:22:06] [INFO] [EnemyGrenade] Unsafe throw distance (265 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (394.6203, 598.4949) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (217.1678, 650.4429) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (422.6802, 553.655) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (180.5644, 649.1498) (added to group)
[23:22:06] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[23:22:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(193.6606, 408.4537), source=ENEMY (Enemy1), range=1469, listeners=9
[23:22:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[23:22:06] [INFO] [EnemyGrenade] Unsafe throw distance (267 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (163.2082, 638.0154) (added to group)
[23:22:06] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:22:06] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=149.9°, current=150.7°, player=(80,715), corner_timer=0.00
[23:22:06] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=271), can_see=false
[23:22:06] [INFO] [EnemyGrenade] Unsafe throw distance (271 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:06] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (453.3658, 583.8079) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (474.1467, 565.9848) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (435.0906, 564.3522) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (205.5013, 623.2645) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (128.8228, 655.2982) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (135.9953, 678.3502) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (134.6429, 660.5504) (added to group)
[23:22:06] [INFO] [EnemyGrenade] Unsafe throw distance (273 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:06] [ENEMY] [Enemy2] Pursuing vulnerability sound at (80.07458, 710.9509), distance=269
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (168.1226, 640.5669) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (125.145, 628.9094) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (393.227, 616.3586) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (228.9156, 643.4162) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (169.0292, 666.0009) (added to group)
[23:22:06] [INFO] [LastChance] Threat detected: @Area2D@6086
[23:22:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:06] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:06] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(0,7, -70,4), length=70,4, dotWithAim=11,7, ActionState=NeedsPumpDown, minDist=20
[23:22:06] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=False, isPumpUp=False (away from player), isPumpDown=False (toward player)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (397.0501, 537.3154) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (149.5032, 673.4191) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (146.5426, 649.0744) (added to group)
[23:22:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.4°, player=(80,733), corner_timer=-0.01
[23:22:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[23:22:06] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[23:22:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(193.6606, 408.4537), source=ENEMY (Enemy1), range=1469, listeners=9
[23:22:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[23:22:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(80,736), corner_timer=0.30
[23:22:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:06] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:22:06] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:22:06] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:22:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:06] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:22:06] [INFO] [CinemaEffects] Death effects reset
[23:22:06] [ENEMY] [Enemy1] Death animation component initialized
[23:22:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:06] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:22:06] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:22:06] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:22:06] [ENEMY] [Enemy2] Death animation component initialized
[23:22:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:06] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:22:06] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:22:06] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:22:06] [ENEMY] [Enemy3] Death animation component initialized
[23:22:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:06] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:22:06] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:22:06] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:22:06] [ENEMY] [Enemy4] Death animation component initialized
[23:22:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:06] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:22:06] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:22:06] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:22:06] [ENEMY] [Enemy5] Death animation component initialized
[23:22:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:06] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:22:06] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:22:06] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:22:06] [ENEMY] [Enemy6] Death animation component initialized
[23:22:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:06] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:22:06] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:22:06] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:22:06] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:06] [ENEMY] [Enemy7] Death animation component initialized
[23:22:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:06] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:22:06] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:22:06] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:22:06] [ENEMY] [Enemy8] Death animation component initialized
[23:22:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:06] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:22:06] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:22:06] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:22:06] [ENEMY] [Enemy9] Death animation component initialized
[23:22:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:06] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:22:06] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:22:06] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:22:06] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:06] [ENEMY] [Enemy10] Death animation component initialized
[23:22:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:06] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:06] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:06] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:06] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:22:06] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:06] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:06] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:06] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:06] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:06] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:06] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[23:22:06] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:06] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:22:06] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:22:06] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:22:06] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:22:06] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:22:06] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:22:06] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:22:06] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:22:06] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:22:06] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:22:06] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:22:06] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:22:06] [INFO] [ScoreManager] Level started with 10 enemies
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (466.3624, 669.1555) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (158.6627, 672.8724) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (182.7123, 669.7383) (added to group)
[23:22:06] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:22:06] [INFO] [CinemaEffects] Found player node: Player
[23:22:06] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:06] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[23:22:06] [ENEMY] [Enemy1] Registered as sound listener
[23:22:06] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[23:22:06] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:22:06] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[23:22:06] [ENEMY] [Enemy2] Registered as sound listener
[23:22:06] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[23:22:06] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:22:06] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[23:22:06] [ENEMY] [Enemy3] Registered as sound listener
[23:22:06] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[23:22:06] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:22:06] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[23:22:06] [ENEMY] [Enemy4] Registered as sound listener
[23:22:06] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[23:22:06] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:22:06] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[23:22:06] [ENEMY] [Enemy5] Registered as sound listener
[23:22:06] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[23:22:06] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:22:06] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[23:22:06] [ENEMY] [Enemy6] Registered as sound listener
[23:22:06] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[23:22:06] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:22:06] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[23:22:06] [ENEMY] [Enemy7] Registered as sound listener
[23:22:06] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[23:22:06] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:22:06] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[23:22:06] [ENEMY] [Enemy8] Registered as sound listener
[23:22:06] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[23:22:06] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:22:06] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[23:22:06] [ENEMY] [Enemy9] Registered as sound listener
[23:22:06] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[23:22:06] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:22:06] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[23:22:06] [ENEMY] [Enemy10] Registered as sound listener
[23:22:06] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[23:22:06] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:06] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:06] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:06] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:06] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:06] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:06] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:06] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:06] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:06] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:06] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:22:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:06] [INFO] [LastChance] Found player: Player
[23:22:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:06] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:06] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (505.2029, 680.9209) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (447.3182, 586.9883) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (227.8736, 633.9976) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (167.6279, 681.743) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (211.9069, 664.6268) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (188.7177, 647.4578) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (469.8737, 649.1522) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (472.7646, 632.6349) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (394.1703, 584.8024) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (484.0424, 551.0368) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (207.11, 652.1191) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (532.8578, 648.6278) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (419.7099, 665.5114) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (215.2373, 672.3568) (added to group)
[23:22:06] [INFO] [BloodDecal] Blood puddle created at (248.5594, 627.3906) (added to group)
[23:22:07] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:07] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:22:07] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,836), corner_timer=0.30
[23:22:07] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,836), corner_timer=0.30
[23:22:07] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:22:07] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:22:07] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:22:07] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:22:07] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:22:07] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:22:07] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:22:07] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:22:07] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:22:07] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:22:07] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(445.6379, 772.4428), source=PLAYER (Player), range=600, listeners=19
[23:22:07] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[23:22:07] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (445.6379, 772.4428), intensity=0.01, distance=447
[23:22:07] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:07] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (445.6379, 772.4428), intensity=0.05, distance=227
[23:22:07] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:07] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (445.6379, 772.4428), intensity=0.04, distance=255
[23:22:07] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:07] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (445.6379, 772.4428), intensity=0.02, distance=377
[23:22:07] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:22:07] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(445.63788, 772.4428)
[23:22:07] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=11,4, distance=36,4px, pos=(479.09137, 758.07184)
[23:22:07] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-7,9, distance=17,1px, pos=(461.74707, 766.73596)
[23:22:07] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-0,6, distance=24,4px, pos=(468.86172, 764.81714)
[23:22:07] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-0,1, distance=24,9px, pos=(469.3107, 764.7544)
[23:22:07] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-4,0, distance=21,0px, pos=(465.8076, 766.54675)
[23:22:07] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-5,2, distance=19,8px, pos=(464.87454, 767.66797)
[23:22:07] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=4,2, distance=29,2px, pos=(474.09457, 765.9484)
[23:22:07] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-3,2, distance=21,8px, pos=(467.1029, 768.4528)
[23:22:07] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-5,3, distance=19,7px, pos=(465.07947, 769.0812)
[23:22:07] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-8,7, distance=16,3px, pos=(461.8069, 770.1912)
[23:22:07] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=13,7, distance=38,7px, pos=(484.05728, 767.90875)
[23:22:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(445.6379, 772.4428), source=PLAYER (Shotgun), range=1469, listeners=10
[23:22:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:22:08] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=71.0°, current=33.8°, player=(445,772), corner_timer=0.00
[23:22:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=447), can_see=false
[23:22:08] [ENEMY] [Enemy1] Pursuing vulnerability sound at (445.6379, 772.4428), distance=447
[23:22:08] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=78.4°, current=45.0°, player=(445,772), corner_timer=0.00
[23:22:08] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=227), can_see=false
[23:22:08] [ENEMY] [Enemy2] Pursuing vulnerability sound at (445.6379, 772.4428), distance=227
[23:22:08] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=175.0°, current=11.3°, player=(445,772), corner_timer=0.00
[23:22:08] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=255), can_see=false
[23:22:08] [ENEMY] [Enemy3] Pursuing vulnerability sound at (445.6379, 772.4428), distance=255
[23:22:08] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-160.2°, current=-101.3°, player=(445,772), corner_timer=0.00
[23:22:08] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=377), can_see=false
[23:22:08] [ENEMY] [Enemy4] Pursuing vulnerability sound at (445.6379, 772.4428), distance=377
[23:22:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1324), can_see=false
[23:22:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1539), can_see=false
[23:22:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1215), can_see=false
[23:22:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1604), can_see=false
[23:22:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1828), can_see=false
[23:22:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1112), can_see=false
[23:22:08] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=176.0°, current=-170.9°, player=(444,768), corner_timer=0.00
[23:22:08] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[23:22:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.6873, 750.4688), source=ENEMY (Enemy3), range=1469, listeners=10
[23:22:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[23:22:08] [INFO] [LastChance] Threat detected: Bullet
[23:22:08] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:08] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:22:08] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:08] [INFO] [ImpactEffects] spawn_blood_effect called at (673.3867, 751.5229), dir=(1, 0), lethal=false
[23:22:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:08] [INFO] [ImpactEffects] Blood effect spawned at (673.3867, 751.5229) (scale=1)
[23:22:08] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:22:08] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:08] [INFO] [ImpactEffects] spawn_blood_effect called at (673.3867, 751.5229), dir=(1, 0), lethal=false
[23:22:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:08] [INFO] [ImpactEffects] Blood effect spawned at (673.3867, 751.5229) (scale=1)
[23:22:08] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:22:08] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:08] [INFO] [ImpactEffects] spawn_blood_effect called at (673.3867, 751.5229), dir=(1, 0), lethal=false
[23:22:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:08] [INFO] [ImpactEffects] Blood effect spawned at (673.3867, 751.5229) (scale=1)
[23:22:08] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[23:22:08] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:08] [INFO] [ImpactEffects] spawn_blood_effect called at (673.3867, 751.5229), dir=(1, 0), lethal=true
[23:22:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:08] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:22:08] [INFO] [ImpactEffects] Blood effect spawned at (673.3867, 751.5229) (scale=1.5)
[23:22:08] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:22:08] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:22:08] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (673.3867, 751.5229), entering SEARCHING
[23:22:08] [ENEMY] [Enemy4] SEARCHING started: center=(673.3867, 751.5229), radius=100, waypoints=5
[23:22:08] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:22:08] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:22:08] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:22:08] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:22:08] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(430,747), corner_timer=-0.01
[23:22:08] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.0°, player=(430,747), corner_timer=-0.01
[23:22:08] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[23:22:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(428,745), corner_timer=0.30
[23:22:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=52.8°, player=(428,745), corner_timer=0.30
[23:22:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(627.7999, 762.9854), shooter_id=1624135175194, bullet_pos=(62.52551, 802.6839)
[23:22:08] [INFO] [Bullet] Using shooter_position, distance=566.666625976563
[23:22:08] [INFO] [Bullet] Distance to wall: 566.666625976563 (38.5853725707874% of viewport)
[23:22:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:08] [INFO] [Bullet] Starting wall penetration at (62.52551, 802.6839)
[23:22:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.73264646530151
[23:22:08] [INFO] [Bullet] Body exited signal received for penetrating body
[23:22:08] [INFO] [Bullet] Exiting penetration at (24.28635, 805.3694) after traveling 33.3333358764648 pixels through wall
[23:22:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:22:08] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-168.9°, current=-169.1°, player=(400,737), corner_timer=0.00
[23:22:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[23:22:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(792.1171, 814.7308), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[23:22:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.28, 809.371), shooter_id=1624470718961, bullet_pos=(724.28, 809.371)
[23:22:08] [INFO] [Bullet] Using shooter_position, distance=0
[23:22:08] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[23:22:08] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[23:22:08] [INFO] [Bullet] Starting wall penetration at (724.28, 809.371)
[23:22:08] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=401)
[23:22:08] [ENEMY] [Enemy4] State: SEARCHING -> PURSUING
[23:22:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41.6007957458496
[23:22:08] [INFO] [Bullet] Body exited signal received for penetrating body
[23:22:08] [INFO] [Bullet] Exiting penetration at (686.6636, 801.9913) after traveling 33.3333320617676 pixels through wall
[23:22:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (723.698, 761.221) (added to group)
[23:22:08] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:08] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:08] [INFO] [Shotgun.FIX#445] dragStartPos=(1270, 658), aimDir=(1,00, -0,09)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (709.7017, 754.0381) (added to group)
[23:22:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:08] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-171.9°, current=-49.2°, player=(386,743), corner_timer=0.00
[23:22:08] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (740.4219, 790.5154) (added to group)
[23:22:08] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (725.8127, 760.8935) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (763.5539, 725.9153) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (726.3807, 765.6338) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (736.0103, 774.2255) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (749.1847, 809.4657) (added to group)
[23:22:08] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-174.9°, current=162.6°, player=(374,751), corner_timer=0.00
[23:22:08] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:22:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(783.8557, 787.832), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (766.0797, 798.2966) (added to group)
[23:22:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=322), can_see=false
[23:22:08] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=180), can_see=false
[23:22:08] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=408), can_see=true
[23:22:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1392), can_see=false
[23:22:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1611), can_see=false
[23:22:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1336), can_see=false
[23:22:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1681), can_see=false
[23:22:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1904), can_see=false
[23:22:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.2°, player=(368,757), corner_timer=-0.01
[23:22:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1166), can_see=false
[23:22:08] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[23:22:08] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.3°, player=(365,760), corner_timer=0.30
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (740.2203, 764.8003) (added to group)
[23:22:08] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-32,0, -260,7), length=262,6, dotWithAim=-7,2, aimDir=(1,00, -0,09), isPump=True
[23:22:08] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:22:08] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-7,2
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (771.2582, 767.2526) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (773.8263, 818.0682) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (773.2689, 804.6671) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (768.8178, 750.2938) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (778.9186, 798.043) (added to group)
[23:22:08] [INFO] [LastChance] Threat detected: Bullet
[23:22:08] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[23:22:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(749.9591, 785.2878), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (821.9465, 786.2977) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (801.7604, 772.3001) (added to group)
[23:22:08] [ENEMY] [Enemy3] Ragdoll activated
[23:22:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (837.2281, 778.9581) (added to group)
[23:22:08] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-28,8, 229,4), length=231,2, dotWithAim=-50,4, aimDir=(1,00, -0,09), isPump=True
[23:22:08] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:08] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-50,4
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (752.7994, 774.7) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (769.1019, 795.6338) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (835.3602, 789.4668) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (824.9414, 794.6821) (added to group)
[23:22:08] [INFO] [LastChance] Threat detected: @Area2D@6422
[23:22:08] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[23:22:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(717.4035, 785.9334), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[23:22:08] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (791.8322, 800.7028) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (862.8613, 871.0076) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (770.574, 797.1401) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (847.2728, 785.6045) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (763.8082, 797.109) (added to group)
[23:22:08] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=151.5°, current=-169.9°, player=(312,812), corner_timer=0.00
[23:22:08] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (803.9175, 786.8672) (added to group)
[23:22:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(650.1401, 796.2408), shooter_id=1624470718961, bullet_pos=(516.8989, 801.1968)
[23:22:08] [INFO] [Bullet] Using shooter_position, distance=133.333358764648
[23:22:08] [INFO] [Bullet] Distance to wall: 133.333358764648 (9.0789135767124% of viewport)
[23:22:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(715.8315, 789.6497), shooter_id=1624470718961, bullet_pos=(51.75423, 730.9509)
[23:22:08] [INFO] [Bullet] Using shooter_position, distance=666.666442871094
[23:22:08] [INFO] [Bullet] Distance to wall: 666.666442871094 (45.3945439865849% of viewport)
[23:22:08] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0659, 702.1157), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (797.1858, 771.9664) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (875.9152, 765.1198) (added to group)
[23:22:08] [INFO] [LastChance] Threat detected: @Area2D@6454
[23:22:08] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[23:22:08] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-46,8, 201,4), length=206,7, dotWithAim=-65,7, aimDir=(1,00, -0,09), isPump=True
[23:22:08] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:08] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-65,7
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (804.9781, 829.8994) (added to group)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (887.9294, 852.071) (added to group)
[23:22:08] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=173.7°, current=174.2°, player=(297,828), corner_timer=0.00
[23:22:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(294,831), corner_timer=-0.01
[23:22:08] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[23:22:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.3°, player=(291,834), corner_timer=0.30
[23:22:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(682.1904, 791.4523), shooter_id=1624470718961, bullet_pos=(49.04187, 776.1517)
[23:22:08] [INFO] [Bullet] Using shooter_position, distance=633.333435058594
[23:22:08] [INFO] [Bullet] Distance to wall: 633.333435058594 (43.1248381906351% of viewport)
[23:22:08] [INFO] [Bullet] Distance-based penetration chance: 96.354355444259%
[23:22:08] [INFO] [Bullet] Starting wall penetration at (49.04187, 776.1517)
[23:22:08] [INFO] [Player] Spawning blood effect at (287.98914, 837.8526), dir=(1, 0), lethal=False (C#)
[23:22:08] [INFO] [ImpactEffects] spawn_blood_effect called at (287.9891, 837.8526), dir=(1, 0), lethal=false
[23:22:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:08] [INFO] [ImpactEffects] Blood effect spawned at (287.9891, 837.8526) (scale=1)
[23:22:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[23:22:08] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[23:22:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.2864952087402
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (817.9269, 813.2783) (added to group)
[23:22:08] [INFO] [Bullet] Body exited signal received for penetrating body
[23:22:08] [INFO] [Bullet] Exiting penetration at (10.71972, 775.2256) after traveling 33.3333396911621 pixels through wall
[23:22:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:22:08] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0659, 709.9536), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:08] [INFO] [Shotgun.FIX#243] RMB released after 34 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:08] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-47,5, 211,8), length=217,0, dotWithAim=-67,3, ActionState=NeedsPumpUp, minDist=20
[23:22:08] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:08] [INFO] [BloodDecal] Blood puddle created at (808.6029, 841.618) (added to group)
[23:22:09] [INFO] [LastChance] Threat detected: Bullet
[23:22:09] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[23:22:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:09] [ENEMY] [Enemy1] Pursuing vulnerability sound at (281.7666, 844.0751), distance=333
[23:22:09] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:09] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=343), can_see=false
[23:22:09] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=385), can_see=false
[23:22:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1514), can_see=false
[23:22:09] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1725), can_see=false
[23:22:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1425), can_see=false
[23:22:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1733), can_see=false
[23:22:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1956), can_see=false
[23:22:09] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1164), can_see=false
[23:22:09] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:22:09] [INFO] [Player] Spawning blood effect at (259.82672, 864.13385), dir=(1, 0), lethal=False (C#)
[23:22:09] [INFO] [ImpactEffects] spawn_blood_effect called at (259.8267, 864.1339), dir=(1, 0), lethal=false
[23:22:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:09] [INFO] [ImpactEffects] Blood effect spawned at (259.8267, 864.1339) (scale=1)
[23:22:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[23:22:09] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[23:22:09] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0741, 706.967), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:09] [INFO] [LastChance] Threat detected: @Area2D@6470
[23:22:09] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:22:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:09] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-90.0°, current=146.6°, player=(246,874), corner_timer=0.00
[23:22:09] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=332), can_see=false
[23:22:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:09] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:22:09] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:22:09] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:22:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:09] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:22:09] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:09] [ENEMY] [Enemy1] Death animation component initialized
[23:22:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:09] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:22:09] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:22:09] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:22:09] [ENEMY] [Enemy2] Death animation component initialized
[23:22:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:09] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:22:09] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:22:09] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:22:09] [ENEMY] [Enemy3] Death animation component initialized
[23:22:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:09] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:22:09] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:22:09] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:22:09] [ENEMY] [Enemy4] Death animation component initialized
[23:22:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:09] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:22:09] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:22:09] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:22:09] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:09] [ENEMY] [Enemy5] Death animation component initialized
[23:22:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:09] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:22:09] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:22:09] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:22:09] [ENEMY] [Enemy6] Death animation component initialized
[23:22:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:09] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:22:09] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:22:09] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:22:09] [ENEMY] [Enemy7] Death animation component initialized
[23:22:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:09] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:22:09] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:22:09] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:22:09] [ENEMY] [Enemy8] Death animation component initialized
[23:22:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:09] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:22:09] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:22:09] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:22:09] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:09] [ENEMY] [Enemy9] Death animation component initialized
[23:22:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:09] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:22:09] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:22:09] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:22:09] [ENEMY] [Enemy10] Death animation component initialized
[23:22:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:09] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:09] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:09] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:22:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:22:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:09] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:22:09] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:22:09] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:22:09] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:22:09] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:22:09] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:22:09] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:22:09] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:22:09] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:22:09] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:22:09] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:22:09] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:22:09] [INFO] [ScoreManager] Level started with 10 enemies
[23:22:09] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:22:09] [INFO] [CinemaEffects] Found player node: Player
[23:22:09] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[23:22:09] [ENEMY] [Enemy1] Registered as sound listener
[23:22:09] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[23:22:09] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:22:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[23:22:09] [ENEMY] [Enemy2] Registered as sound listener
[23:22:09] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[23:22:09] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:22:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[23:22:09] [ENEMY] [Enemy3] Registered as sound listener
[23:22:09] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[23:22:09] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:22:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[23:22:09] [ENEMY] [Enemy4] Registered as sound listener
[23:22:09] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[23:22:09] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:22:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[23:22:09] [ENEMY] [Enemy5] Registered as sound listener
[23:22:09] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[23:22:09] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:22:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[23:22:09] [ENEMY] [Enemy6] Registered as sound listener
[23:22:09] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[23:22:09] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:22:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[23:22:09] [ENEMY] [Enemy7] Registered as sound listener
[23:22:09] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[23:22:09] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:22:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[23:22:09] [ENEMY] [Enemy8] Registered as sound listener
[23:22:09] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[23:22:09] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:22:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[23:22:09] [ENEMY] [Enemy9] Registered as sound listener
[23:22:09] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[23:22:09] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:22:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[23:22:09] [ENEMY] [Enemy10] Registered as sound listener
[23:22:09] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[23:22:09] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:09] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:09] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:09] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:09] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:09] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:09] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:09] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:09] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:09] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:09] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:22:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:09] [INFO] [LastChance] Found player: Player
[23:22:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:09] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:09] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (353.7972, 861.6024) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (380.6513, 865.223) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (375.9991, 856.8783) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (366.6068, 859.181) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (409.9918, 855.9717) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (415.3794, 941.6168) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (377.0863, 934.8275) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (440.3131, 927.1818) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (436.715, 934.8859) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (371.7372, 890.8868) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (344.627, 899.4985) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (345.3529, 936.3344) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (393.7702, 912.4362) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (351.9778, 926.1484) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (407.8008, 919.5736) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (376.2754, 993.7759) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (380.5066, 1008.865) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (394.5096, 894.2372) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (403.4974, 1030.666) (added to group)
[23:22:09] [INFO] [BloodDecal] Blood puddle created at (388.7804, 963.5615) (added to group)
[23:22:10] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:10] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:22:10] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,836), corner_timer=0.30
[23:22:10] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,836), corner_timer=0.30
[23:22:10] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:22:10] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:22:10] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:22:10] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:22:10] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:22:10] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:22:10] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:22:10] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:22:10] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:22:10] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:22:10] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(450, 777.1666), source=PLAYER (Player), range=600, listeners=19
[23:22:10] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[23:22:10] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (450, 777.1666), intensity=0.01, distance=453
[23:22:10] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:10] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (450, 777.1666), intensity=0.05, distance=233
[23:22:10] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:10] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (450, 777.1666), intensity=0.04, distance=251
[23:22:10] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:10] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (450, 777.1666), intensity=0.02, distance=371
[23:22:10] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:22:10] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(450, 777.1666)
[23:22:10] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-1,7, distance=23,3px, pos=(473.1678, 774.77264)
[23:22:10] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-12,7, distance=12,3px, pos=(462.31116, 776.3935)
[23:22:10] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-2,6, distance=22,4px, pos=(472.37097, 776.41064)
[23:22:10] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-7,3, distance=17,7px, pos=(467.67822, 776.79065)
[23:22:10] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=14,3, distance=39,3px, pos=(489.30945, 777.9851)
[23:22:10] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=1,3, distance=26,3px, pos=(476.2374, 778.46655)
[23:22:10] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=7,9, distance=32,9px, pos=(482.86026, 779.12854)
[23:22:10] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-4,3, distance=20,7px, pos=(470.6232, 778.66)
[23:22:10] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=6,0, distance=31,0px, pos=(480.8672, 779.7429)
[23:22:10] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-0,3, distance=24,7px, pos=(474.39935, 780.8149)
[23:22:10] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=4,9, distance=29,9px, pos=(479.55914, 781.9687)
[23:22:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 777.1666), source=PLAYER (Shotgun), range=1469, listeners=10
[23:22:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:22:10] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.7°, current=-33.8°, player=(450,777), corner_timer=0.00
[23:22:10] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=453), can_see=false
[23:22:10] [INFO] [EnemyGrenade] Throw path blocked to (450, 777.1666)
[23:22:10] [ENEMY] [Enemy1] Pursuing vulnerability sound at (450, 777.1666), distance=453
[23:22:10] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=77.6°, current=45.0°, player=(450,777), corner_timer=0.00
[23:22:10] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=233), can_see=false
[23:22:10] [ENEMY] [Enemy2] Pursuing vulnerability sound at (450, 777.1666), distance=233
[23:22:10] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=173.8°, current=-78.7°, player=(450,777), corner_timer=0.00
[23:22:10] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=251), can_see=false
[23:22:10] [ENEMY] [Enemy3] Pursuing vulnerability sound at (450, 777.1666), distance=251
[23:22:10] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-160.7°, current=-67.5°, player=(450,777), corner_timer=0.00
[23:22:10] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=371), can_see=false
[23:22:10] [ENEMY] [Enemy4] Pursuing vulnerability sound at (450, 777.1666), distance=371
[23:22:10] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1321), can_see=false
[23:22:10] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1535), can_see=false
[23:22:10] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1214), can_see=false
[23:22:10] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1599), can_see=false
[23:22:10] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1822), can_see=false
[23:22:10] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1107), can_see=false
[23:22:11] [INFO] [EnemyGrenade] Throw path blocked to (450, 777.1666)
[23:22:11] [INFO] [EnemyGrenade] Throw path blocked to (450, 777.1666)
[23:22:11] [INFO] [EnemyGrenade] Throw path blocked to (450, 777.1666)
[23:22:11] [INFO] [EnemyGrenade] Throw path blocked to (450, 777.1666)
[23:22:11] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/3 -> 2/3
[23:22:11] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:11] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4894, 752.8809), dir=(1, 0), lethal=false
[23:22:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:11] [INFO] [ImpactEffects] Blood effect spawned at (673.4894, 752.8809) (scale=1)
[23:22:11] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/3 -> 1/3
[23:22:11] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:11] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4894, 752.8809), dir=(1, 0), lethal=false
[23:22:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:11] [INFO] [ImpactEffects] Blood effect spawned at (673.4894, 752.8809) (scale=1)
[23:22:11] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/3 -> 0/3
[23:22:11] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:11] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4894, 752.8809), dir=(1, 0), lethal=true
[23:22:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:11] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:22:11] [INFO] [ImpactEffects] Blood effect spawned at (673.4894, 752.8809) (scale=1.5)
[23:22:11] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:22:11] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:22:11] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (673.4894, 752.8809), entering SEARCHING
[23:22:11] [ENEMY] [Enemy4] SEARCHING started: center=(673.4894, 752.8809), radius=100, waypoints=5
[23:22:11] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:22:11] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:22:11] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:22:11] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:22:11] [INFO] [EnemyGrenade] Throw path blocked to (450, 777.1666)
[23:22:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(449,764), corner_timer=-0.02
[23:22:11] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(449,764), corner_timer=-0.02
[23:22:11] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[23:22:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=56.4°, player=(448,763), corner_timer=0.30
[23:22:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.2°, player=(448,763), corner_timer=0.30
[23:22:11] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-171.5°, current=-171.5°, player=(427,759), corner_timer=0.00
[23:22:11] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[23:22:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(792.1171, 814.7308), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[23:22:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.1079, 812.4162), shooter_id=1725922545349, bullet_pos=(724.1079, 812.4162)
[23:22:11] [INFO] [Bullet] Using shooter_position, distance=0
[23:22:11] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[23:22:11] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[23:22:11] [INFO] [Bullet] Starting wall penetration at (724.1079, 812.4162)
[23:22:11] [ENEMY] [Enemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[23:22:11] [ENEMY] [Enemy4] State: SEARCHING -> COMBAT
[23:22:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.0459327697754
[23:22:11] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:22:11] [INFO] [Bullet] Max penetration distance exceeded: 66.6666641235352 >= 48
[23:22:11] [INFO] [Bullet] Body exited signal received for penetrating body
[23:22:11] [INFO] [Bullet] Exiting penetration at (653.2341, 801.7847) after traveling 66.6666641235352 pixels through wall
[23:22:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:22:11] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:11] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:11] [INFO] [Shotgun.FIX#445] dragStartPos=(1196, 778), aimDir=(1,00, 0,02)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (736.5506, 738.0784) (added to group)
[23:22:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (757.0044, 764.6982) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (730.3894, 778.8446) (added to group)
[23:22:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:11] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=79.6°, current=-172.7°, player=(412,769), corner_timer=0.00
[23:22:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (720.1363, 759.6716) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (767.0167, 775.8725) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (750.5703, 770.0684) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (731.2334, 752.1652) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (743.4158, 796.8313) (added to group)
[23:22:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(401,779), corner_timer=-0.01
[23:22:11] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (723.1368, 791.7399) (added to group)
[23:22:11] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=346), can_see=false
[23:22:11] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=179), can_see=false
[23:22:11] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=396), can_see=false
[23:22:11] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[23:22:11] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1372), can_see=false
[23:22:11] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1587), can_see=false
[23:22:11] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1305), can_see=false
[23:22:11] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1644), can_see=false
[23:22:11] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1867), can_see=false
[23:22:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.2°, player=(397,782), corner_timer=0.30
[23:22:11] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1127), can_see=false
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (795.8481, 781.3514) (added to group)
[23:22:11] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[23:22:11] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (734.8363, 773.0048) (added to group)
[23:22:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (789.1136, 747.6566) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (793.674, 825.5427) (added to group)
[23:22:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:11] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:11] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[23:22:11] [INFO] [GrenadeBase] Grenade created at (417.9502, 500.5305) (frozen)
[23:22:11] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[23:22:11] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[23:22:11] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.139946, 0.990159), Speed: 637.0 (unfrozen)
[23:22:11] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[23:22:11] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (811.2925, 840.9429) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (812.595, 806.2328) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (784.2147, 822.8275) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (826.7089, 830.3148) (added to group)
[23:22:11] [ENEMY] [Enemy3] Ragdoll activated
[23:22:11] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (800.8156, 740.7738) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (811.433, 763.2132) (added to group)
[23:22:11] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(43,6, 15,9), length=46,4, dotWithAim=43,8, aimDir=(1,00, 0,02), isPump=True
[23:22:11] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (776.173, 775.945) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (788.0901, 790.3152) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (772.9023, 804.3189) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (770.8636, 816.4758) (added to group)
[23:22:11] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=141.1°, current=-176.4°, player=(348,832), corner_timer=0.00
[23:22:11] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:22:11] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (825.9563, 833.8692) (added to group)
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (830.5608, 825.1995) (added to group)
[23:22:11] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.1748, 694.2755), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:11] [INFO] [LastChance] Threat detected: Bullet
[23:22:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:11] [INFO] [BloodDecal] Blood puddle created at (837.6469, 824.0048) (added to group)
[23:22:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(325,851), corner_timer=-0.01
[23:22:11] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[23:22:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.3°, player=(321,853), corner_timer=0.30
[23:22:11] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.1748, 702.1014), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:11] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-171,7, 325,1), length=367,6, dotWithAim=-166,4, aimDir=(1,00, 0,02), isPump=False
[23:22:11] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:11] [INFO] [LastChance] Threat detected: Bullet
[23:22:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:12] [ENEMY] [Enemy1] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[23:22:12] [ENEMY] [Enemy1] EVADING_GRENADE started: escaping to (445.9286, 410.7538)
[23:22:12] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[23:22:12] [INFO] [FragGrenade] Impact detected! Body: Room1_WallBottom (type: StaticBody2D), triggering explosion
[23:22:12] [INFO] [FragGrenade] Impact detected - exploding immediately!
[23:22:12] [INFO] [GrenadeBase] EXPLODED at (443.6097, 679.1307)!
[23:22:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(443.6097, 679.1307), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[23:22:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[23:22:12] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/2 -> 1/2
[23:22:12] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:12] [INFO] [ImpactEffects] spawn_blood_effect called at (451.1347, 560.2909), dir=(0.063194, -0.998001), lethal=false
[23:22:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:12] [INFO] [ImpactEffects] Blood effect spawned at (451.1347, 560.2909) (scale=1)
[23:22:12] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/2 -> 0/2
[23:22:12] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:12] [INFO] [ImpactEffects] spawn_blood_effect called at (451.1347, 560.2909), dir=(0.063194, -0.998001), lethal=true
[23:22:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:12] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:22:12] [INFO] [ImpactEffects] Blood effect spawned at (451.1347, 560.2909) (scale=1.5)
[23:22:12] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[23:22:12] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[23:22:12] [ENEMY] [Enemy1] [AllyDeath] Notified 2 enemies
[23:22:12] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[23:22:12] [INFO] [DeathAnim] Started - Angle: -86.4 deg, Index: 6
[23:22:12] [ENEMY] [Enemy1] Death animation started with hit direction: (0.063194, -0.998001)
[23:22:12] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 119.1
[23:22:12] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 0.3 degrees
[23:22:12] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 76.3 degrees
[23:22:12] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 168.7 degrees
[23:22:12] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 262.6 degrees
[23:22:12] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=497), can_see=false
[23:22:12] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1496), can_see=false
[23:22:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1706), can_see=false
[23:22:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1404), can_see=false
[23:22:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1710), can_see=false
[23:22:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1933), can_see=false
[23:22:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1142), can_see=false
[23:22:12] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:22:12] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:12] [INFO] [ImpactEffects] spawn_blood_effect called at (524.1748, 702.1014), dir=(0.999984, 0.00574), lethal=false
[23:22:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:12] [INFO] [ImpactEffects] Blood effect spawned at (524.1748, 702.1014) (scale=1)
[23:22:12] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.1748, 702.1014), source=ENEMY (Enemy2), range=1469, listeners=8
[23:22:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[23:22:12] [INFO] [LastChance] Threat detected: @Area2D@6833
[23:22:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:12] [INFO] [Shotgun.FIX#243] RMB released after 19 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:12] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-172,4, 318,6), length=362,2, dotWithAim=-167,1, ActionState=Ready, minDist=20
[23:22:12] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:12] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.1748, 702.1014), source=ENEMY (Enemy2), range=1469, listeners=8
[23:22:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[23:22:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(474.5211, 748.6321), shooter_id=1725251456334, bullet_pos=(46.12109, 1066.308)
[23:22:12] [INFO] [Bullet] Using shooter_position, distance=533.333312988281
[23:22:12] [INFO] [Bullet] Distance to wall: 533.333312988281 (36.3156459948575% of viewport)
[23:22:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:12] [INFO] [Bullet] Starting wall penetration at (46.12109, 1066.308)
[23:22:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.7533779144287
[23:22:12] [INFO] [Bullet] Body exited signal received for penetrating body
[23:22:12] [INFO] [Bullet] Exiting penetration at (15.32984, 1089.141) after traveling 33.3333358764648 pixels through wall
[23:22:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:22:12] [INFO] [LastChance] Threat detected: @Area2D@6839
[23:22:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:12] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:22:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.7°, player=(225,858), corner_timer=-0.01
[23:22:12] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[23:22:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=5.9°, player=(221,857), corner_timer=0.30
[23:22:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(472.3316, 746.1796), shooter_id=1725251456334, bullet_pos=(56.79081, 1024.255)
[23:22:12] [INFO] [Bullet] Using shooter_position, distance=499.999908447266
[23:22:12] [INFO] [Bullet] Distance to wall: 499.999908447266 (34.0459131849337% of viewport)
[23:22:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:12] [INFO] [Bullet] Starting wall penetration at (56.79081, 1024.255)
[23:22:12] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-90.3°, current=170.0°, player=(217,856), corner_timer=0.00
[23:22:12] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=345), can_see=false
[23:22:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.50375747680664
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (434.8159, 496.449) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (461.6519, 509.2054) (added to group)
[23:22:12] [INFO] [Bullet] Body exited signal received for penetrating body
[23:22:12] [INFO] [Bullet] Exiting penetration at (24.93268, 1045.574) after traveling 33.3333358764648 pixels through wall
[23:22:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (476.0072, 519.7045) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (581.4418, 689.4264) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (495.0529, 494.1541) (added to group)
[23:22:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(469.709, 742.8945), shooter_id=1725251456334, bullet_pos=(66.58609, 977.9893)
[23:22:12] [INFO] [Bullet] Using shooter_position, distance=466.66650390625
[23:22:12] [INFO] [Bullet] Distance to wall: 466.66650390625 (31.7761803750098% of viewport)
[23:22:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (432.7565, 470.1698) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (461.3846, 508.439) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (494.1516, 481.6146) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (479.7127, 536.98) (added to group)
[23:22:12] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (450.4886, 488.5251) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (470.446, 533.2143) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (441.4731, 518.999) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (423.3443, 523.2206) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (580.3586, 705.0712) (added to group)
[23:22:12] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (450.4231, 475.123) (added to group)
[23:22:12] [INFO] [Player] Spawning blood effect at (178.19994, 834.0372), dir=(0.56145465, -0.8275075), lethal=False (C#)
[23:22:12] [INFO] [ImpactEffects] spawn_blood_effect called at (178.1999, 834.0372), dir=(0.561455, -0.827507), lethal=false
[23:22:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:12] [INFO] [ImpactEffects] Blood effect spawned at (178.1999, 834.0372) (scale=1)
[23:22:12] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:22:12] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:22:12] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (452.6389, 474.5961) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (609.4833, 748.5505) (added to group)
[23:22:12] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=620), can_see=false
[23:22:12] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1603), can_see=false
[23:22:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1820), can_see=false
[23:22:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1529), can_see=false
[23:22:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1837), can_see=false
[23:22:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2059), can_see=false
[23:22:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1255), can_see=false
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (423.5364, 489.3803) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (470.354, 526.1232) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (452.9482, 494.6932) (added to group)
[23:22:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(157.7375, 826.6633), source=PLAYER (Player), range=600, listeners=8
[23:22:12] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (157.7375, 826.6633), intensity=0.02, distance=394
[23:22:12] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[23:22:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[23:22:12] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(157.73752, 826.6633)
[23:22:12] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=11,1, distance=36,1px, pos=(193.3245, 820.82837)
[23:22:12] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-12,9, distance=12,1px, pos=(169.7627, 825.0474)
[23:22:12] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=14,1, distance=39,1px, pos=(196.4597, 821.2549)
[23:22:12] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=3,8, distance=28,8px, pos=(186.27374, 823.03326)
[23:22:12] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-4,2, distance=20,8px, pos=(178.44272, 824.7239)
[23:22:12] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-14,6, distance=10,4px, pos=(168.0808, 825.9134)
[23:22:12] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=4,3, distance=29,3px, pos=(187.03075, 825.9296)
[23:22:12] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=4,1, distance=29,1px, pos=(186.87189, 826.173)
[23:22:12] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-5,2, distance=19,8px, pos=(177.5329, 827.6055)
[23:22:12] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-10,2, distance=14,8px, pos=(172.486, 827.4679)
[23:22:12] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=12,9, distance=37,9px, pos=(195.50104, 830.24023)
[23:22:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(157.7375, 826.6633), source=PLAYER (Shotgun), range=1469, listeners=8
[23:22:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (622.0671, 725.1941) (added to group)
[23:22:12] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=157.8°, current=-127.2°, player=(157,826), corner_timer=0.00
[23:22:12] [ENEMY] [Enemy2] Pursuing vulnerability sound at (157.7375, 826.6633), distance=394
[23:22:12] [ENEMY] [Enemy1] Ragdoll activated
[23:22:12] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (632.7473, 739.0864) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (443.9531, 519.5688) (added to group)
[23:22:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(145,822), corner_timer=-0.01
[23:22:12] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[23:22:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.2°, player=(143,821), corner_timer=0.30
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (394.1557, 456.2678) (added to group)
[23:22:12] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=163.1°, current=173.3°, player=(141,820), corner_timer=0.00
[23:22:12] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=400)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (389.6646, 471.031) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (619.2676, 805.5773) (added to group)
[23:22:12] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:22:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.541, 720.8843), source=ENEMY (Enemy2), range=1469, listeners=8
[23:22:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (398.1618, 473.7159) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (725.2593, 753.1942) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (195.1842, 809.9524) (added to group)
[23:22:12] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=167.0°, current=102.0°, player=(134,817), corner_timer=0.00
[23:22:12] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=397), can_see=false
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (398.4432, 472.387) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (441.8691, 480.1495) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (675.5988, 732.9988) (added to group)
[23:22:12] [ENEMY] [Enemy3] Death animation completed
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (448.084, 551.9092) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (687.7462, 744.8499) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (205.8315, 799.7964) (added to group)
[23:22:12] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=168.0°, current=-148.7°, player=(134,816), corner_timer=0.00
[23:22:12] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:12] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (444.1126, 510.6301) (added to group)
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (652.5793, 873.0654) (added to group)
[23:22:12] [INFO] [LastChance] Threat detected: Bullet
[23:22:12] [INFO] [LastChance] Triggering last chance effect!
[23:22:12] [INFO] [LastChance] Starting last chance effect:
[23:22:12] [INFO] [LastChance]   - Time will be frozen (except player)
[23:22:12] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:22:12] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:22:12] [INFO] [LastChance]   - Brightness: 0.60
[23:22:12] [INFO] [LastChance] Pushed bullet Bullet from distance 131.6 to 200.0
[23:22:12] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[23:22:12] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:22:12] [INFO] [LastChance] Skipping player node: Player
[23:22:12] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:22:12] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6792
[23:22:12] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6821
[23:22:12] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6823
[23:22:12] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6834
[23:22:12] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6840
[23:22:12] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6962
[23:22:12] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:22:12] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:22:12] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:22:12] [INFO] [BloodDecal] Blood puddle created at (218.7108, 784.1022) (added to group)
[23:22:13] [INFO] [BloodDecal] Blood puddle created at (205.1746, 778.4008) (added to group)
[23:22:13] [INFO] [BloodDecal] Blood puddle created at (290.3447, 787.7122) (added to group)
[23:22:13] [INFO] [BloodDecal] Blood puddle created at (263.0683, 819.0664) (added to group)
[23:22:13] [INFO] [BloodDecal] Blood puddle created at (297.3012, 792.8312) (added to group)
[23:22:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:13] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:22:13] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:22:13] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:22:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:13] [INFO] [LastChance] Ending last chance effect
[23:22:13] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[23:22:13] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[23:22:13] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[23:22:13] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[23:22:13] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:22:13] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:22:13] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:22:13] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:22:13] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:22:13] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[23:22:13] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[23:22:13] [INFO] [LastChance] All process modes restored
[23:22:13] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:22:13] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:22:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:13] [ENEMY] [Enemy1] Death animation component initialized
[23:22:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:13] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:22:13] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:22:13] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:22:13] [ENEMY] [Enemy2] Death animation component initialized
[23:22:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:13] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:22:13] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:22:13] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:22:13] [ENEMY] [Enemy3] Death animation component initialized
[23:22:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:13] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:22:13] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:22:13] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:22:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:13] [ENEMY] [Enemy4] Death animation component initialized
[23:22:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:13] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:22:13] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:22:13] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:22:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:13] [ENEMY] [Enemy5] Death animation component initialized
[23:22:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:13] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:22:13] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:22:13] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:22:13] [ENEMY] [Enemy6] Death animation component initialized
[23:22:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:13] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:22:13] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:22:13] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:22:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:13] [ENEMY] [Enemy7] Death animation component initialized
[23:22:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:13] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:22:13] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:22:13] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:22:13] [ENEMY] [Enemy8] Death animation component initialized
[23:22:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:13] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:22:13] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:22:13] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:22:13] [ENEMY] [Enemy9] Death animation component initialized
[23:22:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:13] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:22:13] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:22:13] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:22:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:13] [ENEMY] [Enemy10] Death animation component initialized
[23:22:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:13] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:13] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:13] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:13] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:22:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:13] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:13] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:22:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:13] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:22:13] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:22:13] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:22:13] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:22:13] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:22:13] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:22:13] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:22:13] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:22:13] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:22:13] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:22:13] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:22:13] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:22:13] [INFO] [ScoreManager] Level started with 10 enemies
[23:22:13] [INFO] [BloodDecal] Blood puddle created at (238.4317, 790.2557) (added to group)
[23:22:13] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:22:13] [INFO] [CinemaEffects] Found player node: Player
[23:22:13] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:13] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[23:22:13] [ENEMY] [Enemy1] Registered as sound listener
[23:22:13] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[23:22:13] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:22:13] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[23:22:13] [ENEMY] [Enemy2] Registered as sound listener
[23:22:13] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[23:22:13] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:22:13] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[23:22:13] [ENEMY] [Enemy3] Registered as sound listener
[23:22:13] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[23:22:13] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:22:13] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[23:22:13] [ENEMY] [Enemy4] Registered as sound listener
[23:22:13] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[23:22:13] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:22:13] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[23:22:13] [ENEMY] [Enemy5] Registered as sound listener
[23:22:13] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[23:22:13] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:22:13] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[23:22:13] [ENEMY] [Enemy6] Registered as sound listener
[23:22:13] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[23:22:13] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:22:13] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[23:22:13] [ENEMY] [Enemy7] Registered as sound listener
[23:22:13] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[23:22:13] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:22:13] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[23:22:13] [ENEMY] [Enemy8] Registered as sound listener
[23:22:13] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[23:22:13] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:22:13] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[23:22:13] [ENEMY] [Enemy9] Registered as sound listener
[23:22:13] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[23:22:13] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:22:13] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[23:22:13] [ENEMY] [Enemy10] Registered as sound listener
[23:22:13] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[23:22:13] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:13] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:13] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:13] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:13] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:13] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:13] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:13] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:13] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:13] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:13] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:22:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:13] [INFO] [LastChance] Found player: Player
[23:22:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:13] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:13] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:13] [INFO] [BloodDecal] Blood puddle created at (237.4484, 763.0211) (added to group)
[23:22:13] [INFO] [BloodDecal] Blood puddle created at (246.5576, 852.5102) (added to group)
[23:22:14] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:14] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:22:14] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,830), corner_timer=0.30
[23:22:14] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,830), corner_timer=0.30
[23:22:15] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:22:15] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:22:15] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:22:15] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:22:15] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:22:15] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:22:15] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:22:15] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:22:15] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:22:15] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:22:15] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(449.6761, 785.7451), source=PLAYER (Player), range=600, listeners=18
[23:22:15] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[23:22:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:22:15] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(449.67606, 785.7451)
[23:22:15] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=13,9, distance=38,9px, pos=(486.17194, 772.23035)
[23:22:15] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-6,0, distance=19,0px, pos=(467.66772, 779.6739)
[23:22:15] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=15,0, distance=40,0px, pos=(488.05408, 774.51654)
[23:22:15] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=0,0, distance=25,0px, pos=(473.70587, 778.7802)
[23:22:15] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=4,5, distance=29,5px, pos=(478.11523, 778.0024)
[23:22:15] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=12,6, distance=37,6px, pos=(486.49368, 778.2959)
[23:22:15] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=6,6, distance=31,6px, pos=(480.76212, 780.1929)
[23:22:15] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-8,7, distance=16,3px, pos=(465.68677, 782.79926)
[23:22:15] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-6,5, distance=18,5px, pos=(467.8885, 782.73883)
[23:22:15] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=9,5, distance=34,5px, pos=(484.0682, 782.65643)
[23:22:15] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-4,5, distance=20,5px, pos=(470.129, 784.43475)
[23:22:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.6761, 785.7451), source=PLAYER (Shotgun), range=1469, listeners=10
[23:22:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:22:15] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=461), can_see=false
[23:22:15] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=241), can_see=false
[23:22:15] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=253), can_see=false
[23:22:15] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=368), can_see=false
[23:22:15] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1324), can_see=false
[23:22:15] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[23:22:15] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1221), can_see=false
[23:22:15] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1595), can_see=false
[23:22:15] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1819), can_see=false
[23:22:15] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1101), can_see=false
[23:22:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(445,781), corner_timer=-0.02
[23:22:15] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(445,781), corner_timer=-0.02
[23:22:15] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[23:22:15] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[23:22:15] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:15] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[23:22:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:15] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[23:22:15] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[23:22:15] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:15] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[23:22:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:15] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:22:15] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[23:22:15] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:22:15] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:22:15] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:22:15] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:22:15] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:22:15] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:22:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(443,780), corner_timer=0.30
[23:22:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(443,780), corner_timer=0.30
[23:22:15] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:15] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:15] [INFO] [Shotgun.FIX#445] dragStartPos=(1049, 622), aimDir=(0,97, -0,26)
[23:22:15] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:15] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:15] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:15] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:15] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (757.6244, 760.5433) (added to group)
[23:22:15] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (783.9609, 758.367) (added to group)
[23:22:15] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:15] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:15] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(383,812), corner_timer=-0.01
[23:22:15] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[23:22:15] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (790.6777, 737.2953) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (752.1682, 795.7228) (added to group)
[23:22:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(380,813), corner_timer=0.30
[23:22:15] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (798.1058, 796.2252) (added to group)
[23:22:15] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=471), can_see=false
[23:22:15] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=267), can_see=false
[23:22:15] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=436), can_see=false
[23:22:15] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1407), can_see=false
[23:22:15] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1619), can_see=false
[23:22:15] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1326), can_see=false
[23:22:15] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1654), can_see=false
[23:22:15] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1877), can_see=false
[23:22:15] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1120), can_see=false
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (770.9584, 775.1998) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (753.0341, 806.3822) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (793.5197, 755.416) (added to group)
[23:22:15] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(273,5, 7,5), length=273,6, dotWithAim=262,2, aimDir=(0,97, -0,26), isPump=False
[23:22:15] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (788.7802, 821.1688) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (850.9172, 807.418) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (771.0838, 798.4501) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (799.3007, 797.8967) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (771.8893, 820.3583) (added to group)
[23:22:15] [ENEMY] [Enemy3] Ragdoll activated
[23:22:15] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (786.0302, 766.1489) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (821.4683, 784.7428) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (856.7354, 873.6228) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (862.7264, 810.0923) (added to group)
[23:22:15] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(241,5, 249,9), length=347,5, dotWithAim=168,1, aimDir=(0,97, -0,26), isPump=False
[23:22:15] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (835.8975, 802.1166) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (814.4353, 788.9704) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (806.4586, 813.1254) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (803.8008, 809.5433) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (874.0754, 817.6188) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (875.3193, 834.9012) (added to group)
[23:22:15] [INFO] [BloodDecal] Blood puddle created at (888.6261, 812.6403) (added to group)
[23:22:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(281,818), corner_timer=-0.01
[23:22:15] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[23:22:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.2°, player=(276,818), corner_timer=0.30
[23:22:16] [INFO] [BloodDecal] Blood puddle created at (894.5663, 746.7585) (added to group)
[23:22:16] [INFO] [BloodDecal] Blood puddle created at (845.2011, 885.6589) (added to group)
[23:22:16] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(170,0, 728,8), length=748,4, dotWithAim=-25,5, aimDir=(0,97, -0,26), isPump=False
[23:22:16] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:16] [INFO] [Shotgun.FIX#243] RMB released after 30 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:16] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(170,6, 717,0), length=737,0, dotWithAim=-21,7, ActionState=Ready, minDist=20
[23:22:16] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:16] [INFO] [BloodDecal] Blood puddle created at (841.9095, 805.268) (added to group)
[23:22:16] [INFO] [BloodDecal] Blood puddle created at (895.2081, 824.456) (added to group)
[23:22:16] [INFO] [BloodDecal] Blood puddle created at (818.1761, 843.2559) (added to group)
[23:22:16] [INFO] [BloodDecal] Blood puddle created at (881.1642, 868.3936) (added to group)
[23:22:16] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=472), can_see=false
[23:22:16] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=313), can_see=false
[23:22:16] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=567), can_see=false
[23:22:16] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1534), can_see=false
[23:22:16] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1750), can_see=false
[23:22:16] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1459), can_see=false
[23:22:16] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1777), can_see=false
[23:22:16] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2000), can_see=false
[23:22:16] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1212), can_see=false
[23:22:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(183,818), corner_timer=-0.01
[23:22:16] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[23:22:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.9°, player=(179,818), corner_timer=0.30
[23:22:16] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=502), can_see=false
[23:22:16] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=393), can_see=false
[23:22:16] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=695), can_see=false
[23:22:16] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1656), can_see=false
[23:22:16] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1876), can_see=false
[23:22:16] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1588), can_see=false
[23:22:16] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1899), can_see=false
[23:22:16] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2121), can_see=false
[23:22:16] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1312), can_see=false
[23:22:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(84,802), corner_timer=-0.01
[23:22:16] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[23:22:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.2°, player=(81,800), corner_timer=0.30
[23:22:17] [ENEMY] [Enemy3] Death animation completed
[23:22:17] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=441), can_see=false
[23:22:17] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=368), can_see=false
[23:22:17] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=739), can_see=false
[23:22:17] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1664), can_see=false
[23:22:17] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1891), can_see=false
[23:22:17] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1622), can_see=false
[23:22:17] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1956), can_see=false
[23:22:17] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2179), can_see=false
[23:22:17] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1386), can_see=false
[23:22:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-131.3°, player=(80,659), corner_timer=-0.01
[23:22:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[23:22:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-133.6°, player=(80,656), corner_timer=0.30
[23:22:17] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.07455, 653.5322), source=PLAYER (Player), range=600, listeners=9
[23:22:17] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.07455, 653.5322), intensity=0.02, distance=375
[23:22:17] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:17] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (80.07455, 653.5322), intensity=0.02, distance=336
[23:22:17] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[23:22:17] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(80.074554, 653.5322)
[23:22:17] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-9,5, distance=15,5px, pos=(95.31136, 650.6112)
[23:22:17] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=10,5, distance=35,5px, pos=(114.990585, 646.9063)
[23:22:17] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-13,1, distance=11,9px, pos=(91.84663, 651.86053)
[23:22:17] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=13,5, distance=38,5px, pos=(118.09337, 647.3728)
[23:22:17] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=0,8, distance=25,8px, pos=(105.796295, 651.0211)
[23:22:17] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-1,6, distance=23,4px, pos=(103.46864, 651.91455)
[23:22:17] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=2,6, distance=27,6px, pos=(107.648254, 651.494)
[23:22:17] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=1,2, distance=26,2px, pos=(106.29507, 652.5956)
[23:22:17] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-1,2, distance=23,8px, pos=(103.86006, 653.50336)
[23:22:17] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-6,7, distance=18,3px, pos=(98.41275, 654.1268)
[23:22:17] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=4,8, distance=29,8px, pos=(109.8322, 654.72266)
[23:22:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07455, 653.5322), source=PLAYER (Shotgun), range=1469, listeners=9
[23:22:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[23:22:17] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=125.9°, current=-157.5°, player=(80,653), corner_timer=0.00
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [ENEMY] [Enemy1] Pursuing vulnerability sound at (80.07455, 653.5322), distance=375
[23:22:17] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=162.1°, current=-101.3°, player=(80,653), corner_timer=0.00
[23:22:17] [ENEMY] [Enemy2] Pursuing vulnerability sound at (80.07455, 653.5322), distance=336
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=318), can_see=false
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=284), can_see=false
[23:22:17] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=767), can_see=false
[23:22:17] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1645), can_see=false
[23:22:17] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1879), can_see=false
[23:22:17] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1555), can_see=false
[23:22:17] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1994), can_see=false
[23:22:17] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2218), can_see=false
[23:22:17] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1449), can_see=false
[23:22:17] [INFO] [EnemyGrenade] Throw path blocked to (80.07455, 653.5322)
[23:22:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.7°, current=173.5°, player=(80,640), corner_timer=-0.01
[23:22:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[23:22:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.8°, player=(80,642), corner_timer=0.30
[23:22:17] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=163.3°, current=115.4°, player=(80,649), corner_timer=0.00
[23:22:17] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:22:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(294.7122, 584.9376), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[23:22:17] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:22:17] [INFO] [LastChance] Threat detected: Bullet
[23:22:17] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:17] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:22:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:18] [INFO] [Player] Spawning blood effect at (82.204056, 666.6381), dir=(1, 0), lethal=False (C#)
[23:22:18] [INFO] [ImpactEffects] spawn_blood_effect called at (82.20406, 666.6381), dir=(1, 0), lethal=false
[23:22:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:18] [INFO] [ImpactEffects] Blood effect spawned at (82.20406, 666.6381) (scale=1)
[23:22:18] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:22:18] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:22:18] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:22:18] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:18] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:18] [INFO] [Shotgun.FIX#445] dragStartPos=(1053, 520), aimDir=(0,99, -0,16)
[23:22:18] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:22:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(281.1213, 603.8325), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[23:22:18] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:18] [INFO] [LastChance] Threat detected: Bullet
[23:22:18] [INFO] [LastChance] Triggering last chance effect!
[23:22:18] [INFO] [LastChance] Starting last chance effect:
[23:22:18] [INFO] [LastChance]   - Time will be frozen (except player)
[23:22:18] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:22:18] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:22:18] [INFO] [LastChance]   - Brightness: 0.60
[23:22:18] [INFO] [LastChance] Pushed bullet Bullet from distance 140.3 to 200.0
[23:22:18] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[23:22:18] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:22:18] [INFO] [LastChance] Skipping player node: Player
[23:22:18] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:22:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7322
[23:22:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7323
[23:22:18] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:22:18] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:22:18] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:22:18] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:18] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:18] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@7324
[23:22:18] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@7324
[23:22:18] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:18] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:18] [INFO] [LastChance] Freezing newly created grenade: FragGrenade
[23:22:18] [INFO] [LastChance] Registered frozen grenade: FragGrenade
[23:22:18] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[23:22:18] [INFO] [GrenadeBase] Grenade created at (171.3038, 470.9715) (frozen)
[23:22:18] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[23:22:18] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[23:22:18] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.302802, 0.953054), Speed: 487.4 (unfrozen)
[23:22:18] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[23:22:18] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[23:22:18] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:18] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:18] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:18] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:18] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:18] [INFO] [BloodDecal] Blood puddle created at (154.7695, 657.9185) (added to group)
[23:22:18] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:18] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(12,0, 629,5), length=629,7, dotWithAim=-86,4, aimDir=(0,99, -0,16), isPump=False
[23:22:18] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:18] [INFO] [BloodDecal] Blood puddle created at (173.4611, 672.2318) (added to group)
[23:22:18] [INFO] [BloodDecal] Blood puddle created at (236.4663, 673.9177) (added to group)
[23:22:18] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(14,0, 642,7), length=642,9, dotWithAim=-86,5, aimDir=(0,99, -0,16), isPump=False
[23:22:18] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:18] [INFO] [BloodDecal] Blood puddle created at (207.387, 670.811) (added to group)
[23:22:18] [INFO] [Shotgun.FIX#243] RMB released after 26 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:18] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(14,0, 650,6), length=650,7, dotWithAim=-87,7, ActionState=Ready, minDist=20
[23:22:18] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:18] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[23:22:20] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(641.3451, 946.6704), source=PLAYER (Player), range=600, listeners=9
[23:22:20] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (641.3451, 946.6704), intensity=0.01, distance=495
[23:22:20] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[23:22:20] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (641.3451, 946.6704), intensity=0.09, distance=165
[23:22:20] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[23:22:20] [INFO] [Shotgun.FIX#212] Firing 8 pellets with 15° spread at pos=(641.3451, 946.6704)
[23:22:20] [INFO] [Shotgun.FIX#212] Normal pellet 1/8: extraOffset=-0,5, distance=24,5px, pos=(665.2526, 941.1257)
[23:22:20] [INFO] [LastChance] Freezing newly fired player bullet: ShotgunPellet
[23:22:20] [INFO] [LastChance] Registered frozen player bullet: ShotgunPellet
[23:22:20] [INFO] [Shotgun.FIX#212] Normal pellet 2/8: extraOffset=-13,7, distance=11,3px, pos=(652.43774, 944.287)
[23:22:20] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7329
[23:22:20] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7329
[23:22:20] [INFO] [Shotgun.FIX#212] Normal pellet 3/8: extraOffset=10,5, distance=35,5px, pos=(676.3406, 940.9249)
[23:22:20] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7330
[23:22:20] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7330
[23:22:20] [INFO] [Shotgun.FIX#212] Normal pellet 4/8: extraOffset=11,9, distance=36,9px, pos=(677.80133, 941.1276)
[23:22:20] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7331
[23:22:20] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7331
[23:22:20] [INFO] [Shotgun.FIX#212] Normal pellet 5/8: extraOffset=-3,8, distance=21,2px, pos=(662.5138, 945.1921)
[23:22:20] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7332
[23:22:20] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7332
[23:22:20] [INFO] [Shotgun.FIX#212] Normal pellet 6/8: extraOffset=-0,5, distance=24,5px, pos=(665.75256, 944.9673)
[23:22:20] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7333
[23:22:20] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7333
[23:22:20] [INFO] [Shotgun.FIX#212] Normal pellet 7/8: extraOffset=-8,4, distance=16,6px, pos=(657.9401, 946.2229)
[23:22:20] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7334
[23:22:20] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7334
[23:22:20] [INFO] [Shotgun.FIX#212] Normal pellet 8/8: extraOffset=-12,5, distance=12,5px, pos=(653.8534, 946.77704)
[23:22:20] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7335
[23:22:20] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7335
[23:22:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(641.3451, 946.6704), source=PLAYER (Shotgun), range=1469, listeners=9
[23:22:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[23:22:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:21] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:22:21] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:22:21] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:22:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:21] [INFO] [LastChance] Ending last chance effect
[23:22:21] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[23:22:21] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[23:22:21] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[23:22:21] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[23:22:21] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:22:21] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:22:21] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:22:21] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:22:21] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:22:21] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[23:22:21] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[23:22:21] [INFO] [LastChance] All process modes restored
[23:22:21] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:22:21] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:22:21] [ENEMY] [Enemy1] Death animation component initialized
[23:22:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:21] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:22:21] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:22:21] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:22:21] [ENEMY] [Enemy2] Death animation component initialized
[23:22:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:21] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:22:21] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:22:21] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:22:21] [ENEMY] [Enemy3] Death animation component initialized
[23:22:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:21] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:22:21] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:22:21] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:22:21] [ENEMY] [Enemy4] Death animation component initialized
[23:22:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:21] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:22:21] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:22:21] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:22:21] [ENEMY] [Enemy5] Death animation component initialized
[23:22:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:21] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:22:21] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:22:21] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:22:21] [ENEMY] [Enemy6] Death animation component initialized
[23:22:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:21] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:22:21] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:22:21] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:22:21] [ENEMY] [Enemy7] Death animation component initialized
[23:22:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:21] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:22:21] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:22:21] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:22:21] [ENEMY] [Enemy8] Death animation component initialized
[23:22:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:21] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:22:21] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:22:21] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:22:21] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:21] [ENEMY] [Enemy9] Death animation component initialized
[23:22:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:21] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:22:21] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:22:21] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:22:21] [ENEMY] [Enemy10] Death animation component initialized
[23:22:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:21] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:21] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:21] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:22:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:21] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:21] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[23:22:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:21] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:22:21] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:22:21] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:22:21] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:22:21] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:22:21] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:22:21] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:22:21] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:22:21] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:22:21] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:22:21] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:22:21] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:22:21] [INFO] [ScoreManager] Level started with 10 enemies
[23:22:21] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:22:21] [INFO] [CinemaEffects] Found player node: Player
[23:22:21] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[23:22:21] [ENEMY] [Enemy1] Registered as sound listener
[23:22:21] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[23:22:21] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:22:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[23:22:21] [ENEMY] [Enemy2] Registered as sound listener
[23:22:21] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[23:22:21] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:22:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[23:22:21] [ENEMY] [Enemy3] Registered as sound listener
[23:22:21] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[23:22:21] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:22:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[23:22:21] [ENEMY] [Enemy4] Registered as sound listener
[23:22:21] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[23:22:21] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:22:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[23:22:21] [ENEMY] [Enemy5] Registered as sound listener
[23:22:21] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[23:22:21] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:22:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[23:22:21] [ENEMY] [Enemy6] Registered as sound listener
[23:22:21] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[23:22:21] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:22:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[23:22:21] [ENEMY] [Enemy7] Registered as sound listener
[23:22:21] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[23:22:21] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:22:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[23:22:21] [ENEMY] [Enemy8] Registered as sound listener
[23:22:21] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[23:22:21] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:22:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[23:22:21] [ENEMY] [Enemy9] Registered as sound listener
[23:22:21] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[23:22:21] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:22:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[23:22:21] [ENEMY] [Enemy10] Registered as sound listener
[23:22:21] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:22:21] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:21] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:21] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:21] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:21] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:21] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:21] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:21] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:21] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:21] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:21] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:22:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:21] [INFO] [LastChance] Found player: Player
[23:22:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:21] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:21] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:22] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:22:22] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(328,1023), corner_timer=0.30
[23:22:22] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(328,1023), corner_timer=0.30
[23:22:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(260,1003), corner_timer=-0.02
[23:22:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(260,1003), corner_timer=-0.02
[23:22:22] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[23:22:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(259,999), corner_timer=0.30
[23:22:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(259,999), corner_timer=0.30
[23:22:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(254,901), corner_timer=-0.02
[23:22:23] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[23:22:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(254,896), corner_timer=0.30
[23:22:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(254,797), corner_timer=-0.02
[23:22:23] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[23:22:23] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:22:23] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:22:23] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:22:23] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:22:23] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:22:23] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:22:23] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:22:23] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:22:23] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:22:23] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:22:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(254.2965, 794.057), source=PLAYER (Player), range=600, listeners=19
[23:22:23] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[23:22:23] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (254.2965, 794.057), intensity=0.01, distance=446
[23:22:23] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (254.2965, 794.057), intensity=0.03, distance=284
[23:22:23] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:23] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (254.2965, 794.057), intensity=0.01, distance=448
[23:22:23] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[23:22:23] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(254.29651, 794.057)
[23:22:23] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=-8,8, distance=16,2px, pos=(269.749, 789.2242)
[23:22:23] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=-1,0, distance=24,0px, pos=(277.4591, 787.7967)
[23:22:23] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=-4,6, distance=20,4px, pos=(274.25342, 789.9473)
[23:22:23] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=14,5, distance=39,5px, pos=(293.23898, 787.6191)
[23:22:23] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=12,2, distance=37,2px, pos=(291.1359, 789.0877)
[23:22:23] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-3,0, distance=22,0px, pos=(276.232, 792.0077)
[23:22:23] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=-5,2, distance=19,8px, pos=(274.08084, 793.40393)
[23:22:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(254.2965, 794.057), source=PLAYER (Shotgun), range=1469, listeners=10
[23:22:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[23:22:23] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=95.9°, current=168.8°, player=(254,794), corner_timer=0.00
[23:22:23] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=446), can_see=false
[23:22:23] [ENEMY] [Enemy1] Pursuing vulnerability sound at (254.2965, 794.057), distance=446
[23:22:23] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=120.8°, current=168.8°, player=(254,794), corner_timer=0.00
[23:22:23] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=284), can_see=false
[23:22:23] [ENEMY] [Enemy2] Pursuing vulnerability sound at (254.2965, 794.057), distance=284
[23:22:23] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=174.4°, current=-123.8°, player=(254,794), corner_timer=0.00
[23:22:23] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=448), can_see=false
[23:22:23] [ENEMY] [Enemy3] Pursuing vulnerability sound at (254.2965, 794.057), distance=448
[23:22:23] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=556), can_see=false
[23:22:23] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1512), can_see=false
[23:22:23] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1730), can_see=false
[23:22:23] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1448), can_see=false
[23:22:23] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1772), can_see=false
[23:22:23] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1995), can_see=false
[23:22:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(254,794), corner_timer=0.30
[23:22:23] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1217), can_see=false
[23:22:23] [ENEMY] [Enemy4] Memory: medium confidence (0.54) - transitioning to PURSUING
[23:22:23] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[23:22:23] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-168.4°, current=-67.5°, player=(254,787), corner_timer=0.00
[23:22:23] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[23:22:23] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[23:22:23] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:23] [INFO] [ImpactEffects] spawn_blood_effect called at (652.2325, 754.7217), dir=(1, 0), lethal=false
[23:22:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:23] [INFO] [ImpactEffects] Blood effect spawned at (652.2325, 754.7217) (scale=1)
[23:22:23] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[23:22:23] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:23] [INFO] [ImpactEffects] spawn_blood_effect called at (652.2325, 754.7217), dir=(1, 0), lethal=true
[23:22:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:23] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:22:23] [INFO] [ImpactEffects] Blood effect spawned at (652.2325, 754.7217) (scale=1.5)
[23:22:23] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:22:23] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:22:23] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[23:22:23] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:22:23] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:22:23] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:22:23] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:23] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:23] [INFO] [Shotgun.FIX#445] dragStartPos=(1139, 591), aimDir=(0,98, -0,21)
[23:22:23] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(253,784), corner_timer=-0.01
[23:22:23] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[23:22:23] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=5.7°, player=(252,786), corner_timer=0.30
[23:22:23] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:23] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:23] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:23] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:23] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (719.8427, 761.8881) (added to group)
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (704.8705, 781.4688) (added to group)
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (704.5473, 775.4545) (added to group)
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (742.3533, 773.1943) (added to group)
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (706.4609, 796.7783) (added to group)
[23:22:24] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=402), can_see=false
[23:22:24] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=318), can_see=false
[23:22:24] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=459), can_see=false
[23:22:24] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1532), can_see=false
[23:22:24] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1749), can_see=false
[23:22:24] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1464), can_see=false
[23:22:24] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1783), can_see=false
[23:22:24] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2005), can_see=false
[23:22:24] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1218), can_see=false
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (712.5979, 792.8927) (added to group)
[23:22:24] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(29,6, -128,5), length=131,9, dotWithAim=56,2, aimDir=(0,98, -0,21), isPump=True
[23:22:24] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (728.7286, 760.649) (added to group)
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (737.6583, 760.3885) (added to group)
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (743.5434, 770.8661) (added to group)
[23:22:24] [ENEMY] [Enemy4] PURSUING corner check: angle -89.8°
[23:22:24] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:24] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:24] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:24] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (785.7548, 818.0811) (added to group)
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (783.249, 812.7424) (added to group)
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (803.0812, 755.0763) (added to group)
[23:22:24] [ENEMY] [Enemy3] Ragdoll activated
[23:22:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (733.4178, 808.8104) (added to group)
[23:22:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(191,842), corner_timer=-0.01
[23:22:24] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[23:22:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.1°, player=(188,844), corner_timer=0.30
[23:22:24] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-5,3, 159,0), length=159,1, dotWithAim=-38,9, aimDir=(0,98, -0,21), isPump=False
[23:22:24] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:24] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=157.4°, current=-161.8°, player=(176,846), corner_timer=0.00
[23:22:24] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 702.1175), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:24] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (803.805, 809.9518) (added to group)
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (799.8802, 763.3973) (added to group)
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (741.9301, 805.316) (added to group)
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (767.067, 789.5657) (added to group)
[23:22:24] [INFO] [Shotgun.FIX#243] RMB released after 17 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:24] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-104,9, -95,4), length=141,8, dotWithAim=-82,3, ActionState=Ready, minDist=20
[23:22:24] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:24] [INFO] [LastChance] Threat detected: Bullet
[23:22:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:24] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=403)
[23:22:24] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (758.3047, 803.6954) (added to group)
[23:22:24] [INFO] [BloodDecal] Blood puddle created at (867.5492, 778.1115) (added to group)
[23:22:24] [ENEMY] [Enemy1] Pursuing vulnerability sound at (254.2965, 794.057), distance=306
[23:22:24] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=438), can_see=false
[23:22:24] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=424), can_see=true
[23:22:24] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=453), can_see=false
[23:22:24] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1657), can_see=false
[23:22:24] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1873), can_see=false
[23:22:24] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1580), can_see=false
[23:22:24] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1880), can_see=false
[23:22:24] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2101), can_see=false
[23:22:24] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1284), can_see=false
[23:22:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(464.6526, 735.2941), shooter_id=1936862481548, bullet_pos=(64.58714, 901.8035)
[23:22:24] [INFO] [Bullet] Using shooter_position, distance=433.333312988281
[23:22:24] [INFO] [Bullet] Distance to wall: 433.333312988281 (29.506462111072% of viewport)
[23:22:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:24] [INFO] [Bullet] Starting wall penetration at (64.58714, 901.8035)
[23:22:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.03638696670532
[23:22:24] [INFO] [Bullet] Max penetration distance exceeded: 66.6666641235352 >= 48
[23:22:24] [INFO] [Bullet] Body exited signal received for penetrating body
[23:22:24] [INFO] [Bullet] Exiting penetration at (-1.577549, 929.3416) after traveling 66.6666641235352 pixels through wall
[23:22:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:22:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(95.37801, 848.0369), source=PLAYER (Player), range=600, listeners=9
[23:22:24] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (95.37801, 848.0369), intensity=0.01, distance=448
[23:22:24] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (95.37801, 848.0369), intensity=0.01, distance=447
[23:22:24] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (95.37801, 848.0369), intensity=0.01, distance=477
[23:22:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[23:22:24] [INFO] [Shotgun.FIX#212] Firing 8 pellets with 15° spread at pos=(95.37801, 848.0369)
[23:22:24] [INFO] [Shotgun.FIX#212] Normal pellet 1/8: extraOffset=8,5, distance=33,5px, pos=(127.6662, 839.05853)
[23:22:24] [INFO] [Shotgun.FIX#212] Normal pellet 2/8: extraOffset=-10,8, distance=14,2px, pos=(109.05347, 844.32)
[23:22:24] [INFO] [Shotgun.FIX#212] Normal pellet 3/8: extraOffset=1,1, distance=26,1px, pos=(121.04259, 843.1617)
[23:22:24] [INFO] [Shotgun.FIX#212] Normal pellet 4/8: extraOffset=-2,6, distance=22,4px, pos=(117.47511, 844.4564)
[23:22:24] [INFO] [Shotgun.FIX#212] Normal pellet 5/8: extraOffset=12,2, distance=37,2px, pos=(132.10037, 842.3242)
[23:22:24] [INFO] [Shotgun.FIX#212] Normal pellet 6/8: extraOffset=-0,3, distance=24,7px, pos=(119.92244, 845.363)
[23:22:24] [INFO] [Shotgun.FIX#212] Normal pellet 7/8: extraOffset=1,3, distance=26,3px, pos=(121.61353, 846.12524)
[23:22:24] [INFO] [Shotgun.FIX#212] Normal pellet 8/8: extraOffset=-4,0, distance=21,0px, pos=(116.39824, 847.9827)
[23:22:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(95.37801, 848.0369), source=PLAYER (Shotgun), range=1469, listeners=9
[23:22:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=1
[23:22:24] [ENEMY] [Enemy2] Pursuing vulnerability sound at (95.37801, 848.0369), distance=447
[23:22:24] [ENEMY] [Enemy4] Pursuing vulnerability sound at (95.37801, 848.0369), distance=477
[23:22:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:24] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=163.7°, current=112.7°, player=(92,848), corner_timer=0.00
[23:22:24] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=165.4°, current=-160.5°, player=(84,848), corner_timer=0.00
[23:22:24] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:22:24] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:22:24] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:24] [INFO] [ImpactEffects] spawn_blood_effect called at (497.0883, 736.9614), dir=(1, 0), lethal=false
[23:22:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:24] [INFO] [ImpactEffects] Blood effect spawned at (497.0883, 736.9614) (scale=1)
[23:22:24] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[23:22:24] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:22:24] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:24] [INFO] [ImpactEffects] spawn_blood_effect called at (497.0883, 736.9614), dir=(1, 0), lethal=false
[23:22:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:24] [INFO] [ImpactEffects] Blood effect spawned at (497.0883, 736.9614) (scale=1)
[23:22:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.0°, player=(84,856), corner_timer=-0.01
[23:22:24] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[23:22:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-131.3°, player=(85,857), corner_timer=0.30
[23:22:25] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[23:22:25] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=473), can_see=false
[23:22:25] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=420), can_see=true
[23:22:25] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=451), can_see=false
[23:22:25] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1684), can_see=false
[23:22:25] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1898), can_see=false
[23:22:25] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1523), can_see=false
[23:22:25] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1891), can_see=false
[23:22:25] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2112), can_see=false
[23:22:25] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1286), can_see=false
[23:22:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:25] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:25] [INFO] [Shotgun.FIX#445] dragStartPos=(1051, 771), aimDir=(0,99, -0,12)
[23:22:25] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:25] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:25] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (589.007, 778.7674) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (589.2708, 749.8608) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (591.1168, 757.304) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (542.2031, 767.4048) (added to group)
[23:22:25] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=152.7°, current=-162.7°, player=(129,902), corner_timer=0.00
[23:22:25] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=444)
[23:22:25] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[23:22:25] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:25] [ENEMY] [Enemy1] FLANKING started: target=(141.8478, 706.2201), side=left, pos=(524.0657, 703.3587)
[23:22:25] [ENEMY] [Enemy1] State: COMBAT -> FLANKING
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (585.4622, 745.2485) (added to group)
[23:22:25] [ENEMY] [Enemy1] FLANKING started: target=(144.6333, 709.3167), side=left, pos=(524.0657, 707.2776)
[23:22:25] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=163.1°, current=-150.6°, player=(135,909), corner_timer=0.02
[23:22:25] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=435)
[23:22:25] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[23:22:25] [ENEMY] [Enemy1] FLANKING started: target=(147.4142, 712.4136), side=left, pos=(524.0657, 711.1966)
[23:22:25] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[23:22:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(497.0883, 736.9614), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:25] [ENEMY] [Enemy1] Heard gunshot at (497.0883, 736.9614), source_type=1, intensity=1.00, distance=35
[23:22:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[23:22:25] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:22:25] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-42,5, -246,3), length=249,9, dotWithAim=-12,7, aimDir=(0,99, -0,12), isPump=True
[23:22:25] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:22:25] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-12,7
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (576.002, 774.2993) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (558.235, 770.3156) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (550.0251, 771.5046) (added to group)
[23:22:25] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[23:22:25] [ENEMY] [Enemy1] PURSUING corner check: angle 48.1°
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (615.1297, 789.3597) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (580.7235, 780.8307) (added to group)
[23:22:25] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=152.0°, current=-151.7°, player=(148,920), corner_timer=0.30
[23:22:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=175.9°, player=(148,920), corner_timer=-0.01
[23:22:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (590.677, 724.1476) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (574.1421, 754.9224) (added to group)
[23:22:25] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=151.7°, current=-164.0°, player=(152,922), corner_timer=0.29
[23:22:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=178.1°, player=(152,922), corner_timer=0.30
[23:22:25] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=151.8°, current=97.4°, player=(155,924), corner_timer=0.27
[23:22:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(505.0045, 735.5937), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:25] [ENEMY] [Enemy4] Heard gunshot at (505.0045, 735.5937), source_type=1, intensity=0.87, distance=54
[23:22:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[23:22:25] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:22:25] [INFO] [LastChance] Threat detected: Bullet
[23:22:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:25] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=151.8°, current=160.0°, player=(159,926), corner_timer=0.26
[23:22:25] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[23:22:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(525.7147, 735.0685), source=ENEMY (Enemy1), range=1469, listeners=9
[23:22:25] [ENEMY] [Enemy2] Heard gunshot at (525.7147, 735.0685), source_type=1, intensity=1.00, distance=17
[23:22:25] [ENEMY] [Enemy4] Heard gunshot at (525.7147, 735.0685), source_type=1, intensity=1.00, distance=32
[23:22:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:25] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:22:25] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:22:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(555.0097, 748.6362), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:25] [ENEMY] [Enemy2] Heard gunshot at (555.0097, 748.6362), source_type=1, intensity=1.00, distance=46
[23:22:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:25] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(511.0551, 733.593), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:25] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (623.3373, 820.4855) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (582.3535, 803.1037) (added to group)
[23:22:25] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:22:25] [ENEMY] [Enemy3] Death animation completed
[23:22:25] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-54,9, 310,5), length=315,4, dotWithAim=-91,8, aimDir=(0,99, -0,12), isPump=True
[23:22:25] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:25] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-91,8
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (648.5192, 846.6689) (added to group)
[23:22:25] [INFO] [LastChance] Threat detected: @Area2D@7679
[23:22:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (604.8711, 746.1422) (added to group)
[23:22:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.7967, 773.6803), shooter_id=1936862481548, bullet_pos=(50.566, 964.1465)
[23:22:25] [INFO] [Bullet] Using shooter_position, distance=433.33349609375
[23:22:25] [INFO] [Bullet] Distance to wall: 433.33349609375 (29.5064745790601% of viewport)
[23:22:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:25] [INFO] [Bullet] Starting wall penetration at (50.566, 964.1465)
[23:22:25] [INFO] [LastChance] Threat detected: @Area2D@7680
[23:22:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:25] [INFO] [LastChance] Threat detected: @Area2D@7684
[23:22:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:25] [INFO] [LastChance] Threat detected: @Area2D@7682
[23:22:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.7411, 735.8602), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:25] [ENEMY] [Enemy4] Heard gunshot at (522.7411, 735.8602), source_type=1, intensity=1.00, distance=39
[23:22:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:25] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:22:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.6636524200439
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (583.7991, 815.3079) (added to group)
[23:22:25] [INFO] [Bullet] Body exited signal received for penetrating body
[23:22:25] [INFO] [Bullet] Exiting penetration at (16.13406, 980.9954) after traveling 33.3333320617676 pixels through wall
[23:22:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:22:25] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[23:22:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(497.407, 740.0853), source=ENEMY (Enemy1), range=1469, listeners=9
[23:22:25] [ENEMY] [Enemy2] Heard gunshot at (497.407, 740.0853), source_type=1, intensity=1.00, distance=27
[23:22:25] [ENEMY] [Enemy4] Heard gunshot at (497.407, 740.0853), source_type=1, intensity=0.58, distance=66
[23:22:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[23:22:25] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:22:25] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:22:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(558.0966, 714.6425), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:25] [ENEMY] [Enemy2] Heard gunshot at (558.0966, 714.6425), source_type=1, intensity=1.00, distance=39
[23:22:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:25] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/2 -> 1/2
[23:22:25] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:25] [INFO] [ImpactEffects] spawn_blood_effect called at (493.1429, 740.2336), dir=(-0.856761, 0.515714), lethal=false
[23:22:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:25] [INFO] [ImpactEffects] Blood effect spawned at (493.1429, 740.2336) (scale=1)
[23:22:25] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=146.8°, current=-31.0°, player=(195,934), corner_timer=0.15
[23:22:25] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[23:22:25] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(526.6423, 737.5878), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:25] [ENEMY] [Enemy1] Heard gunshot at (526.6423, 737.5878), source_type=1, intensity=1.00, distance=38
[23:22:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:25] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:22:25] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[23:22:25] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:22:25] [INFO] [Player] Spawning blood effect at (202.74863, 933.7535), dir=(1, 0), lethal=False (C#)
[23:22:25] [INFO] [ImpactEffects] spawn_blood_effect called at (202.7486, 933.7535), dir=(1, 0), lethal=false
[23:22:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:25] [INFO] [ImpactEffects] Blood effect spawned at (202.7486, 933.7535) (scale=1)
[23:22:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[23:22:25] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[23:22:25] [INFO] [Player] Spawning blood effect at (202.74863, 933.7535), dir=(1, 0), lethal=False (C#)
[23:22:25] [INFO] [ImpactEffects] spawn_blood_effect called at (202.7486, 933.7535), dir=(1, 0), lethal=false
[23:22:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:25] [INFO] [ImpactEffects] Blood effect spawned at (202.7486, 933.7535) (scale=1)
[23:22:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[23:22:25] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[23:22:25] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=48.1°, current=-26.5°, player=(202,933), corner_timer=0.15
[23:22:25] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=342), can_see=false
[23:22:25] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=425), can_see=true
[23:22:25] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1607), can_see=false
[23:22:25] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1813), can_see=false
[23:22:25] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1409), can_see=false
[23:22:25] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1774), can_see=false
[23:22:25] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1995), can_see=false
[23:22:25] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1167), can_see=false
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (658.4733, 735.6315) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (623.1101, 755.2422) (added to group)
[23:22:25] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:25] [INFO] [LastChance] Threat detected: @Area2D@7698
[23:22:25] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:22:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:25] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-55,6, 352,8), length=357,2, dotWithAim=-97,5, aimDir=(0,99, -0,12), isPump=True
[23:22:25] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:25] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-97,5
[23:22:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(447.6806, 775.3019), shooter_id=1936862481548, bullet_pos=(45.87817, 1072.884)
[23:22:25] [INFO] [Bullet] Using shooter_position, distance=500.000183105469
[23:22:25] [INFO] [Bullet] Distance to wall: 500.000183105469 (34.0459318869158% of viewport)
[23:22:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(469.7352, 773.7581), shooter_id=1936526935472, bullet_pos=(57.95282, 993.3327)
[23:22:25] [INFO] [Bullet] Using shooter_position, distance=466.666595458984
[23:22:25] [INFO] [Bullet] Distance to wall: 466.666595458984 (31.7761866090038% of viewport)
[23:22:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:25] [INFO] [LastChance] Threat detected: Bullet
[23:22:25] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[23:22:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(529.8051, 730.8141), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:25] [ENEMY] [Enemy1] Heard gunshot at (529.8051, 730.8141), source_type=1, intensity=1.00, distance=36
[23:22:25] [ENEMY] [Enemy4] Heard gunshot at (529.8051, 730.8141), source_type=1, intensity=0.81, distance=55
[23:22:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:25] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:22:25] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=146.0°, current=-53.3°, player=(219,927), corner_timer=0.15
[23:22:25] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[23:22:25] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:22:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(561.1835, 680.6489), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:25] [ENEMY] [Enemy1] Heard gunshot at (561.1835, 680.6489), source_type=1, intensity=0.32, distance=89
[23:22:25] [ENEMY] [Enemy2] Heard gunshot at (561.1835, 680.6489), source_type=1, intensity=0.80, distance=56
[23:22:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:25] [INFO] [Player] Spawning blood effect at (222.9293, 925.8488), dir=(1, 0), lethal=False (C#)
[23:22:25] [INFO] [ImpactEffects] spawn_blood_effect called at (222.9293, 925.8488), dir=(1, 0), lethal=false
[23:22:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:25] [INFO] [ImpactEffects] Blood effect spawned at (222.9293, 925.8488) (scale=1)
[23:22:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:22:25] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:22:25] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:22:25] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/2 -> 0/2
[23:22:25] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:25] [INFO] [ImpactEffects] spawn_blood_effect called at (497.2979, 742.2394), dir=(-0.810256, 0.586076), lethal=true
[23:22:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:25] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:22:25] [INFO] [ImpactEffects] Blood effect spawned at (497.2979, 742.2394) (scale=1.5)
[23:22:25] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[23:22:25] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[23:22:25] [ENEMY] [Enemy1] [AllyDeath] Notified 2 enemies
[23:22:25] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[23:22:25] [INFO] [DeathAnim] Started - Angle: 144.1 deg, Index: 21
[23:22:25] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.810256, 0.586076)
[23:22:25] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:22:25] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:25] [INFO] [ImpactEffects] spawn_blood_effect called at (529.4358, 726.5635), dir=(-0.810256, 0.586076), lethal=false
[23:22:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:25] [INFO] [ImpactEffects] Blood effect spawned at (529.4358, 726.5635) (scale=1)
[23:22:25] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=147.0°, current=-35.9°, player=(222,925), corner_timer=0.00
[23:22:25] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=366), can_see=false
[23:22:25] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:22:25] [INFO] [Player] Spawning blood effect at (226.18881, 923.792), dir=(1, 0), lethal=True (C#)
[23:22:25] [INFO] [ImpactEffects] spawn_blood_effect called at (226.1888, 923.792), dir=(1, 0), lethal=true
[23:22:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:25] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:22:25] [INFO] [ImpactEffects] Blood effect spawned at (226.1888, 923.792) (scale=1.5)
[23:22:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[23:22:25] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[23:22:25] [INFO] [CinemaEffects] Player died - triggering death effects
[23:22:25] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[23:22:25] [INFO] [PenultimateHit] Player died - ending penultimate effect
[23:22:25] [INFO] [LastChance] Player died
[23:22:25] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-95.0°, current=-38.2°, player=(226,923), corner_timer=0.00
[23:22:25] [INFO] [Shotgun.FIX#243] RMB released after 35 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:25] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-55,6, 352,5), length=356,9, dotWithAim=-97,5, ActionState=NeedsPumpUp, minDist=20
[23:22:25] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=125.2°, player=(232,919), corner_timer=-0.01
[23:22:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (603.8198, 869.0485) (added to group)
[23:22:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(234,916), corner_timer=0.30
[23:22:25] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-89.8°, current=141.9°, player=(237,914), corner_timer=0.02
[23:22:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:25] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:22:25] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:22:25] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:22:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:25] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:22:25] [INFO] [CinemaEffects] Death effects reset
[23:22:25] [ENEMY] [Enemy1] Death animation component initialized
[23:22:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:25] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:22:25] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:22:25] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:22:25] [ENEMY] [Enemy2] Death animation component initialized
[23:22:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:25] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:22:25] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:22:25] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:22:25] [ENEMY] [Enemy3] Death animation component initialized
[23:22:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:25] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:22:25] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:22:25] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:22:25] [ENEMY] [Enemy4] Death animation component initialized
[23:22:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:25] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:22:25] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:22:25] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:22:25] [ENEMY] [Enemy5] Death animation component initialized
[23:22:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:25] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:22:25] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:22:25] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:22:25] [ENEMY] [Enemy6] Death animation component initialized
[23:22:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:25] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:22:25] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:22:25] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:22:25] [ENEMY] [Enemy7] Death animation component initialized
[23:22:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:25] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:22:25] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:22:25] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:22:25] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:25] [ENEMY] [Enemy8] Death animation component initialized
[23:22:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:25] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:22:25] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:22:25] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:22:25] [ENEMY] [Enemy9] Death animation component initialized
[23:22:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:25] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:22:25] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:22:25] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:22:25] [ENEMY] [Enemy10] Death animation component initialized
[23:22:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:25] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:25] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:25] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:22:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:25] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:25] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:22:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:25] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:22:25] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:22:25] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:22:25] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:22:25] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:22:25] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:22:25] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:22:25] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:22:25] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:22:25] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:22:25] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:22:25] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:22:25] [INFO] [ScoreManager] Level started with 10 enemies
[23:22:25] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:22:25] [INFO] [CinemaEffects] Found player node: Player
[23:22:25] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[23:22:25] [ENEMY] [Enemy1] Registered as sound listener
[23:22:25] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[23:22:25] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:22:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[23:22:25] [ENEMY] [Enemy2] Registered as sound listener
[23:22:25] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[23:22:25] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:22:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[23:22:25] [ENEMY] [Enemy3] Registered as sound listener
[23:22:25] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[23:22:25] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:22:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[23:22:25] [ENEMY] [Enemy4] Registered as sound listener
[23:22:25] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[23:22:25] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:22:25] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[23:22:25] [ENEMY] [Enemy5] Registered as sound listener
[23:22:25] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[23:22:25] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:22:25] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[23:22:25] [ENEMY] [Enemy6] Registered as sound listener
[23:22:25] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[23:22:25] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:22:25] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[23:22:25] [ENEMY] [Enemy7] Registered as sound listener
[23:22:25] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[23:22:25] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:22:25] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[23:22:25] [ENEMY] [Enemy8] Registered as sound listener
[23:22:25] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[23:22:25] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:22:25] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[23:22:25] [ENEMY] [Enemy9] Registered as sound listener
[23:22:25] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[23:22:25] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:22:25] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[23:22:25] [ENEMY] [Enemy10] Registered as sound listener
[23:22:25] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[23:22:25] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:25] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:22:25] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:22:25] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:22:25] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:22:25] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:22:25] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:22:25] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:22:25] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:22:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:25] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:25] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:22:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:25] [INFO] [LastChance] Found player: Player
[23:22:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:25] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:25] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (285.417, 981.6746) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (286.3495, 945.3239) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (251.1364, 950.8278) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (265.1644, 949.9014) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (289.9818, 934.1023) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (284.3857, 977.6728) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (299.7652, 921.7806) (added to group)
[23:22:25] [INFO] [BloodDecal] Blood puddle created at (272.7064, 961.7185) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (503.4229, 782.7915) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (310.1439, 973.6801) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (492.9917, 777.6705) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (302.6932, 954.2321) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (263.5769, 956.061) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (284.9117, 959.3692) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (435.9843, 827.8297) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (441.6479, 815.9047) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (288.943, 971.7905) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (289.833, 942.5539) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (430.6699, 782.4987) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (460.4564, 807.5286) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (499.8866, 796.7564) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (303.7743, 949.7641) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (312.8766, 905.9355) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (274.6131, 996.0187) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (288.5035, 1014.951) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (412.4846, 814.61) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (433.3205, 769.7914) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (317.7782, 978.6482) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (280.6014, 973.0616) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (287.9925, 984.101) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (492.6374, 813.3373) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (337.8738, 923.2519) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (317.6239, 927.9612) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (284.6972, 952.8528) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (335.8354, 941.2805) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (307.5566, 1019.341) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (417.4863, 874.2317) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (317.3621, 983.6694) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (402.4602, 808.2521) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (350.9178, 907.3617) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (410.1086, 856.1121) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (418.0646, 838.4227) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (325.7536, 991.1746) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (323.4302, 999.9598) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (280.6476, 973.4167) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (384.5077, 918.3466) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (326.2595, 1014.552) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (343.0902, 999.0536) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (438.9533, 852.1705) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (397.0631, 1033.106) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (349.0889, 950.2924) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (394.5881, 1013.494) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (359.0144, 852.3615) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (444.0118, 891.0465) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (390.7295, 874.9203) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (324.296, 1010.2) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (348.4643, 927.1836) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (348.9504, 900.0768) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (356.7817, 1002.473) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (293.5297, 1068.941) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (409.9318, 894.5276) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (400.82, 880.9869) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (395.5693, 865.5745) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (328.0237, 1031.364) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (412.4032, 970.6823) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (293.3032, 909.2072) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (333.9612, 927.6554) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (336.121, 1027.61) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (352.8565, 968.8504) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (280.528, 901.7819) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (304.9157, 900.4998) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (368.8134, 858.7142) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (377.2696, 898.6808) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (391.2876, 876.4995) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (358.7382, 989.0349) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (367.8819, 864.3812) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (440.1155, 1021.156) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (426.9246, 837.1979) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (410.395, 958.395) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (381.4297, 1076.997) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (364.8376, 892.6631) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (379.5148, 917.9336) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (393.8355, 938.3468) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (356.8052, 969.1641) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (376.576, 1079) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (396.3826, 941.3458) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (434.2722, 1011.875) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (386.9422, 932.7502) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (271.5332, 955.9334) (added to group)
[23:22:26] [INFO] [BloodDecal] Blood puddle created at (394.9486, 1119.559) (added to group)
[23:22:26] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:27] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=123.7°, player=(450,819), corner_timer=0.00
[23:22:27] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[23:22:27] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-64.9°, player=(450,808), corner_timer=0.00
[23:22:27] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[23:22:27] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[23:22:27] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:27] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:22:27] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-161.7°, current=168.8°, player=(450,783), corner_timer=0.00
[23:22:27] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,783), corner_timer=0.30
[23:22:27] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,783), corner_timer=0.30
[23:22:27] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[23:22:27] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:22:27] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:22:27] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:22:27] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:22:27] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:22:27] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:22:27] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:22:27] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:22:27] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:22:27] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:22:27] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(450, 772.4444), source=PLAYER (Player), range=600, listeners=18
[23:22:27] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[23:22:27] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (450, 772.4444), intensity=0.01, distance=448
[23:22:27] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:27] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (450, 772.4444), intensity=0.05, distance=228
[23:22:27] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:27] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (450, 772.4444), intensity=0.05, distance=235
[23:22:27] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (450, 772.4444), intensity=0.02, distance=368
[23:22:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:22:27] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(450, 772.4444)
[23:22:27] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=-9,0, distance=16,0px, pos=(465.78702, 770.13043)
[23:22:27] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=-14,2, distance=10,8px, pos=(460.77988, 771.684)
[23:22:27] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=-6,6, distance=18,4px, pos=(468.3633, 771.6713)
[23:22:27] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=12,3, distance=37,3px, pos=(487.3098, 772.6706)
[23:22:27] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=4,7, distance=29,7px, pos=(479.61646, 774.31854)
[23:22:27] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-6,8, distance=18,2px, pos=(468.19992, 773.5963)
[23:22:27] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=10,0, distance=35,0px, pos=(484.7477, 776.7548)
[23:22:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 772.4444), source=PLAYER (Shotgun), range=1469, listeners=10
[23:22:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:22:27] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.5°, current=-33.8°, player=(450,772), corner_timer=0.00
[23:22:27] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=448), can_see=false
[23:22:27] [ENEMY] [Enemy1] Pursuing vulnerability sound at (450, 772.4444), distance=448
[23:22:27] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=77.3°, current=45.0°, player=(450,772), corner_timer=0.00
[23:22:27] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=228), can_see=false
[23:22:27] [ENEMY] [Enemy2] Pursuing vulnerability sound at (450, 772.4444), distance=228
[23:22:27] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=235), can_see=false
[23:22:27] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=368), can_see=false
[23:22:27] [ENEMY] [Enemy4] Pursuing vulnerability sound at (450, 772.4444), distance=368
[23:22:27] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1319), can_see=false
[23:22:27] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1534), can_see=false
[23:22:27] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1178), can_see=false
[23:22:27] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1600), can_see=false
[23:22:27] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1824), can_see=false
[23:22:27] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1091), can_see=false
[23:22:27] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/3 -> 2/3
[23:22:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:27] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[23:22:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:27] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[23:22:27] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/3 -> 1/3
[23:22:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:27] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[23:22:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:27] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[23:22:27] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/3 -> 0/3
[23:22:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:27] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=true
[23:22:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:27] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:22:27] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1.5)
[23:22:27] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:22:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:22:27] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:22:27] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:22:27] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:22:27] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:22:27] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:27] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:27] [INFO] [Shotgun.FIX#445] dragStartPos=(1124, 746), aimDir=(1,00, 0,00)
[23:22:27] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.6°, player=(427,744), corner_timer=-0.01
[23:22:27] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.7°, player=(427,744), corner_timer=-0.01
[23:22:27] [ENEMY] [Enemy10] PATROL corner check: angle 14.5°
[23:22:27] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(425,744), corner_timer=0.30
[23:22:27] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.5°, current=53.5°, player=(425,744), corner_timer=0.30
[23:22:27] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (731.8988, 754.4901) (added to group)
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (736.8543, 758.2956) (added to group)
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (748.6671, 741.9839) (added to group)
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (746.2988, 791.0553) (added to group)
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (766.016, 798.8135) (added to group)
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (770.0295, 746.8471) (added to group)
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (737.8158, 764.2482) (added to group)
[23:22:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-40,4, -347,6), length=350,0, dotWithAim=-41,6, aimDir=(1,00, 0,00), isPump=True
[23:22:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:27] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-41,6
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (748.1213, 788.1119) (added to group)
[23:22:27] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:27] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-172.1°, current=-171.5°, player=(395,749), corner_timer=0.30
[23:22:27] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:22:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(786.9249, 803.5493), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (796.8295, 798.8694) (added to group)
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (779.3169, 750.5393) (added to group)
[23:22:27] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=402)
[23:22:27] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (774.0828, 737.14) (added to group)
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (774.5964, 765.6888) (added to group)
[23:22:27] [INFO] [BloodDecal] Blood puddle created at (770.2113, 814.7925) (added to group)
[23:22:28] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=313), can_see=false
[23:22:28] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=161), can_see=false
[23:22:28] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=408), can_see=true
[23:22:28] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:22:28] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1372), can_see=false
[23:22:28] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1591), can_see=false
[23:22:28] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1318), can_see=false
[23:22:28] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1667), can_see=false
[23:22:28] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1891), can_see=false
[23:22:28] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1162), can_see=false
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (758.2418, 787.7796) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (782.1281, 765.6262) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (758.3444, 766.5433) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (766.3634, 761.167) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (813.8737, 806.436) (added to group)
[23:22:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-31,3, 367,0), length=368,4, dotWithAim=-30,1, aimDir=(1,00, 0,00), isPump=True
[23:22:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-30,1
[23:22:28] [INFO] [LastChance] Threat detected: Bullet
[23:22:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (782.1791, 786.7546) (added to group)
[23:22:28] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (759.2251, 803.7405) (added to group)
[23:22:28] [ENEMY] [Enemy3] Ragdoll activated
[23:22:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:22:28] [INFO] [Player] Spawning blood effect at (343.06723, 749.4145), dir=(1, 0), lethal=False (C#)
[23:22:28] [INFO] [ImpactEffects] spawn_blood_effect called at (343.0672, 749.4145), dir=(1, 0), lethal=false
[23:22:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:28] [INFO] [ImpactEffects] Blood effect spawned at (343.0672, 749.4145) (scale=1)
[23:22:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:22:28] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:22:28] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:22:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(338,749), corner_timer=-0.01
[23:22:28] [ENEMY] [Enemy10] PATROL corner check: angle 7.3°
[23:22:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.3°, current=16.4°, player=(334,749), corner_timer=0.30
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (816.5994, 798.8296) (added to group)
[23:22:28] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:22:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-33,3, 364,9), length=366,4, dotWithAim=-32,1, aimDir=(1,00, 0,00), isPump=True
[23:22:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-32,1
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (768.2381, 780.5887) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (847.8482, 750.7924) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (771.2347, 801.0819) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (808.585, 822.9525) (added to group)
[23:22:28] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=170.0°, current=179.2°, player=(294,749), corner_timer=0.00
[23:22:28] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 708.889), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (814.5428, 835.9343) (added to group)
[23:22:28] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (876.0432, 852.159) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (805.9486, 811.7485) (added to group)
[23:22:28] [INFO] [LastChance] Threat detected: Bullet
[23:22:28] [INFO] [LastChance] Triggering last chance effect!
[23:22:28] [INFO] [LastChance] Starting last chance effect:
[23:22:28] [INFO] [LastChance]   - Time will be frozen (except player)
[23:22:28] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:22:28] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:22:28] [INFO] [LastChance]   - Brightness: 0.60
[23:22:28] [INFO] [LastChance] Pushed bullet Bullet from distance 141.0 to 200.0
[23:22:28] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[23:22:28] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:22:28] [INFO] [LastChance] Skipping player node: Player
[23:22:28] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:22:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8195
[23:22:28] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:22:28] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:22:28] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (867.3568, 789.8428) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (880.1896, 778.4642) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (910.3126, 856.0353) (added to group)
[23:22:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-35,3, 363,6), length=365,3, dotWithAim=-34,1, aimDir=(1,00, 0,00), isPump=True
[23:22:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-34,1
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (895.4407, 851.3264) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (890.7175, 902.6653) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (412.0049, 745.4993) (added to group)
[23:22:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-35,3, 363,0), length=364,7, dotWithAim=-34,1, aimDir=(1,00, 0,00), isPump=True
[23:22:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-34,1
[23:22:28] [INFO] [Shotgun.FIX#243] RMB released after 50 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:28] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-35,3, 363,0), length=364,7, dotWithAim=-34,1, ActionState=NeedsPumpUp, minDist=20
[23:22:28] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:28] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:22:28] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:22:28] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:22:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:28] [INFO] [LastChance] Ending last chance effect
[23:22:28] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[23:22:28] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[23:22:28] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[23:22:28] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[23:22:28] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:22:28] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:22:28] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:22:28] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:22:28] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:22:28] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[23:22:28] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[23:22:28] [INFO] [LastChance] All process modes restored
[23:22:28] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:22:28] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:22:28] [ENEMY] [Enemy1] Death animation component initialized
[23:22:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:28] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:22:28] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:22:28] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:22:28] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:28] [ENEMY] [Enemy2] Death animation component initialized
[23:22:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:28] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:22:28] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:22:28] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:22:28] [ENEMY] [Enemy3] Death animation component initialized
[23:22:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:28] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:22:28] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:22:28] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:22:28] [ENEMY] [Enemy4] Death animation component initialized
[23:22:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:28] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:22:28] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:22:28] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:22:28] [ENEMY] [Enemy5] Death animation component initialized
[23:22:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:28] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:22:28] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:22:28] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:22:28] [ENEMY] [Enemy6] Death animation component initialized
[23:22:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:28] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:22:28] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:22:28] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:22:28] [ENEMY] [Enemy7] Death animation component initialized
[23:22:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:28] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:22:28] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:22:28] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:22:28] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:28] [ENEMY] [Enemy8] Death animation component initialized
[23:22:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:28] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:22:28] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:22:28] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:22:28] [ENEMY] [Enemy9] Death animation component initialized
[23:22:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:28] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:22:28] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:22:28] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:22:28] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:28] [ENEMY] [Enemy10] Death animation component initialized
[23:22:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:28] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:28] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:28] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:22:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:28] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[23:22:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:28] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:22:28] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:22:28] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:22:28] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:22:28] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:22:28] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:22:28] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:22:28] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:22:28] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:22:28] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:22:28] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:22:28] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:22:28] [INFO] [ScoreManager] Level started with 10 enemies
[23:22:28] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:22:28] [INFO] [CinemaEffects] Found player node: Player
[23:22:28] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[23:22:28] [ENEMY] [Enemy1] Registered as sound listener
[23:22:28] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[23:22:28] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:22:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[23:22:28] [ENEMY] [Enemy2] Registered as sound listener
[23:22:28] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[23:22:28] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:22:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[23:22:28] [ENEMY] [Enemy3] Registered as sound listener
[23:22:28] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[23:22:28] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:22:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[23:22:28] [ENEMY] [Enemy4] Registered as sound listener
[23:22:28] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[23:22:28] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:22:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[23:22:28] [ENEMY] [Enemy5] Registered as sound listener
[23:22:28] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[23:22:28] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:22:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[23:22:28] [ENEMY] [Enemy6] Registered as sound listener
[23:22:28] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[23:22:28] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:22:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[23:22:28] [ENEMY] [Enemy7] Registered as sound listener
[23:22:28] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[23:22:28] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:22:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[23:22:28] [ENEMY] [Enemy8] Registered as sound listener
[23:22:28] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[23:22:28] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:22:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[23:22:28] [ENEMY] [Enemy9] Registered as sound listener
[23:22:28] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[23:22:28] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:22:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[23:22:28] [ENEMY] [Enemy10] Registered as sound listener
[23:22:28] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:22:28] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:28] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:28] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:28] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:28] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:28] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:28] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:28] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:28] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:28] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:28] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:22:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:28] [INFO] [LastChance] Found player: Player
[23:22:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:28] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:28] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (428.0873, 788.0078) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (480.0262, 858.8286) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (515.0596, 752.8852) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (473.6509, 769.4554) (added to group)
[23:22:28] [INFO] [BloodDecal] Blood puddle created at (582.515, 815.008) (added to group)
[23:22:30] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:30] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:22:30] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(425,849), corner_timer=0.30
[23:22:30] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(425,849), corner_timer=0.30
[23:22:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(420,814), corner_timer=-0.02
[23:22:30] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:22:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(420,814), corner_timer=-0.02
[23:22:30] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[23:22:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(420,812), corner_timer=0.30
[23:22:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(420,812), corner_timer=0.30
[23:22:30] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:30] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:22:30] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:22:30] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:22:30] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:22:30] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:22:30] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:22:30] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:22:30] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:22:30] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:22:30] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:22:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(420.5788, 802.3082), source=PLAYER (Player), range=600, listeners=19
[23:22:30] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[23:22:30] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (420.5788, 802.3082), intensity=0.01, distance=468
[23:22:30] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (420.5788, 802.3082), intensity=0.04, distance=253
[23:22:30] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:30] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (420.5788, 802.3082), intensity=0.03, distance=284
[23:22:30] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:30] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (420.5788, 802.3082), intensity=0.02, distance=392
[23:22:30] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:22:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:22:30] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(420.57883, 802.3082)
[23:22:30] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-10,0, distance=15,0px, pos=(434.99658, 798.0457)
[23:22:30] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=11,3, distance=36,3px, pos=(455.3661, 791.8861)
[23:22:30] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-6,0, distance=19,0px, pos=(438.90344, 797.2977)
[23:22:30] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-2,1, distance=22,9px, pos=(442.8165, 796.80304)
[23:22:30] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-6,3, distance=18,7px, pos=(438.85776, 798.39514)
[23:22:30] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-9,0, distance=16,0px, pos=(436.29077, 799.52094)
[23:22:30] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=6,0, distance=31,0px, pos=(451.25546, 797.8952)
[23:22:30] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-3,7, distance=21,3px, pos=(441.58905, 799.02203)
[23:22:30] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=-3,4, distance=21,6px, pos=(442.01663, 799.68365)
[23:22:30] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=-1,0, distance=24,0px, pos=(444.4597, 799.95483)
[23:22:30] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-8,8, distance=16,2px, pos=(436.74945, 800.89374)
[23:22:30] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=0,4, distance=25,4px, pos=(445.9358, 801.1779)
[23:22:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(420.5788, 802.3082), source=PLAYER (Shotgun), range=1469, listeners=10
[23:22:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:22:30] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=75.1°, current=168.8°, player=(420,802), corner_timer=0.00
[23:22:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=468), can_see=false
[23:22:30] [ENEMY] [Enemy1] Pursuing vulnerability sound at (420.5788, 802.3082), distance=468
[23:22:30] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=85.3°, current=-157.5°, player=(420,802), corner_timer=0.00
[23:22:30] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=253), can_see=false
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (253 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [ENEMY] [Enemy2] Pursuing vulnerability sound at (420.5788, 802.3082), distance=253
[23:22:30] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=169.4°, current=11.3°, player=(420,802), corner_timer=0.00
[23:22:30] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=284), can_see=false
[23:22:30] [ENEMY] [Enemy3] Pursuing vulnerability sound at (420.5788, 802.3082), distance=284
[23:22:30] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-165.6°, current=-101.3°, player=(420,802), corner_timer=0.00
[23:22:30] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=392), can_see=false
[23:22:30] [ENEMY] [Enemy4] Pursuing vulnerability sound at (420.5788, 802.3082), distance=392
[23:22:30] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1357), can_see=false
[23:22:30] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1569), can_see=false
[23:22:30] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1282), can_see=false
[23:22:30] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1615), can_see=false
[23:22:30] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1838), can_see=false
[23:22:30] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1099), can_see=false
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (249 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=169.3°, current=-172.5°, player=(420,802), corner_timer=0.00
[23:22:30] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[23:22:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.7022, 750.6149), source=ENEMY (Enemy3), range=1469, listeners=10
[23:22:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (245 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (241 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [INFO] [LastChance] Threat detected: Bullet
[23:22:30] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:22:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (237 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:22:30] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:30] [INFO] [ImpactEffects] spawn_blood_effect called at (673.511, 753.0746), dir=(1, 0), lethal=false
[23:22:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:30] [INFO] [ImpactEffects] Blood effect spawned at (673.511, 753.0746) (scale=1)
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (234 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:22:30] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:30] [INFO] [ImpactEffects] spawn_blood_effect called at (668.2133, 753.6896), dir=(1, 0), lethal=false
[23:22:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:30] [INFO] [ImpactEffects] Blood effect spawned at (668.2133, 753.6896) (scale=1)
[23:22:30] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:22:30] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:30] [INFO] [ImpactEffects] spawn_blood_effect called at (668.2133, 753.6896), dir=(1, 0), lethal=false
[23:22:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:30] [INFO] [ImpactEffects] Blood effect spawned at (668.2133, 753.6896) (scale=1)
[23:22:30] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[23:22:30] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:22:30] [INFO] [ImpactEffects] spawn_blood_effect called at (668.2133, 753.6896), dir=(1, 0), lethal=true
[23:22:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:30] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:22:30] [INFO] [ImpactEffects] Blood effect spawned at (668.2133, 753.6896) (scale=1.5)
[23:22:30] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:22:30] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:22:30] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (668.2133, 753.6896), entering SEARCHING
[23:22:30] [ENEMY] [Enemy4] SEARCHING started: center=(668.2133, 753.6896), radius=100, waypoints=5
[23:22:30] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:22:30] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:22:30] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:22:30] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (230 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(420,802), corner_timer=-0.02
[23:22:30] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[23:22:30] [INFO] [Player] Spawning blood effect at (419.76547, 802.3082), dir=(1, 0), lethal=False (C#)
[23:22:30] [INFO] [ImpactEffects] spawn_blood_effect called at (419.7655, 802.3082), dir=(1, 0), lethal=false
[23:22:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:30] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 802.3082) (dist=80 px)
[23:22:30] [INFO] [BloodDecal] Blood puddle created at (499, 802.3082) (added to group)
[23:22:30] [INFO] [ImpactEffects] Blood effect spawned at (419.7655, 802.3082) (scale=1)
[23:22:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[23:22:30] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (227 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.1°, player=(419,802), corner_timer=0.30
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (224 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (221 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (219 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (216 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (213 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:30] [INFO] [EnemyGrenade] Unsafe throw distance (210 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (208 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (205 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (203 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (198 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:31] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:31] [INFO] [Shotgun.FIX#445] dragStartPos=(1225, 651), aimDir=(0,98, -0,18)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (196 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (194 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (192 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-178.7°, current=-179.0°, player=(390,802), corner_timer=0.00
[23:22:31] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=401)
[23:22:31] [ENEMY] [Enemy4] State: SEARCHING -> PURSUING
[23:22:31] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (187 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (186 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (757.0341, 789.3578) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (728.4865, 786.4462) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (755.7118, 787.3769) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (727.477, 760.3788) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (183 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=178.8°, current=102.8°, player=(370,802), corner_timer=0.00
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (743.0536, 764.4947) (added to group)
[23:22:31] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (183 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (730.4142, 798.5853) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (753.4512, 784.5994) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=178.1°, current=139.3°, player=(361,802), corner_timer=0.00
[23:22:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-8,5, -64,3), length=64,9, dotWithAim=3,2, aimDir=(0,98, -0,18), isPump=True
[23:22:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:22:31] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=3,2
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (722.0371, 788.7674) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=178.3°, current=77.1°, player=(357,802), corner_timer=0.00
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (741.35, 748.607) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (737.9063, 801.7073) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (712.2386, 758.114) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(352,802), corner_timer=-0.01
[23:22:31] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[23:22:31] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=369), can_see=false
[23:22:31] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=226), can_see=false
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=423), can_see=false
[23:22:31] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1425), can_see=false
[23:22:31] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1640), can_see=false
[23:22:31] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1354), can_see=false
[23:22:31] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1682), can_see=false
[23:22:31] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1905), can_see=false
[23:22:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.1°, player=(348,802), corner_timer=0.30
[23:22:31] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1143), can_see=false
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (726.9126, 779.7231) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (769.8981, 738.9914) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (757.8803, 747.9082) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (183 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (763.181, 784.4657) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (183 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (773.2631, 775.2972) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (775.1404, 797.1514) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (182 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (743.0904, 755.8261) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (178 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (175 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (790.4868, 809.6824) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (813.1027, 829.8278) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-78,6, -207,7), length=222,1, dotWithAim=-39,9, aimDir=(0,98, -0,18), isPump=True
[23:22:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:31] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-39,9
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (798.1136, 732.8111) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (740.3947, 768.5176) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (798.593, 766.0701) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (174 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (782.3275, 812.1047) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (761.4265, 755.7631) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (749.9882, 760.8171) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (781.5513, 768.4921) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (168 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (768.3083, 801.6503) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (164 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [ENEMY] [Enemy3] Ragdoll activated
[23:22:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (785.6593, 777.3271) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (833.6556, 778.3564) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (161 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (797.0409, 816.5725) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (808.3348, 828.333) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (160 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (817.6482, 826.963) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (158 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (779.6097, 777.7738) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (810.3378, 746.5892) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (155 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (862.4338, 799.1663) (added to group)
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (784.5114, 805.1846) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (785.8311, 804.7153) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-204,2, 508,8), length=548,2, dotWithAim=-292,5, aimDir=(0,98, -0,18), isPump=True
[23:22:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:31] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-292,5
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (809.7458, 758.2994) (added to group)
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [EnemyGrenade] Unsafe throw distance (142 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (867.7693, 810.7255) (added to group)
[23:22:31] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=163.9°, current=-162.2°, player=(263,784), corner_timer=0.00
[23:22:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 708.889), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:31] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-179.8°, current=130.3°, player=(263,784), corner_timer=0.00
[23:22:31] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:22:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(686.1728, 785.9336), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[23:22:31] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:22:31] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[23:22:31] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[23:22:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(256,778), corner_timer=-0.01
[23:22:31] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[23:22:31] [INFO] [BloodDecal] Blood puddle created at (854.7361, 796.9106) (added to group)
[23:22:31] [INFO] [LastChance] Threat detected: Bullet
[23:22:31] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[23:22:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.8°, player=(253,775), corner_timer=0.30
[23:22:31] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:22:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-381,9, 496,2), length=626,2, dotWithAim=-465,0, aimDir=(0,98, -0,18), isPump=True
[23:22:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:31] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-465,0
[23:22:31] [INFO] [LastChance] Threat detected: @Area2D@8547
[23:22:31] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[23:22:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.2314, 721.2363), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:31] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:22:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(653.9174, 786.7402), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[23:22:31] [ENEMY] [Enemy1] Pursuing vulnerability sound at (420.5788, 802.3082), distance=248
[23:22:31] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=292), can_see=false
[23:22:31] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=415), can_see=true
[23:22:31] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1523), can_see=false
[23:22:31] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1745), can_see=false
[23:22:31] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1474), can_see=false
[23:22:31] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1808), can_see=false
[23:22:31] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2031), can_see=false
[23:22:31] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1258), can_see=false
[23:22:31] [INFO] [LastChance] Threat detected: @Area2D@8552
[23:22:31] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[23:22:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(461.2997, 735.1763), shooter_id=2166995554185, bullet_pos=(45.05144, 855.6556)
[23:22:31] [INFO] [Bullet] Using shooter_position, distance=433.333435058594
[23:22:31] [INFO] [Bullet] Distance to wall: 433.333435058594 (29.506470423064% of viewport)
[23:22:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:31] [INFO] [LastChance] Threat detected: @Area2D@8554
[23:22:31] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[23:22:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:22:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(520.8578, 724.008), source=ENEMY (Enemy2), range=1469, listeners=9
[23:22:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:22:31] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[23:22:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(621.683, 786.7402), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[23:22:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-389,2, 474,6), length=613,8, dotWithAim=-468,4, aimDir=(0,98, -0,18), isPump=True
[23:22:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:31] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-468,4
[23:22:31] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[23:22:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(618.5444, 793.484), shooter_id=2167666641788, bullet_pos=(51.88163, 791.3922)
[23:22:31] [INFO] [Bullet] Using shooter_position, distance=566.666625976563
[23:22:31] [INFO] [Bullet] Distance to wall: 566.666625976563 (38.5853725707874% of viewport)
[23:22:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:31] [INFO] [Bullet] Starting wall penetration at (51.88163, 791.3922)
[23:22:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.4515686035156
[23:22:31] [INFO] [Bullet] Body exited signal received for penetrating body
[23:22:31] [INFO] [Bullet] Exiting penetration at (13.54856, 791.2507) after traveling 33.3333358764648 pixels through wall
[23:22:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:22:31] [INFO] [LastChance] Threat detected: @Area2D@8566
[23:22:31] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[23:22:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(456.3063, 738.1025), shooter_id=2166995554185, bullet_pos=(59.9775, 792.1721)
[23:22:31] [INFO] [Bullet] Using shooter_position, distance=400
[23:22:31] [INFO] [Bullet] Distance to wall: 400 (27.2367355351422% of viewport)
[23:22:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:32] [INFO] [LastChance] Threat detected: @Area2D@8569
[23:22:32] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[23:22:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:22:32] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-90.0°, current=176.5°, player=(195,728), corner_timer=0.00
[23:22:32] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=329), can_see=false
[23:22:32] [INFO] [EnemyGrenade] Unsafe throw distance (140 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:32] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[23:22:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.4487, 786.7402), source=ENEMY (Enemy4), range=1469, listeners=9
[23:22:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[23:22:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(585.9561, 790.1833), shooter_id=2167666641788, bullet_pos=(53.72331, 755.9373)
[23:22:32] [INFO] [Bullet] Using shooter_position, distance=533.333374023438
[23:22:32] [INFO] [Bullet] Distance to wall: 533.333374023438 (36.3156501508536% of viewport)
[23:22:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:22:32] [INFO] [Bullet] Starting wall penetration at (53.72331, 755.9373)
[23:22:32] [INFO] [Player] Spawning blood effect at (194.47137, 728.0727), dir=(1, 0), lethal=False (C#)
[23:22:32] [INFO] [ImpactEffects] spawn_blood_effect called at (194.4714, 728.0727), dir=(1, 0), lethal=false
[23:22:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:32] [INFO] [ImpactEffects] Blood effect spawned at (194.4714, 728.0727) (scale=1)
[23:22:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[23:22:32] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[23:22:32] [INFO] [EnemyGrenade] Unsafe throw distance (142 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.5651054382324
[23:22:32] [INFO] [Bullet] Body exited signal received for penetrating body
[23:22:32] [INFO] [Bullet] Exiting penetration at (15.46908, 753.4758) after traveling 33.3333358764648 pixels through wall
[23:22:32] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:22:32] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(193,728), corner_timer=-0.01
[23:22:32] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[23:22:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-389,2, 455,7), length=599,3, dotWithAim=-465,0, aimDir=(0,98, -0,18), isPump=True
[23:22:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:32] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-465,0
[23:22:32] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.1°, player=(192,728), corner_timer=0.30
[23:22:32] [INFO] [Player] Spawning blood effect at (191.2712, 728.0738), dir=(1, 0), lethal=False (C#)
[23:22:32] [INFO] [ImpactEffects] spawn_blood_effect called at (191.2712, 728.0738), dir=(1, 0), lethal=false
[23:22:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:22:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:22:32] [INFO] [ImpactEffects] Blood effect spawned at (191.2712, 728.0738) (scale=1)
[23:22:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:22:32] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:22:32] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:22:32] [INFO] [EnemyGrenade] Unsafe throw distance (148 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:22:32] [INFO] [Shotgun.FIX#243] RMB released after 61 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:32] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-389,2, 453,2), length=597,4, dotWithAim=-464,5, ActionState=NeedsPumpUp, minDist=20
[23:22:32] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:32] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:22:32] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:22:32] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:22:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:32] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:22:32] [ENEMY] [Enemy1] Death animation component initialized
[23:22:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:32] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:22:32] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:22:32] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:22:32] [ENEMY] [Enemy2] Death animation component initialized
[23:22:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:32] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:22:32] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:22:32] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:22:32] [ENEMY] [Enemy3] Death animation component initialized
[23:22:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:32] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:22:32] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:22:32] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:22:32] [ENEMY] [Enemy4] Death animation component initialized
[23:22:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:32] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:22:32] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:22:32] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:22:32] [ENEMY] [Enemy5] Death animation component initialized
[23:22:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:32] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:22:32] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:22:32] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:22:32] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:22:32] [ENEMY] [Enemy6] Death animation component initialized
[23:22:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:32] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:22:32] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:22:32] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:22:32] [ENEMY] [Enemy7] Death animation component initialized
[23:22:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:32] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:22:32] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:22:32] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:22:32] [ENEMY] [Enemy8] Death animation component initialized
[23:22:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:32] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:22:32] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:22:32] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:22:32] [ENEMY] [Enemy9] Death animation component initialized
[23:22:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:32] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:22:32] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:22:32] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:22:32] [ENEMY] [Enemy10] Death animation component initialized
[23:22:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:32] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:32] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:32] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:22:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:32] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[23:22:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:32] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:22:32] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:22:32] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:22:32] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:22:32] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:22:32] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:22:32] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:22:32] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:22:32] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:22:32] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:22:32] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:22:32] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:22:32] [INFO] [ScoreManager] Level started with 10 enemies
[23:22:32] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:22:32] [INFO] [CinemaEffects] Found player node: Player
[23:22:32] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[23:22:32] [ENEMY] [Enemy1] Registered as sound listener
[23:22:32] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[23:22:32] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:22:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[23:22:32] [ENEMY] [Enemy2] Registered as sound listener
[23:22:32] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[23:22:32] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:22:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[23:22:32] [ENEMY] [Enemy3] Registered as sound listener
[23:22:32] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[23:22:32] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:22:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[23:22:32] [ENEMY] [Enemy4] Registered as sound listener
[23:22:32] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[23:22:32] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:22:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[23:22:32] [ENEMY] [Enemy5] Registered as sound listener
[23:22:32] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[23:22:32] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:22:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[23:22:32] [ENEMY] [Enemy6] Registered as sound listener
[23:22:32] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[23:22:32] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:22:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[23:22:32] [ENEMY] [Enemy7] Registered as sound listener
[23:22:32] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[23:22:32] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:22:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[23:22:32] [ENEMY] [Enemy8] Registered as sound listener
[23:22:32] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[23:22:32] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:22:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[23:22:32] [ENEMY] [Enemy9] Registered as sound listener
[23:22:32] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[23:22:32] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:22:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[23:22:32] [ENEMY] [Enemy10] Registered as sound listener
[23:22:32] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:22:32] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:32] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:32] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:32] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:32] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:32] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:32] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:32] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:32] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:22:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:32] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:32] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:22:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:32] [INFO] [LastChance] Found player: Player
[23:22:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:32] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:32] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (248.5858, 743.6033) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (247.848, 747.9239) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (241.0546, 761.843) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (254.4899, 733.4429) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (269.8645, 782.277) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (284.9441, 790.8792) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (266.2414, 772.6946) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (313.4867, 736.0345) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (276.8103, 734.9715) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (277.0584, 807.1359) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (330.7794, 849.5781) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (347.8271, 847.1685) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (328.3191, 831.3873) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (344.8643, 856.3022) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (324.1976, 780.0699) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (361.7489, 841.9682) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (361.5515, 889.0625) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (284.2759, 841.1122) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (383.7921, 779.5497) (added to group)
[23:22:32] [INFO] [BloodDecal] Blood puddle created at (372.7193, 833.238) (added to group)
[23:22:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:34] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:22:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:34] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:34] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:34] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:34] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:22:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:34] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[23:22:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:34] [INFO] [CinemaEffects] Found player node: Player
[23:22:34] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:34] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:34] [INFO] [LastChance] Found player: Player
[23:22:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:34] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:34] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:34] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:34] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:22:35] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(150, 360)
[23:22:35] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=14,7, distance=39,7px, pos=(188.90213, 351.8939)
[23:22:35] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=-14,5, distance=10,5px, pos=(160.39162, 358.21484)
[23:22:35] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=-14,2, distance=10,8px, pos=(160.7157, 358.99734)
[23:22:35] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=9,4, distance=34,4px, pos=(184.34007, 359.16028)
[23:22:35] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=-7,7, distance=17,3px, pos=(167.29662, 359.67523)
[23:22:35] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=4,2, distance=29,2px, pos=(179.11734, 361.76862)
[23:22:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (Shotgun), range=1469, listeners=19
[23:22:35] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[23:22:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:35] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:35] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:35] [INFO] [Shotgun.FIX#445] dragStartPos=(737, 318), aimDir=(1,00, -0,07)
[23:22:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:35] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:35] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:35] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:35] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:35] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(345,2, -92,7), length=357,4, dotWithAim=351,0, aimDir=(1,00, -0,07), isPump=True
[23:22:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(41,9, 626,6), length=628,0, dotWithAim=-3,5, aimDir=(1,00, -0,07), isPump=True
[23:22:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:22:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(50,9, 608,6), length=610,7, dotWithAim=6,8, aimDir=(1,00, -0,07), isPump=True
[23:22:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:22:36] [INFO] [Shotgun.FIX#243] RMB released after 30 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:36] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(50,9, 607,9), length=610,1, dotWithAim=6,9, ActionState=NeedsPumpDown, minDist=20
[23:22:36] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=False, isPumpUp=False (away from player), isPumpDown=False (toward player)
[23:22:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:36] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:22:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:36] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:36] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:36] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:36] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:22:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:36] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[23:22:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:36] [INFO] [CinemaEffects] Found player node: Player
[23:22:36] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:36] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:36] [INFO] [LastChance] Found player: Player
[23:22:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:36] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:36] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:37] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:37] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:22:38] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(369.59848, 159.28726)
[23:22:38] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=-13,2, distance=11,8px, pos=(381.0846, 156.73996)
[23:22:38] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=-11,4, distance=13,6px, pos=(383.05936, 157.074)
[23:22:38] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=-7,1, distance=17,9px, pos=(387.28214, 156.78174)
[23:22:38] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=-0,3, distance=24,7px, pos=(394.22232, 157.25444)
[23:22:38] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=6,0, distance=31,0px, pos=(400.55334, 157.73497)
[23:22:38] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-0,9, distance=24,1px, pos=(393.6689, 159.90106)
[23:22:38] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=-8,8, distance=16,2px, pos=(385.78864, 159.77312)
[23:22:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(369.5985, 159.2873), source=PLAYER (Shotgun), range=1469, listeners=0
[23:22:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:38] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:38] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:38] [INFO] [Shotgun.FIX#445] dragStartPos=(1025, 108), aimDir=(1,00, -0,08)
[23:22:38] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:38] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:38] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:38] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:38] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:38] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:38] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:38] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(246,2, 81,5), length=259,3, dotWithAim=238,6, aimDir=(1,00, -0,08), isPump=True
[23:22:38] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:38] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:38] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:38] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:38] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:39] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-110,9, -23,4), length=113,3, dotWithAim=-108,6, aimDir=(1,00, -0,08), isPump=False
[23:22:39] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:39] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-110,9, -23,4), length=113,3, dotWithAim=-108,6, aimDir=(1,00, -0,08), isPump=False
[23:22:39] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:39] [INFO] [Shotgun.FIX#243] RMB released after 28 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:39] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-110,9, -23,4), length=113,3, dotWithAim=-108,6, ActionState=Ready, minDist=20
[23:22:39] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:39] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(406.69846, 159.28726)
[23:22:39] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=-5,7, distance=19,3px, pos=(421.58008, 171.65337)
[23:22:39] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=-9,1, distance=15,9px, pos=(418.67062, 169.80142)
[23:22:39] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=0,6, distance=25,6px, pos=(425.1486, 176.99976)
[23:22:39] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=-12,2, distance=12,8px, pos=(415.29547, 168.79472)
[23:22:39] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=10,0, distance=35,0px, pos=(428.44434, 186.6578)
[23:22:39] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=-13,1, distance=11,9px, pos=(413.57968, 169.05429)
[23:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(406.6985, 159.2873), source=PLAYER (Shotgun), range=1469, listeners=0
[23:22:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:39] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:22:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:39] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:39] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:39] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:39] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:22:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:39] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:39] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[23:22:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:39] [INFO] [CinemaEffects] Found player node: Player
[23:22:39] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:39] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:39] [INFO] [LastChance] Found player: Player
[23:22:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:39] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:39] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:40] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:40] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:22:41] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(453.85364, 157.09059)
[23:22:41] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-2,8, distance=22,2px, pos=(475.46893, 152.15958)
[23:22:41] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=9,7, distance=34,7px, pos=(487.90677, 150.32909)
[23:22:41] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-1,0, distance=24,0px, pos=(477.34985, 152.33842)
[23:22:41] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-12,2, distance=12,8px, pos=(466.4667, 154.87144)
[23:22:41] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-13,8, distance=11,2px, pos=(464.99512, 155.65617)
[23:22:41] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-2,8, distance=22,2px, pos=(475.93912, 154.91042)
[23:22:41] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-0,4, distance=24,6px, pos=(478.30377, 154.41936)
[23:22:41] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-6,6, distance=18,4px, pos=(472.22894, 155.71399)
[23:22:41] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=10,9, distance=35,9px, pos=(489.69122, 154.97258)
[23:22:41] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=3,3, distance=28,3px, pos=(482.1777, 156.21931)
[23:22:41] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=4,6, distance=29,6px, pos=(483.45654, 156.65698)
[23:22:41] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=6,5, distance=31,5px, pos=(485.33527, 157.12405)
[23:22:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.8536, 157.0906), source=PLAYER (Shotgun), range=1469, listeners=0
[23:22:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:42] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:42] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:42] [INFO] [Shotgun.FIX#445] dragStartPos=(1168, 79), aimDir=(0,99, -0,11)
[23:22:42] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:42] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:42] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:42] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(8,3, -9,6), length=12,7, dotWithAim=9,3, aimDir=(0,99, -0,11), isPump=True
[23:22:42] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:42] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:42] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:42] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:42] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(103,1, -23,8), length=105,9, dotWithAim=105,1, aimDir=(0,99, -0,11), isPump=True
[23:22:42] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:42] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:42] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:42] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:42] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:42] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-204,4, 128,2), length=241,3, dotWithAim=-217,3, aimDir=(0,99, -0,11), isPump=False
[23:22:42] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:42] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-204,4, 128,2), length=241,3, dotWithAim=-217,3, aimDir=(0,99, -0,11), isPump=False
[23:22:42] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:42] [INFO] [Shotgun.FIX#243] RMB released after 21 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:42] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-204,4, 128,2), length=241,3, dotWithAim=-217,3, ActionState=Ready, minDist=20
[23:22:42] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:42] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(461.24252, 157.09059)
[23:22:42] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-3,4, distance=21,6px, pos=(477.58963, 171.13843)
[23:22:42] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=9,8, distance=34,8px, pos=(487.13538, 180.2735)
[23:22:42] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=10,2, distance=35,2px, pos=(486.88287, 181.2084)
[23:22:42] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=8,8, distance=33,8px, pos=(485.7683, 180.35683)
[23:22:42] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=9,3, distance=34,3px, pos=(484.84192, 181.94882)
[23:22:42] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-8,0, distance=17,0px, pos=(472.79172, 169.49739)
[23:22:42] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=10,0, distance=35,0px, pos=(484.51242, 183.22864)
[23:22:42] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-4,5, distance=20,5px, pos=(474.4982, 172.73677)
[23:22:42] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=-0,3, distance=24,7px, pos=(476.90112, 176.13197)
[23:22:42] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=5,6, distance=30,6px, pos=(479.29013, 181.77116)
[23:22:42] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-5,3, distance=19,7px, pos=(472.93423, 172.95595)
[23:22:42] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-6,9, distance=18,1px, pos=(471.53934, 172.01964)
[23:22:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.2425, 157.0906), source=PLAYER (Shotgun), range=1469, listeners=0
[23:22:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:43] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:43] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:43] [INFO] [Shotgun.FIX#445] dragStartPos=(973, 687), aimDir=(0,69, 0,72)
[23:22:43] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:43] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:43] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:43] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(304,9, -689,1), length=753,6, dotWithAim=-283,8, aimDir=(0,69, 0,72), isPump=True
[23:22:43] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:43] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-283,8
[23:22:43] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:43] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:43] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:43] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:43] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:43] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:43] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:43] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:43] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-26,7, 0,0), length=26,7, dotWithAim=-18,6, aimDir=(0,69, 0,72), isPump=False
[23:22:44] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-26,7, 0,0), length=26,7, dotWithAim=-18,6, aimDir=(0,69, 0,72), isPump=False
[23:22:44] [INFO] [Shotgun.FIX#243] RMB released after 21 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:44] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-26,7, 0,0), length=26,7, dotWithAim=-18,6, ActionState=Ready, minDist=20
[23:22:44] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:44] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(461.24252, 157.09059)
[23:22:44] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=7,7, distance=32,7px, pos=(486.15405, 178.21982)
[23:22:44] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=0,2, distance=25,2px, pos=(480.14178, 173.78621)
[23:22:44] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=7,0, distance=32,0px, pos=(484.20386, 179.3247)
[23:22:44] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-5,0, distance=20,0px, pos=(475.1458, 171.51695)
[23:22:44] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-12,9, distance=12,1px, pos=(469.43582, 165.97113)
[23:22:44] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=2,4, distance=27,4px, pos=(479.50952, 177.50783)
[23:22:44] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=9,5, distance=34,5px, pos=(483.89267, 183.05283)
[23:22:44] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-7,4, distance=17,6px, pos=(472.30417, 170.77457)
[23:22:44] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=11,2, distance=36,2px, pos=(483.95895, 185.27199)
[23:22:44] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-8,7, distance=16,3px, pos=(470.89038, 170.21388)
[23:22:44] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-9,6, distance=15,4px, pos=(469.77646, 169.95673)
[23:22:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.2425, 157.0906), source=PLAYER (Shotgun), range=1469, listeners=0
[23:22:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:44] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:44] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:44] [INFO] [Shotgun.FIX#445] dragStartPos=(996, 513), aimDir=(0,83, 0,55)
[23:22:44] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:44] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:44] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:44] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(280,8, -516,8), length=588,2, dotWithAim=-52,6, aimDir=(0,83, 0,55), isPump=True
[23:22:44] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:44] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-52,6
[23:22:44] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:44] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:44] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:44] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:45] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-270,6, 472,2), length=544,2, dotWithAim=36,5, aimDir=(0,83, 0,55), isPump=True
[23:22:45] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:45] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-272,6, 472,2), length=545,2, dotWithAim=34,8, aimDir=(0,83, 0,55), isPump=True
[23:22:45] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:45] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-272,6, 472,2), length=545,2, dotWithAim=34,8, aimDir=(0,83, 0,55), isPump=True
[23:22:45] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:45] [INFO] [Shotgun.FIX#243] RMB released after 39 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:45] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-272,6, 472,2), length=545,2, dotWithAim=34,8, ActionState=NeedsPumpDown, minDist=20
[23:22:45] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=True (away from player), isPumpDown=False (toward player)
[23:22:45] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:45] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpDown, ReloadState=NotReloading
[23:22:45] [INFO] [Shotgun.FIX#445] dragStartPos=(1022, 554), aimDir=(0,82, 0,58)
[23:22:45] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:45] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:45] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:45] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:45] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:45] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:45] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:46] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-52,8, 0,0), length=52,8, dotWithAim=-43,1, aimDir=(0,82, 0,58), isPump=False
[23:22:46] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:46] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-52,8, -1,3), length=52,8, dotWithAim=-43,8, aimDir=(0,82, 0,58), isPump=False
[23:22:46] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:46] [INFO] [Shotgun.FIX#243] RMB released after 21 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:46] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-52,8, -4,0), length=52,9, dotWithAim=-45,4, ActionState=Ready, minDist=20
[23:22:46] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:46] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(461.24252, 157.09059)
[23:22:46] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=11,5, distance=36,5px, pos=(484.58493, 185.16641)
[23:22:46] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=11,6, distance=36,6px, pos=(483.14267, 186.39703)
[23:22:46] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=-11,1, distance=13,9px, pos=(469.15195, 168.50972)
[23:22:46] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=-12,5, distance=12,5px, pos=(468.023, 167.56992)
[23:22:46] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=-0,9, distance=24,1px, pos=(473.90906, 177.55937)
[23:22:46] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-1,8, distance=23,2px, pos=(471.82663, 177.73532)
[23:22:46] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=-8,4, distance=16,6px, pos=(468.5462, 171.99266)
[23:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.2425, 157.0906), source=PLAYER (Shotgun), range=1469, listeners=0
[23:22:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:46] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:46] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:46] [INFO] [Shotgun.FIX#445] dragStartPos=(809, 697), aimDir=(0,54, 0,84)
[23:22:46] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:46] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:46] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-22,3, -365,9), length=366,5, dotWithAim=-319,8, aimDir=(0,54, 0,84), isPump=True
[23:22:47] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:47] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-319,8
[23:22:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(471,4, -697,1), length=841,5, dotWithAim=-331,3, aimDir=(0,54, 0,84), isPump=True
[23:22:47] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:47] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-331,3
[23:22:47] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:47] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:47] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:47] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:47] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:47] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:47] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:47] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-200,4, 0,0), length=200,4, dotWithAim=-108,4, aimDir=(0,54, 0,84), isPump=False
[23:22:47] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-466,3, 0,0), length=466,3, dotWithAim=-252,3, aimDir=(0,54, 0,84), isPump=False
[23:22:47] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-495,0, 0,0), length=495,0, dotWithAim=-267,8, aimDir=(0,54, 0,84), isPump=False
[23:22:47] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:47] [INFO] [Shotgun.FIX#243] RMB released after 31 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:47] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-495,0, 0,0), length=495,0, dotWithAim=-267,8, ActionState=Ready, minDist=20
[23:22:47] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:48] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(497.90918, 157.09059)
[23:22:48] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=12,1, distance=37,1px, pos=(534.93677, 155.66837)
[23:22:48] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-13,0, distance=12,0px, pos=(509.8548, 157.42041)
[23:22:48] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=2,0, distance=27,0px, pos=(524.89777, 158.69002)
[23:22:48] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-11,1, distance=13,9px, pos=(511.80582, 158.1778)
[23:22:48] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-11,3, distance=13,7px, pos=(511.6126, 158.07678)
[23:22:48] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=14,7, distance=39,7px, pos=(537.31934, 162.0832)
[23:22:48] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=13,9, distance=38,9px, pos=(536.4058, 162.42924)
[23:22:48] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=13,0, distance=38,0px, pos=(535.38275, 163.15768)
[23:22:48] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=4,9, distance=29,9px, pos=(527.1374, 163.30139)
[23:22:48] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=8,6, distance=33,6px, pos=(530.5407, 165.12956)
[23:22:48] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-14,8, distance=10,2px, pos=(507.75436, 159.72043)
[23:22:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(497.9092, 157.0906), source=PLAYER (Shotgun), range=1469, listeners=0
[23:22:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:49] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:49] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:49] [INFO] [Shotgun.FIX#445] dragStartPos=(875, 201), aimDir=(0,99, 0,12)
[23:22:49] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:49] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:49] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(79,1, -202,1), length=217,0, dotWithAim=55,1, aimDir=(0,99, 0,12), isPump=True
[23:22:49] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:49] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:49] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:49] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:49] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(325,6, 1,5), length=325,6, dotWithAim=323,6, aimDir=(0,99, 0,12), isPump=True
[23:22:49] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:49] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:49] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:49] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:49] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-247,2, -25,4), length=248,5, dotWithAim=-248,5, aimDir=(0,99, 0,12), isPump=False
[23:22:49] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-242,5, -45,4), length=246,7, dotWithAim=-246,1, aimDir=(0,99, 0,12), isPump=False
[23:22:49] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:49] [INFO] [Shotgun.FIX#243] RMB released after 20 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:49] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-242,5, -45,4), length=246,7, dotWithAim=-246,1, ActionState=Ready, minDist=20
[23:22:49] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:50] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(497.90918, 157.09059)
[23:22:50] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=-7,1, distance=17,9px, pos=(503.48846, 174.1368)
[23:22:50] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=2,7, distance=27,7px, pos=(505.45514, 183.76149)
[23:22:50] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=1,8, distance=26,8px, pos=(504.04886, 183.18732)
[23:22:50] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=-4,5, distance=20,5px, pos=(502.22775, 177.09354)
[23:22:50] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=6,4, distance=31,4px, pos=(502.15366, 188.23291)
[23:22:50] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-11,2, distance=13,8px, pos=(499.45212, 170.7593)
[23:22:50] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=-9,8, distance=15,2px, pos=(499.02274, 172.23904)
[23:22:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(497.9092, 157.0906), source=PLAYER (Shotgun), range=1469, listeners=0
[23:22:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:50] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:22:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:50] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:50] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:50] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:50] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:22:50] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:50] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:50] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:50] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:50] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:50] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:50] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[23:22:50] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:50] [INFO] [CinemaEffects] Found player node: Player
[23:22:50] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:50] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:50] [INFO] [LastChance] Found player: Player
[23:22:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:50] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:50] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:50] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:50] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:22:52] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(402.1409, 152.13374)
[23:22:52] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=-6,6, distance=18,4px, pos=(420.38394, 149.53075)
[23:22:52] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=-5,0, distance=20,0px, pos=(422.04733, 150.44644)
[23:22:52] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=5,7, distance=30,7px, pos=(432.8045, 149.86967)
[23:22:52] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=-14,1, distance=10,9px, pos=(413.05655, 152.16895)
[23:22:52] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=4,5, distance=29,5px, pos=(431.64246, 153.02039)
[23:22:52] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=11,5, distance=36,5px, pos=(438.37564, 156.46465)
[23:22:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(402.1409, 152.1337), source=PLAYER (Shotgun), range=1469, listeners=0
[23:22:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:52] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:52] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:52] [INFO] [Shotgun.FIX#445] dragStartPos=(1088, 137), aimDir=(1,00, -0,02)
[23:22:52] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:52] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:52] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:52] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(8,4, -41,6), length=42,4, dotWithAim=9,3, aimDir=(1,00, -0,02), isPump=True
[23:22:52] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:22:52] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=9,3
[23:22:52] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:52] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:52] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:52] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:52] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(180,0, -0,2), length=180,0, dotWithAim=180,0, aimDir=(1,00, -0,02), isPump=True
[23:22:52] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:52] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:52] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:52] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:52] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-310,0, -15,4), length=310,4, dotWithAim=-309,5, aimDir=(1,00, -0,02), isPump=False
[23:22:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-308,6, -16,7), length=309,1, dotWithAim=-308,2, aimDir=(1,00, -0,02), isPump=False
[23:22:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:53] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(426.852, 152.13374)
[23:22:53] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=-2,2, distance=22,8px, pos=(449.36386, 148.69652)
[23:22:53] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=-6,7, distance=18,3px, pos=(445.0998, 150.30112)
[23:22:53] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=-14,9, distance=10,1px, pos=(436.9002, 151.76959)
[23:22:53] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=10,6, distance=35,6px, pos=(462.44788, 151.5194)
[23:22:53] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=-11,9, distance=13,1px, pos=(439.94577, 152.88824)
[23:22:53] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=8,7, distance=33,7px, pos=(460.42725, 155.18452)
[23:22:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(426.852, 152.1337), source=PLAYER (Shotgun), range=1469, listeners=0
[23:22:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-332,6, -16,1), length=333,0, dotWithAim=-332,2, aimDir=(1,00, -0,02), isPump=True
[23:22:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:53] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-332,2
[23:22:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-326,4, -16,3), length=326,8, dotWithAim=-326,0, aimDir=(1,00, -0,02), isPump=True
[23:22:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:53] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-326,0
[23:22:53] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:53] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:53] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:53] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-7,7, 441,3), length=441,4, dotWithAim=-18,0, aimDir=(1,00, -0,02), isPump=True
[23:22:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:53] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:22:53] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:53] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:53] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-605,1, 277,8), length=665,9, dotWithAim=-611,5, aimDir=(1,00, -0,02), isPump=False
[23:22:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-630,5, 273,8), length=687,4, dotWithAim=-636,8, aimDir=(1,00, -0,02), isPump=False
[23:22:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:54] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(426.852, 152.13374)
[23:22:54] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=10,0, distance=35,0px, pos=(461.49384, 147.30174)
[23:22:54] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=-11,4, distance=13,6px, pos=(440.39572, 150.51051)
[23:22:54] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=6,9, distance=31,9px, pos=(458.65405, 150.25125)
[23:22:54] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=5,6, distance=30,6px, pos=(457.39633, 151.0609)
[23:22:54] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=-5,8, distance=19,2px, pos=(446.02045, 152.11589)
[23:22:54] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-5,4, distance=19,6px, pos=(446.3354, 153.87999)
[23:22:54] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=-6,2, distance=18,8px, pos=(445.62048, 153.72908)
[23:22:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(426.852, 152.1337), source=PLAYER (Shotgun), range=1469, listeners=0
[23:22:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-655,0, 274,3), length=710,2, dotWithAim=-661,3, aimDir=(1,00, -0,02), isPump=True
[23:22:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:54] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-661,3
[23:22:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-657,0, 278,3), length=713,5, dotWithAim=-663,3, aimDir=(1,00, -0,02), isPump=True
[23:22:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:54] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-663,3
[23:22:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-650,7, 278,1), length=707,6, dotWithAim=-657,0, aimDir=(1,00, -0,02), isPump=True
[23:22:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:54] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-657,0
[23:22:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-413,9, -441,4), length=605,1, dotWithAim=-403,4, aimDir=(1,00, -0,02), isPump=True
[23:22:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:54] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-403,4
[23:22:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-369,3, 189,0), length=414,8, dotWithAim=-373,6, aimDir=(1,00, -0,02), isPump=True
[23:22:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:54] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-373,6
[23:22:55] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-770,2, 277,8), length=818,7, dotWithAim=-776,4, aimDir=(1,00, -0,02), isPump=True
[23:22:55] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:55] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-776,4
[23:22:55] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-775,5, 277,8), length=823,7, dotWithAim=-781,8, aimDir=(1,00, -0,02), isPump=True
[23:22:55] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:22:55] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-781,8
[23:22:55] [INFO] [Shotgun.FIX#243] RMB released after 97 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:55] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-775,5, 277,8), length=823,7, dotWithAim=-781,8, ActionState=NeedsPumpUp, minDist=20
[23:22:55] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:22:55] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:55] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:55] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:55] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:55] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:22:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:55] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:55] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:55] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:55] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:22:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:55] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:55] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[23:22:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:55] [INFO] [CinemaEffects] Found player node: Player
[23:22:55] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:55] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:55] [INFO] [LastChance] Found player: Player
[23:22:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:55] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:55] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:55] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:55] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:22:57] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(429.59955, 119.58392)
[23:22:57] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=6,7, distance=31,7px, pos=(461.04645, 123.28007)
[23:22:57] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=13,0, distance=38,0px, pos=(467.09253, 125.83335)
[23:22:57] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-10,3, distance=14,7px, pos=(444.07645, 122.23162)
[23:22:57] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=2,5, distance=27,5px, pos=(456.4975, 125.53124)
[23:22:57] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=4,6, distance=29,6px, pos=(458.28992, 126.69043)
[23:22:57] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-8,4, distance=16,6px, pos=(445.61182, 124.07616)
[23:22:57] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-12,3, distance=12,7px, pos=(441.8429, 122.96112)
[23:22:57] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=5,2, distance=30,2px, pos=(458.2581, 129.2465)
[23:22:57] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=12,3, distance=37,3px, pos=(465.04926, 131.10559)
[23:22:57] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=4,8, distance=29,8px, pos=(457.86823, 129.16034)
[23:22:57] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=11,2, distance=36,2px, pos=(463.10678, 133.37323)
[23:22:57] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=4,1, distance=29,1px, pos=(456.21072, 131.43527)
[23:22:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(429.5995, 119.5839), source=PLAYER (Shotgun), range=1469, listeners=0
[23:22:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:22:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:22:57] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:22:57] [INFO] [Shotgun.FIX#445] dragStartPos=(558, 155), aimDir=(0,96, 0,27)
[23:22:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:57] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:57] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:57] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:22:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:57] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:57] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:22:57] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(518,5, 0,9), length=518,5, dotWithAim=499,2, aimDir=(0,96, 0,27), isPump=True
[23:22:57] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:58] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(264,0, 720,3), length=767,1, dotWithAim=449,9, aimDir=(0,96, 0,27), isPump=True
[23:22:58] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:58] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(223,2, 660,8), length=697,5, dotWithAim=394,6, aimDir=(0,96, 0,27), isPump=True
[23:22:58] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:58] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(223,2, 659,5), length=696,2, dotWithAim=394,2, aimDir=(0,96, 0,27), isPump=True
[23:22:58] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:58] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(223,2, 659,5), length=696,2, dotWithAim=394,2, aimDir=(0,96, 0,27), isPump=True
[23:22:58] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:22:58] [INFO] [Shotgun.FIX#243] RMB released after 57 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:22:58] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(223,2, 659,5), length=696,2, dotWithAim=394,2, ActionState=NeedsPumpDown, minDist=20
[23:22:58] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=True (away from player), isPumpDown=False (toward player)
[23:22:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:22:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:22:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:22:58] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:22:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:22:58] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:22:58] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:22:58] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:22:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:22:58] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:22:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:22:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:22:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:22:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:22:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:22:58] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:22:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[23:22:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:22:58] [INFO] [CinemaEffects] Found player node: Player
[23:22:58] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:22:58] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:22:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:22:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:22:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:22:58] [INFO] [LastChance] Found player: Player
[23:22:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:22:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:22:58] [INFO] [LastChance] Connected to player Died signal (C#)
[23:22:58] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:22:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:22:58] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:22:58] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:23:00] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(348.80872, 145.29924)
[23:23:00] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=-8,6, distance=16,4px, pos=(365.24908, 144.83664)
[23:23:00] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=6,8, distance=31,8px, pos=(380.59705, 146.19908)
[23:23:00] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=-8,3, distance=16,7px, pos=(365.49512, 146.10439)
[23:23:00] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=-2,0, distance=23,0px, pos=(371.72354, 147.42761)
[23:23:00] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=4,9, distance=29,9px, pos=(378.349, 150.13002)
[23:23:00] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-7,3, distance=17,7px, pos=(366.19986, 148.6884)
[23:23:00] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=-0,8, distance=24,2px, pos=(372.41776, 150.7714)
[23:23:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(348.8087, 145.2992), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:00] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:00] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:00] [INFO] [Shotgun.FIX#445] dragStartPos=(1104, 223), aimDir=(0,99, 0,11)
[23:23:00] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:00] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:00] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:00] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(8,1, 0,8), length=8,2, dotWithAim=8,2, aimDir=(0,99, 0,11), isPump=True
[23:23:00] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:00] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:00] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:00] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(117,6, 0,0), length=117,6, dotWithAim=116,9, aimDir=(0,99, 0,11), isPump=True
[23:23:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-52,8, 719,3), length=721,3, dotWithAim=27,2, aimDir=(0,99, 0,11), isPump=True
[23:23:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:01] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:01] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:01] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:01] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-36,7, 0,0), length=36,7, dotWithAim=-36,5, aimDir=(0,99, 0,11), isPump=False
[23:23:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-36,7, 0,0), length=36,7, dotWithAim=-36,5, aimDir=(0,99, 0,11), isPump=False
[23:23:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:01] [INFO] [Shotgun.FIX#243] RMB released after 25 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:01] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-36,7, 0,0), length=36,7, dotWithAim=-36,5, ActionState=Ready, minDist=20
[23:23:01] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:01] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(406.33096, 145.29924)
[23:23:01] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=4,1, distance=29,1px, pos=(429.65387, 162.64038)
[23:23:01] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=-9,6, distance=15,4px, pos=(418.19595, 155.03967)
[23:23:01] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=6,6, distance=31,6px, pos=(430.7253, 165.35489)
[23:23:01] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=-5,8, distance=19,2px, pos=(420.76578, 158.00867)
[23:23:01] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=10,0, distance=35,0px, pos=(432.0032, 169.09988)
[23:23:01] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=-0,0, distance=25,0px, pos=(423.8548, 163.0765)
[23:23:01] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=8,3, distance=33,3px, pos=(428.4461, 170.25916)
[23:23:01] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=2,3, distance=27,3px, pos=(423.5618, 166.41663)
[23:23:01] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=5,4, distance=30,4px, pos=(424.7496, 169.518)
[23:23:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(406.331, 145.2992), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:23:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:23:02] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:23:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:23:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:23:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:23:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:23:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:23:02] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:23:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:23:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:23:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:23:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:23:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:23:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:23:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[23:23:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:23:02] [INFO] [CinemaEffects] Found player node: Player
[23:23:02] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:23:02] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:23:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:23:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:23:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:23:02] [INFO] [LastChance] Found player: Player
[23:23:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:23:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:23:02] [INFO] [LastChance] Connected to player Died signal (C#)
[23:23:02] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:23:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:23:02] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:23:02] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:23:03] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(297.3796, 148.03773)
[23:23:03] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=-4,4, distance=20,6px, pos=(317.83887, 146.09222)
[23:23:03] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=-8,6, distance=16,4px, pos=(313.78104, 147.1872)
[23:23:03] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=-7,5, distance=17,5px, pos=(314.84366, 146.94852)
[23:23:03] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=-13,7, distance=11,3px, pos=(308.67313, 147.95474)
[23:23:03] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=-8,0, distance=17,0px, pos=(314.34665, 148.12471)
[23:23:03] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=12,3, distance=37,3px, pos=(334.62045, 149.70929)
[23:23:03] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=-12,2, distance=12,8px, pos=(310.13318, 149.0228)
[23:23:03] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=-6,6, distance=18,4px, pos=(315.6988, 149.82309)
[23:23:03] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=-12,5, distance=12,5px, pos=(309.68863, 149.95468)
[23:23:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(297.3796, 148.0377), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:03] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:03] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:03] [INFO] [Shotgun.FIX#445] dragStartPos=(1257, 173), aimDir=(1,00, 0,04)
[23:23:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:03] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:03] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(15,4, -172,8), length=173,5, dotWithAim=8,0, aimDir=(1,00, 0,04), isPump=True
[23:23:03] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:03] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=8,0
[23:23:03] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:03] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:03] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:03] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-187,9, 245,1), length=308,8, dotWithAim=-177,3, aimDir=(1,00, 0,04), isPump=False
[23:23:03] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-199,2, 243,1), length=314,3, dotWithAim=-188,7, aimDir=(1,00, 0,04), isPump=False
[23:23:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:04] [INFO] [Shotgun.FIX#243] RMB released after 20 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:04] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-199,2, 237,1), length=309,7, dotWithAim=-188,9, ActionState=Ready, minDist=20
[23:23:04] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:04] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(444.15674, 135.20906)
[23:23:04] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=13,7, distance=38,7px, pos=(475.34677, 158.04985)
[23:23:04] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=8,7, distance=33,7px, pos=(470.56845, 156.13162)
[23:23:04] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=12,3, distance=37,3px, pos=(471.90753, 160.10825)
[23:23:04] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=-12,1, distance=12,9px, pos=(453.55557, 144.01804)
[23:23:04] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=-9,3, distance=15,7px, pos=(454.80823, 146.78842)
[23:23:04] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-2,8, distance=22,2px, pos=(458.85657, 151.894)
[23:23:04] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=-14,3, distance=10,7px, pos=(450.99515, 143.48836)
[23:23:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(444.1567, 135.2091), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:04] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:04] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:04] [INFO] [Shotgun.FIX#445] dragStartPos=(1055, 474), aimDir=(0,90, 0,44)
[23:23:04] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:04] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:04] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(221,1, -460,4), length=510,8, dotWithAim=-3,3, aimDir=(0,90, 0,44), isPump=True
[23:23:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:04] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-3,3
[23:23:05] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:05] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:05] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:05] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:05] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-231,7, 563,2), length=608,9, dotWithAim=38,9, aimDir=(0,90, 0,44), isPump=True
[23:23:05] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:05] [INFO] [Shotgun.FIX#243] RMB released after 13 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:05] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-225,7, 547,1), length=591,8, dotWithAim=37,3, ActionState=NeedsPumpDown, minDist=20
[23:23:05] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=True (away from player), isPumpDown=False (toward player)
[23:23:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:23:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:23:05] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:23:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:23:05] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:23:05] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:23:05] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:23:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:23:05] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:23:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:23:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:23:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:23:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:23:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:23:05] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:23:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[23:23:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:23:05] [INFO] [CinemaEffects] Found player node: Player
[23:23:05] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:23:05] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:23:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:23:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:23:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:23:05] [INFO] [LastChance] Found player: Player
[23:23:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:23:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:23:05] [INFO] [LastChance] Connected to player Died signal (C#)
[23:23:05] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:23:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:23:05] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:23:05] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:23:06] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(237.13835, 169.60727)
[23:23:06] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=1,9, distance=26,9px, pos=(263.87265, 166.26111)
[23:23:06] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=-11,6, distance=13,4px, pos=(250.49226, 168.65193)
[23:23:06] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=0,0, distance=25,0px, pos=(262.13187, 168.67867)
[23:23:06] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=-9,0, distance=16,0px, pos=(253.14655, 169.58406)
[23:23:06] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=-1,8, distance=23,2px, pos=(260.3291, 170.99371)
[23:23:06] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=2,5, distance=27,5px, pos=(264.4672, 172.69011)
[23:23:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.1384, 169.6073), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:07] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:07] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:07] [INFO] [Shotgun.FIX#445] dragStartPos=(1249, 158), aimDir=(1,00, 0,02)
[23:23:07] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:07] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:07] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(31,1, -157,7), length=160,8, dotWithAim=27,1, aimDir=(1,00, 0,02), isPump=True
[23:23:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:07] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:07] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:07] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:07] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(0,1, 0,0), length=0,1, dotWithAim=0,1, aimDir=(1,00, 0,02), isPump=True
[23:23:07] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:07] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:07] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:07] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-369,4, 508,9), length=628,9, dotWithAim=-356,6, aimDir=(1,00, 0,02), isPump=False
[23:23:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:07] [INFO] [Shotgun.FIX#243] RMB released after 12 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:07] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-367,4, 504,3), length=623,9, dotWithAim=-354,7, ActionState=Ready, minDist=20
[23:23:07] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:07] [INFO] [Shotgun.FIX#212] Firing 8 pellets with 15° spread at pos=(528.9572, 135.22673)
[23:23:07] [INFO] [Shotgun.FIX#212] Normal pellet 1/8: extraOffset=-13,0, distance=12,0px, pos=(535.99524, 144.90692)
[23:23:07] [INFO] [Shotgun.FIX#212] Normal pellet 2/8: extraOffset=-3,7, distance=21,3px, pos=(540.7547, 152.98462)
[23:23:07] [INFO] [Shotgun.FIX#212] Normal pellet 3/8: extraOffset=10,4, distance=35,4px, pos=(547.5196, 165.36005)
[23:23:07] [INFO] [Shotgun.FIX#212] Normal pellet 4/8: extraOffset=2,0, distance=27,0px, pos=(542.7365, 158.4134)
[23:23:07] [INFO] [Shotgun.FIX#212] Normal pellet 5/8: extraOffset=-13,7, distance=11,3px, pos=(534.4343, 145.08426)
[23:23:07] [INFO] [Shotgun.FIX#212] Normal pellet 6/8: extraOffset=0,7, distance=25,7px, pos=(540.39935, 158.25143)
[23:23:07] [INFO] [Shotgun.FIX#212] Normal pellet 7/8: extraOffset=13,1, distance=38,1px, pos=(544.6032, 169.91258)
[23:23:07] [INFO] [Shotgun.FIX#212] Normal pellet 8/8: extraOffset=-0,0, distance=25,0px, pos=(537.9891, 158.50157)
[23:23:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.9572, 135.2267), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:08] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:08] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:08] [INFO] [Shotgun.FIX#445] dragStartPos=(852, 712), aimDir=(0,50, 0,87)
[23:23:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:08] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:08] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:08] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(310,1, -712,1), length=776,7, dotWithAim=-463,1, aimDir=(0,50, 0,87), isPump=True
[23:23:08] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:08] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-463,1
[23:23:08] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(299,6, -430,0), length=524,0, dotWithAim=-223,7, aimDir=(0,50, 0,87), isPump=True
[23:23:08] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:08] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-223,7
[23:23:08] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:08] [INFO] [Shotgun.FIX#243] RMB released after 1 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:08] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(0,0, 50,1), length=50,1, dotWithAim=43,4, ActionState=NeedsPumpDown, minDist=20
[23:23:08] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=True (away from player), isPumpDown=False (toward player)
[23:23:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:23:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:23:09] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:23:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:23:09] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:23:09] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:23:09] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:23:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:23:09] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:23:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:23:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:23:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:23:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:23:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:23:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:23:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[23:23:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:23:09] [INFO] [CinemaEffects] Found player node: Player
[23:23:09] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:23:09] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:23:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:23:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:23:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:23:09] [INFO] [LastChance] Found player: Player
[23:23:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:23:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:23:09] [INFO] [LastChance] Connected to player Died signal (C#)
[23:23:09] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:23:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:23:09] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:23:09] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:23:10] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(203.75214, 145.8281)
[23:23:10] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=10,5, distance=35,5px, pos=(238.59222, 139.2162)
[23:23:10] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=-4,7, distance=20,3px, pos=(223.78374, 142.26566)
[23:23:10] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=4,0, distance=29,0px, pos=(232.42537, 141.52467)
[23:23:10] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=-11,1, distance=13,9px, pos=(217.63013, 144.41785)
[23:23:10] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=-5,2, distance=19,8px, pos=(223.50009, 144.72878)
[23:23:10] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=10,3, distance=35,3px, pos=(238.98685, 144.13327)
[23:23:10] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=12,2, distance=37,2px, pos=(240.9497, 144.63026)
[23:23:10] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=14,0, distance=39,0px, pos=(242.76433, 145.86073)
[23:23:10] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=8,9, distance=33,9px, pos=(237.6767, 147.01363)
[23:23:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(203.7521, 145.8281), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:11] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:11] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:11] [INFO] [Shotgun.FIX#445] dragStartPos=(1263, 63), aimDir=(1,00, -0,08)
[23:23:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:11] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:11] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(6,8, -0,5), length=6,8, dotWithAim=6,8, aimDir=(1,00, -0,08), isPump=True
[23:23:11] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:11] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-149,6, 549,7), length=569,7, dotWithAim=-193,6, aimDir=(1,00, -0,08), isPump=False
[23:23:11] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:11] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-149,6, 549,7), length=569,7, dotWithAim=-193,6, aimDir=(1,00, -0,08), isPump=False
[23:23:11] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:11] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(483.00977, 144.28322)
[23:23:11] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=13,5, distance=38,5px, pos=(520.70667, 136.40373)
[23:23:11] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=0,9, distance=25,9px, pos=(508.59836, 140.11142)
[23:23:11] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=-9,5, distance=15,5px, pos=(498.41812, 142.23178)
[23:23:11] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=2,7, distance=27,7px, pos=(510.70026, 142.72266)
[23:23:11] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=4,9, distance=29,9px, pos=(512.8682, 144.21483)
[23:23:11] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=8,9, distance=33,9px, pos=(516.8485, 145.83789)
[23:23:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.0098, 144.2832), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:12] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-173,3, 551,6), length=578,2, dotWithAim=-217,4, aimDir=(1,00, -0,08), isPump=True
[23:23:12] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:12] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-217,4
[23:23:12] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-169,1, 551,1), length=576,4, dotWithAim=-213,2, aimDir=(1,00, -0,08), isPump=True
[23:23:12] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:12] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-213,2
[23:23:12] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:12] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:12] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:12] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:12] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:12] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:12] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:12] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:12] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-361,8, 444,5), length=573,2, dotWithAim=-396,6, aimDir=(1,00, -0,08), isPump=False
[23:23:12] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:12] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-373,8, 444,5), length=580,8, dotWithAim=-408,6, aimDir=(1,00, -0,08), isPump=False
[23:23:12] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:12] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(426.39648, 144.28322)
[23:23:12] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=14,0, distance=39,0px, pos=(464.47562, 135.96869)
[23:23:12] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=-10,7, distance=14,3px, pos=(440.55072, 141.98337)
[23:23:12] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=-14,7, distance=10,3px, pos=(436.57104, 142.85342)
[23:23:12] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=12,3, distance=37,3px, pos=(463.62402, 141.30066)
[23:23:12] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=9,9, distance=34,9px, pos=(461.25748, 142.30136)
[23:23:12] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=11,3, distance=36,3px, pos=(462.71002, 144.67206)
[23:23:12] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=-7,5, distance=17,5px, pos=(443.91296, 144.80586)
[23:23:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(426.3965, 144.2832), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-398,0, 446,5), length=598,1, dotWithAim=-432,9, aimDir=(1,00, -0,08), isPump=True
[23:23:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-432,9
[23:23:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-393,2, 446,1), length=594,7, dotWithAim=-428,1, aimDir=(1,00, -0,08), isPump=True
[23:23:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-428,1
[23:23:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-384,9, 429,4), length=576,7, dotWithAim=-418,4, aimDir=(1,00, -0,08), isPump=True
[23:23:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-418,4
[23:23:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-130,8, -274,6), length=304,1, dotWithAim=-108,1, aimDir=(1,00, -0,08), isPump=True
[23:23:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-108,1
[23:23:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-323,1, 444,5), length=549,5, dotWithAim=-358,0, aimDir=(1,00, -0,08), isPump=True
[23:23:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-358,0
[23:23:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-387,2, 444,5), length=589,5, dotWithAim=-421,9, aimDir=(1,00, -0,08), isPump=True
[23:23:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-421,9
[23:23:14] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-386,5, 437,2), length=583,6, dotWithAim=-420,7, aimDir=(1,00, -0,08), isPump=True
[23:23:14] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:14] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-420,7
[23:23:14] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-386,5, 437,2), length=583,6, dotWithAim=-420,7, aimDir=(1,00, -0,08), isPump=True
[23:23:14] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:14] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-420,7
[23:23:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:23:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:23:14] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:23:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:23:14] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:23:14] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:23:14] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:23:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:23:14] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:23:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:23:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:23:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:23:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:23:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:23:14] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:23:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[23:23:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:23:14] [INFO] [CinemaEffects] Found player node: Player
[23:23:14] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:23:14] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:23:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:23:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:23:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:23:14] [INFO] [LastChance] Found player: Player
[23:23:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:23:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:23:14] [INFO] [LastChance] Connected to player Died signal (C#)
[23:23:14] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:23:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:23:14] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:23:14] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:23:15] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(431.03226, 156.57565)
[23:23:15] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-4,2, distance=20,8px, pos=(451.7395, 155.09152)
[23:23:15] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=9,7, distance=34,7px, pos=(465.70172, 155.0081)
[23:23:15] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-6,0, distance=19,0px, pos=(450.05887, 156.82315)
[23:23:15] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=8,6, distance=33,6px, pos=(464.6074, 157.74565)
[23:23:15] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=7,2, distance=32,2px, pos=(463.125, 158.70222)
[23:23:15] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=9,1, distance=34,1px, pos=(465.01477, 159.8529)
[23:23:15] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=-4,4, distance=20,6px, pos=(451.56857, 158.5606)
[23:23:15] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-12,9, distance=12,1px, pos=(443.01685, 157.83008)
[23:23:15] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-5,8, distance=19,2px, pos=(450.07126, 159.26286)
[23:23:15] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=9,7, distance=34,7px, pos=(465.16702, 162.73207)
[23:23:15] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-7,4, distance=17,6px, pos=(448.13443, 160.5425)
[23:23:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(431.0323, 156.5757), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:16] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:16] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:16] [INFO] [Shotgun.FIX#445] dragStartPos=(1035, 198), aimDir=(1,00, 0,08)
[23:23:16] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:16] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:16] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:16] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:16] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:16] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:16] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:16] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(145,5, 1,0), length=145,5, dotWithAim=145,2, aimDir=(1,00, 0,08), isPump=True
[23:23:16] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:16] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-71,6, 719,7), length=723,3, dotWithAim=-16,6, aimDir=(1,00, 0,08), isPump=True
[23:23:16] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:16] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:16] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:16] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:16] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:16] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-0,7, 0,0), length=0,7, dotWithAim=-0,7, aimDir=(1,00, 0,08), isPump=False
[23:23:16] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-0,7, 0,0), length=0,7, dotWithAim=-0,7, aimDir=(1,00, 0,08), isPump=False
[23:23:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-2,7, 0,0), length=2,7, dotWithAim=-2,7, aimDir=(1,00, 0,08), isPump=False
[23:23:17] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(306.71075, 120.705605)
[23:23:17] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=14,6, distance=39,6px, pos=(346.23508, 118.22182)
[23:23:17] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-5,2, distance=19,8px, pos=(326.53387, 120.434906)
[23:23:17] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-13,7, distance=11,3px, pos=(317.99545, 120.690506)
[23:23:17] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=12,8, distance=37,8px, pos=(344.4796, 120.89322)
[23:23:17] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=9,3, distance=34,3px, pos=(340.98834, 122.224655)
[23:23:17] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=10,3, distance=35,3px, pos=(341.85138, 123.67949)
[23:23:17] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=-14,4, distance=10,6px, pos=(317.22354, 122.039856)
[23:23:17] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=6,3, distance=31,3px, pos=(337.74228, 124.71419)
[23:23:17] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-1,9, distance=23,1px, pos=(329.59644, 123.747475)
[23:23:17] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=14,8, distance=39,8px, pos=(345.9316, 127.35678)
[23:23:17] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-6,3, distance=18,7px, pos=(325.06064, 124.241684)
[23:23:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(306.7108, 120.7056), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-26,7, -3,2), length=26,9, dotWithAim=-26,9, aimDir=(1,00, 0,08), isPump=True
[23:23:17] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:17] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-26,9
[23:23:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-21,2, -2,8), length=21,4, dotWithAim=-21,4, aimDir=(1,00, 0,08), isPump=True
[23:23:17] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:17] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-21,4
[23:23:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(2,4, -127,0), length=127,0, dotWithAim=-7,2, aimDir=(1,00, 0,08), isPump=True
[23:23:17] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:17] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-7,2
[23:23:17] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:17] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:17] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:17] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:17] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(13,7, -18,1), length=22,6, dotWithAim=12,2, aimDir=(1,00, 0,08), isPump=True
[23:23:17] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:17] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:17] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:17] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:17] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:18] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-58,8, -16,0), length=60,9, dotWithAim=-59,8, aimDir=(1,00, 0,08), isPump=False
[23:23:18] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:18] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-58,1, -40,1), length=70,6, dotWithAim=-61,0, aimDir=(1,00, 0,08), isPump=False
[23:23:18] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:18] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-52,8, -65,5), length=84,1, dotWithAim=-57,6, aimDir=(1,00, 0,08), isPump=False
[23:23:18] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:18] [INFO] [Shotgun.FIX#243] RMB released after 33 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:18] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-52,8, -65,5), length=84,1, dotWithAim=-57,6, ActionState=Ready, minDist=20
[23:23:18] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:23:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:23:18] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:23:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:23:18] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:23:18] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:23:18] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:23:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:23:18] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:23:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:23:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:23:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:23:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:23:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:23:18] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:23:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[23:23:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:23:18] [INFO] [CinemaEffects] Found player node: Player
[23:23:18] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:23:18] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:23:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:23:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:23:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:23:18] [INFO] [LastChance] Found player: Player
[23:23:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:23:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:23:18] [INFO] [LastChance] Connected to player Died signal (C#)
[23:23:18] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:23:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:23:18] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:23:18] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:23:20] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(374.70682, 151.71854)
[23:23:20] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=5,6, distance=30,6px, pos=(405.16507, 149.20462)
[23:23:20] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=10,1, distance=35,1px, pos=(409.76132, 150.86893)
[23:23:20] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=3,2, distance=28,2px, pos=(402.9388, 151.9591)
[23:23:20] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=-13,8, distance=11,2px, pos=(385.8852, 152.69211)
[23:23:20] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=-3,9, distance=21,1px, pos=(395.68213, 153.61684)
[23:23:20] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=2,3, distance=27,3px, pos=(401.6357, 156.2643)
[23:23:20] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=8,6, distance=33,6px, pos=(407.75647, 157.78659)
[23:23:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.7068, 151.7185), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:20] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:20] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:20] [INFO] [Shotgun.FIX#445] dragStartPos=(1267, 216), aimDir=(1,00, 0,07)
[23:23:21] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:21] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:21] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:21] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-5,0, -216,5), length=216,5, dotWithAim=-20,6, aimDir=(1,00, 0,07), isPump=True
[23:23:21] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:21] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-20,6
[23:23:21] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(13,3, -216,1), length=216,5, dotWithAim=-2,3, aimDir=(1,00, 0,07), isPump=True
[23:23:21] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:21] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-2,3
[23:23:21] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:21] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:21] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:21] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:21] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-6,0, 211,1), length=211,1, dotWithAim=9,2, aimDir=(1,00, 0,07), isPump=True
[23:23:21] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:21] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-6,0, 207,7), length=207,8, dotWithAim=9,0, aimDir=(1,00, 0,07), isPump=True
[23:23:21] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:21] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-6,0, 207,7), length=207,8, dotWithAim=9,0, aimDir=(1,00, 0,07), isPump=True
[23:23:21] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:22] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-6,0, 207,7), length=207,8, dotWithAim=9,0, aimDir=(1,00, 0,07), isPump=True
[23:23:22] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:22] [INFO] [Shotgun.FIX#243] RMB released after 47 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:22] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-6,0, 207,7), length=207,8, dotWithAim=9,0, ActionState=NeedsPumpDown, minDist=20
[23:23:22] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=False, isPumpUp=False (away from player), isPumpDown=False (toward player)
[23:23:22] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:22] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpDown, ReloadState=NotReloading
[23:23:22] [INFO] [Shotgun.FIX#445] dragStartPos=(1273, 504), aimDir=(0,93, 0,36)
[23:23:22] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:22] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:22] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:22] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(0,0, 0,0), length=0,0, dotWithAim=0,0, aimDir=(0,93, 0,36), isPump=True
[23:23:22] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(0,0, 0,0), length=0,0, dotWithAim=0,0, aimDir=(0,93, 0,36), isPump=True
[23:23:22] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:22] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:22] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:22] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:22] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-72,8, 108,9), length=131,0, dotWithAim=-28,1, aimDir=(0,93, 0,36), isPump=False
[23:23:22] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:23] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-161,7, 270,5), length=315,1, dotWithAim=-51,9, aimDir=(0,93, 0,36), isPump=False
[23:23:23] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:23] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-152,3, 253,8), length=296,0, dotWithAim=-49,3, aimDir=(0,93, 0,36), isPump=False
[23:23:23] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:23] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-152,3, 253,8), length=296,0, dotWithAim=-49,3, aimDir=(0,93, 0,36), isPump=False
[23:23:23] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:23] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(374.70682, 151.71854)
[23:23:23] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-13,2, distance=11,8px, pos=(386.2418, 154.26526)
[23:23:23] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-13,4, distance=11,6px, pos=(385.952, 154.5892)
[23:23:23] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=0,6, distance=25,6px, pos=(399.0334, 159.76962)
[23:23:23] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-10,5, distance=14,5px, pos=(388.47968, 156.39006)
[23:23:23] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-5,7, distance=19,3px, pos=(392.79465, 158.38422)
[23:23:23] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-1,8, distance=23,2px, pos=(396.05347, 160.7052)
[23:23:23] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-12,5, distance=12,5px, pos=(386.10922, 156.88803)
[23:23:23] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=2,3, distance=27,3px, pos=(399.33658, 163.5985)
[23:23:23] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=-13,0, distance=12,0px, pos=(385.27765, 157.39195)
[23:23:23] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=1,9, distance=26,9px, pos=(397.9431, 165.17271)
[23:23:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.7068, 151.7185), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:23] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-174,9, 245,0), length=301,0, dotWithAim=-73,5, aimDir=(0,93, 0,36), isPump=True
[23:23:23] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:23] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-73,5
[23:23:23] [INFO] [Shotgun.FIX#243] RMB released after 58 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:23] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-171,2, 246,4), length=300,0, dotWithAim=-69,6, ActionState=NeedsPumpUp, minDist=20
[23:23:23] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:23:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:23:23] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:23:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:23:23] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:23:23] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:23:23] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:23:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:23:23] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:23:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:23:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:23:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:23:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:23:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:23:23] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:23:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[23:23:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:23:23] [INFO] [CinemaEffects] Found player node: Player
[23:23:23] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:23:23] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:23:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:23:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:23:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:23:23] [INFO] [LastChance] Found player: Player
[23:23:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:23:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:23:23] [INFO] [LastChance] Connected to player Died signal (C#)
[23:23:23] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:23:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:23:23] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:23:23] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:23:25] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(414.00684, 125.66394)
[23:23:25] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=-9,5, distance=15,5px, pos=(429.23856, 122.57952)
[23:23:25] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=-2,2, distance=22,8px, pos=(436.5869, 122.32968)
[23:23:25] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=-10,7, distance=14,3px, pos=(428.21878, 123.82696)
[23:23:25] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=-3,2, distance=21,8px, pos=(435.82962, 124.59158)
[23:23:25] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=3,0, distance=28,0px, pos=(441.9929, 124.21651)
[23:23:25] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-1,2, distance=23,8px, pos=(437.76248, 125.587814)
[23:23:25] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=12,2, distance=37,2px, pos=(451.0712, 128.27902)
[23:23:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(414.0068, 125.6639), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:25] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:25] [INFO] [Shotgun.FIX#445] dragStartPos=(1267, 66), aimDir=(1,00, -0,07)
[23:23:25] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:25] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:25] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(8,3, -0,6), length=8,3, dotWithAim=8,3, aimDir=(1,00, -0,07), isPump=True
[23:23:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(9,3, 151,4), length=151,7, dotWithAim=-1,2, aimDir=(1,00, -0,07), isPump=True
[23:23:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:26] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-1,2
[23:23:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-90,2, 653,0), length=659,2, dotWithAim=-135,3, aimDir=(1,00, -0,07), isPump=True
[23:23:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:26] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-135,3
[23:23:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-90,2, 653,0), length=659,2, dotWithAim=-135,3, aimDir=(1,00, -0,07), isPump=True
[23:23:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:26] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-135,3
[23:23:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-90,2, 653,0), length=659,2, dotWithAim=-135,3, aimDir=(1,00, -0,07), isPump=True
[23:23:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:26] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-135,3
[23:23:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-90,2, 653,0), length=659,2, dotWithAim=-135,3, aimDir=(1,00, -0,07), isPump=True
[23:23:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:26] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-135,3
[23:23:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-55,4, 442,6), length=446,1, dotWithAim=-86,0, aimDir=(1,00, -0,07), isPump=True
[23:23:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:27] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-86,0
[23:23:27] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:27] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:27] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:27] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(0,0, 0,0), length=0,0, dotWithAim=0,0, aimDir=(1,00, -0,07), isPump=True
[23:23:27] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:27] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:27] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:27] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-127,6, 634,5), length=647,2, dotWithAim=-171,3, aimDir=(1,00, -0,07), isPump=False
[23:23:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-127,6, 634,5), length=647,2, dotWithAim=-171,3, aimDir=(1,00, -0,07), isPump=False
[23:23:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-127,6, 634,5), length=647,2, dotWithAim=-171,3, aimDir=(1,00, -0,07), isPump=False
[23:23:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:28] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(414.00684, 125.66394)
[23:23:28] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=-9,1, distance=15,9px, pos=(429.5513, 122.271484)
[23:23:28] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=14,9, distance=39,9px, pos=(453.2906, 118.55138)
[23:23:28] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=11,9, distance=36,9px, pos=(450.71948, 122.02737)
[23:23:28] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=10,3, distance=35,3px, pos=(449.1847, 123.07182)
[23:23:28] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=-12,5, distance=12,5px, pos=(426.4936, 125.42575)
[23:23:28] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-3,7, distance=21,3px, pos=(435.31552, 126.4547)
[23:23:28] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=-9,7, distance=15,3px, pos=(429.31015, 126.36162)
[23:23:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(414.0068, 125.6639), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-151,7, 636,2), length=654,0, dotWithAim=-195,4, aimDir=(1,00, -0,07), isPump=True
[23:23:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-195,4
[23:23:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-146,2, 635,8), length=652,4, dotWithAim=-189,9, aimDir=(1,00, -0,07), isPump=True
[23:23:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-189,9
[23:23:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-139,2, 635,2), length=650,3, dotWithAim=-182,9, aimDir=(1,00, -0,07), isPump=True
[23:23:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-182,9
[23:23:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-74,1, -84,7), length=112,5, dotWithAim=-68,1, aimDir=(1,00, -0,07), isPump=True
[23:23:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-68,1
[23:23:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-185,1, 634,5), length=660,9, dotWithAim=-228,6, aimDir=(1,00, -0,07), isPump=True
[23:23:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-228,6
[23:23:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-212,4, 618,5), length=653,9, dotWithAim=-254,8, aimDir=(1,00, -0,07), isPump=True
[23:23:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:28] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-254,8
[23:23:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-181,0, 260,5), length=317,2, dotWithAim=-198,7, aimDir=(1,00, -0,07), isPump=True
[23:23:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:29] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-198,7
[23:23:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-6,0, -84,8), length=85,0, dotWithAim=-0,1, aimDir=(1,00, -0,07), isPump=True
[23:23:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:29] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-0,1
[23:23:29] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-147,0, 168,3), length=223,4, dotWithAim=-158,3, aimDir=(1,00, -0,07), isPump=True
[23:23:29] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:29] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-158,3
[23:23:29] [INFO] [Shotgun.FIX#243] RMB released after 129 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:29] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-147,0, 168,3), length=223,4, dotWithAim=-158,3, ActionState=NeedsPumpUp, minDist=20
[23:23:29] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:23:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:23:29] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:23:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:23:29] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:23:29] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:23:29] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:23:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:23:29] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:23:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:23:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:23:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:23:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:23:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:23:29] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:23:29] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[23:23:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:23:29] [INFO] [CinemaEffects] Found player node: Player
[23:23:29] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:23:29] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:23:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:23:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:23:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:23:29] [INFO] [LastChance] Found player: Player
[23:23:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:23:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:23:29] [INFO] [LastChance] Connected to player Died signal (C#)
[23:23:29] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:23:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:23:29] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:23:29] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:23:31] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(401.7388, 156.10893)
[23:23:31] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=-13,8, distance=11,2px, pos=(412.7947, 154.58916)
[23:23:31] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=13,3, distance=38,3px, pos=(439.85474, 152.75893)
[23:23:31] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=6,9, distance=31,9px, pos=(433.60315, 155.49405)
[23:23:31] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=-3,2, distance=21,8px, pos=(423.49625, 156.7646)
[23:23:31] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=5,1, distance=30,1px, pos=(431.64465, 159.44016)
[23:23:31] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=-2,1, distance=22,9px, pos=(424.32462, 159.77065)
[23:23:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(401.7388, 156.1089), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:31] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:31] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:31] [INFO] [Shotgun.FIX#445] dragStartPos=(1264, 168), aimDir=(1,00, 0,01)
[23:23:31] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:31] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:31] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(8,4, 0,1), length=8,4, dotWithAim=8,4, aimDir=(1,00, 0,01), isPump=True
[23:23:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(16,1, -168,1), length=168,9, dotWithAim=13,7, aimDir=(1,00, 0,01), isPump=True
[23:23:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:31] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=13,7
[23:23:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(14,8, -144,7), length=145,5, dotWithAim=12,7, aimDir=(1,00, 0,01), isPump=True
[23:23:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:31] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=12,7
[23:23:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-138,9, 551,2), length=568,5, dotWithAim=-130,9, aimDir=(1,00, 0,01), isPump=True
[23:23:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:32] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-130,9
[23:23:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-140,9, 551,2), length=569,0, dotWithAim=-132,9, aimDir=(1,00, 0,01), isPump=True
[23:23:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:32] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-132,9
[23:23:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-140,9, 551,2), length=569,0, dotWithAim=-132,9, aimDir=(1,00, 0,01), isPump=True
[23:23:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:32] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-132,9
[23:23:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-140,9, 551,2), length=569,0, dotWithAim=-132,9, aimDir=(1,00, 0,01), isPump=True
[23:23:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:32] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-132,9
[23:23:32] [INFO] [Shotgun.FIX#243] RMB released after 75 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:32] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-140,9, 551,2), length=569,0, dotWithAim=-132,9, ActionState=NeedsPumpUp, minDist=20
[23:23:32] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:23:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:23:32] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:23:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:23:32] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:23:32] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:23:32] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:23:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:23:32] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:23:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:23:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:23:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:23:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:23:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:23:32] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:23:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[23:23:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:23:32] [INFO] [CinemaEffects] Found player node: Player
[23:23:32] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:23:32] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:23:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:23:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:23:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:23:32] [INFO] [LastChance] Found player: Player
[23:23:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:23:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:23:32] [INFO] [LastChance] Connected to player Died signal (C#)
[23:23:32] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:23:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:23:32] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:23:32] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:23:34] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(370.45758, 123.38493)
[23:23:34] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=10,3, distance=35,3px, pos=(405.6583, 120.71164)
[23:23:34] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=-3,5, distance=21,5px, pos=(391.95737, 123.15905)
[23:23:34] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=-4,2, distance=20,8px, pos=(391.26712, 124.15061)
[23:23:34] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=5,5, distance=30,5px, pos=(400.88913, 125.817825)
[23:23:34] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=2,3, distance=27,3px, pos=(397.4844, 127.329796)
[23:23:34] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=9,0, distance=34,0px, pos=(403.80948, 130.17888)
[23:23:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(370.4576, 123.3849), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:35] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:35] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:35] [INFO] [Shotgun.FIX#445] dragStartPos=(1197, 224), aimDir=(0,99, 0,12)
[23:23:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:35] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:35] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:35] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(6,3, -2,8), length=6,9, dotWithAim=5,9, aimDir=(0,99, 0,12), isPump=True
[23:23:35] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:35] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:35] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:35] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(18,7, 0,0), length=18,7, dotWithAim=18,6, aimDir=(0,99, 0,12), isPump=True
[23:23:35] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-90,2, 719,3), length=725,0, dotWithAim=-2,8, aimDir=(0,99, 0,12), isPump=True
[23:23:35] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:35] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:35] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:35] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:35] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(6,7, -26,7), length=27,5, dotWithAim=3,4, aimDir=(0,99, 0,12), isPump=False
[23:23:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(7,3, -28,7), length=29,6, dotWithAim=3,8, aimDir=(0,99, 0,12), isPump=False
[23:23:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(7,3, -28,7), length=29,6, dotWithAim=3,8, aimDir=(0,99, 0,12), isPump=False
[23:23:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(7,3, -28,7), length=29,6, dotWithAim=3,8, aimDir=(0,99, 0,12), isPump=False
[23:23:36] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(370.45758, 123.38493)
[23:23:36] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=11,3, distance=36,3px, pos=(406.7042, 122.74434)
[23:23:36] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=2,7, distance=27,7px, pos=(398.05673, 125.16242)
[23:23:36] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=-7,3, distance=17,7px, pos=(388.07645, 124.90603)
[23:23:36] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=8,9, distance=33,9px, pos=(403.9872, 128.13377)
[23:23:36] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=-9,0, distance=16,0px, pos=(386.20657, 126.255684)
[23:23:36] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=1,6, distance=26,6px, pos=(396.3237, 129.60527)
[23:23:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(370.4576, 123.3849), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-16,7, -31,6), length=35,8, dotWithAim=-20,4, aimDir=(0,99, 0,12), isPump=True
[23:23:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:36] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-20,4
[23:23:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-12,0, -31,1), length=33,3, dotWithAim=-15,6, aimDir=(0,99, 0,12), isPump=True
[23:23:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:36] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-15,6
[23:23:36] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:36] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:36] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:36] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:37] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:37] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:37] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:37] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:37] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-202,7, 519,5), length=557,6, dotWithAim=-138,6, aimDir=(0,99, 0,12), isPump=False
[23:23:37] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:37] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-216,0, 497,5), length=542,3, dotWithAim=-154,5, aimDir=(0,99, 0,12), isPump=False
[23:23:37] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:37] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-213,4, 488,1), length=532,7, dotWithAim=-153,0, aimDir=(0,99, 0,12), isPump=False
[23:23:37] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:37] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(370.45758, 123.38493)
[23:23:37] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=1,2, distance=26,2px, pos=(396.65253, 123.59794)
[23:23:37] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=13,2, distance=38,2px, pos=(408.682, 124.5928)
[23:23:37] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=-11,1, distance=13,9px, pos=(384.3789, 124.245285)
[23:23:37] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=6,8, distance=31,8px, pos=(402.18427, 125.54492)
[23:23:37] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=-11,8, distance=13,2px, pos=(383.6132, 124.74037)
[23:23:37] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=2,0, distance=27,0px, pos=(397.20874, 127.14136)
[23:23:37] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=-14,0, distance=11,0px, pos=(381.2041, 125.57019)
[23:23:37] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=-7,9, distance=17,1px, pos=(387.16812, 127.17795)
[23:23:37] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=2,0, distance=27,0px, pos=(396.7057, 129.87979)
[23:23:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(370.4576, 123.3849), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:37] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-237,1, 485,2), length=540,0, dotWithAim=-176,8, aimDir=(0,99, 0,12), isPump=True
[23:23:37] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:37] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-176,8
[23:23:37] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-230,2, 486,1), length=537,8, dotWithAim=-169,9, aimDir=(0,99, 0,12), isPump=True
[23:23:37] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:37] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-169,9
[23:23:38] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-215,9, -49,9), length=221,6, dotWithAim=-220,4, aimDir=(0,99, 0,12), isPump=True
[23:23:38] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:38] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-220,4
[23:23:38] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-218,3, 166,8), length=274,8, dotWithAim=-196,6, aimDir=(0,99, 0,12), isPump=True
[23:23:38] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:38] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-196,6
[23:23:38] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-294,2, 519,5), length=597,0, dotWithAim=-229,4, aimDir=(0,99, 0,12), isPump=True
[23:23:38] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:38] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-229,4
[23:23:38] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-294,2, 519,5), length=597,0, dotWithAim=-229,4, aimDir=(0,99, 0,12), isPump=True
[23:23:38] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:38] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-229,4
[23:23:38] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-294,2, 519,5), length=597,0, dotWithAim=-229,4, aimDir=(0,99, 0,12), isPump=True
[23:23:38] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:38] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-229,4
[23:23:38] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-294,2, 519,5), length=597,0, dotWithAim=-229,4, aimDir=(0,99, 0,12), isPump=True
[23:23:38] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:38] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-229,4
[23:23:39] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-294,2, 519,5), length=597,0, dotWithAim=-229,4, aimDir=(0,99, 0,12), isPump=True
[23:23:39] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:39] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-229,4
[23:23:39] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-294,2, 519,5), length=597,0, dotWithAim=-229,4, aimDir=(0,99, 0,12), isPump=True
[23:23:39] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:39] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-229,4
[23:23:39] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-294,2, 519,5), length=597,0, dotWithAim=-229,4, aimDir=(0,99, 0,12), isPump=True
[23:23:39] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:39] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-229,4
[23:23:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:23:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:23:39] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:23:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:23:39] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:23:39] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:23:39] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:23:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:23:39] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:23:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:23:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:23:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:23:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:23:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:23:39] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:23:39] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[23:23:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:23:39] [INFO] [CinemaEffects] Found player node: Player
[23:23:39] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:23:39] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:23:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:23:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:23:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:23:39] [INFO] [LastChance] Found player: Player
[23:23:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:23:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:23:39] [INFO] [LastChance] Connected to player Died signal (C#)
[23:23:39] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:23:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:23:39] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:23:39] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:23:40] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(317.15472, 128.43625)
[23:23:40] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=4,5, distance=29,5px, pos=(346.59424, 127.35662)
[23:23:40] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=-2,6, distance=22,4px, pos=(339.5347, 129.69492)
[23:23:40] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=-4,6, distance=20,4px, pos=(337.4388, 130.72733)
[23:23:40] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=-4,2, distance=20,8px, pos=(337.77505, 130.9003)
[23:23:40] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=-4,0, distance=21,0px, pos=(337.72052, 132.76778)
[23:23:40] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=-7,6, distance=17,4px, pos=(333.94568, 133.11089)
[23:23:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(317.1547, 128.4362), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:40] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:40] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:40] [INFO] [Shotgun.FIX#445] dragStartPos=(922, 200), aimDir=(0,99, 0,13)
[23:23:41] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:41] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:41] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:41] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:41] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:41] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:41] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:41] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(37,1, 350,8), length=352,7, dotWithAim=84,1, aimDir=(0,99, 0,13), isPump=True
[23:23:41] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:41] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-67,1, 720,1), length=723,3, dotWithAim=30,6, aimDir=(0,99, 0,13), isPump=True
[23:23:41] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:41] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-50,4, 682,1), length=683,9, dotWithAim=42,0, aimDir=(0,99, 0,13), isPump=True
[23:23:41] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:41] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-50,4, 682,1), length=683,9, dotWithAim=42,1, aimDir=(0,99, 0,13), isPump=True
[23:23:41] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:41] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-50,4, 682,1), length=683,9, dotWithAim=42,1, aimDir=(0,99, 0,13), isPump=True
[23:23:41] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:42] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-50,4, 682,1), length=683,9, dotWithAim=42,1, aimDir=(0,99, 0,13), isPump=True
[23:23:42] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:42] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-51,0, 684,7), length=686,6, dotWithAim=41,8, aimDir=(0,99, 0,13), isPump=True
[23:23:42] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:42] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-52,4, 690,1), length=692,1, dotWithAim=41,2, aimDir=(0,99, 0,13), isPump=True
[23:23:42] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:42] [INFO] [Shotgun.FIX#243] RMB released after 87 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:42] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-52,4, 690,1), length=692,1, dotWithAim=41,2, ActionState=NeedsPumpDown, minDist=20
[23:23:42] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=True (away from player), isPumpDown=False (toward player)
[23:23:42] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:42] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:42] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:23:42] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:23:42] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:23:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:23:42] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:23:42] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:23:42] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:23:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:23:42] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:23:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:23:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:23:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:23:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:23:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:23:42] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:23:42] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[23:23:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:23:42] [INFO] [CinemaEffects] Found player node: Player
[23:23:42] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:23:42] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:23:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:23:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:23:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:23:42] [INFO] [LastChance] Found player: Player
[23:23:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:23:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:23:42] [INFO] [LastChance] Connected to player Died signal (C#)
[23:23:42] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:23:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:23:42] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:23:42] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:23:43] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(346.95694, 151.15495)
[23:23:43] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-8,6, distance=16,4px, pos=(363.35846, 150.39699)
[23:23:43] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-8,2, distance=16,8px, pos=(363.755, 150.40579)
[23:23:43] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=10,5, distance=35,5px, pos=(382.47406, 149.955)
[23:23:43] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-5,2, distance=19,8px, pos=(366.73242, 151.23276)
[23:23:43] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-1,4, distance=23,6px, pos=(370.53827, 151.62393)
[23:23:43] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-3,2, distance=21,8px, pos=(368.7158, 152.52393)
[23:23:43] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-11,0, distance=14,0px, pos=(360.9769, 151.98148)
[23:23:43] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-2,4, distance=22,6px, pos=(369.4819, 153.0827)
[23:23:43] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=-9,4, distance=15,6px, pos=(362.39554, 153.138)
[23:23:43] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=8,7, distance=33,7px, pos=(380.2371, 156.74347)
[23:23:43] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-7,4, distance=17,6px, pos=(364.4004, 153.77084)
[23:23:43] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=4,9, distance=29,9px, pos=(376.13043, 157.50415)
[23:23:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(346.9569, 151.155), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:44] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:44] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:44] [INFO] [Shotgun.FIX#445] dragStartPos=(1164, 199), aimDir=(1,00, 0,06)
[23:23:44] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:44] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:44] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:44] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(49,9, -199,9), length=206,0, dotWithAim=37,1, aimDir=(1,00, 0,06), isPump=True
[23:23:44] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:44] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:44] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:44] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:44] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:44] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-18,3, 548,8), length=549,1, dotWithAim=16,4, aimDir=(1,00, 0,06), isPump=True
[23:23:44] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:44] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:44] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:44] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:44] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:44] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-23,4, 0,0), length=23,4, dotWithAim=-23,3, aimDir=(1,00, 0,06), isPump=False
[23:23:44] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-23,3, 0,0), length=23,3, dotWithAim=-23,3, aimDir=(1,00, 0,06), isPump=False
[23:23:44] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(415.5125, 151.15495)
[23:23:44] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-5,7, distance=19,3px, pos=(434.74432, 149.64919)
[23:23:44] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-9,2, distance=15,8px, pos=(431.28543, 150.86307)
[23:23:44] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=0,9, distance=25,9px, pos=(441.37473, 151.1114)
[23:23:44] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-5,2, distance=19,8px, pos=(435.31824, 151.15866)
[23:23:44] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=2,5, distance=27,5px, pos=(443.0414, 151.51408)
[23:23:44] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-3,5, distance=21,5px, pos=(437.02512, 152.42055)
[23:23:44] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=6,8, distance=31,8px, pos=(447.23056, 153.22237)
[23:23:44] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-4,3, distance=20,7px, pos=(436.07907, 153.25919)
[23:23:44] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=0,8, distance=25,8px, pos=(441.12747, 154.17656)
[23:23:44] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-8,3, distance=16,7px, pos=(431.88177, 154.28851)
[23:23:44] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-7,6, distance=17,4px, pos=(432.58267, 154.27281)
[23:23:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415.5125, 151.155), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:44] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-48,2, -1,6), length=48,2, dotWithAim=-48,2, aimDir=(1,00, 0,06), isPump=True
[23:23:44] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:44] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-48,2
[23:23:45] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-46,9, -1,5), length=46,9, dotWithAim=-46,9, aimDir=(1,00, 0,06), isPump=True
[23:23:45] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:45] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-46,9
[23:23:45] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-38,6, -1,0), length=38,6, dotWithAim=-38,6, aimDir=(1,00, 0,06), isPump=True
[23:23:45] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:45] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-38,6
[23:23:45] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:45] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:45] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:45] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:45] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(21,7, 245,6), length=246,6, dotWithAim=37,2, aimDir=(1,00, 0,06), isPump=True
[23:23:45] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:45] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:45] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:45] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:45] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:45] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-23,4, -60,1), length=64,5, dotWithAim=-27,1, aimDir=(1,00, 0,06), isPump=False
[23:23:45] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:45] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(415.5125, 151.15495)
[23:23:45] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=-3,8, distance=21,2px, pos=(436.65057, 149.92026)
[23:23:45] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=6,9, distance=31,9px, pos=(447.38034, 151.46603)
[23:23:45] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=-2,9, distance=22,1px, pos=(437.60162, 151.74023)
[23:23:45] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=8,0, distance=33,0px, pos=(448.34167, 154.4136)
[23:23:45] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=13,4, distance=38,4px, pos=(453.54523, 156.37566)
[23:23:45] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=-0,0, distance=25,0px, pos=(440.0993, 155.60057)
[23:23:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415.5125, 151.155), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:45] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-47,3, -63,0), length=78,8, dotWithAim=-51,2, aimDir=(1,00, 0,06), isPump=True
[23:23:45] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:45] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-51,2
[23:23:46] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-44,6, -62,8), length=77,1, dotWithAim=-48,5, aimDir=(1,00, 0,06), isPump=True
[23:23:46] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:46] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-48,5
[23:23:46] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:46] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:46] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:46] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:46] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(65,1, -111,7), length=129,3, dotWithAim=57,9, aimDir=(1,00, 0,06), isPump=True
[23:23:46] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:46] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:46] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:46] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:46] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:46] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-21,6, -20,6), length=29,9, dotWithAim=-22,9, aimDir=(1,00, 0,06), isPump=False
[23:23:46] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-19,6, -26,0), length=32,5, dotWithAim=-21,2, aimDir=(1,00, 0,06), isPump=False
[23:23:46] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:46] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(415.5125, 151.15495)
[23:23:46] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=-2,9, distance=22,1px, pos=(437.61264, 150.2283)
[23:23:46] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=-11,8, distance=13,2px, pos=(428.68152, 151.2439)
[23:23:46] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=5,5, distance=30,5px, pos=(445.96307, 152.5044)
[23:23:46] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=1,3, distance=26,3px, pos=(441.6783, 153.91756)
[23:23:46] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=6,7, distance=31,7px, pos=(446.8871, 155.63737)
[23:23:46] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=12,0, distance=37,0px, pos=(451.6855, 159.01938)
[23:23:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415.5125, 151.155), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-43,9, -27,5), length=51,8, dotWithAim=-45,6, aimDir=(1,00, 0,06), isPump=True
[23:23:47] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:47] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-45,6
[23:23:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-39,8, -27,3), length=48,3, dotWithAim=-41,5, aimDir=(1,00, 0,06), isPump=True
[23:23:47] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:47] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-41,5
[23:23:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(44,0, -551,7), length=553,5, dotWithAim=9,0, aimDir=(1,00, 0,06), isPump=True
[23:23:47] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:47] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=9,0
[23:23:47] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:47] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:47] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:47] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-33,1, 510,8), length=511,9, dotWithAim=-0,7, aimDir=(1,00, 0,06), isPump=True
[23:23:47] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:47] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:47] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:47] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:47] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-10,2, -3,9), length=11,0, dotWithAim=-10,5, aimDir=(1,00, 0,06), isPump=False
[23:23:47] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-9,6, -9,3), length=13,3, dotWithAim=-10,1, aimDir=(1,00, 0,06), isPump=False
[23:23:47] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(370.7124, 151.15495)
[23:23:47] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=4,2, distance=29,2px, pos=(399.8364, 148.85976)
[23:23:47] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-14,1, distance=10,9px, pos=(381.59927, 150.45183)
[23:23:47] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=5,2, distance=30,2px, pos=(400.88046, 151.02112)
[23:23:47] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=0,5, distance=25,5px, pos=(396.16663, 151.46902)
[23:23:47] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-3,8, distance=21,2px, pos=(391.93982, 151.92194)
[23:23:47] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-14,8, distance=10,2px, pos=(380.9031, 151.87926)
[23:23:47] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=-6,9, distance=18,1px, pos=(388.78076, 152.46747)
[23:23:47] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=9,4, distance=34,4px, pos=(404.83554, 155.30083)
[23:23:47] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-6,2, distance=18,8px, pos=(389.40213, 153.4725)
[23:23:47] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-15,0, distance=10,0px, pos=(380.6017, 152.92596)
[23:23:47] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=7,3, distance=32,3px, pos=(402.50003, 156.99834)
[23:23:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(370.7124, 151.155), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:48] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-33,6, -10,8), length=35,3, dotWithAim=-34,3, aimDir=(1,00, 0,06), isPump=True
[23:23:48] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:48] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-34,3
[23:23:48] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-28,2, -10,5), length=30,0, dotWithAim=-28,8, aimDir=(1,00, 0,06), isPump=True
[23:23:48] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:48] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-28,8
[23:23:48] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:48] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:48] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:48] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:48] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-5,7, -3,5), length=6,7, dotWithAim=-5,9, aimDir=(1,00, 0,06), isPump=True
[23:23:48] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:48] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:48] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:48] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:48] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-29,8, 234,7), length=236,5, dotWithAim=-14,9, aimDir=(1,00, 0,06), isPump=False
[23:23:48] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:48] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-29,8, 234,7), length=236,5, dotWithAim=-14,9, aimDir=(1,00, 0,06), isPump=False
[23:23:48] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:23:49] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(142.02034, 96.2231)
[23:23:49] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=-8,1, distance=16,9px, pos=(158.87076, 95.41451)
[23:23:49] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=-1,5, distance=23,5px, pos=(165.4406, 94.799995)
[23:23:49] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=-13,6, distance=11,4px, pos=(153.41913, 96.00564)
[23:23:49] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=-2,5, distance=22,5px, pos=(164.43886, 97.422165)
[23:23:49] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=-1,9, distance=23,1px, pos=(165.0588, 98.0153)
[23:23:49] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=2,4, distance=27,4px, pos=(169.27946, 98.63662)
[23:23:49] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=9,4, distance=34,4px, pos=(176.07562, 100.860535)
[23:23:49] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=-4,4, distance=20,6px, pos=(162.31667, 99.61806)
[23:23:49] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=10,7, distance=35,7px, pos=(177.16794, 102.18985)
[23:23:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.0203, 96.2231), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:49] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:49] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:49] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:49] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(1,2, 1,4), length=1,9, dotWithAim=1,3, aimDir=(1,00, 0,06), isPump=True
[23:23:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(9,6, 1,9), length=9,8, dotWithAim=9,7, aimDir=(1,00, 0,06), isPump=True
[23:23:49] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:49] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:49] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:49] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-107,8, 77,3), length=132,7, dotWithAim=-102,7, aimDir=(1,00, 0,06), isPump=False
[23:23:49] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:49] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-71,7, -161,1), length=176,4, dotWithAim=-81,8, aimDir=(1,00, 0,06), isPump=False
[23:23:49] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:50] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-61,0, -274,7), length=281,4, dotWithAim=-78,3, aimDir=(1,00, 0,06), isPump=False
[23:23:50] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:50] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-46,3, -377,5), length=380,4, dotWithAim=-70,1, aimDir=(1,00, 0,06), isPump=False
[23:23:50] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:50] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-45,0, -382,9), length=385,5, dotWithAim=-69,2, aimDir=(1,00, 0,06), isPump=False
[23:23:50] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:50] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-47,7, -373,5), length=376,6, dotWithAim=-71,2, aimDir=(1,00, 0,06), isPump=False
[23:23:50] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:50] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(464.0543, 120.33935)
[23:23:50] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-6,5, distance=18,5px, pos=(482.5183, 118.740746)
[23:23:50] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=13,9, distance=38,9px, pos=(502.90094, 119.55227)
[23:23:50] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-14,8, distance=10,2px, pos=(474.2939, 120.17841)
[23:23:50] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=5,8, distance=30,8px, pos=(494.81143, 120.64736)
[23:23:50] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-10,8, distance=14,2px, pos=(478.25162, 120.645836)
[23:23:50] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=8,1, distance=33,1px, pos=(497.05743, 123.26394)
[23:23:50] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=14,1, distance=39,1px, pos=(502.91968, 124.53704)
[23:23:50] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-10,8, distance=14,2px, pos=(478.16995, 121.90946)
[23:23:50] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=12,6, distance=37,6px, pos=(501.38132, 124.95201)
[23:23:50] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-0,3, distance=24,7px, pos=(488.29376, 125.012825)
[23:23:50] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-5,1, distance=19,9px, pos=(483.5136, 124.63141)
[23:23:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.0543, 120.3393), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:50] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-72,0, -374,4), length=381,3, dotWithAim=-95,6, aimDir=(1,00, 0,06), isPump=True
[23:23:50] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:50] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-95,6
[23:23:50] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-67,9, -374,1), length=380,3, dotWithAim=-91,5, aimDir=(1,00, 0,06), isPump=True
[23:23:50] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:50] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-91,5
[23:23:51] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-79,0, -282,8), length=293,6, dotWithAim=-96,7, aimDir=(1,00, 0,06), isPump=True
[23:23:51] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:51] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-96,7
[23:23:51] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(64,3, -565,5), length=569,1, dotWithAim=28,4, aimDir=(1,00, 0,06), isPump=True
[23:23:51] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:23:51] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:51] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:51] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:51] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:51] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:23:51] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:51] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:51] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:51] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-157,0, 607,8), length=627,7, dotWithAim=-118,2, aimDir=(1,00, 0,06), isPump=False
[23:23:51] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:51] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-154,3, 597,1), length=616,7, dotWithAim=-116,2, aimDir=(1,00, 0,06), isPump=False
[23:23:51] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:51] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(552.6506, 144.6746)
[23:23:51] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-13,0, distance=12,0px, pos=(564.5803, 143.9358)
[23:23:51] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-3,7, distance=21,3px, pos=(573.8968, 143.49736)
[23:23:51] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-9,9, distance=15,1px, pos=(567.764, 144.79478)
[23:23:51] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=8,0, distance=33,0px, pos=(585.6833, 145.28477)
[23:23:51] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-10,2, distance=14,8px, pos=(567.4265, 145.10768)
[23:23:51] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=4,2, distance=29,2px, pos=(581.83905, 146.2611)
[23:23:51] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=5,4, distance=30,4px, pos=(582.95044, 147.52724)
[23:23:51] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=4,8, distance=29,8px, pos=(582.2079, 148.50748)
[23:23:51] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=12,4, distance=37,4px, pos=(589.44507, 151.64655)
[23:23:51] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-2,0, distance=23,0px, pos=(575.3077, 148.63666)
[23:23:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(552.6506, 144.6746), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:51] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-179,0, 594,9), length=621,2, dotWithAim=-141,0, aimDir=(1,00, 0,06), isPump=True
[23:23:51] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:51] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-141,0
[23:23:51] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-177,1, 595,0), length=620,8, dotWithAim=-139,0, aimDir=(1,00, 0,06), isPump=True
[23:23:51] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:51] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-139,0
[23:23:52] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-130,7, 475,3), length=492,9, dotWithAim=-100,3, aimDir=(1,00, 0,06), isPump=True
[23:23:52] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:52] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-100,3
[23:23:52] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-66,2, -73,2), length=98,7, dotWithAim=-70,7, aimDir=(1,00, 0,06), isPump=True
[23:23:52] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:52] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-70,7
[23:23:52] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-193,1, 607,8), length=637,7, dotWithAim=-154,2, aimDir=(1,00, 0,06), isPump=True
[23:23:52] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:52] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-154,2
[23:23:52] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-195,7, 607,8), length=638,5, dotWithAim=-156,9, aimDir=(1,00, 0,06), isPump=True
[23:23:52] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:52] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-156,9
[23:23:52] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-160,3, 175,7), length=237,8, dotWithAim=-148,9, aimDir=(1,00, 0,06), isPump=True
[23:23:52] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:52] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-148,9
[23:23:52] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-64,1, -94,2), length=113,9, dotWithAim=-70,0, aimDir=(1,00, 0,06), isPump=True
[23:23:52] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:52] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-70,0
[23:23:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-211,8, 607,8), length=643,6, dotWithAim=-172,9, aimDir=(1,00, 0,06), isPump=True
[23:23:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:53] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-172,9
[23:23:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-228,5, 607,8), length=649,3, dotWithAim=-189,5, aimDir=(1,00, 0,06), isPump=True
[23:23:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:53] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-189,5
[23:23:53] [INFO] [Shotgun.FIX#243] RMB released after 122 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:53] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-226,5, 595,1), length=636,7, dotWithAim=-188,3, ActionState=NeedsPumpUp, minDist=20
[23:23:53] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:53] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:53] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:53] [INFO] [Shotgun.FIX#445] dragStartPos=(951, 706), aimDir=(0,64, 0,77)
[23:23:53] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:53] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:53] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:53] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(50,1, -706,0), length=707,7, dotWithAim=-512,0, aimDir=(0,64, 0,77), isPump=True
[23:23:53] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:53] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-512,0
[23:23:53] [INFO] [Shotgun.FIX#243] RMB released after 13 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:53] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(64,8, -706,0), length=708,9, dotWithAim=-502,7, ActionState=NeedsPumpUp, minDist=20
[23:23:53] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:54] [INFO] [Shotgun.EVENT] MMB event: pressed=True (was False), isDragging=False
[23:23:54] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:54] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:54] [INFO] [Shotgun.FIX#445] dragStartPos=(1017, 12), aimDir=(0,99, -0,13)
[23:23:54] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:23:54] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:23:54] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:23:54] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-46,1, 474,9), length=477,1, dotWithAim=-108,6, aimDir=(0,99, -0,13), isPump=True
[23:23:54] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:54] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-108,6
[23:23:54] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:23:54] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-44,8, 472,2), length=474,3, dotWithAim=-106,9, ActionState=NeedsPumpUp, minDist=20
[23:23:54] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:55] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:55] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:55] [INFO] [Shotgun.FIX#445] dragStartPos=(1020, 206), aimDir=(1,00, -0,02)
[23:23:55] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:23:55] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:23:55] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:23:55] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-106,2, 432,1), length=445,0, dotWithAim=-113,4, aimDir=(1,00, -0,02), isPump=True
[23:23:55] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:55] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-113,4
[23:23:55] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:23:55] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-93,5, 374,0), length=385,5, dotWithAim=-99,7, ActionState=NeedsPumpUp, minDist=20
[23:23:55] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:55] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:55] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:55] [INFO] [Shotgun.FIX#445] dragStartPos=(953, 311), aimDir=(1,00, 0,08)
[23:23:55] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:23:55] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:23:55] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[23:23:55] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-67,5, 208,4), length=219,0, dotWithAim=-51,4, aimDir=(1,00, 0,08), isPump=True
[23:23:55] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:55] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-51,4
[23:23:55] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[23:23:55] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-58,1, 137,6), length=149,4, dotWithAim=-47,5, ActionState=NeedsPumpUp, minDist=20
[23:23:55] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:55] [INFO] [Shotgun.EVENT] MMB event: pressed=False (was True), isDragging=False
[23:23:56] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:56] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:56] [INFO] [Shotgun.FIX#445] dragStartPos=(911, 621), aimDir=(0,80, 0,61)
[23:23:56] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:56] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:56] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:56] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(76,2, -621,2), length=625,8, dotWithAim=-315,6, aimDir=(0,80, 0,61), isPump=True
[23:23:56] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:56] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-315,6
[23:23:56] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(77,5, -621,2), length=626,0, dotWithAim=-314,5, aimDir=(0,80, 0,61), isPump=True
[23:23:56] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:56] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-314,5
[23:23:56] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(77,5, -621,2), length=626,0, dotWithAim=-314,5, aimDir=(0,80, 0,61), isPump=True
[23:23:56] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:23:56] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-314,5
[23:23:56] [INFO] [Shotgun.FIX#243] RMB released after 35 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:56] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(84,2, -621,2), length=626,8, dotWithAim=-309,2, ActionState=NeedsPumpUp, minDist=20
[23:23:56] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:23:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:57] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:57] [INFO] [Shotgun.FIX#445] dragStartPos=(1025, 118), aimDir=(1,00, -0,02)
[23:23:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:57] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:57] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:57] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:57] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:57] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:57] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-8,0, 0,0), length=8,0, dotWithAim=-8,0, aimDir=(1,00, -0,02), isPump=True
[23:23:57] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:23:57] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-8,0, 0,0), length=8,0, dotWithAim=-8,0, ActionState=NeedsPumpDown, minDist=20
[23:23:57] [INFO] [Shotgun.FIX#445v3] Drag too short: 8,0 < 20
[23:23:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:23:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:23:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:23:58] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:23:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:23:58] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:23:58] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:23:58] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:23:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:23:58] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:23:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:23:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:23:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:23:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:23:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:23:58] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:23:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[23:23:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:23:58] [INFO] [CinemaEffects] Found player node: Player
[23:23:58] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:23:58] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:23:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:23:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:23:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:23:58] [INFO] [LastChance] Found player: Player
[23:23:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:23:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:23:58] [INFO] [LastChance] Connected to player Died signal (C#)
[23:23:58] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:23:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:23:58] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:23:58] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:23:59] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(362.75412, 142.35387)
[23:23:59] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=3,8, distance=28,8px, pos=(391.4043, 139.93405)
[23:23:59] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=1,2, distance=26,2px, pos=(388.9391, 141.08519)
[23:23:59] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-13,3, distance=11,7px, pos=(374.46225, 141.84804)
[23:23:59] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=10,2, distance=35,2px, pos=(397.9513, 142.90945)
[23:23:59] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-1,4, distance=23,6px, pos=(386.35312, 142.35864)
[23:23:59] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=3,8, distance=28,8px, pos=(391.49582, 144.18224)
[23:23:59] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=13,6, distance=38,6px, pos=(401.26648, 145.02966)
[23:23:59] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-3,5, distance=21,5px, pos=(384.16458, 144.08076)
[23:23:59] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=-9,5, distance=15,5px, pos=(378.16153, 144.2704)
[23:23:59] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=-4,2, distance=20,8px, pos=(383.36597, 145.39453)
[23:23:59] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=13,8, distance=38,8px, pos=(401.11255, 148.38776)
[23:23:59] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=5,9, distance=30,9px, pos=(393.10748, 147.9397)
[23:23:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(362.7541, 142.3539), source=PLAYER (Shotgun), range=1469, listeners=0
[23:23:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:23:59] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:23:59] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:23:59] [INFO] [Shotgun.FIX#445] dragStartPos=(1120, 185), aimDir=(1,00, 0,06)
[23:23:59] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:59] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:59] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:59] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:23:59] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:59] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:23:59] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:00] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(99,2, 191,5), length=215,7, dotWithAim=110,5, aimDir=(1,00, 0,06), isPump=True
[23:24:00] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:00] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(62,0, 719,8), length=722,5, dotWithAim=105,0, aimDir=(1,00, 0,06), isPump=True
[23:24:00] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:00] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(68,0, 697,1), length=700,4, dotWithAim=109,7, aimDir=(1,00, 0,06), isPump=True
[23:24:00] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:00] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(68,0, 696,5), length=699,8, dotWithAim=109,6, aimDir=(1,00, 0,06), isPump=True
[23:24:00] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:00] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(68,0, 696,5), length=699,8, dotWithAim=109,6, aimDir=(1,00, 0,06), isPump=True
[23:24:00] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:00] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(68,0, 696,5), length=699,8, dotWithAim=109,6, aimDir=(1,00, 0,06), isPump=True
[23:24:00] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:01] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(68,0, 696,5), length=699,8, dotWithAim=109,6, aimDir=(1,00, 0,06), isPump=True
[23:24:01] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:01] [INFO] [Shotgun.FIX#243] RMB released after 76 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:24:01] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(68,0, 696,5), length=699,8, dotWithAim=109,6, ActionState=NeedsPumpDown, minDist=20
[23:24:01] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=True (away from player), isPumpDown=False (toward player)
[23:24:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:24:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:24:01] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:24:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:01] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:24:01] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:24:01] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:24:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:24:01] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:24:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:24:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:24:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:24:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:24:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:24:01] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:24:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[23:24:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:24:01] [INFO] [CinemaEffects] Found player node: Player
[23:24:01] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:24:01] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:24:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:24:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:24:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:24:01] [INFO] [LastChance] Found player: Player
[23:24:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:24:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:24:01] [INFO] [LastChance] Connected to player Died signal (C#)
[23:24:01] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:24:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:24:01] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:24:01] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:24:03] [INFO] [Shotgun.FIX#212] Firing 8 pellets with 15° spread at pos=(456.76913, 122.86706)
[23:24:03] [INFO] [Shotgun.FIX#212] Normal pellet 1/8: extraOffset=7,2, distance=32,2px, pos=(488.72778, 127.104546)
[23:24:03] [INFO] [Shotgun.FIX#212] Normal pellet 2/8: extraOffset=-11,6, distance=13,4px, pos=(470.0244, 124.5352)
[23:24:03] [INFO] [Shotgun.FIX#212] Normal pellet 3/8: extraOffset=11,1, distance=36,1px, pos=(492.2316, 129.44926)
[23:24:03] [INFO] [Shotgun.FIX#212] Normal pellet 4/8: extraOffset=1,3, distance=26,3px, pos=(482.44943, 128.53093)
[23:24:03] [INFO] [Shotgun.FIX#212] Normal pellet 5/8: extraOffset=-6,2, distance=18,8px, pos=(475.00525, 127.32667)
[23:24:03] [INFO] [Shotgun.FIX#212] Normal pellet 6/8: extraOffset=12,3, distance=37,3px, pos=(492.21335, 134.36621)
[23:24:03] [INFO] [Shotgun.FIX#212] Normal pellet 7/8: extraOffset=-3,9, distance=21,1px, pos=(476.771, 129.70027)
[23:24:03] [INFO] [Shotgun.FIX#212] Normal pellet 8/8: extraOffset=-13,9, distance=11,1px, pos=(467.19458, 126.794266)
[23:24:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(456.7691, 122.8671), source=PLAYER (Shotgun), range=1469, listeners=0
[23:24:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:24:03] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:24:03] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:24:03] [INFO] [Shotgun.FIX#445] dragStartPos=(1263, 335), aimDir=(0,96, 0,26)
[23:24:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:03] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:03] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(8,1, -337,3), length=337,4, dotWithAim=-81,4, aimDir=(0,96, 0,26), isPump=True
[23:24:03] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:03] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-81,4
[23:24:03] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:24:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:03] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:03] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(2,7, 327,3), length=327,3, dotWithAim=89,2, aimDir=(0,96, 0,26), isPump=True
[23:24:03] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(2,7, 315,2), length=315,3, dotWithAim=86,0, aimDir=(0,96, 0,26), isPump=True
[23:24:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(2,7, 58,8), length=58,8, dotWithAim=18,2, aimDir=(0,96, 0,26), isPump=True
[23:24:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:04] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(2,7, 58,8), length=58,8, dotWithAim=18,2, aimDir=(0,96, 0,26), isPump=True
[23:24:04] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:04] [INFO] [Shotgun.FIX#243] RMB released after 40 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:24:04] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(2,7, 58,8), length=58,8, dotWithAim=18,2, ActionState=NeedsPumpDown, minDist=20
[23:24:04] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=True (away from player), isPumpDown=False (toward player)
[23:24:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:24:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:24:04] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:24:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:04] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:24:04] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:24:04] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:24:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:24:04] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:24:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:24:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:24:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:24:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:24:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:24:04] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:24:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[23:24:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:24:04] [INFO] [CinemaEffects] Found player node: Player
[23:24:04] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:24:04] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:24:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:24:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:24:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:24:04] [INFO] [LastChance] Found player: Player
[23:24:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:24:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:24:04] [INFO] [LastChance] Connected to player Died signal (C#)
[23:24:04] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:24:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:24:04] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:24:04] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:24:05] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(363.24387, 129.37816)
[23:24:05] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=6,0, distance=31,0px, pos=(394.24805, 129.88083)
[23:24:05] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-5,4, distance=19,6px, pos=(382.777, 130.22232)
[23:24:05] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=1,9, distance=26,9px, pos=(390.04825, 131.54659)
[23:24:05] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-8,9, distance=16,1px, pos=(379.2726, 130.74501)
[23:24:05] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-8,7, distance=16,3px, pos=(379.39813, 131.45506)
[23:24:05] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=9,4, distance=34,4px, pos=(397.24164, 134.32637)
[23:24:05] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=1,0, distance=26,0px, pos=(388.7671, 134.34685)
[23:24:05] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=11,1, distance=36,1px, pos=(398.455, 137.24716)
[23:24:05] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=13,7, distance=38,7px, pos=(400.70807, 139.01219)
[23:24:05] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-9,2, distance=15,8px, pos=(378.52698, 133.53993)
[23:24:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(363.2439, 129.3782), source=PLAYER (Shotgun), range=1469, listeners=0
[23:24:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:24:06] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:24:06] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:24:06] [INFO] [Shotgun.FIX#445] dragStartPos=(1266, 266), aimDir=(0,99, 0,17)
[23:24:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:06] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:06] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(8,3, -266,7), length=266,9, dotWithAim=-36,2, aimDir=(0,99, 0,17), isPump=True
[23:24:06] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:06] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-36,2
[23:24:06] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:24:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:06] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:06] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-14,0, 358,0), length=358,3, dotWithAim=45,8, aimDir=(0,99, 0,17), isPump=True
[23:24:06] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:06] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-13,3, 346,0), length=346,2, dotWithAim=44,4, aimDir=(0,99, 0,17), isPump=True
[23:24:06] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:06] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-13,3, 346,0), length=346,2, dotWithAim=44,4, aimDir=(0,99, 0,17), isPump=True
[23:24:06] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:06] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-13,3, 346,0), length=346,2, dotWithAim=44,4, aimDir=(0,99, 0,17), isPump=True
[23:24:06] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-13,3, 346,0), length=346,2, dotWithAim=44,4, aimDir=(0,99, 0,17), isPump=True
[23:24:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:07] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-13,3, 346,0), length=346,2, dotWithAim=44,4, aimDir=(0,99, 0,17), isPump=True
[23:24:07] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:07] [INFO] [Shotgun.FIX#243] RMB released after 64 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:24:07] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-13,3, 346,0), length=346,2, dotWithAim=44,4, ActionState=NeedsPumpDown, minDist=20
[23:24:07] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=True (away from player), isPumpDown=False (toward player)
[23:24:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:24:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:24:07] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:24:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:07] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:24:07] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:24:07] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:24:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:24:07] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:24:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:24:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:24:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:24:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:24:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:24:07] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:24:07] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[23:24:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:24:07] [INFO] [CinemaEffects] Found player node: Player
[23:24:07] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:24:07] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:24:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:24:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:24:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:24:07] [INFO] [LastChance] Found player: Player
[23:24:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:24:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:24:07] [INFO] [LastChance] Connected to player Died signal (C#)
[23:24:07] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:24:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:24:07] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:24:07] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:24:09] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(415.94235, 146.62125)
[23:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-2,6, distance=22,4px, pos=(438.30334, 145.70401)
[23:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=13,9, distance=38,9px, pos=(454.87723, 146.05232)
[23:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-1,1, distance=23,9px, pos=(439.8841, 146.98236)
[23:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-2,1, distance=22,9px, pos=(438.82132, 146.92159)
[23:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-2,9, distance=22,1px, pos=(437.98962, 148.09172)
[23:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-5,4, distance=19,6px, pos=(435.4376, 148.48848)
[23:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-6,2, distance=18,8px, pos=(434.63367, 148.61768)
[23:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-13,7, distance=11,3px, pos=(427.13107, 147.90048)
[23:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=-9,3, distance=15,7px, pos=(431.4426, 149.37947)
[23:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=1,7, distance=26,7px, pos=(442.13516, 151.84845)
[23:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-12,2, distance=12,8px, pos=(428.45615, 149.41205)
[23:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=11,2, distance=36,2px, pos=(451.0041, 155.54965)
[23:24:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415.9424, 146.6212), source=PLAYER (Shotgun), range=1469, listeners=0
[23:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:24:09] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:24:09] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:24:09] [INFO] [Shotgun.FIX#445] dragStartPos=(1262, 282), aimDir=(0,99, 0,17)
[23:24:09] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:09] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:09] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:09] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-27,1, -283,1), length=284,4, dotWithAim=-75,2, aimDir=(0,99, 0,17), isPump=True
[23:24:09] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:09] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-75,2
[23:24:09] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-147,8, 436,9), length=461,2, dotWithAim=-70,8, aimDir=(0,99, 0,17), isPump=True
[23:24:09] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:09] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-70,8
[23:24:10] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-135,1, 396,2), length=418,6, dotWithAim=-65,3, aimDir=(0,99, 0,17), isPump=True
[23:24:10] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:10] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-65,3
[23:24:10] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-133,8, 390,8), length=413,1, dotWithAim=-64,9, aimDir=(0,99, 0,17), isPump=True
[23:24:10] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:10] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-64,9
[23:24:10] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-133,8, 384,8), length=407,4, dotWithAim=-65,9, aimDir=(0,99, 0,17), isPump=True
[23:24:10] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:10] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-65,9
[23:24:10] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-133,8, 384,8), length=407,4, dotWithAim=-65,9, aimDir=(0,99, 0,17), isPump=True
[23:24:10] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:10] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-65,9
[23:24:10] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-133,8, 384,8), length=407,4, dotWithAim=-65,9, aimDir=(0,99, 0,17), isPump=True
[23:24:10] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:10] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-65,9
[23:24:10] [INFO] [Shotgun.FIX#243] RMB released after 71 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:24:10] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-133,8, 384,8), length=407,4, dotWithAim=-65,9, ActionState=NeedsPumpUp, minDist=20
[23:24:10] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:24:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:24:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:24:11] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:24:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:11] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:24:11] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:24:11] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:24:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:24:11] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:24:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:24:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:24:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:24:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:24:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:24:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:24:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[23:24:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:24:11] [INFO] [CinemaEffects] Found player node: Player
[23:24:11] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:24:11] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:24:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:24:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:24:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:24:11] [INFO] [LastChance] Found player: Player
[23:24:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:24:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:24:11] [INFO] [LastChance] Connected to player Died signal (C#)
[23:24:11] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:24:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:24:11] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:24:11] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:24:12] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(315.55347, 134.82056)
[23:24:12] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=7,4, distance=32,4px, pos=(347.85873, 132.98473)
[23:24:12] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=11,1, distance=36,1px, pos=(351.67944, 134.47757)
[23:24:12] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=3,8, distance=28,8px, pos=(344.23145, 137.07892)
[23:24:12] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=-2,3, distance=22,7px, pos=(338.10202, 137.06154)
[23:24:12] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=13,1, distance=38,1px, pos=(353.21738, 140.68077)
[23:24:12] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=5,6, distance=30,6px, pos=(345.43494, 141.61653)
[23:24:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(315.5535, 134.8206), source=PLAYER (Shotgun), range=1469, listeners=0
[23:24:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[23:24:13] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:24:13] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:24:13] [INFO] [Shotgun.FIX#445] dragStartPos=(1269, 215), aimDir=(0,99, 0,11)
[23:24:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:13] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:13] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(8,4, -215,7), length=215,9, dotWithAim=-15,1, aimDir=(0,99, 0,11), isPump=True
[23:24:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-15,1
[23:24:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-112,3, 503,8), length=516,2, dotWithAim=-56,9, aimDir=(0,99, 0,11), isPump=True
[23:24:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-56,9
[23:24:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-112,3, 503,8), length=516,2, dotWithAim=-56,9, aimDir=(0,99, 0,11), isPump=True
[23:24:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-56,9
[23:24:13] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-112,3, 503,8), length=516,2, dotWithAim=-56,9, aimDir=(0,99, 0,11), isPump=True
[23:24:13] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:13] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-56,9
[23:24:14] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-112,3, 503,8), length=516,2, dotWithAim=-56,8, aimDir=(0,99, 0,11), isPump=True
[23:24:14] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:14] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-56,8
[23:24:14] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-112,3, 503,8), length=516,2, dotWithAim=-56,8, aimDir=(0,99, 0,11), isPump=True
[23:24:14] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:14] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-56,8
[23:24:14] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-112,3, 503,8), length=516,2, dotWithAim=-56,8, aimDir=(0,99, 0,11), isPump=True
[23:24:14] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:14] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-56,8
[23:24:14] [INFO] [Shotgun.FIX#243] RMB released after 76 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:24:14] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-112,3, 503,8), length=516,2, dotWithAim=-56,8, ActionState=NeedsPumpUp, minDist=20
[23:24:14] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:24:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:24:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:24:15] [INFO] [CinemaEffects] Scene changed to: TestTier
[23:24:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:15] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:24:15] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:24:15] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:24:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:24:15] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[23:24:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:24:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:24:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:24:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:24:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:24:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:24:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[23:24:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:24:15] [INFO] [CinemaEffects] Found player node: Player
[23:24:15] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:24:15] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:24:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:24:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:24:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:24:15] [INFO] [LastChance] Found player: Player
[23:24:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:24:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:24:15] [INFO] [LastChance] Connected to player Died signal (C#)
[23:24:15] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:24:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:24:15] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:24:15] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:24:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:19] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:24:19] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:24:19] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:24:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:24:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:24:19] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:24:19] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:19] [ENEMY] [Enemy1] Death animation component initialized
[23:24:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:19] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:24:19] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:24:19] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:24:19] [ENEMY] [Enemy2] Death animation component initialized
[23:24:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:19] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:24:19] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:24:19] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:24:19] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:19] [ENEMY] [Enemy3] Death animation component initialized
[23:24:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:19] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:24:19] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:24:19] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:24:19] [ENEMY] [Enemy4] Death animation component initialized
[23:24:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:19] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:24:19] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:24:19] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:24:19] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:19] [ENEMY] [Enemy5] Death animation component initialized
[23:24:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:19] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:24:19] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:24:19] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:24:19] [ENEMY] [Enemy6] Death animation component initialized
[23:24:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:19] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:24:19] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:24:19] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:24:19] [ENEMY] [Enemy7] Death animation component initialized
[23:24:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:19] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:24:19] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:24:19] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:24:19] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:19] [ENEMY] [Enemy8] Death animation component initialized
[23:24:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:19] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:24:19] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:24:19] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:24:19] [ENEMY] [Enemy9] Death animation component initialized
[23:24:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:19] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:24:19] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:24:19] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:24:19] [ENEMY] [Enemy10] Death animation component initialized
[23:24:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:19] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:24:19] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:24:19] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:24:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:24:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:24:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:24:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:24:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:24:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:24:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:24:19] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:24:19] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:24:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:24:19] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:24:19] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:24:19] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:24:19] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:24:19] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:24:19] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:24:19] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:24:19] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:24:19] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:24:19] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:24:19] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:24:19] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:24:19] [INFO] [ScoreManager] Level started with 10 enemies
[23:24:19] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:24:19] [INFO] [CinemaEffects] Found player node: Player
[23:24:19] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:24:19] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[23:24:19] [ENEMY] [Enemy1] Registered as sound listener
[23:24:19] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[23:24:19] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:24:19] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[23:24:19] [ENEMY] [Enemy2] Registered as sound listener
[23:24:19] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[23:24:19] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:24:19] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[23:24:19] [ENEMY] [Enemy3] Registered as sound listener
[23:24:19] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[23:24:19] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:24:19] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[23:24:19] [ENEMY] [Enemy4] Registered as sound listener
[23:24:19] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[23:24:19] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:24:19] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[23:24:19] [ENEMY] [Enemy5] Registered as sound listener
[23:24:19] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[23:24:19] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:24:19] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[23:24:19] [ENEMY] [Enemy6] Registered as sound listener
[23:24:19] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[23:24:19] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:24:19] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[23:24:19] [ENEMY] [Enemy7] Registered as sound listener
[23:24:19] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[23:24:19] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:24:19] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[23:24:19] [ENEMY] [Enemy8] Registered as sound listener
[23:24:19] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[23:24:19] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:24:19] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[23:24:19] [ENEMY] [Enemy9] Registered as sound listener
[23:24:19] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[23:24:19] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:24:19] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[23:24:19] [ENEMY] [Enemy10] Registered as sound listener
[23:24:19] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[23:24:19] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:24:19] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:19] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:19] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:19] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:19] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:19] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:19] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:19] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:24:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:24:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:24:19] [INFO] [LastChance] Found player: Player
[23:24:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:24:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:24:19] [INFO] [LastChance] Connected to player Died signal (C#)
[23:24:19] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:24:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:24:19] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:24:19] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:24:20] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:24:20] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:24:20] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:24:20] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:24:20] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:24:20] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:24:20] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:24:20] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:24:20] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:24:20] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:24:20] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(450, 1250), source=PLAYER (Player), range=600, listeners=10
[23:24:20] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (450, 1250), intensity=0.01, distance=495
[23:24:20] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:24:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[23:24:20] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(450, 1250)
[23:24:20] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=-14,3, distance=10,7px, pos=(460.49307, 1247.7102)
[23:24:20] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=4,1, distance=29,1px, pos=(478.56366, 1244.346)
[23:24:20] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=-10,3, distance=14,7px, pos=(464.62012, 1248.0853)
[23:24:20] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=5,0, distance=30,0px, pos=(479.78906, 1246.7036)
[23:24:20] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=-6,8, distance=18,2px, pos=(468.16602, 1248.6274)
[23:24:20] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=2,7, distance=27,7px, pos=(477.68646, 1249.406)
[23:24:20] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=-8,0, distance=17,0px, pos=(467.02774, 1250.3906)
[23:24:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (Shotgun), range=1469, listeners=10
[23:24:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[23:24:20] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=912), can_see=false
[23:24:20] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=702), can_see=false
[23:24:20] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=559), can_see=false
[23:24:20] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=135.0°, current=-67.5°, player=(450,1250), corner_timer=0.00
[23:24:20] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=495), can_see=false
[23:24:20] [ENEMY] [Enemy4] Pursuing vulnerability sound at (450, 1250), distance=495
[23:24:20] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1540), can_see=false
[23:24:20] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1700), can_see=false
[23:24:20] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1211), can_see=false
[23:24:20] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1464), can_see=false
[23:24:20] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1677), can_see=false
[23:24:20] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=808), can_see=false
[23:24:20] [ENEMY] [Enemy3] Memory: medium confidence (0.52) - transitioning to PURSUING
[23:24:20] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[23:24:20] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=11.3°, player=(450,1250), corner_timer=0.00
[23:24:20] [ENEMY] [Enemy3] PURSUING corner check: angle 25.7°
[23:24:20] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:24:20] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:24:20] [INFO] [Shotgun.FIX#445] dragStartPos=(684, 1230), aimDir=(1,00, -0,09)
[23:24:20] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:20] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:20] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:24:20] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:20] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:20] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:20] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(201,3, -209,3), length=290,4, dotWithAim=218,6, aimDir=(1,00, -0,09), isPump=True
[23:24:20] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:20] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=912), can_see=false
[23:24:20] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=702), can_see=false
[23:24:20] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=490), can_see=false
[23:24:20] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=345), can_see=false
[23:24:20] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1540), can_see=false
[23:24:20] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1700), can_see=false
[23:24:20] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1211), can_see=false
[23:24:20] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1464), can_see=false
[23:24:20] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1677), can_see=false
[23:24:20] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=808), can_see=false
[23:24:20] [ENEMY] [Enemy3] PURSUING corner check: angle -159.9°
[23:24:20] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(204,0, 407,8), length=456,0, dotWithAim=168,1, aimDir=(1,00, -0,09), isPump=True
[23:24:20] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:21] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:24:21] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:24:21] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[23:24:21] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[23:24:21] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(204,1, 284,2), length=349,9, dotWithAim=178,8, aimDir=(1,00, -0,09), isPump=True
[23:24:21] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:21] [ENEMY] [Enemy3] PURSUING corner check: angle 20.1°
[23:24:21] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(195,4, 309,6), length=366,1, dotWithAim=168,0, aimDir=(1,00, -0,09), isPump=True
[23:24:21] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:21] [ENEMY] [Enemy4] Pursuing vulnerability sound at (450, 1250), distance=291
[23:24:21] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=905), can_see=false
[23:24:21] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=700), can_see=false
[23:24:21] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=355), can_see=false
[23:24:21] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=314), can_see=false
[23:24:21] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1586), can_see=false
[23:24:21] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1750), can_see=false
[23:24:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(393,1250), corner_timer=-0.02
[23:24:21] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1334), can_see=false
[23:24:21] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:24:21] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1520), can_see=false
[23:24:21] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1733), can_see=false
[23:24:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(393,1250), corner_timer=-0.02
[23:24:21] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=866), can_see=false
[23:24:21] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[23:24:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(388,1250), corner_timer=0.30
[23:24:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(388,1250), corner_timer=0.30
[23:24:21] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(189,4, 329,6), length=380,2, dotWithAim=160,3, aimDir=(1,00, -0,09), isPump=True
[23:24:21] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:21] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(327.6667, 1250), source=PLAYER (Player), range=600, listeners=10
[23:24:21] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (327.6667, 1250), intensity=0.02, distance=396
[23:24:21] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (327.6667, 1250), intensity=0.02, distance=352
[23:24:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=8, self=0, below_threshold=0
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [ENEMY] [Enemy3] Pursuing vulnerability sound at (327.6667, 1250), distance=396
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(189,4, 329,6), length=380,2, dotWithAim=160,3, aimDir=(1,00, -0,09), isPump=True
[23:24:21] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(283,1250), corner_timer=-0.02
[23:24:21] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(278,1250), corner_timer=0.30
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(189,4, 329,6), length=380,2, dotWithAim=160,3, aimDir=(1,00, -0,09), isPump=True
[23:24:21] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=903), can_see=false
[23:24:21] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=722), can_see=false
[23:24:21] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=425), can_see=false
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=425), can_see=false
[23:24:21] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1729), can_see=false
[23:24:21] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1903), can_see=false
[23:24:21] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1516), can_see=false
[23:24:21] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1689), can_see=false
[23:24:21] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1901), can_see=false
[23:24:21] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1008), can_see=false
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [Shotgun.FIX#243] RMB released after 73 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:24:21] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(189,4, 329,6), length=380,2, dotWithAim=160,3, ActionState=NeedsPumpDown, minDist=20
[23:24:21] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=True (away from player), isPumpDown=False (toward player)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:21] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(173,1250), corner_timer=-0.02
[23:24:22] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(168,1250), corner_timer=0.30
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [ENEMY] [Enemy4] Pursuing vulnerability sound at (327.6667, 1250), distance=352
[23:24:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(91,1221), corner_timer=-0.02
[23:24:22] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(90,1217), corner_timer=0.30
[23:24:22] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=889), can_see=false
[23:24:22] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=733), can_see=false
[23:24:22] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=517), can_see=false
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=517), can_see=false
[23:24:22] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1828), can_see=false
[23:24:22] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2012), can_see=false
[23:24:22] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1640), can_see=false
[23:24:22] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1827), can_see=false
[23:24:22] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2039), can_see=false
[23:24:22] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1141), can_see=false
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [EnemyGrenade] Throw path blocked to (327.6667, 1250)
[23:24:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:22] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:24:22] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:24:22] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:24:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:24:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:24:22] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:24:22] [ENEMY] [Enemy1] Death animation component initialized
[23:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:22] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:24:22] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:24:22] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:24:22] [ENEMY] [Enemy2] Death animation component initialized
[23:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:22] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:24:22] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:24:22] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:24:22] [ENEMY] [Enemy3] Death animation component initialized
[23:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:22] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:24:22] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:24:22] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:24:22] [ENEMY] [Enemy4] Death animation component initialized
[23:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:22] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:24:22] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:24:22] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:24:22] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:22] [ENEMY] [Enemy5] Death animation component initialized
[23:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:22] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:24:22] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:24:22] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:24:22] [ENEMY] [Enemy6] Death animation component initialized
[23:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:22] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:24:22] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:24:22] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:24:22] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:22] [ENEMY] [Enemy7] Death animation component initialized
[23:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:22] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:24:22] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:24:22] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:24:22] [ENEMY] [Enemy8] Death animation component initialized
[23:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:22] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:24:22] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:24:22] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:24:22] [ENEMY] [Enemy9] Death animation component initialized
[23:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:22] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:24:22] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:24:22] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:24:22] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:22] [ENEMY] [Enemy10] Death animation component initialized
[23:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:22] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:24:22] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:24:22] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:24:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:24:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:24:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:24:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:24:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:24:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:24:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:24:22] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:24:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:24:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:24:22] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:24:22] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:24:22] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:24:22] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:24:22] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:24:22] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:24:22] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:24:22] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:24:22] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:24:22] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:24:22] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:24:22] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:24:22] [INFO] [ScoreManager] Level started with 10 enemies
[23:24:22] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:24:22] [INFO] [CinemaEffects] Found player node: Player
[23:24:22] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:24:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[23:24:22] [ENEMY] [Enemy1] Registered as sound listener
[23:24:22] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[23:24:22] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:24:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[23:24:22] [ENEMY] [Enemy2] Registered as sound listener
[23:24:22] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[23:24:22] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:24:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[23:24:22] [ENEMY] [Enemy3] Registered as sound listener
[23:24:22] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[23:24:22] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:24:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[23:24:22] [ENEMY] [Enemy4] Registered as sound listener
[23:24:22] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[23:24:22] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:24:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[23:24:22] [ENEMY] [Enemy5] Registered as sound listener
[23:24:22] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[23:24:22] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:24:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[23:24:22] [ENEMY] [Enemy6] Registered as sound listener
[23:24:22] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[23:24:22] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:24:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[23:24:22] [ENEMY] [Enemy7] Registered as sound listener
[23:24:22] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[23:24:22] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:24:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[23:24:22] [ENEMY] [Enemy8] Registered as sound listener
[23:24:22] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[23:24:22] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:24:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[23:24:22] [ENEMY] [Enemy9] Registered as sound listener
[23:24:22] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[23:24:22] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:24:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[23:24:22] [ENEMY] [Enemy10] Registered as sound listener
[23:24:22] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:24:22] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:24:22] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:24:22] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:24:22] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:24:22] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:24:22] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:24:22] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:24:22] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:24:22] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[23:24:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:24:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:24:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:24:22] [INFO] [LastChance] Found player: Player
[23:24:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:24:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:24:22] [INFO] [LastChance] Connected to player Died signal (C#)
[23:24:22] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:24:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:24:22] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:24:22] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:24:23] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:24:23] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:24:23] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:24:23] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:24:23] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:24:23] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:24:23] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:24:23] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:24:23] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:24:23] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:24:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(501.5518, 1111.812), source=PLAYER (Player), range=600, listeners=20
[23:24:23] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[23:24:23] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (501.5518, 1111.812), intensity=0.01, distance=413
[23:24:23] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:24:23] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (501.5518, 1111.812), intensity=0.02, distance=366
[23:24:23] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:24:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=1
[23:24:23] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(501.55185, 1111.812)
[23:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-0,9, distance=24,1px, pos=(525.2726, 1107.4719)
[23:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=12,2, distance=37,2px, pos=(538.37054, 1106.4869)
[23:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-4,3, distance=20,7px, pos=(522.11865, 1109.4192)
[23:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=8,3, distance=33,3px, pos=(534.6138, 1107.7848)
[23:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=13,2, distance=38,2px, pos=(539.65356, 1108.5559)
[23:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-9,0, distance=16,0px, pos=(517.5267, 1111.4257)
[23:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=6,3, distance=31,3px, pos=(532.8475, 1111.6089)
[23:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-1,2, distance=23,8px, pos=(525.36365, 1111.4994)
[23:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=-8,9, distance=16,1px, pos=(517.6835, 1112.2648)
[23:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=7,7, distance=32,7px, pos=(534.1402, 1113.8359)
[23:24:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(501.5518, 1111.812), source=PLAYER (Shotgun), range=1469, listeners=10
[23:24:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[23:24:23] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=788), can_see=false
[23:24:23] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=571), can_see=false
[23:24:23] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=118.7°, current=11.3°, player=(501,1111), corner_timer=0.00
[23:24:23] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=413), can_see=false
[23:24:23] [ENEMY] [Enemy3] Pursuing vulnerability sound at (501.5518, 1111.812), distance=413
[23:24:23] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=144.6°, current=-67.5°, player=(501,1111), corner_timer=0.00
[23:24:23] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=366), can_see=false
[23:24:23] [ENEMY] [Enemy4] Pursuing vulnerability sound at (501.5518, 1111.812), distance=366
[23:24:23] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1420), can_see=false
[23:24:23] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1592), can_see=false
[23:24:23] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1127), can_see=false
[23:24:23] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1439), can_see=false
[23:24:23] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1657), can_see=false
[23:24:23] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=825), can_see=false
[23:24:23] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:24:23] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:24:23] [INFO] [Shotgun.FIX#445] dragStartPos=(969, 1127), aimDir=(1,00, 0,02)
[23:24:23] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:23] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:23] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:23] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(39,9, -369,4), length=371,6, dotWithAim=33,4, aimDir=(1,00, 0,02), isPump=True
[23:24:23] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:23] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:24:23] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:24] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:24] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:24:24] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:24:24] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:24] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=795), can_see=false
[23:24:24] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=578), can_see=false
[23:24:24] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=351), can_see=false
[23:24:24] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=419), can_see=false
[23:24:24] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1423), can_see=false
[23:24:24] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1594), can_see=false
[23:24:24] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(502,1118), corner_timer=0.30
[23:24:24] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1131), can_see=false
[23:24:24] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1436), can_see=false
[23:24:24] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1655), can_see=false
[23:24:24] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(502,1118), corner_timer=0.30
[23:24:24] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=822), can_see=false
[23:24:24] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(30,9, 192,9), length=195,4, dotWithAim=34,2, aimDir=(1,00, 0,02), isPump=True
[23:24:24] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:24] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=89.5°, current=67.0°, player=(502,1118), corner_timer=0.00
[23:24:24] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[23:24:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(499.3546, 775.4043), source=ENEMY (Enemy3), range=1469, listeners=10
[23:24:24] [ENEMY] [Enemy1] Heard gunshot at (499.3546, 775.4043), source_type=1, intensity=0.01, distance=470
[23:24:24] [ENEMY] [Enemy2] Heard gunshot at (499.3546, 775.4043), source_type=1, intensity=0.04, distance=246
[23:24:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[23:24:24] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.2°, current=168.8°, player=(502,1118), corner_timer=0.00
[23:24:24] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=79.8°, current=45.0°, player=(502,1118), corner_timer=0.00
[23:24:24] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[23:24:24] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:24:24] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:24] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:24] [INFO] [LastChance] Threat detected: Bullet
[23:24:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:24:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:24:24] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:24] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[23:24:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(482.2106, 783.8693), source=ENEMY (Enemy3), range=1469, listeners=10
[23:24:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[23:24:24] [INFO] [Player] Spawning blood effect at (502.64203, 1118.753), dir=(1, 0), lethal=False (C#)
[23:24:24] [INFO] [ImpactEffects] spawn_blood_effect called at (502.642, 1118.753), dir=(1, 0), lethal=false
[23:24:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:24:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:24:24] [INFO] [ImpactEffects] Blood effect spawned at (502.642, 1118.753) (scale=1)
[23:24:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:24:24] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:24:24] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:24:24] [INFO] [LastChance] Threat detected: @Area2D@10108
[23:24:24] [INFO] [LastChance] Triggering last chance effect!
[23:24:24] [INFO] [LastChance] Starting last chance effect:
[23:24:24] [INFO] [LastChance]   - Time will be frozen (except player)
[23:24:24] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:24:24] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:24:24] [INFO] [LastChance]   - Brightness: 0.60
[23:24:24] [INFO] [LastChance] Pushed bullet @Area2D@10108 from distance 143.1 to 200.0
[23:24:24] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[23:24:24] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:24:24] [INFO] [LastChance] Skipping player node: Player
[23:24:24] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:24:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10107
[23:24:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10109
[23:24:24] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:24:24] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:24:24] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:24:24] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-48,1, -2,4), length=48,1, dotWithAim=-48,1, aimDir=(1,00, 0,02), isPump=False
[23:24:24] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:24] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-46,7, -4,2), length=46,9, dotWithAim=-46,8, aimDir=(1,00, 0,02), isPump=False
[23:24:24] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:24] [INFO] [BloodDecal] Blood puddle created at (570.2578, 1160.561) (added to group)
[23:24:24] [INFO] [BloodDecal] Blood puddle created at (546.2626, 1140.139) (added to group)
[23:24:24] [INFO] [Shotgun.FIX#243] RMB released after 26 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:24:24] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-46,7, -4,2), length=46,9, dotWithAim=-46,8, ActionState=Ready, minDist=20
[23:24:24] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:24:24] [INFO] [BloodDecal] Blood puddle created at (588.8002, 1183.302) (added to group)
[23:24:24] [INFO] [BloodDecal] Blood puddle created at (612.9214, 1118.379) (added to group)
[23:24:24] [INFO] [BloodDecal] Blood puddle created at (623.0885, 1151.801) (added to group)
[23:24:24] [INFO] [BloodDecal] Blood puddle created at (627.6152, 1239.697) (added to group)
[23:24:24] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:24] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:24:24] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:24:24] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:24:24] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:24:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:24:24] [INFO] [LastChance] Ending last chance effect
[23:24:24] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[23:24:24] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[23:24:24] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[23:24:24] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[23:24:24] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:24:24] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:24:24] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:24:24] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:24:24] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:24:24] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[23:24:24] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[23:24:24] [INFO] [LastChance] All process modes restored
[23:24:24] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:24:24] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:24:24] [ENEMY] [Enemy1] Death animation component initialized
[23:24:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:24] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:24:24] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:24:24] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:24:24] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:24] [ENEMY] [Enemy2] Death animation component initialized
[23:24:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:24] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:24:24] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:24:24] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:24:24] [ENEMY] [Enemy3] Death animation component initialized
[23:24:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:24] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:24:24] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:24:24] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:24:24] [ENEMY] [Enemy4] Death animation component initialized
[23:24:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:24] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:24:24] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:24:24] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:24:24] [ENEMY] [Enemy5] Death animation component initialized
[23:24:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:24] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:24:24] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:24:24] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:24:24] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:24] [ENEMY] [Enemy6] Death animation component initialized
[23:24:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:24] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:24:24] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:24:24] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:24:24] [ENEMY] [Enemy7] Death animation component initialized
[23:24:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:24] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:24:24] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:24:24] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:24:24] [ENEMY] [Enemy8] Death animation component initialized
[23:24:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:24] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:24:24] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:24:24] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:24:24] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:24] [ENEMY] [Enemy9] Death animation component initialized
[23:24:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:24] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:24:24] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:24:24] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:24:24] [ENEMY] [Enemy10] Death animation component initialized
[23:24:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:24] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:24:24] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:24:24] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:24:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:24:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:24:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:24:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:24:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:24:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:24:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:24:24] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:24:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:24:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:24:24] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:24:24] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:24:24] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:24:24] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:24:24] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:24:24] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:24:24] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:24:24] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:24:24] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:24:24] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:24:24] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:24:24] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:24:24] [INFO] [ScoreManager] Level started with 10 enemies
[23:24:24] [INFO] [BloodDecal] Blood puddle created at (604.32, 1154.871) (added to group)
[23:24:24] [INFO] [BloodDecal] Blood puddle created at (631.4854, 1257.81) (added to group)
[23:24:24] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:24:24] [INFO] [CinemaEffects] Found player node: Player
[23:24:24] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:24:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[23:24:24] [ENEMY] [Enemy1] Registered as sound listener
[23:24:24] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[23:24:24] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:24:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[23:24:24] [ENEMY] [Enemy2] Registered as sound listener
[23:24:24] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[23:24:24] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:24:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[23:24:24] [ENEMY] [Enemy3] Registered as sound listener
[23:24:24] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[23:24:24] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:24:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[23:24:24] [ENEMY] [Enemy4] Registered as sound listener
[23:24:24] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[23:24:24] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:24:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[23:24:24] [ENEMY] [Enemy5] Registered as sound listener
[23:24:24] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[23:24:24] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:24:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[23:24:24] [ENEMY] [Enemy6] Registered as sound listener
[23:24:24] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[23:24:24] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:24:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[23:24:24] [ENEMY] [Enemy7] Registered as sound listener
[23:24:24] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[23:24:24] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:24:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[23:24:24] [ENEMY] [Enemy8] Registered as sound listener
[23:24:24] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[23:24:24] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:24:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[23:24:24] [ENEMY] [Enemy9] Registered as sound listener
[23:24:24] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[23:24:24] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:24:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[23:24:24] [ENEMY] [Enemy10] Registered as sound listener
[23:24:24] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:24:24] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:24:24] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:24] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:24] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:24] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:24] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:24] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:24] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:24] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:24:24] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:24:24] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:24:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:24:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:24:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:24:24] [INFO] [LastChance] Found player: Player
[23:24:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:24:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:24:24] [INFO] [LastChance] Connected to player Died signal (C#)
[23:24:24] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:24:24] [INFO] [BloodDecal] Blood puddle created at (685.9261, 1192.342) (added to group)
[23:24:24] [INFO] [BloodDecal] Blood puddle created at (678.8879, 1138.293) (added to group)
[23:24:26] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:24:26] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:24:26] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:24:26] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:24:26] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:24:26] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:24:26] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:24:26] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:24:26] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:24:26] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:24:26] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(360.4423, 1246.92), source=PLAYER (Player), range=600, listeners=20
[23:24:26] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[23:24:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=1
[23:24:26] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(360.4423, 1246.9204)
[23:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-3,5, distance=21,5px, pos=(380.52972, 1239.1935)
[23:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-12,8, distance=12,2px, pos=(371.93182, 1242.9043)
[23:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=14,1, distance=39,1px, pos=(397.30353, 1233.763)
[23:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-1,6, distance=23,4px, pos=(382.83392, 1240.053)
[23:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-12,2, distance=12,8px, pos=(372.82724, 1243.5508)
[23:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=4,1, distance=29,1px, pos=(388.64124, 1239.8447)
[23:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-9,9, distance=15,1px, pos=(375.15005, 1243.5411)
[23:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=2,5, distance=27,5px, pos=(387.2705, 1240.9313)
[23:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=2,0, distance=27,0px, pos=(387.0426, 1242.0741)
[23:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=-0,6, distance=24,4px, pos=(384.53314, 1242.9933)
[23:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=10,4, distance=35,4px, pos=(395.59286, 1242.4785)
[23:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-15,0, distance=10,0px, pos=(370.4434, 1245.986)
[23:24:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(360.4423, 1246.92), source=PLAYER (Shotgun), range=1469, listeners=10
[23:24:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[23:24:26] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=899), can_see=false
[23:24:26] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=698), can_see=false
[23:24:26] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=602), can_see=false
[23:24:26] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=560), can_see=false
[23:24:26] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1612), can_see=false
[23:24:26] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1778), can_see=false
[23:24:26] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1296), can_see=false
[23:24:26] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1553), can_see=false
[23:24:26] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1766), can_see=false
[23:24:26] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=893), can_see=false
[23:24:26] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:24:26] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:24:26] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(301,1186), corner_timer=0.30
[23:24:26] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(301,1186), corner_timer=0.30
[23:24:26] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:24:26] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:24:26] [INFO] [Shotgun.FIX#445] dragStartPos=(1026, 1070), aimDir=(0,99, -0,14)
[23:24:26] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:26] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:26] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:26] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:24:26] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:26] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:26] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:26] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=760), can_see=false
[23:24:26] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=570), can_see=false
[23:24:26] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=540), can_see=false
[23:24:26] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=544), can_see=false
[23:24:26] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1594), can_see=false
[23:24:26] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1779), can_see=false
[23:24:26] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1380), can_see=false
[23:24:26] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1637), can_see=false
[23:24:26] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1854), can_see=false
[23:24:26] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1018), can_see=false
[23:24:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(93,7, -159,8), length=185,3, dotWithAim=115,9, aimDir=(0,99, -0,14), isPump=True
[23:24:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(298,1082), corner_timer=-0.02
[23:24:26] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:24:26] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(298,1082), corner_timer=-0.02
[23:24:26] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[23:24:26] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:24:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(298,1077), corner_timer=0.30
[23:24:26] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(298,1077), corner_timer=0.30
[23:24:26] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:26] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:26] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:26] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-19,4, -52,2), length=55,7, dotWithAim=-11,6, aimDir=(0,99, -0,14), isPump=False
[23:24:26] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(298,972), corner_timer=-0.02
[23:24:27] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[23:24:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-19,4, -118,1), length=119,6, dotWithAim=-2,1, aimDir=(0,99, -0,14), isPump=False
[23:24:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:27] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(298,967), corner_timer=0.30
[23:24:27] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(298.5792, 950.9717), source=PLAYER (Player), range=600, listeners=10
[23:24:27] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (298.5792, 950.9717), intensity=0.01, distance=414
[23:24:27] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:24:27] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (298.5792, 950.9717), intensity=0.01, distance=449
[23:24:27] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[23:24:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=1
[23:24:27] [INFO] [Shotgun.FIX#212] Firing 9 pellets with 15° spread at pos=(298.57916, 950.9717)
[23:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 1/9: extraOffset=3,5, distance=28,5px, pos=(326.20984, 943.8028)
[23:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 2/9: extraOffset=9,8, distance=34,8px, pos=(332.20898, 941.872)
[23:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 3/9: extraOffset=5,3, distance=30,3px, pos=(328.20963, 944.6453)
[23:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 4/9: extraOffset=-10,2, distance=14,8px, pos=(313.15952, 948.64417)
[23:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 5/9: extraOffset=-1,7, distance=23,3px, pos=(321.61115, 947.6642)
[23:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 6/9: extraOffset=14,1, distance=39,1px, pos=(337.4932, 947.1061)
[23:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 7/9: extraOffset=14,5, distance=39,5px, pos=(337.84073, 946.88837)
[23:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 8/9: extraOffset=11,3, distance=36,3px, pos=(334.75793, 948.34125)
[23:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 9/9: extraOffset=-12,0, distance=13,0px, pos=(311.537, 950.91797)
[23:24:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.5792, 950.9717), source=PLAYER (Shotgun), range=1469, listeners=10
[23:24:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[23:24:27] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=104.2°, current=-67.5°, player=(298,950), corner_timer=0.00
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy2] Pursuing vulnerability sound at (298.5792, 950.9717), distance=414
[23:24:27] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=153.4°, current=-33.8°, player=(298,950), corner_timer=0.00
[23:24:27] [ENEMY] [Enemy3] Pursuing vulnerability sound at (298.5792, 950.9717), distance=449
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=590), can_see=false
[23:24:27] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=398), can_see=false
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=434), can_see=false
[23:24:27] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=503), can_see=false
[23:24:27] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1521), can_see=false
[23:24:27] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1723), can_see=false
[23:24:27] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1400), can_see=false
[23:24:27] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1681), can_see=false
[23:24:27] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1902), can_see=false
[23:24:27] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1094), can_see=false
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-42,9, -174,1), length=179,3, dotWithAim=-17,2, aimDir=(0,99, -0,14), isPump=True
[23:24:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:27] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-17,2
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:24:27] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[23:24:27] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(1, 0), lethal=false
[23:24:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:24:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:24:27] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=160.3°, current=159.9°, player=(286,879), corner_timer=0.00
[23:24:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(284,871), corner_timer=-0.01
[23:24:27] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[23:24:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-33,4, -222,3), length=224,8, dotWithAim=-0,9, aimDir=(0,99, -0,14), isPump=True
[23:24:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:27] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-0,9
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.1°, player=(284,867), corner_timer=0.30
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[23:24:27] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[23:24:27] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-175.0°, current=168.8°, player=(283,855), corner_timer=0.00
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[23:24:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.9847, 762.4214), source=ENEMY (Enemy3), range=1469, listeners=10
[23:24:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[23:24:27] [ENEMY] [Enemy4] PURSUING corner check: angle -102.5°
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-102.5°, current=-33.1°, player=(283,833), corner_timer=0.29
[23:24:27] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[23:24:27] [INFO] [LastChance] Threat detected: Bullet
[23:24:27] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:24:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[23:24:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-27,8, -259,7), length=261,2, dotWithAim=10,1, aimDir=(0,99, -0,14), isPump=True
[23:24:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:27] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=10,1
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[23:24:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(602.4791, 778.6775), source=ENEMY (Enemy3), range=1469, listeners=10
[23:24:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[23:24:27] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:27] [INFO] [BloodDecal] Blood puddle created at (886.3925, 930.4068) (added to group)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(536.0154, 793.278), shooter_id=2814545758402, bullet_pos=(502.8531, 796.651)
[23:24:27] [INFO] [Bullet] Using shooter_position, distance=33.3333320617676
[23:24:27] [INFO] [Bullet] Distance to wall: 33.3333320617676 (2.2697278746786% of viewport)
[23:24:27] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[23:24:27] [INFO] [Bullet] Starting wall penetration at (502.8531, 796.651)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[23:24:27] [INFO] [Bullet] Exiting penetration at (464.7166, 800.53) after traveling 33.3333358764648 pixels through wall
[23:24:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:24:27] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=450), can_see=false
[23:24:27] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=281), can_see=false
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=512), can_see=false
[23:24:27] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1488), can_see=false
[23:24:27] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1704), can_see=false
[23:24:27] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1420), can_see=false
[23:24:27] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1744), can_see=false
[23:24:27] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1967), can_see=false
[23:24:27] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1192), can_see=false
[23:24:27] [INFO] [BloodDecal] Blood puddle created at (884.1718, 895.1776) (added to group)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(101,8, -561,7), length=570,9, dotWithAim=182,0, aimDir=(0,99, -0,14), isPump=True
[23:24:27] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(529.7676, 787.6046), shooter_id=2814545758402, bullet_pos=(47.11852, 918.1798)
[23:24:27] [INFO] [Bullet] Using shooter_position, distance=500
[23:24:27] [INFO] [Bullet] Distance to wall: 500 (34.0459194189277% of viewport)
[23:24:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:24:27] [INFO] [Bullet] Starting wall penetration at (47.11852, 918.1798)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[23:24:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(618.1734, 796.6936), source=ENEMY (Enemy3), range=1469, listeners=10
[23:24:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[23:24:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.6713104248047
[23:24:27] [INFO] [Bullet] Body exited signal received for penetrating body
[23:24:27] [INFO] [Bullet] Exiting penetration at (10.11544, 928.1906) after traveling 33.3333358764648 pixels through wall
[23:24:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [BloodDecal] Blood puddle created at (908.692, 946.6841) (added to group)
[23:24:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(550.3093, 801.7004), shooter_id=2814545758402, bullet_pos=(517.0043, 800.3264)
[23:24:27] [INFO] [Bullet] Using shooter_position, distance=33.333324432373
[23:24:27] [INFO] [Bullet] Distance to wall: 33.333324432373 (2.26972735517909% of viewport)
[23:24:27] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[23:24:27] [INFO] [Bullet] Starting wall penetration at (517.0043, 800.3264)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(273,776), corner_timer=-0.01
[23:24:27] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[23:24:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.415470123291
[23:24:27] [INFO] [Bullet] Body exited signal received for penetrating body
[23:24:27] [INFO] [Bullet] Exiting penetration at (478.7036, 798.7462) after traveling 33.3333358764648 pixels through wall
[23:24:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.8°, player=(271,774), corner_timer=0.30
[23:24:27] [INFO] [BloodDecal] Blood puddle created at (872.7128, 930.2613) (added to group)
[23:24:27] [INFO] [BloodDecal] Blood puddle created at (900.0789, 899.2082) (added to group)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [BloodDecal] Blood puddle created at (890.6759, 938.8804) (added to group)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [INFO] [EnemyGrenade] Throw path blocked to (298.5792, 950.9717)
[23:24:27] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[23:24:27] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(3,6, -17,8), length=18,1, dotWithAim=6,1, aimDir=(0,99, -0,14), isPump=True
[23:24:27] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=48.9°, current=-171.1°, player=(253,760), corner_timer=0.00
[23:24:27] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=394), can_see=false
[23:24:28] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=169.6°, current=158.7°, player=(248,759), corner_timer=0.00
[23:24:28] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:24:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 708.8906), source=ENEMY (Enemy2), range=1469, listeners=10
[23:24:28] [ENEMY] [Enemy1] Heard gunshot at (524.0657, 708.8906), source_type=1, intensity=0.01, distance=423
[23:24:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[23:24:28] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=97.5°, current=168.8°, player=(246,759), corner_timer=0.00
[23:24:28] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[23:24:28] [INFO] [LastChance] Threat detected: Bullet
[23:24:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:24:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:24:28] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[23:24:28] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[23:24:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(3,6, -39,7), length=39,9, dotWithAim=9,3, aimDir=(0,99, -0,14), isPump=True
[23:24:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:28] [INFO] [BloodDecal] Blood puddle created at (894.6219, 984.7917) (added to group)
[23:24:28] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(230.8134, 763.3242), source=PLAYER (Player), range=600, listeners=10
[23:24:28] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (230.8134, 763.3242), intensity=0.02, distance=393
[23:24:28] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (230.8134, 763.3242), intensity=0.03, distance=295
[23:24:28] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (230.8134, 763.3242), intensity=0.01, distance=425
[23:24:28] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[23:24:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[23:24:28] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-169.6°, current=174.8°, player=(230,763), corner_timer=0.00
[23:24:28] [INFO] [Player] Spawning blood effect at (228.1014, 764.6861), dir=(1, 0), lethal=False (C#)
[23:24:28] [INFO] [ImpactEffects] spawn_blood_effect called at (228.1014, 764.6861), dir=(1, 0), lethal=false
[23:24:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:24:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:24:28] [INFO] [ImpactEffects] Blood effect spawned at (228.1014, 764.6861) (scale=1)
[23:24:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:24:28] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:24:28] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:24:28] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:24:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.576, 720.3591), source=ENEMY (Enemy2), range=1469, listeners=10
[23:24:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[23:24:28] [ENEMY] [Enemy3] Pursuing vulnerability sound at (230.8134, 763.3242), distance=419
[23:24:28] [INFO] [LastChance] Threat detected: @Area2D@10454
[23:24:28] [INFO] [LastChance] Triggering last chance effect!
[23:24:28] [INFO] [LastChance] Starting last chance effect:
[23:24:28] [INFO] [LastChance]   - Time will be frozen (except player)
[23:24:28] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:24:28] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:24:28] [INFO] [LastChance]   - Brightness: 0.60
[23:24:28] [INFO] [LastChance] Pushed bullet @Area2D@10454 from distance 142.5 to 200.0
[23:24:28] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[23:24:28] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:24:28] [INFO] [LastChance] Skipping player node: Player
[23:24:28] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:24:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10429
[23:24:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10430
[23:24:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10432
[23:24:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10440
[23:24:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10451
[23:24:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10455
[23:24:28] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:24:28] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:24:28] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:24:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(3,6, -43,5), length=43,7, dotWithAim=9,9, aimDir=(0,99, -0,14), isPump=True
[23:24:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:28] [INFO] [LastChance] Freezing newly created grenade: FragGrenade
[23:24:28] [INFO] [LastChance] Registered frozen grenade: FragGrenade
[23:24:28] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[23:24:28] [INFO] [GrenadeBase] Grenade created at (489.7695, 746.9338) (frozen)
[23:24:28] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[23:24:28] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[23:24:28] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.795176, 0.606379), Speed: 638.3 (unfrozen)
[23:24:28] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[23:24:28] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[23:24:28] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(3,6, -29,3), length=29,5, dotWithAim=7,8, aimDir=(0,99, -0,14), isPump=True
[23:24:28] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:28] [INFO] [BloodDecal] Blood puddle created at (284.297, 778.0129) (added to group)
[23:24:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:28] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[23:24:28] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[23:24:28] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[23:24:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[23:24:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[23:24:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[23:24:28] [INFO] [LastChance] Ending last chance effect
[23:24:28] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[23:24:28] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[23:24:28] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[23:24:28] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[23:24:28] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:24:28] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:24:28] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:24:28] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:24:28] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:24:28] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[23:24:28] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[23:24:28] [INFO] [LastChance] All process modes restored
[23:24:28] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:24:28] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[23:24:28] [ENEMY] [Enemy1] Death animation component initialized
[23:24:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:28] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[23:24:28] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[23:24:28] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[23:24:28] [ENEMY] [Enemy2] Death animation component initialized
[23:24:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:28] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[23:24:28] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[23:24:28] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[23:24:28] [ENEMY] [Enemy3] Death animation component initialized
[23:24:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:28] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[23:24:28] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[23:24:28] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[23:24:28] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:28] [ENEMY] [Enemy4] Death animation component initialized
[23:24:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:28] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[23:24:28] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[23:24:28] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[23:24:28] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:28] [ENEMY] [Enemy5] Death animation component initialized
[23:24:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:28] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[23:24:28] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[23:24:28] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[23:24:28] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:28] [ENEMY] [Enemy6] Death animation component initialized
[23:24:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:28] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[23:24:28] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[23:24:28] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[23:24:28] [ENEMY] [Enemy7] Death animation component initialized
[23:24:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:28] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[23:24:28] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[23:24:28] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[23:24:28] [ENEMY] [Enemy8] Death animation component initialized
[23:24:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:28] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[23:24:28] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[23:24:28] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[23:24:28] [INFO] [EnemyGrenade] Initialized: 1 grenades
[23:24:28] [ENEMY] [Enemy9] Death animation component initialized
[23:24:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:28] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[23:24:28] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[23:24:28] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[23:24:28] [ENEMY] [Enemy10] Death animation component initialized
[23:24:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[23:24:28] [INFO] [BloodyFeet:Player] Footprint scene loaded
[23:24:28] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[23:24:28] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[23:24:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[23:24:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[23:24:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[23:24:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[23:24:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[23:24:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[23:24:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[23:24:28] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[23:24:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[23:24:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[23:24:28] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[23:24:28] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[23:24:28] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[23:24:28] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[23:24:28] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[23:24:28] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[23:24:28] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[23:24:28] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[23:24:28] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[23:24:28] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[23:24:28] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[23:24:28] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[23:24:28] [INFO] [ScoreManager] Level started with 10 enemies
[23:24:28] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[23:24:28] [INFO] [CinemaEffects] Found player node: Player
[23:24:28] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[23:24:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[23:24:28] [ENEMY] [Enemy1] Registered as sound listener
[23:24:28] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[23:24:28] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[23:24:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[23:24:28] [ENEMY] [Enemy2] Registered as sound listener
[23:24:28] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[23:24:28] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[23:24:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[23:24:28] [ENEMY] [Enemy3] Registered as sound listener
[23:24:28] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[23:24:28] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[23:24:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[23:24:28] [ENEMY] [Enemy4] Registered as sound listener
[23:24:28] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[23:24:28] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[23:24:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[23:24:28] [ENEMY] [Enemy5] Registered as sound listener
[23:24:28] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[23:24:28] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[23:24:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[23:24:28] [ENEMY] [Enemy6] Registered as sound listener
[23:24:28] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[23:24:28] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[23:24:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[23:24:28] [ENEMY] [Enemy7] Registered as sound listener
[23:24:28] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[23:24:28] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[23:24:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[23:24:28] [ENEMY] [Enemy8] Registered as sound listener
[23:24:28] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[23:24:28] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[23:24:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[23:24:28] [ENEMY] [Enemy9] Registered as sound listener
[23:24:28] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[23:24:28] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[23:24:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[23:24:28] [ENEMY] [Enemy10] Registered as sound listener
[23:24:28] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[23:24:28] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[23:24:28] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:28] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:28] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:28] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:28] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:28] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:28] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:28] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[23:24:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[23:24:28] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[23:24:28] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[23:24:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[23:24:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[23:24:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[23:24:28] [INFO] [LastChance] Found player: Player
[23:24:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[23:24:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[23:24:28] [INFO] [LastChance] Connected to player Died signal (C#)
[23:24:28] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[23:24:28] [INFO] [BloodDecal] Blood puddle created at (295.2985, 794.4551) (added to group)
[23:24:28] [INFO] [BloodDecal] Blood puddle created at (357.3758, 825.4196) (added to group)
[23:24:28] [INFO] [BloodDecal] Blood puddle created at (367.0622, 787.5639) (added to group)
[23:24:28] [INFO] [BloodDecal] Blood puddle created at (290.1802, 779.9894) (added to group)
[23:24:28] [INFO] [BloodDecal] Blood puddle created at (315.5656, 813.9707) (added to group)
[23:24:28] [INFO] [BloodDecal] Blood puddle created at (388.9644, 875.5095) (added to group)
[23:24:28] [INFO] [BloodDecal] Blood puddle created at (311.683, 839.9742) (added to group)
[23:24:28] [INFO] [BloodDecal] Blood puddle created at (315.1985, 817.9481) (added to group)
[23:24:28] [INFO] [BloodDecal] Blood puddle created at (387.6276, 809.0426) (added to group)
[23:24:30] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:24:30] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[23:24:30] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(448,809), corner_timer=0.30
[23:24:30] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(448,809), corner_timer=0.30
[23:24:30] [ENEMY] [Enemy1] Player ammo empty: false -> true
[23:24:30] [ENEMY] [Enemy2] Player ammo empty: false -> true
[23:24:30] [ENEMY] [Enemy3] Player ammo empty: false -> true
[23:24:30] [ENEMY] [Enemy4] Player ammo empty: false -> true
[23:24:30] [ENEMY] [Enemy5] Player ammo empty: false -> true
[23:24:30] [ENEMY] [Enemy6] Player ammo empty: false -> true
[23:24:30] [ENEMY] [Enemy7] Player ammo empty: false -> true
[23:24:30] [ENEMY] [Enemy8] Player ammo empty: false -> true
[23:24:30] [ENEMY] [Enemy9] Player ammo empty: false -> true
[23:24:30] [ENEMY] [Enemy10] Player ammo empty: false -> true
[23:24:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(432.2306, 776.6065), source=PLAYER (Player), range=600, listeners=20
[23:24:30] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[23:24:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[23:24:30] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(432.23062, 776.6065)
[23:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=0,8, distance=25,8px, pos=(456.20517, 767.03625)
[23:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-7,2, distance=17,8px, pos=(449.062, 770.75616)
[23:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-14,7, distance=10,3px, pos=(442.0531, 773.4685)
[23:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-12,5, distance=12,5px, pos=(444.24765, 773.0515)
[23:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-3,5, distance=21,5px, pos=(452.9736, 771.04254)
[23:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-13,0, distance=12,0px, pos=(443.9605, 773.8865)
[23:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=14,5, distance=39,5px, pos=(470.92218, 768.8837)
[23:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=7,3, distance=32,3px, pos=(464.0536, 771.32086)
[23:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=11,5, distance=36,5px, pos=(468.46146, 772.4045)
[23:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-9,5, distance=15,5px, pos=(447.5677, 774.6237)
[23:24:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.2306, 776.6065), source=PLAYER (Shotgun), range=1469, listeners=10
[23:24:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[23:24:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=447), can_see=false
[23:24:30] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=229), can_see=false
[23:24:30] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=269), can_see=false
[23:24:30] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=388), can_see=false
[23:24:30] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1338), can_see=false
[23:24:30] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1553), can_see=false
[23:24:30] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1214), can_see=false
[23:24:30] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1615), can_see=false
[23:24:30] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1838), can_see=false
[23:24:30] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1111), can_see=false
[23:24:30] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[23:24:30] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:24:30] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[23:24:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:24:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:24:30] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[23:24:30] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[23:24:30] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[23:24:30] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[23:24:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:24:30] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[23:24:30] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[23:24:30] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[23:24:30] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[23:24:30] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[23:24:30] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[23:24:30] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[23:24:30] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[23:24:30] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[23:24:30] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[23:24:30] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=86.7°, current=45.0°, player=(412,763), corner_timer=0.00
[23:24:30] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[23:24:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(395,760), corner_timer=-0.01
[23:24:30] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[23:24:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.0°, player=(395,760), corner_timer=-0.01
[23:24:30] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[23:24:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(392,760), corner_timer=0.30
[23:24:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=52.8°, player=(392,760), corner_timer=0.30
[23:24:30] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:24:30] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:24:30] [INFO] [Shotgun.FIX#445] dragStartPos=(1046, 599), aimDir=(0,97, -0,24)
[23:24:30] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:30] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:30] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:30] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:24:30] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:24:30] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:30] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:30] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (772.4421, 766.8576) (added to group)
[23:24:30] [ENEMY] [Enemy1] Memory: medium confidence (0.51) - transitioning to PURSUING
[23:24:30] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[23:24:30] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=83.9°, current=-33.8°, player=(347,790), corner_timer=0.00
[23:24:30] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(86,9, -40,3), length=95,8, dotWithAim=94,1, aimDir=(0,97, -0,24), isPump=True
[23:24:30] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (745.0284, 784.2617) (added to group)
[23:24:30] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (771.5839, 792.182) (added to group)
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (779.8215, 741.5172) (added to group)
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (782.8589, 794.4731) (added to group)
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (754.2877, 782.8757) (added to group)
[23:24:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=445), can_see=false
[23:24:30] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=224), can_see=false
[23:24:30] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=473), can_see=false
[23:24:30] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1435), can_see=false
[23:24:30] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1650), can_see=false
[23:24:30] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1363), can_see=false
[23:24:30] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1692), can_see=false
[23:24:30] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1915), can_see=false
[23:24:30] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1159), can_see=false
[23:24:30] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:24:30] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:30] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (769.34, 761.9127) (added to group)
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (797.54, 782.995) (added to group)
[23:24:30] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (783.6646, 808.5517) (added to group)
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (793.2311, 753.3072) (added to group)
[23:24:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.2°, player=(320,811), corner_timer=-0.01
[23:24:30] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[23:24:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.3°, player=(316,813), corner_timer=0.30
[23:24:30] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (837.9191, 837.0969) (added to group)
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (805.3416, 791.0516) (added to group)
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (789.0701, 828.0327) (added to group)
[23:24:30] [INFO] [BloodDecal] Blood puddle created at (832.6795, 850.2266) (added to group)
[23:24:30] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(3,6, 49,4), length=49,6, dotWithAim=-8,5, aimDir=(0,97, -0,24), isPump=False
[23:24:30] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:31] [ENEMY] [Enemy3] Ragdoll activated
[23:24:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (774.6815, 824.1788) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (855.3154, 819.6117) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (790.4542, 773.8637) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (863.2158, 842.5137) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (864.436, 783.2336) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (779.4557, 795.9543) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (809.2383, 797.566) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (801.1316, 833.4629) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (822.3531, 859.1179) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (823.6025, 829.6168) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (867.8186, 762.0491) (added to group)
[23:24:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-1,1, -119,2), length=119,2, dotWithAim=27,6, aimDir=(0,97, -0,24), isPump=False
[23:24:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (882.8253, 771.2137) (added to group)
[23:24:31] [ENEMY] [Enemy1] PURSUING corner check: angle -51.9°
[23:24:31] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(228.8757, 824.0141), source=PLAYER (Player), range=600, listeners=9
[23:24:31] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (228.8757, 824.0141), intensity=0.01, distance=438
[23:24:31] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (228.8757, 824.0141), intensity=0.02, distance=372
[23:24:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[23:24:31] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(228.87575, 824.0141)
[23:24:31] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-3,8, distance=21,2px, pos=(248.43694, 815.87476)
[23:24:31] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-3,5, distance=21,5px, pos=(249.1391, 816.81104)
[23:24:31] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-10,4, distance=14,6px, pos=(242.71065, 819.36115)
[23:24:31] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-9,4, distance=15,6px, pos=(243.78264, 819.555)
[23:24:31] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=4,1, distance=29,1px, pos=(257.05966, 816.71857)
[23:24:31] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-2,6, distance=22,4px, pos=(250.59462, 818.71356)
[23:24:31] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=-0,5, distance=24,5px, pos=(252.91696, 819.36475)
[23:24:31] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=0,4, distance=25,4px, pos=(253.77103, 818.73724)
[23:24:31] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-7,2, distance=17,8px, pos=(246.32207, 820.7054)
[23:24:31] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-3,1, distance=21,9px, pos=(250.60349, 821.1242)
[23:24:31] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-8,9, distance=16,1px, pos=(244.82047, 822.02216)
[23:24:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(228.8757, 824.0141), source=PLAYER (Shotgun), range=1469, listeners=9
[23:24:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[23:24:31] [ENEMY] [Enemy1] Pursuing vulnerability sound at (228.8757, 824.0141), distance=438
[23:24:31] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=157.1°, current=156.5°, player=(225,825), corner_timer=0.05
[23:24:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:24:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(573.5705, 678.3586), source=ENEMY (Enemy2), range=1469, listeners=9
[23:24:31] [ENEMY] [Enemy4] Heard gunshot at (573.5705, 678.3586), source_type=1, intensity=0.02, distance=317
[23:24:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:24:31] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-172.6°, current=168.8°, player=(225,825), corner_timer=0.00
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (877.7244, 829.2523) (added to group)
[23:24:31] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[23:24:31] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[23:24:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(221,826), corner_timer=-0.01
[23:24:31] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[23:24:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.3°, player=(218,828), corner_timer=0.30
[23:24:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-24,8, -106,9), length=109,7, dotWithAim=1,7, aimDir=(0,97, -0,24), isPump=True
[23:24:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:31] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=1,7
[23:24:31] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=437), can_see=false
[23:24:31] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=577), can_see=false
[23:24:31] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1561), can_see=false
[23:24:31] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1776), can_see=false
[23:24:31] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1484), can_see=false
[23:24:31] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1796), can_see=false
[23:24:31] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2018), can_see=false
[23:24:31] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1224), can_see=false
[23:24:31] [INFO] [LastChance] Threat detected: Bullet
[23:24:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[23:24:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[23:24:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[23:24:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(553.5137, 690.2316), source=ENEMY (Enemy2), range=1469, listeners=9
[23:24:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[23:24:31] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:24:31] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:24:31] [INFO] [ImpactEffects] spawn_blood_effect called at (549.5844, 691.8945), dir=(1, 0), lethal=false
[23:24:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:24:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:24:31] [INFO] [ImpactEffects] Blood effect spawned at (549.5844, 691.8945) (scale=1)
[23:24:31] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[23:24:31] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:24:31] [INFO] [ImpactEffects] spawn_blood_effect called at (549.5844, 691.8945), dir=(1, 0), lethal=false
[23:24:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:24:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:24:31] [INFO] [ImpactEffects] Blood effect spawned at (549.5844, 691.8945) (scale=1)
[23:24:31] [INFO] [Player] Spawning blood effect at (194.80304, 848.7778), dir=(1, 0), lethal=False (C#)
[23:24:31] [INFO] [ImpactEffects] spawn_blood_effect called at (194.803, 848.7778), dir=(1, 0), lethal=false
[23:24:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:24:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:24:31] [INFO] [ImpactEffects] Blood effect spawned at (194.803, 848.7778) (scale=1)
[23:24:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[23:24:31] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[23:24:31] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[23:24:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-20,8, -93,7), length=95,9, dotWithAim=2,4, aimDir=(0,97, -0,24), isPump=True
[23:24:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:31] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=2,4
[23:24:31] [INFO] [LastChance] Threat detected: @Area2D@10785
[23:24:31] [INFO] [LastChance] Triggering last chance effect!
[23:24:31] [INFO] [LastChance] Starting last chance effect:
[23:24:31] [INFO] [LastChance]   - Time will be frozen (except player)
[23:24:31] [INFO] [LastChance]   - Duration: 6.0 real seconds
[23:24:31] [INFO] [LastChance]   - Sepia intensity: 0.70
[23:24:31] [INFO] [LastChance]   - Brightness: 0.60
[23:24:31] [INFO] [LastChance] Pushed bullet @Area2D@10785 from distance 135.2 to 200.0
[23:24:31] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[23:24:31] [INFO] [LastChance] Set player Player and all 23 children to PROCESS_MODE_ALWAYS
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[23:24:31] [INFO] [LastChance] Skipping player node: Player
[23:24:31] [INFO] [LastChance] Froze existing bullet casing: Casing
[23:24:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10782
[23:24:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10786
[23:24:31] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[23:24:31] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[23:24:31] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[23:24:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-12,1, -94,2), length=95,0, dotWithAim=11,0, aimDir=(0,97, -0,24), isPump=True
[23:24:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:31] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=11,0
[23:24:31] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10792
[23:24:31] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10792
[23:24:31] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:24:31] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:31] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:31] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (598.3125, 708.4484) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (263.4158, 867.4733) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (638.4041, 674.3521) (added to group)
[23:24:31] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-51,4, -124,6), length=134,8, dotWithAim=-19,9, aimDir=(0,97, -0,24), isPump=True
[23:24:31] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:31] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (656.3531, 729.6339) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (617.7513, 707.6121) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (298.6672, 873.9497) (added to group)
[23:24:31] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (273.5824, 885.4258) (added to group)
[23:24:31] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:31] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (671.5424, 734.3564) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (646.3959, 695.5765) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (697.1233, 772.6023) (added to group)
[23:24:31] [INFO] [BloodDecal] Blood puddle created at (657.4192, 718.2778) (added to group)
[23:24:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-40,7, 569,1), length=570,5, dotWithAim=-176,6, aimDir=(0,97, -0,24), isPump=False
[23:24:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (679.783, 738.8612) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (688.6245, 737.4226) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (309.6652, 904.8126) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (349.5946, 873.8291) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (302.546, 915.2896) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (697.4348, 770.3542) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (678.0755, 729.4938) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (674.8016, 772.2815) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (686.45, 704.3168) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (640.3721, 778.4265) (added to group)
[23:24:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-46,1, 409,7), length=412,3, dotWithAim=-143,4, aimDir=(0,97, -0,24), isPump=False
[23:24:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (732.4828, 720.9178) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (706.3927, 715.7847) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (735.572, 749.6088) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (303.3789, 891.9726) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (712.9626, 789.7313) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (357.9685, 873.506) (added to group)
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (327.2254, 906.6775) (added to group)
[23:24:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-52,7, 428,6), length=431,8, dotWithAim=-154,4, aimDir=(0,97, -0,24), isPump=False
[23:24:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:32] [INFO] [BloodDecal] Blood puddle created at (371.9986, 1030.926) (added to group)
[23:24:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-52,7, 452,2), length=455,2, dotWithAim=-160,1, aimDir=(0,97, -0,24), isPump=False
[23:24:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-52,7, 458,8), length=461,8, dotWithAim=-161,7, aimDir=(0,97, -0,24), isPump=False
[23:24:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:32] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-52,7, 446,3), length=449,4, dotWithAim=-158,7, aimDir=(0,97, -0,24), isPump=False
[23:24:32] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:32] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[23:24:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-52,7, 418,4), length=421,7, dotWithAim=-152,0, aimDir=(0,97, -0,24), isPump=False
[23:24:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:33] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(178.89, 922.2979), source=PLAYER (Player), range=600, listeners=9
[23:24:33] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (178.89, 922.2979), intensity=0.01, distance=411
[23:24:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=1
[23:24:33] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(178.88998, 922.2979)
[23:24:33] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=8,4, distance=33,4px, pos=(210.18347, 910.54944)
[23:24:33] [INFO] [LastChance] Freezing newly fired player bullet: ShotgunPellet
[23:24:33] [INFO] [LastChance] Registered frozen player bullet: ShotgunPellet
[23:24:33] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=1,9, distance=26,9px, pos=(204.1097, 912.88104)
[23:24:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10830
[23:24:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10830
[23:24:33] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-13,5, distance=11,5px, pos=(189.88191, 918.80005)
[23:24:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10831
[23:24:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10831
[23:24:33] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=13,9, distance=38,9px, pos=(216.32076, 911.61804)
[23:24:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10832
[23:24:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10832
[23:24:33] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-8,6, distance=16,4px, pos=(194.73398, 917.99756)
[23:24:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10833
[23:24:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10833
[23:24:33] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-8,5, distance=16,5px, pos=(194.82207, 917.9175)
[23:24:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10834
[23:24:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10834
[23:24:33] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=6,5, distance=31,5px, pos=(209.72107, 915.8587)
[23:24:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10835
[23:24:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10835
[23:24:33] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=12,7, distance=37,7px, pos=(215.86923, 914.7751)
[23:24:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10836
[23:24:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10836
[23:24:33] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=12,7, distance=37,7px, pos=(216.0899, 915.8988)
[23:24:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10837
[23:24:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10837
[23:24:33] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=-2,1, distance=22,9px, pos=(201.51576, 918.9589)
[23:24:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10838
[23:24:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10838
[23:24:33] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-7,1, distance=17,9px, pos=(196.66023, 920.22076)
[23:24:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10839
[23:24:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10839
[23:24:33] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=9,1, distance=34,1px, pos=(212.66458, 917.96204)
[23:24:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10840
[23:24:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10840
[23:24:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(178.89, 922.2979), source=PLAYER (Shotgun), range=1469, listeners=9
[23:24:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[23:24:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-76,5, 386,1), length=393,6, dotWithAim=-167,3, aimDir=(0,97, -0,24), isPump=True
[23:24:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:33] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-167,3
[23:24:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-73,2, 352,2), length=359,8, dotWithAim=-155,9, aimDir=(0,97, -0,24), isPump=True
[23:24:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:33] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-155,9
[23:24:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-71,8, 567,0), length=571,6, dotWithAim=-206,3, aimDir=(0,97, -0,24), isPump=True
[23:24:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:33] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-206,3
[23:24:33] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10841
[23:24:33] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10841
[23:24:33] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:24:33] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:33] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:33] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:33] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:24:33] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:33] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:33] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:33] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-39,7, 467,0), length=468,7, dotWithAim=-151,0, aimDir=(0,97, -0,24), isPump=False
[23:24:33] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:34] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-40,3, 455,1), length=456,9, dotWithAim=-148,7, aimDir=(0,97, -0,24), isPump=False
[23:24:34] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(103.5793, 823.4964), source=PLAYER (Player), range=600, listeners=9
[23:24:34] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (103.5793, 823.4964), intensity=0.01, distance=466
[23:24:34] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (103.5793, 823.4964), intensity=0.01, distance=440
[23:24:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[23:24:34] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(103.57927, 823.4964)
[23:24:34] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=-6,0, distance=19,0px, pos=(121.316605, 816.73737)
[23:24:34] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10842
[23:24:34] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10842
[23:24:34] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=-14,8, distance=10,2px, pos=(113.29702, 820.32367)
[23:24:34] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10843
[23:24:34] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10843
[23:24:34] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=12,6, distance=37,6px, pos=(139.72958, 813.23615)
[23:24:34] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10844
[23:24:34] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10844
[23:24:34] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=-8,2, distance=16,8px, pos=(119.86978, 819.48615)
[23:24:34] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10845
[23:24:34] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10845
[23:24:34] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=7,4, distance=32,4px, pos=(135.3594, 817.20544)
[23:24:34] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10846
[23:24:34] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10846
[23:24:34] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-7,2, distance=17,8px, pos=(121.2568, 821.1814)
[23:24:34] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10847
[23:24:34] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10847
[23:24:34] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=0,8, distance=25,8px, pos=(129.21416, 821.0301)
[23:24:34] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10848
[23:24:34] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10848
[23:24:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(103.5793, 823.4964), source=PLAYER (Shotgun), range=1469, listeners=9
[23:24:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[23:24:34] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[23:24:34] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-63,9, 438,4), length=443,0, dotWithAim=-167,6, aimDir=(0,97, -0,24), isPump=True
[23:24:34] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:34] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-167,6
[23:24:34] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-59,2, 407,1), length=411,4, dotWithAim=-155,5, aimDir=(0,97, -0,24), isPump=True
[23:24:34] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:34] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-155,5
[23:24:34] [INFO] [Shotgun.FIX#243] RMB released after 48 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:24:34] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-50,5, 365,5), length=369,0, dotWithAim=-137,0, ActionState=NeedsPumpUp, minDist=20
[23:24:34] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:24:34] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:24:34] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:24:34] [INFO] [Shotgun.FIX#445] dragStartPos=(1075, 1054), aimDir=(0,93, 0,38)
[23:24:34] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:34] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:34] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:35] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-5,3, -759,3), length=759,3, dotWithAim=-292,2, aimDir=(0,93, 0,38), isPump=True
[23:24:35] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:35] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-292,2
[23:24:35] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(52,1, -323,0), length=327,2, dotWithAim=-74,0, aimDir=(0,93, 0,38), isPump=True
[23:24:35] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:35] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-74,0
[23:24:35] [INFO] [Shotgun.FIX#243] RMB released after 29 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:24:35] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(59,5, -326,6), length=332,0, dotWithAim=-68,5, ActionState=NeedsPumpUp, minDist=20
[23:24:35] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:24:35] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[23:24:35] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[23:24:35] [INFO] [Shotgun.FIX#445] dragStartPos=(1119, 680), aimDir=(1,00, 0,07)
[23:24:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:36] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:36] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:36] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10849
[23:24:36] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10849
[23:24:36] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:24:36] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:36] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:36] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(28,7, -17,8), length=33,8, dotWithAim=27,5, aimDir=(1,00, 0,07), isPump=True
[23:24:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=True, isPumpDown=False
[23:24:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-25,4, 503,3), length=503,9, dotWithAim=8,6, aimDir=(1,00, 0,07), isPump=True
[23:24:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-37,4, 683,7), length=684,7, dotWithAim=8,7, aimDir=(1,00, 0,07), isPump=True
[23:24:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:36] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-37,4, 681,4), length=682,5, dotWithAim=8,6, aimDir=(1,00, 0,07), isPump=True
[23:24:36] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:36] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:24:36] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:36] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:36] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:37] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-7,3, -60,5), length=61,0, dotWithAim=-11,4, aimDir=(1,00, 0,07), isPump=False
[23:24:37] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=False, isPumpUp=False, isPumpDown=False
[23:24:37] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-51,4, -0,6), length=51,4, dotWithAim=-51,4, aimDir=(1,00, 0,07), isPump=False
[23:24:37] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:37] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-54,8, -0,7), length=54,8, dotWithAim=-54,7, aimDir=(1,00, 0,07), isPump=False
[23:24:37] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:37] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[23:24:37] [INFO] [LastChance] Ending last chance effect
[23:24:37] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[23:24:37] [ENEMY] [Enemy1] Search mode: PURSUING -> SEARCHING at (208.8741, 833.9561)
[23:24:37] [ENEMY] [Enemy1] SEARCHING started: center=(208.8741, 833.9561), radius=100, waypoints=5
[23:24:37] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[23:24:37] [ENEMY] [Enemy2] Search mode: COMBAT -> SEARCHING at (189.9914, 858.0186)
[23:24:37] [ENEMY] [Enemy2] SEARCHING started: center=(189.9914, 858.0186), radius=100, waypoints=5
[23:24:37] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[23:24:37] [ENEMY] [Enemy4] Search mode: COMBAT -> SEARCHING at (208.8741, 833.9561)
[23:24:37] [ENEMY] [Enemy4] SEARCHING started: center=(208.8741, 833.9561), radius=100, waypoints=5
[23:24:37] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[23:24:37] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[23:24:37] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[23:24:37] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[23:24:37] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[23:24:37] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[23:24:37] [INFO] [LastChance] Reset memory for 9 enemies (player teleport effect)
[23:24:37] [INFO] [LastChance] All process modes restored
[23:24:37] [INFO] [LastChance] Unfroze player bullet: ShotgunPellet
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10830
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10831
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10832
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10833
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10834
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10835
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10836
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10837
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10838
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10839
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10840
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10842
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10843
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10844
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10845
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10846
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10847
[23:24:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@10848
[23:24:37] [INFO] [LastChance] Unfroze bullet casing: Casing
[23:24:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10782
[23:24:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10786
[23:24:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10792
[23:24:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10841
[23:24:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10849
[23:24:37] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[23:24:37] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=353), can_see=false
[23:24:37] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=-163.0°, current=164.5°, player=(80,566), corner_timer=0.05
[23:24:37] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=466), can_see=false
[23:24:37] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=777), can_see=false
[23:24:37] [ENEMY] [Enemy4] SEARCHING corner check: angle -179.7°
[23:24:37] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1634), can_see=false
[23:24:37] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1874), can_see=false
[23:24:37] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1651), can_see=false
[23:24:37] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2023), can_see=false
[23:24:37] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2247), can_see=false
[23:24:37] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1499), can_see=false
[23:24:37] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-1,3, -455,4), length=455,4, dotWithAim=-32,0, aimDir=(1,00, 0,07), isPump=False
[23:24:37] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:37] [ENEMY] [Enemy2] SEARCHING corner check: angle 3.8°
[23:24:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(494.4107, 723.9576), shooter_id=2876386576103, bullet_pos=(62.24533, 905.2693)
[23:24:37] [INFO] [Bullet] Using shooter_position, distance=468.658569335938
[23:24:37] [INFO] [Bullet] Distance to wall: 468.658569335938 (31.9118237732025% of viewport)
[23:24:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[23:24:37] [INFO] [Bullet] Starting wall penetration at (62.24533, 905.2693)
[23:24:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.7°, player=(80,551), corner_timer=-0.01
[23:24:37] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[23:24:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.7779674530029
[23:24:37] [INFO] [Bullet] Body exited signal received for penetrating body
[23:24:37] [INFO] [Bullet] Exiting penetration at (19.32943, 923.5998) after traveling 41.6666679382324 pixels through wall
[23:24:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[23:24:37] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[23:24:37] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[23:24:37] [INFO] [ImpactEffects] spawn_blood_effect called at (509.8137, 738.5739), dir=(1, 0), lethal=false
[23:24:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:24:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:24:37] [INFO] [ImpactEffects] Blood effect spawned at (509.8137, 738.5739) (scale=1)
[23:24:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.5°, player=(80,548), corner_timer=0.30
[23:24:37] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:24:37] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(2,0, -598,7), length=598,7, dotWithAim=-38,3, aimDir=(1,00, 0,07), isPump=False
[23:24:37] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:37] [ENEMY] [Enemy1] SEARCHING corner check: angle 159.4°
[23:24:37] [ENEMY] [Enemy4] SEARCHING corner check: angle 179.9°
[23:24:37] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(2,0, -608,5), length=608,5, dotWithAim=-39,0, aimDir=(1,00, 0,07), isPump=False
[23:24:37] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:37] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.07474, 536.4536), source=PLAYER (Player), range=600, listeners=9
[23:24:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[23:24:37] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(80.07474, 536.4536)
[23:24:37] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=10,3, distance=35,3px, pos=(115.3048, 534.9649)
[23:24:37] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=4,0, distance=29,0px, pos=(109.042755, 536.48535)
[23:24:37] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=-5,4, distance=19,6px, pos=(99.61951, 537.2975)
[23:24:37] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=13,6, distance=38,6px, pos=(118.36221, 540.98596)
[23:24:37] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=-1,6, distance=23,4px, pos=(103.22999, 540.1083)
[23:24:37] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=13,5, distance=38,5px, pos=(117.88807, 543.827)
[23:24:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07474, 536.4536), source=PLAYER (Shotgun), range=1469, listeners=9
[23:24:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[23:24:37] [INFO] [LastChance] Visual effects fade-out complete
[23:24:37] [INFO] [LastChance] Restored original colors to 5 player sprites
[23:24:37] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[23:24:37] [ENEMY] [Enemy2] SEARCHING corner check: angle 69.5°
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (562.387, 740.5591) (added to group)
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=399), can_see=false
[23:24:38] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=416), can_see=false
[23:24:38] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=720), can_see=false
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1631), can_see=false
[23:24:38] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1872), can_see=false
[23:24:38] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1657), can_see=false
[23:24:38] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2036), can_see=false
[23:24:38] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2260), can_see=false
[23:24:38] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1517), can_see=false
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(80,536), corner_timer=-0.01
[23:24:38] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[23:24:38] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-21,7, -615,7), length=616,1, dotWithAim=-63,1, aimDir=(1,00, 0,07), isPump=True
[23:24:38] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:38] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-63,1
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (602.3548, 784.9291) (added to group)
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.2°, player=(80,536), corner_timer=0.30
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 4/4 -> 3/4
[23:24:38] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[23:24:38] [INFO] [ImpactEffects] spawn_blood_effect called at (480.9655, 626.2125), dir=(1, 0), lethal=false
[23:24:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[23:24:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[23:24:38] [INFO] [ImpactEffects] Blood effect spawned at (480.9655, 626.2125) (scale=1)
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (602.0477, 814.6336) (added to group)
[23:24:38] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:24:38] [ENEMY] [Enemy1] SEARCHING corner check: angle -48.7°
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-13,5, -606,6), length=606,7, dotWithAim=-54,3, aimDir=(1,00, 0,07), isPump=True
[23:24:38] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:38] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-54,3
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy4] SEARCHING corner check: angle -87.3°
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (656.1063, 819.9644) (added to group)
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (662.2876, 829.6212) (added to group)
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (679.8462, 792.0547) (added to group)
[23:24:38] [ENEMY] [Enemy2] SEARCHING corner check: angle 69.5°
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (686.6445, 758.9534) (added to group)
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (629.5929, 817.3464) (added to group)
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (614.1514, 795.4842) (added to group)
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (521.9064, 639.1786) (added to group)
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.0°, player=(80,536), corner_timer=-0.01
[23:24:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (563.4182, 608.1309) (added to group)
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (567.0406, 671.1814) (added to group)
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(80,536), corner_timer=0.30
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (629.4481, 892.9175) (added to group)
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=480), can_see=false
[23:24:38] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=358), can_see=false
[23:24:38] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=600), can_see=false
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1631), can_see=false
[23:24:38] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1872), can_see=false
[23:24:38] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1637), can_see=false
[23:24:38] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2036), can_see=false
[23:24:38] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2260), can_see=false
[23:24:38] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1516), can_see=false
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (591.8944, 609.958) (added to group)
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-6,7, -650,6), length=650,6, dotWithAim=-50,5, aimDir=(1,00, 0,07), isPump=True
[23:24:38] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:38] [INFO] [Shotgun.FIX#445v3] In NeedsPumpUp - waiting for drag AWAY from player (positive dot). Current dot=-50,5
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (599.6005, 700.0491) (added to group)
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (568.5684, 671.7001) (added to group)
[23:24:38] [ENEMY] [Enemy1] SEARCHING corner check: angle 0.2°
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (554.1808, 692.2003) (added to group)
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [Shotgun.FIX#445v3] Mid-drag pump UP (away from player) - shell ejected, continue dragging TOWARD player to chamber
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy4] SEARCHING corner check: angle 92.7°
[23:24:38] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (622.9016, 650.3547) (added to group)
[23:24:38] [ENEMY] [Enemy2] SEARCHING corner check: angle 69.5°
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-129.0°, player=(80,536), corner_timer=-0.01
[23:24:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-131.3°, player=(80,536), corner_timer=0.30
[23:24:38] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (615.136, 631.847) (added to group)
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:38] [INFO] [BloodDecal] Blood puddle created at (671.3873, 693.1891) (added to group)
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:39] [ENEMY] [Enemy1] SEARCHING corner check: angle 72.5°
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[23:24:39] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=410), can_see=false
[23:24:39] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=340), can_see=false
[23:24:39] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=484), can_see=false
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1631), can_see=false
[23:24:39] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1872), can_see=false
[23:24:39] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1574), can_see=false
[23:24:39] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2036), can_see=false
[23:24:39] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2260), can_see=false
[23:24:39] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1516), can_see=false
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy4] SEARCHING corner check: angle 90.6°
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.9°, current=175.8°, player=(80,536), corner_timer=-0.01
[23:24:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=178.1°, player=(80,536), corner_timer=0.30
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [Shotgun.FIX#445v3] TryProcessMidDragGesture - dragVector=(-90,9, -0,1), length=90,9, dotWithAim=-90,7, aimDir=(1,00, 0,07), isPump=False
[23:24:39] [INFO] [Shotgun.FIX#445v3] Direction-aware: isValid=True, isPumpUp=False, isPumpDown=True
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy1] SEARCHING corner check: angle 72.5°
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy4] SEARCHING corner check: angle 77.8°
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=125.2°, player=(82,536), corner_timer=-0.01
[23:24:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (199 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(83,536), corner_timer=0.30
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (197 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=342), can_see=false
[23:24:39] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=345), can_see=false
[23:24:39] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=390), can_see=false
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (195 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1625), can_see=false
[23:24:39] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1866), can_see=false
[23:24:39] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1568), can_see=false
[23:24:39] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2031), can_see=false
[23:24:39] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2255), can_see=false
[23:24:39] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1512), can_see=false
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (193 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (191 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [Shotgun.FIX#243] RMB released after 19 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[23:24:39] [INFO] [Shotgun.FIX#445v3] ProcessDragGesture - dragVector=(-90,9, -0,8), length=90,9, dotWithAim=-90,7, ActionState=Ready, minDist=20
[23:24:39] [INFO] [Shotgun.FIX#445v3] Direction-aware pump gesture: isValid=True, isPumpUp=False (away from player), isPumpDown=True (toward player)
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (190 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (188 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (186 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (181 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (179 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (177 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (175 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (173 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (171 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy1] SEARCHING corner check: angle 72.5°
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (169 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (167 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (165 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (163 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (161 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (159 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [ENEMY] [Enemy4] SEARCHING corner check: angle 77.8°
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (157 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:39] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:40] [INFO] [EnemyGrenade] Unsafe throw distance (154 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.6°, player=(160,536), corner_timer=-0.01
[23:24:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[23:24:40] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(164,536), corner_timer=0.30
[23:24:40] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:40] [INFO] [EnemyGrenade] Unsafe throw distance (151 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:40] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:40] [INFO] [EnemyGrenade] Unsafe throw distance (149 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:40] [INFO] [EnemyGrenade] Unsafe throw distance (148 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:40] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:24:40] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:40] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[23:24:40] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=300), can_see=false
[23:24:40] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=382), can_see=false
[23:24:40] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=292), can_see=false
[23:24:40] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1507), can_see=false
[23:24:40] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1748), can_see=false
[23:24:40] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1453), can_see=false
[23:24:40] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1926), can_see=false
[23:24:40] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2150), can_see=false
[23:24:40] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1431), can_see=false
[23:24:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.5°, player=(261,536), corner_timer=-0.01
[23:24:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[23:24:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(265,536), corner_timer=0.30
[23:24:40] [ENEMY] [Enemy2] SEARCHING corner check: angle 39.2°
[23:24:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:24:40] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=353), can_see=false
[23:24:40] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=339), can_see=false
[23:24:40] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=325), can_see=false
[23:24:40] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1421), can_see=false
[23:24:40] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1661), can_see=false
[23:24:40] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1369), can_see=false
[23:24:40] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1850), can_see=false
[23:24:40] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2073), can_see=false
[23:24:40] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1374), can_see=false
[23:24:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(291,536), corner_timer=-0.01
[23:24:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[23:24:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(291,536), corner_timer=0.30
[23:24:40] [ENEMY] [Enemy2] SEARCHING corner check: angle 39.2°
[23:24:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[23:24:40] [INFO] [BloodyFeet:Enemy2] Blood ran out - no more footprints
[23:24:41] [INFO] ------------------------------------------------------------
[23:24:41] [INFO] GAME LOG ENDED: 2026-02-03T23:24:41
[23:24:41] [INFO] ============================================================
