[18:26:57] [INFO] ============================================================
[18:26:57] [INFO] GAME LOG STARTED
[18:26:57] [INFO] ============================================================
[18:26:57] [INFO] Timestamp: 2026-02-07T18:26:57
[18:26:57] [INFO] Log file: I:/Загрузки/godot exe/снайпер/game_log_20260207_182657.txt
[18:26:57] [INFO] Executable: I:/Загрузки/godot exe/снайпер/Godot-Top-Down-Template.exe
[18:26:57] [INFO] OS: Windows
[18:26:57] [INFO] Debug build: false
[18:26:57] [INFO] Engine version: 4.3-stable (official)
[18:26:57] [INFO] Project: Godot Top-Down Template
[18:26:57] [INFO] ------------------------------------------------------------
[18:26:57] [INFO] [GameManager] GameManager ready
[18:26:57] [INFO] [ScoreManager] ScoreManager ready
[18:26:57] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[18:26:57] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[18:26:57] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[18:26:57] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[18:26:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:26:57] [INFO] [PenultimateHit] Saturation shader loaded successfully
[18:26:57] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[18:26:57] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[18:26:57] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[18:26:57] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[18:26:57] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[18:26:57] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[18:26:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:26:57] [INFO] [LastChance] Last chance shader loaded successfully
[18:26:57] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[18:26:57] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[18:26:57] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[18:26:57] [INFO] [LastChance]   Sepia intensity: 0.70
[18:26:57] [INFO] [LastChance]   Brightness: 0.60
[18:26:57] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[18:26:57] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[18:26:57] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[18:26:57] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[18:26:57] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[18:26:57] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:26:57] [INFO] [CinemaEffects] Created effects layer at layer 99
[18:26:57] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[18:26:57] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[18:26:57] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[18:26:57] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[18:26:57] [INFO] [CinemaEffects]   Grain intensity: 0.15
[18:26:57] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[18:26:57] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[18:26:57] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[18:26:57] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[18:26:57] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[18:26:57] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[18:26:57] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[18:26:57] [INFO] [GrenadeTimerHelper] Autoload ready
[18:26:57] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:26:57] [INFO] [PowerFantasy] Saturation shader loaded successfully
[18:26:57] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[18:26:57] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[18:26:57] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[18:26:57] [INFO] [ProgressManager] ProgressManager ready, loaded 4 entries
[18:26:57] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[18:26:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:26:57] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:26:57] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:26:57] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:26:57] [ENEMY] [Enemy1] Death animation component initialized
[18:26:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:26:57] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:26:57] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:26:57] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:26:57] [ENEMY] [Enemy2] Death animation component initialized
[18:26:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:26:57] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:26:57] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:26:57] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:26:57] [ENEMY] [Enemy3] Death animation component initialized
[18:26:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:26:57] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:26:57] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:26:57] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:26:57] [ENEMY] [Enemy4] Death animation component initialized
[18:26:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:26:57] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:26:57] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:26:57] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:26:57] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:26:57] [ENEMY] [Enemy5] Death animation component initialized
[18:26:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:26:57] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:26:57] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:26:57] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:26:57] [ENEMY] [Enemy6] Death animation component initialized
[18:26:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:26:57] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:26:57] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:26:57] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:26:57] [ENEMY] [Enemy7] Death animation component initialized
[18:26:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:26:57] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:26:57] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:26:57] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:26:57] [ENEMY] [Enemy8] Death animation component initialized
[18:26:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:26:57] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:26:57] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:26:57] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:26:57] [ENEMY] [Enemy9] Death animation component initialized
[18:26:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:26:57] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:26:57] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:26:57] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:26:57] [ENEMY] [Enemy10] Death animation component initialized
[18:26:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:26:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:26:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:26:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:26:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:26:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:26:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:26:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:26:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:26:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:26:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:26:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:26:57] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:26:57] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:26:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:26:57] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[18:26:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:26:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:26:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:26:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:26:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:26:57] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:26:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:26:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:26:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:26:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:26:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:26:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:26:57] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:26:57] [INFO] [ScoreManager] Level started with 10 enemies
[18:26:57] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:26:57] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:26:57] [INFO] [ReplayManager] Replay data cleared
[18:26:57] [INFO] [BuildingLevel] Previous replay data cleared
[18:26:57] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:26:57] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:26:57] [INFO] [ReplayManager] Level: BuildingLevel
[18:26:57] [INFO] [ReplayManager] Player: Player (valid: True)
[18:26:57] [INFO] [ReplayManager] Enemies count: 10
[18:26:57] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:26:57] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:26:57] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:26:57] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:26:57] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:26:57] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:26:57] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:26:57] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:26:57] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:26:57] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:26:57] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:26:57] [INFO] [BuildingLevel] Replay recording started successfully
[18:26:57] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:26:57] [INFO] [CinemaEffects] Found player node: Player
[18:26:57] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:26:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:26:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[18:26:57] [ENEMY] [Enemy1] Registered as sound listener
[18:26:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:26:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:26:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[18:26:57] [ENEMY] [Enemy2] Registered as sound listener
[18:26:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:26:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:26:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[18:26:57] [ENEMY] [Enemy3] Registered as sound listener
[18:26:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:26:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:26:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[18:26:57] [ENEMY] [Enemy4] Registered as sound listener
[18:26:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:26:57] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:26:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[18:26:57] [ENEMY] [Enemy5] Registered as sound listener
[18:26:57] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:26:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:26:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[18:26:57] [ENEMY] [Enemy6] Registered as sound listener
[18:26:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:26:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:26:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[18:26:57] [ENEMY] [Enemy7] Registered as sound listener
[18:26:57] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 3, behavior: PATROL
[18:26:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:26:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[18:26:57] [ENEMY] [Enemy8] Registered as sound listener
[18:26:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:26:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:26:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[18:26:57] [ENEMY] [Enemy9] Registered as sound listener
[18:26:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:26:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:26:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[18:26:57] [ENEMY] [Enemy10] Registered as sound listener
[18:26:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:26:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:26:57] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:26:57] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:26:57] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:26:57] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:26:57] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:26:57] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:26:57] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:26:57] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:26:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:26:57] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:26:57] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:26:57] [INFO] [PenultimateHit] Shader warmup complete in 430 ms
[18:26:57] [INFO] [LastChance] Shader warmup complete in 428 ms
[18:26:57] [INFO] [CinemaEffects] Cinema shader warmup complete in 378 ms
[18:26:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:26:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:26:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:26:57] [INFO] [LastChance] Found player: Player
[18:26:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:26:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:26:57] [INFO] [LastChance] Connected to player Died signal (C#)
[18:26:57] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:26:57] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 687 ms
[18:26:58] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:26:59] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:27:00] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:27:01] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:27:02] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[18:27:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:27:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:27:02] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[18:27:02] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[18:27:02] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[18:27:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:27:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:27:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:27:02] [INFO] [CinemaEffects] Scene changed to: CityLevel
[18:27:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:27:02] [ENEMY] [SniperEnemy1] Death animation component initialized
[18:27:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:27:02] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[18:27:02] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[18:27:02] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[18:27:02] [ENEMY] [SniperEnemy2] Death animation component initialized
[18:27:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:27:02] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[18:27:02] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[18:27:02] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[18:27:02] [ENEMY] [GuardEnemy1] Death animation component initialized
[18:27:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:27:02] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[18:27:02] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[18:27:02] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[18:27:02] [ENEMY] [GuardEnemy2] Death animation component initialized
[18:27:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:27:02] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[18:27:02] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[18:27:02] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[18:27:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:27:02] [ENEMY] [GuardEnemy3] Death animation component initialized
[18:27:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:27:02] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[18:27:02] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[18:27:02] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[18:27:02] [ENEMY] [GuardEnemy4] Death animation component initialized
[18:27:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:27:02] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[18:27:02] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[18:27:02] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[18:27:02] [ENEMY] [PatrolEnemy1] Death animation component initialized
[18:27:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:27:02] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[18:27:02] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[18:27:02] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[18:27:02] [ENEMY] [PatrolEnemy2] Death animation component initialized
[18:27:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:27:02] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[18:27:02] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[18:27:02] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[18:27:02] [ENEMY] [GuardEnemy5] Death animation component initialized
[18:27:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:27:02] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[18:27:02] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[18:27:02] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[18:27:02] [ENEMY] [GuardEnemy6] Death animation component initialized
[18:27:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:27:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:27:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:27:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:27:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:27:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:27:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:27:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:27:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:27:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:27:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:27:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:27:02] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:27:02] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:27:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:27:02] [INFO] [ScoreManager] Level started with 10 enemies
[18:27:03] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[18:27:03] [INFO] [ReplayManager] Replay data cleared
[18:27:03] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:27:03] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:27:03] [INFO] [ReplayManager] Level: CityLevel
[18:27:03] [INFO] [ReplayManager] Player: Player (valid: True)
[18:27:03] [INFO] [ReplayManager] Enemies count: 10
[18:27:03] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:27:03] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[18:27:03] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[18:27:03] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[18:27:03] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[18:27:03] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[18:27:03] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[18:27:03] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[18:27:03] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[18:27:03] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[18:27:03] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[18:27:03] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[18:27:03] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[18:27:03] [INFO] [CinemaEffects] Found player node: Player
[18:27:03] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:27:03] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 11)
[18:27:03] [ENEMY] [SniperEnemy1] Registered as sound listener
[18:27:03] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 3, behavior: GUARD
[18:27:03] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[18:27:03] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 12)
[18:27:03] [ENEMY] [SniperEnemy2] Registered as sound listener
[18:27:03] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 4, behavior: GUARD
[18:27:03] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[18:27:03] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 13)
[18:27:03] [ENEMY] [GuardEnemy1] Registered as sound listener
[18:27:03] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 2, behavior: GUARD
[18:27:03] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[18:27:03] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 14)
[18:27:03] [ENEMY] [GuardEnemy2] Registered as sound listener
[18:27:03] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 3, behavior: GUARD
[18:27:03] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[18:27:03] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 15)
[18:27:03] [ENEMY] [GuardEnemy3] Registered as sound listener
[18:27:03] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 2, behavior: GUARD
[18:27:03] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[18:27:03] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 16)
[18:27:03] [ENEMY] [GuardEnemy4] Registered as sound listener
[18:27:03] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 2, behavior: GUARD
[18:27:03] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[18:27:03] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 17)
[18:27:03] [ENEMY] [PatrolEnemy1] Registered as sound listener
[18:27:03] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 4, behavior: PATROL
[18:27:03] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[18:27:03] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 18)
[18:27:03] [ENEMY] [PatrolEnemy2] Registered as sound listener
[18:27:03] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 4, behavior: PATROL
[18:27:03] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[18:27:03] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 19)
[18:27:03] [ENEMY] [GuardEnemy5] Registered as sound listener
[18:27:03] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 4, behavior: GUARD
[18:27:03] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[18:27:03] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 20)
[18:27:03] [ENEMY] [GuardEnemy6] Registered as sound listener
[18:27:03] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 3, behavior: GUARD
[18:27:03] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:27:03] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:27:03] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:27:03] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:27:03] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:27:03] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:27:03] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:27:03] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:27:03] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:27:03] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:27:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:27:03] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:27:03] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:27:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:27:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:27:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:27:03] [INFO] [LastChance] Found player: Player
[18:27:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:27:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:27:03] [INFO] [LastChance] Connected to player Died signal (C#)
[18:27:03] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:27:03] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:27:04] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:27:04] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:27:04] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(300,2500), corner_timer=0.30
[18:27:04] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(300,2500), corner_timer=0.30
[18:27:04] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(300,2500), corner_timer=-0.02
[18:27:04] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:27:04] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(300,2500), corner_timer=-0.02
[18:27:04] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:27:04] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(300,2500), corner_timer=0.30
[18:27:04] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(300,2500), corner_timer=0.30
[18:27:04] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:27:04] [INFO] [Player] Invincibility mode: ON
[18:27:04] [INFO] [GameManager] Invincibility mode toggled: ON
[18:27:05] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(300,2500), corner_timer=-0.02
[18:27:05] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:27:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(300,2500), corner_timer=-0.02
[18:27:05] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:27:05] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(300,2500), corner_timer=0.30
[18:27:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(300,2500), corner_timer=0.30
[18:27:05] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(300,2500), corner_timer=-0.02
[18:27:05] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:27:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(300,2500), corner_timer=-0.02
[18:27:05] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:27:05] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(300,2500), corner_timer=0.30
[18:27:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(300,2500), corner_timer=0.30
[18:27:05] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(315,2500), corner_timer=-0.02
[18:27:05] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:27:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(315,2500), corner_timer=-0.02
[18:27:05] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:27:05] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(318,2500), corner_timer=0.30
[18:27:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(318,2500), corner_timer=0.30
[18:27:05] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:27:06] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(416,2500), corner_timer=-0.02
[18:27:06] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:27:06] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(422,2500), corner_timer=0.30
[18:27:06] [ENEMY] [GuardEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=144.8°, current=146.3°, player=(559,2500), corner_timer=0.00
[18:27:06] [ENEMY] [GuardEnemy2] State: IDLE -> COMBAT
[18:27:06] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=144.6°, current=-70.6°, player=(570,2500), corner_timer=0.00
[18:27:06] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:27:07] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:27:07] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=141.5°, current=-170.6°, player=(757,2500), corner_timer=0.00
[18:27:07] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=139.5°, current=139.6°, player=(862,2500), corner_timer=0.00
[18:27:07] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=128.4°, player=(922,2500), corner_timer=-0.02
[18:27:07] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:27:07] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=131.3°, player=(928,2500), corner_timer=0.30
[18:27:07] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[18:27:08] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=58.5°, player=(1032,2500), corner_timer=-0.02
[18:27:08] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:27:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1032,2500), corner_timer=-0.02
[18:27:08] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:27:08] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=61.4°, player=(1038,2500), corner_timer=0.30
[18:27:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1038,2500), corner_timer=0.30
[18:27:08] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=94.0°, current=56.2°, player=(1109,2500), corner_timer=0.00
[18:27:08] [ENEMY] [GuardEnemy1] State: IDLE -> COMBAT
[18:27:08] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=93.7°, current=59.1°, player=(1115,2500), corner_timer=0.00
[18:27:08] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(1142,2500), corner_timer=-0.02
[18:27:08] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:27:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1142,2500), corner_timer=-0.02
[18:27:08] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:27:08] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.9°, player=(1148,2500), corner_timer=0.30
[18:27:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1148,2500), corner_timer=0.30
[18:27:08] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[18:27:08] [ENEMY] [GuardEnemy2] FLANKING started: target=(1165.012, 2311.141), side=left, pos=(2267.315, 1298.612)
[18:27:08] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[18:27:08] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 47.3°
[18:27:08] [ENEMY] [GuardEnemy5] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-95.5°, current=-78.7°, player=(1236,2500), corner_timer=0.00
[18:27:08] [ENEMY] [GuardEnemy5] State: IDLE -> COMBAT
[18:27:08] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-95.1°, current=-179.8°, player=(1247,2500), corner_timer=0.00
[18:27:08] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(1252,2500), corner_timer=-0.02
[18:27:08] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:27:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1252,2500), corner_timer=-0.02
[18:27:08] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:27:08] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.9°, player=(1258,2500), corner_timer=0.30
[18:27:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1258,2500), corner_timer=0.30
[18:27:08] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=86.0°, current=86.0°, player=(1280,2500), corner_timer=0.00
[18:27:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-163.8°, current=180.0°, player=(1280,2500), corner_timer=0.23
[18:27:08] [ENEMY] [PatrolEnemy2] State: IDLE -> COMBAT
[18:27:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-163.8°, current=111.9°, player=(1291,2500), corner_timer=0.23
[18:27:08] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-92.7°, current=-140.1°, player=(1318,2500), corner_timer=0.00
[18:27:08] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=83.4°, current=83.4°, player=(1329,2500), corner_timer=0.00
[18:27:08] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:27:08] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[18:27:08] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 44.4°
[18:27:09] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-163.4°, current=146.6°, player=(1357,2500), corner_timer=0.23
[18:27:09] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(1362,2500), corner_timer=-0.02
[18:27:09] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:27:09] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.9°, player=(1368,2500), corner_timer=0.30
[18:27:09] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-163.3°, current=158.2°, player=(1379,2500), corner_timer=0.23
[18:27:09] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[18:27:09] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 40.9°
[18:27:09] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(1472,2500), corner_timer=-0.02
[18:27:09] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:27:09] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.9°, player=(1478,2500), corner_timer=0.30
[18:27:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1393.058, 3951.769), source=ENEMY (GuardEnemy5), range=1469, listeners=20
[18:27:09] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:27:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:27:09] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-85.2°, current=-85.2°, player=(1527,2499), corner_timer=0.00
[18:27:09] [ENEMY] [GuardEnemy5] State: COMBAT -> PURSUING
[18:27:09] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 106.7°
[18:27:09] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 37.4°
[18:27:09] [ENEMY] [GuardEnemy5] State: PURSUING -> RETREATING
[18:27:09] [ENEMY] [GuardEnemy5] State: RETREATING -> IN_COVER
[18:27:09] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(1572,2475), corner_timer=-0.02
[18:27:09] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:27:09] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:27:09] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.9°, player=(1576,2472), corner_timer=0.30
[18:27:09] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=SUPPRESSED, target=-82.4°, current=-83.9°, player=(1607,2440), corner_timer=0.00
[18:27:09] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 106.7°
[18:27:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1410.856, 3925.233), source=ENEMY (GuardEnemy5), range=1469, listeners=10
[18:27:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:27:09] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[18:27:09] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -143.5°
[18:27:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1410.856, 3925.233), source=ENEMY (GuardEnemy5), range=1469, listeners=10
[18:27:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:27:10] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(1651,2400), corner_timer=-0.02
[18:27:10] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:27:10] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.9°, player=(1655,2397), corner_timer=0.30
[18:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1410.856, 3925.233), source=ENEMY (GuardEnemy5), range=1469, listeners=10
[18:27:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:27:10] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 106.7°
[18:27:10] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -136.3°
[18:27:10] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(1755,2389), corner_timer=-0.02
[18:27:10] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:27:10] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.9°, player=(1760,2390), corner_timer=0.30
[18:27:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1428.6222, 3859.6145), shooter_id=134939152536, bullet_pos=(1497.0157, 2861.9563)
[18:27:10] [INFO] [Bullet] Using shooter_position, distance=999,99976
[18:27:10] [INFO] [Bullet] Distance to wall: 999,99976 (68,09182% of viewport)
[18:27:10] [INFO] [Bullet] Distance-based penetration chance: 67,226204%
[18:27:10] [INFO] [Bullet] Starting wall penetration at (1497.0157, 2861.9563)
[18:27:10] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:27:10] [INFO] [Bullet] Exiting penetration at (1500.2074, 2815.399) after traveling 41,666668 pixels through wall
[18:27:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:27:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1429.2473, 3859.7942), shooter_id=134939152536, bullet_pos=(1672.6985, 2889.8801)
[18:27:10] [INFO] [Bullet] Using shooter_position, distance=1000,0009
[18:27:10] [INFO] [Bullet] Distance to wall: 1000,0009 (68,0919% of viewport)
[18:27:10] [INFO] [Bullet] Distance-based penetration chance: 67,22611%
[18:27:10] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:10] [ENEMY] [GuardEnemy1] PURSUING corner check: angle -7.4°
[18:27:10] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 123.9°
[18:27:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1405.8171, 3884.9397), shooter_id=134939152536, bullet_pos=(1608.4948, 933.5546)
[18:27:10] [INFO] [Bullet] Using shooter_position, distance=2958,336
[18:27:10] [INFO] [Bullet] Distance to wall: 2958,336 (201,43855% of viewport)
[18:27:10] [INFO] [Bullet] Distance-based penetration chance: 9,712293%
[18:27:10] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:10] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -164.7°
[18:27:10] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=91.4°, current=91.3°, player=(1830,2446), corner_timer=0.30
[18:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1410.856, 3925.233), source=ENEMY (GuardEnemy5), range=1469, listeners=10
[18:27:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:27:10] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(1838,2454), corner_timer=-0.02
[18:27:10] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:27:10] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[18:27:10] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.9°, player=(1842,2457), corner_timer=0.30
[18:27:10] [ENEMY] [GuardEnemy2] State: FLANKING -> COMBAT
[18:27:10] [ENEMY] [GuardEnemy1] PURSUING corner check: angle -7.4°
[18:27:10] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 123.9°
[18:27:10] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=86.0°, current=86.0°, player=(1892,2508), corner_timer=0.23
[18:27:10] [ENEMY] [PatrolEnemy1] Hit: dmg=1, hp=4/4->3/4
[18:27:10] [INFO] [ImpactEffects] spawn_blood_effect called at (1710.337, 3300), dir=(1, 0), lethal=false
[18:27:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:10] [INFO] [ImpactEffects] Blood effect spawned at (1710.337, 3300) (scale=1)
[18:27:10] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[18:27:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=165.7°, player=(1916,2531), corner_timer=-0.02
[18:27:11] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:27:11] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-20.1°, current=31.9°, player=(1916,2531), corner_timer=0.00
[18:27:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=168.5°, player=(1920,2535), corner_timer=0.30
[18:27:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1428.0554, 3859.4653), shooter_id=134939152536, bullet_pos=(1468.6353, 943.0834)
[18:27:11] [INFO] [Bullet] Using shooter_position, distance=2916,6643
[18:27:11] [INFO] [Bullet] Distance to wall: 2916,6643 (198,60104% of viewport)
[18:27:11] [INFO] [Bullet] Distance-based penetration chance: 10,279793%
[18:27:11] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1428.0554, 3859.4653), shooter_id=134939152536, bullet_pos=(1468.6353, 943.0834)
[18:27:11] [INFO] [Bullet] Using shooter_position, distance=2916,6643
[18:27:11] [INFO] [Bullet] Distance to wall: 2916,6643 (198,60104% of viewport)
[18:27:11] [INFO] [Bullet] Distance-based penetration chance: 10,279793%
[18:27:11] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:11] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=-67.0°, current=-25.9°, player=(1931,2547), corner_timer=0.00
[18:27:11] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:27:11] [INFO] [BloodDecal] Blood puddle created at (1770.834, 3336.873) (added to group)
[18:27:11] [INFO] [BloodDecal] Blood puddle created at (1816.245, 3354.58) (added to group)
[18:27:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=114.1°, player=(1994,2609), corner_timer=-0.02
[18:27:11] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:27:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=117.0°, player=(1997,2613), corner_timer=0.30
[18:27:11] [INFO] [BloodDecal] Blood puddle created at (1788.469, 3336.414) (added to group)
[18:27:11] [INFO] [BloodDecal] Blood puddle created at (1868.428, 3334.334) (added to group)
[18:27:11] [INFO] [BloodDecal] Blood puddle created at (1799.65, 3376.739) (added to group)
[18:27:11] [INFO] [BloodDecal] Blood puddle created at (1851.825, 3392.417) (added to group)
[18:27:11] [INFO] [BloodDecal] Blood puddle created at (1825.536, 3422.396) (added to group)
[18:27:11] [INFO] [BloodDecal] Blood puddle created at (1887.519, 3332.563) (added to group)
[18:27:11] [INFO] [BloodDecal] Blood puddle created at (1843.538, 3384.946) (added to group)
[18:27:11] [INFO] [BloodDecal] Blood puddle created at (1899.112, 3309.982) (added to group)
[18:27:11] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[18:27:12] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:12] [ENEMY] [GuardEnemy1] FLANKING started: target=(2258.571, 2753.955), side=right, pos=(1229.997, 1608.691)
[18:27:12] [ENEMY] [GuardEnemy1] State: PURSUING -> FLANKING
[18:27:12] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-177.5°, current=-177.3°, player=(2178,2940), corner_timer=0.00
[18:27:12] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[18:27:12] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -18.9°
[18:27:12] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[18:27:12] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 4.9°
[18:27:13] [ENEMY] [GuardEnemy2] PURSUING corner check: angle -178.1°
[18:27:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=173.0°, current=173.1°, player=(2289,3053), corner_timer=0.00
[18:27:13] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[18:27:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-133.0°, player=(2324,3088), corner_timer=-0.02
[18:27:13] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:27:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-130.1°, player=(2328,3092), corner_timer=0.30
[18:27:13] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -0.5°
[18:27:13] [ENEMY] [SniperEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=139.9°, current=-33.8°, player=(2363,3127), corner_timer=0.00
[18:27:13] [ENEMY] [SniperEnemy1] State: IDLE -> COMBAT
[18:27:13] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.8°, current=-30.9°, player=(2367,3131), corner_timer=0.00
[18:27:13] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.7°, current=-28.0°, player=(2371,3135), corner_timer=0.00
[18:27:13] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=-22.3°, player=(2379,3143), corner_timer=0.00
[18:27:13] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.5°, current=-19.4°, player=(2382,3147), corner_timer=0.00
[18:27:13] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.4°, current=-16.6°, player=(2385,3151), corner_timer=0.00
[18:27:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(2395,3168), corner_timer=-0.02
[18:27:13] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:27:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(2397,3172), corner_timer=0.30
[18:27:13] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -0.8°
[18:27:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(2367,3244), corner_timer=-0.02
[18:27:13] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:27:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(2363,3246), corner_timer=0.30
[18:27:13] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[18:27:13] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -0.1°
[18:27:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(2263,3254), corner_timer=-0.02
[18:27:14] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:27:14] [INFO] [BloodyFeet:PatrolEnemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:27:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.5°, current=112.4°, player=(2258,3254), corner_timer=0.00
[18:27:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(2258,3254), corner_timer=0.30
[18:27:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=118.1°, player=(2247,3254), corner_timer=0.00
[18:27:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.6°, current=120.9°, player=(2241,3254), corner_timer=0.00
[18:27:14] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 0.4°
[18:27:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.8°, current=132.4°, player=(2219,3255), corner_timer=0.00
[18:27:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.9°, current=135.3°, player=(2214,3255), corner_timer=0.00
[18:27:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=140.0°, current=139.9°, player=(2195,3261), corner_timer=0.00
[18:27:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(2165,3282), corner_timer=-0.02
[18:27:14] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:27:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(2161,3286), corner_timer=0.30
[18:27:14] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -9.8°
[18:27:14] [ENEMY] [PatrolEnemy2] Warning: No valid flank position (both sides behind walls)
[18:27:14] [ENEMY] [PatrolEnemy2] FLANKING started: target=(2176.736, 3109.032), side=left, pos=(3191.725, 2923.603)
[18:27:14] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[18:27:14] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[18:27:14] [ENEMY] [GuardEnemy2] FLANKING started: target=(1948.237, 3247.259), side=left, pos=(1815.206, 1757.102)
[18:27:14] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[18:27:14] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 56.3°
[18:27:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2126.509, 3327.561), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:27:14] [ENEMY] [PatrolEnemy1] Heard gunshot at (2126.509, 3327.561), source_type=0, intensity=0.13, distance=137
[18:27:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=2
[18:27:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.9°, current=139.9°, player=(2126,3321), corner_timer=0.00
[18:27:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=9.2°, current=-90.0°, player=(2126,3321), corner_timer=0.15
[18:27:14] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=79.0°, current=79.0°, player=(2119,3329), corner_timer=0.12
[18:27:14] [ENEMY] [GuardEnemy2] State: FLANKING -> COMBAT
[18:27:14] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=159.9°, current=152.0°, player=(2114,3338), corner_timer=0.22
[18:27:14] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[18:27:14] [ENEMY] [PatrolEnemy1] Hit: dmg=1, hp=3/4->2/4
[18:27:14] [INFO] [ImpactEffects] spawn_blood_effect called at (1996.333, 3300), dir=(-0.929886, -0.367849), lethal=false
[18:27:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:14] [INFO] [ImpactEffects] Blood effect spawned at (1996.333, 3300) (scale=0.5)
[18:27:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=20.4°, current=21.6°, player=(2111,3342), corner_timer=0.15
[18:27:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.8°, current=139.8°, player=(2107,3352), corner_timer=0.00
[18:27:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.8°, current=139.8°, player=(2106,3356), corner_timer=0.00
[18:27:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=139.6°, player=(2104,3374), corner_timer=0.00
[18:27:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.6°, current=139.6°, player=(2104,3378), corner_timer=0.00
[18:27:14] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:27:14] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[18:27:14] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:27:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.4°, current=139.5°, player=(2107,3391), corner_timer=0.00
[18:27:14] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -7.6°
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1996.333, 3300), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[18:27:15] [INFO] [LastChance] Threat detected: Bullet
[18:27:15] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (1929.448, 3302.91) (added to group)
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1996.333, 3300), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[18:27:15] [INFO] [LastChance] Threat detected: @Area2D@690
[18:27:15] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:15] [INFO] [Player] Spawning blood effect at (2137.1868, 3431.8398), dir=(1, 0), lethal=False (C#)
[18:27:15] [INFO] [ImpactEffects] spawn_blood_effect called at (2137.187, 3431.84), dir=(1, 0), lethal=false
[18:27:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:15] [INFO] [ImpactEffects] Blood effect spawned at (2137.187, 3431.84) (scale=1)
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1996.333, 3300), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[18:27:15] [INFO] [LastChance] Threat detected: @Area2D@693
[18:27:15] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2144.965, 3445.618), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=3
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (1958.788, 3288.745) (added to group)
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (1932.863, 3296.194) (added to group)
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (1915.794, 3328.652) (added to group)
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1996.333, 3300), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (1889.974, 3248.265) (added to group)
[18:27:15] [INFO] [LastChance] Threat detected: @Area2D@700
[18:27:15] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:15] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (1858.098, 3317.516) (added to group)
[18:27:15] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (1862.564, 3346.552) (added to group)
[18:27:15] [ENEMY] [GuardEnemy1] FLANKING stuck (2.0s), pos=(1268.398, 1625.934), fail=1
[18:27:15] [ENEMY] [GuardEnemy1] State: FLANKING -> PURSUING
[18:27:15] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:27:15] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (1866.352, 3327.359) (added to group)
[18:27:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2041.4824, 3349.727), shooter_id=134234509422, bullet_pos=(2680.24, 3655.8723)
[18:27:15] [INFO] [Bullet] Using shooter_position, distance=708,3333
[18:27:15] [INFO] [Bullet] Distance to wall: 708,3333 (48,231716% of viewport)
[18:27:15] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -2.8°
[18:27:15] [ENEMY] [PatrolEnemy1] Hit: dmg=1, hp=2/4->1/4
[18:27:15] [INFO] [ImpactEffects] spawn_blood_effect called at (1996.333, 3300), dir=(-0.777573, -0.628792), lethal=false
[18:27:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:15] [INFO] [ImpactEffects] Blood effect spawned at (1996.333, 3300) (scale=0.5)
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1996.333, 3300), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (2200.817, 3457.301) (added to group)
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2196.8, 3493.097), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=3
[18:27:15] [INFO] [LastChance] Threat detected: @Area2D@707
[18:27:15] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (1825.629, 3311.705) (added to group)
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1996.333, 3300), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[18:27:15] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=94.6°, current=156.4°, player=(2201,3489), corner_timer=0.00
[18:27:15] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:27:15] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (2227.551, 3474.705) (added to group)
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (2196.464, 3437.397) (added to group)
[18:27:15] [INFO] [LastChance] Threat detected: @Area2D@716
[18:27:15] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:15] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:27:15] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (1862.631, 3319.579) (added to group)
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1839.992, 2028.273), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1996.333, 3300), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[18:27:15] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> IN_COVER
[18:27:15] [ENEMY] [GuardEnemy5] State: IN_COVER -> PURSUING
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2996.169, 3007.577), source=ENEMY (PatrolEnemy2), range=1200, listeners=10
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[18:27:15] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-22.6°, current=156.6°, player=(2253,3497), corner_timer=0.00
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (1933.832, 3280.564) (added to group)
[18:27:15] [INFO] [LastChance] Threat detected: @Area2D@726
[18:27:15] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1996.333, 3300), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (2277.821, 3495.464) (added to group)
[18:27:15] [ENEMY] [PatrolEnemy1] Hit: dmg=1, hp=1/4->0/4
[18:27:15] [INFO] [ImpactEffects] spawn_blood_effect called at (1996.333, 3300), dir=(-0.738964, -0.673744), lethal=true
[18:27:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:15] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:27:15] [INFO] [ImpactEffects] Blood effect spawned at (1996.333, 3300) (scale=0.75)
[18:27:15] [ENEMY] [PatrolEnemy1] Enemy died (ricochet: false, penetration: false)
[18:27:15] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:27:15] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:27:15] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:27:15] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:27:15] [INFO] [PowerFantasy]   - Duration: 300ms
[18:27:15] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy1 (remaining: 9)
[18:27:15] [INFO] [DeathAnim] Started - Angle: -137.6 deg, Index: 2
[18:27:15] [ENEMY] [PatrolEnemy1] Death animation started with hit direction: (-0.738964, -0.673744)
[18:27:15] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2978.42, 3019.412), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (2217.15, 3476.862) (added to group)
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (2253.278, 3470.155) (added to group)
[18:27:15] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -2.7°
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1850.218, 2064.177), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2279.809, 3506.474), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=3
[18:27:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:15] [INFO] [Player] Spawning blood effect at (2281.787, 3501.0103), dir=(1, 0), lethal=False (C#)
[18:27:15] [INFO] [ImpactEffects] spawn_blood_effect called at (2281.787, 3501.01), dir=(1, 0), lethal=false
[18:27:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:15] [INFO] [ImpactEffects] Blood effect spawned at (2281.787, 3501.01) (scale=1)
[18:27:15] [INFO] [LastChance] Threat detected: @Area2D@734
[18:27:15] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (1948.721, 3300.422) (added to group)
[18:27:15] [INFO] [ReplayManager] Recording frame 780 (12,7s): player_valid=True, enemies=10
[18:27:15] [INFO] [PowerFantasy] Effect duration expired after 306.00 ms
[18:27:15] [INFO] [PowerFantasy] Ending power fantasy effect
[18:27:15] [INFO] [BloodDecal] Blood puddle created at (2239.229, 3520.514) (added to group)
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2961.322, 3031.258), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1951.012, 3266.49) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1924.539, 3270.645) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1933.7, 3278.653) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1933.444, 3265.213) (added to group)
[18:27:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:16] [INFO] [Player] Spawning blood effect at (2302.0264, 3510.5723), dir=(1, 0), lethal=False (C#)
[18:27:16] [INFO] [ImpactEffects] spawn_blood_effect called at (2302.026, 3510.572), dir=(1, 0), lethal=false
[18:27:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:16] [INFO] [ImpactEffects] Blood effect spawned at (2302.026, 3510.572) (scale=1)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2307.887, 3458.279) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2306.339, 3558.908) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1958.686, 3271.122) (added to group)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2040.7635, 3351.6807), shooter_id=134234509422, bullet_pos=(2658.5972, 3904.6724)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=829,1672
[18:27:16] [INFO] [Bullet] Distance to wall: 829,1672 (56,459522% of viewport)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2040.3245, 3351.8596), shooter_id=134234509422, bullet_pos=(3046.8022, 4458.4404)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=1495,8337
[18:27:16] [INFO] [Bullet] Distance to wall: 1495,8337 (101,85407% of viewport)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2040.3245, 3351.8596), shooter_id=134234509422, bullet_pos=(3043.5828, 4462.266)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=1496,5059
[18:27:16] [INFO] [Bullet] Distance to wall: 1496,5059 (101,89984% of viewport)
[18:27:16] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1861.026, 2099.354), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2944.033, 3043.755), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2040.1282, 3352.3425), shooter_id=134234509422, bullet_pos=(2950.353, 3932.075)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=1079,1659
[18:27:16] [INFO] [Bullet] Distance to wall: 1079,1659 (73,48239% of viewport)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2040.1282, 3352.3425), shooter_id=134234509422, bullet_pos=(2945.931, 3934.4084)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=1076,6984
[18:27:16] [INFO] [Bullet] Distance to wall: 1076,6984 (73,31438% of viewport)
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2927.074, 3056.696), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2287.094, 3541.37) (added to group)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2040.1616, 3352.0203), shooter_id=134234509422, bullet_pos=(3064.0603, 4661.805)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=1662,4996
[18:27:16] [INFO] [Bullet] Distance to wall: 1662,4996 (113,20265% of viewport)
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1863.619, 2073.35), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2910.49, 3070.114), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1895.849, 3309.433) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1945.446, 3293.375) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1906.704, 3280.789) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1938.695, 3254.708) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2365.804, 3534.71) (added to group)
[18:27:16] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -2.7°
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2894.308, 3084.015), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1929.493, 3285.353) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1879.614, 3288.305) (added to group)
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1866.212, 2047.346), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1891.197, 3299.393) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1910.133, 3247.113) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1961.197, 3258.488) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1945.181, 3237.194) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2364.738, 3537.573) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2402.116, 3514.407) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2383.494, 3523.925) (added to group)
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2878.558, 3098.403), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1887.846, 3220.606) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1873.892, 3307.191) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2355.925, 3537.581) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2396.469, 3501.779) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2360.904, 3560.426) (added to group)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2944.037, 3051.273), shooter_id=134586830979, bullet_pos=(1852.284, 3651.417)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=1245.83190917969
[18:27:16] [INFO] [Bullet] Distance to wall: 1245.83190917969 (84.830985578921% of viewport)
[18:27:16] [INFO] [Bullet] Distance-based penetration chance: 47.6971834912588%
[18:27:16] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2944.037, 3051.273), shooter_id=134586830979, bullet_pos=(1852.284, 3651.417)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=1245.83190917969
[18:27:16] [INFO] [Bullet] Distance to wall: 1245.83190917969 (84.830985578921% of viewport)
[18:27:16] [INFO] [Bullet] Distance-based penetration chance: 47.6971834912588%
[18:27:16] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2040.3245, 3351.8596), shooter_id=134234509422, bullet_pos=(2733.283, 3940.4768)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=909,20935
[18:27:16] [INFO] [Bullet] Distance to wall: 909,20935 (61,90974% of viewport)
[18:27:16] [ENEMY] [PatrolEnemy1] Ragdoll activated
[18:27:16] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1922.986, 3277.502) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1933.116, 3204.436) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2392.42, 3546.574) (added to group)
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2863.269, 3113.28), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1868.805, 2021.342), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1874.0262, 2166.1814), shooter_id=133177544751, bullet_pos=(2258.394, 2952.2407)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=875,00165
[18:27:16] [INFO] [Bullet] Distance to wall: 875,00165 (59,580475% of viewport)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1874.0262, 2166.1814), shooter_id=133177544751, bullet_pos=(2256.3904, 2956.8218)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=878,2451
[18:27:16] [INFO] [Bullet] Distance to wall: 878,2451 (59,801327% of viewport)
[18:27:16] [INFO] [Bullet] Distance-based penetration chance: 76,89845%
[18:27:16] [INFO] [Bullet] Starting wall penetration at (2256.3904, 2956.8218)
[18:27:16] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:27:16] [INFO] [Bullet] Exiting penetration at (2240.1936, 2993.851) after traveling 35,41667 pixels through wall
[18:27:16] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1886.153, 3283.187) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2366.564, 3581.759) (added to group)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2040.1616, 3352.0203), shooter_id=134234509422, bullet_pos=(2628.1907, 5084.3755)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=1829,435
[18:27:16] [INFO] [Bullet] Distance to wall: 1829,435 (124,56961% of viewport)
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2848.472, 3128.646), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1939.164, 3218.605) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1935.679, 3276.549) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1890.368, 3250.184) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1883.29, 3323.753) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2425.44, 3582.477) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2360.752, 3548.788) (added to group)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2878.947, 3104.726), shooter_id=134586830979, bullet_pos=(2136.484, 3710.654)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=958.332458496094
[18:27:16] [INFO] [Bullet] Distance to wall: 958.332458496094 (65.2546193170018% of viewport)
[18:27:16] [INFO] [Bullet] Distance-based penetration chance: 70.5362774634979%
[18:27:16] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1874.814, 1996.271), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2834.199, 3144.5), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1915.144, 3188.774) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1854.54, 3247.654) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2414.545, 3577.127) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2410.119, 3532.401) (added to group)
[18:27:16] [INFO] [LastChance] Threat detected: @Area2D@813
[18:27:16] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1865.886, 3317.369) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2487.822, 3565.517) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2417.563, 3597.174) (added to group)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2040.3245, 3351.8596), shooter_id=134234509422, bullet_pos=(2924.6, 3662.2588)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=937,1718
[18:27:16] [INFO] [Bullet] Distance to wall: 937,1718 (63,81375% of viewport)
[18:27:16] [INFO] [Bullet] Distance-based penetration chance: 72,21729%
[18:27:16] [INFO] [Bullet] Starting wall penetration at (2924.6, 3662.2588)
[18:27:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:16] [INFO] [Player] Spawning blood effect at (2434.919, 3641.2065), dir=(1, 0), lethal=False (C#)
[18:27:16] [INFO] [ImpactEffects] spawn_blood_effect called at (2434.919, 3641.207), dir=(1, 0), lethal=false
[18:27:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:16] [INFO] [ImpactEffects] Blood effect spawned at (2434.919, 3641.207) (scale=1)
[18:27:16] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 4.0°
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2820.483, 3160.838), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[18:27:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,710978
[18:27:16] [INFO] [Bullet] Body exited signal received for penetrating body
[18:27:16] [INFO] [Bullet] Exiting penetration at (2941.932, 3637.0544) after traveling 25,588543 pixels through wall
[18:27:16] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[18:27:16] [INFO] [LastChance] Threat detected: @Area2D@841
[18:27:16] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (1910.926, 3227.509) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2488.144, 3597.458) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2402.51, 3548.581) (added to group)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2926.972, 3063.901), shooter_id=134586830979, bullet_pos=(1335.19, 3780.959)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=1745.83569335938
[18:27:16] [INFO] [Bullet] Distance to wall: 1745.83569335938 (118.877162669602% of viewport)
[18:27:16] [INFO] [Bullet] Distance-based penetration chance: 26.2245674660796%
[18:27:16] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:16] [INFO] [Player] Spawning blood effect at (2450.4756, 3656.7632), dir=(1, 0), lethal=False (C#)
[18:27:16] [INFO] [ImpactEffects] spawn_blood_effect called at (2450.476, 3656.763), dir=(1, 0), lethal=false
[18:27:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:16] [INFO] [ImpactEffects] Blood effect spawned at (2450.476, 3656.763) (scale=1)
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2807.355, 3177.652), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2462.33, 3595.461) (added to group)
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2473.992, 3523.133) (added to group)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2910.741, 3076.716), shooter_id=134586830979, bullet_pos=(1303.06, 3654.439)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=1708.33312988281
[18:27:16] [INFO] [Bullet] Distance to wall: 1708.33312988281 (116.32354416135% of viewport)
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1888.459, 1990.5), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2794.848, 3194.934), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2541.351, 3581.89) (added to group)
[18:27:16] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-9.7°, current=5.1°, player=(2468,3676), corner_timer=0.00
[18:27:16] [ENEMY] [GuardEnemy5] State: PURSUING -> COMBAT
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2782.949, 3212.639), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-8.8°, current=-136.1°, player=(2475,3690), corner_timer=0.00
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2279.809, 3506.474), shooter_id=135694127301, bullet_pos=(1599.812, 2895.735)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=914.001892089844
[18:27:16] [INFO] [Bullet] Distance to wall: 914.001892089844 (62.2360695336766% of viewport)
[18:27:16] [INFO] [Bullet] Distance-based penetration chance: 74.0579188773774%
[18:27:16] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1914.559, 1989.181), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[18:27:16] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-8.6°, current=-126.9°, player=(2479,3705), corner_timer=0.00
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2771.584, 3230.691), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [ENEMY] [GuardEnemy5] State: RETREATING -> IN_COVER
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2504.029, 3671.542) (added to group)
[18:27:16] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:27:16] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 4.0°
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2760.659, 3249.014), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:16] [INFO] [BloodDecal] Blood puddle created at (2533.017, 3636.328) (added to group)
[18:27:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1876.937, 2140.088), shooter_id=133177544751, bullet_pos=(2655.8567, 3845.6384)
[18:27:16] [INFO] [Bullet] Using shooter_position, distance=1874,9983
[18:27:16] [INFO] [Bullet] Distance to wall: 1874,9983 (127,67209% of viewport)
[18:27:16] [INFO] [ReplayManager] Recording frame 840 (13,7s): player_valid=True, enemies=10
[18:27:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1940.66, 1987.863), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:27:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2504.767, 3638.646) (added to group)
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2506.672, 3699.955) (added to group)
[18:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2750.105, 3267.554), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2564.718, 3662.329) (added to group)
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2762.908, 3254.944), shooter_id=134586830979, bullet_pos=(2131.845, 3732.959)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=791.668884277344
[18:27:17] [INFO] [Bullet] Distance to wall: 791.668884277344 (53.9061900811577% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 83.7761115719827%
[18:27:17] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2894.578, 3090.423), shooter_id=134586830979, bullet_pos=(891.9589, 4516.229)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=2458.33374023438
[18:27:17] [INFO] [Bullet] Distance to wall: 2458.33374023438 (167.392464849701% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 16.5215070300597%
[18:27:17] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2894.578, 3090.423), shooter_id=134586830979, bullet_pos=(891.9589, 4516.229)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=2458.33374023438
[18:27:17] [INFO] [Bullet] Distance to wall: 2458.33374023438 (167.392464849701% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 16.5215070300597%
[18:27:17] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1966.76, 1986.544), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2739.912, 3286.294), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1850.3226, 2095.56), shooter_id=133177544751, bullet_pos=(2670.8743, 5063.3857)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=3079,171
[18:27:17] [INFO] [Bullet] Distance to wall: 3079,171 (209,66641% of viewport)
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2514.709, 3702.555) (added to group)
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1879.8258, 2114.024), shooter_id=133177544751, bullet_pos=(2661.4646, 3909.6052)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=1958,3339
[18:27:17] [INFO] [Bullet] Distance to wall: 1958,3339 (133,34656% of viewport)
[18:27:17] [INFO] [LastChance] Threat detected: @Area2D@843
[18:27:17] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2732.49, 3300.469), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:17] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2603.265, 3721.441) (added to group)
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2555.142, 3690.159) (added to group)
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2849.111, 3134.806), shooter_id=134586830979, bullet_pos=(1887.099, 5076.199)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=2166.6728515625
[18:27:17] [INFO] [Bullet] Distance to wall: 2166.6728515625 (147.53273862295% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 20.4934522754099%
[18:27:17] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1862.1033, 2131.2034), shooter_id=133177544751, bullet_pos=(2740.3525, 5078.123)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=3075,0054
[18:27:17] [INFO] [Bullet] Distance to wall: 3075,0054 (209,38277% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 8,123447%
[18:27:17] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:17] [INFO] [LastChance] Threat detected: @Area2D@925
[18:27:17] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2596.37, 3767.084) (added to group)
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1928.2988, 2055.8115), shooter_id=133177544751, bullet_pos=(2253.2358, 2868.2388)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=874,9983
[18:27:17] [INFO] [Bullet] Distance to wall: 874,9983 (59,580242% of viewport)
[18:27:17] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-178.1°, current=74.9°, player=(2492,3811), corner_timer=0.12
[18:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2732.49, 3300.469), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2715.253, 3349.676), shooter_id=134586830979, bullet_pos=(2649.292, 3676.418)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=333.333618164063
[18:27:17] [INFO] [Bullet] Distance to wall: 333.333618164063 (22.6972990072666% of viewport)
[18:27:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:17] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:17] [ENEMY] [GuardEnemy2] State: RETREATING -> IN_COVER
[18:27:17] [ENEMY] [GuardEnemy5] Hit: dmg=1, hp=4/4->3/4
[18:27:17] [INFO] [ImpactEffects] spawn_blood_effect called at (1396.746, 3869.592), dir=(-0.910648, 0.413182), lethal=false
[18:27:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:17] [INFO] [ImpactEffects] Wall found for blood splatter at (1350, 3890.802) (dist=51 px)
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (1351, 3890.802) (added to group)
[18:27:17] [INFO] [ImpactEffects] Blood effect spawned at (1396.746, 3869.592) (scale=0.5)
[18:27:17] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2534.283, 3758.92) (added to group)
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2538.294, 3738.104) (added to group)
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2554.709, 3668.207) (added to group)
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2602.347, 3722.666) (added to group)
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2596.291, 3730.32) (added to group)
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2733.554, 3311.39), shooter_id=134586830979, bullet_pos=(2067.071, 3655.336)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=749.999694824219
[18:27:17] [INFO] [Bullet] Distance to wall: 749.999694824219 (51.0688583484114% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 87.0863319268533%
[18:27:17] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2752.933, 3273.645), shooter_id=134586830979, bullet_pos=(1855.703, 3952.323)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=1124.99975585938
[18:27:17] [INFO] [Bullet] Distance to wall: 1124.99975585938 (76.6033020686032% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 57.2961475866296%
[18:27:17] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2752.933, 3273.645), shooter_id=134586830979, bullet_pos=(1855.703, 3952.323)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=1124.99975585938
[18:27:17] [INFO] [Bullet] Distance to wall: 1124.99975585938 (76.6033020686032% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 57.2961475866296%
[18:27:17] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:17] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 4.0°
[18:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2732.49, 3300.469), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2555.546, 3764.301) (added to group)
[18:27:17] [INFO] [Player.Debug] Debug mode toggled: ON
[18:27:17] [INFO] [GameManager] Debug mode toggled: ON
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2648.899, 3815.262) (added to group)
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2567.434, 3749.205) (added to group)
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (2542.679, 3719.607) (added to group)
[18:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2732.49, 3300.469), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2710.902, 3364.95), shooter_id=134586830979, bullet_pos=(2847.892, 3668.833)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=333.333312988281
[18:27:17] [INFO] [Bullet] Distance to wall: 333.333312988281 (22.6972782272865% of viewport)
[18:27:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:17] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2732.49, 3300.469), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:17] [ENEMY] [PatrolEnemy1] Death animation completed
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2712.637, 3365.501), shooter_id=134586830979, bullet_pos=(2859.465, 3664.755)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=333.333770751953
[18:27:17] [INFO] [Bullet] Distance to wall: 333.333770751953 (22.6973093972566% of viewport)
[18:27:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:17] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2863.782, 3119.522), shooter_id=134586830979, bullet_pos=(50.9028, 4480.898)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=3125.00170898438
[18:27:17] [INFO] [Bullet] Distance to wall: 3125.00170898438 (212.787112736187% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 7.44257745276264%
[18:27:17] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2732.49, 3300.469), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2732.49, 3300.469), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:17] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 4.0°
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2796.009, 3200.74), shooter_id=134586830979, bullet_pos=(59.6997, 3474.811)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=2750.00048828125
[18:27:17] [INFO] [Bullet] Distance to wall: 2750.00048828125 (187.252590052071% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 12.5494819895859%
[18:27:17] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:17] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=101.9°, current=101.9°, player=(2619,3836), corner_timer=0.22
[18:27:17] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1882.6936, 2087.9622), shooter_id=133177544751, bullet_pos=(2893.57, 5088.9478)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=3166,668
[18:27:17] [INFO] [Bullet] Distance to wall: 3166,668 (215,62427% of viewport)
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2743.184, 3292.479), shooter_id=134586830979, bullet_pos=(1571.743, 5065.426)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=2124.99780273438
[18:27:17] [INFO] [Bullet] Distance to wall: 2124.99780273438 (144.695007914586% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 21.0609984170828%
[18:27:17] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:17] [INFO] [BloodDecal] Blood puddle created at (1288.477, 4061.277) (added to group)
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2773.271, 3236.468), shooter_id=134586830979, bullet_pos=(33.73447, 2996.799)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=2750
[18:27:17] [INFO] [Bullet] Distance to wall: 2750 (187.252556804102% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 12.5494886391795%
[18:27:17] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1888.8439, 2062.8582), shooter_id=133177544751, bullet_pos=(2626.7385, 5099.4917)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=3125,0012
[18:27:17] [INFO] [Bullet] Distance to wall: 3125,0012 (212,78708% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 7,4425845%
[18:27:17] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2724.225, 3330.448), shooter_id=134586830979, bullet_pos=(1769.439, 5087.834)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=2000.00463867188
[18:27:17] [INFO] [Bullet] Distance to wall: 2000.00463867188 (136.183993531409% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 22.7632012937183%
[18:27:17] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:17] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2721.62, 3367.569), shooter_id=134586830979, bullet_pos=(1939.482, 3655.157)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=833.3349609375
[18:27:17] [INFO] [Bullet] Distance to wall: 833.3349609375 (56.7433098581068% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 80.4661384988754%
[18:27:17] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2716.7, 3366.592), shooter_id=134586830979, bullet_pos=(3051.771, 4484.104)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=1166.66394042969
[18:27:17] [INFO] [Bullet] Distance to wall: 1166.66394042969 (79.4402930096756% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 53.9863248220451%
[18:27:17] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:17] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 4.0°
[18:27:17] [INFO] [ReplayManager] Recording frame 900 (14,7s): player_valid=True, enemies=10
[18:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2709.305, 3364.397), shooter_id=134586830979, bullet_pos=(1591.424, 5072.836)
[18:27:17] [INFO] [Bullet] Using shooter_position, distance=2041.671875
[18:27:17] [INFO] [Bullet] Distance to wall: 2041.671875 (139.021192272282% of viewport)
[18:27:17] [INFO] [Bullet] Distance-based penetration chance: 22.1957615455436%
[18:27:17] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1902.9474, 2057.025), shooter_id=133177544751, bullet_pos=(2686.5823, 5082.1836)
[18:27:18] [INFO] [Bullet] Using shooter_position, distance=3125,007
[18:27:18] [INFO] [Bullet] Distance to wall: 3125,007 (212,78749% of viewport)
[18:27:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2714.554, 3366.05), shooter_id=134586830979, bullet_pos=(1761.117, 5076.616)
[18:27:18] [INFO] [Bullet] Using shooter_position, distance=1958.33544921875
[18:27:18] [INFO] [Bullet] Distance to wall: 1958.33544921875 (133.346661798662% of viewport)
[18:27:18] [INFO] [Bullet] Distance-based penetration chance: 23.3306676402675%
[18:27:18] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:18] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=101.9°, current=101.8°, player=(2633,3769), corner_timer=0.22
[18:27:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1953.1428, 2054.734), shooter_id=133177544751, bullet_pos=(2900.6936, 5076.315)
[18:27:18] [INFO] [Bullet] Using shooter_position, distance=3166,671
[18:27:18] [INFO] [Bullet] Distance to wall: 3166,671 (215,62445% of viewport)
[18:27:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2719.107, 3367.115), shooter_id=134586830979, bullet_pos=(1791.167, 5091.639)
[18:27:18] [INFO] [Bullet] Using shooter_position, distance=1958.32958984375
[18:27:18] [INFO] [Bullet] Distance to wall: 1958.32958984375 (133.346262823044% of viewport)
[18:27:18] [INFO] [Bullet] Distance-based penetration chance: 23.3307474353912%
[18:27:18] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:18] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -2.7°
[18:27:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1977.9358, 2053.6484), shooter_id=133177544751, bullet_pos=(2794.7686, 5070.006)
[18:27:18] [INFO] [Bullet] Using shooter_position, distance=3125,0005
[18:27:18] [INFO] [Bullet] Distance to wall: 3125,0005 (212,78703% of viewport)
[18:27:18] [INFO] [Bullet] Distance-based penetration chance: 7,442595%
[18:27:18] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:18] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[18:27:18] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P1:visible, state=SUPPRESSED, target=-8.4°, current=-24.4°, player=(2633,3686), corner_timer=0.00
[18:27:18] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -2.7°
[18:27:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1396.746, 3869.592), source=ENEMY (GuardEnemy5), range=1469, listeners=9
[18:27:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1396.746, 3869.592), source=ENEMY (GuardEnemy5), range=1469, listeners=9
[18:27:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1465.3899, 3866.4016), shooter_id=134939152536, bullet_pos=(1859.8223, 3732.1096)
[18:27:18] [INFO] [Bullet] Using shooter_position, distance=416,6668
[18:27:18] [INFO] [Bullet] Distance to wall: 416,6668 (28,37161% of viewport)
[18:27:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:18] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -2.7°
[18:27:18] [INFO] [ReplayManager] Recording frame 960 (15,7s): player_valid=True, enemies=10
[18:27:19] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -2.7°
[18:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2708.099, 3387.77), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:19] [INFO] [LastChance] Threat detected: Bullet9mm
[18:27:19] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:19] [INFO] [Player] Spawning blood effect at (2633.935, 3508.5186), dir=(1, 0), lethal=False (C#)
[18:27:19] [INFO] [ImpactEffects] spawn_blood_effect called at (2633.935, 3508.519), dir=(1, 0), lethal=false
[18:27:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:19] [INFO] [ImpactEffects] Blood effect spawned at (2633.935, 3508.519) (scale=1)
[18:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2708.099, 3387.77), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:19] [INFO] [LastChance] Threat detected: Bullet9mm
[18:27:19] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:19] [INFO] [Player] Spawning blood effect at (2633.935, 3508.5186), dir=(1, 0), lethal=False (C#)
[18:27:19] [INFO] [ImpactEffects] spawn_blood_effect called at (2633.935, 3508.519), dir=(1, 0), lethal=false
[18:27:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:19] [INFO] [ImpactEffects] Blood effect spawned at (2633.935, 3508.519) (scale=1)
[18:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2708.099, 3387.77), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:19] [INFO] [LastChance] Threat detected: Bullet9mm
[18:27:19] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:19] [INFO] [Player] Spawning blood effect at (2633.935, 3508.5186), dir=(1, 0), lethal=False (C#)
[18:27:19] [INFO] [ImpactEffects] spawn_blood_effect called at (2633.935, 3508.519), dir=(1, 0), lethal=false
[18:27:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:19] [INFO] [ImpactEffects] Blood effect spawned at (2633.935, 3508.519) (scale=1)
[18:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2708.099, 3387.77), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:19] [ENEMY] [GuardEnemy1] GLOBAL STUCK: pos=(1274.228, 1625.934) for 4.0s without player contact, State: PURSUING -> SEARCHING
[18:27:19] [ENEMY] [GuardEnemy1] SEARCHING started: center=(1274.228, 1625.934), radius=100, waypoints=5
[18:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2708.099, 3387.77), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2633.602, 3514.519), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:27:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=2
[18:27:19] [INFO] [LastChance] Threat detected: @Area2D@1016
[18:27:19] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:19] [INFO] [Player] Spawning blood effect at (2631.935, 3508.5186), dir=(1, 0), lethal=False (C#)
[18:27:19] [INFO] [ImpactEffects] spawn_blood_effect called at (2631.935, 3508.519), dir=(1, 0), lethal=false
[18:27:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:19] [INFO] [ImpactEffects] Blood effect spawned at (2631.935, 3508.519) (scale=1)
[18:27:19] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> IN_COVER
[18:27:19] [ENEMY] [GuardEnemy2] State: IN_COVER -> PURSUING
[18:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2708.099, 3387.77), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2692.777, 3495.206) (added to group)
[18:27:19] [INFO] [LastChance] Threat detected: @Area2D@1022
[18:27:19] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:19] [ENEMY] [GuardEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=67.7°, current=-178.1°, player=(2628,3508), corner_timer=0.12
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2729.896, 3563.775) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2704.062, 3532.118) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2682.485, 3518.773) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2677.81, 3528.219) (added to group)
[18:27:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:19] [INFO] [Player] Spawning blood effect at (2624.6018, 3508.5186), dir=(1, 0), lethal=False (C#)
[18:27:19] [INFO] [ImpactEffects] spawn_blood_effect called at (2624.602, 3508.519), dir=(1, 0), lethal=false
[18:27:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:19] [INFO] [ImpactEffects] Blood effect spawned at (2624.602, 3508.519) (scale=1)
[18:27:19] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=4/4->3/4
[18:27:19] [INFO] [ImpactEffects] spawn_blood_effect called at (2708.099, 3387.77), dir=(0.632997, -0.774154), lethal=false
[18:27:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:19] [INFO] [ImpactEffects] Blood effect spawned at (2708.099, 3387.77) (scale=0.5)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2712.227, 3549.228) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2673.058, 3532.078) (added to group)
[18:27:19] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2711.603, 3567.84) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2691.6, 3542.517) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2713.354, 3523.86) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2718.852, 3529.99) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2729.148, 3571.339) (added to group)
[18:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2588.602, 3514.519), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:27:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=2
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2731.379, 3566.605) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2714.349, 3562.212) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2762.533, 3559.927) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2684.562, 3544.019) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2753.755, 3611.627) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2779.991, 3502.237) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2720.276, 3566.045) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2691.542, 3526.577) (added to group)
[18:27:19] [INFO] [ReplayManager] Recording frame 1020 (16,7s): player_valid=True, enemies=10
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2751.511, 3595.123) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2747.994, 3616.519) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2721.528, 3538.353) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2715.383, 3499.923) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2713.407, 3546.166) (added to group)
[18:27:19] [INFO] [BloodDecal] Blood puddle created at (2730.549, 3359.723) (added to group)
[18:27:20] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2793.761, 3633.854) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2752.72, 3600.489) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2755.226, 3534.327) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2715.109, 3536.657) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2736.922, 3518.587) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2801.008, 3365.185) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2823.072, 3675.396) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2748.229, 3586.928) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2736.969, 3624.494) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2819.871, 3637.815) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2714.658, 3585.54) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2688.846, 3512.022) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2707.923, 3541.314) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2807.65, 3637.767) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2769.138, 3569.701) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2719.529, 3557.66) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2728.959, 3578.383) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2744.662, 3351.682) (added to group)
[18:27:20] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2772.433, 3550.899) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2770.94, 3576.567) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2738.11, 3599.844) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2747.709, 3375.855) (added to group)
[18:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2679.366, 3449.455), shooter_id=134586830979, bullet_pos=(2294.727, 5071.13)
[18:27:20] [INFO] [Bullet] Using shooter_position, distance=1666.66711425781
[18:27:20] [INFO] [Bullet] Distance to wall: 1666.66711425781 (113.486428540397% of viewport)
[18:27:20] [INFO] [Bullet] Distance-based penetration chance: 27.3027142919207%
[18:27:20] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2469.515, 3519.138), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:27:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=2
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2762.375, 3538.144) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2712.244, 3610.517) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2816.805, 3338.978) (added to group)
[18:27:20] [INFO] [BloodyFeet:PatrolEnemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2787.846, 3564.113) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2801.671, 3320.454) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2779.502, 3411.762) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2815.333, 3386.158) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2756.893, 3365.927) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2778.031, 3653.241) (added to group)
[18:27:20] [INFO] [BloodDecal] Blood puddle created at (2774.6, 3369.411) (added to group)
[18:27:20] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=75.3°, current=75.1°, player=(2416,3556), corner_timer=0.12
[18:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2411.018, 3570.928), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:27:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=2
[18:27:20] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2588.602, 3514.519), shooter_id=135694127301, bullet_pos=(3052.626, 2924.446)
[18:27:20] [INFO] [Bullet] Using shooter_position, distance=750.668884277344
[18:27:20] [INFO] [Bullet] Distance to wall: 750.668884277344 (51.1144246888056% of viewport)
[18:27:20] [INFO] [Bullet] Distance-based penetration chance: 87.0331711963934%
[18:27:20] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1464.7958, 3865.339), shooter_id=134939152536, bullet_pos=(6098.217, 2819.4392)
[18:27:20] [INFO] [Bullet] Using shooter_position, distance=4749,9995
[18:27:20] [INFO] [Bullet] Distance to wall: 4749,9995 (323,43622% of viewport)
[18:27:20] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:27:20] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:20] [ENEMY] [GuardEnemy1] SEARCHING corner check: angle 168.5°
[18:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2400.846, 3649.215), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:27:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=2
[18:27:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=56.3°, current=-23.3°, player=(2400,3648), corner_timer=0.22
[18:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1396.746, 3869.592), source=ENEMY (GuardEnemy5), range=1469, listeners=9
[18:27:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:20] [ENEMY] [SniperEnemy1] Player ammo empty: false -> true
[18:27:20] [ENEMY] [SniperEnemy2] Player ammo empty: false -> true
[18:27:20] [ENEMY] [GuardEnemy1] Player ammo empty: false -> true
[18:27:20] [ENEMY] [GuardEnemy2] Player ammo empty: false -> true
[18:27:20] [ENEMY] [GuardEnemy3] Player ammo empty: false -> true
[18:27:20] [ENEMY] [GuardEnemy4] Player ammo empty: false -> true
[18:27:20] [ENEMY] [PatrolEnemy2] Player ammo empty: false -> true
[18:27:20] [ENEMY] [GuardEnemy5] Player ammo empty: false -> true
[18:27:20] [ENEMY] [GuardEnemy6] Player ammo empty: false -> true
[18:27:20] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2411.933, 3710.123), source=PLAYER (Player), range=600, listeners=9
[18:27:20] [ENEMY] [PatrolEnemy2] Heard player EMPTY_CLICK at (2411.933, 3710.123), intensity=0.02, distance=374
[18:27:20] [ENEMY] [PatrolEnemy2] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:27:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[18:27:20] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=4596), can_see=false
[18:27:20] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3338), can_see=false
[18:27:20] [ENEMY] [GuardEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2443), can_see=false
[18:27:20] [ENEMY] [GuardEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1630), can_see=true
[18:27:20] [ENEMY] [GuardEnemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=1630)
[18:27:20] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:27:20] [ENEMY] [GuardEnemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1844), can_see=false
[18:27:20] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2773), can_see=false
[18:27:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=166.9°, current=77.1°, player=(2411,3710), corner_timer=0.22
[18:27:20] [ENEMY] [PatrolEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=374), can_see=false
[18:27:20] [ENEMY] [PatrolEnemy2] Pursuing vulnerability sound at (2411.933, 3710.123), distance=374
[18:27:20] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1028), can_see=true
[18:27:20] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) - pursuing to attack (dist=1028)
[18:27:20] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> RETREATING
[18:27:20] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1103), can_see=false
[18:27:20] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[18:27:20] [INFO] [ReplayManager] Recording frame 1080 (17,7s): player_valid=True, enemies=10
[18:27:21] [ENEMY] [GuardEnemy5] State: RETREATING -> IN_COVER
[18:27:21] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:27:21] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2439.064, 3737.031), source=PLAYER (Player), range=600, listeners=9
[18:27:21] [ENEMY] [PatrolEnemy2] Heard player EMPTY_CLICK at (2439.064, 3737.031), intensity=0.02, distance=317
[18:27:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[18:27:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2469.515, 3519.138), shooter_id=135694127301, bullet_pos=(3162.483, 2943.815)
[18:27:21] [INFO] [Bullet] Using shooter_position, distance=900.6669921875
[18:27:21] [INFO] [Bullet] Distance to wall: 900.6669921875 (61.3280716786072% of viewport)
[18:27:21] [INFO] [Bullet] Distance-based penetration chance: 75.1172497082916%
[18:27:21] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:21] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=75.4°, current=75.5°, player=(2465,3750), corner_timer=0.12
[18:27:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=152.0°, current=158.8°, player=(2465,3750), corner_timer=0.22
[18:27:21] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[18:27:21] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[18:27:21] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=61.7°, current=63.1°, player=(2481,3748), corner_timer=0.15
[18:27:21] [ENEMY] [GuardEnemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=2572)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2281.701, 3743.004), side=left, pos=(1260.809, 1485.087)
[18:27:21] [ENEMY] [GuardEnemy1] State: SEARCHING -> FLANKING
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2587.772, 3576.779), side=right, pos=(1260.296, 1482.572)
[18:27:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1464.5751, 3865.8523), shooter_id=134939152536, bullet_pos=(2658.087, 3677.1824)
[18:27:21] [INFO] [Bullet] Using shooter_position, distance=1208,3323
[18:27:21] [INFO] [Bullet] Distance to wall: 1208,3323 (82,277565% of viewport)
[18:27:21] [INFO] [Bullet] Distance-based penetration chance: 50,676178%
[18:27:21] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2588.836, 3574.665), side=right, pos=(1259.784, 1480.057)
[18:27:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=56.3°, current=110.4°, player=(2484,3744), corner_timer=0.22
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2285.131, 3737.105), side=left, pos=(1259.271, 1477.542)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2590.636, 3569.483), side=right, pos=(1258.758, 1475.026)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2286.89, 3731.614), side=left, pos=(1258.246, 1472.511)
[18:27:21] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=4561), can_see=false
[18:27:21] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3259), can_see=false
[18:27:21] [ENEMY] [GuardEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2576), can_see=true
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2287.611, 3728.4), side=left, pos=(1257.733, 1469.996)
[18:27:21] [ENEMY] [GuardEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1671), can_see=false
[18:27:21] [ENEMY] [GuardEnemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1815), can_see=false
[18:27:21] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2721), can_see=false
[18:27:21] [ENEMY] [PatrolEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=247), can_see=false
[18:27:21] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1099), can_see=false
[18:27:21] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1025), can_see=false
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2288.227, 3724.875), side=left, pos=(1257.221, 1467.481)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2592.923, 3555.295), side=right, pos=(1256.708, 1464.966)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.142, 3716.89), side=left, pos=(1256.196, 1462.451)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2593.411, 3546.29), side=right, pos=(1255.683, 1459.936)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2593.49, 3541.309), side=right, pos=(1255.17, 1457.421)
[18:27:21] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> RETREATING
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.724, 3702.577), side=left, pos=(1254.658, 1454.906)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.72, 3697.224), side=left, pos=(1254.145, 1452.391)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2593.208, 3524.858), side=right, pos=(1253.633, 1449.876)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2593.082, 3519.281), side=right, pos=(1253.12, 1447.361)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2592.956, 3513.705), side=right, pos=(1252.608, 1444.846)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.709, 3675.814), side=left, pos=(1252.095, 1442.331)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.706, 3670.462), side=left, pos=(1251.582, 1439.816)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.704, 3665.111), side=left, pos=(1251.07, 1437.301)
[18:27:21] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:27:21] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:27:21] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:27:21] [ENEMY] [GuardEnemy1] Player reloading: false -> true
[18:27:21] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[18:27:21] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[18:27:21] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:27:21] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[18:27:21] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:27:21] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:27:21] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2489.675, 3662.975), source=PLAYER (Player), range=900, listeners=9
[18:27:21] [ENEMY] [PatrolEnemy2] Heard player RELOAD at (2489.675, 3662.975), intensity=0.03, distance=281
[18:27:21] [ENEMY] [PatrolEnemy2] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:27:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.701, 3659.76), side=left, pos=(1250.557, 1434.786)
[18:27:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=170.2°, current=38.7°, player=(2489,3662), corner_timer=0.22
[18:27:21] [ENEMY] [GuardEnemy5] State: RETREATING -> IN_COVER
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.699, 3654.408), side=left, pos=(1250.045, 1432.271)
[18:27:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=170.9°, current=-141.8°, player=(2489,3657), corner_timer=0.22
[18:27:21] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2592.191, 3480.246), side=right, pos=(1249.532, 1429.756)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.694, 3643.708), side=left, pos=(1249.02, 1427.241)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2591.933, 3469.093), side=right, pos=(1248.507, 1424.726)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.69, 3633.008), side=left, pos=(1247.994, 1422.211)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2591.675, 3457.939), side=right, pos=(1247.482, 1419.696)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2591.545, 3452.363), side=right, pos=(1246.969, 1417.181)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.686, 3616.96), side=left, pos=(1246.457, 1414.666)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2591.285, 3441.209), side=right, pos=(1245.944, 1412.151)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.683, 3606.263), side=left, pos=(1245.432, 1409.636)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.681, 3600.915), side=left, pos=(1244.919, 1407.121)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.68, 3595.567), side=left, pos=(1244.406, 1404.606)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.679, 3590.219), side=left, pos=(1243.894, 1402.091)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2590.629, 3413.323), side=right, pos=(1243.381, 1399.576)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.677, 3579.525), side=left, pos=(1242.869, 1397.061)
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2590.364, 3402.169), side=right, pos=(1242.356, 1394.546)
[18:27:21] [ENEMY] [PatrolEnemy2] Pursuing vulnerability sound at (2489.675, 3574.975), distance=202
[18:27:21] [INFO] [ReplayManager] Recording frame 1140 (18,7s): player_valid=True, enemies=10
[18:27:21] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=4441), can_see=false
[18:27:21] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3309), can_see=false
[18:27:21] [ENEMY] [GuardEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=2510), can_see=true
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.676, 3568.832), side=left, pos=(1241.844, 1392.031)
[18:27:21] [ENEMY] [GuardEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1514), can_see=false
[18:27:21] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=1687), can_see=false
[18:27:21] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=2636), can_see=false
[18:27:21] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[18:27:21] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1133), can_see=false
[18:27:21] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1107), can_see=false
[18:27:21] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:21] [ENEMY] [GuardEnemy1] FLANKING started: target=(2590.099, 3391.015), side=right, pos=(1241.331, 1389.516)
[18:27:21] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[18:27:22] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:22] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.676, 3558.14), side=left, pos=(1240.818, 1387.001)
[18:27:22] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:22] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.675, 3552.794), side=left, pos=(1240.306, 1384.486)
[18:27:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=56.3°, current=-92.2°, player=(2489,3552), corner_timer=0.22
[18:27:22] [ENEMY] [PatrolEnemy2] Player vulnerable (reloading) but cannot attack: close=true (dist=195), can_see=false
[18:27:22] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:22] [ENEMY] [GuardEnemy1] FLANKING started: target=(2289.675, 3547.449), side=left, pos=(1239.793, 1381.971)
[18:27:22] [ENEMY] [GuardEnemy1] State: FLANKING -> PURSUING
[18:27:22] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=59.8°, current=-145.1°, player=(2489,3530), corner_timer=0.13
[18:27:22] [ENEMY] [GuardEnemy1] PURSUING corner check: angle -22.2°
[18:27:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-148.1°, current=-133.1°, player=(2489,3475), corner_timer=0.22
[18:27:22] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:27:22] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:27:22] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:27:22] [ENEMY] [GuardEnemy1] Player reloading: true -> false
[18:27:22] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[18:27:22] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[18:27:22] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:27:22] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[18:27:22] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:27:22] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:27:22] [ENEMY] [SniperEnemy1] Player ammo empty: true -> false
[18:27:22] [ENEMY] [SniperEnemy2] Player ammo empty: true -> false
[18:27:22] [ENEMY] [GuardEnemy1] Player ammo empty: true -> false
[18:27:22] [ENEMY] [GuardEnemy2] Player ammo empty: true -> false
[18:27:22] [ENEMY] [GuardEnemy3] Player ammo empty: true -> false
[18:27:22] [ENEMY] [GuardEnemy4] Player ammo empty: true -> false
[18:27:22] [ENEMY] [PatrolEnemy2] Player ammo empty: true -> false
[18:27:22] [ENEMY] [GuardEnemy5] Player ammo empty: true -> false
[18:27:22] [ENEMY] [GuardEnemy6] Player ammo empty: true -> false
[18:27:22] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:27:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=56.3°, current=-53.8°, player=(2489,3426), corner_timer=0.22
[18:27:22] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:27:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-135.6°, current=-124.0°, player=(2489,3376), corner_timer=0.22
[18:27:22] [ENEMY] [GuardEnemy1] PURSUING corner check: angle -22.2°
[18:27:22] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[18:27:22] [ENEMY] [GuardEnemy2] PURSUING corner check: angle -26.8°
[18:27:22] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=122.4°, current=121.8°, player=(2489,3361), corner_timer=0.00
[18:27:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=56.3°, current=-14.4°, player=(2489,3340), corner_timer=0.22
[18:27:22] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.4°, current=106.0°, player=(2489,3334), corner_timer=0.17
[18:27:22] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:27:22] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> IN_COVER
[18:27:22] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:27:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2489.675, 3329.141), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:27:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[18:27:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-132.4°, current=-100.7°, player=(2489,3321), corner_timer=0.22
[18:27:22] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=55.6°, current=59.5°, player=(2489,3323), corner_timer=0.17
[18:27:22] [ENEMY] [GuardEnemy2] PURSUING corner check: angle -26.8°
[18:27:22] [INFO] [ReplayManager] Recording frame 1200 (19,7s): player_valid=True, enemies=10
[18:27:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2493.499, 3335.141), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:27:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[18:27:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2757.044, 3625.374), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[18:27:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:27:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=56.3°, current=-31.3°, player=(2495,3331), corner_timer=0.22
[18:27:23] [INFO] [LastChance] Threat detected: @Area2D@1120
[18:27:23] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-132.5°, current=-165.1°, player=(2503,3340), corner_timer=0.22
[18:27:23] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:23] [INFO] [Player] Spawning blood effect at (2512.8696, 3350.357), dir=(1, 0), lethal=False (C#)
[18:27:23] [INFO] [ImpactEffects] spawn_blood_effect called at (2512.87, 3350.357), dir=(1, 0), lethal=false
[18:27:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:23] [INFO] [ImpactEffects] Blood effect spawned at (2512.87, 3350.357) (scale=1)
[18:27:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2400.846, 3649.215), shooter_id=135694127301, bullet_pos=(4649.929, 2675.901)
[18:27:23] [INFO] [Bullet] Using shooter_position, distance=2450.65551757813
[18:27:23] [INFO] [Bullet] Distance to wall: 2450.65551757813 (166.869640550031% of viewport)
[18:27:23] [INFO] [Bullet] Distance-based penetration chance: 16.6260718899938%
[18:27:23] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:23] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=3/4->2/4
[18:27:23] [INFO] [ImpactEffects] spawn_blood_effect called at (2761.383, 3625.934), dir=(0.702074, 0.712104), lethal=false
[18:27:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:23] [INFO] [ImpactEffects] Blood effect spawned at (2761.383, 3625.934) (scale=0.5)
[18:27:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2539.707, 3383.255), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:27:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[18:27:23] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:27:23] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=2/4->1/4
[18:27:23] [INFO] [ImpactEffects] spawn_blood_effect called at (2761.069, 3625.934), dir=(0.721858, 0.692041), lethal=false
[18:27:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:23] [INFO] [ImpactEffects] Blood effect spawned at (2761.069, 3625.934) (scale=0.5)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2595.495, 3403.475) (added to group)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2595.584, 3392.692) (added to group)
[18:27:23] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> IN_COVER
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2802.043, 3711.299) (added to group)
[18:27:23] [ENEMY] [GuardEnemy5] State: IN_COVER -> PURSUING
[18:27:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2594.155, 3437.703), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:27:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[18:27:23] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-21.8°, current=53.1°, player=(2594,3431), corner_timer=0.00
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2809.707, 3678.268) (added to group)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2611.513, 3444.465) (added to group)
[18:27:23] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:27:23] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2605.443, 3378.683) (added to group)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2590.792, 3393.054) (added to group)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2850.527, 3745.122) (added to group)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2815.212, 3700.893) (added to group)
[18:27:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2539.707, 3383.255), shooter_id=135694127301, bullet_pos=(2839.926, 3648.587)
[18:27:23] [INFO] [Bullet] Using shooter_position, distance=400.664733886719
[18:27:23] [INFO] [Bullet] Distance to wall: 400.664733886719 (27.2819984878267% of viewport)
[18:27:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:23] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2604.135, 3369.606) (added to group)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2839.654, 3681.005) (added to group)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2812.146, 3719.78) (added to group)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2816.289, 3697.698) (added to group)
[18:27:23] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=1/4->0/4
[18:27:23] [INFO] [ImpactEffects] spawn_blood_effect called at (2759.938, 3625.934), dir=(0.730408, 0.683011), lethal=true
[18:27:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:23] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:27:23] [INFO] [ImpactEffects] Blood effect spawned at (2759.938, 3625.934) (scale=0.75)
[18:27:23] [ENEMY] [PatrolEnemy2] Enemy died (ricochet: false, penetration: false)
[18:27:23] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:27:23] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:27:23] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:27:23] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:27:23] [INFO] [PowerFantasy]   - Duration: 300ms
[18:27:23] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy2 (remaining: 8)
[18:27:23] [INFO] [DeathAnim] Started - Angle: 43.1 deg, Index: 14
[18:27:23] [ENEMY] [PatrolEnemy2] Death animation started with hit direction: (0.730408, 0.683011)
[18:27:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2639.27, 3492.151), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:27:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2701.536, 3451.616) (added to group)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2831.612, 3735.715) (added to group)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2883.545, 3772.617) (added to group)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2814.946, 3696.764) (added to group)
[18:27:23] [INFO] [BloodDecal] Blood puddle created at (2622.76, 3470.863) (added to group)
[18:27:23] [INFO] [ReplayManager] Recording frame 1260 (20,5s): player_valid=True, enemies=10
[18:27:24] [INFO] [PowerFantasy] Effect duration expired after 311.00 ms
[18:27:24] [INFO] [PowerFantasy] Ending power fantasy effect
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2714.075, 3454.797) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2726.764, 3447.23) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2883.22, 3761.571) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2852.008, 3740.809) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2888.514, 3888.786) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2842.015, 3713.678) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2865.267, 3892.553) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2863.117, 3862.05) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2874.807, 3790.498) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2807.332, 3738.538) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2827.517, 3724.581) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2826.893, 3676.151) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2823.885, 3698.448) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2840.832, 3690.456) (added to group)
[18:27:24] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:27:24] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:27:24] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:27:24] [ENEMY] [GuardEnemy1] Player reloading: false -> true
[18:27:24] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[18:27:24] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[18:27:24] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:27:24] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[18:27:24] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:27:24] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:27:24] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2600.086, 3541.33), source=PLAYER (Player), range=900, listeners=8
[18:27:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=0, below_threshold=0
[18:27:24] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=4344), can_see=false
[18:27:24] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3216), can_see=false
[18:27:24] [ENEMY] [GuardEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=2332), can_see=false
[18:27:24] [ENEMY] [GuardEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1344), can_see=false
[18:27:24] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=1594), can_see=false
[18:27:24] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=2526), can_see=false
[18:27:24] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1264), can_see=false
[18:27:24] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1036), can_see=false
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2822.623, 3754.606) (added to group)
[18:27:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2639.27, 3492.151), shooter_id=135694127301, bullet_pos=(2937.866, 3778.922)
[18:27:24] [INFO] [Bullet] Using shooter_position, distance=414.002075195313
[18:27:24] [INFO] [Bullet] Distance to wall: 414.002075195313 (28.1901625827369% of viewport)
[18:27:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:24] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2828.122, 3684.739) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2839.635, 3699.216) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2865.411, 3734.378) (added to group)
[18:27:24] [ENEMY] [PatrolEnemy2] Ragdoll activated
[18:27:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2845.024, 3809.109) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2854.892, 3769.678) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2892.204, 3813.379) (added to group)
[18:27:24] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:27:24] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:27:24] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:27:24] [ENEMY] [GuardEnemy1] Player reloading: true -> false
[18:27:24] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[18:27:24] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[18:27:24] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:27:24] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[18:27:24] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:27:24] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:27:24] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:27:24] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.761162, 3.7520375), target=(16, 6), base=(16, 6)
[18:27:24] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9990263, 6), target=(4, 6), base=(4, 6)
[18:27:24] [INFO] [Player.Reload.Anim] LeftArm: pos=(7.5708714, 4.3140283), target=(16, 6), base=(16, 6)
[18:27:24] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9992697, 6), target=(4, 6), base=(4, 6)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2838.687, 3811.868) (added to group)
[18:27:24] [INFO] [BloodDecal] Blood puddle created at (2899.258, 3846.419) (added to group)
[18:27:24] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:27:24] [ENEMY] [GuardEnemy2] FLANKING started: target=(2259.581, 3489.155), side=left, pos=(2123.038, 2285.151)
[18:27:24] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[18:27:24] [INFO] [ReplayManager] Recording frame 1320 (21,5s): player_valid=True, enemies=10
[18:27:25] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=78.0°, current=78.1°, player=(2380,3541), corner_timer=0.03
[18:27:25] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:25] [ENEMY] [GuardEnemy1] FLANKING started: target=(2175.482, 3541.862), side=left, pos=(1270.626, 1625.934)
[18:27:25] [ENEMY] [GuardEnemy1] State: PURSUING -> FLANKING
[18:27:25] [ENEMY] [GuardEnemy2] State: FLANKING -> COMBAT
[18:27:25] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -0.5°
[18:27:25] [ENEMY] [GuardEnemy5] FLANKING started: target=(2276.341, 3740.049), side=left, pos=(1391.135, 3911.82)
[18:27:25] [ENEMY] [GuardEnemy5] State: PURSUING -> FLANKING
[18:27:25] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -101.0°
[18:27:25] [ENEMY] [PatrolEnemy2] Death animation completed
[18:27:25] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 2.2°
[18:27:25] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -102.3°
[18:27:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2150.9, 2608.659), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:27:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[18:27:25] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 4.8°
[18:27:25] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -104.2°
[18:27:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2148.657, 2645.923), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:27:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[18:27:25] [INFO] [ReplayManager] Recording frame 1380 (22,5s): player_valid=True, enemies=10
[18:27:26] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:27:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2144.86, 2683.06), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:27:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[18:27:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2170.871, 2685.581), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:27:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[18:27:26] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 7.5°
[18:27:26] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -107.8°
[18:27:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2196.882, 2688.101), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:27:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[18:27:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2150.7363, 2713.9866), shooter_id=133177544751, bullet_pos=(2075.6382, 3669.3738)
[18:27:26] [INFO] [Bullet] Using shooter_position, distance=958,3342
[18:27:26] [INFO] [Bullet] Distance to wall: 958,3342 (65,254745% of viewport)
[18:27:26] [INFO] [Bullet] Distance-based penetration chance: 70,53613%
[18:27:26] [INFO] [Bullet] Starting wall penetration at (2075.6382, 3669.3738)
[18:27:26] [INFO] [LastChance] Threat detected: @Area2D@1240
[18:27:26] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:27:26] [INFO] [Bullet] Exiting penetration at (2071.9812, 3715.897) after traveling 41,666668 pixels through wall
[18:27:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:27:26] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-54.6°, current=-53.7°, player=(1935,3541), corner_timer=0.22
[18:27:26] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.5°, current=139.4°, player=(1924,3541), corner_timer=0.00
[18:27:26] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:26] [INFO] [Player] Spawning blood effect at (1918.9819, 3541.9688), dir=(1, 0), lethal=False (C#)
[18:27:26] [INFO] [ImpactEffects] spawn_blood_effect called at (1918.982, 3541.969), dir=(1, 0), lethal=false
[18:27:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:26] [INFO] [ImpactEffects] Blood effect spawned at (1918.982, 3541.969) (scale=1)
[18:27:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2225.932, 2690.981), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:27:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[18:27:26] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=139.6°, player=(1907,3541), corner_timer=0.00
[18:27:26] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.6°, current=139.6°, player=(1902,3541), corner_timer=0.00
[18:27:26] [ENEMY] [GuardEnemy5] State: FLANKING -> COMBAT
[18:27:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2206.836, 2702.23), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:27:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[18:27:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2164.9705, 2753.4543), shooter_id=133177544751, bullet_pos=(1982.2888, 3651.7322)
[18:27:26] [INFO] [Bullet] Using shooter_position, distance=916,66547
[18:27:26] [INFO] [Bullet] Distance to wall: 916,66547 (62,417442% of viewport)
[18:27:26] [INFO] [Bullet] Distance-based penetration chance: 73,84631%
[18:27:26] [INFO] [Bullet] Starting wall penetration at (1982.2888, 3651.7322)
[18:27:26] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -13.1°
[18:27:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,106693
[18:27:26] [INFO] [Bullet] Body exited signal received for penetrating body
[18:27:26] [INFO] [Bullet] Exiting penetration at (1972.9886, 3697.4626) after traveling 41,666668 pixels through wall
[18:27:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:27:26] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.9°, current=139.9°, player=(1863,3541), corner_timer=0.00
[18:27:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2219.68, 2724.989), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:27:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[18:27:26] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:27:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2186.1208, 2755.3726), shooter_id=133177544751, bullet_pos=(2032.6902, 3659.1074)
[18:27:26] [INFO] [Bullet] Using shooter_position, distance=916,66656
[18:27:26] [INFO] [Bullet] Distance to wall: 916,66656 (62,417515% of viewport)
[18:27:26] [INFO] [Bullet] Distance-based penetration chance: 73,84623%
[18:27:26] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:26] [INFO] [BloodDecal] Blood puddle created at (1965.398, 3563.88) (added to group)
[18:27:26] [INFO] [BloodDecal] Blood puddle created at (1982.853, 3530.096) (added to group)
[18:27:26] [INFO] [BloodDecal] Blood puddle created at (1963.046, 3540.253) (added to group)
[18:27:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1808.982, 3547.969), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:27:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[18:27:26] [INFO] [LastChance] Threat detected: @Area2D@1250
[18:27:26] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:26] [INFO] [BloodDecal] Blood puddle created at (2014.406, 3565.128) (added to group)
[18:27:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2223.624, 2750.538), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:27:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[18:27:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2155.8384, 2676.574), shooter_id=133177544751, bullet_pos=(2047.2441, 5090.796)
[18:27:26] [INFO] [Bullet] Using shooter_position, distance=2416,663
[18:27:26] [INFO] [Bullet] Distance to wall: 2416,663 (164,55504% of viewport)
[18:27:26] [INFO] [Bullet] Distance-based penetration chance: 17,088993%
[18:27:26] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:26] [INFO] [BloodDecal] Blood puddle created at (2041.512, 3557.39) (added to group)
[18:27:26] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -10.1°
[18:27:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2226.539, 2776.001), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:27:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[18:27:26] [ENEMY] [GuardEnemy5] Hit: dmg=1, hp=3/4->2/4
[18:27:26] [INFO] [ImpactEffects] spawn_blood_effect called at (1786.962, 3771.519), dir=(-0.067981, 0.997687), lethal=false
[18:27:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:26] [INFO] [ImpactEffects] Blood effect spawned at (1786.962, 3771.519) (scale=0.5)
[18:27:26] [INFO] [BloodDecal] Blood puddle created at (2095.586, 3624.573) (added to group)
[18:27:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1751.401, 3568.294), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:27:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[18:27:26] [INFO] [BloodDecal] Blood puddle created at (2021.035, 3616.155) (added to group)
[18:27:26] [INFO] [LastChance] Threat detected: @Area2D@1257
[18:27:26] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:26] [INFO] [ReplayManager] Recording frame 1440 (23,5s): player_valid=True, enemies=10
[18:27:26] [INFO] [BloodDecal] Blood puddle created at (2070.698, 3638.908) (added to group)
[18:27:27] [ENEMY] [GuardEnemy5] Hit: dmg=1, hp=2/4->1/4
[18:27:27] [INFO] [ImpactEffects] spawn_blood_effect called at (1786.962, 3771.519), dir=(1, 0), lethal=false
[18:27:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:27] [INFO] [ImpactEffects] Blood effect spawned at (1786.962, 3771.519) (scale=1)
[18:27:27] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-103.5°, current=180.0°, player=(1739,3573), corner_timer=0.10
[18:27:27] [ENEMY] [GuardEnemy5] State: COMBAT -> PURSUING
[18:27:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2239.35, 2795.818), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:27:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[18:27:27] [ENEMY] [GuardEnemy5] State: PURSUING -> RETREATING
[18:27:27] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-107.8°, current=-168.5°, player=(1724,3589), corner_timer=0.10
[18:27:27] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-111.1°, current=-125.0°, player=(1720,3593), corner_timer=0.10
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (2066.231, 3638.108) (added to group)
[18:27:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1794.099, 3775.135), source=ENEMY (GuardEnemy5), range=1469, listeners=8
[18:27:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:27:27] [INFO] [LastChance] Threat detected: @Area2D@1281
[18:27:27] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2254.561, 2805.934), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:27:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[18:27:27] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:27] [INFO] [Player] Spawning blood effect at (1696.8744, 3616.5486), dir=(1, 0), lethal=False (C#)
[18:27:27] [INFO] [ImpactEffects] spawn_blood_effect called at (1696.874, 3616.549), dir=(1, 0), lethal=false
[18:27:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:27] [INFO] [ImpactEffects] Blood effect spawned at (1696.874, 3616.549) (scale=1)
[18:27:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1800.554, 3783.625), source=ENEMY (GuardEnemy5), range=1469, listeners=8
[18:27:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1751.401, 3568.294), shooter_id=135694127301, bullet_pos=(1857.754, 3831.628)
[18:27:27] [INFO] [Bullet] Using shooter_position, distance=283.999114990234
[18:27:27] [INFO] [Bullet] Distance to wall: 283.999114990234 (19.3380219680086% of viewport)
[18:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:27] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:27] [INFO] [LastChance] Threat detected: @Area2D@1286
[18:27:27] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1689.096, 3630.327), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:27:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[18:27:27] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-107.8°, current=-20.2°, player=(1689,3624), corner_timer=0.10
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1761.417, 3864.73) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1780.276, 3867.355) (added to group)
[18:27:27] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -7.7°
[18:27:27] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:27] [INFO] [Player] Spawning blood effect at (1681.3182, 3632.1052), dir=(1, 0), lethal=False (C#)
[18:27:27] [INFO] [ImpactEffects] spawn_blood_effect called at (1681.318, 3632.105), dir=(1, 0), lethal=false
[18:27:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:27] [INFO] [ImpactEffects] Blood effect spawned at (1681.318, 3632.105) (scale=1)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1819.291, 3881.245) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1803.082, 3875.142) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1832.203, 3778.576) (added to group)
[18:27:27] [INFO] [BloodyFeet:GuardEnemy5] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1855.186, 3799.646) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1886.368, 3778.931) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1770.457, 3959.675) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1884.154, 3773.721) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1778.443, 4000.23) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1726.911, 3974.831) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1756.602, 3631.752) (added to group)
[18:27:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1634.65, 3684.775), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:27:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[18:27:27] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-26.8°, current=126.0°, player=(1634,3678), corner_timer=0.02
[18:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2209.7852, 2757.5503), shooter_id=133177544751, bullet_pos=(1139.396, 5062.832)
[18:27:27] [INFO] [Bullet] Using shooter_position, distance=2541,6643
[18:27:27] [INFO] [Bullet] Distance to wall: 2541,6643 (173,0666% of viewport)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1943.679, 3804.698) (added to group)
[18:27:27] [ENEMY] [GuardEnemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-164.1°, current=-168.8°, player=(1619,3694), corner_timer=0.00
[18:27:27] [ENEMY] [GuardEnemy6] State: IDLE -> COMBAT
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1775.9, 4047.367) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1741.92, 3651.257) (added to group)
[18:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1689.096, 3630.327), shooter_id=135694127301, bullet_pos=(1853.677, 3939.973)
[18:27:27] [INFO] [Bullet] Using shooter_position, distance=350.667510986328
[18:27:27] [INFO] [Bullet] Distance to wall: 350.667510986328 (23.8775956437529% of viewport)
[18:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:27] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1689.096, 3630.327), shooter_id=135694127301, bullet_pos=(1853.677, 3939.973)
[18:27:27] [INFO] [Bullet] Using shooter_position, distance=350.667510986328
[18:27:27] [INFO] [Bullet] Distance to wall: 350.667510986328 (23.8775956437529% of viewport)
[18:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:27] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:27] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-164.4°, current=31.4°, player=(1611,3702), corner_timer=0.00
[18:27:27] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -5.3°
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1712.109, 4029.502) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1860.257, 4057.702) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1974.762, 3893.53) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1828.703, 3679.54) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1799.292, 3648.347) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1838.599, 3654.526) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1765.489, 3703.287) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1759.305, 3656.769) (added to group)
[18:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2209.281, 2856.9062), shooter_id=133177544751, bullet_pos=(1349.8953, 3930.2522)
[18:27:27] [INFO] [Bullet] Using shooter_position, distance=1374,9965
[18:27:27] [INFO] [Bullet] Distance to wall: 1374,9965 (93,62604% of viewport)
[18:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2209.281, 2856.9062), shooter_id=133177544751, bullet_pos=(1352.7257, 3934.374)
[18:27:27] [INFO] [Bullet] Using shooter_position, distance=1376,4534
[18:27:27] [INFO] [Bullet] Distance to wall: 1376,4534 (93,72524% of viewport)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1906.79, 3804.539) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1811.037, 3712.813) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1782.831, 3650.909) (added to group)
[18:27:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1587.981, 3731.445), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:27:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1902.491, 3812.03) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1804.148, 3691.876) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1840.319, 3644.077) (added to group)
[18:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1634.65, 3684.775), shooter_id=135694127301, bullet_pos=(1849.759, 3940.285)
[18:27:27] [INFO] [Bullet] Using shooter_position, distance=334.001922607422
[18:27:27] [INFO] [Bullet] Distance to wall: 334.001922607422 (22.7428050857184% of viewport)
[18:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:27] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1634.65, 3684.775), shooter_id=135694127301, bullet_pos=(1849.759, 3940.285)
[18:27:27] [INFO] [Bullet] Using shooter_position, distance=334.001922607422
[18:27:27] [INFO] [Bullet] Distance to wall: 334.001922607422 (22.7428050857184% of viewport)
[18:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:27] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1834.846, 3653.666) (added to group)
[18:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2198.464, 2813.8267), shooter_id=133177544751, bullet_pos=(1062.7943, 5087.6553)
[18:27:27] [INFO] [Bullet] Using shooter_position, distance=2541,6614
[18:27:27] [INFO] [Bullet] Distance to wall: 2541,6614 (173,0664% of viewport)
[18:27:27] [INFO] [Bullet] Distance-based penetration chance: 15,38672%
[18:27:27] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1558.25, 3785.13), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:27:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[18:27:27] [ENEMY] [GuardEnemy5] Hit: dmg=1, hp=1/4->0/4
[18:27:27] [INFO] [ImpactEffects] spawn_blood_effect called at (1832.663, 3813.398), dir=(0.945813, 0.324713), lethal=true
[18:27:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:27] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:27:27] [INFO] [ImpactEffects] Blood effect spawned at (1832.663, 3813.398) (scale=0.75)
[18:27:27] [ENEMY] [GuardEnemy5] Enemy died (ricochet: false, penetration: false)
[18:27:27] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:27:27] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:27:27] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:27:27] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:27:27] [INFO] [PowerFantasy]   - Duration: 300ms
[18:27:27] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy5 (remaining: 7)
[18:27:27] [INFO] [DeathAnim] Started - Angle: 18.9 deg, Index: 13
[18:27:27] [ENEMY] [GuardEnemy5] Death animation started with hit direction: (0.945813, 0.324713)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1807.414, 3776.936) (added to group)
[18:27:27] [INFO] [BloodDecal] Blood puddle created at (1783.035, 3678.749) (added to group)
[18:27:27] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -3.7°
[18:27:27] [INFO] [ReplayManager] Recording frame 1500 (24,4s): player_valid=True, enemies=10
[18:27:28] [INFO] [PowerFantasy] Effect duration expired after 319.00 ms
[18:27:28] [INFO] [PowerFantasy] Ending power fantasy effect
[18:27:28] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.9°, current=139.9°, player=(1557,3806), corner_timer=0.00
[18:27:28] [INFO] [BloodDecal] Blood puddle created at (1797.234, 3778.401) (added to group)
[18:27:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2198.648, 2838.1167), shooter_id=133177544751, bullet_pos=(883.1832, 5061.436)
[18:27:28] [INFO] [Bullet] Using shooter_position, distance=2583,3306
[18:27:28] [INFO] [Bullet] Distance to wall: 2583,3306 (175,90373% of viewport)
[18:27:28] [INFO] [Bullet] Distance-based penetration chance: 14,819254%
[18:27:28] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:28] [INFO] [BloodDecal] Blood puddle created at (1818.513, 3713.074) (added to group)
[18:27:28] [ENEMY] [GuardEnemy6] State: COMBAT -> PURSUING
[18:27:28] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=139.6°, player=(1557,3838), corner_timer=0.00
[18:27:28] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.6°, current=139.6°, player=(1557,3842), corner_timer=0.00
[18:27:28] [INFO] [BloodDecal] Blood puddle created at (1914.777, 3817.753) (added to group)
[18:27:28] [INFO] [BloodDecal] Blood puddle created at (1900.035, 3846.899) (added to group)
[18:27:28] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.5°, current=139.5°, player=(1557,3856), corner_timer=0.00
[18:27:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2222.8455, 2866.1646), shooter_id=133177544751, bullet_pos=(997.9597, 5093.209)
[18:27:28] [INFO] [Bullet] Using shooter_position, distance=2541,6672
[18:27:28] [INFO] [Bullet] Distance to wall: 2541,6672 (173,0668% of viewport)
[18:27:28] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -3.6°
[18:27:28] [INFO] [BloodDecal] Blood puddle created at (1923.826, 3840.064) (added to group)
[18:27:28] [ENEMY] [GuardEnemy5] Ragdoll activated
[18:27:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:27:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2222.8455, 2866.1646), shooter_id=133177544751, bullet_pos=(745.69226, 4702.0923)
[18:27:28] [INFO] [Bullet] Using shooter_position, distance=2356,3982
[18:27:28] [INFO] [Bullet] Distance to wall: 2356,3982 (160,45149% of viewport)
[18:27:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1558.25, 3785.13), shooter_id=135694127301, bullet_pos=(2142.053, 3800.304)
[18:27:28] [INFO] [Bullet] Using shooter_position, distance=584.00048828125
[18:27:28] [INFO] [Bullet] Distance to wall: 584.00048828125 (39.7656671292757% of viewport)
[18:27:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:28] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:28] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:27:28] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:27:28] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:27:28] [ENEMY] [GuardEnemy1] Player reloading: false -> true
[18:27:28] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[18:27:28] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[18:27:28] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:27:28] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:27:28] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:27:28] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1557.504, 3863.544), source=PLAYER (Player), range=900, listeners=7
[18:27:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=0
[18:27:28] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=5323), can_see=false
[18:27:28] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=4128), can_see=false
[18:27:28] [ENEMY] [GuardEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=2261), can_see=false
[18:27:28] [ENEMY] [GuardEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1277), can_see=false
[18:27:28] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=2572), can_see=false
[18:27:28] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=3600), can_see=false
[18:27:28] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1708), can_see=false
[18:27:28] [ENEMY] [GuardEnemy1] FLANKING stuck (2.0s), pos=(1234.222, 1625.934), fail=1
[18:27:28] [ENEMY] [GuardEnemy1] State: FLANKING -> PURSUING
[18:27:28] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -13.2°
[18:27:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2222.8455, 2866.1646), shooter_id=133177544751, bullet_pos=(468.71582, 5065.0415)
[18:27:28] [INFO] [Bullet] Using shooter_position, distance=2812,8333
[18:27:28] [INFO] [Bullet] Distance to wall: 2812,8333 (191,53099% of viewport)
[18:27:28] [INFO] [Bullet] Distance-based penetration chance: 11,693803%
[18:27:28] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:28] [INFO] [ReplayManager] Recording frame 1560 (25,2s): player_valid=True, enemies=10
[18:27:29] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:27:29] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:27:29] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:27:29] [ENEMY] [GuardEnemy1] Player reloading: true -> false
[18:27:29] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[18:27:29] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[18:27:29] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:27:29] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:27:29] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:27:29] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:27:29] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -12.9°
[18:27:29] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:27:29] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -12.8°
[18:27:29] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.5°, current=139.5°, player=(1557,3854), corner_timer=0.00
[18:27:29] [ENEMY] [GuardEnemy5] Death animation completed
[18:27:29] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.8°, current=139.7°, player=(1557,3818), corner_timer=0.00
[18:27:29] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.8°, current=139.8°, player=(1557,3812), corner_timer=0.00
[18:27:29] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.9°, current=139.9°, player=(1557,3801), corner_timer=0.00
[18:27:29] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -12.7°
[18:27:29] [ENEMY] [GuardEnemy6] FLANKING started: target=(1692.471, 3643.117), side=left, pos=(3239.208, 4161.736)
[18:27:29] [ENEMY] [GuardEnemy6] State: PURSUING -> FLANKING
[18:27:29] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 108.7°
[18:27:29] [INFO] [ReplayManager] Recording frame 1620 (26,2s): player_valid=True, enemies=10
[18:27:30] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-165.3°, current=-165.3°, player=(1557,3713), corner_timer=0.10
[18:27:30] [ENEMY] [GuardEnemy6] State: FLANKING -> COMBAT
[18:27:30] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -12.6°
[18:27:30] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-164.1°, current=-164.5°, player=(1557,3675), corner_timer=0.05
[18:27:30] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -12.5°
[18:27:30] [ENEMY] [GuardEnemy6] State: COMBAT -> PURSUING
[18:27:30] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle -3.5°
[18:27:30] [INFO] [ReplayManager] Recording frame 1680 (27,2s): player_valid=True, enemies=10
[18:27:31] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 0.4°
[18:27:31] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:27:31] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 0.5°
[18:27:31] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 0.5°
[18:27:31] [INFO] [ReplayManager] Recording frame 1740 (28,2s): player_valid=True, enemies=10
[18:27:32] [ENEMY] [GuardEnemy6] FLANKING started: target=(1783.044, 3527.316), side=right, pos=(2997.042, 4079.073)
[18:27:32] [ENEMY] [GuardEnemy6] State: PURSUING -> FLANKING
[18:27:32] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 0.5°
[18:27:32] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 114.4°
[18:27:32] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 0.5°
[18:27:32] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 114.4°
[18:27:32] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 0.5°
[18:27:32] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 114.4°
[18:27:32] [INFO] [ReplayManager] Recording frame 1800 (29,2s): player_valid=True, enemies=10
[18:27:32] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:27:33] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[18:27:33] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 115.9°
[18:27:33] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-144.0°, current=-144.1°, player=(1789,3327), corner_timer=0.28
[18:27:33] [ENEMY] [GuardEnemy6] State: FLANKING -> COMBAT
[18:27:33] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:27:33] [INFO] [ReplayManager] Recording frame 1860 (30,2s): player_valid=True, enemies=10
[18:27:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2487.385, 3828.203), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[18:27:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[18:27:34] [ENEMY] [GuardEnemy2] State: RETREATING -> IN_COVER
[18:27:34] [ENEMY] [GuardEnemy2] State: IN_COVER -> PURSUING
[18:27:34] [ENEMY] [GuardEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=112.4°, current=-26.8°, player=(2066,3327), corner_timer=0.02
[18:27:34] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[18:27:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:34] [INFO] [Player] Spawning blood effect at (2093.5251, 3327.4263), dir=(1, 0), lethal=False (C#)
[18:27:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2093.525, 3327.426), dir=(1, 0), lethal=false
[18:27:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:34] [INFO] [ImpactEffects] Blood effect spawned at (2093.525, 3327.426) (scale=1)
[18:27:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:34] [INFO] [Player] Spawning blood effect at (2093.5251, 3327.4263), dir=(1, 0), lethal=False (C#)
[18:27:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2093.525, 3327.426), dir=(1, 0), lethal=false
[18:27:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:34] [INFO] [ImpactEffects] Blood effect spawned at (2093.525, 3327.426) (scale=1)
[18:27:34] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.9°, current=140.0°, player=(2121,3327), corner_timer=0.00
[18:27:34] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.8°, current=139.8°, player=(2137,3327), corner_timer=0.00
[18:27:34] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.7°, current=139.8°, player=(2142,3327), corner_timer=0.00
[18:27:34] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=139.6°, player=(2158,3330), corner_timer=0.00
[18:27:34] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.5°, current=139.6°, player=(2163,3332), corner_timer=0.00
[18:27:34] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.4°, current=139.5°, player=(2172,3336), corner_timer=0.00
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2151.841, 3324.446) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2145.464, 3342.194) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2141.265, 3333.9) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2162.053, 3368.532) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2139.899, 3339.37) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2163.951, 3323.883) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2188.106, 3353.361) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2174.581, 3377.757) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2171.203, 3336.334) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2181.54, 3391.107) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2173.954, 3356.562) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2171.332, 3332.86) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2227.115, 3352.135) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2242.34, 3380.496) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2255.04, 3398.104) (added to group)
[18:27:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2563.785, 3790.364), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[18:27:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2230.099, 3428.033) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2299.368, 3391.227) (added to group)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2245.114, 3344.601) (added to group)
[18:27:34] [INFO] [BloodyFeet:GuardEnemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2265.961, 3457.865) (added to group)
[18:27:34] [INFO] [ReplayManager] Recording frame 1920 (31,2s): player_valid=True, enemies=10
[18:27:34] [INFO] [BloodDecal] Blood puddle created at (2217.59, 3371.151) (added to group)
[18:27:35] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:35] [ENEMY] [GuardEnemy1] FLANKING started: target=(2075.248, 3433.286), side=left, pos=(1229.859, 1625.934)
[18:27:35] [ENEMY] [GuardEnemy1] State: PURSUING -> FLANKING
[18:27:35] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -2.5°
[18:27:35] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -3.0°
[18:27:35] [ENEMY] [GuardEnemy2] FLANKING started: target=(2246.14, 3543.835), side=left, pos=(2279.536, 2810.179)
[18:27:35] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[18:27:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2602.495, 3751.767), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[18:27:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[18:27:35] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 25.0°
[18:27:35] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -3.7°
[18:27:35] [INFO] [ReplayManager] Recording frame 1980 (32,2s): player_valid=True, enemies=10
[18:27:36] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 21.5°
[18:27:36] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -3.8°
[18:27:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2502.504, 3696.25), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:27:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:27:36] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 21.3°
[18:27:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2502.504, 3696.25), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:27:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:27:36] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -3.6°
[18:27:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2605.035, 3764.33), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[18:27:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[18:27:36] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:36] [INFO] [Player] Spawning blood effect at (2502.5044, 3690.2505), dir=(1, 0), lethal=False (C#)
[18:27:36] [INFO] [ImpactEffects] spawn_blood_effect called at (2502.504, 3690.25), dir=(1, 0), lethal=false
[18:27:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:36] [INFO] [ImpactEffects] Blood effect spawned at (2502.504, 3690.25) (scale=1)
[18:27:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2502.504, 3696.25), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:27:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:27:36] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 21.3°
[18:27:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2502.504, 3696.25), shooter_id=135694127301, bullet_pos=(2653.121, 3700.119)
[18:27:36] [INFO] [Bullet] Using shooter_position, distance=150.666381835938
[18:27:36] [INFO] [Bullet] Distance to wall: 150.666381835938 (10.2591509902554% of viewport)
[18:27:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:36] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2502.504, 3696.25), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:27:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:27:36] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -3.5°
[18:27:36] [INFO] [BloodDecal] Blood puddle created at (2544.886, 3694.423) (added to group)
[18:27:36] [INFO] [BloodDecal] Blood puddle created at (2559.458, 3694.436) (added to group)
[18:27:36] [INFO] [BloodDecal] Blood puddle created at (2559.898, 3721.417) (added to group)
[18:27:36] [INFO] [ReplayManager] Recording frame 2040 (33,2s): player_valid=True, enemies=10
[18:27:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2502.504, 3696.25), shooter_id=135694127301, bullet_pos=(2652.563, 3829.478)
[18:27:37] [INFO] [Bullet] Using shooter_position, distance=200.667129516602
[18:27:37] [INFO] [Bullet] Distance to wall: 200.667129516602 (13.6637938430995% of viewport)
[18:27:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:37] [INFO] [BloodDecal] Blood puddle created at (2605.475, 3755.955) (added to group)
[18:27:37] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 21.3°
[18:27:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2502.504, 3696.25), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:27:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:27:37] [INFO] [BloodDecal] Blood puddle created at (2624.449, 3721.545) (added to group)
[18:27:37] [INFO] [BloodDecal] Blood puddle created at (2589.843, 3744.827) (added to group)
[18:27:37] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -3.3°
[18:27:37] [INFO] [BloodDecal] Blood puddle created at (2610.193, 3754.838) (added to group)
[18:27:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2502.504, 3696.25), shooter_id=135694127301, bullet_pos=(2652.515, 3802.802)
[18:27:37] [INFO] [Bullet] Using shooter_position, distance=184.000534057617
[18:27:37] [INFO] [Bullet] Distance to wall: 184.000534057617 (12.5289347111306% of viewport)
[18:27:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2502.504, 3696.25), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:27:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:27:37] [INFO] [BloodDecal] Blood puddle created at (2637.131, 3827.959) (added to group)
[18:27:37] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 21.3°
[18:27:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2502.504, 3696.25), shooter_id=135694127301, bullet_pos=(2654.229, 3800.344)
[18:27:37] [INFO] [Bullet] Using shooter_position, distance=183.999221801758
[18:27:37] [INFO] [Bullet] Distance to wall: 183.999221801758 (12.5288453572161% of viewport)
[18:27:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:37] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 4.7°
[18:27:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2604.727, 3706.386), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[18:27:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[18:27:37] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:37] [INFO] [Player] Spawning blood effect at (2502.5044, 3690.2505), dir=(1, 0), lethal=False (C#)
[18:27:37] [INFO] [ImpactEffects] spawn_blood_effect called at (2502.504, 3690.25), dir=(1, 0), lethal=false
[18:27:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:37] [INFO] [ImpactEffects] Blood effect spawned at (2502.504, 3690.25) (scale=1)
[18:27:37] [ENEMY] [GuardEnemy2] FLANKING stuck (2.0s), pos=(2283.135, 2813.19), fail=1
[18:27:37] [ENEMY] [GuardEnemy2] State: FLANKING -> PURSUING
[18:27:37] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:27:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2502.504, 3696.25), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:27:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:27:37] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 4.7°
[18:27:37] [INFO] [BloodDecal] Blood puddle created at (2556.469, 3714.394) (added to group)
[18:27:37] [ENEMY] [GuardEnemy6] Hit: dmg=1, hp=3/3->2/3
[18:27:37] [INFO] [ImpactEffects] spawn_blood_effect called at (2618.621, 3716.066), dir=(0.974607, 0.223922), lethal=false
[18:27:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:37] [INFO] [ImpactEffects] Wall found for blood splatter at (2650, 3723.275) (dist=32 px)
[18:27:37] [INFO] [BloodDecal] Blood puddle created at (2649, 3723.275) (added to group)
[18:27:37] [INFO] [ImpactEffects] Blood effect spawned at (2618.621, 3716.066) (scale=0.5)
[18:27:37] [INFO] [BloodDecal] Blood puddle created at (2608.411, 3749.791) (added to group)
[18:27:37] [INFO] [ReplayManager] Recording frame 2100 (34,2s): player_valid=True, enemies=10
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2597.598, 3722.829) (added to group)
[18:27:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2502.504, 3696.25), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:27:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2594.132, 3752.175) (added to group)
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2615.838, 3770.468) (added to group)
[18:27:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2502.504, 3696.25), shooter_id=135694127301, bullet_pos=(3906.715, 2828.538)
[18:27:38] [INFO] [Bullet] Using shooter_position, distance=1650.67639160156
[18:27:38] [INFO] [Bullet] Distance to wall: 1650.67639160156 (112.397590830386% of viewport)
[18:27:38] [INFO] [Bullet] Distance-based penetration chance: 27.5204818339227%
[18:27:38] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2623.413, 3827.634) (added to group)
[18:27:38] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -3.3°
[18:27:38] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:27:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2502.504, 3696.25), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:27:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:27:38] [ENEMY] [GuardEnemy6] Hit: dmg=1, hp=2/3->1/3
[18:27:38] [INFO] [ImpactEffects] spawn_blood_effect called at (2605.714, 3738.299), dir=(0.969101, 0.246664), lethal=false
[18:27:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:38] [INFO] [ImpactEffects] Wall found for blood splatter at (2650, 3749.571) (dist=45 px)
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2649, 3749.571) (added to group)
[18:27:38] [INFO] [ImpactEffects] Blood effect spawned at (2605.714, 3738.299) (scale=0.5)
[18:27:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2604.165, 3741.696), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[18:27:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[18:27:38] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:38] [INFO] [Player] Spawning blood effect at (2502.5044, 3690.2505), dir=(1, 0), lethal=False (C#)
[18:27:38] [INFO] [ImpactEffects] spawn_blood_effect called at (2502.504, 3690.25), dir=(1, 0), lethal=false
[18:27:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:38] [INFO] [ImpactEffects] Blood effect spawned at (2502.504, 3690.25) (scale=1)
[18:27:38] [ENEMY] [SniperEnemy1] Player ammo empty: false -> true
[18:27:38] [ENEMY] [SniperEnemy2] Player ammo empty: false -> true
[18:27:38] [ENEMY] [GuardEnemy1] Player ammo empty: false -> true
[18:27:38] [ENEMY] [GuardEnemy2] Player ammo empty: false -> true
[18:27:38] [ENEMY] [GuardEnemy3] Player ammo empty: false -> true
[18:27:38] [ENEMY] [GuardEnemy4] Player ammo empty: false -> true
[18:27:38] [ENEMY] [GuardEnemy6] Player ammo empty: false -> true
[18:27:38] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2502.504, 3690.25), source=PLAYER (Player), range=600, listeners=7
[18:27:38] [ENEMY] [GuardEnemy6] Heard player EMPTY_CLICK at (2502.504, 3690.25), intensity=0.15, distance=129
[18:27:38] [ENEMY] [GuardEnemy6] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:27:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:27:38] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=4519), can_see=false
[18:27:38] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3258), can_see=false
[18:27:38] [ENEMY] [GuardEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2403), can_see=false
[18:27:38] [ENEMY] [GuardEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=809), can_see=false
[18:27:38] [ENEMY] [GuardEnemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1771), can_see=false
[18:27:38] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2685), can_see=false
[18:27:38] [ENEMY] [GuardEnemy6] Pursuing vulnerability sound at (2502.504, 3690.25), distance=129
[18:27:38] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -3.3°
[18:27:38] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2502.504, 3690.25), source=PLAYER (Player), range=600, listeners=7
[18:27:38] [ENEMY] [GuardEnemy6] Heard player EMPTY_CLICK at (2502.504, 3690.25), intensity=0.27, distance=96
[18:27:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2645.604, 3785.823) (added to group)
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2600.994, 3727.818) (added to group)
[18:27:38] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2502.504, 3690.25), source=PLAYER (Player), range=600, listeners=7
[18:27:38] [ENEMY] [GuardEnemy6] Heard player EMPTY_CLICK at (2502.504, 3690.25), intensity=0.86, distance=54
[18:27:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2602.324, 3745.114) (added to group)
[18:27:38] [ENEMY] [GuardEnemy6] State: PURSUING -> COMBAT
[18:27:38] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2602.413, 3672.578) (added to group)
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2570.155, 3748.608) (added to group)
[18:27:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2547.551, 3695.332), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[18:27:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[18:27:38] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2502.504, 3690.25), source=PLAYER (Player), range=600, listeners=7
[18:27:38] [ENEMY] [GuardEnemy6] Heard player EMPTY_CLICK at (2502.504, 3690.25), intensity=0.99, distance=50
[18:27:38] [ENEMY] [GuardEnemy6] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:27:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2609.72, 3784.573) (added to group)
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2586.703, 3774.608) (added to group)
[18:27:38] [ENEMY] [GuardEnemy6] State: PURSUING -> COMBAT
[18:27:38] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 4.7°
[18:27:38] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2601.51, 3785.508) (added to group)
[18:27:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2544.694, 3693.601), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[18:27:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[18:27:38] [INFO] [BloodDecal] Blood puddle created at (2636.783, 3708.709) (added to group)
[18:27:38] [INFO] [ReplayManager] Recording frame 2160 (35,2s): player_valid=True, enemies=10
[18:27:38] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=115.9°, current=124.9°, player=(2502,3690), corner_timer=0.28
[18:27:38] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=45), can_see=false
[18:27:38] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=4519), can_see=false
[18:27:38] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3258), can_see=false
[18:27:38] [ENEMY] [GuardEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2403), can_see=false
[18:27:38] [ENEMY] [GuardEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=809), can_see=false
[18:27:38] [ENEMY] [GuardEnemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1771), can_see=false
[18:27:38] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2685), can_see=false
[18:27:39] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:27:39] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:27:39] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:27:39] [ENEMY] [GuardEnemy1] Player reloading: false -> true
[18:27:39] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[18:27:39] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[18:27:39] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:27:39] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:27:39] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2502.504, 3690.25), source=PLAYER (Player), range=900, listeners=7
[18:27:39] [ENEMY] [GuardEnemy6] Heard player RELOAD at (2502.504, 3690.25), intensity=0.89, distance=53
[18:27:39] [ENEMY] [GuardEnemy6] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:27:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:27:39] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-175.2°, current=116.5°, player=(2502,3690), corner_timer=0.28
[18:27:39] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-175.2°, current=-178.0°, player=(2502,3690), corner_timer=0.28
[18:27:39] [ENEMY] [GuardEnemy6] State: PURSUING -> COMBAT
[18:27:39] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[18:27:39] [INFO] [BloodDecal] Blood puddle created at (2628.226, 3737.893) (added to group)
[18:27:39] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=115.9°, current=131.5°, player=(2502,3690), corner_timer=0.28
[18:27:39] [INFO] [Player.Reload.Anim] LeftArm: pos=(-3.9689522, 2.0062096), target=(-4, 2), base=(16, 6)
[18:27:39] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9999998, 6), target=(4, 6), base=(4, 6)
[18:27:39] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:27:39] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:27:39] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:27:39] [ENEMY] [GuardEnemy1] Player reloading: true -> false
[18:27:39] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[18:27:39] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[18:27:39] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:27:39] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:27:39] [ENEMY] [SniperEnemy1] Player ammo empty: true -> false
[18:27:39] [ENEMY] [SniperEnemy2] Player ammo empty: true -> false
[18:27:39] [ENEMY] [GuardEnemy1] Player ammo empty: true -> false
[18:27:39] [ENEMY] [GuardEnemy2] Player ammo empty: true -> false
[18:27:39] [ENEMY] [GuardEnemy3] Player ammo empty: true -> false
[18:27:39] [ENEMY] [GuardEnemy4] Player ammo empty: true -> false
[18:27:39] [ENEMY] [GuardEnemy6] Player ammo empty: true -> false
[18:27:39] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:27:39] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 4.7°
[18:27:39] [INFO] [Player.Reload.Anim] LeftArm: pos=(1.0232859, 3.0046573), target=(16, 6), base=(16, 6)
[18:27:39] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9999998, 6), target=(4, 6), base=(4, 6)
[18:27:39] [ENEMY] [GuardEnemy1] FLANKING stuck (2.0s), pos=(1272.19, 1625.934), fail=1
[18:27:39] [ENEMY] [GuardEnemy1] State: FLANKING -> PURSUING
[18:27:39] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:27:39] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:27:39] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-168.8°, current=-128.1°, player=(2502,3690), corner_timer=0.28
[18:27:39] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=115.9°, current=66.5°, player=(2502,3690), corner_timer=0.28
[18:27:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2502.504, 3696.25), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:27:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:27:39] [ENEMY] [GuardEnemy6] Hit: dmg=1, hp=1/3->0/3
[18:27:39] [INFO] [ImpactEffects] spawn_blood_effect called at (2616.107, 3698.996), dir=(0.999606, 0.02806), lethal=true
[18:27:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:39] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:27:39] [INFO] [ImpactEffects] Wall found for blood splatter at (2650, 3699.947) (dist=33 px)
[18:27:39] [INFO] [BloodDecal] Blood puddle created at (2649, 3699.947) (added to group)
[18:27:39] [INFO] [ImpactEffects] Blood effect spawned at (2616.107, 3698.996) (scale=0.75)
[18:27:39] [ENEMY] [GuardEnemy6] Enemy died (ricochet: false, penetration: false)
[18:27:39] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:27:39] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:27:39] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:27:39] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:27:39] [INFO] [PowerFantasy]   - Duration: 300ms
[18:27:39] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy6 (remaining: 6)
[18:27:39] [INFO] [DeathAnim] Started - Angle: 1.6 deg, Index: 12
[18:27:39] [ENEMY] [GuardEnemy6] Death animation started with hit direction: (0.999606, 0.02806)
[18:27:39] [INFO] [ReplayManager] Recording frame 2220 (35,9s): player_valid=True, enemies=10
[18:27:40] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[18:27:40] [INFO] [PowerFantasy] Ending power fantasy effect
[18:27:40] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:27:40] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:27:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2502.504, 3696.25), source=PLAYER (MakarovPM), range=1469, listeners=6
[18:27:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[18:27:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2502.504, 3696.25), shooter_id=135694127301, bullet_pos=(2652.086, 3714.304)
[18:27:40] [INFO] [Bullet] Using shooter_position, distance=150.666854858398
[18:27:40] [INFO] [Bullet] Distance to wall: 150.666854858398 (10.2591831992246% of viewport)
[18:27:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:40] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:40] [ENEMY] [GuardEnemy6] Ragdoll activated
[18:27:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:27:40] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:27:40] [INFO] [ReplayManager] Recording frame 2280 (36,9s): player_valid=True, enemies=10
[18:27:41] [ENEMY] [GuardEnemy6] Death animation completed
[18:27:41] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:27:41] [INFO] [ReplayManager] Recording frame 2340 (37,9s): player_valid=True, enemies=10
[18:27:42] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:27:42] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:27:42] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:27:42] [ENEMY] [SniperEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-152.4°, current=11.3°, player=(2553,3110), corner_timer=0.00
[18:27:42] [ENEMY] [SniperEnemy2] State: IDLE -> COMBAT
[18:27:42] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:27:42] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-150.7°, current=-46.0°, player=(2629,3032), corner_timer=0.00
[18:27:42] [INFO] [ReplayManager] Recording frame 2400 (38,9s): player_valid=True, enemies=10
[18:27:43] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.5°, current=139.4°, player=(2642,2927), corner_timer=0.00
[18:27:43] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=139.5°, player=(2642,2916), corner_timer=0.00
[18:27:43] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.7°, current=139.6°, player=(2642,2910), corner_timer=0.00
[18:27:43] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.8°, current=139.7°, player=(2642,2899), corner_timer=0.00
[18:27:43] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.9°, current=139.8°, player=(2642,2894), corner_timer=0.00
[18:27:43] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=140.0°, current=139.9°, player=(2642,2883), corner_timer=0.00
[18:27:43] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-12.0°, current=-10.8°, player=(2642,2844), corner_timer=0.02
[18:27:43] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:27:43] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-22.1°, current=-58.3°, player=(2642,2795), corner_timer=0.02
[18:27:43] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:27:43] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:27:43] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-47.8°, current=-47.1°, player=(2635,2644), corner_timer=0.02
[18:27:43] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-48.5°, current=-47.8°, player=(2633,2640), corner_timer=0.02
[18:27:43] [INFO] [ReplayManager] Recording frame 2460 (39,9s): player_valid=True, enemies=10
[18:27:44] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:27:44] [INFO] [ReplayManager] Recording frame 2520 (40,9s): player_valid=True, enemies=10
[18:27:44] [INFO] [ScoreManager] Combo ended at 1. Max combo: 2
[18:27:45] [ENEMY] [GuardEnemy2] PURSUING corner check: angle -152.8°
[18:27:45] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:45] [ENEMY] [GuardEnemy1] FLANKING started: target=(2236.342, 2479.578), side=right, pos=(1309.933, 1868.344)
[18:27:45] [ENEMY] [GuardEnemy1] State: PURSUING -> FLANKING
[18:27:45] [ENEMY] [GuardEnemy2] PURSUING corner check: angle -152.8°
[18:27:45] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 172.9°
[18:27:45] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=170.2°, current=171.9°, player=(2188,2775), corner_timer=0.10
[18:27:45] [INFO] [ReplayManager] Recording frame 2580 (41,9s): player_valid=True, enemies=10
[18:27:45] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:27:46] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=163.3°, current=46.2°, player=(2188,2797), corner_timer=0.07
[18:27:46] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 174.4°
[18:27:46] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=132.3°, current=96.7°, player=(2233,2864), corner_timer=0.07
[18:27:46] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 173.8°
[18:27:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2391.668, 2691.208), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:27:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[18:27:46] [INFO] [LastChance] Threat detected: Bullet
[18:27:46] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:46] [INFO] [Player] Spawning blood effect at (2242.877, 2805.0022), dir=(1, 0), lethal=False (C#)
[18:27:46] [INFO] [ImpactEffects] spawn_blood_effect called at (2242.877, 2805.002), dir=(1, 0), lethal=false
[18:27:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:46] [INFO] [ImpactEffects] Blood effect spawned at (2242.877, 2805.002) (scale=1)
[18:27:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2391.668, 2691.208), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:27:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[18:27:46] [INFO] [LastChance] Threat detected: Bullet
[18:27:46] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:46] [INFO] [Player] Spawning blood effect at (2260.8857, 2791.4866), dir=(1, 0), lethal=False (C#)
[18:27:46] [INFO] [ImpactEffects] spawn_blood_effect called at (2260.886, 2791.487), dir=(1, 0), lethal=false
[18:27:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:46] [INFO] [ImpactEffects] Blood effect spawned at (2260.886, 2791.487) (scale=1)
[18:27:46] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 171.9°
[18:27:46] [INFO] [ReplayManager] Recording frame 2640 (42,9s): player_valid=True, enemies=10
[18:27:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2268.869, 2794.767), source=PLAYER (MakarovPM), range=1469, listeners=6
[18:27:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[18:27:47] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:27:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2391.668, 2691.208), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:27:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[18:27:47] [INFO] [LastChance] Threat detected: Bullet
[18:27:47] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:47] [INFO] [Player] Spawning blood effect at (2290.0325, 2784.8206), dir=(1, 0), lethal=False (C#)
[18:27:47] [INFO] [ImpactEffects] spawn_blood_effect called at (2290.032, 2784.821), dir=(1, 0), lethal=false
[18:27:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:47] [INFO] [ImpactEffects] Blood effect spawned at (2290.032, 2784.821) (scale=1)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2300.983, 2837.178) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2308.493, 2785.979) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2289.669, 2803.493) (added to group)
[18:27:47] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:27:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2302.455, 2788.66), source=PLAYER (MakarovPM), range=1469, listeners=6
[18:27:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[18:27:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2268.869, 2794.767), shooter_id=135694127301, bullet_pos=(2391.848, 2657.901)
[18:27:47] [INFO] [Bullet] Using shooter_position, distance=183.99983215332
[18:27:47] [INFO] [Bullet] Distance to wall: 183.99983215332 (12.5288869171763% of viewport)
[18:27:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:47] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2417.269, 2712.969), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:27:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[18:27:47] [INFO] [LastChance] Threat detected: Bullet
[18:27:47] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:47] [INFO] [Player] Spawning blood effect at (2310.498, 2781.2615), dir=(1, 0), lethal=False (C#)
[18:27:47] [INFO] [ImpactEffects] spawn_blood_effect called at (2310.498, 2781.261), dir=(1, 0), lethal=false
[18:27:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:47] [INFO] [ImpactEffects] Blood effect spawned at (2310.498, 2781.261) (scale=1)
[18:27:47] [ENEMY] [GuardEnemy2] Hit: dmg=1, hp=3/3->2/3
[18:27:47] [INFO] [ImpactEffects] spawn_blood_effect called at (2418.826, 2694.368), dir=(0.65378, -0.756684), lethal=false
[18:27:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:47] [INFO] [ImpactEffects] Wall found for blood splatter at (2443.337, 2666) (dist=37 px)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2443.337, 2667) (added to group)
[18:27:47] [INFO] [ImpactEffects] Blood effect spawned at (2418.826, 2694.368) (scale=0.5)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2342.926, 2810.417) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2353.197, 2831.847) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2315.906, 2804.121) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2360.271, 2819.482) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2318.804, 2819.353) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2343.522, 2797.713) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2390.594, 2799.523) (added to group)
[18:27:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2427.678, 2711.357), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:27:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2369.907, 2912.098) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2341.444, 2805.684) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2366.547, 2779.155) (added to group)
[18:27:47] [INFO] [LastChance] Threat detected: Bullet
[18:27:47] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:47] [INFO] [Player] Spawning blood effect at (2314.3945, 2780.584), dir=(1, 0), lethal=False (C#)
[18:27:47] [INFO] [ImpactEffects] spawn_blood_effect called at (2314.395, 2780.584), dir=(1, 0), lethal=false
[18:27:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:47] [INFO] [ImpactEffects] Blood effect spawned at (2314.395, 2780.584) (scale=1)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2347.923, 2874.636) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2385.428, 2891.452) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2385.542, 2830.838) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2423.902, 2839.324) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2358.417, 2870.191) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2362.21, 2816.931) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2418.718, 2764.957) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2385.595, 2830.323) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2361.538, 2779.7) (added to group)
[18:27:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2314.395, 2786.584), source=PLAYER (MakarovPM), range=1469, listeners=6
[18:27:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2395.809, 2788.288) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2344.513, 2880.867) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2371.225, 2866.207) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2407.559, 2823.589) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2362.55, 2880.627) (added to group)
[18:27:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2440.968, 2710.382), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:27:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[18:27:47] [INFO] [LastChance] Threat detected: Bullet
[18:27:47] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2427.888, 2829.14) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2424.36, 2843.102) (added to group)
[18:27:47] [ENEMY] [GuardEnemy2] Hit: dmg=1, hp=2/3->1/3
[18:27:47] [INFO] [ImpactEffects] spawn_blood_effect called at (2443.693, 2703.43), dir=(0.902559, -0.430565), lethal=false
[18:27:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:47] [INFO] [ImpactEffects] Wall found for blood splatter at (2522.156, 2666) (dist=86 px)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2522.156, 2667) (added to group)
[18:27:47] [INFO] [ImpactEffects] Blood effect spawned at (2443.693, 2703.43) (scale=0.5)
[18:27:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:47] [INFO] [Player] Spawning blood effect at (2314.3945, 2780.584), dir=(1, 0), lethal=False (C#)
[18:27:47] [INFO] [ImpactEffects] spawn_blood_effect called at (2314.395, 2780.584), dir=(1, 0), lethal=false
[18:27:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:47] [INFO] [ImpactEffects] Blood effect spawned at (2314.395, 2780.584) (scale=1)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2407.436, 2775.295) (added to group)
[18:27:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2314.395, 2786.584), source=PLAYER (MakarovPM), range=1469, listeners=6
[18:27:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2483.866, 2795.381) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2408.104, 2827.675) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2474.865, 2836.998) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2378.376, 2802.643) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2454.432, 2897.79) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2399.633, 2797.446) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2384.683, 2790.733) (added to group)
[18:27:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2442.07, 2692.467), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:27:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[18:27:47] [INFO] [LastChance] Threat detected: Bullet
[18:27:47] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2489.336, 2873.803) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2422.655, 2810.25) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2413.123, 2784.708) (added to group)
[18:27:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:47] [INFO] [Player] Spawning blood effect at (2314.3945, 2780.584), dir=(1, 0), lethal=False (C#)
[18:27:47] [INFO] [ImpactEffects] spawn_blood_effect called at (2314.395, 2780.584), dir=(1, 0), lethal=false
[18:27:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:47] [INFO] [ImpactEffects] Blood effect spawned at (2314.395, 2780.584) (scale=1)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2402.606, 2806.778) (added to group)
[18:27:47] [ENEMY] [GuardEnemy2] Hit: dmg=1, hp=1/3->0/3
[18:27:47] [INFO] [ImpactEffects] spawn_blood_effect called at (2459.387, 2699.437), dir=(0.92354, -0.383502), lethal=true
[18:27:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:47] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:27:47] [INFO] [ImpactEffects] Wall found for blood splatter at (2534, 2668.454) (dist=80 px)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2533, 2668.454) (added to group)
[18:27:47] [INFO] [ImpactEffects] Blood effect spawned at (2459.387, 2699.437) (scale=0.75)
[18:27:47] [ENEMY] [GuardEnemy2] Enemy died (ricochet: false, penetration: false)
[18:27:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:27:47] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:27:47] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:27:47] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:27:47] [INFO] [PowerFantasy]   - Duration: 300ms
[18:27:47] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy2 (remaining: 5)
[18:27:47] [INFO] [DeathAnim] Started - Angle: -22.6 deg, Index: 10
[18:27:47] [ENEMY] [GuardEnemy2] Death animation started with hit direction: (0.92354, -0.383502)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2500.148, 2852.162) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2488.978, 2698.877) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2372.555, 2804.313) (added to group)
[18:27:47] [INFO] [BloodDecal] Blood puddle created at (2422.233, 2838.891) (added to group)
[18:27:47] [ENEMY] [GuardEnemy1] FLANKING stuck (2.0s), pos=(1310, 1909.926), fail=1
[18:27:47] [ENEMY] [GuardEnemy1] State: FLANKING -> PURSUING
[18:27:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2314.395, 2786.584), source=PLAYER (MakarovPM), range=1469, listeners=5
[18:27:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[18:27:47] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:27:47] [INFO] [ReplayManager] Recording frame 2700 (43,7s): player_valid=True, enemies=10
[18:27:48] [INFO] [PowerFantasy] Effect duration expired after 318.00 ms
[18:27:48] [INFO] [PowerFantasy] Ending power fantasy effect
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2506.486, 2742.144) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2508.704, 2729.007) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2386.106, 2802.339) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2391.188, 2853.306) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2500.362, 2707.105) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2427.302, 2809.482) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2394.316, 2799.703) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2505, 2680.414) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2519.946, 2716.714) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2532.687, 2672.63) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2373.122, 2800.548) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2400.663, 2783.574) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2383.299, 2804.684) (added to group)
[18:27:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2314.395, 2786.584), shooter_id=135694127301, bullet_pos=(2538.631, 2678.324)
[18:27:48] [INFO] [Bullet] Using shooter_position, distance=249.002212524414
[18:27:48] [INFO] [Bullet] Distance to wall: 249.002212524414 (16.9550185254818% of viewport)
[18:27:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:48] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2516.426, 2695.912) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2385.792, 2777.903) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2396.691, 2795.142) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2459.651, 2902.285) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2411.793, 2798.346) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2464.198, 2833.351) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2508.662, 2683.472) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2529.174, 2687.604) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2423.843, 2820.656) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2513.652, 2694.137) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2525.654, 2720.947) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2503.629, 2685.378) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2520.702, 2689.231) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2404.681, 2826.405) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2546.147, 2743.066) (added to group)
[18:27:48] [ENEMY] [GuardEnemy2] Ragdoll activated
[18:27:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2522.871, 2800.792) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2410.128, 2865.671) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2417.588, 2887.425) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2470.613, 2779.373) (added to group)
[18:27:48] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:27:48] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:27:48] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:27:48] [ENEMY] [GuardEnemy1] Player reloading: false -> true
[18:27:48] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[18:27:48] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[18:27:48] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:27:48] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2314.395, 2780.584), source=PLAYER (Player), range=900, listeners=5
[18:27:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[18:27:48] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=4057), can_see=false
[18:27:48] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3805), can_see=false
[18:27:48] [ENEMY] [GuardEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1331), can_see=false
[18:27:48] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=1372), can_see=false
[18:27:48] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=2532), can_see=false
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2455.596, 2869.346) (added to group)
[18:27:48] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2480.4, 2915.673) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2478.99, 2879.087) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2502.697, 2799.201) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2464.521, 2860.374) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2494.272, 2807.884) (added to group)
[18:27:48] [INFO] [BloodDecal] Blood puddle created at (2609.907, 2784.375) (added to group)
[18:27:48] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:27:48] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:27:48] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:27:48] [ENEMY] [GuardEnemy1] Player reloading: true -> false
[18:27:48] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[18:27:48] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[18:27:48] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:27:48] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:27:48] [INFO] [ReplayManager] Recording frame 2760 (44,6s): player_valid=True, enemies=10
[18:27:49] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:27:49] [ENEMY] [GuardEnemy2] Death animation completed
[18:27:49] [INFO] [ReplayManager] Recording frame 2820 (45,6s): player_valid=True, enemies=10
[18:27:50] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:27:50] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:27:50] [INFO] [ReplayManager] Recording frame 2880 (46,6s): player_valid=True, enemies=10
[18:27:51] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:27:51] [INFO] [ReplayManager] Recording frame 2940 (47,6s): player_valid=True, enemies=10
[18:27:52] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:27:52] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:27:52] [INFO] [ReplayManager] Recording frame 3000 (48,6s): player_valid=True, enemies=10
[18:27:53] [INFO] [ScoreManager] Combo ended at 1. Max combo: 2
[18:27:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=140.0°, current=140.0°, player=(2986,2595), corner_timer=0.00
[18:27:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.9°, current=139.9°, player=(2997,2595), corner_timer=0.00
[18:27:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.7°, current=139.8°, player=(3008,2595), corner_timer=0.00
[18:27:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=139.7°, player=(3019,2595), corner_timer=0.00
[18:27:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.5°, current=139.5°, player=(3030,2595), corner_timer=0.00
[18:27:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.4°, current=139.4°, player=(3041,2595), corner_timer=0.00
[18:27:53] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=151.2°, current=101.3°, player=(3063,2595), corner_timer=0.00
[18:27:53] [ENEMY] [GuardEnemy3] State: IDLE -> COMBAT
[18:27:53] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=150.7°, current=-102.1°, player=(3074,2595), corner_timer=0.00
[18:27:53] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=143.2°, current=-169.5°, player=(3190,2595), corner_timer=0.00
[18:27:53] [INFO] [ReplayManager] Recording frame 3060 (49,6s): player_valid=True, enemies=10
[18:27:54] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:27:54] [ENEMY] [GuardEnemy1] FLANKING started: target=(3260.012, 2398.837), side=right, pos=(1298.099, 1909.934)
[18:27:54] [ENEMY] [GuardEnemy1] State: PURSUING -> FLANKING
[18:27:54] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -114.4°
[18:27:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3436.921, 2418.969), source=ENEMY (GuardEnemy3), range=2000, listeners=5
[18:27:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:27:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:54] [INFO] [Player] Spawning blood effect at (3307.8257, 2595.1), dir=(1, 0), lethal=False (C#)
[18:27:54] [INFO] [ImpactEffects] spawn_blood_effect called at (3307.826, 2595.1), dir=(1, 0), lethal=false
[18:27:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:54] [INFO] [ImpactEffects] Blood effect spawned at (3307.826, 2595.1) (scale=1)
[18:27:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:54] [INFO] [Player] Spawning blood effect at (3307.8257, 2595.1), dir=(1, 0), lethal=False (C#)
[18:27:54] [INFO] [ImpactEffects] spawn_blood_effect called at (3307.826, 2595.1), dir=(1, 0), lethal=false
[18:27:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:54] [INFO] [ImpactEffects] Blood effect spawned at (3307.826, 2595.1) (scale=1)
[18:27:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:54] [INFO] [Player] Spawning blood effect at (3307.8257, 2595.1), dir=(1, 0), lethal=False (C#)
[18:27:54] [INFO] [ImpactEffects] spawn_blood_effect called at (3307.826, 2595.1), dir=(1, 0), lethal=false
[18:27:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:54] [INFO] [ImpactEffects] Blood effect spawned at (3307.826, 2595.1) (scale=1)
[18:27:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:54] [INFO] [Player] Spawning blood effect at (3307.8257, 2595.1), dir=(1, 0), lethal=False (C#)
[18:27:54] [INFO] [ImpactEffects] spawn_blood_effect called at (3307.826, 2595.1), dir=(1, 0), lethal=false
[18:27:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:54] [INFO] [ImpactEffects] Blood effect spawned at (3307.826, 2595.1) (scale=1)
[18:27:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:54] [INFO] [Player] Spawning blood effect at (3307.8257, 2595.1), dir=(1, 0), lethal=False (C#)
[18:27:54] [INFO] [ImpactEffects] spawn_blood_effect called at (3307.826, 2595.1), dir=(1, 0), lethal=false
[18:27:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:54] [INFO] [ImpactEffects] Blood effect spawned at (3307.826, 2595.1) (scale=1)
[18:27:54] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (107 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (105 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (104 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (102 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -123.1°
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (100 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3376.14, 2575.946) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (98 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=168.8°, current=121.3°, player=(3308,2595), corner_timer=0.00
[18:27:54] [ENEMY] [GuardEnemy4] State: IDLE -> COMBAT
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3390.626, 2580.763) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3346.911, 2595.11) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3360.442, 2634.152) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3387.259, 2615.469) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3379.52, 2621.345) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (96 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (94 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.8°, current=-64.2°, player=(3308,2594), corner_timer=0.00
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3387.99, 2612.915) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3391.134, 2604.327) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3393.123, 2620.642) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3363.929, 2593.443) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (92 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3385.407, 2620.807) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3374.627, 2649.771) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (90 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (87 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3417.086, 2593.3) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3413.3, 2572.628) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (85 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3416.721, 2577.523) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3371.248, 2600.839) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3398.739, 2579.278) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (82 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (79 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3422.934, 2670.025) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (76 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3406.561, 2644.178) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3437.518, 2671.755) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3385.504, 2644.295) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (73 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (70 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3440.048, 2640.925) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3370.577, 2605.854) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (67 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3423.732, 2674.769) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (64 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (61 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3401.178, 2632.927) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (58 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3483.164, 2656.744) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3478.789, 2670.262) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3453.171, 2625.833) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (55 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (52 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3449.167, 2724.589) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3426.362, 2613.96) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (50 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3447.123, 2706.26) (added to group)
[18:27:54] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -122.8°
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (48 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (46 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3485.808, 2588.681) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (45 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3481.12, 2720.289) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3462.349, 2649.597) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3494.53, 2692.448) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3429.894, 2615.978) (added to group)
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (44 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [EnemyGrenade] Unsafe throw distance (43 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3480.306, 2618.984) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3396.051, 2647.359) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3497.041, 2677.368) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3485.396, 2748.38) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3493.651, 2685.657) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3453.202, 2666.115) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3449.697, 2667.722) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3429.137, 2722.952) (added to group)
[18:27:54] [INFO] [ReplayManager] Recording frame 3120 (50,6s): player_valid=True, enemies=10
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3462.953, 2741.087) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3527.554, 2658.399) (added to group)
[18:27:54] [INFO] [BloodDecal] Blood puddle created at (3435.811, 2703.994) (added to group)
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3469.224, 2634.689) (added to group)
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3448.584, 2770.416) (added to group)
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3523.345, 2636.304) (added to group)
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3354.029, 2515.097), source=ENEMY (GuardEnemy3), range=2000, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:27:55] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=172.5°, current=-138.0°, player=(3262,2508), corner_timer=0.00
[18:27:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:55] [INFO] [Player] Spawning blood effect at (3259.449, 2504.8762), dir=(1, 0), lethal=False (C#)
[18:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (3259.449, 2504.876), dir=(1, 0), lethal=false
[18:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:55] [INFO] [ImpactEffects] Blood effect spawned at (3259.449, 2504.876) (scale=1)
[18:27:55] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 155.4°
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3311.474, 2519.842) (added to group)
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3315.117, 2512.438) (added to group)
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4552.196, 2336.895), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3310.819, 2511.399) (added to group)
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4530.979, 2339.12), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3330.542, 2511.765) (added to group)
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3386.477, 2527.655) (added to group)
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4509.763, 2341.344), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4488.546, 2343.569), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3358.811, 2526.458) (added to group)
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3391.408, 2618.212) (added to group)
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4467.329, 2345.793), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3230.065, 2481.492), source=PLAYER (MakarovPM), range=1469, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=1
[18:27:55] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 142.4°
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (76 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3452.266, 2669.308) (added to group)
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (74 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4446.112, 2348.017), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (73 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (72 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (70 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=2/2->1/2
[18:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (3276.777, 2605.83), dir=(0.401736, 0.915756), lethal=false
[18:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:55] [INFO] [ImpactEffects] Wall found for blood splatter at (3296.154, 2650) (dist=48 px)
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3296.154, 2649) (added to group)
[18:27:55] [INFO] [ImpactEffects] Blood effect spawned at (3276.777, 2605.83) (scale=0.5)
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (138 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4424.896, 2350.241), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (141 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3407.666, 2616.159) (added to group)
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3444.215, 2641.399) (added to group)
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4403.679, 2352.466), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3230.065, 2481.492), source=PLAYER (MakarovPM), range=1469, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=1
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (154 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3269.572, 2625.934), source=ENEMY (GuardEnemy3), range=2000, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:27:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4379.694, 2362.823), shooter_id=133882187865, bullet_pos=(3965.753, 2315.227)
[18:27:55] [INFO] [Bullet] Using shooter_position, distance=416.667694091797
[18:27:55] [INFO] [Bullet] Distance to wall: 416.667694091797 (28.3716694750395% of viewport)
[18:27:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4382.462, 2354.69), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:27:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:55] [INFO] [Player] Spawning blood effect at (3230.0647, 2475.492), dir=(1, 0), lethal=False (C#)
[18:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (3230.065, 2475.492), dir=(1, 0), lethal=false
[18:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:55] [INFO] [ImpactEffects] Blood effect spawned at (3230.065, 2475.492) (scale=1)
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:27:55] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=1/2->0/2
[18:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (3276.79, 2608.711), dir=(0.17056, 0.985347), lethal=true
[18:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:27:55] [INFO] [ImpactEffects] Wall found for blood splatter at (3283.937, 2650) (dist=41 px)
[18:27:55] [INFO] [BloodDecal] Blood puddle created at (3283.937, 2649) (added to group)
[18:27:55] [INFO] [ImpactEffects] Blood effect spawned at (3276.79, 2608.711) (scale=0.75)
[18:27:55] [ENEMY] [GuardEnemy3] Enemy died (ricochet: false, penetration: false)
[18:27:55] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:27:55] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:27:55] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:27:55] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:27:55] [INFO] [PowerFantasy]   - Duration: 300ms
[18:27:55] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy3 (remaining: 4)
[18:27:55] [INFO] [DeathAnim] Started - Angle: 80.2 deg, Index: 17
[18:27:55] [ENEMY] [GuardEnemy3] Death animation started with hit direction: (0.17056, 0.985347)
[18:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4361.245, 2356.914), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:55] [INFO] [ReplayManager] Recording frame 3180 (51,6s): player_valid=True, enemies=10
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3230.065, 2481.492), source=PLAYER (MakarovPM), range=1469, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=1
[18:27:56] [INFO] [PowerFantasy] Effect duration expired after 328.00 ms
[18:27:56] [INFO] [PowerFantasy] Ending power fantasy effect
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4340.031, 2359.139), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:56] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 134.4°
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4318.814, 2361.363), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:56] [INFO] [BloodDecal] Blood puddle created at (3306.739, 2518.141) (added to group)
[18:27:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3230.065, 2481.492), shooter_id=135694127301, bullet_pos=(3295.676, 2648.034)
[18:27:56] [INFO] [Bullet] Using shooter_position, distance=179.000091552734
[18:27:56] [INFO] [Bullet] Distance to wall: 179.000091552734 (12.1884453859702% of viewport)
[18:27:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3230.065, 2481.492), source=PLAYER (MakarovPM), range=1469, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=1
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4297.598, 2363.586), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:56] [INFO] [BloodDecal] Blood puddle created at (3275.027, 2478.392) (added to group)
[18:27:56] [INFO] [BloodDecal] Blood puddle created at (3313.962, 2523.058) (added to group)
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4276.381, 2365.81), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:56] [INFO] [BloodDecal] Blood puddle created at (3295.325, 2513.375) (added to group)
[18:27:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4294.827, 2371.719), shooter_id=133882187865, bullet_pos=(3744.737, 1925.472)
[18:27:56] [INFO] [Bullet] Using shooter_position, distance=708.332885742188
[18:27:56] [INFO] [Bullet] Distance to wall: 708.332885742188 (48.2316886995101% of viewport)
[18:27:56] [INFO] [Bullet] Distance-based penetration chance: 90.3963631839049%
[18:27:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4316.043, 2369.495), shooter_id=133882187865, bullet_pos=(3501.684, 1948.665)
[18:27:56] [INFO] [Bullet] Using shooter_position, distance=916.667419433594
[18:27:56] [INFO] [Bullet] Distance to wall: 916.667419433594 (62.4175701919851% of viewport)
[18:27:56] [INFO] [Bullet] Distance-based penetration chance: 73.8461681093508%
[18:27:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4358.477, 2365.047), shooter_id=133882187865, bullet_pos=(3253.464, 2949.38)
[18:27:56] [INFO] [Bullet] Using shooter_position, distance=1249.99987792969
[18:27:56] [INFO] [Bullet] Distance to wall: 1249.99987792969 (85.1147902353272% of viewport)
[18:27:56] [INFO] [Bullet] Distance-based penetration chance: 47.3660780587849%
[18:27:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4337.26, 2367.271), shooter_id=133882187865, bullet_pos=(3349.348, 2905.473)
[18:27:56] [INFO] [Bullet] Using shooter_position, distance=1125.00341796875
[18:27:56] [INFO] [Bullet] Distance to wall: 1125.00341796875 (76.6035514283646% of viewport)
[18:27:56] [INFO] [Bullet] Distance-based penetration chance: 57.295856666908%
[18:27:56] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4255.164, 2368.034), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3230.065, 2481.492), shooter_id=135694127301, bullet_pos=(3325.853, 2657.821)
[18:27:56] [INFO] [Bullet] Using shooter_position, distance=200.666946411133
[18:27:56] [INFO] [Bullet] Distance to wall: 200.666946411133 (13.6637813751114% of viewport)
[18:27:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4443.344, 2356.15), shooter_id=133882187865, bullet_pos=(2486.823, 2939.603)
[18:27:56] [INFO] [Bullet] Using shooter_position, distance=2041.66418457031
[18:27:56] [INFO] [Bullet] Distance to wall: 2041.66418457031 (139.020668616783% of viewport)
[18:27:56] [INFO] [BloodDecal] Blood puddle created at (3359.135, 2543.123) (added to group)
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4233.947, 2370.258), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:56] [INFO] [BloodDecal] Blood puddle created at (3351.321, 2534.847) (added to group)
[18:27:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4422.127, 2358.374), shooter_id=133882187865, bullet_pos=(2359.004, 2647.838)
[18:27:56] [INFO] [Bullet] Using shooter_position, distance=2083.33129882813
[18:27:56] [INFO] [Bullet] Distance to wall: 2083.33129882813 (141.857859045665% of viewport)
[18:27:56] [INFO] [Bullet] Distance-based penetration chance: 21.6284281908671%
[18:27:56] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:56] [ENEMY] [GuardEnemy3] Ragdoll activated
[18:27:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:27:56] [INFO] [BloodDecal] Blood puddle created at (3410.507, 2581.495) (added to group)
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4212.73, 2372.482), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4209.962, 2380.615), shooter_id=133882187865, bullet_pos=(3904.761, 2828.112)
[18:27:56] [INFO] [Bullet] Using shooter_position, distance=541.665649414063
[18:27:56] [INFO] [Bullet] Distance to wall: 541.665649414063 (36.8830101039046% of viewport)
[18:27:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4191.514, 2374.706), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:56] [INFO] [BloodDecal] Blood puddle created at (3341.853, 2611.052) (added to group)
[18:27:56] [INFO] [BloodDecal] Blood puddle created at (3347.745, 2533.367) (added to group)
[18:27:56] [INFO] [BloodDecal] Blood puddle created at (3364.472, 2614.144) (added to group)
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4170.297, 2376.93), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3230.065, 2481.492), source=PLAYER (MakarovPM), range=1469, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=1
[18:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4154.384, 2378.598), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4103.878, 2391.735), shooter_id=133882187865, bullet_pos=(3960.526, 2306.718)
[18:27:56] [INFO] [Bullet] Using shooter_position, distance=166.667144775391
[18:27:56] [INFO] [Bullet] Distance to wall: 166.667144775391 (11.3486723616114% of viewport)
[18:27:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:56] [INFO] [ReplayManager] Recording frame 3240 (52,3s): player_valid=True, enemies=10
[18:27:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4154.384, 2378.598), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4252.396, 2376.168), shooter_id=133882187865, bullet_pos=(2887.279, 1754.519)
[18:27:57] [INFO] [Bullet] Using shooter_position, distance=1499.99719238281
[18:27:57] [INFO] [Bullet] Distance to wall: 1499.99719238281 (102.137567080966% of viewport)
[18:27:57] [INFO] [Bullet] Distance-based penetration chance: 29.5724865838068%
[18:27:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3230.065, 2481.492), shooter_id=135694127301, bullet_pos=(3305.892, 2649.141)
[18:27:57] [INFO] [Bullet] Using shooter_position, distance=183.999557495117
[18:27:57] [INFO] [Bullet] Distance to wall: 183.999557495117 (12.5288682151942% of viewport)
[18:27:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4154.384, 2378.598), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4167.529, 2385.063), shooter_id=133882187865, bullet_pos=(3117.76, 2652.649)
[18:27:57] [INFO] [Bullet] Using shooter_position, distance=1083.33581542969
[18:27:57] [INFO] [Bullet] Distance to wall: 1083.33581542969 (73.766327751515% of viewport)
[18:27:57] [INFO] [Bullet] Distance-based penetration chance: 60.6059509565659%
[18:27:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4188.746, 2382.839), shooter_id=133882187865, bullet_pos=(3060.801, 2921.587)
[18:27:57] [INFO] [Bullet] Using shooter_position, distance=1250.0029296875
[18:27:57] [INFO] [Bullet] Distance to wall: 1250.0029296875 (85.1149980351284% of viewport)
[18:27:57] [INFO] [Bullet] Distance-based penetration chance: 47.3658356256836%
[18:27:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4400.911, 2360.598), shooter_id=133882187865, bullet_pos=(1944.041, 3932.439)
[18:27:57] [INFO] [Bullet] Using shooter_position, distance=2916.65771484375
[18:27:57] [INFO] [Bullet] Distance to wall: 2916.65771484375 (198.600587064328% of viewport)
[18:27:57] [INFO] [Bullet] Distance-based penetration chance: 10.2798825871343%
[18:27:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4154.384, 2378.598), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4231.179, 2378.391), shooter_id=133882187865, bullet_pos=(2547.937, 2670.096)
[18:27:57] [INFO] [Bullet] Using shooter_position, distance=1708.33129882813
[18:27:57] [INFO] [Bullet] Distance to wall: 1708.33129882813 (116.323419481469% of viewport)
[18:27:57] [INFO] [Bullet] Distance-based penetration chance: 26.7353161037062%
[18:27:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4154.384, 2378.598), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4154.384, 2378.598), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:57] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:27:57] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:27:57] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:27:57] [ENEMY] [GuardEnemy1] Player reloading: false -> true
[18:27:57] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[18:27:57] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:27:57] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(3230.065, 2475.492), source=PLAYER (Player), range=900, listeners=4
[18:27:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=0
[18:27:57] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=3150), can_see=false
[18:27:57] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3250), can_see=false
[18:27:57] [ENEMY] [GuardEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=2002), can_see=false
[18:27:57] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=929), can_see=true
[18:27:57] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) - pursuing to attack (dist=929)
[18:27:57] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[18:27:57] [INFO] [Player.Reload.Anim] LeftArm: pos=(2.8055544, 3.361111), target=(-4, 2), base=(16, 6)
[18:27:57] [INFO] [Player.Reload.Anim] RightArm: pos=(4.0000005, 6), target=(4, 6), base=(4, 6)
[18:27:57] [INFO] [Player.Reload.Anim] LeftArm: pos=(-0.030093431, 2.7939813), target=(-4, 2), base=(16, 6)
[18:27:57] [INFO] [Player.Reload.Anim] RightArm: pos=(4.0000005, 6), target=(4, 6), base=(4, 6)
[18:27:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4087.966, 2393.403), shooter_id=133882187865, bullet_pos=(2760.986, 1897.357)
[18:27:57] [INFO] [Bullet] Using shooter_position, distance=1416.66394042969
[18:27:57] [INFO] [Bullet] Distance to wall: 1416.66394042969 (96.4632527191395% of viewport)
[18:27:57] [INFO] [Bullet] Distance-based penetration chance: 34.1262051610039%
[18:27:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4464.561, 2353.925), shooter_id=133882187865, bullet_pos=(58.33919, 2657.459)
[18:27:57] [INFO] [Bullet] Using shooter_position, distance=4416.66455078125
[18:27:57] [INFO] [Bullet] Distance to wall: 4416.66455078125 (300.738810792666% of viewport)
[18:27:57] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:27:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:57] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:27:57] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:27:57] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:27:57] [ENEMY] [GuardEnemy1] Player reloading: true -> false
[18:27:57] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[18:27:57] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:27:57] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:27:57] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[18:27:57] [ENEMY] [GuardEnemy3] Death animation completed
[18:27:57] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:27:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4125.095, 2389.511), shooter_id=133882187865, bullet_pos=(2010.842, 3945.316)
[18:27:57] [INFO] [Bullet] Using shooter_position, distance=2624.99438476563
[18:27:57] [INFO] [Bullet] Distance to wall: 2624.99438476563 (178.740694597736% of viewport)
[18:27:57] [INFO] [Bullet] Distance-based penetration chance: 14.2518610804527%
[18:27:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4087.966, 2393.403), shooter_id=133882187865, bullet_pos=(2214.445, 2318.839)
[18:27:57] [INFO] [Bullet] Using shooter_position, distance=1875.00366210938
[18:27:57] [INFO] [Bullet] Distance to wall: 1875.00366210938 (127.67244718074% of viewport)
[18:27:57] [INFO] [Bullet] Distance-based penetration chance: 24.4655105638519%
[18:27:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:57] [INFO] [ReplayManager] Recording frame 3300 (53,3s): player_valid=True, enemies=10
[18:27:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4087.966, 2393.403), shooter_id=133882187865, bullet_pos=(2658.302, 3791.989)
[18:27:58] [INFO] [Bullet] Using shooter_position, distance=1999.99548339844
[18:27:58] [INFO] [Bullet] Distance to wall: 1999.99548339844 (136.183370132005% of viewport)
[18:27:58] [INFO] [Bullet] Distance-based penetration chance: 22.763325973599%
[18:27:58] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4273.613, 2373.944), shooter_id=133882187865, bullet_pos=(37.77847, 2027.204)
[18:27:58] [INFO] [Bullet] Using shooter_position, distance=4250.00244140625
[18:27:58] [INFO] [Bullet] Distance to wall: 4250.00244140625 (289.390481300726% of viewport)
[18:27:58] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:27:58] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4087.966, 2393.403), shooter_id=133882187865, bullet_pos=(2656.211, 3848.904)
[18:27:58] [INFO] [Bullet] Using shooter_position, distance=2041.66711425781
[18:27:58] [INFO] [Bullet] Distance to wall: 2041.66711425781 (139.020868104592% of viewport)
[18:27:58] [INFO] [Bullet] Distance-based penetration chance: 22.1958263790815%
[18:27:58] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:58] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:27:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4087.966, 2393.403), shooter_id=133882187865, bullet_pos=(1340.295, 1899.72)
[18:27:58] [INFO] [Bullet] Using shooter_position, distance=2791.66918945313
[18:27:58] [INFO] [Bullet] Distance to wall: 2791.66918945313 (190.089888536849% of viewport)
[18:27:58] [INFO] [Bullet] Distance-based penetration chance: 11.9820222926303%
[18:27:58] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:58] [ENEMY] [GuardEnemy1] State: FLANKING -> RETREATING
[18:27:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4146.312, 2387.287), shooter_id=133882187865, bullet_pos=(56.50129, 1849.603)
[18:27:58] [INFO] [Bullet] Using shooter_position, distance=4125.00390625
[18:27:58] [INFO] [Bullet] Distance to wall: 4125.00390625 (280.879101189899% of viewport)
[18:27:58] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:27:58] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:58] [ENEMY] [GuardEnemy1] State: RETREATING -> IN_COVER
[18:27:58] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[18:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3905.167, 2405.481), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3346.898, 2481.492), source=PLAYER (MakarovPM), range=1469, listeners=4
[18:27:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=1
[18:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3883.995, 2408.099), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:58] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-135.2°, current=-135.3°, player=(3357,2475), corner_timer=0.00
[18:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3862.837, 2410.824), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:58] [INFO] [LastChance] Threat detected: @Area2D@1919
[18:27:58] [INFO] [LastChance] Not in hard mode - effect disabled
[18:27:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:27:58] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:27:58] [INFO] [Player] Spawning blood effect at (3396.398, 2475.492), dir=(1, 0), lethal=False (C#)
[18:27:58] [INFO] [ImpactEffects] spawn_blood_effect called at (3396.398, 2475.492), dir=(1, 0), lethal=false
[18:27:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:58] [INFO] [ImpactEffects] Blood effect spawned at (3396.398, 2475.492) (scale=1)
[18:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3841.695, 2413.673), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3820.572, 2416.663), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3799.473, 2419.816), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3451.398, 2481.492), source=PLAYER (MakarovPM), range=1469, listeners=4
[18:27:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[18:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3778.404, 2423.163), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:27:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:27:58] [INFO] [BloodDecal] Blood puddle created at (3434.885, 2474.419) (added to group)
[18:27:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3775.822, 2430.693), shooter_id=133882187865, bullet_pos=(3281.984, 2653.238)
[18:27:58] [INFO] [Bullet] Using shooter_position, distance=541.666564941406
[18:27:58] [INFO] [Bullet] Distance to wall: 541.666564941406 (36.883072443845% of viewport)
[18:27:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:58] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:58] [ENEMY] [GuardEnemy4] Hit: dmg=1, hp=2/2->1/2
[18:27:58] [INFO] [ImpactEffects] spawn_blood_effect called at (3767.883, 2424.92), dir=(0.98222, -0.187732), lethal=false
[18:27:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:27:58] [INFO] [ImpactEffects] Blood effect spawned at (3767.883, 2424.92) (scale=0.5)
[18:27:58] [INFO] [BloodDecal] Blood puddle created at (3495.375, 2511.349) (added to group)
[18:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3511.898, 2481.492), source=PLAYER (MakarovPM), range=1469, listeners=4
[18:27:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[18:27:58] [INFO] [BloodDecal] Blood puddle created at (3502.32, 2519.512) (added to group)
[18:27:58] [INFO] [ReplayManager] Recording frame 3360 (54,3s): player_valid=True, enemies=10
[18:27:58] [ENEMY] [GuardEnemy4] State: COMBAT -> RETREATING
[18:27:58] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-133.0°, current=-133.1°, player=(3522,2475), corner_timer=0.00
[18:27:58] [ENEMY] [GuardEnemy4] State: RETREATING -> SUPPRESSED
[18:27:58] [INFO] [BloodDecal] Blood puddle created at (3497.309, 2461.365) (added to group)
[18:27:58] [INFO] [BloodDecal] Blood puddle created at (3479.937, 2521.645) (added to group)
[18:27:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3713.008, 2441.898), shooter_id=133882187865, bullet_pos=(3311.223, 2662.441)
[18:27:59] [INFO] [Bullet] Using shooter_position, distance=458.333831787109
[18:27:59] [INFO] [Bullet] Distance to wall: 458.333831787109 (31.2087934079846% of viewport)
[18:27:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:27:59] [INFO] [Bullet] Caliber cannot penetrate walls
[18:27:59] [ENEMY] [GuardEnemy4] Hit: dmg=1, hp=1/2->0/2
[18:27:59] [INFO] [ImpactEffects] spawn_blood_effect called at (3736.39, 2430.59), dir=(0.987631, -0.156795), lethal=true
[18:27:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:27:59] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:27:59] [INFO] [ImpactEffects] Blood effect spawned at (3736.39, 2430.59) (scale=0.75)
[18:27:59] [ENEMY] [GuardEnemy4] Enemy died (ricochet: false, penetration: false)
[18:27:59] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:27:59] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:27:59] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:27:59] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:27:59] [INFO] [PowerFantasy]   - Duration: 300ms
[18:27:59] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy4 (remaining: 3)
[18:27:59] [INFO] [DeathAnim] Started - Angle: -9.0 deg, Index: 11
[18:27:59] [ENEMY] [GuardEnemy4] Death animation started with hit direction: (0.987631, -0.156795)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3540.32, 2500.833) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3499.665, 2575.471) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3533.299, 2465.236) (added to group)
[18:27:59] [INFO] [PowerFantasy] Effect duration expired after 323.00 ms
[18:27:59] [INFO] [PowerFantasy] Ending power fantasy effect
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3802.358, 2415.091) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3816.372, 2410.731) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3833.622, 2424.139) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3574.719, 2471.526) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3586.612, 2593.754) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3857.039, 2481.873) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3800.34, 2425.102) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3846.122, 2416.248) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3826.896, 2464.787) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3787.531, 2463.388) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3801.193, 2454.304) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3808.437, 2415.249) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3834.869, 2482.15) (added to group)
[18:27:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3754.827, 2434.162), shooter_id=133882187865, bullet_pos=(2137.462, 1897.223)
[18:27:59] [INFO] [Bullet] Using shooter_position, distance=1704.1640625
[18:27:59] [INFO] [Bullet] Distance to wall: 1704.1640625 (116.039664697015% of viewport)
[18:27:59] [INFO] [Bullet] Distance-based penetration chance: 26.792067060597%
[18:27:59] [INFO] [Bullet] Penetration failed (distance roll)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3943.556, 2444.79) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3786.998, 2433.67) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3837.475, 2463.858) (added to group)
[18:27:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3733.884, 2437.879), shooter_id=133882187865, bullet_pos=(2103.723, 1941.127)
[18:27:59] [INFO] [Bullet] Using shooter_position, distance=1704.16760253906
[18:27:59] [INFO] [Bullet] Distance to wall: 1704.16760253906 (116.039905744784% of viewport)
[18:27:59] [ENEMY] [GuardEnemy4] Ragdoll activated
[18:27:59] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3838.34, 2433.257) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3897.849, 2495.266) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3924.629, 2481.127) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3935.995, 2583.581) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (4007.603, 2517.389) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3997.79, 2569.623) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3820.677, 2506.465) (added to group)
[18:27:59] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:27:59] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:27:59] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:27:59] [ENEMY] [GuardEnemy1] Player reloading: false -> true
[18:27:59] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:27:59] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(3650.634, 2363.002), source=PLAYER (Player), range=900, listeners=3
[18:27:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[18:27:59] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=2766), can_see=false
[18:27:59] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3043), can_see=false
[18:27:59] [ENEMY] [GuardEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=2384), can_see=false
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3816.091, 2452.19) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3903.402, 2518.267) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3871.457, 2512.1) (added to group)
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3841.312, 2462.537) (added to group)
[18:27:59] [INFO] [ReplayManager] Recording frame 3420 (55,0s): player_valid=True, enemies=10
[18:27:59] [INFO] [BloodDecal] Blood puddle created at (3942.742, 2537.235) (added to group)
[18:28:00] [INFO] [BloodDecal] Blood puddle created at (3916.819, 2451.648) (added to group)
[18:28:00] [INFO] [BloodDecal] Blood puddle created at (3973.161, 2588.767) (added to group)
[18:28:00] [INFO] [BloodDecal] Blood puddle created at (3892.165, 2583.372) (added to group)
[18:28:00] [INFO] [BloodDecal] Blood puddle created at (3938.41, 2482.403) (added to group)
[18:28:00] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:28:00] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:28:00] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:28:00] [ENEMY] [GuardEnemy1] Player reloading: true -> false
[18:28:00] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:28:00] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:28:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3817.923, 2424.338), shooter_id=133882187865, bullet_pos=(31.10636, 2496.55)
[18:28:00] [INFO] [Bullet] Using shooter_position, distance=3787.5048828125
[18:28:00] [INFO] [Bullet] Distance to wall: 3787.5048828125 (257.898172078059% of viewport)
[18:28:00] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:28:00] [INFO] [Bullet] Penetration failed (distance roll)
[18:28:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3796.857, 2427.428), shooter_id=133882187865, bullet_pos=(51.13281, 2456.619)
[18:28:00] [INFO] [Bullet] Using shooter_position, distance=3745.83764648438
[18:28:00] [INFO] [Bullet] Distance to wall: 3745.83764648438 (255.060973337186% of viewport)
[18:28:00] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:28:00] [INFO] [Bullet] Penetration failed (distance roll)
[18:28:00] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:28:00] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-127.1°, current=-127.1°, player=(3650,2121), corner_timer=0.00
[18:28:00] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:28:00] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.4°, current=139.3°, player=(3650,2071), corner_timer=0.00
[18:28:00] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.5°, current=139.4°, player=(3650,2066), corner_timer=0.00
[18:28:00] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.6°, current=139.6°, player=(3652,2055), corner_timer=0.00
[18:28:00] [ENEMY] [GuardEnemy4] Death animation completed
[18:28:00] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.8°, current=139.8°, player=(3657,2041), corner_timer=0.00
[18:28:00] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-126.0°, current=-126.1°, player=(3661,2032), corner_timer=0.00
[18:28:00] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=140.0°, current=139.9°, player=(3667,2023), corner_timer=0.00
[18:28:00] [INFO] [ReplayManager] Recording frame 3480 (56,0s): player_valid=True, enemies=10
[18:28:00] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> IN_COVER
[18:28:01] [ENEMY] [GuardEnemy1] State: IN_COVER -> PURSUING
[18:28:01] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=140.1°, current=140.1°, player=(3705,1984), corner_timer=0.00
[18:28:01] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=140.1°, current=140.1°, player=(3729,1966), corner_timer=0.00
[18:28:01] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.9°, current=140.0°, player=(3736,1966), corner_timer=0.00
[18:28:01] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.8°, current=139.8°, player=(3748,1966), corner_timer=0.00
[18:28:01] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=139.6°, player=(3764,1964), corner_timer=0.00
[18:28:01] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.6°, current=139.6°, player=(3853,1885), corner_timer=0.00
[18:28:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3511.898, 2481.492), shooter_id=135694127301, bullet_pos=(6074.242, 2160.909)
[18:28:01] [INFO] [Bullet] Using shooter_position, distance=2582.32104492188
[18:28:01] [INFO] [Bullet] Distance to wall: 2582.32104492188 (175.834988418423% of viewport)
[18:28:01] [INFO] [Bullet] Distance-based penetration chance: 14.8330023163155%
[18:28:01] [INFO] [Bullet] Penetration failed (distance roll)
[18:28:01] [INFO] [ReplayManager] Recording frame 3540 (57,0s): player_valid=True, enemies=10
[18:28:01] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.8°, current=139.8°, player=(3915,1823), corner_timer=0.00
[18:28:02] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=140.0°, current=140.0°, player=(3985,1753), corner_timer=0.00
[18:28:02] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=140.2°, current=140.1°, player=(4024,1714), corner_timer=0.00
[18:28:02] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:28:02] [ENEMY] [GuardEnemy1] FLANKING started: target=(3957.895, 1875.721), side=left, pos=(1309.934, 1909.934)
[18:28:02] [ENEMY] [GuardEnemy1] State: PURSUING -> FLANKING
[18:28:02] [INFO] [ReplayManager] Recording frame 3600 (58,0s): player_valid=True, enemies=10
[18:28:03] [INFO] [ReplayManager] Recording frame 3660 (59,0s): player_valid=True, enemies=10
[18:28:04] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[18:28:04] [ENEMY] [GuardEnemy1] FLANKING stuck (2.0s), pos=(1310, 1909.999), fail=1
[18:28:04] [ENEMY] [GuardEnemy1] State: FLANKING -> PURSUING
[18:28:04] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:28:04] [INFO] [ReplayManager] Recording frame 3720 (60,0s): player_valid=True, enemies=10
[18:28:05] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:28:05] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-103.5°, current=-103.6°, player=(4727,1073), corner_timer=0.00
[18:28:05] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=140.3°, current=140.5°, player=(4787,1073), corner_timer=0.00
[18:28:05] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-101.0°, current=-101.1°, player=(4891,1072), corner_timer=0.00
[18:28:06] [INFO] [ReplayManager] Recording frame 3780 (61,0s): player_valid=True, enemies=10
[18:28:06] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:28:06] [INFO] [ReplayManager] Recording frame 3840 (62,0s): player_valid=True, enemies=10
[18:28:07] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:28:07] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-94.8°, current=-94.9°, player=(5263,722), corner_timer=0.00
[18:28:07] [INFO] [ReplayManager] Recording frame 3900 (63,0s): player_valid=True, enemies=10
[18:28:08] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:28:08] [INFO] [ReplayManager] Recording frame 3960 (64,0s): player_valid=True, enemies=10
[18:28:09] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:28:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5420.13, 553.0301), source=PLAYER (MakarovPM), range=1469, listeners=3
[18:28:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[18:28:09] [ENEMY] [SniperEnemy1] Hit: dmg=1, hp=3/3->2/3
[18:28:09] [INFO] [ImpactEffects] spawn_blood_effect called at (5600, 400), dir=(0.782099, -0.623154), lethal=false
[18:28:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:28:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:28:09] [INFO] [ImpactEffects] Blood effect spawned at (5600, 400) (scale=0.5)
[18:28:09] [INFO] [BloodDecal] Blood puddle created at (5661.528, 395.0927) (added to group)
[18:28:09] [INFO] [BloodDecal] Blood puddle created at (5659.097, 358.975) (added to group)
[18:28:09] [INFO] [ReplayManager] Recording frame 4020 (65,0s): player_valid=True, enemies=10
[18:28:09] [INFO] [BloodDecal] Blood puddle created at (5663.497, 385.8649) (added to group)
[18:28:10] [INFO] [BloodDecal] Blood puddle created at (5675.995, 353.2977) (added to group)
[18:28:10] [INFO] [BloodDecal] Blood puddle created at (5703.439, 430.4292) (added to group)
[18:28:10] [INFO] [BloodDecal] Blood puddle created at (5719.886, 396.8567) (added to group)
[18:28:10] [INFO] [BloodDecal] Blood puddle created at (5702.411, 438.3641) (added to group)
[18:28:10] [INFO] [BloodDecal] Blood puddle created at (5710.47, 406.3734) (added to group)
[18:28:10] [INFO] [BloodDecal] Blood puddle created at (5762.611, 461.1945) (added to group)
[18:28:10] [INFO] [BloodDecal] Blood puddle created at (5723.324, 477.5525) (added to group)
[18:28:10] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[18:28:10] [ENEMY] [GuardEnemy1] FLANKING started: target=(5380.579, 721.0804), side=left, pos=(1303.628, 1909.934)
[18:28:10] [ENEMY] [GuardEnemy1] State: PURSUING -> FLANKING
[18:28:10] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -146.0°
[18:28:10] [INFO] [ReplayManager] Recording frame 4080 (66,0s): player_valid=True, enemies=10
[18:28:11] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -141.3°
[18:28:11] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -141.6°
[18:28:11] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 123.0°
[18:28:11] [INFO] [ReplayManager] Recording frame 4140 (67,0s): player_valid=True, enemies=10
[18:28:12] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 122.4°
[18:28:12] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 121.6°
[18:28:12] [INFO] [ReplayManager] Recording frame 4200 (68,0s): player_valid=True, enemies=10
[18:28:13] [INFO] [ReplayManager] Recording frame 4260 (69,0s): player_valid=True, enemies=10
[18:28:14] [ENEMY] [GuardEnemy1] FLANKING stuck (2.0s), pos=(1309.925, 1910), fail=1
[18:28:14] [ENEMY] [GuardEnemy1] State: FLANKING -> PURSUING
[18:28:14] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:28:14] [INFO] [ReplayManager] Recording frame 4320 (70,0s): player_valid=True, enemies=10
[18:28:15] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:28:15] [INFO] [ReplayManager] Recording frame 4380 (71,0s): player_valid=True, enemies=10
[18:28:16] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-94.9°, current=-94.8°, player=(5232,374), corner_timer=0.00
[18:28:16] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:28:16] [INFO] [ReplayManager] Recording frame 4440 (72,0s): player_valid=True, enemies=10
[18:28:17] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:28:17] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-94.8°, current=-94.8°, player=(5243,487), corner_timer=0.00
[18:28:17] [INFO] [ReplayManager] Recording frame 4500 (73,0s): player_valid=True, enemies=10
[18:28:18] [INFO] [ReplayManager] Recording frame 4560 (74,0s): player_valid=True, enemies=10
[18:28:18] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:28:19] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:28:19] [INFO] [ReplayManager] Recording frame 4620 (75,0s): player_valid=True, enemies=10
[18:28:20] [INFO] ------------------------------------------------------------
[18:28:20] [INFO] GAME LOG ENDED: 2026-02-07T18:28:20
[18:28:20] [INFO] ============================================================
