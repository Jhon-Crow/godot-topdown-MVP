[18:21:32] [INFO] ============================================================
[18:21:32] [INFO] GAME LOG STARTED
[18:21:32] [INFO] ============================================================
[18:21:32] [INFO] Timestamp: 2026-02-07T18:21:32
[18:21:32] [INFO] Log file: I:/Загрузки/godot exe/снайпер/game_log_20260207_182132.txt
[18:21:32] [INFO] Executable: I:/Загрузки/godot exe/снайпер/Godot-Top-Down-Template.exe
[18:21:32] [INFO] OS: Windows
[18:21:32] [INFO] Debug build: false
[18:21:32] [INFO] Engine version: 4.3-stable (official)
[18:21:32] [INFO] Project: Godot Top-Down Template
[18:21:32] [INFO] ------------------------------------------------------------
[18:21:32] [INFO] [GameManager] GameManager ready
[18:21:32] [INFO] [ScoreManager] ScoreManager ready
[18:21:32] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[18:21:32] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[18:21:32] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[18:21:32] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[18:21:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:21:32] [INFO] [PenultimateHit] Saturation shader loaded successfully
[18:21:32] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[18:21:32] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[18:21:32] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[18:21:32] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[18:21:32] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[18:21:32] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[18:21:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:21:32] [INFO] [LastChance] Last chance shader loaded successfully
[18:21:32] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[18:21:32] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[18:21:32] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[18:21:32] [INFO] [LastChance]   Sepia intensity: 0.70
[18:21:32] [INFO] [LastChance]   Brightness: 0.60
[18:21:32] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[18:21:32] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[18:21:32] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[18:21:32] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[18:21:32] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[18:21:32] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:21:32] [INFO] [CinemaEffects] Created effects layer at layer 99
[18:21:32] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[18:21:32] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[18:21:32] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[18:21:32] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[18:21:32] [INFO] [CinemaEffects]   Grain intensity: 0.15
[18:21:32] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[18:21:32] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[18:21:32] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[18:21:32] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[18:21:32] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[18:21:32] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[18:21:32] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[18:21:32] [INFO] [GrenadeTimerHelper] Autoload ready
[18:21:32] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:21:32] [INFO] [PowerFantasy] Saturation shader loaded successfully
[18:21:32] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[18:21:32] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[18:21:32] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[18:21:32] [INFO] [ProgressManager] ProgressManager ready, loaded 4 entries
[18:21:32] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[18:21:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:32] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:21:32] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:21:32] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:21:32] [ENEMY] [Enemy1] Death animation component initialized
[18:21:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:32] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:21:32] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:21:32] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:21:32] [ENEMY] [Enemy2] Death animation component initialized
[18:21:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:32] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:21:32] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:21:32] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:21:32] [ENEMY] [Enemy3] Death animation component initialized
[18:21:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:32] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:21:32] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:21:32] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:21:32] [ENEMY] [Enemy4] Death animation component initialized
[18:21:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:32] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:21:32] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:21:32] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:21:32] [ENEMY] [Enemy5] Death animation component initialized
[18:21:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:32] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:21:32] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:21:32] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:21:32] [ENEMY] [Enemy6] Death animation component initialized
[18:21:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:32] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:21:32] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:21:32] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:21:32] [ENEMY] [Enemy7] Death animation component initialized
[18:21:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:32] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:21:32] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:21:32] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:21:32] [ENEMY] [Enemy8] Death animation component initialized
[18:21:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:32] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:21:32] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:21:32] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:21:32] [ENEMY] [Enemy9] Death animation component initialized
[18:21:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:32] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:21:32] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:21:32] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:21:32] [ENEMY] [Enemy10] Death animation component initialized
[18:21:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:32] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:21:32] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:21:32] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:21:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:21:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:21:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:21:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:21:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:21:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:21:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:21:32] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:21:32] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:21:32] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:21:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:21:32] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[18:21:32] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:21:32] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:21:32] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:21:32] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:21:32] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:21:32] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:21:32] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:21:32] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:21:32] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:21:32] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:21:32] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:21:32] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:21:32] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:21:32] [INFO] [ScoreManager] Level started with 10 enemies
[18:21:32] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:21:32] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:21:32] [INFO] [ReplayManager] Replay data cleared
[18:21:32] [INFO] [BuildingLevel] Previous replay data cleared
[18:21:32] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:21:32] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:21:32] [INFO] [ReplayManager] Level: BuildingLevel
[18:21:32] [INFO] [ReplayManager] Player: Player (valid: True)
[18:21:32] [INFO] [ReplayManager] Enemies count: 10
[18:21:32] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:21:32] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:21:32] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:21:32] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:21:32] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:21:32] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:21:32] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:21:32] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:21:32] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:21:32] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:21:32] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:21:32] [INFO] [BuildingLevel] Replay recording started successfully
[18:21:32] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:21:33] [INFO] [CinemaEffects] Found player node: Player
[18:21:33] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:21:33] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:21:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[18:21:33] [ENEMY] [Enemy1] Registered as sound listener
[18:21:33] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:21:33] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:21:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[18:21:33] [ENEMY] [Enemy2] Registered as sound listener
[18:21:33] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:21:33] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:21:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[18:21:33] [ENEMY] [Enemy3] Registered as sound listener
[18:21:33] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:21:33] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:21:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[18:21:33] [ENEMY] [Enemy4] Registered as sound listener
[18:21:33] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:21:33] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:21:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[18:21:33] [ENEMY] [Enemy5] Registered as sound listener
[18:21:33] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:21:33] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:21:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[18:21:33] [ENEMY] [Enemy6] Registered as sound listener
[18:21:33] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:21:33] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:21:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[18:21:33] [ENEMY] [Enemy7] Registered as sound listener
[18:21:33] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 2, behavior: PATROL
[18:21:33] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:21:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[18:21:33] [ENEMY] [Enemy8] Registered as sound listener
[18:21:33] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:21:33] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:21:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[18:21:33] [ENEMY] [Enemy9] Registered as sound listener
[18:21:33] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:21:33] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:21:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[18:21:33] [ENEMY] [Enemy10] Registered as sound listener
[18:21:33] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:21:33] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:21:33] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:33] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:33] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:33] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:33] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:33] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:33] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:33] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:21:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:21:33] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:21:33] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:21:33] [INFO] [PenultimateHit] Shader warmup complete in 437 ms
[18:21:33] [INFO] [LastChance] Shader warmup complete in 435 ms
[18:21:33] [INFO] [CinemaEffects] Cinema shader warmup complete in 384 ms
[18:21:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:21:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:21:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:21:33] [INFO] [LastChance] Found player: Player
[18:21:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:21:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:21:33] [INFO] [LastChance] Connected to player Died signal (C#)
[18:21:33] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:21:33] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 698 ms
[18:21:34] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:21:35] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:21:36] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:21:37] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:21:38] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[18:21:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:38] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[18:21:38] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[18:21:38] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[18:21:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:21:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:21:38] [INFO] [CinemaEffects] Scene changed to: CityLevel
[18:21:38] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:21:38] [ENEMY] [SniperEnemy1] Death animation component initialized
[18:21:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:38] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[18:21:38] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[18:21:38] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[18:21:38] [ENEMY] [SniperEnemy2] Death animation component initialized
[18:21:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:38] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[18:21:38] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[18:21:38] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[18:21:38] [ENEMY] [GuardEnemy1] Death animation component initialized
[18:21:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:38] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[18:21:38] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[18:21:38] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[18:21:38] [ENEMY] [GuardEnemy2] Death animation component initialized
[18:21:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:38] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[18:21:38] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[18:21:38] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[18:21:38] [ENEMY] [GuardEnemy3] Death animation component initialized
[18:21:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:38] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[18:21:38] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[18:21:38] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[18:21:38] [ENEMY] [GuardEnemy4] Death animation component initialized
[18:21:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:38] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[18:21:38] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[18:21:38] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[18:21:38] [ENEMY] [PatrolEnemy1] Death animation component initialized
[18:21:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:38] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[18:21:38] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[18:21:38] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[18:21:38] [ENEMY] [PatrolEnemy2] Death animation component initialized
[18:21:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:38] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[18:21:38] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[18:21:38] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[18:21:38] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:21:38] [ENEMY] [GuardEnemy5] Death animation component initialized
[18:21:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:38] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[18:21:38] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[18:21:38] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[18:21:38] [ENEMY] [GuardEnemy6] Death animation component initialized
[18:21:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:38] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:21:38] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:21:38] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:21:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:21:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:21:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:21:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:21:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:21:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:21:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:21:38] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:21:38] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:21:38] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:21:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:21:38] [INFO] [ScoreManager] Level started with 10 enemies
[18:21:38] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[18:21:38] [INFO] [ReplayManager] Replay data cleared
[18:21:38] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:21:38] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:21:38] [INFO] [ReplayManager] Level: CityLevel
[18:21:38] [INFO] [ReplayManager] Player: Player (valid: True)
[18:21:38] [INFO] [ReplayManager] Enemies count: 10
[18:21:38] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:21:38] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[18:21:38] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[18:21:38] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[18:21:38] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[18:21:38] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[18:21:38] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[18:21:38] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[18:21:38] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[18:21:38] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[18:21:38] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[18:21:38] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[18:21:38] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[18:21:38] [INFO] [CinemaEffects] Found player node: Player
[18:21:38] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:21:38] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 11)
[18:21:38] [ENEMY] [SniperEnemy1] Registered as sound listener
[18:21:38] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 4, behavior: GUARD
[18:21:38] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[18:21:38] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 12)
[18:21:38] [ENEMY] [SniperEnemy2] Registered as sound listener
[18:21:38] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 3, behavior: GUARD
[18:21:38] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[18:21:38] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 13)
[18:21:38] [ENEMY] [GuardEnemy1] Registered as sound listener
[18:21:38] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 3, behavior: GUARD
[18:21:38] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[18:21:38] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 14)
[18:21:38] [ENEMY] [GuardEnemy2] Registered as sound listener
[18:21:38] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 4, behavior: GUARD
[18:21:38] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[18:21:38] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 15)
[18:21:38] [ENEMY] [GuardEnemy3] Registered as sound listener
[18:21:38] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 3, behavior: GUARD
[18:21:38] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[18:21:38] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 16)
[18:21:38] [ENEMY] [GuardEnemy4] Registered as sound listener
[18:21:38] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 4, behavior: GUARD
[18:21:38] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[18:21:38] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 17)
[18:21:38] [ENEMY] [PatrolEnemy1] Registered as sound listener
[18:21:38] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 2, behavior: PATROL
[18:21:38] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[18:21:38] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 18)
[18:21:38] [ENEMY] [PatrolEnemy2] Registered as sound listener
[18:21:38] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 2, behavior: PATROL
[18:21:38] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[18:21:38] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 19)
[18:21:38] [ENEMY] [GuardEnemy5] Registered as sound listener
[18:21:38] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 2, behavior: GUARD
[18:21:38] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[18:21:38] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 20)
[18:21:38] [ENEMY] [GuardEnemy6] Registered as sound listener
[18:21:38] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 4, behavior: GUARD
[18:21:38] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:21:38] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:21:38] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:38] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:38] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:38] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:38] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:38] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:38] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:38] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:21:38] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:21:38] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:21:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:21:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:21:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:21:38] [INFO] [LastChance] Found player: Player
[18:21:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:21:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:21:38] [INFO] [LastChance] Connected to player Died signal (C#)
[18:21:38] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:21:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:39] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[18:21:39] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[18:21:39] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[18:21:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:21:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:21:39] [INFO] [CinemaEffects] Scene changed to: CityLevel
[18:21:39] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:21:39] [ENEMY] [SniperEnemy1] Death animation component initialized
[18:21:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:39] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[18:21:39] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[18:21:39] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[18:21:39] [ENEMY] [SniperEnemy2] Death animation component initialized
[18:21:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:39] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[18:21:39] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[18:21:39] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[18:21:39] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:21:39] [ENEMY] [GuardEnemy1] Death animation component initialized
[18:21:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:39] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[18:21:39] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[18:21:39] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[18:21:39] [ENEMY] [GuardEnemy2] Death animation component initialized
[18:21:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:39] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[18:21:39] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[18:21:39] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[18:21:39] [ENEMY] [GuardEnemy3] Death animation component initialized
[18:21:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:39] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[18:21:39] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[18:21:39] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[18:21:39] [ENEMY] [GuardEnemy4] Death animation component initialized
[18:21:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:39] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[18:21:39] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[18:21:39] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[18:21:39] [ENEMY] [PatrolEnemy1] Death animation component initialized
[18:21:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:39] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[18:21:39] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[18:21:39] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[18:21:39] [ENEMY] [PatrolEnemy2] Death animation component initialized
[18:21:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:39] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[18:21:39] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[18:21:39] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[18:21:39] [ENEMY] [GuardEnemy5] Death animation component initialized
[18:21:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:39] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[18:21:39] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[18:21:39] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[18:21:39] [ENEMY] [GuardEnemy6] Death animation component initialized
[18:21:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:39] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:21:39] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:21:39] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:21:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:21:39] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:21:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:21:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:21:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:21:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:21:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:21:39] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:21:39] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:21:39] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:21:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:21:39] [INFO] [ScoreManager] Level started with 10 enemies
[18:21:39] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[18:21:39] [INFO] [ReplayManager] Replay data cleared
[18:21:39] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:21:39] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:21:39] [INFO] [ReplayManager] Level: CityLevel
[18:21:39] [INFO] [ReplayManager] Player: Player (valid: True)
[18:21:39] [INFO] [ReplayManager] Enemies count: 10
[18:21:39] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:21:39] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[18:21:39] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[18:21:39] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[18:21:39] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[18:21:39] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[18:21:39] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[18:21:39] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[18:21:39] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[18:21:39] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[18:21:39] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[18:21:39] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[18:21:39] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[18:21:39] [INFO] [CinemaEffects] Found player node: Player
[18:21:39] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:21:39] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 21)
[18:21:39] [ENEMY] [SniperEnemy1] Registered as sound listener
[18:21:39] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 5, behavior: GUARD
[18:21:39] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[18:21:39] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 22)
[18:21:39] [ENEMY] [SniperEnemy2] Registered as sound listener
[18:21:39] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 4, behavior: GUARD
[18:21:39] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[18:21:39] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 23)
[18:21:39] [ENEMY] [GuardEnemy1] Registered as sound listener
[18:21:39] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 3, behavior: GUARD
[18:21:39] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[18:21:39] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 24)
[18:21:39] [ENEMY] [GuardEnemy2] Registered as sound listener
[18:21:39] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 3, behavior: GUARD
[18:21:39] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[18:21:39] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 25)
[18:21:39] [ENEMY] [GuardEnemy3] Registered as sound listener
[18:21:39] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 4, behavior: GUARD
[18:21:39] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[18:21:39] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 26)
[18:21:39] [ENEMY] [GuardEnemy4] Registered as sound listener
[18:21:39] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 2, behavior: GUARD
[18:21:39] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[18:21:39] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 27)
[18:21:39] [ENEMY] [PatrolEnemy1] Registered as sound listener
[18:21:39] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 4, behavior: PATROL
[18:21:39] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[18:21:39] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 28)
[18:21:39] [ENEMY] [PatrolEnemy2] Registered as sound listener
[18:21:39] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 2, behavior: PATROL
[18:21:39] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[18:21:39] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 29)
[18:21:39] [ENEMY] [GuardEnemy5] Registered as sound listener
[18:21:39] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 4, behavior: GUARD
[18:21:39] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[18:21:39] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 30)
[18:21:39] [ENEMY] [GuardEnemy6] Registered as sound listener
[18:21:39] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 4, behavior: GUARD
[18:21:39] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:21:39] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:21:39] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:39] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:39] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:39] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:39] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:39] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:39] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:39] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:21:39] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:21:39] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:21:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:21:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:21:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:21:39] [INFO] [LastChance] Found player: Player
[18:21:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:21:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:21:39] [INFO] [LastChance] Connected to player Died signal (C#)
[18:21:39] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:21:39] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=124.9°, current=77.3°, player=(300,2490), corner_timer=0.00
[18:21:39] [ENEMY] [GuardEnemy1] State: IDLE -> COMBAT
[18:21:39] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=125.0°, current=-152.0°, player=(300,2485), corner_timer=0.00
[18:21:39] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=126.3°, current=174.9°, player=(300,2427), corner_timer=0.00
[18:21:40] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=178.7°, current=-131.8°, player=(300,2399), corner_timer=0.00
[18:21:40] [ENEMY] [GuardEnemy4] State: IDLE -> COMBAT
[18:21:40] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=178.9°, current=41.3°, player=(300,2389), corner_timer=0.00
[18:21:40] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:21:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1050.053, 1400.838), source=ENEMY (GuardEnemy1), range=1469, listeners=30
[18:21:40] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[18:21:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:21:40] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[18:21:40] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 94.1°
[18:21:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1027.677, 1430.722), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:21:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1005.695, 1460.897), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:21:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:40] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(469,2243), corner_timer=0.30
[18:21:40] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(469,2243), corner_timer=0.30
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1022.002, 1481.318), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:21:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 94.1°
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1038.309, 1501.738), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:21:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:21:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:21:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1054.617, 1522.159), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:21:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:21:41] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(559,2268), corner_timer=-0.02
[18:21:41] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:41] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(559,2268), corner_timer=-0.02
[18:21:41] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:41] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(562,2272), corner_timer=0.30
[18:21:41] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(562,2272), corner_timer=0.30
[18:21:41] [INFO] [LastChance] Threat detected: @Area2D@924
[18:21:41] [INFO] [LastChance] Not in hard mode - effect disabled
[18:21:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:21:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:41] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[18:21:41] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[18:21:41] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[18:21:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:21:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:21:41] [INFO] [CinemaEffects] Scene changed to: CityLevel
[18:21:41] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:21:41] [ENEMY] [SniperEnemy1] Death animation component initialized
[18:21:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:41] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[18:21:41] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[18:21:41] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[18:21:41] [ENEMY] [SniperEnemy2] Death animation component initialized
[18:21:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:41] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[18:21:41] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[18:21:41] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[18:21:41] [ENEMY] [GuardEnemy1] Death animation component initialized
[18:21:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:41] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[18:21:41] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[18:21:41] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[18:21:41] [ENEMY] [GuardEnemy2] Death animation component initialized
[18:21:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:41] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[18:21:41] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[18:21:41] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[18:21:41] [ENEMY] [GuardEnemy3] Death animation component initialized
[18:21:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:41] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[18:21:41] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[18:21:41] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[18:21:41] [ENEMY] [GuardEnemy4] Death animation component initialized
[18:21:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:41] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[18:21:41] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[18:21:41] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[18:21:41] [ENEMY] [PatrolEnemy1] Death animation component initialized
[18:21:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:41] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[18:21:41] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[18:21:41] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[18:21:41] [ENEMY] [PatrolEnemy2] Death animation component initialized
[18:21:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:41] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[18:21:41] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[18:21:41] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[18:21:41] [ENEMY] [GuardEnemy5] Death animation component initialized
[18:21:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:41] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[18:21:41] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[18:21:41] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[18:21:41] [ENEMY] [GuardEnemy6] Death animation component initialized
[18:21:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:41] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:21:41] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:21:41] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:21:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:21:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:21:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:21:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:21:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:21:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:21:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:21:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:21:41] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:21:41] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:21:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:21:41] [INFO] [ScoreManager] Level started with 10 enemies
[18:21:41] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[18:21:41] [INFO] [ReplayManager] Replay data cleared
[18:21:41] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:21:41] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:21:41] [INFO] [ReplayManager] Level: CityLevel
[18:21:41] [INFO] [ReplayManager] Player: Player (valid: True)
[18:21:41] [INFO] [ReplayManager] Enemies count: 10
[18:21:41] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:21:41] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[18:21:41] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[18:21:41] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[18:21:41] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[18:21:41] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[18:21:41] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[18:21:41] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[18:21:41] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[18:21:41] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[18:21:41] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[18:21:41] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[18:21:41] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[18:21:41] [INFO] [CinemaEffects] Found player node: Player
[18:21:41] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:21:41] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 11)
[18:21:41] [ENEMY] [SniperEnemy1] Registered as sound listener
[18:21:41] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 3, behavior: GUARD
[18:21:41] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[18:21:41] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 12)
[18:21:41] [ENEMY] [SniperEnemy2] Registered as sound listener
[18:21:41] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 4, behavior: GUARD
[18:21:41] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[18:21:41] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 13)
[18:21:41] [ENEMY] [GuardEnemy1] Registered as sound listener
[18:21:41] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 2, behavior: GUARD
[18:21:41] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[18:21:41] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 14)
[18:21:41] [ENEMY] [GuardEnemy2] Registered as sound listener
[18:21:41] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 3, behavior: GUARD
[18:21:41] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[18:21:41] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 15)
[18:21:41] [ENEMY] [GuardEnemy3] Registered as sound listener
[18:21:41] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 3, behavior: GUARD
[18:21:41] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[18:21:41] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 16)
[18:21:41] [ENEMY] [GuardEnemy4] Registered as sound listener
[18:21:41] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 2, behavior: GUARD
[18:21:41] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[18:21:41] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 17)
[18:21:41] [ENEMY] [PatrolEnemy1] Registered as sound listener
[18:21:41] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 4, behavior: PATROL
[18:21:41] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[18:21:41] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 18)
[18:21:41] [ENEMY] [PatrolEnemy2] Registered as sound listener
[18:21:41] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 3, behavior: PATROL
[18:21:41] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[18:21:41] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 19)
[18:21:41] [ENEMY] [GuardEnemy5] Registered as sound listener
[18:21:41] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 3, behavior: GUARD
[18:21:41] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[18:21:41] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 20)
[18:21:41] [ENEMY] [GuardEnemy6] Registered as sound listener
[18:21:41] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 3, behavior: GUARD
[18:21:41] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:21:41] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:21:41] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:41] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:41] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:41] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:41] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:41] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:41] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:41] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:21:41] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:21:41] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:21:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:21:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:21:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:21:41] [INFO] [LastChance] Found player: Player
[18:21:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:21:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:21:41] [INFO] [LastChance] Connected to player Died signal (C#)
[18:21:41] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:21:42] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:21:42] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:42] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:42] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(502,2884), corner_timer=0.30
[18:21:42] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(502,2884), corner_timer=0.30
[18:21:43] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(576,2958), corner_timer=-0.02
[18:21:43] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(576,2958), corner_timer=-0.02
[18:21:43] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:43] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(580,2962), corner_timer=0.30
[18:21:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(580,2962), corner_timer=0.30
[18:21:43] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:21:43] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(664,3012), corner_timer=-0.02
[18:21:43] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(664,3012), corner_timer=-0.02
[18:21:43] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:43] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(670,3012), corner_timer=0.30
[18:21:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(670,3012), corner_timer=0.30
[18:21:43] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(774,3012), corner_timer=-0.02
[18:21:43] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(774,3012), corner_timer=-0.02
[18:21:43] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:43] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(780,3012), corner_timer=0.30
[18:21:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(780,3012), corner_timer=0.30
[18:21:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(884,3012), corner_timer=-0.02
[18:21:44] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:44] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(884,3012), corner_timer=-0.02
[18:21:44] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(890,3012), corner_timer=0.30
[18:21:44] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(890,3012), corner_timer=0.30
[18:21:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(917.544, 3018.441), source=PLAYER (MakarovPM), range=1469, listeners=20
[18:21:44] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:21:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=0, below_threshold=2
[18:21:44] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:21:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(994,3012), corner_timer=-0.02
[18:21:44] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(1000,3012), corner_timer=0.30
[18:21:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:44] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[18:21:44] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[18:21:44] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[18:21:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:21:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:21:44] [INFO] [CinemaEffects] Scene changed to: CityLevel
[18:21:44] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:21:44] [ENEMY] [SniperEnemy1] Death animation component initialized
[18:21:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:44] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[18:21:44] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[18:21:44] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[18:21:44] [ENEMY] [SniperEnemy2] Death animation component initialized
[18:21:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:44] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[18:21:44] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[18:21:44] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[18:21:44] [ENEMY] [GuardEnemy1] Death animation component initialized
[18:21:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:44] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[18:21:44] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[18:21:44] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[18:21:44] [ENEMY] [GuardEnemy2] Death animation component initialized
[18:21:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:44] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[18:21:44] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[18:21:44] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[18:21:44] [ENEMY] [GuardEnemy3] Death animation component initialized
[18:21:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:44] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[18:21:44] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[18:21:44] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[18:21:44] [ENEMY] [GuardEnemy4] Death animation component initialized
[18:21:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:44] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[18:21:44] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[18:21:44] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[18:21:44] [ENEMY] [PatrolEnemy1] Death animation component initialized
[18:21:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:44] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[18:21:44] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[18:21:44] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[18:21:44] [ENEMY] [PatrolEnemy2] Death animation component initialized
[18:21:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:44] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[18:21:44] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[18:21:44] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[18:21:44] [ENEMY] [GuardEnemy5] Death animation component initialized
[18:21:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:44] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[18:21:44] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[18:21:44] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[18:21:44] [ENEMY] [GuardEnemy6] Death animation component initialized
[18:21:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:44] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:21:44] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:21:44] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:21:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:21:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:21:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:21:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:21:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:21:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:21:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:21:44] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:21:44] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:21:44] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:21:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:21:44] [INFO] [ScoreManager] Level started with 10 enemies
[18:21:44] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[18:21:44] [INFO] [ReplayManager] Replay data cleared
[18:21:44] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:21:44] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:21:44] [INFO] [ReplayManager] Level: CityLevel
[18:21:44] [INFO] [ReplayManager] Player: Player (valid: True)
[18:21:44] [INFO] [ReplayManager] Enemies count: 10
[18:21:44] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:21:44] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[18:21:44] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[18:21:44] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[18:21:44] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[18:21:44] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[18:21:44] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[18:21:44] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[18:21:44] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[18:21:44] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[18:21:44] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[18:21:44] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[18:21:44] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[18:21:44] [INFO] [CinemaEffects] Found player node: Player
[18:21:44] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:21:44] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 11)
[18:21:44] [ENEMY] [SniperEnemy1] Registered as sound listener
[18:21:44] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 4, behavior: GUARD
[18:21:44] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[18:21:44] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 12)
[18:21:44] [ENEMY] [SniperEnemy2] Registered as sound listener
[18:21:44] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 3, behavior: GUARD
[18:21:44] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[18:21:44] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 13)
[18:21:44] [ENEMY] [GuardEnemy1] Registered as sound listener
[18:21:44] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 4, behavior: GUARD
[18:21:44] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[18:21:44] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 14)
[18:21:44] [ENEMY] [GuardEnemy2] Registered as sound listener
[18:21:44] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 4, behavior: GUARD
[18:21:44] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[18:21:44] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 15)
[18:21:44] [ENEMY] [GuardEnemy3] Registered as sound listener
[18:21:44] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 2, behavior: GUARD
[18:21:44] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[18:21:44] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 16)
[18:21:44] [ENEMY] [GuardEnemy4] Registered as sound listener
[18:21:44] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 2, behavior: GUARD
[18:21:44] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[18:21:44] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 17)
[18:21:44] [ENEMY] [PatrolEnemy1] Registered as sound listener
[18:21:44] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 3, behavior: PATROL
[18:21:44] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[18:21:44] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 18)
[18:21:44] [ENEMY] [PatrolEnemy2] Registered as sound listener
[18:21:44] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 3, behavior: PATROL
[18:21:44] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[18:21:44] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 19)
[18:21:44] [ENEMY] [GuardEnemy5] Registered as sound listener
[18:21:44] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 2, behavior: GUARD
[18:21:44] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[18:21:44] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 20)
[18:21:44] [ENEMY] [GuardEnemy6] Registered as sound listener
[18:21:44] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 2, behavior: GUARD
[18:21:44] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:21:44] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:21:44] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:44] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:44] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:44] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:44] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:44] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:44] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:44] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:21:44] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:21:44] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:21:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:21:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:21:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:21:45] [INFO] [LastChance] Found player: Player
[18:21:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:21:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:21:45] [INFO] [LastChance] Connected to player Died signal (C#)
[18:21:45] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:21:45] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:21:46] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:46] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:46] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(448,2092), corner_timer=0.30
[18:21:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(448,2092), corner_timer=0.30
[18:21:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.8066, 2075.328), source=PLAYER (MakarovPM), range=1469, listeners=20
[18:21:46] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:21:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=1
[18:21:46] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(522,2018), corner_timer=-0.02
[18:21:46] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(522,2018), corner_timer=-0.02
[18:21:46] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:46] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(526,2014), corner_timer=0.30
[18:21:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(526,2014), corner_timer=0.30
[18:21:46] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:21:46] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-173.7°, current=-123.8°, player=(569,1966), corner_timer=0.00
[18:21:46] [ENEMY] [GuardEnemy3] State: IDLE -> COMBAT
[18:21:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:47] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[18:21:47] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[18:21:47] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[18:21:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:21:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:21:47] [INFO] [CinemaEffects] Scene changed to: CityLevel
[18:21:47] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:21:47] [ENEMY] [SniperEnemy1] Death animation component initialized
[18:21:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:47] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[18:21:47] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[18:21:47] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[18:21:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:21:47] [ENEMY] [SniperEnemy2] Death animation component initialized
[18:21:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:47] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[18:21:47] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[18:21:47] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[18:21:47] [ENEMY] [GuardEnemy1] Death animation component initialized
[18:21:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:47] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[18:21:47] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[18:21:47] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[18:21:47] [ENEMY] [GuardEnemy2] Death animation component initialized
[18:21:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:47] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[18:21:47] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[18:21:47] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[18:21:47] [ENEMY] [GuardEnemy3] Death animation component initialized
[18:21:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:47] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[18:21:47] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[18:21:47] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[18:21:47] [ENEMY] [GuardEnemy4] Death animation component initialized
[18:21:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:47] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[18:21:47] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[18:21:47] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[18:21:47] [ENEMY] [PatrolEnemy1] Death animation component initialized
[18:21:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:47] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[18:21:47] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[18:21:47] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[18:21:47] [ENEMY] [PatrolEnemy2] Death animation component initialized
[18:21:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:47] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[18:21:47] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[18:21:47] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[18:21:47] [ENEMY] [GuardEnemy5] Death animation component initialized
[18:21:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:47] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[18:21:47] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[18:21:47] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[18:21:47] [ENEMY] [GuardEnemy6] Death animation component initialized
[18:21:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:47] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:21:47] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:21:47] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:21:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:21:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:21:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:21:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:21:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:21:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:21:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:21:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:21:47] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:21:47] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:21:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:21:47] [INFO] [ScoreManager] Level started with 10 enemies
[18:21:47] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[18:21:47] [INFO] [ReplayManager] Replay data cleared
[18:21:47] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:21:47] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:21:47] [INFO] [ReplayManager] Level: CityLevel
[18:21:47] [INFO] [ReplayManager] Player: Player (valid: True)
[18:21:47] [INFO] [ReplayManager] Enemies count: 10
[18:21:47] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:21:47] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[18:21:47] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[18:21:47] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[18:21:47] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[18:21:47] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[18:21:47] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[18:21:47] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[18:21:47] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[18:21:47] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[18:21:47] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[18:21:47] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[18:21:47] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[18:21:47] [INFO] [CinemaEffects] Found player node: Player
[18:21:47] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:21:47] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 11)
[18:21:47] [ENEMY] [SniperEnemy1] Registered as sound listener
[18:21:47] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 5, behavior: GUARD
[18:21:47] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[18:21:47] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 12)
[18:21:47] [ENEMY] [SniperEnemy2] Registered as sound listener
[18:21:47] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 4, behavior: GUARD
[18:21:47] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[18:21:47] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 13)
[18:21:47] [ENEMY] [GuardEnemy1] Registered as sound listener
[18:21:47] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 2, behavior: GUARD
[18:21:47] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[18:21:47] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 14)
[18:21:47] [ENEMY] [GuardEnemy2] Registered as sound listener
[18:21:47] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 2, behavior: GUARD
[18:21:47] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[18:21:47] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 15)
[18:21:47] [ENEMY] [GuardEnemy3] Registered as sound listener
[18:21:47] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 3, behavior: GUARD
[18:21:47] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[18:21:47] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 16)
[18:21:47] [ENEMY] [GuardEnemy4] Registered as sound listener
[18:21:47] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 4, behavior: GUARD
[18:21:47] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[18:21:47] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 17)
[18:21:47] [ENEMY] [PatrolEnemy1] Registered as sound listener
[18:21:47] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 3, behavior: PATROL
[18:21:47] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[18:21:47] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 18)
[18:21:47] [ENEMY] [PatrolEnemy2] Registered as sound listener
[18:21:47] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 2, behavior: PATROL
[18:21:47] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[18:21:47] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 19)
[18:21:47] [ENEMY] [GuardEnemy5] Registered as sound listener
[18:21:47] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 3, behavior: GUARD
[18:21:47] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[18:21:47] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 20)
[18:21:47] [ENEMY] [GuardEnemy6] Registered as sound listener
[18:21:47] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 2, behavior: GUARD
[18:21:47] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:21:47] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:21:47] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:47] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:47] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:47] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:47] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:47] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:47] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:47] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:21:47] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:21:47] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:21:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:21:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:21:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:21:47] [INFO] [LastChance] Found player: Player
[18:21:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:21:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:21:47] [INFO] [LastChance] Connected to player Died signal (C#)
[18:21:47] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:21:47] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=127.1°, current=77.3°, player=(300,2388), corner_timer=0.00
[18:21:47] [ENEMY] [GuardEnemy1] State: IDLE -> COMBAT
[18:21:47] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=127.4°, current=-149.7°, player=(300,2377), corner_timer=0.00
[18:21:47] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=128.8°, current=177.4°, player=(306,2314), corner_timer=0.00
[18:21:47] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-179.5°, current=146.3°, player=(343,2269), corner_timer=0.00
[18:21:47] [ENEMY] [GuardEnemy3] State: IDLE -> COMBAT
[18:21:47] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-179.3°, current=-27.4°, player=(351,2261), corner_timer=0.00
[18:21:48] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:21:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1044.352, 1396.48), source=ENEMY (GuardEnemy1), range=1469, listeners=20
[18:21:48] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:21:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:21:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1021.778, 1426.214), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:21:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:21:48] [ENEMY] [GuardEnemy3] State: COMBAT -> PURSUING
[18:21:48] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 87.8°
[18:21:48] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[18:21:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1000.086, 1456.597), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:21:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:21:48] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-177.6°, current=-130.5°, player=(508,2176), corner_timer=0.23
[18:21:48] [ENEMY] [GuardEnemy3] Warning: No valid flank position (both sides behind walls)
[18:21:48] [ENEMY] [GuardEnemy3] FLANKING started: target=(615.3785, 2007.59), side=left, pos=(3408.093, 2296.368)
[18:21:48] [ENEMY] [GuardEnemy3] State: PURSUING -> FLANKING
[18:21:48] [ENEMY] [GuardEnemy3] State: FLANKING -> COMBAT
[18:21:48] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:48] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:48] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(522,2176), corner_timer=0.30
[18:21:48] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(522,2176), corner_timer=0.30
[18:21:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1016.624, 1476.831), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:21:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:21:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1033.162, 1497.066), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:21:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:21:48] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:48] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[18:21:48] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[18:21:48] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[18:21:48] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:21:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:21:48] [INFO] [CinemaEffects] Scene changed to: CityLevel
[18:21:48] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:21:48] [ENEMY] [SniperEnemy1] Death animation component initialized
[18:21:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:48] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[18:21:48] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[18:21:48] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[18:21:48] [ENEMY] [SniperEnemy2] Death animation component initialized
[18:21:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:48] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[18:21:48] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[18:21:48] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[18:21:48] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:21:48] [ENEMY] [GuardEnemy1] Death animation component initialized
[18:21:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:48] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[18:21:48] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[18:21:48] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[18:21:48] [ENEMY] [GuardEnemy2] Death animation component initialized
[18:21:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:48] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[18:21:48] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[18:21:48] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[18:21:48] [ENEMY] [GuardEnemy3] Death animation component initialized
[18:21:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:48] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[18:21:48] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[18:21:48] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[18:21:48] [ENEMY] [GuardEnemy4] Death animation component initialized
[18:21:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:48] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[18:21:48] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[18:21:48] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[18:21:48] [ENEMY] [PatrolEnemy1] Death animation component initialized
[18:21:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:48] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[18:21:48] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[18:21:48] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[18:21:48] [ENEMY] [PatrolEnemy2] Death animation component initialized
[18:21:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:48] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[18:21:48] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[18:21:48] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[18:21:48] [ENEMY] [GuardEnemy5] Death animation component initialized
[18:21:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:48] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[18:21:48] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[18:21:48] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[18:21:48] [ENEMY] [GuardEnemy6] Death animation component initialized
[18:21:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:48] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:21:48] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:21:48] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:21:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:21:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:21:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:21:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:21:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:21:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:21:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:21:48] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:21:48] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:21:48] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:21:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:21:48] [INFO] [ScoreManager] Level started with 10 enemies
[18:21:48] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[18:21:48] [INFO] [ReplayManager] Replay data cleared
[18:21:48] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:21:48] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:21:48] [INFO] [ReplayManager] Level: CityLevel
[18:21:48] [INFO] [ReplayManager] Player: Player (valid: True)
[18:21:48] [INFO] [ReplayManager] Enemies count: 10
[18:21:48] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:21:48] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[18:21:48] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[18:21:48] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[18:21:48] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[18:21:48] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[18:21:48] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[18:21:48] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[18:21:48] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[18:21:48] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[18:21:48] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[18:21:48] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[18:21:48] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[18:21:48] [INFO] [CinemaEffects] Found player node: Player
[18:21:48] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:21:48] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 11)
[18:21:48] [ENEMY] [SniperEnemy1] Registered as sound listener
[18:21:48] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 3, behavior: GUARD
[18:21:48] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[18:21:48] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 12)
[18:21:48] [ENEMY] [SniperEnemy2] Registered as sound listener
[18:21:48] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 5, behavior: GUARD
[18:21:48] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[18:21:48] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 13)
[18:21:48] [ENEMY] [GuardEnemy1] Registered as sound listener
[18:21:48] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 2, behavior: GUARD
[18:21:48] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[18:21:48] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 14)
[18:21:48] [ENEMY] [GuardEnemy2] Registered as sound listener
[18:21:48] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 4, behavior: GUARD
[18:21:48] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[18:21:48] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 15)
[18:21:48] [ENEMY] [GuardEnemy3] Registered as sound listener
[18:21:48] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 2, behavior: GUARD
[18:21:48] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[18:21:48] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 16)
[18:21:48] [ENEMY] [GuardEnemy4] Registered as sound listener
[18:21:48] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 4, behavior: GUARD
[18:21:48] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[18:21:48] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 17)
[18:21:48] [ENEMY] [PatrolEnemy1] Registered as sound listener
[18:21:48] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 4, behavior: PATROL
[18:21:48] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[18:21:48] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 18)
[18:21:48] [ENEMY] [PatrolEnemy2] Registered as sound listener
[18:21:48] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 2, behavior: PATROL
[18:21:48] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[18:21:48] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 19)
[18:21:48] [ENEMY] [GuardEnemy5] Registered as sound listener
[18:21:48] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 2, behavior: GUARD
[18:21:48] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[18:21:48] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 20)
[18:21:48] [ENEMY] [GuardEnemy6] Registered as sound listener
[18:21:48] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 2, behavior: GUARD
[18:21:48] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:21:49] [INFO] [Player] Invincibility mode: ON
[18:21:49] [INFO] [GameManager] Invincibility mode toggled: ON
[18:21:49] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:21:49] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:49] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:49] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:49] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:49] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:49] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:49] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:49] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:21:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:21:49] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:21:49] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:21:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:21:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:21:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:21:49] [INFO] [LastChance] Found player: Player
[18:21:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:21:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:21:49] [INFO] [LastChance] Connected to player Died signal (C#)
[18:21:49] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:21:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(300, 2400.167), source=PLAYER (MakarovPM), range=1469, listeners=20
[18:21:49] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:21:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[18:21:49] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:21:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(300, 2213.167), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:21:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=1
[18:21:50] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:50] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:50] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(300,2157), corner_timer=0.30
[18:21:50] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(300,2157), corner_timer=0.30
[18:21:50] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(300,2053), corner_timer=-0.02
[18:21:50] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:50] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(300,2053), corner_timer=-0.02
[18:21:50] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:50] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(300,2047), corner_timer=0.30
[18:21:50] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(300,2047), corner_timer=0.30
[18:21:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:50] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[18:21:50] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[18:21:50] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[18:21:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:21:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:21:50] [INFO] [CinemaEffects] Scene changed to: CityLevel
[18:21:50] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:21:50] [ENEMY] [SniperEnemy1] Death animation component initialized
[18:21:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:50] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[18:21:50] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[18:21:50] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[18:21:50] [ENEMY] [SniperEnemy2] Death animation component initialized
[18:21:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:50] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[18:21:50] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[18:21:50] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[18:21:50] [ENEMY] [GuardEnemy1] Death animation component initialized
[18:21:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:50] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[18:21:50] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[18:21:50] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[18:21:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:21:50] [ENEMY] [GuardEnemy2] Death animation component initialized
[18:21:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:50] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[18:21:50] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[18:21:50] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[18:21:50] [ENEMY] [GuardEnemy3] Death animation component initialized
[18:21:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:50] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[18:21:50] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[18:21:50] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[18:21:50] [ENEMY] [GuardEnemy4] Death animation component initialized
[18:21:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:50] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[18:21:50] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[18:21:50] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[18:21:50] [ENEMY] [PatrolEnemy1] Death animation component initialized
[18:21:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:50] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[18:21:50] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[18:21:50] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[18:21:50] [ENEMY] [PatrolEnemy2] Death animation component initialized
[18:21:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:50] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[18:21:50] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[18:21:50] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[18:21:50] [ENEMY] [GuardEnemy5] Death animation component initialized
[18:21:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:50] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[18:21:50] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[18:21:50] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[18:21:50] [ENEMY] [GuardEnemy6] Death animation component initialized
[18:21:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:50] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:21:50] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:21:50] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:21:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:21:50] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:21:50] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:21:50] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:21:50] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:21:50] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:21:50] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:21:50] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:21:50] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:21:50] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:21:50] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:21:50] [INFO] [ScoreManager] Level started with 10 enemies
[18:21:50] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[18:21:50] [INFO] [ReplayManager] Replay data cleared
[18:21:50] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:21:50] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:21:50] [INFO] [ReplayManager] Level: CityLevel
[18:21:50] [INFO] [ReplayManager] Player: Player (valid: True)
[18:21:50] [INFO] [ReplayManager] Enemies count: 10
[18:21:50] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:21:50] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[18:21:50] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[18:21:50] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[18:21:50] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[18:21:50] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[18:21:50] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[18:21:50] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[18:21:50] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[18:21:50] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[18:21:50] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[18:21:50] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[18:21:50] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[18:21:50] [INFO] [CinemaEffects] Found player node: Player
[18:21:50] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:21:50] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 11)
[18:21:50] [ENEMY] [SniperEnemy1] Registered as sound listener
[18:21:50] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 5, behavior: GUARD
[18:21:50] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[18:21:50] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 12)
[18:21:50] [ENEMY] [SniperEnemy2] Registered as sound listener
[18:21:50] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 5, behavior: GUARD
[18:21:50] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[18:21:50] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 13)
[18:21:50] [ENEMY] [GuardEnemy1] Registered as sound listener
[18:21:50] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 2, behavior: GUARD
[18:21:50] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[18:21:50] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 14)
[18:21:50] [ENEMY] [GuardEnemy2] Registered as sound listener
[18:21:50] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 2, behavior: GUARD
[18:21:50] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[18:21:50] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 15)
[18:21:50] [ENEMY] [GuardEnemy3] Registered as sound listener
[18:21:50] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 2, behavior: GUARD
[18:21:50] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[18:21:50] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 16)
[18:21:50] [ENEMY] [GuardEnemy4] Registered as sound listener
[18:21:50] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 4, behavior: GUARD
[18:21:50] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[18:21:50] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 17)
[18:21:50] [ENEMY] [PatrolEnemy1] Registered as sound listener
[18:21:50] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 3, behavior: PATROL
[18:21:50] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[18:21:50] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 18)
[18:21:50] [ENEMY] [PatrolEnemy2] Registered as sound listener
[18:21:50] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 3, behavior: PATROL
[18:21:50] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[18:21:50] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 19)
[18:21:50] [ENEMY] [GuardEnemy5] Registered as sound listener
[18:21:50] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 3, behavior: GUARD
[18:21:50] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[18:21:50] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 20)
[18:21:50] [ENEMY] [GuardEnemy6] Registered as sound listener
[18:21:50] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 2, behavior: GUARD
[18:21:50] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:21:50] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:21:50] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:50] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:50] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:50] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:50] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:50] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:50] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:50] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:21:50] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:21:50] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:21:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:21:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:21:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:21:50] [INFO] [LastChance] Found player: Player
[18:21:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:21:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:21:50] [INFO] [LastChance] Connected to player Died signal (C#)
[18:21:50] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:21:51] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:21:52] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-178.9°, current=146.3°, player=(471,2217), corner_timer=0.00
[18:21:52] [ENEMY] [GuardEnemy4] State: IDLE -> COMBAT
[18:21:52] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-178.8°, current=-26.9°, player=(479,2210), corner_timer=0.00
[18:21:52] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:52] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:52] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(529,2126), corner_timer=0.30
[18:21:52] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(529,2126), corner_timer=0.30
[18:21:52] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[18:21:52] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 127.8°
[18:21:52] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(529,2021), corner_timer=-0.02
[18:21:52] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:52] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(529,2021), corner_timer=-0.02
[18:21:52] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:52] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(529,2016), corner_timer=0.30
[18:21:52] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(529,2016), corner_timer=0.30
[18:21:52] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:21:52] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-176.2°, current=-127.7°, player=(529,1966), corner_timer=0.02
[18:21:52] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[18:21:53] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(529,1911), corner_timer=-0.02
[18:21:53] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(529,1911), corner_timer=-0.02
[18:21:53] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:53] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(529,1906), corner_timer=0.30
[18:21:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(529,1906), corner_timer=0.30
[18:21:53] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-175.2°, current=-175.2°, player=(529,1895), corner_timer=0.02
[18:21:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(529.4567, 1862.706), source=PLAYER (MakarovPM), range=1469, listeners=20
[18:21:53] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:21:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=1
[18:21:53] [ENEMY] [GuardEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=161.3°, current=-168.8°, player=(529,1834), corner_timer=0.00
[18:21:53] [ENEMY] [GuardEnemy2] State: IDLE -> COMBAT
[18:21:53] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=161.6°, current=-13.1°, player=(529,1823), corner_timer=0.00
[18:21:53] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(529,1801), corner_timer=-0.02
[18:21:53] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(529,1801), corner_timer=-0.02
[18:21:53] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:53] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[18:21:53] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(529,1796), corner_timer=0.30
[18:21:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(529,1796), corner_timer=0.30
[18:21:53] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=141.4°, current=-168.8°, player=(529,1735), corner_timer=0.00
[18:21:53] [ENEMY] [GuardEnemy1] State: IDLE -> COMBAT
[18:21:53] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:21:53] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:21:53] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:21:53] [ENEMY] [GuardEnemy1] Player reloading: false -> true
[18:21:53] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[18:21:53] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[18:21:53] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:21:53] [ENEMY] [PatrolEnemy1] Player reloading: false -> true
[18:21:53] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[18:21:53] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:21:53] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:21:53] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(529.4567, 1730.206), source=PLAYER (Player), range=900, listeners=10
[18:21:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=1
[18:21:53] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=5242), can_see=false
[18:21:53] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=5876), can_see=false
[18:21:53] [ENEMY] [GuardEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=855), can_see=true
[18:21:53] [ENEMY] [GuardEnemy1] Player vulnerable (reloading) - pursuing to attack (dist=855)
[18:21:53] [ENEMY] [GuardEnemy1] FLANKING started: target=(500.4686, 1532.318), side=left, pos=(1200, 1200)
[18:21:53] [ENEMY] [GuardEnemy1] State: COMBAT -> FLANKING
[18:21:53] [ENEMY] [GuardEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1848), can_see=false
[18:21:53] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=3123), can_see=false
[18:21:53] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=3891), can_see=false
[18:21:53] [ENEMY] [PatrolEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=2342), can_see=false
[18:21:53] [ENEMY] [PatrolEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3927), can_see=false
[18:21:53] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2619), can_see=false
[18:21:53] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=3787), can_see=false
[18:21:53] [ENEMY] [GuardEnemy1] FLANKING started: target=(501.4716, 1526.674), side=left, pos=(1200, 1200)
[18:21:53] [ENEMY] [GuardEnemy1] FLANKING started: target=(714.5659, 1794.933), side=right, pos=(1200, 1200)
[18:21:53] [ENEMY] [GuardEnemy1] FLANKING started: target=(503.5041, 1515.397), side=left, pos=(1200, 1200)
[18:21:53] [ENEMY] [GuardEnemy1] FLANKING started: target=(504.5335, 1509.765), side=left, pos=(1200, 1200)
[18:21:53] [ENEMY] [GuardEnemy1] FLANKING started: target=(713.3646, 1781.306), side=right, pos=(1200, 1200)
[18:21:53] [ENEMY] [GuardEnemy1] FLANKING started: target=(506.6189, 1498.515), side=left, pos=(1200, 1200)
[18:21:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(529.4567, 1862.706), shooter_id=574602874175, bullet_pos=(1059.648, 1799.041)
[18:21:53] [INFO] [Bullet] Using shooter_position, distance=534.000183105469
[18:21:53] [INFO] [Bullet] Distance to wall: 534.000183105469 (36.3610544074029% of viewport)
[18:21:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:21:53] [INFO] [Bullet] Caliber cannot penetrate walls
[18:21:53] [ENEMY] [GuardEnemy1] FLANKING started: target=(507.6749, 1492.896), side=left, pos=(1200, 1200)
[18:21:53] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(529,1691), corner_timer=-0.02
[18:21:53] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(529,1691), corner_timer=-0.02
[18:21:53] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:53] [ENEMY] [GuardEnemy1] FLANKING started: target=(712.0884, 1767.727), side=right, pos=(1200, 1200)
[18:21:53] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(529,1686), corner_timer=0.30
[18:21:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(529,1686), corner_timer=0.30
[18:21:53] [ENEMY] [GuardEnemy1] FLANKING started: target=(509.8137, 1481.673), side=left, pos=(1200, 1200)
[18:21:53] [ENEMY] [GuardEnemy1] FLANKING started: target=(510.8965, 1476.069), side=left, pos=(1200, 1200)
[18:21:53] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:21:53] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:21:53] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:21:53] [ENEMY] [GuardEnemy1] Player reloading: true -> false
[18:21:53] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[18:21:53] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[18:21:53] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:21:53] [ENEMY] [PatrolEnemy1] Player reloading: true -> false
[18:21:53] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[18:21:53] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:21:53] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:21:53] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:21:53] [ENEMY] [GuardEnemy1] State: FLANKING -> COMBAT
[18:21:53] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:21:53] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=145.6°, current=-63.6°, player=(529,1658), corner_timer=0.00
[18:21:53] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:21:53] [INFO] [Player.Reload.Anim] LeftArm: pos=(14.002894, 5.600614), target=(16, 6), base=(16, 6)
[18:21:53] [INFO] [Player.Reload.Anim] RightArm: pos=(4.0001755, 6), target=(4, 6), base=(4, 6)
[18:21:53] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-137.2°, current=-90.0°, player=(529,1620), corner_timer=0.10
[18:21:53] [ENEMY] [PatrolEnemy1] State: IDLE -> COMBAT
[18:21:53] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-137.0°, current=127.1°, player=(529,1609), corner_timer=0.10
[18:21:53] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:21:54] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=169.1°, current=120.5°, player=(529,1576), corner_timer=0.00
[18:21:54] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:21:54] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-135.6°, current=174.5°, player=(529,1521), corner_timer=0.10
[18:21:54] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-169.5°, current=-169.6°, player=(529,1504), corner_timer=0.02
[18:21:54] [ENEMY] [GuardEnemy1] State: COMBAT -> PURSUING
[18:21:54] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-169.5°, current=-169.5°, player=(529,1499), corner_timer=0.02
[18:21:54] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-169.4°, current=-169.5°, player=(529,1493), corner_timer=0.02
[18:21:54] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[18:21:54] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-169.1°, current=-167.5°, player=(529,1477), corner_timer=0.02
[18:21:54] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=160.5°, current=-152.2°, player=(529,1466), corner_timer=0.00
[18:21:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:54] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[18:21:54] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[18:21:54] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[18:21:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:21:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:21:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:21:54] [INFO] [CinemaEffects] Scene changed to: CityLevel
[18:21:54] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:21:54] [ENEMY] [SniperEnemy1] Death animation component initialized
[18:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:54] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[18:21:54] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[18:21:54] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[18:21:54] [ENEMY] [SniperEnemy2] Death animation component initialized
[18:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:54] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[18:21:54] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[18:21:54] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[18:21:54] [ENEMY] [GuardEnemy1] Death animation component initialized
[18:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:54] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[18:21:54] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[18:21:54] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[18:21:54] [ENEMY] [GuardEnemy2] Death animation component initialized
[18:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:54] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[18:21:54] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[18:21:54] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[18:21:54] [ENEMY] [GuardEnemy3] Death animation component initialized
[18:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:54] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[18:21:54] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[18:21:54] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[18:21:54] [ENEMY] [GuardEnemy4] Death animation component initialized
[18:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:54] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[18:21:54] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[18:21:54] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[18:21:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:21:54] [ENEMY] [PatrolEnemy1] Death animation component initialized
[18:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:54] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[18:21:54] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[18:21:54] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[18:21:54] [ENEMY] [PatrolEnemy2] Death animation component initialized
[18:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:54] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[18:21:54] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[18:21:54] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[18:21:54] [ENEMY] [GuardEnemy5] Death animation component initialized
[18:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:54] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[18:21:54] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[18:21:54] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[18:21:54] [ENEMY] [GuardEnemy6] Death animation component initialized
[18:21:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:21:54] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:21:54] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:21:54] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:21:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:21:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:21:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:21:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:21:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:21:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:21:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:21:54] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:21:54] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:21:54] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:21:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:21:54] [INFO] [ScoreManager] Level started with 10 enemies
[18:21:54] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[18:21:54] [INFO] [ReplayManager] Replay data cleared
[18:21:54] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:21:54] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:21:54] [INFO] [ReplayManager] Level: CityLevel
[18:21:54] [INFO] [ReplayManager] Player: Player (valid: True)
[18:21:54] [INFO] [ReplayManager] Enemies count: 10
[18:21:54] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:21:54] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[18:21:54] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[18:21:54] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[18:21:54] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[18:21:54] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[18:21:54] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[18:21:54] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[18:21:54] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[18:21:54] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[18:21:54] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[18:21:54] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[18:21:54] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[18:21:54] [INFO] [CinemaEffects] Found player node: Player
[18:21:54] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:21:54] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 11)
[18:21:54] [ENEMY] [SniperEnemy1] Registered as sound listener
[18:21:54] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 4, behavior: GUARD
[18:21:54] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[18:21:54] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 12)
[18:21:54] [ENEMY] [SniperEnemy2] Registered as sound listener
[18:21:54] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 4, behavior: GUARD
[18:21:54] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[18:21:54] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 13)
[18:21:54] [ENEMY] [GuardEnemy1] Registered as sound listener
[18:21:54] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 2, behavior: GUARD
[18:21:54] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[18:21:54] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 14)
[18:21:54] [ENEMY] [GuardEnemy2] Registered as sound listener
[18:21:54] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 4, behavior: GUARD
[18:21:54] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[18:21:54] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 15)
[18:21:54] [ENEMY] [GuardEnemy3] Registered as sound listener
[18:21:54] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 2, behavior: GUARD
[18:21:54] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[18:21:54] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 16)
[18:21:54] [ENEMY] [GuardEnemy4] Registered as sound listener
[18:21:54] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 3, behavior: GUARD
[18:21:54] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[18:21:54] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 17)
[18:21:54] [ENEMY] [PatrolEnemy1] Registered as sound listener
[18:21:54] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 2, behavior: PATROL
[18:21:54] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[18:21:54] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 18)
[18:21:54] [ENEMY] [PatrolEnemy2] Registered as sound listener
[18:21:54] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 2, behavior: PATROL
[18:21:54] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[18:21:54] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 19)
[18:21:54] [ENEMY] [GuardEnemy5] Registered as sound listener
[18:21:54] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 2, behavior: GUARD
[18:21:54] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[18:21:54] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 20)
[18:21:54] [ENEMY] [GuardEnemy6] Registered as sound listener
[18:21:54] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 4, behavior: GUARD
[18:21:54] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:21:54] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:21:54] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:54] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:54] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:54] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:54] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:54] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:54] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:54] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:21:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:21:54] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:21:54] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:21:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:21:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:21:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:21:54] [INFO] [LastChance] Found player: Player
[18:21:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:21:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:21:54] [INFO] [LastChance] Connected to player Died signal (C#)
[18:21:54] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:21:55] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:21:56] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:56] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(586,2153), corner_timer=0.30
[18:21:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(586,2153), corner_timer=0.30
[18:21:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(659,2079), corner_timer=-0.02
[18:21:56] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(659,2079), corner_timer=-0.02
[18:21:56] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(663,2075), corner_timer=0.30
[18:21:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(663,2075), corner_timer=0.30
[18:21:56] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:21:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(737,2001), corner_timer=-0.02
[18:21:56] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(737,2001), corner_timer=-0.02
[18:21:56] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(741,1997), corner_timer=0.30
[18:21:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(741,1997), corner_timer=0.30
[18:21:57] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(815,1924), corner_timer=-0.02
[18:21:57] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:21:57] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(815,1924), corner_timer=-0.02
[18:21:57] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:57] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(819,1920), corner_timer=0.30
[18:21:57] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(819,1920), corner_timer=0.30
[18:21:57] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-134.2°, current=-90.0°, player=(877,1861), corner_timer=0.05
[18:21:57] [ENEMY] [PatrolEnemy1] State: IDLE -> COMBAT
[18:21:57] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-134.0°, current=130.1°, player=(885,1854), corner_timer=0.05
[18:21:57] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(893,1846), corner_timer=-0.02
[18:21:57] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:21:57] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(897,1842), corner_timer=0.30
[18:21:57] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:21:57] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[18:21:58] [ENEMY] [GuardEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=161.3°, current=146.3°, player=(1005,1672), corner_timer=0.00
[18:21:58] [ENEMY] [GuardEnemy2] State: IDLE -> COMBAT
[18:21:58] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=161.7°, current=-46.5°, player=(1005,1661), corner_timer=0.00
[18:21:58] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:21:58] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:21:58] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=166.7°, current=-145.5°, player=(1118,1510), corner_timer=0.00
[18:21:58] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:21:59] [ENEMY] [GuardEnemy5] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-94.1°, current=-123.8°, player=(1200,1428), corner_timer=0.00
[18:21:59] [ENEMY] [GuardEnemy5] State: IDLE -> COMBAT
[18:21:59] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-94.0°, current=147.9°, player=(1206,1420), corner_timer=0.00
[18:21:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-118.7°, current=-118.8°, player=(1209,1416), corner_timer=0.05
[18:21:59] [ENEMY] [PatrolEnemy1] State: PURSUING -> COMBAT
[18:21:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=128.4°, player=(1219,1365), corner_timer=-0.02
[18:21:59] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:21:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=131.3°, player=(1219,1359), corner_timer=0.30
[18:21:59] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=176.7°, current=176.7°, player=(1219,1318), corner_timer=0.00
[18:21:59] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:21:59] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[18:21:59] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=178.3°, current=178.1°, player=(1219,1295), corner_timer=0.00
[18:21:59] [ENEMY] [GuardEnemy5] State: COMBAT -> PURSUING
[18:21:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1219,1288), corner_timer=-0.02
[18:21:59] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:21:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1219,1287), corner_timer=0.30
[18:21:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1219,1286), corner_timer=-0.02
[18:21:59] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:21:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1219,1286), corner_timer=0.30
[18:21:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2058.305, 2953.451), source=ENEMY (PatrolEnemy1), range=1469, listeners=20
[18:21:59] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:21:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2041.523, 2920.102), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:00] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:22:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2024.742, 2886.753), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:00] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1219,1286), corner_timer=-0.02
[18:22:00] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:00] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1219,1286), corner_timer=0.30
[18:22:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2050.826, 2885.155), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2076.91, 2883.558), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:00] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-93.6°, current=-93.6°, player=(1214,1286), corner_timer=0.00
[18:22:00] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-93.8°, current=-93.7°, player=(1207,1286), corner_timer=0.00
[18:22:00] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-93.9°, current=-93.8°, player=(1204,1286), corner_timer=0.00
[18:22:00] [ENEMY] [GuardEnemy5] State: PURSUING -> COMBAT
[18:22:00] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[18:22:00] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-94.0°, current=-94.3°, player=(1197,1285), corner_timer=0.00
[18:22:00] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:22:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2102.995, 2881.961), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:00] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-94.1°, current=-94.1°, player=(1194,1285), corner_timer=0.00
[18:22:00] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-94.2°, current=-94.2°, player=(1187,1282), corner_timer=0.00
[18:22:00] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1183,1281), corner_timer=-0.02
[18:22:00] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:00] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1179,1279), corner_timer=0.30
[18:22:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1987.3876, 2829.8733), shooter_id=684023877349, bullet_pos=(1349.3676, 1903.2908)
[18:22:00] [INFO] [Bullet] Using shooter_position, distance=1124,9999
[18:22:00] [INFO] [Bullet] Distance to wall: 1124,9999 (76,60331% of viewport)
[18:22:00] [INFO] [LastChance] Threat detected: Bullet
[18:22:00] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2129.079, 2880.364), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:00] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=142.4°, current=-168.8°, player=(1141,1244), corner_timer=0.00
[18:22:00] [ENEMY] [GuardEnemy1] State: IDLE -> COMBAT
[18:22:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2155.163, 2878.767), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:00] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=154.6°, current=-153.5°, player=(1130,1233), corner_timer=0.00
[18:22:00] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[18:22:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2181.247, 2877.17), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2020.9508, 2896.5715), shooter_id=684023877349, bullet_pos=(938.6678, 782.50226)
[18:22:00] [INFO] [Bullet] Using shooter_position, distance=2375
[18:22:00] [INFO] [Bullet] Distance to wall: 2375 (161,71812% of viewport)
[18:22:00] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=35.8°, current=-48.4°, player=(1106,1209), corner_timer=0.00
[18:22:00] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1106,1209), corner_timer=-0.02
[18:22:00] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:00] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1102,1205), corner_timer=0.30
[18:22:00] [ENEMY] [GuardEnemy5] State: COMBAT -> PURSUING
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2211.058, 2875.344), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2004.169, 2863.2224), shooter_id=684023877349, bullet_pos=(936.6575, 741.65625)
[18:22:01] [INFO] [Bullet] Using shooter_position, distance=2374,9998
[18:22:01] [INFO] [Bullet] Distance to wall: 2374,9998 (161,71811% of viewport)
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2216.563, 2849.797), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:01] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:22:01] [ENEMY] [GuardEnemy2] State: RETREATING -> SUPPRESSED
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2222.067, 2824.249), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:01] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1049,1152), corner_timer=-0.02
[18:22:01] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1048,1151), corner_timer=0.30
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2020.9508, 2896.5715), shooter_id=684023877349, bullet_pos=(1290.9691, 42.50161)
[18:22:01] [INFO] [Bullet] Using shooter_position, distance=2945,9443
[18:22:01] [INFO] [Bullet] Distance to wall: 2945,9443 (200,59479% of viewport)
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2234.877, 2804.378), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2138.142, 2824.5374), shooter_id=684023877349, bullet_pos=(1343.7251, 1806.0557)
[18:22:01] [INFO] [Bullet] Using shooter_position, distance=1291,6669
[18:22:01] [INFO] [Bullet] Distance to wall: 1291,6669 (87,95197% of viewport)
[18:22:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2004.169, 2863.2224), shooter_id=684023877349, bullet_pos=(1441.2561, 51.435673)
[18:22:01] [INFO] [Bullet] Using shooter_position, distance=2867,58
[18:22:01] [INFO] [Bullet] Distance to wall: 2867,58 (195,2588% of viewport)
[18:22:01] [INFO] [Bullet] Distance-based penetration chance: 10,948239%
[18:22:01] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2062.79, 2827.0906), shooter_id=684023877349, bullet_pos=(942.62854, 827.84827)
[18:22:01] [INFO] [Bullet] Using shooter_position, distance=2291,6658
[18:22:01] [INFO] [Bullet] Distance to wall: 2291,6658 (156,04375% of viewport)
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2257.782, 2794.066), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[18:22:01] [ENEMY] [GuardEnemy1] Hit: dmg=1, hp=2/2->1/2
[18:22:01] [INFO] [ImpactEffects] spawn_blood_effect called at (1312.086, 1280.73), dir=(1, 0), lethal=false
[18:22:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:01] [INFO] [ImpactEffects] Blood effect spawned at (1312.086, 1280.73) (scale=1)
[18:22:01] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[18:22:01] [ENEMY] [GuardEnemy1] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-153.8°, current=180.0°, player=(1046,1149), corner_timer=0.00
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:01] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[18:22:01] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> COMBAT
[18:22:01] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-90.0°, current=-126.7°, player=(1046,1149), corner_timer=0.05
[18:22:01] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:22:01] [ENEMY] [GuardEnemy2] State: RETREATING -> SUPPRESSED
[18:22:01] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1046,1149), corner_timer=-0.02
[18:22:01] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1046,1150), corner_timer=0.30
[18:22:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2037.9366, 2827.8008), shooter_id=684023877349, bullet_pos=(1011.9382, 53.08058)
[18:22:01] [INFO] [Bullet] Using shooter_position, distance=2958,335
[18:22:01] [INFO] [Bullet] Distance to wall: 2958,335 (201,43848% of viewport)
[18:22:01] [INFO] [LastChance] Threat detected: @Area2D@2477
[18:22:01] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:01] [INFO] [Player] Spawning blood effect at (1046.7998, 1159.2952), dir=(1, 0), lethal=False (C#)
[18:22:01] [INFO] [ImpactEffects] spawn_blood_effect called at (1046.8, 1159.295), dir=(1, 0), lethal=false
[18:22:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:01] [INFO] [ImpactEffects] Blood effect spawned at (1046.8, 1159.295) (scale=1)
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[18:22:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2112.912, 2825.4473), shooter_id=684023877349, bullet_pos=(948.59326, 755.426)
[18:22:01] [INFO] [Bullet] Using shooter_position, distance=2375,0002
[18:22:01] [INFO] [Bullet] Distance to wall: 2375,0002 (161,71814% of viewport)
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [LastChance] Threat detected: @Area2D@2465
[18:22:01] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1775.7422, 1254.9403), shooter_id=682966913068, bullet_pos=(1401.6072, 1280.4)
[18:22:01] [INFO] [Bullet] Using shooter_position, distance=375,00027
[18:22:01] [INFO] [Bullet] Distance to wall: 375,00027 (25,53446% of viewport)
[18:22:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:01] [INFO] [Bullet] Starting wall penetration at (1401.6072, 1280.4)
[18:22:01] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> COMBAT
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:22:01] [INFO] [Bullet] Exiting penetration at (1355.0482, 1283.5684) after traveling 41,666668 pixels through wall
[18:22:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:22:01] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [ENEMY] [GuardEnemy2] State: RETREATING -> SUPPRESSED
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2087.7498, 2826.3296), shooter_id=684023877349, bullet_pos=(937.4103, 55.641964)
[18:22:01] [INFO] [Bullet] Using shooter_position, distance=2999,9985
[18:22:01] [INFO] [Bullet] Distance to wall: 2999,9985 (204,27542% of viewport)
[18:22:01] [INFO] [Bullet] Distance-based penetration chance: 9,1449175%
[18:22:01] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2062.79, 2827.0906), shooter_id=684023877349, bullet_pos=(1426.9327, 38.786983)
[18:22:01] [INFO] [Bullet] Using shooter_position, distance=2859,8867
[18:22:01] [INFO] [Bullet] Distance to wall: 2859,8867 (194,73495% of viewport)
[18:22:01] [INFO] [Bullet] Distance-based penetration chance: 11,053009%
[18:22:01] [INFO] [Bullet] Starting wall penetration at (1426.9327, 38.786983)
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,453262
[18:22:01] [INFO] [Bullet] Body exited signal received for penetrating body
[18:22:01] [INFO] [Bullet] Exiting penetration at (1448.0747, 4.3410225) after traveling 35,416668 pixels through wall
[18:22:01] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:22:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[18:22:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [BloodDecal] Blood puddle created at (1378.413, 1343.096) (added to group)
[18:22:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2176.868, 2773.3958), shooter_id=684023877349, bullet_pos=(1408.1333, 1294.6041)
[18:22:01] [INFO] [Bullet] Using shooter_position, distance=1666,6666
[18:22:01] [INFO] [Bullet] Distance to wall: 1666,6666 (113,4864% of viewport)
[18:22:01] [INFO] [Bullet] Distance-based penetration chance: 27,302721%
[18:22:01] [INFO] [Bullet] Starting wall penetration at (1408.1333, 1294.6041)
[18:22:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2167.05, 2823.4846), shooter_id=684023877349, bullet_pos=(917.9516, 952.051)
[18:22:01] [INFO] [Bullet] Using shooter_position, distance=2250,0024
[18:22:01] [INFO] [Bullet] Distance to wall: 2250,0024 (153,20682% of viewport)
[18:22:01] [INFO] [Bullet] Distance-based penetration chance: 19,358639%
[18:22:01] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,71538
[18:22:01] [INFO] [Bullet] Body exited signal received for penetrating body
[18:22:01] [INFO] [Bullet] Exiting penetration at (1386.6088, 1253.1979) after traveling 41,666676 pixels through wall
[18:22:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:22:01] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [LastChance] Threat detected: @Area2D@2504
[18:22:02] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[18:22:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1102.416, 1154.298) (added to group)
[18:22:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1775.7146, 1254.6565), shooter_id=682966913068, bullet_pos=(665.4763, 896.2113)
[18:22:02] [INFO] [Bullet] Using shooter_position, distance=1166,667
[18:22:02] [INFO] [Bullet] Distance to wall: 1166,667 (79,440506% of viewport)
[18:22:02] [INFO] [Bullet] Distance-based penetration chance: 53,986084%
[18:22:02] [INFO] [Bullet] Starting wall penetration at (665.4763, 896.2113)
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,403772
[18:22:02] [INFO] [Bullet] Body exited signal received for penetrating body
[18:22:02] [INFO] [Bullet] Exiting penetration at (621.0668, 881.87354) after traveling 41,666668 pixels through wall
[18:22:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1404.259, 1386.734) (added to group)
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2171.9177, 2798.4575), shooter_id=684023877349, bullet_pos=(938.4739, 916.6709)
[18:22:02] [INFO] [Bullet] Using shooter_position, distance=2250,0012
[18:22:02] [INFO] [Bullet] Distance to wall: 2250,0012 (153,20673% of viewport)
[18:22:02] [ENEMY] [GuardEnemy1] Hit: dmg=1, hp=1/2->0/2
[18:22:02] [INFO] [ImpactEffects] spawn_blood_effect called at (1330.746, 1318.189), dir=(1, 0), lethal=true
[18:22:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:02] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:22:02] [INFO] [ImpactEffects] Blood effect spawned at (1330.746, 1318.189) (scale=1.5)
[18:22:02] [ENEMY] [GuardEnemy1] Enemy died (ricochet: false, penetration: false)
[18:22:02] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:22:02] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:22:02] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:22:02] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:22:02] [INFO] [PowerFantasy]   - Duration: 300ms
[18:22:02] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy1 (remaining: 9)
[18:22:02] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:22:02] [ENEMY] [GuardEnemy1] Death animation started with hit direction: (1, 0)
[18:22:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1135.567, 1183.736) (added to group)
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1130.509, 1170.681) (added to group)
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1135.425, 1216.175) (added to group)
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1776.1969, 1260.0264), shooter_id=682966913068, bullet_pos=(1443.645, 1317.6063)
[18:22:02] [INFO] [Bullet] Using shooter_position, distance=337,49994
[18:22:02] [INFO] [Bullet] Distance to wall: 337,49994 (22,980993% of viewport)
[18:22:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:02] [INFO] [Bullet] Starting wall penetration at (1443.645, 1317.6063)
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:22:02] [INFO] [Bullet] Exiting penetration at (1434.6127, 1319.1702) after traveling 4,166667 pixels through wall
[18:22:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [PowerFantasy] Effect duration expired after 314.00 ms
[18:22:02] [INFO] [PowerFantasy] Ending power fantasy effect
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1121.785, 1174.782) (added to group)
[18:22:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2112.912, 2825.4473), shooter_id=684023877349, bullet_pos=(1454.4615, 66.13393)
[18:22:02] [INFO] [Bullet] Using shooter_position, distance=2836,788
[18:22:02] [INFO] [Bullet] Distance to wall: 2836,788 (193,16212% of viewport)
[18:22:02] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1196.712, 1179.991) (added to group)
[18:22:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1776.1051, 1261.4683), shooter_id=682966913068, bullet_pos=(1401.7781, 1283.9252)
[18:22:02] [INFO] [Bullet] Using shooter_position, distance=375,00003
[18:22:02] [INFO] [Bullet] Distance to wall: 375,00003 (25,534443% of viewport)
[18:22:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:02] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> COMBAT
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1429.501, 1387.231) (added to group)
[18:22:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2211.4175, 2744.271), shooter_id=684023877349, bullet_pos=(1371.6002, 1304.6598)
[18:22:02] [INFO] [Bullet] Using shooter_position, distance=1666,6654
[18:22:02] [INFO] [Bullet] Distance to wall: 1666,6654 (113,48631% of viewport)
[18:22:02] [INFO] [Bullet] Distance-based penetration chance: 27,302738%
[18:22:02] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1775.7146, 1254.6565), shooter_id=682966913068, bullet_pos=(67.58653, 874.13495)
[18:22:02] [INFO] [Bullet] Using shooter_position, distance=1749,9995
[18:22:02] [INFO] [Bullet] Distance to wall: 1749,9995 (119,16069% of viewport)
[18:22:02] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [ENEMY] [GuardEnemy2] State: RETREATING -> SUPPRESSED
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [LastChance] Threat detected: @Area2D@2519
[18:22:02] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:02] [INFO] [ReplayManager] Recording frame 480 (7,7s): player_valid=True, enemies=10
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1192.403, 1275.242) (added to group)
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1388.547, 1359.556) (added to group)
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1175.31, 1220.669) (added to group)
[18:22:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1261.94, 1234.204) (added to group)
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1392.998, 1359.335) (added to group)
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1378.359, 1350.672) (added to group)
[18:22:02] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1250.715, 1180.099) (added to group)
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1397.645, 1337.55) (added to group)
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1386.228, 1374.634) (added to group)
[18:22:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1396.907, 1381.364) (added to group)
[18:22:02] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[18:22:02] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> COMBAT
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1445.536, 1394.629) (added to group)
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1452.152, 1387.67) (added to group)
[18:22:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1775.7877, 1255.6744), shooter_id=682966913068, bullet_pos=(32.860233, 1098.4918)
[18:22:02] [INFO] [Bullet] Using shooter_position, distance=1750,0007
[18:22:02] [INFO] [Bullet] Distance to wall: 1750,0007 (119,160774% of viewport)
[18:22:02] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1404.154, 1344.216) (added to group)
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1404.273, 1368.979) (added to group)
[18:22:02] [ENEMY] [GuardEnemy2] State: RETREATING -> SUPPRESSED
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1404.892, 1380.153) (added to group)
[18:22:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1775.847, 1256.8588), shooter_id=682966913068, bullet_pos=(45.402344, 995.97955)
[18:22:02] [INFO] [Bullet] Using shooter_position, distance=1749,999
[18:22:02] [INFO] [Bullet] Distance to wall: 1749,999 (119,16065% of viewport)
[18:22:02] [INFO] [Bullet] Distance-based penetration chance: 26,16787%
[18:22:02] [INFO] [Bullet] Starting wall penetration at (45.402344, 995.97955)
[18:22:02] [ENEMY] [GuardEnemy5] Warning: No valid flank position (both sides behind walls)
[18:22:02] [ENEMY] [GuardEnemy5] FLANKING started: target=(954.0865, 1404.301), side=right, pos=(1381.37, 3902.972)
[18:22:02] [ENEMY] [GuardEnemy5] State: PURSUING -> FLANKING
[18:22:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,11289
[18:22:02] [ENEMY] [GuardEnemy1] Ragdoll activated
[18:22:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1475.402, 1339.973) (added to group)
[18:22:02] [INFO] [Bullet] Body exited signal received for penetrating body
[18:22:02] [INFO] [Bullet] Exiting penetration at (-0.7428665, 989.0227) after traveling 41,66667 pixels through wall
[18:22:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:22:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:02] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 62.6°
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1475.718, 1451.563) (added to group)
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1498.641, 1419.194) (added to group)
[18:22:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:02] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1476.983, 1402.644) (added to group)
[18:22:02] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> COMBAT
[18:22:02] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1530.352, 1416.446) (added to group)
[18:22:02] [ENEMY] [GuardEnemy2] State: RETREATING -> SUPPRESSED
[18:22:02] [INFO] [BloodDecal] Blood puddle created at (1472.484, 1426.308) (added to group)
[18:22:03] [INFO] [BloodDecal] Blood puddle created at (1480.938, 1485.919) (added to group)
[18:22:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:03] [INFO] [BloodDecal] Blood puddle created at (1444.63, 1449.241) (added to group)
[18:22:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1776.2217, 1262.8234), shooter_id=682966913068, bullet_pos=(39.139156, 1050.5944)
[18:22:03] [INFO] [Bullet] Using shooter_position, distance=1749,9991
[18:22:03] [INFO] [Bullet] Distance to wall: 1749,9991 (119,16067% of viewport)
[18:22:03] [INFO] [Bullet] Distance-based penetration chance: 26,16787%
[18:22:03] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1776.3599, 1264.1111), shooter_id=682966913068, bullet_pos=(66.008316, 893.7083)
[18:22:03] [INFO] [Bullet] Using shooter_position, distance=1750,0002
[18:22:03] [INFO] [Bullet] Distance to wall: 1750,0002 (119,160736% of viewport)
[18:22:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:03] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 18.3°
[18:22:03] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[18:22:03] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> COMBAT
[18:22:03] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:22:03] [ENEMY] [GuardEnemy2] State: RETREATING -> SUPPRESSED
[18:22:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1776.5541, 1266.5452), shooter_id=682966913068, bullet_pos=(1402.496, 1293.1145)
[18:22:03] [INFO] [Bullet] Using shooter_position, distance=375,00052
[18:22:03] [INFO] [Bullet] Distance to wall: 375,00052 (25,534475% of viewport)
[18:22:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:03] [INFO] [Bullet] Starting wall penetration at (1402.496, 1293.1145)
[18:22:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,0636826
[18:22:03] [INFO] [Bullet] Body exited signal received for penetrating body
[18:22:03] [INFO] [Bullet] Exiting penetration at (1355.9465, 1296.4209) after traveling 41,666676 pixels through wall
[18:22:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:22:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1776.661, 1265.8909), shooter_id=682966913068, bullet_pos=(48.16658, 1737.4579)
[18:22:03] [INFO] [Bullet] Using shooter_position, distance=1791,6664
[18:22:03] [INFO] [Bullet] Distance to wall: 1791,6664 (121,997856% of viewport)
[18:22:03] [INFO] [Bullet] Distance-based penetration chance: 25,60043%
[18:22:03] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1776.5813, 1266.3694), shooter_id=682966913068, bullet_pos=(54.48909, 1577.6575)
[18:22:03] [INFO] [Bullet] Using shooter_position, distance=1750,0005
[18:22:03] [INFO] [Bullet] Distance to wall: 1750,0005 (119,16076% of viewport)
[18:22:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:03] [INFO] [LastChance] Threat detected: @Area2D@2595
[18:22:03] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.753, 1255.826), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[18:22:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[18:22:03] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[18:22:03] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> COMBAT
[18:22:03] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:22:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:22:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:22:03] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[18:22:03] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[18:22:03] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[18:22:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:22:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:22:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:22:03] [INFO] [CinemaEffects] Scene changed to: CityLevel
[18:22:03] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:22:03] [ENEMY] [SniperEnemy1] Death animation component initialized
[18:22:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:22:03] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[18:22:03] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[18:22:03] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[18:22:03] [ENEMY] [SniperEnemy2] Death animation component initialized
[18:22:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:22:03] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[18:22:03] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[18:22:03] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[18:22:03] [ENEMY] [GuardEnemy1] Death animation component initialized
[18:22:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:22:03] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[18:22:03] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[18:22:03] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[18:22:03] [ENEMY] [GuardEnemy2] Death animation component initialized
[18:22:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:22:03] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[18:22:03] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[18:22:03] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[18:22:03] [ENEMY] [GuardEnemy3] Death animation component initialized
[18:22:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:22:03] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[18:22:03] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[18:22:03] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[18:22:03] [ENEMY] [GuardEnemy4] Death animation component initialized
[18:22:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:22:03] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[18:22:03] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[18:22:03] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[18:22:03] [ENEMY] [PatrolEnemy1] Death animation component initialized
[18:22:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:22:03] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[18:22:03] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[18:22:03] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[18:22:03] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:22:03] [ENEMY] [PatrolEnemy2] Death animation component initialized
[18:22:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:22:03] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[18:22:03] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[18:22:03] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[18:22:03] [ENEMY] [GuardEnemy5] Death animation component initialized
[18:22:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:22:03] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[18:22:03] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[18:22:03] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[18:22:03] [ENEMY] [GuardEnemy6] Death animation component initialized
[18:22:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:22:03] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:22:03] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:22:03] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:22:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:22:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:22:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:22:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:22:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:22:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:22:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:22:03] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:22:03] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:22:03] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:22:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:22:03] [INFO] [ScoreManager] Level started with 10 enemies
[18:22:03] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[18:22:03] [INFO] [ReplayManager] Replay data cleared
[18:22:03] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:22:03] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:22:03] [INFO] [ReplayManager] Level: CityLevel
[18:22:03] [INFO] [ReplayManager] Player: Player (valid: True)
[18:22:03] [INFO] [ReplayManager] Enemies count: 10
[18:22:03] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:22:03] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[18:22:03] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[18:22:03] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[18:22:03] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[18:22:03] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[18:22:03] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[18:22:03] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[18:22:03] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[18:22:03] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[18:22:03] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[18:22:03] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[18:22:03] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[18:22:03] [INFO] [CinemaEffects] Found player node: Player
[18:22:03] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:22:03] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 10)
[18:22:03] [ENEMY] [SniperEnemy1] Registered as sound listener
[18:22:03] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 3, behavior: GUARD
[18:22:03] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[18:22:03] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 11)
[18:22:03] [ENEMY] [SniperEnemy2] Registered as sound listener
[18:22:03] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 3, behavior: GUARD
[18:22:03] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[18:22:03] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 12)
[18:22:03] [ENEMY] [GuardEnemy1] Registered as sound listener
[18:22:03] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 2, behavior: GUARD
[18:22:03] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[18:22:03] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 13)
[18:22:03] [ENEMY] [GuardEnemy2] Registered as sound listener
[18:22:03] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 2, behavior: GUARD
[18:22:03] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[18:22:03] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 14)
[18:22:03] [ENEMY] [GuardEnemy3] Registered as sound listener
[18:22:03] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 3, behavior: GUARD
[18:22:03] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[18:22:03] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 15)
[18:22:03] [ENEMY] [GuardEnemy4] Registered as sound listener
[18:22:03] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 3, behavior: GUARD
[18:22:03] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[18:22:03] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 16)
[18:22:03] [ENEMY] [PatrolEnemy1] Registered as sound listener
[18:22:03] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 2, behavior: PATROL
[18:22:03] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[18:22:03] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 17)
[18:22:03] [ENEMY] [PatrolEnemy2] Registered as sound listener
[18:22:03] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 4, behavior: PATROL
[18:22:03] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[18:22:03] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 18)
[18:22:03] [ENEMY] [GuardEnemy5] Registered as sound listener
[18:22:03] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 4, behavior: GUARD
[18:22:03] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[18:22:03] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 19)
[18:22:03] [ENEMY] [GuardEnemy6] Registered as sound listener
[18:22:03] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 4, behavior: GUARD
[18:22:03] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:22:03] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:22:03] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:22:03] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:22:03] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:22:03] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:22:03] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:22:03] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:22:03] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:22:03] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[18:22:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:22:03] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:22:03] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:22:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:22:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:22:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:22:03] [INFO] [LastChance] Found player: Player
[18:22:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:22:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:22:03] [INFO] [LastChance] Connected to player Died signal (C#)
[18:22:03] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:22:04] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:22:05] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:22:05] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:05] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(300,2031), corner_timer=0.30
[18:22:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(300,2031), corner_timer=0.30
[18:22:05] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(300,1926), corner_timer=-0.02
[18:22:05] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:22:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(300,1926), corner_timer=-0.02
[18:22:05] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:05] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(300,1921), corner_timer=0.30
[18:22:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(300,1921), corner_timer=0.30
[18:22:05] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:22:05] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(300,1816), corner_timer=-0.02
[18:22:05] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:22:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(300,1816), corner_timer=-0.02
[18:22:05] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:05] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(300,1811), corner_timer=0.30
[18:22:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(300,1811), corner_timer=0.30
[18:22:06] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(308,1710), corner_timer=-0.02
[18:22:06] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:22:06] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(308,1710), corner_timer=-0.02
[18:22:06] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:06] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(311,1705), corner_timer=0.30
[18:22:06] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(311,1705), corner_timer=0.30
[18:22:06] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(379,1629), corner_timer=-0.02
[18:22:06] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:22:06] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(379,1629), corner_timer=-0.02
[18:22:06] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:06] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(381,1624), corner_timer=0.30
[18:22:06] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(381,1624), corner_timer=0.30
[18:22:06] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:22:06] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-138.1°, current=-90.0°, player=(389,1529), corner_timer=0.00
[18:22:06] [ENEMY] [PatrolEnemy1] State: IDLE -> COMBAT
[18:22:06] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-138.0°, current=126.2°, player=(389,1518), corner_timer=0.00
[18:22:07] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-136.6°, current=173.4°, player=(389,1430), corner_timer=0.00
[18:22:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2186.216, 3126.096), source=ENEMY (PatrolEnemy1), range=1469, listeners=19
[18:22:07] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[18:22:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:07] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:22:07] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-133.7°, current=-133.7°, player=(389,1243), corner_timer=0.00
[18:22:07] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[18:22:07] [ENEMY] [PatrolEnemy1] State: PURSUING -> RETREATING
[18:22:07] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-90.0°, current=-132.9°, player=(389,1188), corner_timer=0.00
[18:22:07] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[18:22:07] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[18:22:07] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-173.7°, current=-123.8°, player=(389,1111), corner_timer=0.00
[18:22:07] [ENEMY] [GuardEnemy1] State: IDLE -> COMBAT
[18:22:08] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-173.0°, current=57.2°, player=(389,1100), corner_timer=0.00
[18:22:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=128.4°, player=(389,1017), corner_timer=-0.02
[18:22:08] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=131.3°, player=(389,1012), corner_timer=0.30
[18:22:08] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-161.5°, current=148.8°, player=(389,946), corner_timer=0.00
[18:22:08] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[18:22:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(389,907), corner_timer=-0.02
[18:22:08] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(389,902), corner_timer=0.30
[18:22:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2133.6418, 3082.875), shooter_id=1016900621291, bullet_pos=(58.361916, 916.4939)
[18:22:08] [INFO] [Bullet] Using shooter_position, distance=2999,999
[18:22:08] [INFO] [Bullet] Distance to wall: 2999,999 (204,27547% of viewport)
[18:22:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(960.3386, 1130.919), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:22:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(927.306, 1113.533), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:22:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=1, below_threshold=0
[18:22:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(389,797), corner_timer=-0.02
[18:22:08] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(389,792), corner_timer=0.30
[18:22:09] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-147.8°, current=-147.8°, player=(389,775), corner_timer=0.00
[18:22:09] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[18:22:09] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-148.2°, current=-147.8°, player=(389,770), corner_timer=0.00
[18:22:09] [ENEMY] [GuardEnemy1] State: RETREATING -> IN_COVER
[18:22:09] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[18:22:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.2763, 1107.7937), shooter_id=1015491335063, bullet_pos=(41.61829, 674.2471)
[18:22:09] [INFO] [Bullet] Using shooter_position, distance=958,33344
[18:22:09] [INFO] [Bullet] Distance to wall: 958,33344 (65,254684% of viewport)
[18:22:09] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(389,697), corner_timer=-0.02
[18:22:09] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(864.59546, 1086.959), shooter_id=1015491335063, bullet_pos=(64.521454, 639.56683)
[18:22:09] [INFO] [Bullet] Using shooter_position, distance=916,6669
[18:22:09] [INFO] [Bullet] Distance to wall: 916,6669 (62,417538% of viewport)
[18:22:09] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(389,694), corner_timer=0.30
[18:22:09] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[18:22:09] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(389,679), corner_timer=-0.02
[18:22:09] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:09] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(389,679), corner_timer=0.30
[18:22:09] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(389,679), corner_timer=-0.02
[18:22:09] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:09] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(389,679), corner_timer=0.30
[18:22:10] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[18:22:10] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[18:22:10] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-126.2°, current=-90.0°, player=(389,679), corner_timer=0.00
[18:22:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(389,679), corner_timer=-0.02
[18:22:10] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(389,679), corner_timer=0.30
[18:22:10] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[18:22:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(389,679), corner_timer=-0.02
[18:22:10] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(389,679), corner_timer=0.30
[18:22:11] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> IN_COVER
[18:22:11] [ENEMY] [GuardEnemy1] State: IN_COVER -> PURSUING
[18:22:11] [ENEMY] [GuardEnemy1] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-141.3°, current=-141.6°, player=(389,679), corner_timer=0.00
[18:22:11] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[18:22:11] [ENEMY] [PatrolEnemy1] Warning: No valid flank position (both sides behind walls)
[18:22:11] [ENEMY] [PatrolEnemy1] FLANKING started: target=(588.2672, 658.2849), side=left, pos=(2167.745, 3106.864)
[18:22:11] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[18:22:11] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 177.6°
[18:22:11] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 177.6°
[18:22:12] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 177.6°
[18:22:12] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=-45.8°, player=(389,679), corner_timer=-0.02
[18:22:12] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:12] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=-43.0°, player=(389,679), corner_timer=0.30
[18:22:12] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[18:22:12] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 177.6°
[18:22:12] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(389,679), corner_timer=-0.02
[18:22:12] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:12] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(389,679), corner_timer=0.30
[18:22:12] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 177.6°
[18:22:13] [ENEMY] [GuardEnemy1] PURSUING corner check: angle 163.6°
[18:22:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(389,679), corner_timer=-0.02
[18:22:13] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(389,679), corner_timer=0.30
[18:22:13] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 177.6°
[18:22:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(389,679), corner_timer=-0.02
[18:22:13] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(389,679), corner_timer=0.30
[18:22:13] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[18:22:13] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 177.6°
[18:22:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-135.0°, current=-134.9°, player=(389,679), corner_timer=0.22
[18:22:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=FLANKING, target=-135.9°, current=-135.8°, player=(389,679), corner_timer=0.05
[18:22:13] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 177.6°
[18:22:14] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -171.9°
[18:22:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-139.5°, current=-139.3°, player=(389,714), corner_timer=0.18
[18:22:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=FLANKING, target=-140.4°, current=-140.2°, player=(390,735), corner_timer=0.12
[18:22:14] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[18:22:14] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -171.9°
[18:22:14] [ENEMY] [GuardEnemy1] PURSUING corner check: angle 102.1°
[18:22:14] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -171.9°
[18:22:15] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 156.8°
[18:22:15] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(514,953), corner_timer=-0.02
[18:22:15] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:15] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(514,958), corner_timer=0.30
[18:22:15] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=170.9°, current=-178.5°, player=(520,989), corner_timer=0.07
[18:22:15] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[18:22:15] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.1°, current=87.1°, player=(525,998), corner_timer=0.07
[18:22:15] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[18:22:15] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -42.9°
[18:22:15] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(565,1041), corner_timer=-0.02
[18:22:15] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:15] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=157.0°, current=109.8°, player=(569,1045), corner_timer=0.07
[18:22:15] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(569,1045), corner_timer=0.30
[18:22:15] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 156.2°
[18:22:16] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(643,1119), corner_timer=-0.02
[18:22:16] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:16] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(647,1122), corner_timer=0.30
[18:22:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(794.0661, 950.6248), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:22:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=1, below_threshold=0
[18:22:16] [INFO] [LastChance] Threat detected: Bullet
[18:22:16] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:16] [INFO] [Player] Spawning blood effect at (717.6428, 1145.3097), dir=(1, 0), lethal=False (C#)
[18:22:16] [INFO] [ImpactEffects] spawn_blood_effect called at (717.6428, 1145.31), dir=(1, 0), lethal=false
[18:22:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:16] [INFO] [ImpactEffects] Blood effect spawned at (717.6428, 1145.31) (scale=1)
[18:22:16] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -42.9°
[18:22:16] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(719,1145), corner_timer=-0.02
[18:22:16] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:16] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(720,1146), corner_timer=0.30
[18:22:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(794.0661, 950.6248), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:22:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=1, below_threshold=0
[18:22:16] [INFO] [LastChance] Threat detected: Bullet
[18:22:16] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:16] [INFO] [Player] Spawning blood effect at (724.42834, 1146.815), dir=(1, 0), lethal=False (C#)
[18:22:16] [INFO] [ImpactEffects] spawn_blood_effect called at (724.4283, 1146.815), dir=(1, 0), lethal=false
[18:22:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:16] [INFO] [ImpactEffects] Blood effect spawned at (724.4283, 1146.815) (scale=1)
[18:22:16] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[18:22:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-160.6°, current=-160.5°, player=(724,1146), corner_timer=0.17
[18:22:16] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[18:22:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(794.0661, 950.6248), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:22:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=1, below_threshold=0
[18:22:16] [INFO] [LastChance] Threat detected: Bullet
[18:22:16] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:16] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[18:22:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(806.079, 930.4328), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:22:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=1, below_threshold=0
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (794.6735, 1146.252) (added to group)
[18:22:16] [INFO] [LastChance] Threat detected: @Area2D@2866
[18:22:16] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (784.6404, 1190.642) (added to group)
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (807.8899, 1155.368) (added to group)
[18:22:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:16] [INFO] [Player] Spawning blood effect at (724.42834, 1146.815), dir=(1, 0), lethal=False (C#)
[18:22:16] [INFO] [ImpactEffects] spawn_blood_effect called at (724.4283, 1146.815), dir=(1, 0), lethal=false
[18:22:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:16] [INFO] [ImpactEffects] Blood effect spawned at (724.4283, 1146.815) (scale=1)
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (815.4101, 1160.13) (added to group)
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (812.2892, 1162.177) (added to group)
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (790.3281, 1192.545) (added to group)
[18:22:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(806.988, 913.0458), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:22:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=1, below_threshold=0
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (793.6753, 1150.125) (added to group)
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (836.2152, 1238.031) (added to group)
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (787.1345, 1181.078) (added to group)
[18:22:16] [INFO] [LastChance] Threat detected: @Area2D@2874
[18:22:16] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (811.537, 1229.634) (added to group)
[18:22:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:16] [INFO] [Player] Spawning blood effect at (724.42834, 1146.815), dir=(1, 0), lethal=False (C#)
[18:22:16] [INFO] [ImpactEffects] spawn_blood_effect called at (724.4283, 1146.815), dir=(1, 0), lethal=false
[18:22:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:16] [INFO] [ImpactEffects] Blood effect spawned at (724.4283, 1146.815) (scale=1)
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (857.1744, 1162.701) (added to group)
[18:22:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(830.8093, 909.8907), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:22:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=1, below_threshold=0
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (803.2681, 1191.116) (added to group)
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (846.1576, 1135.589) (added to group)
[18:22:16] [INFO] [LastChance] Threat detected: @Area2D@2881
[18:22:16] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (908.2878, 1175.334) (added to group)
[18:22:16] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=102.1°, current=116.9°, player=(724,1146), corner_timer=0.07
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (819.3725, 1175.195) (added to group)
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (776.3123, 1168.957) (added to group)
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (815.6448, 1157.957) (added to group)
[18:22:16] [INFO] [BloodDecal] Blood puddle created at (787.0894, 1191.661) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (941.8138, 1238.426) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (953.3961, 1292.069) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (775.0719, 1176.888) (added to group)
[18:22:17] [ENEMY] [GuardEnemy1] State: RETREATING -> IN_COVER
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (876.1941, 1196.467) (added to group)
[18:22:17] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (764.8004, 1158.331) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (902.3538, 1185.879) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (794.3572, 1157.943) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (844.4505, 1195.56) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (795.8826, 1191.254) (added to group)
[18:22:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(724.4283, 1152.815), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:22:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (862.8799, 1205.411) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (821.0787, 1249.474) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (833.4728, 1192.727) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (818.2996, 1207.812) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (838.355, 1271.877) (added to group)
[18:22:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2013.646, 1625.933), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (805.9855, 1221.766) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (879.0748, 1260.158) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (866.6508, 1149.115) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (833.7162, 1194.756) (added to group)
[18:22:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1978.427, 1625.934), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (957.0435, 1205.415) (added to group)
[18:22:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(810.19293, 974.84686), shooter_id=1015491335063, bullet_pos=(60.099033, 2273.8298)
[18:22:17] [INFO] [Bullet] Using shooter_position, distance=1499,9991
[18:22:17] [INFO] [Bullet] Distance to wall: 1499,9991 (102,13771% of viewport)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (844.3033, 1215.907) (added to group)
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (831.9563, 1251.146) (added to group)
[18:22:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:22:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(778.8043, 1016.9398), shooter_id=1015491335063, bullet_pos=(59.639065, 3411.2678)
[18:22:17] [INFO] [Bullet] Using shooter_position, distance=2500,0012
[18:22:17] [INFO] [Bullet] Distance to wall: 2500,0012 (170,22969% of viewport)
[18:22:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1943.218, 1625.934), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[18:22:17] [INFO] [BloodDecal] Blood puddle created at (868.9989, 1238.295) (added to group)
[18:22:17] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=True, enemies=10
[18:22:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.4283, 1152.815), shooter_id=1018360239170, bullet_pos=(861.7761, 654.047)
[18:22:17] [INFO] [Bullet] Using shooter_position, distance=517.333435058594
[18:22:17] [INFO] [Bullet] Distance to wall: 517.333435058594 (35.2261848854439% of viewport)
[18:22:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:17] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:17] [INFO] [LastChance] Threat detected: @Area2D@2905
[18:22:17] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1994.869, 1604.291), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[18:22:17] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:22:17] [ENEMY] [GuardEnemy1] State: SEEKING_COVER -> IN_COVER
[18:22:17] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[18:22:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(724.4283, 1085.482), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:22:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[18:22:17] [INFO] [LastChance] Threat detected: @Area2D@2916
[18:22:17] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:18] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:22:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2020.679, 1605.313), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[18:22:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1947.5537, 1609.6925), shooter_id=1016900621291, bullet_pos=(38.73133, 885.2611)
[18:22:18] [INFO] [Bullet] Using shooter_position, distance=2041,667
[18:22:18] [INFO] [Bullet] Distance to wall: 2041,667 (139,02086% of viewport)
[18:22:18] [INFO] [Bullet] Distance-based penetration chance: 22,195827%
[18:22:18] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(724.4283, 1030.482), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:22:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[18:22:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2022.735, 1625.338), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[18:22:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[18:22:18] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-42.9°, current=-154.5°, player=(724,1002), corner_timer=0.17
[18:22:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1912.486, 1609.0891), shooter_id=1016900621291, bullet_pos=(49.56064, 881.4186)
[18:22:18] [INFO] [Bullet] Using shooter_position, distance=1999,9988
[18:22:18] [INFO] [Bullet] Distance to wall: 1999,9988 (136,1836% of viewport)
[18:22:18] [INFO] [Bullet] Distance-based penetration chance: 22,763283%
[18:22:18] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:18] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[18:22:18] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=139.9°, player=(724,996), corner_timer=-0.02
[18:22:18] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:18] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[18:22:18] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=142.8°, player=(724,991), corner_timer=0.30
[18:22:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(724.4283, 975.4816), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:22:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[18:22:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.4283, 1085.482), shooter_id=1018360239170, bullet_pos=(937.3975, 746.1028)
[18:22:18] [INFO] [Bullet] Using shooter_position, distance=400.666717529297
[18:22:18] [INFO] [Bullet] Distance to wall: 400.666717529297 (27.2821335576974% of viewport)
[18:22:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:18] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.4283, 975.4816), shooter_id=1018360239170, bullet_pos=(750.4789, 951.6108)
[18:22:18] [INFO] [Bullet] Using shooter_position, distance=35.3333473205566
[18:22:18] [INFO] [Bullet] Distance to wall: 35.3333473205566 (2.40591259135331% of viewport)
[18:22:18] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:22:18] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.4283, 1030.482), shooter_id=1018360239170, bullet_pos=(936.0948, 772.1155)
[18:22:18] [INFO] [Bullet] Using shooter_position, distance=333.999572753906
[18:22:18] [INFO] [Bullet] Distance to wall: 333.999572753906 (22.7426450798715% of viewport)
[18:22:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:18] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:18] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=True, enemies=10
[18:22:18] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(724,966), corner_timer=-0.02
[18:22:18] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:18] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(724,966), corner_timer=0.30
[18:22:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1928.9076, 1588.2296), shooter_id=1016900621291, bullet_pos=(31.615997, 727.67053)
[18:22:18] [INFO] [Bullet] Using shooter_position, distance=2083,3333
[18:22:18] [INFO] [Bullet] Distance to wall: 2083,3333 (141,85799% of viewport)
[18:22:18] [INFO] [Bullet] Distance-based penetration chance: 21,628403%
[18:22:18] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1955.2759, 1586.1394), shooter_id=1016900621291, bullet_pos=(46.78439, 750.7146)
[18:22:18] [INFO] [Bullet] Using shooter_position, distance=2083,3325
[18:22:18] [INFO] [Bullet] Distance to wall: 2083,3325 (141,85794% of viewport)
[18:22:18] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(764,966), corner_timer=-0.02
[18:22:18] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:18] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(768,966), corner_timer=0.30
[18:22:18] [ENEMY] [GuardEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=152.0°, current=102.1°, player=(777,965), corner_timer=0.07
[18:22:18] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=102.1°, current=81.1°, player=(781,965), corner_timer=0.07
[18:22:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1958.1636, 1603.7891), shooter_id=1016900621291, bullet_pos=(45.518955, 889.5088)
[18:22:18] [INFO] [Bullet] Using shooter_position, distance=2041,6674
[18:22:18] [INFO] [Bullet] Distance to wall: 2041,6674 (139,02089% of viewport)
[18:22:19] [ENEMY] [GuardEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=150.8°, current=101.1°, player=(803,954), corner_timer=0.07
[18:22:19] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=102.1°, current=80.1°, player=(806,951), corner_timer=0.07
[18:22:19] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:22:19] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[18:22:19] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[18:22:19] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(811,923), corner_timer=-0.02
[18:22:19] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:19] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(810,919), corner_timer=0.30
[18:22:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(805.136, 915.2813), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:22:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[18:22:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(805.136, 915.2813), shooter_id=1018360239170, bullet_pos=(937.9624, 844.1647)
[18:22:19] [INFO] [Bullet] Using shooter_position, distance=150.666534423828
[18:22:19] [INFO] [Bullet] Distance to wall: 150.666534423828 (10.2591613802455% of viewport)
[18:22:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:19] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(780.3634, 895.9255), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:22:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[18:22:19] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=True, enemies=10
[18:22:19] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(770,883), corner_timer=-0.02
[18:22:19] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(780.3634, 895.9255), shooter_id=1018360239170, bullet_pos=(941.1781, 849.6761)
[18:22:19] [INFO] [Bullet] Using shooter_position, distance=167.333114624023
[18:22:19] [INFO] [Bullet] Distance to wall: 167.333114624023 (11.3940194732154% of viewport)
[18:22:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:19] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:19] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(770,883), corner_timer=0.30
[18:22:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(769.8543, 889.3277), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:22:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[18:22:19] [ENEMY] [GuardEnemy1] Hit: dmg=1, hp=2/2->1/2
[18:22:19] [INFO] [ImpactEffects] spawn_blood_effect called at (909.9338, 895.1595), dir=(0.999879, -0.015531), lethal=false
[18:22:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:19] [INFO] [ImpactEffects] Wall found for blood splatter at (934, 894.7857) (dist=24 px)
[18:22:19] [INFO] [BloodDecal] Blood puddle created at (933, 894.7857) (added to group)
[18:22:19] [INFO] [ImpactEffects] Blood effect spawned at (909.9338, 895.1595) (scale=0.5)
[18:22:19] [ENEMY] [GuardEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-175.2°, current=179.1°, player=(769,883), corner_timer=0.07
[18:22:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(909.9338, 895.1595), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:22:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:19] [INFO] [LastChance] Threat detected: Bullet
[18:22:19] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:19] [INFO] [Player] Spawning blood effect at (769.8543, 883.3277), dir=(1, 0), lethal=False (C#)
[18:22:19] [INFO] [ImpactEffects] spawn_blood_effect called at (769.8543, 883.3277), dir=(1, 0), lethal=false
[18:22:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:19] [INFO] [ImpactEffects] Blood effect spawned at (769.8543, 883.3277) (scale=1)
[18:22:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(909.9338, 895.1595), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:22:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:19] [INFO] [LastChance] Threat detected: Bullet
[18:22:19] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:19] [INFO] [Player] Spawning blood effect at (769.8543, 883.3277), dir=(1, 0), lethal=False (C#)
[18:22:19] [INFO] [ImpactEffects] spawn_blood_effect called at (769.8543, 883.3277), dir=(1, 0), lethal=false
[18:22:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:19] [INFO] [ImpactEffects] Blood effect spawned at (769.8543, 883.3277) (scale=1)
[18:22:19] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(769,883), corner_timer=-0.02
[18:22:19] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:19] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(769,883), corner_timer=0.30
[18:22:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(909.9338, 895.1595), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:22:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:19] [INFO] [LastChance] Threat detected: Bullet
[18:22:19] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:19] [INFO] [Player] Spawning blood effect at (769.8543, 883.3277), dir=(1, 0), lethal=False (C#)
[18:22:19] [INFO] [ImpactEffects] spawn_blood_effect called at (769.8543, 883.3277), dir=(1, 0), lethal=false
[18:22:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:19] [INFO] [ImpactEffects] Blood effect spawned at (769.8543, 883.3277) (scale=1)
[18:22:19] [INFO] [BloodDecal] Blood puddle created at (848.4811, 905.1702) (added to group)
[18:22:19] [INFO] [BloodDecal] Blood puddle created at (826.9227, 920.7091) (added to group)
[18:22:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(909.9338, 895.1595), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:22:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:22:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(769.8543, 889.3277), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:22:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (864.8437, 925.7352) (added to group)
[18:22:20] [INFO] [LastChance] Threat detected: Bullet
[18:22:20] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:20] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:20] [INFO] [Player] Spawning blood effect at (769.8543, 883.3277), dir=(1, 0), lethal=False (C#)
[18:22:20] [INFO] [ImpactEffects] spawn_blood_effect called at (769.8543, 883.3277), dir=(1, 0), lethal=false
[18:22:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:20] [INFO] [ImpactEffects] Blood effect spawned at (769.8543, 883.3277) (scale=1)
[18:22:20] [ENEMY] [GuardEnemy1] Hit: dmg=1, hp=1/2->0/2
[18:22:20] [INFO] [ImpactEffects] spawn_blood_effect called at (909.9338, 895.1595), dir=(0.994172, 0.107808), lethal=true
[18:22:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:22:20] [INFO] [ImpactEffects] Wall found for blood splatter at (934, 897.7693) (dist=24 px)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (933, 897.7693) (added to group)
[18:22:20] [INFO] [ImpactEffects] Blood effect spawned at (909.9338, 895.1595) (scale=0.75)
[18:22:20] [ENEMY] [GuardEnemy1] Enemy died (ricochet: false, penetration: false)
[18:22:20] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:22:20] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:22:20] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:22:20] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:22:20] [INFO] [PowerFantasy]   - Duration: 300ms
[18:22:20] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy1 (remaining: 9)
[18:22:20] [INFO] [DeathAnim] Started - Angle: 6.2 deg, Index: 12
[18:22:20] [ENEMY] [GuardEnemy1] Death animation started with hit direction: (0.994172, 0.107808)
[18:22:20] [INFO] [BloodyFeet:GuardEnemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (894.4105, 929.9362) (added to group)
[18:22:20] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[18:22:20] [INFO] [PowerFantasy] Ending power fantasy effect
[18:22:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(769,883), corner_timer=-0.01
[18:22:20] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (857.0945, 923.345) (added to group)
[18:22:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(769,883), corner_timer=0.30
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (894.1061, 884.5431) (added to group)
[18:22:20] [INFO] [ReplayManager] Recording frame 1020 (16,7s): player_valid=True, enemies=10
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (905.3654, 929.1611) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (895.5047, 918.9429) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (828.4475, 899.9315) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (859.1217, 910.5636) (added to group)
[18:22:20] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:22:20] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:22:20] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:22:20] [ENEMY] [GuardEnemy1] Player reloading: false -> true
[18:22:20] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[18:22:20] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[18:22:20] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:22:20] [ENEMY] [PatrolEnemy1] Player reloading: false -> true
[18:22:20] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[18:22:20] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:22:20] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:22:20] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(769.8543, 883.3277), source=PLAYER (Player), range=900, listeners=9
[18:22:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[18:22:20] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=4854), can_see=false
[18:22:20] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=6156), can_see=false
[18:22:20] [ENEMY] [GuardEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1661), can_see=false
[18:22:20] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=3165), can_see=false
[18:22:20] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=4272), can_see=false
[18:22:20] [ENEMY] [PatrolEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1458), can_see=false
[18:22:20] [ENEMY] [PatrolEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3898), can_see=false
[18:22:20] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=3376), can_see=false
[18:22:20] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=4233), can_see=false
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (868.5042, 993.5215) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (869.6689, 930.3218) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (868.3447, 1039.277) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (864.5484, 996.7787) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (921.1968, 888.0777) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (859.4738, 982.9353) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (855.9734, 887.3244) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (923.949, 864.6588) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (877.718, 872.2112) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (887.4515, 877.0249) (added to group)
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (837.3658, 909.4523) (added to group)
[18:22:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(769,883), corner_timer=-0.02
[18:22:20] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (853.9189, 907.7851) (added to group)
[18:22:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(769,883), corner_timer=0.30
[18:22:20] [ENEMY] [GuardEnemy1] Ragdoll activated
[18:22:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:22:20] [INFO] [BloodDecal] Blood puddle created at (905.3812, 1038.58) (added to group)
[18:22:20] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[18:22:20] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[18:22:21] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-149.4°, current=-42.9°, player=(769,883), corner_timer=0.17
[18:22:21] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:22:21] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:22:21] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:22:21] [ENEMY] [GuardEnemy1] Player reloading: true -> false
[18:22:21] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[18:22:21] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[18:22:21] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:22:21] [ENEMY] [PatrolEnemy1] Player reloading: true -> false
[18:22:21] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[18:22:21] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:22:21] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:22:21] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:22:21] [INFO] [Player.Reload.Anim] LeftArm: pos=(7.5625014, 4.3125005), target=(16, 6), base=(16, 6)
[18:22:21] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9999998, 6), target=(4, 6), base=(4, 6)
[18:22:21] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:22:21] [INFO] [ReplayManager] Recording frame 1080 (17,7s): player_valid=True, enemies=10
[18:22:21] [ENEMY] [GuardEnemy1] Death animation completed
[18:22:22] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:22:22] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-154.6°, current=-154.4°, player=(818,1052), corner_timer=0.17
[18:22:22] [ENEMY] [PatrolEnemy1] State: PURSUING -> COMBAT
[18:22:22] [INFO] [ReplayManager] Recording frame 1140 (18,7s): player_valid=True, enemies=10
[18:22:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=-34.4°, player=(818,1096), corner_timer=-0.02
[18:22:22] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:22] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=-31.5°, player=(818,1097), corner_timer=0.30
[18:22:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(818,1099), corner_timer=-0.02
[18:22:23] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(818,1099), corner_timer=0.30
[18:22:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(818.347, 1105.05), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:22:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=0, below_threshold=1
[18:22:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1803.785, 1587.805), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:22:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:22:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(818,1099), corner_timer=-0.02
[18:22:23] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(818,1099), corner_timer=0.30
[18:22:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1770.339, 1571.217), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:22:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:22:23] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:22:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1736.894, 1554.629), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:22:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:22:23] [INFO] [ReplayManager] Recording frame 1200 (19,7s): player_valid=True, enemies=10
[18:22:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1750.627, 1576.863), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:22:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:22:23] [INFO] [LastChance] Threat detected: Bullet
[18:22:23] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(818,1099), corner_timer=-0.02
[18:22:23] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:23] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:23] [INFO] [Player] Spawning blood effect at (818.34705, 1099.0502), dir=(1, 0), lethal=False (C#)
[18:22:23] [INFO] [ImpactEffects] spawn_blood_effect called at (818.347, 1099.05), dir=(1, 0), lethal=false
[18:22:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:23] [INFO] [ImpactEffects] Blood effect spawned at (818.347, 1099.05) (scale=1)
[18:22:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(818,1099), corner_timer=0.30
[18:22:23] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:22:23] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:22:23] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:22:23] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[18:22:23] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[18:22:23] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:22:23] [ENEMY] [PatrolEnemy1] Player reloading: false -> true
[18:22:23] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[18:22:23] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:22:23] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:22:23] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(818.347, 1099.05), source=PLAYER (Player), range=900, listeners=9
[18:22:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[18:22:23] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=4832), can_see=false
[18:22:23] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=5986), can_see=false
[18:22:23] [ENEMY] [GuardEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1585), can_see=false
[18:22:23] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=3030), can_see=false
[18:22:23] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=4159), can_see=false
[18:22:23] [ENEMY] [PatrolEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1067), can_see=true
[18:22:23] [ENEMY] [PatrolEnemy1] Player vulnerable (reloading) - pursuing to attack (dist=1067)
[18:22:23] [ENEMY] [PatrolEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3856), can_see=false
[18:22:23] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=3155), can_see=false
[18:22:23] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=4035), can_see=false
[18:22:23] [INFO] [LastChance] Threat detected: @Area2D@3029
[18:22:23] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:23] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:23] [INFO] [Player] Spawning blood effect at (818.34705, 1099.0502), dir=(1, 0), lethal=False (C#)
[18:22:23] [INFO] [ImpactEffects] spawn_blood_effect called at (818.347, 1099.05), dir=(1, 0), lethal=false
[18:22:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:23] [INFO] [ImpactEffects] Blood effect spawned at (818.347, 1099.05) (scale=1)
[18:22:23] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:22:23] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:22:23] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:22:23] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[18:22:23] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[18:22:23] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:22:23] [ENEMY] [PatrolEnemy1] Player reloading: true -> false
[18:22:23] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[18:22:23] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:22:23] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:22:23] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:22:23] [INFO] [BloodDecal] Blood puddle created at (898.9727, 1119.562) (added to group)
[18:22:23] [INFO] [BloodDecal] Blood puddle created at (899.8693, 1092.327) (added to group)
[18:22:23] [INFO] [BloodDecal] Blood puddle created at (889.1727, 1116.764) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (887.9312, 1093.33) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (889.9502, 1099.772) (added to group)
[18:22:24] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (890.4425, 1153.476) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (907.19, 1114.579) (added to group)
[18:22:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1686.898, 1552.9647), shooter_id=1016900621291, bullet_pos=(648.99036, 934.24335)
[18:22:24] [INFO] [Bullet] Using shooter_position, distance=1208,3329
[18:22:24] [INFO] [Bullet] Distance to wall: 1208,3329 (82,27761% of viewport)
[18:22:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1686.898, 1552.9647), shooter_id=1016900621291, bullet_pos=(644.4658, 936.37134)
[18:22:24] [INFO] [Bullet] Using shooter_position, distance=1211,1367
[18:22:24] [INFO] [Bullet] Distance to wall: 1211,1367 (82,46853% of viewport)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (933.0446, 1212.423) (added to group)
[18:22:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1672.8674, 1531.58), shooter_id=1016900621291, bullet_pos=(38.337368, 797.8347)
[18:22:24] [INFO] [Bullet] Using shooter_position, distance=1791,667
[18:22:24] [INFO] [Bullet] Distance to wall: 1791,667 (121,9979% of viewport)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (986.4633, 1242.852) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (945.6008, 1141.041) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (997.6014, 1237.756) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (917.3879, 1213.173) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (914.8054, 1168.397) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (986.9763, 1199.42) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (904.9213, 1210.061) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (984.6438, 1192.684) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (947.594, 1153.845) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (965.1328, 1254.992) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (1025.119, 1094.126) (added to group)
[18:22:24] [INFO] [BloodDecal] Blood puddle created at (925.5427, 1213.744) (added to group)
[18:22:24] [INFO] [ReplayManager] Recording frame 1260 (20,7s): player_valid=True, enemies=10
[18:22:25] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[18:22:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(818.347, 1105.05), shooter_id=1018360239170, bullet_pos=(3028.667, 1281.322)
[18:22:25] [INFO] [Bullet] Using shooter_position, distance=2217.3369140625
[18:22:25] [INFO] [Bullet] Distance to wall: 2217.3369140625 (150.982547801571% of viewport)
[18:22:25] [INFO] [Bullet] Distance-based penetration chance: 19.8034904396857%
[18:22:25] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:25] [INFO] [ReplayManager] Recording frame 1320 (21,7s): player_valid=True, enemies=10
[18:22:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1037,1196), corner_timer=-0.02
[18:22:25] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1041,1200), corner_timer=0.30
[18:22:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1115,1274), corner_timer=-0.02
[18:22:25] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1119,1278), corner_timer=0.30
[18:22:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1169,1328), corner_timer=-0.02
[18:22:26] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1170,1329), corner_timer=0.30
[18:22:26] [INFO] [ReplayManager] Recording frame 1380 (22,7s): player_valid=True, enemies=10
[18:22:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1171,1330), corner_timer=-0.02
[18:22:26] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:22:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1171,1330), corner_timer=0.30
[18:22:26] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:22:27] [INFO] [ReplayManager] Recording frame 1440 (23,7s): player_valid=True, enemies=10
[18:22:28] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=151.4°, player=(1542,1515), corner_timer=-0.02
[18:22:28] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:28] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=154.2°, player=(1546,1519), corner_timer=0.30
[18:22:28] [INFO] [ReplayManager] Recording frame 1500 (24,7s): player_valid=True, enemies=10
[18:22:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1581.188, 1560.627), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:22:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=1
[18:22:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1620.079, 1599.518), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:22:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=1
[18:22:28] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1620,1593), corner_timer=-0.02
[18:22:28] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:28] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1623,1597), corner_timer=0.30
[18:22:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1581.188, 1560.627), shooter_id=1018360239170, bullet_pos=(1853.186, 1754.464)
[18:22:28] [INFO] [Bullet] Using shooter_position, distance=333.999389648438
[18:22:28] [INFO] [Bullet] Distance to wall: 333.999389648438 (22.7426326118835% of viewport)
[18:22:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:28] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:28] [ENEMY] [PatrolEnemy1] Hit: dmg=1, hp=2/2->1/2
[18:22:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1815.933, 1683.836), dir=(0.906002, 0.423273), lethal=false
[18:22:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:28] [INFO] [ImpactEffects] Wall found for blood splatter at (1850, 1699.752) (dist=37 px)
[18:22:28] [INFO] [BloodDecal] Blood puddle created at (1849, 1699.752) (added to group)
[18:22:28] [INFO] [ImpactEffects] Blood effect spawned at (1815.933, 1683.836) (scale=0.5)
[18:22:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1697.753, 1637.722), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:22:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=1
[18:22:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1714,1631), corner_timer=-0.02
[18:22:29] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1719,1631), corner_timer=0.30
[18:22:29] [ENEMY] [PatrolEnemy1] Hit: dmg=1, hp=1/2->0/2
[18:22:29] [INFO] [ImpactEffects] spawn_blood_effect called at (1824.78, 1674.869), dir=(0.916027, 0.401117), lethal=true
[18:22:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:29] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:22:29] [INFO] [ImpactEffects] Wall found for blood splatter at (1850, 1685.912) (dist=27 px)
[18:22:29] [INFO] [BloodDecal] Blood puddle created at (1849, 1685.912) (added to group)
[18:22:29] [INFO] [ImpactEffects] Blood effect spawned at (1824.78, 1674.869) (scale=0.75)
[18:22:29] [ENEMY] [PatrolEnemy1] Enemy died (ricochet: false, penetration: false)
[18:22:29] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:22:29] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:22:29] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:22:29] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:22:29] [INFO] [PowerFantasy]   - Duration: 300ms
[18:22:29] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy1 (remaining: 8)
[18:22:29] [INFO] [DeathAnim] Started - Angle: 23.6 deg, Index: 13
[18:22:29] [ENEMY] [PatrolEnemy1] Death animation started with hit direction: (0.916027, 0.401117)
[18:22:29] [INFO] [BloodyFeet:PatrolEnemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:22:29] [INFO] [PowerFantasy] Effect duration expired after 306.00 ms
[18:22:29] [INFO] [PowerFantasy] Ending power fantasy effect
[18:22:29] [INFO] [ReplayManager] Recording frame 1560 (25,5s): player_valid=True, enemies=10
[18:22:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1782,1631), corner_timer=-0.01
[18:22:29] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1782,1631), corner_timer=0.30
[18:22:29] [ENEMY] [PatrolEnemy1] Ragdoll activated
[18:22:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:22:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1785,1575), corner_timer=-0.02
[18:22:30] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1785,1569), corner_timer=0.30
[18:22:30] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:22:30] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:22:30] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:22:30] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[18:22:30] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[18:22:30] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:22:30] [ENEMY] [PatrolEnemy1] Player reloading: false -> true
[18:22:30] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[18:22:30] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:22:30] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:22:30] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1785.575, 1553.459), source=PLAYER (Player), range=900, listeners=8
[18:22:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=1
[18:22:30] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=3985), can_see=false
[18:22:30] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=4945), can_see=false
[18:22:30] [ENEMY] [GuardEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=709), can_see=false
[18:22:30] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=1962), can_see=false
[18:22:30] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=3105), can_see=false
[18:22:30] [ENEMY] [PatrolEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=2789), can_see=false
[18:22:30] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2674), can_see=false
[18:22:30] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=3100), can_see=false
[18:22:30] [INFO] [Player.Reload.Anim] LeftArm: pos=(-3.7622883, 2.0536282), target=(-4, 2), base=(16, 6)
[18:22:30] [INFO] [Player.Reload.Anim] RightArm: pos=(4.03043, 6), target=(4, 6), base=(4, 6)
[18:22:30] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:22:30] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:22:30] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:22:30] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[18:22:30] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[18:22:30] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:22:30] [ENEMY] [PatrolEnemy1] Player reloading: true -> false
[18:22:30] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[18:22:30] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:22:30] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:22:30] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:22:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1785,1465), corner_timer=-0.02
[18:22:30] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:22:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1785,1459), corner_timer=0.30
[18:22:30] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:22:30] [INFO] [ReplayManager] Recording frame 1620 (26,5s): player_valid=True, enemies=10
[18:22:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-141.6°, current=180.0°, player=(1785,1371), corner_timer=0.03
[18:22:30] [ENEMY] [PatrolEnemy2] State: IDLE -> COMBAT
[18:22:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-141.5°, current=134.2°, player=(1785,1360), corner_timer=0.03
[18:22:30] [ENEMY] [PatrolEnemy1] Death animation completed
[18:22:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-140.4°, current=169.6°, player=(1785,1294), corner_timer=0.03
[18:22:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3809.864, 2961.864), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[18:22:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[18:22:31] [ENEMY] [GuardEnemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-116.3°, current=-78.7°, player=(1898,1163), corner_timer=0.00
[18:22:31] [ENEMY] [GuardEnemy6] State: IDLE -> COMBAT
[18:22:31] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-116.1°, current=159.3°, player=(1908,1162), corner_timer=0.00
[18:22:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3794.338, 2947.233), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[18:22:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[18:22:31] [INFO] [ReplayManager] Recording frame 1680 (27,5s): player_valid=True, enemies=10
[18:22:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3778.9, 2932.51), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[18:22:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:22:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-135.9°, current=-135.9°, player=(1952,1162), corner_timer=0.03
[18:22:31] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[18:22:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1974.994, 1168.481), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:22:31] [ENEMY] [GuardEnemy2] Heard gunshot at (1974.994, 1168.481), source_type=0, intensity=0.01, distance=426
[18:22:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[18:22:31] [ENEMY] [GuardEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-175.0°, current=11.3°, player=(1974,1162), corner_timer=0.00
[18:22:31] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-174.9°, current=-160.8°, player=(1980,1162), corner_timer=0.00
[18:22:31] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-115.0°, current=-162.4°, player=(1980,1162), corner_timer=0.00
[18:22:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2035.494, 1168.481), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:22:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[18:22:31] [ENEMY] [GuardEnemy3] Memory: high confidence (0.86) - transitioning to PURSUING
[18:22:31] [ENEMY] [GuardEnemy3] State: IDLE -> PURSUING
[18:22:32] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-143.2°, current=56.2°, player=(2079,1162), corner_timer=0.00
[18:22:32] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 132.7°
[18:22:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2090.494, 1168.481), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:22:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[18:22:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3739.935, 2906.338), shooter_id=1017252942848, bullet_pos=(2891.869, 1824.017)
[18:22:32] [INFO] [Bullet] Using shooter_position, distance=1375.00305175781
[18:22:32] [INFO] [Bullet] Distance to wall: 1375.00305175781 (93.6264862018523% of viewport)
[18:22:32] [INFO] [Bullet] Distance-based penetration chance: 37.435766097839%
[18:22:32] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:32] [ENEMY] [GuardEnemy2] Hit: dmg=1, hp=2/2->1/2
[18:22:32] [INFO] [ImpactEffects] spawn_blood_effect called at (2304.49, 1190.353), dir=(0.992207, 0.124602), lethal=false
[18:22:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:32] [INFO] [ImpactEffects] Blood effect spawned at (2304.49, 1190.353) (scale=0.5)
[18:22:32] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:22:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2305.83, 1182.465), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[18:22:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=0
[18:22:32] [ENEMY] [GuardEnemy2] Hit: dmg=1, hp=1/2->0/2
[18:22:32] [INFO] [ImpactEffects] spawn_blood_effect called at (2306.277, 1179.836), dir=(0.990733, 0.135825), lethal=true
[18:22:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:32] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:22:32] [INFO] [ImpactEffects] Blood effect spawned at (2306.277, 1179.836) (scale=0.75)
[18:22:32] [ENEMY] [GuardEnemy2] Enemy died (ricochet: false, penetration: false)
[18:22:32] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:22:32] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:22:32] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:22:32] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:22:32] [INFO] [PowerFantasy]   - Duration: 300ms
[18:22:32] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy2 (remaining: 7)
[18:22:32] [INFO] [DeathAnim] Started - Angle: 7.8 deg, Index: 12
[18:22:32] [ENEMY] [GuardEnemy2] Death animation started with hit direction: (0.990733, 0.135825)
[18:22:32] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[18:22:32] [INFO] [PowerFantasy] Ending power fantasy effect
[18:22:32] [INFO] [ReplayManager] Recording frame 1740 (28,2s): player_valid=True, enemies=10
[18:22:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3295.626, 3967.477), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[18:22:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[18:22:32] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 132.7°
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2356.051, 1193.88) (added to group)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2428.697, 1194.575) (added to group)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2348.54, 1220.681) (added to group)
[18:22:32] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2392.133, 1174.819) (added to group)
[18:22:32] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-140.2°, current=-140.3°, player=(2243,1160), corner_timer=0.13
[18:22:32] [ENEMY] [GuardEnemy3] FLANKING started: target=(2431.277, 1090.857), side=left, pos=(3479.297, 2188.582)
[18:22:32] [ENEMY] [GuardEnemy3] State: PURSUING -> FLANKING
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2362.692, 1228.173) (added to group)
[18:22:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3724.739, 2891.294), shooter_id=1017252942848, bullet_pos=(2536.778, 844.3813)
[18:22:32] [INFO] [Bullet] Using shooter_position, distance=2366.66528320313
[18:22:32] [INFO] [Bullet] Distance to wall: 2366.66528320313 (161.150591047015% of viewport)
[18:22:32] [INFO] [Bullet] Distance-based penetration chance: 17.7698817905971%
[18:22:32] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2384.282, 1209.869) (added to group)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2469.621, 1282.215) (added to group)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2387.138, 1264.244) (added to group)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2428.339, 1246.844) (added to group)
[18:22:32] [ENEMY] [GuardEnemy3] State: FLANKING -> COMBAT
[18:22:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3755.214, 2921.297), shooter_id=1017252942848, bullet_pos=(1560.26, 950.3403)
[18:22:32] [INFO] [Bullet] Using shooter_position, distance=2949.99853515625
[18:22:32] [INFO] [Bullet] Distance to wall: 2949.99853515625 (200.870824827769% of viewport)
[18:22:32] [INFO] [Bullet] Distance-based penetration chance: 9.82583503444622%
[18:22:32] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:32] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:22:32] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:22:32] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:22:32] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[18:22:32] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[18:22:32] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:22:32] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[18:22:32] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:22:32] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:22:32] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2270.06, 1139.923), source=PLAYER (Player), range=900, listeners=7
[18:22:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=0
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2406.288, 1254.868) (added to group)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2413.384, 1193.013) (added to group)
[18:22:32] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=3411), can_see=false
[18:22:32] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=4875), can_see=false
[18:22:32] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=1553), can_see=true
[18:22:32] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) - pursuing to attack (dist=1553)
[18:22:32] [ENEMY] [GuardEnemy3] State: COMBAT -> PURSUING
[18:22:32] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=2783), can_see=false
[18:22:32] [ENEMY] [PatrolEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=2322), can_see=false
[18:22:32] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=3181), can_see=false
[18:22:32] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2932), can_see=true
[18:22:32] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) - pursuing to attack (dist=2932)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2451.926, 1305.675) (added to group)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2442.63, 1197.684) (added to group)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2434.459, 1292.791) (added to group)
[18:22:32] [ENEMY] [GuardEnemy2] Ragdoll activated
[18:22:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2434.577, 1263.804) (added to group)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2429.445, 1354.353) (added to group)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2523.499, 1293.083) (added to group)
[18:22:32] [INFO] [BloodDecal] Blood puddle created at (2406.483, 1231.397) (added to group)
[18:22:33] [INFO] [BloodDecal] Blood puddle created at (2430.976, 1309.053) (added to group)
[18:22:33] [INFO] [BloodDecal] Blood puddle created at (2389.716, 1241.597) (added to group)
[18:22:33] [INFO] [BloodDecal] Blood puddle created at (2475.355, 1347.725) (added to group)
[18:22:33] [INFO] [BloodDecal] Blood puddle created at (2482.759, 1330.088) (added to group)
[18:22:33] [INFO] [BloodDecal] Blood puddle created at (2442.746, 1242.74) (added to group)
[18:22:33] [INFO] [BloodDecal] Blood puddle created at (2463.927, 1380.106) (added to group)
[18:22:33] [INFO] [BloodDecal] Blood puddle created at (2390.523, 1311.861) (added to group)
[18:22:33] [INFO] [BloodDecal] Blood puddle created at (2490.226, 1241.133) (added to group)
[18:22:33] [INFO] [BloodDecal] Blood puddle created at (2508.919, 1400.238) (added to group)
[18:22:33] [INFO] [BloodDecal] Blood puddle created at (2424.752, 1286.323) (added to group)
[18:22:33] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:22:33] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:22:33] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:22:33] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[18:22:33] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[18:22:33] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:22:33] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[18:22:33] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:22:33] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:22:33] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:22:33] [INFO] [BloodDecal] Blood puddle created at (2521.094, 1270.369) (added to group)
[18:22:33] [INFO] [BloodDecal] Blood puddle created at (2528.713, 1320.602) (added to group)
[18:22:33] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[18:22:33] [INFO] [Player.Reload.Anim] LeftArm: pos=(9.673742, 4.734765), target=(16, 6), base=(16, 6)
[18:22:33] [INFO] [Player.Reload.Anim] RightArm: pos=(4.0000825, 6), target=(4, 6), base=(4, 6)
[18:22:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2237.7825, 1182.1217), shooter_id=1015843656620, bullet_pos=(50.305313, 1416.5377)
[18:22:33] [INFO] [Bullet] Using shooter_position, distance=2200,0017
[18:22:33] [INFO] [Bullet] Distance to wall: 2200,0017 (149,80217% of viewport)
[18:22:33] [INFO] [Bullet] Distance-based penetration chance: 20,039568%
[18:22:33] [INFO] [Bullet] Starting wall penetration at (50.305313, 1416.5377)
[18:22:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,256556
[18:22:33] [INFO] [Bullet] Body exited signal received for penetrating body
[18:22:33] [INFO] [Bullet] Exiting penetration at (3.9043121, 1421.5101) after traveling 41,66667 pixels through wall
[18:22:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:22:33] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:22:33] [ENEMY] [PatrolEnemy2] Warning: No valid flank position (both sides behind walls)
[18:22:33] [ENEMY] [PatrolEnemy2] FLANKING started: target=(2476.661, 968.5157), side=left, pos=(3763.543, 2917.702)
[18:22:33] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[18:22:33] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 146.5°
[18:22:33] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=3.3°, current=-111.5°, player=(2278,973), corner_timer=0.00
[18:22:33] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[18:22:33] [INFO] [ReplayManager] Recording frame 1800 (29,2s): player_valid=True, enemies=10
[18:22:33] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[18:22:33] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 145.9°
[18:22:33] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[18:22:33] [ENEMY] [GuardEnemy6] State: SEEKING_COVER -> IN_COVER
[18:22:33] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[18:22:33] [ENEMY] [GuardEnemy2] Death animation completed
[18:22:33] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[18:22:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3267.883, 1977.729), source=ENEMY (GuardEnemy3), range=2000, listeners=7
[18:22:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[18:22:34] [ENEMY] [GuardEnemy6] State: SEEKING_COVER -> IN_COVER
[18:22:34] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[18:22:34] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[18:22:34] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 145.9°
[18:22:34] [ENEMY] [GuardEnemy6] State: SEEKING_COVER -> IN_COVER
[18:22:34] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[18:22:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:22:34] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[18:22:34] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[18:22:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=132.7°, current=-134.9°, player=(2182,858), corner_timer=0.07
[18:22:34] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 145.9°
[18:22:34] [INFO] [ReplayManager] Recording frame 1860 (30,2s): player_valid=True, enemies=10
[18:22:34] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 145.9°
[18:22:35] [ENEMY] [SniperEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=175.6°, current=56.2°, player=(2182,660), corner_timer=0.00
[18:22:35] [ENEMY] [SniperEnemy1] State: IDLE -> COMBAT
[18:22:35] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> IN_COVER
[18:22:35] [ENEMY] [GuardEnemy6] State: IN_COVER -> PURSUING
[18:22:35] [ENEMY] [GuardEnemy6] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-111.6°, current=-28.6°, player=(2183,628), corner_timer=0.00
[18:22:35] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 154.2°
[18:22:35] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:22:35] [INFO] [GrenadeBase] Grenade created at (3409.052, 2384.256) (frozen)
[18:22:35] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:22:35] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[18:22:35] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[18:22:35] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[18:22:35] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:22:35] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[18:22:35] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.741532, -0.670918), Speed: 956.0 (unfrozen)
[18:22:35] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[18:22:35] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[18:22:35] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[18:22:35] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (3050.3, 2132.518), Distance: 478
[18:22:35] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 154.2°
[18:22:35] [INFO] [ReplayManager] Recording frame 1920 (31,2s): player_valid=True, enemies=10
[18:22:35] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 155.0°
[18:22:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-117.4°, current=-90.0°, player=(2432,444), corner_timer=-0.02
[18:22:36] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 154.8°
[18:22:36] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[18:22:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-118.4°, current=-92.3°, player=(2449,444), corner_timer=0.07
[18:22:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3249.767, 1925.688), source=ENEMY (GuardEnemy3), range=2000, listeners=7
[18:22:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[18:22:36] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[18:22:36] [INFO] [GrenadeBase] Collision detected with WallBottomR (type: StaticBody2D)
[18:22:36] [INFO] [FragGrenade] Impact detected! Body: WallBottomR (type: StaticBody2D), triggering explosion
[18:22:36] [INFO] [FragGrenade] Impact detected - exploding immediately!
[18:22:36] [INFO] [GrenadeBase] EXPLODED at (2878.683, 1909.763)!
[18:22:36] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[18:22:36] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[18:22:36] [INFO] [LastChance] Starting last chance effect:
[18:22:36] [INFO] [LastChance]   - Time will be frozen (except player)
[18:22:36] [INFO] [LastChance]   - Duration: 2.00 real seconds
[18:22:36] [INFO] [LastChance]   - Trigger: grenade explosion
[18:22:36] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:22:36] [INFO] [LastChance]   - Brightness: 0.60
[18:22:36] [INFO] [LastChance] Set player Player and all 26 children to PROCESS_MODE_ALWAYS
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTopL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTopR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTopL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTopR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTopL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTopR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTopL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTopR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTopL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTopR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTopL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTopR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRightB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftT' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeftB' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallTop3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomL' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallBottomR' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'Cover1' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'Cover2' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'Cover3' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'Cover4' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'Cover5' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'Cover6' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'Cover7' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Set StaticBody2D 'Cover8' to PROCESS_MODE_ALWAYS for collision
[18:22:36] [INFO] [LastChance] Skipping player node: Player
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2923
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2929
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2937
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2946
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2949
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2952
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2966
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3027
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3072
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3075
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3077
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3097
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3100
[18:22:36] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3102
[18:22:36] [INFO] [LastChance] Froze existing grenade: FragGrenade
[18:22:36] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:22:36] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:22:36] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:22:36] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2878.683, 1909.763), source=NEUTRAL (FragGrenade), range=2937, listeners=7
[18:22:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[18:22:36] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[18:22:36] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[18:22:36] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -2.3 degrees
[18:22:36] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3198
[18:22:36] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3198
[18:22:36] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 70.4 degrees
[18:22:36] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3199
[18:22:36] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3199
[18:22:36] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 197.5 degrees
[18:22:36] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3200
[18:22:36] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3200
[18:22:36] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 258.7 degrees
[18:22:36] [INFO] [ImpactEffects] Spawning explosion visual effect at (2878.683, 1909.763) (radius=225) - using shadow-based wall occlusion
[18:22:36] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@3201
[18:22:36] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@3201
[18:22:36] [INFO] [GrenadeTimer] Impact detected with WallBottomR - EXPLODING!
[18:22:36] [INFO] [GrenadeTimer] EXPLODED at (2878.6826, 1909.7632)!
[18:22:36] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[18:22:36] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3202
[18:22:36] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3202
[18:22:36] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3203
[18:22:36] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3203
[18:22:36] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3204
[18:22:36] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3204
[18:22:36] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3205
[18:22:36] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3205
[18:22:36] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[18:22:36] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2878.683, 1909.763), source=NEUTRAL (FragGrenade), range=2938, listeners=7
[18:22:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[18:22:36] [INFO] [LastChance] Freezing newly created explosion visual effect (Node2D): ExplosionFlash
[18:22:36] [INFO] [LastChance] Registered frozen explosion visual: ExplosionFlash
[18:22:36] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:22:36] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:22:36] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (2878.6826, 1909.7632) (shadow-based wall occlusion)
[18:22:36] [INFO] [GrenadeBase] Collision detected with WallRight (type: StaticBody2D)
[18:22:36] [INFO] [ReplayManager] Recording frame 1980 (32,2s): player_valid=True, enemies=10
[18:22:37] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[18:22:37] [INFO] [ReplayManager] Recording frame 2040 (33,2s): player_valid=True, enemies=10
[18:22:38] [INFO] [LastChance] Effect duration expired after 2.00 real seconds
[18:22:38] [INFO] [LastChance] Ending last chance effect
[18:22:38] [ENEMY] [SniperEnemy1] Memory reset: confusion=2.0s, had_target=true
[18:22:38] [ENEMY] [SniperEnemy1] Search mode: COMBAT -> SEARCHING at (2487.832, 444.7355)
[18:22:38] [ENEMY] [SniperEnemy1] SEARCHING started: center=(2487.832, 444.7355), radius=100, waypoints=5
[18:22:38] [ENEMY] [SniperEnemy2] Memory reset: confusion=2.0s, had_target=false
[18:22:38] [ENEMY] [GuardEnemy3] Memory reset: confusion=2.0s, had_target=true
[18:22:38] [ENEMY] [GuardEnemy3] Search mode: SEEKING_COVER -> SEARCHING at (2487.832, 444.7355)
[18:22:38] [ENEMY] [GuardEnemy3] SEARCHING started: center=(2487.832, 444.7355), radius=100, waypoints=5
[18:22:38] [ENEMY] [GuardEnemy4] Memory reset: confusion=2.0s, had_target=false
[18:22:38] [ENEMY] [PatrolEnemy2] Memory reset: confusion=2.0s, had_target=true
[18:22:38] [ENEMY] [PatrolEnemy2] Search mode: COMBAT -> SEARCHING at (2487.832, 444.7355)
[18:22:38] [ENEMY] [PatrolEnemy2] SEARCHING started: center=(2487.832, 444.7355), radius=100, waypoints=5
[18:22:38] [ENEMY] [GuardEnemy5] Memory reset: confusion=2.0s, had_target=false
[18:22:38] [ENEMY] [GuardEnemy6] Memory reset: confusion=2.0s, had_target=true
[18:22:38] [ENEMY] [GuardEnemy6] Search mode: PURSUING -> SEARCHING at (2278.458, 978.765)
[18:22:38] [ENEMY] [GuardEnemy6] SEARCHING started: center=(2278.458, 978.765), radius=100, waypoints=5
[18:22:38] [INFO] [LastChance] Reset memory for 7 enemies (player teleport effect)
[18:22:38] [INFO] [LastChance] All process modes restored
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: Casing
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2923
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2929
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2937
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2946
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2949
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2952
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2966
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3027
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3072
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3075
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3077
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3097
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3100
[18:22:38] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3102
[18:22:38] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[18:22:38] [INFO] [LastChance] Unfroze shrapnel: @Area2D@3198
[18:22:38] [INFO] [LastChance] Unfroze shrapnel: @Area2D@3199
[18:22:38] [INFO] [LastChance] Unfroze shrapnel: @Area2D@3200
[18:22:38] [INFO] [LastChance] Unfroze shrapnel: @Area2D@3202
[18:22:38] [INFO] [LastChance] Unfroze shrapnel: @Area2D@3203
[18:22:38] [INFO] [LastChance] Unfroze shrapnel: @Area2D@3204
[18:22:38] [INFO] [LastChance] Unfroze shrapnel: @Area2D@3205
[18:22:38] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@3201
[18:22:38] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[18:22:38] [INFO] [LastChance] Unfroze explosion visual: ExplosionFlash
[18:22:38] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[18:22:38] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=173.8°, current=179.2°, player=(3033,677), corner_timer=0.00
[18:22:38] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:38] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=-101.7°, current=-111.7°, player=(3033,677), corner_timer=0.07
[18:22:38] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=-100.7°, current=-116.0°, player=(3033,677), corner_timer=0.27
[18:22:38] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 175.7°
[18:22:38] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 148.7°
[18:22:38] [INFO] [ReplayManager] Recording frame 2100 (34,2s): player_valid=True, enemies=10
[18:22:38] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 153.9°
[18:22:38] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:38] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 175.7°
[18:22:38] [INFO] [LastChance] Visual effects fade-out complete
[18:22:38] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:22:38] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[18:22:38] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 148.7°
[18:22:38] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 153.9°
[18:22:39] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=4/4->3/4
[18:22:39] [INFO] [ImpactEffects] spawn_blood_effect called at (3215.363, 1926.573), dir=(-0.994439, 0.105313), lethal=false
[18:22:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:39] [INFO] [ImpactEffects] Blood effect spawned at (3215.363, 1926.573) (scale=1)
[18:22:39] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:39] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 175.3°
[18:22:39] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 148.7°
[18:22:39] [INFO] [BloodDecal] Blood puddle created at (3152.078, 1949.133) (added to group)
[18:22:39] [INFO] [BloodDecal] Blood puddle created at (3132.874, 1936.32) (added to group)
[18:22:39] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 153.9°
[18:22:39] [INFO] [BloodDecal] Blood puddle created at (3153.828, 1950.642) (added to group)
[18:22:39] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:39] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 175.4°
[18:22:39] [INFO] [BloodDecal] Blood puddle created at (3101.77, 1926.637) (added to group)
[18:22:39] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 148.7°
[18:22:39] [INFO] [BloodDecal] Blood puddle created at (3114.457, 2013.269) (added to group)
[18:22:39] [INFO] [BloodDecal] Blood puddle created at (3056.291, 2028.718) (added to group)
[18:22:39] [INFO] [ReplayManager] Recording frame 2160 (35,2s): player_valid=True, enemies=10
[18:22:39] [INFO] [BloodDecal] Blood puddle created at (3056.465, 1947.238) (added to group)
[18:22:39] [INFO] [BloodDecal] Blood puddle created at (3122.372, 2047.693) (added to group)
[18:22:39] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 153.9°
[18:22:39] [INFO] [BloodDecal] Blood puddle created at (3056.186, 1994.256) (added to group)
[18:22:39] [INFO] [BloodDecal] Blood puddle created at (3034.498, 2073.298) (added to group)
[18:22:39] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:39] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 175.7°
[18:22:39] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 146.7°
[18:22:39] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 153.9°
[18:22:40] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:40] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 175.7°
[18:22:40] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 152.1°
[18:22:40] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 153.9°
[18:22:40] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:40] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-84.8°, current=-85.6°, player=(3078,1075), corner_timer=0.27
[18:22:40] [ENEMY] [PatrolEnemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[18:22:40] [ENEMY] [PatrolEnemy2] State: SEARCHING -> COMBAT
[18:22:40] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 175.7°
[18:22:40] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[18:22:40] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 150.1°
[18:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3026.57, 1558.326), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3020.773, 1567.271), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:40] [INFO] [ReplayManager] Recording frame 2220 (36,2s): player_valid=True, enemies=10
[18:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3015.173, 1576.349), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:40] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-97.2°, current=-97.4°, player=(3149,1088), corner_timer=0.08
[18:22:40] [ENEMY] [GuardEnemy6] SEARCHING: Player spotted! Transitioning to COMBAT
[18:22:40] [ENEMY] [GuardEnemy6] State: SEARCHING -> COMBAT
[18:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3009.57, 1585.426), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:40] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=153.9°, current=-137.0°, player=(3171,1088), corner_timer=0.27
[18:22:40] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-42.3°, current=-43.5°, player=(3177,1088), corner_timer=0.08
[18:22:40] [ENEMY] [GuardEnemy3] SEARCHING: Player spotted! Transitioning to COMBAT
[18:22:40] [ENEMY] [GuardEnemy3] State: SEARCHING -> COMBAT
[18:22:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3043.752, 1495.703), shooter_id=1017252942848, bullet_pos=(3049.775, 912.4011)
[18:22:40] [INFO] [Bullet] Using shooter_position, distance=583.333068847656
[18:22:40] [INFO] [Bullet] Distance to wall: 583.333068847656 (39.7202213127662% of viewport)
[18:22:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:40] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:40] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:40] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:22:40] [INFO] [LastChance] Threat detected: @Area2D@3243
[18:22:40] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:41] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3042.427, 1502.759), shooter_id=1017252942848, bullet_pos=(3204.883, 53.50227)
[18:22:41] [INFO] [Bullet] Using shooter_position, distance=1458.333984375
[18:22:41] [INFO] [Bullet] Distance to wall: 1458.333984375 (99.30064263583% of viewport)
[18:22:41] [INFO] [Bullet] Distance-based penetration chance: 30.815916924865%
[18:22:41] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:41] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-56.6°, current=-38.7°, player=(3328,1094), corner_timer=0.27
[18:22:41] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=150.1°, current=-1.5°, player=(3341,1101), corner_timer=0.08
[18:22:41] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=153.9°, current=89.2°, player=(3341,1101), corner_timer=0.27
[18:22:41] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-54.9°, current=-76.5°, player=(3355,1113), corner_timer=0.27
[18:22:41] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=153.9°, current=119.9°, player=(3360,1121), corner_timer=0.27
[18:22:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3022.496, 1523.404), shooter_id=1017252942848, bullet_pos=(3905.807, 61.15866)
[18:22:41] [INFO] [Bullet] Using shooter_position, distance=1708.33264160156
[18:22:41] [INFO] [Bullet] Distance to wall: 1708.33264160156 (116.323510913381% of viewport)
[18:22:41] [INFO] [Bullet] Distance-based penetration chance: 26.7352978173237%
[18:22:41] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:41] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3395.107, 2939.776), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[18:22:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[18:22:41] [INFO] [ReplayManager] Recording frame 2280 (37,2s): player_valid=True, enemies=10
[18:22:41] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[18:22:41] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[18:22:41] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[18:22:41] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:41] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[18:22:41] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-59.5°, current=-87.1°, player=(3286,1298), corner_timer=0.27
[18:22:42] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=153.9°, current=142.8°, player=(3280,1299), corner_timer=0.27
[18:22:42] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:42] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-60.0°, current=-96.7°, player=(3275,1299), corner_timer=0.27
[18:22:42] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:42] [INFO] [Player] Spawning blood effect at (3270.2346, 1300.1743), dir=(1, 0), lethal=False (C#)
[18:22:42] [INFO] [ImpactEffects] spawn_blood_effect called at (3270.235, 1300.174), dir=(1, 0), lethal=false
[18:22:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:42] [INFO] [ImpactEffects] Blood effect spawned at (3270.235, 1300.174) (scale=1)
[18:22:42] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=153.9°, current=-117.6°, player=(3270,1300), corner_timer=0.27
[18:22:42] [ENEMY] [PatrolEnemy2] State: RETREATING -> IN_COVER
[18:22:42] [ENEMY] [PatrolEnemy2] State: IN_COVER -> PURSUING
[18:22:42] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> IN_COVER
[18:22:42] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-60.0°, current=-129.0°, player=(3208,1311), corner_timer=0.27
[18:22:42] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[18:22:42] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=175.7°, current=-96.2°, player=(3200,1317), corner_timer=0.08
[18:22:42] [INFO] [BloodDecal] Blood puddle created at (3316.054, 1301.442) (added to group)
[18:22:42] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-97.1°, current=-108.1°, player=(3184,1331), corner_timer=0.08
[18:22:42] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:42] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[18:22:42] [INFO] [BloodDecal] Blood puddle created at (3383.247, 1357.854) (added to group)
[18:22:42] [INFO] [BloodDecal] Blood puddle created at (3376.944, 1379.079) (added to group)
[18:22:42] [INFO] [BloodDecal] Blood puddle created at (3322.152, 1359.498) (added to group)
[18:22:42] [INFO] [BloodDecal] Blood puddle created at (3339.365, 1322.631) (added to group)
[18:22:42] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=175.7°, current=-98.2°, player=(3161,1355), corner_timer=0.08
[18:22:42] [INFO] [BloodDecal] Blood puddle created at (3376.264, 1285.787) (added to group)
[18:22:42] [INFO] [BloodDecal] Blood puddle created at (3333.936, 1355.788) (added to group)
[18:22:42] [INFO] [BloodDecal] Blood puddle created at (3409.965, 1291.639) (added to group)
[18:22:42] [INFO] [BloodDecal] Blood puddle created at (3409.897, 1421.027) (added to group)
[18:22:42] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[18:22:42] [INFO] [ReplayManager] Recording frame 2340 (38,2s): player_valid=True, enemies=10
[18:22:42] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[18:22:42] [INFO] [BloodDecal] Blood puddle created at (3412.732, 1357.552) (added to group)
[18:22:42] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:43] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 89.2°
[18:22:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2971.116, 1407.29), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:22:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:22:43] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=3/3->2/3
[18:22:43] [INFO] [ImpactEffects] spawn_blood_effect called at (2923.5, 1294.823), dir=(-0.574191, -0.818721), lethal=false
[18:22:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:43] [INFO] [ImpactEffects] Blood effect spawned at (2923.5, 1294.823) (scale=0.5)
[18:22:43] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=140.2°, current=140.2°, player=(2944,1403), corner_timer=0.18
[18:22:43] [ENEMY] [SniperEnemy1] SEARCHING: Player spotted! Transitioning to COMBAT
[18:22:43] [ENEMY] [SniperEnemy1] State: SEARCHING -> COMBAT
[18:22:43] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=79.1°, current=55.0°, player=(2944,1403), corner_timer=0.08
[18:22:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2915.518, 1421.827), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:22:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:22:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2894.363, 1468.909), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:22:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[18:22:43] [INFO] [BloodDecal] Blood puddle created at (2906.788, 1228.803) (added to group)
[18:22:43] [INFO] [ReplayManager] Recording frame 2400 (39,2s): player_valid=True, enemies=10
[18:22:43] [INFO] [BloodDecal] Blood puddle created at (2888.545, 1242.059) (added to group)
[18:22:43] [INFO] [BloodDecal] Blood puddle created at (2886.891, 1233.661) (added to group)
[18:22:43] [INFO] [BloodDecal] Blood puddle created at (2851.262, 1275.669) (added to group)
[18:22:43] [INFO] [BloodDecal] Blood puddle created at (2857.641, 1238.884) (added to group)
[18:22:43] [INFO] [BloodDecal] Blood puddle created at (2846.458, 1190.991) (added to group)
[18:22:43] [INFO] [BloodDecal] Blood puddle created at (2770.803, 1265.858) (added to group)
[18:22:43] [INFO] [BloodDecal] Blood puddle created at (2863.773, 1293.683) (added to group)
[18:22:43] [ENEMY] [PatrolEnemy2] FLANKING started: target=(2714.432, 1625.424), side=right, pos=(2854.743, 1924.065)
[18:22:43] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[18:22:43] [INFO] [BloodDecal] Blood puddle created at (2895.567, 1206.95) (added to group)
[18:22:43] [INFO] [BloodDecal] Blood puddle created at (2831.094, 1258.991) (added to group)
[18:22:43] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> IN_COVER
[18:22:43] [ENEMY] [GuardEnemy6] State: IN_COVER -> PURSUING
[18:22:43] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-108.3°, current=175.7°, player=(2925,1574), corner_timer=0.08
[18:22:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2927.512, 1579.764), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:22:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=1
[18:22:44] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 112.2°
[18:22:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2955.906, 1551.424), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:22:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=1
[18:22:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2927.512, 1579.764), shooter_id=1018360239170, bullet_pos=(3021.098, 1311.625)
[18:22:44] [INFO] [Bullet] Using shooter_position, distance=284.001312255859
[18:22:44] [INFO] [Bullet] Distance to wall: 284.001312255859 (19.3381715838654% of viewport)
[18:22:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:44] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 113.4°
[18:22:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2955.906, 1551.424), shooter_id=1018360239170, bullet_pos=(3022.096, 1309.653)
[18:22:44] [INFO] [Bullet] Using shooter_position, distance=250.667449951172
[18:22:44] [INFO] [Bullet] Distance to wall: 250.667449951172 (17.0684076039714% of viewport)
[18:22:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:44] [INFO] [ReplayManager] Recording frame 2460 (40,2s): player_valid=True, enemies=10
[18:22:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2929.234, 1481.983), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:22:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=1
[18:22:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2929.234, 1481.983), shooter_id=1018360239170, bullet_pos=(2961.58, 1317.806)
[18:22:44] [INFO] [Bullet] Using shooter_position, distance=167.333114624023
[18:22:44] [INFO] [Bullet] Distance to wall: 167.333114624023 (11.3940194732154% of viewport)
[18:22:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:44] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -177.6°
[18:22:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2915.518, 1421.827), shooter_id=1018360239170, bullet_pos=(2340.757, 53.65194)
[18:22:44] [INFO] [Bullet] Using shooter_position, distance=1483.99829101563
[18:22:44] [INFO] [Bullet] Distance to wall: 1483.99829101563 (101.048172467489% of viewport)
[18:22:44] [INFO] [Bullet] Distance-based penetration chance: 29.7903655065022%
[18:22:44] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:44] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=133.9°, current=133.7°, player=(2874,1469), corner_timer=0.18
[18:22:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2869.638, 1473.682), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:22:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=1
[18:22:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2894.363, 1468.909), shooter_id=1018360239170, bullet_pos=(2505.598, 54.01319)
[18:22:44] [INFO] [Bullet] Using shooter_position, distance=1467.33349609375
[18:22:44] [INFO] [Bullet] Distance to wall: 1467.33349609375 (99.9134359374026% of viewport)
[18:22:44] [INFO] [Bullet] Distance-based penetration chance: 30.1009914063637%
[18:22:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2828.43, 1442.23), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:22:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=1
[18:22:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2869.638, 1473.682), shooter_id=1018360239170, bullet_pos=(2958.721, 1293.872)
[18:22:44] [INFO] [Bullet] Using shooter_position, distance=200.66682434082
[18:22:44] [INFO] [Bullet] Distance to wall: 200.66682434082 (13.6637730631194% of viewport)
[18:22:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:44] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-64.4°, current=-64.3°, player=(2828,1436), corner_timer=0.10
[18:22:44] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[18:22:45] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=2/3->1/3
[18:22:45] [INFO] [ImpactEffects] spawn_blood_effect called at (2923.5, 1294.823), dir=(0.417917, -0.908485), lethal=false
[18:22:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:45] [INFO] [ImpactEffects] Blood effect spawned at (2923.5, 1294.823) (scale=0.5)
[18:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2805.073, 1399.385), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:22:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=1
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2942.491, 1252.303) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2929.846, 1254.967) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2952.134, 1262.922) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2994.163, 1247.629) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (3011.614, 1262.096) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2944.593, 1253.174) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2965.743, 1278.969) (added to group)
[18:22:45] [ENEMY] [SniperEnemy1] Player ammo empty: false -> true
[18:22:45] [ENEMY] [SniperEnemy2] Player ammo empty: false -> true
[18:22:45] [ENEMY] [GuardEnemy3] Player ammo empty: false -> true
[18:22:45] [ENEMY] [GuardEnemy4] Player ammo empty: false -> true
[18:22:45] [ENEMY] [PatrolEnemy2] Player ammo empty: false -> true
[18:22:45] [ENEMY] [GuardEnemy5] Player ammo empty: false -> true
[18:22:45] [ENEMY] [GuardEnemy6] Player ammo empty: false -> true
[18:22:45] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2800.052, 1383.709), source=PLAYER (Player), range=600, listeners=7
[18:22:45] [ENEMY] [GuardEnemy3] Heard player EMPTY_CLICK at (2800.052, 1383.709), intensity=0.11, distance=152
[18:22:45] [ENEMY] [GuardEnemy3] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[18:22:45] [ENEMY] [PatrolEnemy2] Heard player EMPTY_CLICK at (2800.052, 1383.709), intensity=0.04, distance=239
[18:22:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[18:22:45] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1354), can_see=false
[18:22:45] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=4340), can_see=false
[18:22:45] [ENEMY] [GuardEnemy3] Player empty ammo - priority attack triggered
[18:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2923.5, 1294.823), source=ENEMY (GuardEnemy3), range=2000, listeners=7
[18:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[18:22:45] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2200), can_see=false
[18:22:45] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:45] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3145), can_see=false
[18:22:45] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1649), can_see=false
[18:22:45] [INFO] [ReplayManager] Recording frame 2520 (41,2s): player_valid=True, enemies=10
[18:22:45] [ENEMY] [GuardEnemy3] Pursuing vulnerability sound at (2800.052, 1383.709), distance=152
[18:22:45] [INFO] [LastChance] Threat detected: @Area2D@3337
[18:22:45] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (3017.694, 1255.891) (added to group)
[18:22:45] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:45] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:45] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:45] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:45] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:45] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:45] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:45] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:45] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:45] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:45] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:45] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:45] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:45] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:45] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:45] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:45] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:45] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:45] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:45] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:45] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:45] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:45] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:45] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:45] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2805.073, 1399.385), shooter_id=1018360239170, bullet_pos=(3065.822, 952.5714)
[18:22:45] [INFO] [Bullet] Using shooter_position, distance=517.331909179688
[18:22:45] [INFO] [Bullet] Distance to wall: 517.331909179688 (35.2260809855433% of viewport)
[18:22:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:45] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2805.073, 1399.385), shooter_id=1018360239170, bullet_pos=(3065.822, 952.5714)
[18:22:45] [INFO] [Bullet] Using shooter_position, distance=517.331909179688
[18:22:45] [INFO] [Bullet] Distance to wall: 517.331909179688 (35.2260809855433% of viewport)
[18:22:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:45] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:45] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:45] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:45] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:45] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:45] [ENEMY] [GuardEnemy6] PURSUING corner check: angle 28.0°
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (3001.646, 1243.716) (added to group)
[18:22:45] [INFO] [LastChance] Threat detected: @Area2D@3352
[18:22:45] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2979.312, 1247.541) (added to group)
[18:22:45] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:45] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:45] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:45] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:45] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:45] [INFO] [LastChance] Threat detected: Bullet9mm
[18:22:45] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:45] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2800.052, 1383.709), source=PLAYER (Player), range=600, listeners=7
[18:22:45] [ENEMY] [GuardEnemy3] Heard player EMPTY_CLICK at (2800.052, 1383.709), intensity=0.24, distance=101
[18:22:45] [ENEMY] [PatrolEnemy2] Heard player EMPTY_CLICK at (2800.052, 1383.709), intensity=0.04, distance=239
[18:22:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[18:22:45] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:45] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:45] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:45] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:45] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:45] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2873.696, 1374.956) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2842.004, 1401.504) (added to group)
[18:22:45] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[18:22:45] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2891.421, 1373.545) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2875.867, 1400.117) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2870.062, 1366.364) (added to group)
[18:22:45] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:45] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2800.052, 1383.709), source=PLAYER (Player), range=600, listeners=7
[18:22:45] [ENEMY] [GuardEnemy3] Heard player EMPTY_CLICK at (2800.052, 1383.709), intensity=0.79, distance=56
[18:22:45] [ENEMY] [GuardEnemy3] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:22:45] [ENEMY] [PatrolEnemy2] Heard player EMPTY_CLICK at (2800.052, 1383.709), intensity=0.04, distance=239
[18:22:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[18:22:45] [INFO] [BloodyFeet:GuardEnemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2865.799, 1382.054) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2861.085, 1397.477) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2861.003, 1389.762) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2892.87, 1432.153) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2849.74, 1416.899) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2893.963, 1423.398) (added to group)
[18:22:45] [INFO] [LastChance] Threat detected: @Area2D@3381
[18:22:45] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:45] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2895.573, 1449.912) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2897.31, 1391.438) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2889.359, 1377.36) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2863.834, 1407.317) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2850.214, 1430.38) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2873.031, 1439.774) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2905.816, 1401.785) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2887.583, 1452.963) (added to group)
[18:22:45] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:22:45] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:45] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:45] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:45] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:45] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:45] [ENEMY] [GuardEnemy6] PURSUING corner check: angle -35.5°
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2855.304, 1440.677) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2873.522, 1395.102) (added to group)
[18:22:45] [INFO] [LastChance] Threat detected: @Area2D@3398
[18:22:45] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:45] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=150.1°, current=-150.6°, player=(2800,1383), corner_timer=0.08
[18:22:45] [ENEMY] [GuardEnemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=37), can_see=false
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2889.466, 1393.484) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2862.797, 1421.535) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2881.755, 1405.226) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2890.267, 1444.083) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2871.119, 1376.914) (added to group)
[18:22:45] [INFO] [BloodDecal] Blood puddle created at (2847.284, 1407.37) (added to group)
[18:22:46] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:46] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:46] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:46] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2904.32, 1371.277) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2933.205, 1378.684) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2890.112, 1383.802) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2870.969, 1417.855) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2853.44, 1426.481) (added to group)
[18:22:46] [INFO] [LastChance] Threat detected: @Area2D@3409
[18:22:46] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(3188.803, 943.0538)
[18:22:46] [INFO] [Bullet] Using shooter_position, distance=749.998901367188
[18:22:46] [INFO] [Bullet] Distance to wall: 749.998901367188 (51.0688043204631% of viewport)
[18:22:46] [INFO] [Bullet] Distance-based penetration chance: 87.0863949594597%
[18:22:46] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:46] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1298), can_see=false
[18:22:46] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=4340), can_see=false
[18:22:46] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2200), can_see=false
[18:22:46] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3145), can_see=false
[18:22:46] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1519), can_see=false
[18:22:46] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2941.574, 1439.357) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2944.326, 1452.002) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2908.324, 1391.986) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2949.462, 1456.248) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2951.439, 1404.947) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2933.56, 1404.226) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2942.99, 1432.433) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2923.849, 1448.615) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2871.751, 1401.975) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2895.908, 1367.351) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2946.295, 1514.453) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2959.805, 1509.023) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2954.252, 1417.262) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2880.201, 1424.741) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2915.201, 1492.421) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2945.903, 1506.968) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2931.063, 1451.19) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2934.01, 1417.31) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2946.56, 1434.587) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2872.783, 1454.851) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2910.13, 1387.591) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2890.167, 1387.374) (added to group)
[18:22:46] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2958.781, 1405.53) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2921.007, 1492.319) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2940.527, 1399.181) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2971.015, 1521.571) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2937.147, 1481.945) (added to group)
[18:22:46] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2946.977, 1431.49) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2914.468, 1505.355) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (3001.864, 1441.27) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2980.918, 1499.319) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2983.275, 1494.285) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2915.189, 1498.187) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2905.559, 1451.91) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2949.825, 1398.673) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2841.024, 1383.332) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2981.312, 1570.423) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (3009.215, 1539.335) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2908.392, 1439.756) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2849.879, 1395.891) (added to group)
[18:22:46] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2933.538, 1549.264) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2993.227, 1478.058) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2919.37, 1504.085) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (3004.301, 1438.638) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2913.538, 1456.973) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2939.898, 1432.364) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2971.799, 1412.369) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2990.757, 1459.483) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2911.122, 1434.278) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2869.955, 1387.96) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2859.437, 1430.421) (added to group)
[18:22:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(2962.933, 1295.801)
[18:22:46] [INFO] [Bullet] Using shooter_position, distance=333.333038330078
[18:22:46] [INFO] [Bullet] Distance to wall: 333.333038330078 (22.6972595253044% of viewport)
[18:22:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:46] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:46] [INFO] [LastChance] Threat detected: @Area2D@3469
[18:22:46] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2912.058, 1465.016) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2923.056, 1459.665) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2991.165, 1478.45) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2936.669, 1519.201) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2970.826, 1412.009) (added to group)
[18:22:46] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2903.737, 1462.559) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2913.379, 1369.262) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2877.664, 1372.109) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (3029.59, 1451.551) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2903.058, 1484.679) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (3000.191, 1398.11) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2890.097, 1454.178) (added to group)
[18:22:46] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2978.771, 1545.271) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2890.581, 1468.852) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2868.808, 1402.849) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2889.17, 1394.96) (added to group)
[18:22:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(2657.715, 48.01123)
[18:22:46] [INFO] [Bullet] Using shooter_position, distance=1500.00061035156
[18:22:46] [INFO] [Bullet] Distance to wall: 1500.00061035156 (102.137799816743% of viewport)
[18:22:46] [INFO] [Bullet] Distance-based penetration chance: 29.5724400366513%
[18:22:46] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2985.961, 1568.708) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2875.068, 1444.483) (added to group)
[18:22:46] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [ENEMY] [GuardEnemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=155), can_see=false
[18:22:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(2365.439, 945.842)
[18:22:46] [INFO] [Bullet] Using shooter_position, distance=708.332275390625
[18:22:46] [INFO] [Bullet] Distance to wall: 708.332275390625 (48.2316471395499% of viewport)
[18:22:46] [INFO] [Bullet] Distance-based penetration chance: 90.3964116705252%
[18:22:46] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:46] [INFO] [LastChance] Threat detected: Bullet9mm
[18:22:46] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:46] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2953.066, 1518.118) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2932.03, 1404.725) (added to group)
[18:22:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(2984.208, 1316.343)
[18:22:46] [INFO] [Bullet] Using shooter_position, distance=333.334075927734
[18:22:46] [INFO] [Bullet] Distance to wall: 333.334075927734 (22.6973301772367% of viewport)
[18:22:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:46] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:46] [INFO] [ReplayManager] Recording frame 2580 (42,2s): player_valid=True, enemies=10
[18:22:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(3061.928, 913.5295)
[18:22:46] [INFO] [Bullet] Using shooter_position, distance=708.334533691406
[18:22:46] [INFO] [Bullet] Distance to wall: 708.334533691406 (48.2318009114027% of viewport)
[18:22:46] [INFO] [Bullet] Distance-based penetration chance: 90.3962322700302%
[18:22:46] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:46] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1245), can_see=false
[18:22:46] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=4340), can_see=false
[18:22:46] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2200), can_see=false
[18:22:46] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3145), can_see=false
[18:22:46] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1506), can_see=false
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2921.567, 1466.852) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2980.13, 1495.794) (added to group)
[18:22:46] [ENEMY] [PatrolEnemy2] Player empty ammo - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2910.251, 1494.523) (added to group)
[18:22:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(3077.479, 40.84912)
[18:22:46] [INFO] [Bullet] Using shooter_position, distance=1541.66540527344
[18:22:46] [INFO] [Bullet] Distance to wall: 1541.66540527344 (104.974832317776% of viewport)
[18:22:46] [INFO] [Bullet] Distance-based penetration chance: 29.0050335364448%
[18:22:46] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2912.04, 1440.984) (added to group)
[18:22:46] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:22:46] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:22:46] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:22:46] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[18:22:46] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:22:46] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[18:22:46] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:22:46] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2800.052, 1383.709), source=PLAYER (Player), range=900, listeners=7
[18:22:46] [ENEMY] [GuardEnemy3] Heard player RELOAD at (2800.052, 1383.709), intensity=0.10, distance=157
[18:22:46] [ENEMY] [GuardEnemy3] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:22:46] [ENEMY] [PatrolEnemy2] Heard player RELOAD at (2800.052, 1383.709), intensity=0.04, distance=239
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[18:22:46] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=PURSUING, target=142.4°, current=-167.9°, player=(2800,1383), corner_timer=0.08
[18:22:46] [ENEMY] [GuardEnemy3] Player reloading - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2924.133, 1288.249), source=ENEMY (GuardEnemy3), range=2000, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[18:22:46] [ENEMY] [PatrolEnemy2] Player reloading - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2936.763, 1540.109) (added to group)
[18:22:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(2762.463, 45.76407)
[18:22:46] [INFO] [Bullet] Using shooter_position, distance=1499.99963378906
[18:22:46] [INFO] [Bullet] Distance to wall: 1499.99963378906 (102.137733320807% of viewport)
[18:22:46] [INFO] [Bullet] Distance-based penetration chance: 29.5724533358386%
[18:22:46] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:46] [ENEMY] [GuardEnemy3] Pursuing vulnerability sound at (2800.052, 1383.709), distance=160
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (3002.258, 1439.248) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2909.022, 1485.981) (added to group)
[18:22:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:46] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:46] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:46] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:46] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:46] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:46] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:46] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:46] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:46] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:46] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:46] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:46] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:46] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:46] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:46] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:46] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:46] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:46] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:46] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:46] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:46] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:46] [INFO] [Player] Spawning blood effect at (2800.0518, 1383.709), dir=(1, 0), lethal=False (C#)
[18:22:46] [INFO] [ImpactEffects] spawn_blood_effect called at (2800.052, 1383.709), dir=(1, 0), lethal=false
[18:22:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:46] [INFO] [ImpactEffects] Blood effect spawned at (2800.052, 1383.709) (scale=1)
[18:22:46] [ENEMY] [PatrolEnemy2] Player reloading - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(3066.083, 915.6501)
[18:22:46] [INFO] [Bullet] Using shooter_position, distance=708.332397460938
[18:22:46] [INFO] [Bullet] Distance to wall: 708.332397460938 (48.2316554515419% of viewport)
[18:22:46] [INFO] [Bullet] Distance-based penetration chance: 90.3964019732011%
[18:22:46] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:46] [ENEMY] [PatrolEnemy2] Player reloading - priority attack triggered
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:22:46] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:22:46] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:22:46] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[18:22:46] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:22:46] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[18:22:46] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:22:46] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:22:46] [ENEMY] [SniperEnemy1] Player ammo empty: true -> false
[18:22:46] [ENEMY] [SniperEnemy2] Player ammo empty: true -> false
[18:22:46] [ENEMY] [GuardEnemy3] Player ammo empty: true -> false
[18:22:46] [ENEMY] [GuardEnemy4] Player ammo empty: true -> false
[18:22:46] [ENEMY] [PatrolEnemy2] Player ammo empty: true -> false
[18:22:46] [ENEMY] [GuardEnemy5] Player ammo empty: true -> false
[18:22:46] [ENEMY] [GuardEnemy6] Player ammo empty: true -> false
[18:22:46] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(2984.274, 1316.414)
[18:22:46] [INFO] [Bullet] Using shooter_position, distance=333.333923339844
[18:22:46] [INFO] [Bullet] Distance to wall: 333.333923339844 (22.6973197872467% of viewport)
[18:22:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:46] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:46] [INFO] [LastChance] Threat detected: @Area2D@3563
[18:22:46] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:46] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2846.75, 1386.114) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2874.735, 1435.254) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2839.193, 1385.624) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2855.047, 1398.196) (added to group)
[18:22:46] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:22:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=7
[18:22:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=0
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2872.391, 1421.245) (added to group)
[18:22:46] [INFO] [BloodDecal] Blood puddle created at (2875.658, 1407.672) (added to group)
[18:22:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(2544.711, 865.3975)
[18:22:47] [INFO] [Bullet] Using shooter_position, distance=708.334289550781
[18:22:47] [INFO] [Bullet] Distance to wall: 708.334289550781 (48.2317842874186% of viewport)
[18:22:47] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=1/3->0/3
[18:22:47] [INFO] [ImpactEffects] spawn_blood_effect called at (2852.017, 1345.783), dir=(0.468727, -0.883343), lethal=true
[18:22:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:47] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:22:47] [INFO] [ImpactEffects] Blood effect spawned at (2852.017, 1345.783) (scale=0.75)
[18:22:47] [ENEMY] [GuardEnemy3] Enemy died (ricochet: false, penetration: false)
[18:22:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:22:47] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:22:47] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:22:47] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:22:47] [INFO] [PowerFantasy]   - Duration: 300ms
[18:22:47] [ENEMY] [GuardEnemy3] [AllyDeath] Notified 1 enemies
[18:22:47] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy3 (remaining: 6)
[18:22:47] [INFO] [DeathAnim] Started - Angle: -62.0 deg, Index: 7
[18:22:47] [ENEMY] [GuardEnemy3] Death animation started with hit direction: (0.468727, -0.883343)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2875.854, 1422.934) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2890.719, 1398.816) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2863.531, 1399.329) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2883.762, 1441.74) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2903.862, 1414.989) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2900.394, 1425.644) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2892.349, 1415.776) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2867.162, 1423.724) (added to group)
[18:22:47] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2854.875, 1379.332) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2898.125, 1445.753) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2856.864, 1401.943) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2884.826, 1440.969) (added to group)
[18:22:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:22:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2905.969, 1374.205) (added to group)
[18:22:47] [INFO] [PowerFantasy] Effect duration expired after 318.00 ms
[18:22:47] [INFO] [PowerFantasy] Ending power fantasy effect
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2875.759, 1448.821) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2894.247, 1370.432) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2893.822, 1364.846) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2908.952, 1469.354) (added to group)
[18:22:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(3851.443, 891.8996)
[18:22:47] [INFO] [Bullet] Using shooter_position, distance=1287.49926757813
[18:22:47] [INFO] [Bullet] Distance to wall: 1287.49926757813 (87.6681926317866% of viewport)
[18:22:47] [INFO] [Bullet] Distance-based penetration chance: 44.387108596249%
[18:22:47] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2709.448, 1605.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:22:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2925.471, 1398.846) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2915.669, 1403.662) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2937.083, 1394.231) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2875.057, 1438.003) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2916.142, 1437.557) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2870.033, 1391.088) (added to group)
[18:22:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(4664.898, 871.204)
[18:22:47] [INFO] [Bullet] Using shooter_position, distance=2037.49743652344
[18:22:47] [INFO] [Bullet] Distance to wall: 2037.49743652344 (138.736947080297% of viewport)
[18:22:47] [INFO] [Bullet] Distance-based penetration chance: 22.2526105839405%
[18:22:47] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2926.662, 1368.689) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2912.197, 1456.67) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2918.788, 1377.729) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2887.989, 1398.997) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2870.677, 1397.185) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2904.641, 1462.712) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2882.595, 1400.331) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2927.028, 1391.363) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2950.511, 1427.297) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2940.107, 1462.345) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2957.445, 1403.429) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2887.006, 1437.311) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2903.297, 1394.359) (added to group)
[18:22:47] [INFO] [ReplayManager] Recording frame 2640 (42,9s): player_valid=True, enemies=10
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2902.042, 1453.077) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2936.741, 1469.25) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2983.289, 1455.4) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2887.791, 1461.304) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2968.705, 1488.311) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2954.988, 1508.186) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2881.513, 1457.167) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2897.968, 1440.126) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2857.201, 1308.219) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2912.634, 1297.601) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2878.628, 1309.988) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2933.951, 1500.686) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2897.49, 1451.437) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2926.975, 1449.824) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2965.243, 1510.873) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2957.152, 1440.202) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2946.744, 1500.993) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2853.919, 1271.865) (added to group)
[18:22:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(2308.503, 938.8965)
[18:22:47] [INFO] [Bullet] Using shooter_position, distance=745.831604003906
[18:22:47] [INFO] [Bullet] Distance to wall: 745.831604003906 (50.7850453800132% of viewport)
[18:22:47] [INFO] [Bullet] Distance-based penetration chance: 87.4174470566513%
[18:22:47] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2941.036, 1413.006) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2932.085, 1423.402) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2984.827, 1423.842) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2981.98, 1421.98) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2918.148, 1438.626) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2992.53, 1429.848) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2961.555, 1551.237) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2941.977, 1537.188) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2967.607, 1384.427) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2946.949, 1453.22) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2896.027, 1446.52) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2950.671, 1425.971) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2999.173, 1577.516) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2895.246, 1427.805) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2887.175, 1516.503) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2883.979, 1324.504) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2926.327, 1299.999) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2858.535, 1315.52) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2942.371, 1430.838) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2971.265, 1425.068) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2891.636, 1318.943) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2917.876, 1449.249) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2912.939, 1460.081) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2933.43, 1430.588) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2921.108, 1505.995) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (3005.009, 1541.749) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2918.719, 1503.726) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2912.363, 1532.622) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2882.286, 1307.248) (added to group)
[18:22:47] [ENEMY] [GuardEnemy3] Ragdoll activated
[18:22:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2888.507, 1236.594) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2910.498, 1287.755) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2884.45, 1245.681) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2962.927, 1321.703) (added to group)
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2925.1, 1356.434) (added to group)
[18:22:47] [ENEMY] [GuardEnemy6] Warning: No valid flank position (both sides behind walls)
[18:22:47] [ENEMY] [GuardEnemy6] FLANKING started: target=(2595.141, 1631.245), side=right, pos=(3392.772, 2768.441)
[18:22:47] [ENEMY] [GuardEnemy6] State: PURSUING -> FLANKING
[18:22:47] [INFO] [BloodDecal] Blood puddle created at (2957.864, 1271.435) (added to group)
[18:22:48] [INFO] [BloodDecal] Blood puddle created at (2946.283, 1390.338) (added to group)
[18:22:48] [INFO] [BloodDecal] Blood puddle created at (2879.589, 1325.58) (added to group)
[18:22:48] [INFO] [BloodDecal] Blood puddle created at (2957.82, 1242.549) (added to group)
[18:22:48] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -39.2°
[18:22:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(2800.288, 51.23533)
[18:22:48] [INFO] [Bullet] Using shooter_position, distance=1495.51843261719
[18:22:48] [INFO] [Bullet] Distance to wall: 1495.51843261719 (101.832600092812% of viewport)
[18:22:48] [INFO] [Bullet] Distance-based penetration chance: 29.6334799814377%
[18:22:48] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(6067.016, 990.2205)
[18:22:48] [INFO] [Bullet] Using shooter_position, distance=3370.83081054688
[18:22:48] [INFO] [Bullet] Distance to wall: 3370.83081054688 (229.526068301435% of viewport)
[18:22:48] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:22:48] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2598.313, 1573.622), source=PLAYER (MakarovPM), range=1469, listeners=6
[18:22:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[18:22:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(6090.459, 280.7002)
[18:22:48] [INFO] [Bullet] Using shooter_position, distance=3579.17626953125
[18:22:48] [INFO] [Bullet] Distance to wall: 3579.17626953125 (243.712693717198% of viewport)
[18:22:48] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:22:48] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:48] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=3/4->2/4
[18:22:48] [INFO] [ImpactEffects] spawn_blood_effect called at (2709.448, 1605.244), dir=(0.943997, 0.329954), lethal=false
[18:22:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:48] [INFO] [ImpactEffects] Blood effect spawned at (2709.448, 1605.244) (scale=0.5)
[18:22:48] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -180.0°
[18:22:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2577.921, 1612.195), source=PLAYER (MakarovPM), range=1469, listeners=6
[18:22:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[18:22:48] [INFO] [ReplayManager] Recording frame 2700 (43,9s): player_valid=True, enemies=10
[18:22:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2742.257, 1545.628), shooter_id=1017252942848, bullet_pos=(6075.15, 490.7752)
[18:22:48] [INFO] [Bullet] Using shooter_position, distance=3495.83935546875
[18:22:48] [INFO] [Bullet] Distance to wall: 3495.83935546875 (238.03812999561% of viewport)
[18:22:48] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:22:48] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2741.705, 1545.288), shooter_id=1017252942848, bullet_pos=(5397.044, 61.75357)
[18:22:48] [INFO] [Bullet] Using shooter_position, distance=3041.66137695313
[18:22:48] [INFO] [Bullet] Distance to wall: 3041.66137695313 (207.112316278822% of viewport)
[18:22:48] [INFO] [Bullet] Distance-based penetration chance: 8.57753674423569%
[18:22:48] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2572.899, 1621.872), source=PLAYER (MakarovPM), range=1469, listeners=6
[18:22:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[18:22:48] [INFO] [BloodDecal] Blood puddle created at (2778.958, 1698.268) (added to group)
[18:22:48] [INFO] [BloodDecal] Blood puddle created at (2795.422, 1631.107) (added to group)
[18:22:48] [INFO] [BloodDecal] Blood puddle created at (2794.003, 1619.57) (added to group)
[18:22:48] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -45.5°
[18:22:48] [ENEMY] [GuardEnemy3] Death animation completed
[18:22:48] [INFO] [BloodDecal] Blood puddle created at (2831.232, 1633.953) (added to group)
[18:22:48] [ENEMY] [PatrolEnemy2] State: COMBAT -> SEEKING_COVER
[18:22:48] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-177.6°, current=82.7°, player=(2572,1615), corner_timer=0.08
[18:22:48] [INFO] [BloodDecal] Blood puddle created at (2885.45, 1657.776) (added to group)
[18:22:49] [INFO] [BloodDecal] Blood puddle created at (2805.957, 1784.406) (added to group)
[18:22:49] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 134.5°
[18:22:49] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-163.3°, current=148.0°, player=(2572,1615), corner_timer=0.08
[18:22:49] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-177.6°, current=115.9°, player=(2572,1615), corner_timer=0.08
[18:22:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2577.921, 1612.195), shooter_id=1018360239170, bullet_pos=(3449.856, 1757.757)
[18:22:49] [INFO] [Bullet] Using shooter_position, distance=884.002197265625
[18:22:49] [INFO] [Bullet] Distance to wall: 884.002197265625 (60.193335148521% of viewport)
[18:22:49] [INFO] [Bullet] Distance-based penetration chance: 76.4411089933922%
[18:22:49] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:49] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 134.4°
[18:22:49] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-161.9°, current=150.3°, player=(2572,1615), corner_timer=0.08
[18:22:49] [INFO] [ReplayManager] Recording frame 2760 (44,9s): player_valid=True, enemies=10
[18:22:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2572.899, 1621.872), shooter_id=1018360239170, bullet_pos=(3461.538, 1768.542)
[18:22:49] [INFO] [Bullet] Using shooter_position, distance=900.66162109375
[18:22:49] [INFO] [Bullet] Distance to wall: 900.66162109375 (61.3277059509572% of viewport)
[18:22:49] [INFO] [Bullet] Distance-based penetration chance: 75.1176763905499%
[18:22:49] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2572.899, 1621.872), source=PLAYER (MakarovPM), range=1469, listeners=6
[18:22:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[18:22:49] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=116.3°, current=116.4°, player=(2572,1615), corner_timer=0.18
[18:22:49] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 134.3°
[18:22:49] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=2/4->1/4
[18:22:49] [INFO] [ImpactEffects] spawn_blood_effect called at (2715.68, 1662.532), dir=(0.980794, 0.195045), lethal=false
[18:22:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:49] [INFO] [ImpactEffects] Blood effect spawned at (2715.68, 1662.532) (scale=0.5)
[18:22:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2572.899, 1621.872), source=PLAYER (MakarovPM), range=1469, listeners=6
[18:22:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[18:22:50] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=1/4->0/4
[18:22:50] [INFO] [ImpactEffects] spawn_blood_effect called at (2715.68, 1662.532), dir=(0.987505, 0.157585), lethal=true
[18:22:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:50] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:22:50] [INFO] [ImpactEffects] Blood effect spawned at (2715.68, 1662.532) (scale=0.75)
[18:22:50] [ENEMY] [PatrolEnemy2] Enemy died (ricochet: false, penetration: false)
[18:22:50] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:22:50] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:22:50] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:22:50] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:22:50] [INFO] [PowerFantasy]   - Duration: 300ms
[18:22:50] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy2 (remaining: 5)
[18:22:50] [INFO] [DeathAnim] Started - Angle: 9.1 deg, Index: 12
[18:22:50] [ENEMY] [PatrolEnemy2] Death animation started with hit direction: (0.987505, 0.157585)
[18:22:50] [INFO] [BloodDecal] Blood puddle created at (2751.535, 1681.738) (added to group)
[18:22:50] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[18:22:50] [INFO] [PowerFantasy] Ending power fantasy effect
[18:22:50] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 134.2°
[18:22:50] [INFO] [BloodDecal] Blood puddle created at (2812.906, 1684.625) (added to group)
[18:22:50] [INFO] [BloodDecal] Blood puddle created at (2769.356, 1705.208) (added to group)
[18:22:50] [INFO] [ReplayManager] Recording frame 2820 (45,6s): player_valid=True, enemies=10
[18:22:50] [INFO] [BloodDecal] Blood puddle created at (2806.45, 1694.52) (added to group)
[18:22:50] [INFO] [BloodDecal] Blood puddle created at (2769.159, 1666.534) (added to group)
[18:22:50] [INFO] [BloodDecal] Blood puddle created at (2777.457, 1698.725) (added to group)
[18:22:50] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 131.4°
[18:22:50] [INFO] [BloodDecal] Blood puddle created at (2805.941, 1695.096) (added to group)
[18:22:50] [ENEMY] [PatrolEnemy2] Ragdoll activated
[18:22:50] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:22:50] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-121.7°, current=-122.1°, player=(2572,1683), corner_timer=0.23
[18:22:50] [ENEMY] [GuardEnemy6] State: FLANKING -> COMBAT
[18:22:50] [INFO] [BloodDecal] Blood puddle created at (2873.918, 1683.996) (added to group)
[18:22:51] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:22:51] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:22:51] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:22:51] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:22:51] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[18:22:51] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:22:51] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:22:51] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2572.899, 1815.538), source=PLAYER (Player), range=900, listeners=5
[18:22:51] [ENEMY] [GuardEnemy6] Heard player RELOAD at (2572.899, 1815.538), intensity=0.02, distance=347
[18:22:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[18:22:51] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1432), can_see=true
[18:22:51] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) - pursuing to attack (dist=1432)
[18:22:51] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=4181), can_see=false
[18:22:51] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=2279), can_see=false
[18:22:51] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2657), can_see=false
[18:22:51] [ENEMY] [GuardEnemy6] Player reloading - priority attack triggered
[18:22:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2800.105, 2078.051), source=ENEMY (GuardEnemy6), range=2000, listeners=5
[18:22:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:22:51] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:51] [INFO] [Player] Spawning blood effect at (2572.8992, 1822.9271), dir=(1, 0), lethal=False (C#)
[18:22:51] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1822.927), dir=(1, 0), lethal=false
[18:22:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:51] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1822.927) (scale=1)
[18:22:51] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:51] [INFO] [Player] Spawning blood effect at (2572.8992, 1822.9271), dir=(1, 0), lethal=False (C#)
[18:22:51] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1822.927), dir=(1, 0), lethal=false
[18:22:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:51] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1822.927) (scale=1)
[18:22:51] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:51] [INFO] [Player] Spawning blood effect at (2572.8992, 1822.9271), dir=(1, 0), lethal=False (C#)
[18:22:51] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1822.927), dir=(1, 0), lethal=false
[18:22:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:51] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1822.927) (scale=1)
[18:22:51] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:51] [INFO] [Player] Spawning blood effect at (2572.8992, 1822.9271), dir=(1, 0), lethal=False (C#)
[18:22:51] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1822.927), dir=(1, 0), lethal=false
[18:22:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:51] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1822.927) (scale=1)
[18:22:51] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:22:51] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:22:51] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:22:51] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:22:51] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[18:22:51] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:22:51] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:22:51] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:22:51] [INFO] [ReplayManager] Recording frame 2880 (46,6s): player_valid=True, enemies=10
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2629.737, 1826.591) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2635.744, 1838.675) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2647.296, 1832.791) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2662.383, 1839.35) (added to group)
[18:22:51] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2634.843, 1854.283) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2615.303, 1831.657) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2661.126, 1850.307) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2671.008, 1866.64) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2646.832, 1807.475) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2630.632, 1844.975) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2664.68, 1887.615) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2637.718, 1832.666) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2668.668, 1853.789) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2643.454, 1850.558) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2677.037, 1815.839) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2684.931, 1862.368) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2694.823, 1841.597) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2662.053, 1874.816) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2636.068, 1854.255) (added to group)
[18:22:51] [ENEMY] [PatrolEnemy2] Death animation completed
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2638.068, 1878.771) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2641.766, 1873.664) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2663.891, 1893.235) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2657.822, 1914.983) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2718.214, 1926.016) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2686.837, 1931.361) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2686.165, 1913.115) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2733.415, 1957.64) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2653.369, 1927.309) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2663.582, 1895.832) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2682.384, 1906.699) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2647.752, 1930.95) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2678.001, 1911.231) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2695.922, 1864.479) (added to group)
[18:22:51] [INFO] [BloodDecal] Blood puddle created at (2679.759, 1854.021) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2680.1, 1951.199) (added to group)
[18:22:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2732.85, 2002.256), source=ENEMY (GuardEnemy6), range=2000, listeners=5
[18:22:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2782.667, 1950.43) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2796.733, 1999.371) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2750.25, 1942.145) (added to group)
[18:22:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:52] [INFO] [Player] Spawning blood effect at (2572.8992, 1823.2605), dir=(1, 0), lethal=False (C#)
[18:22:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1823.26), dir=(1, 0), lethal=false
[18:22:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:52] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1823.26) (scale=1)
[18:22:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:52] [INFO] [Player] Spawning blood effect at (2572.8992, 1823.2605), dir=(1, 0), lethal=False (C#)
[18:22:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1823.26), dir=(1, 0), lethal=false
[18:22:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:52] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1823.26) (scale=1)
[18:22:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:52] [INFO] [Player] Spawning blood effect at (2572.8992, 1823.2605), dir=(1, 0), lethal=False (C#)
[18:22:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1823.26), dir=(1, 0), lethal=false
[18:22:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:52] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1823.26) (scale=1)
[18:22:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:52] [INFO] [Player] Spawning blood effect at (2572.8992, 1823.2605), dir=(1, 0), lethal=False (C#)
[18:22:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1823.26), dir=(1, 0), lethal=false
[18:22:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:52] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1823.26) (scale=1)
[18:22:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:52] [INFO] [Player] Spawning blood effect at (2572.8992, 1823.2605), dir=(1, 0), lethal=False (C#)
[18:22:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1823.26), dir=(1, 0), lethal=false
[18:22:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:52] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1823.26) (scale=1)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2645.515, 1834.177) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2631.218, 1846.032) (added to group)
[18:22:52] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-169.0°, current=-168.8°, player=(2572,1868), corner_timer=0.00
[18:22:52] [ENEMY] [GuardEnemy4] State: IDLE -> COMBAT
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2615.767, 1855.327) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2623.369, 1840.103) (added to group)
[18:22:52] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-169.3°, current=21.7°, player=(2572,1879), corner_timer=0.00
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2666.652, 1866.187) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2629.796, 1842.329) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2628.611, 1875.902) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2682.661, 1840.022) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2643.855, 1879.656) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2658.575, 1811.034) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2660.392, 1836.984) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2663.193, 1846.098) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2690.479, 1882.561) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2696.761, 1892.443) (added to group)
[18:22:52] [INFO] [ReplayManager] Recording frame 2940 (47,6s): player_valid=True, enemies=10
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2637.549, 1870.03) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2638.857, 1833.508) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2658.657, 1898.745) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2703.089, 1905.294) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2641.02, 1854.427) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2655.124, 1879.797) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2647.07, 1860.988) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2661.542, 1862.36) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2684.249, 1864.017) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2682.591, 1883.87) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2714.322, 1950.881) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2671.942, 1853.724) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2716.797, 1929.926) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2662.212, 1913.324) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2702.615, 1920.525) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2704.976, 1936.056) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2681.127, 1866.501) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2710.542, 1950.581) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2663.034, 1877.755) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2677.948, 1943.735) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2671.861, 1874.526) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2664.492, 1959.044) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2671.141, 1970.105) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2679.468, 1873.529) (added to group)
[18:22:52] [INFO] [BloodDecal] Blood puddle created at (2711.891, 1914.644) (added to group)
[18:22:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2732.85, 2002.256), source=ENEMY (GuardEnemy6), range=2000, listeners=5
[18:22:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=2
[18:22:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:52] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:52] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:52] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:52] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:52] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:52] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:52] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:52] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:52] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:52] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:52] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[18:22:52] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 100.1°
[18:22:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2572.899, 1986.483), source=PLAYER (MakarovPM), range=1469, listeners=5
[18:22:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[18:22:53] [ENEMY] [GuardEnemy6] Hit: dmg=1, hp=4/4->3/4
[18:22:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2732.85, 2002.256), dir=(0.972107, 0.23454), lethal=false
[18:22:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:53] [INFO] [ImpactEffects] Blood effect spawned at (2732.85, 2002.256) (scale=0.5)
[18:22:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2572.899, 1986.483), source=PLAYER (MakarovPM), range=1469, listeners=5
[18:22:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[18:22:53] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-172.0°, current=138.4°, player=(2572,1980), corner_timer=0.13
[18:22:53] [ENEMY] [GuardEnemy4] Warning: No valid flank position (both sides behind walls)
[18:22:53] [ENEMY] [GuardEnemy4] FLANKING started: target=(2647.714, 2165.962), side=right, pos=(4579.002, 2263.599)
[18:22:53] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[18:22:53] [ENEMY] [GuardEnemy4] State: FLANKING -> COMBAT
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2628.46, 2009.105) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2613.052, 2007.585) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2619.822, 1983.98) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2641.212, 2028.386) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2637.258, 2015.761) (added to group)
[18:22:53] [ENEMY] [GuardEnemy6] Hit: dmg=1, hp=3/4->2/4
[18:22:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2732.85, 2002.256), dir=(0.971867, 0.23553), lethal=false
[18:22:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:53] [INFO] [ImpactEffects] Blood effect spawned at (2732.85, 2002.256) (scale=0.5)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2668.358, 1992.2) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2647.773, 2014.708) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2634.864, 2014.989) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2626.349, 2015.335) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2662.047, 2018.523) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2653.122, 2016.089) (added to group)
[18:22:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2572.899, 1986.483), source=PLAYER (MakarovPM), range=1469, listeners=5
[18:22:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2643.275, 1999.005) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2630.807, 1997.244) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2676.999, 1982.107) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2685.881, 2005.149) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2642.232, 1995.934) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2628.913, 1989.221) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2637.855, 2038.363) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2687.67, 2067.412) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2790.255, 2027.141) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2642.839, 2057.504) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2674.644, 2025.446) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2643.57, 1991.803) (added to group)
[18:22:53] [ENEMY] [GuardEnemy6] Hit: dmg=1, hp=2/4->1/4
[18:22:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2732.85, 2002.256), dir=(0.977494, 0.210961), lethal=false
[18:22:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:53] [INFO] [ImpactEffects] Blood effect spawned at (2732.85, 2002.256) (scale=0.5)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2684.983, 2012.642) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2680.897, 1982.986) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2720.106, 2070.152) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2653.72, 2051.599) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2742.265, 2013.361) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2644.765, 2072.117) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2676.142, 1995.188) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2812.552, 2039.327) (added to group)
[18:22:53] [INFO] [BloodyFeet:GuardEnemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2731.066, 2053.361) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2716.862, 2051.262) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2660.549, 2041.179) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2726.853, 2029.004) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2761.722, 2016.832) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2664.463, 2064.588) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2766.81, 2039.021) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2698.359, 2053.416) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2659.427, 2016.13) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2823.598, 2020.234) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2719.795, 2065.893) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2670.427, 2081.529) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2767.283, 2037.879) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2697.077, 2105.865) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2775.021, 2109.486) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2748.339, 2114.361) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2792.336, 2104.205) (added to group)
[18:22:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2572.899, 1986.483), source=PLAYER (MakarovPM), range=1469, listeners=5
[18:22:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2746.255, 2052.112) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2765.601, 1987.928) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2726.244, 2133.337) (added to group)
[18:22:53] [INFO] [ReplayManager] Recording frame 3000 (48,6s): player_valid=True, enemies=10
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2759.821, 2170.763) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2782.186, 2132.028) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2827.699, 2011.627) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2843.052, 2038.425) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2895.483, 2138.342) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2743.204, 2166.632) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2763.67, 2005.591) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2801.237, 2024.772) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2821.992, 2079.9) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2822.541, 2146.93) (added to group)
[18:22:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2732.85, 2002.256), source=ENEMY (GuardEnemy6), range=2000, listeners=5
[18:22:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=2
[18:22:53] [ENEMY] [GuardEnemy6] Hit: dmg=1, hp=1/4->0/4
[18:22:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2732.85, 2002.256), dir=(0.979787, 0.200045), lethal=true
[18:22:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:53] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:22:53] [INFO] [ImpactEffects] Blood effect spawned at (2732.85, 2002.256) (scale=0.75)
[18:22:53] [ENEMY] [GuardEnemy6] Enemy died (ricochet: false, penetration: false)
[18:22:53] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:22:53] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:22:53] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:22:53] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:22:53] [INFO] [PowerFantasy]   - Duration: 300ms
[18:22:53] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy6 (remaining: 4)
[18:22:53] [INFO] [DeathAnim] Started - Angle: 11.5 deg, Index: 12
[18:22:53] [ENEMY] [GuardEnemy6] Death animation started with hit direction: (0.979787, 0.200045)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2894.28, 2106.755) (added to group)
[18:22:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:53] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:53] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:53] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:53] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:53] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:53] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:53] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:53] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:53] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:53] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:53] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:53] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:53] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:53] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:53] [INFO] [Player] Spawning blood effect at (2572.8992, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.899, 1980.483), dir=(1, 0), lethal=false
[18:22:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:53] [INFO] [ImpactEffects] Blood effect spawned at (2572.899, 1980.483) (scale=1)
[18:22:53] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[18:22:53] [INFO] [PowerFantasy] Ending power fantasy effect
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2934.822, 2091.765) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2886.881, 2147.042) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2901.697, 2035.245) (added to group)
[18:22:53] [INFO] [BloodDecal] Blood puddle created at (2849.085, 2012.557) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2847.291, 2145.487) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2839.014, 2068.019) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2921.607, 2042.059) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2796.067, 2039.043) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2864.497, 2190.894) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2873.898, 2079.7) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2814.69, 2058.089) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2890.452, 2209.918) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2883.66, 2099.792) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2868.455, 2102.774) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2871.435, 2091.613) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2823.518, 2109.561) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2856.171, 2058.942) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2823.129, 2000.18) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2800.656, 2047.996) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2810.277, 2036.161) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2801.209, 2022.15) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2825.559, 2003.908) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2824.328, 2037.868) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2610.19, 1976.861) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2616.624, 1975.3) (added to group)
[18:22:54] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=88.9°, current=89.0°, player=(2572,1980), corner_timer=0.18
[18:22:54] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:22:54] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:22:54] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:22:54] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:22:54] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:22:54] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:22:54] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2572.899, 1980.483), source=PLAYER (Player), range=900, listeners=4
[18:22:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=0
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2813.745, 2017.983) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2612.648, 1984.586) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2630.71, 2009.018) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2630.95, 1990.988) (added to group)
[18:22:54] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1537), can_see=false
[18:22:54] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=4069), can_see=false
[18:22:54] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=1740), can_see=true
[18:22:54] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) - pursuing to attack (dist=1740)
[18:22:54] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[18:22:54] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2510), can_see=false
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2664.86, 1981.179) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2664.479, 1968.804) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2646.921, 2005.796) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2637.199, 1997.766) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2659.194, 2032.19) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2643.805, 2013.379) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2625.057, 1984.679) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2884.744, 2113.67) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2796.019, 2030.23) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2803.232, 2036.614) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2628.946, 1988.16) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2645.115, 1995.021) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2677.45, 1994.127) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2626.809, 2010.081) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2648.452, 1975.096) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2658.215, 1990.156) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2669.612, 1998.37) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2643.202, 1985.644) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2654.881, 1977.303) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2632.913, 2026.054) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2661.905, 1992.598) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2674.587, 2038.706) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2644.735, 2031.368) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2693.631, 2013.757) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2633.371, 2028.698) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2640.376, 1995.091) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2660.864, 2004.951) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2653.829, 1986.528) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2706.092, 2063.517) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2683.33, 1989.277) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2655.884, 2034.256) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2693.382, 2006.844) (added to group)
[18:22:54] [ENEMY] [GuardEnemy6] Ragdoll activated
[18:22:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2836.798, 2102.434) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2888.144, 2105.561) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2852.283, 2092.977) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2689.917, 2051.851) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2721.072, 2043.959) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2703.242, 2018.53) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2833.78, 2085.92) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2886.907, 2151.707) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2871.799, 2065.541) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2647.784, 2014.705) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2673.363, 2084.087) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2701.437, 1985.501) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2712.775, 2043.476) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2809.397, 2117.176) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2662.705, 2000.268) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2662.725, 2039.007) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2664.442, 2050.831) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2697.878, 2006.623) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2680.607, 2047.371) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2749.356, 2008.442) (added to group)
[18:22:54] [INFO] [Player.Reload.Anim] LeftArm: pos=(-3.993837, 2.0012326), target=(-4, 2), base=(16, 6)
[18:22:54] [INFO] [Player.Reload.Anim] RightArm: pos=(4.0000005, 6), target=(4, 6), base=(4, 6)
[18:22:54] [INFO] [Player.Reload.Anim] LeftArm: pos=(-3.996405, 2.000719), target=(-4, 2), base=(16, 6)
[18:22:54] [INFO] [Player.Reload.Anim] RightArm: pos=(4.0000005, 6), target=(4, 6), base=(4, 6)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2835.412, 2128.884) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2749.989, 2012.131) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2710.076, 2055.524) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2736.856, 2030.793) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2911.327, 2091.445) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2722.225, 1984.399) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2699.025, 2037.31) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2724.022, 2026.699) (added to group)
[18:22:54] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[18:22:54] [INFO] [ReplayManager] Recording frame 3060 (49,4s): player_valid=True, enemies=10
[18:22:54] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2938.868, 2084.005) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2764.87, 2023.566) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2697.276, 2038.458) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2663.155, 2090.089) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2743.687, 2108.862) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2724.072, 2113.908) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2746.816, 2064.079) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2663.2, 2105.768) (added to group)
[18:22:54] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:22:54] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:22:54] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:22:54] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:22:54] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:22:54] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:22:54] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2847.484, 2163.328) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2768.798, 2070.731) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2693.294, 2095.066) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2761.834, 2042.42) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2725.255, 2150.779) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2682.587, 2129.113) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2754.084, 1992.119) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2751.991, 2159.71) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2724.026, 2033.218) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2716.989, 2109.802) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2715.875, 2043.924) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2722.607, 2027.634) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2731.076, 2163.898) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2763.176, 2087.276) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2778.594, 2115.293) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2714.945, 2114.848) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2756.632, 2115.167) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2793.093, 2168.027) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2684.877, 2125.851) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2735.807, 2020.242) (added to group)
[18:22:54] [INFO] [BloodDecal] Blood puddle created at (2713.14, 2159.883) (added to group)
[18:22:54] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:22:54] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[18:22:55] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:22:55] [ENEMY] [GuardEnemy6] Death animation completed
[18:22:55] [INFO] [ReplayManager] Recording frame 3120 (50,4s): player_valid=True, enemies=10
[18:22:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4047.449, 2186.857), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4026.384, 2183.484), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4005.328, 2180.053), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3984.282, 2176.561), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3963.248, 2173.005), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3942.225, 2169.38), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:55] [ENEMY] [SniperEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-135.2°, current=146.3°, player=(2865,1980), corner_timer=0.00
[18:22:55] [ENEMY] [SniperEnemy2] State: IDLE -> COMBAT
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3921.214, 2165.683), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3900.217, 2161.91), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3874.284, 2165.437), shooter_id=1016548299734, bullet_pos=(3567.067, 1950.395)
[18:22:56] [INFO] [Bullet] Using shooter_position, distance=375.000335693359
[18:22:56] [INFO] [Bullet] Distance to wall: 375.000335693359 (25.5344624221739% of viewport)
[18:22:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3958.401, 2180.382), shooter_id=1016548299734, bullet_pos=(2899.784, 1799.64)
[18:22:56] [INFO] [Bullet] Using shooter_position, distance=1125.00354003906
[18:22:56] [INFO] [Bullet] Distance to wall: 1125.00354003906 (76.6035597403567% of viewport)
[18:22:56] [INFO] [Bullet] Distance-based penetration chance: 57.2958469695839%
[18:22:56] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3879.235, 2158.056), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3858.269, 2154.115), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [LastChance] Threat detected: @Area2D@4116
[18:22:56] [INFO] [LastChance] Not in hard mode - effect disabled
[18:22:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:22:56] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:22:56] [INFO] [Player] Spawning blood effect at (2970.2324, 1980.4827), dir=(1, 0), lethal=False (C#)
[18:22:56] [INFO] [ImpactEffects] spawn_blood_effect called at (2970.232, 1980.483), dir=(1, 0), lethal=false
[18:22:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:56] [INFO] [ImpactEffects] Blood effect spawned at (2970.232, 1980.483) (scale=1)
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3837.32, 2150.081), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3790.396, 2149.105), shooter_id=1016548299734, bullet_pos=(3662.349, 1934.388)
[18:22:56] [INFO] [Bullet] Using shooter_position, distance=249.999526977539
[18:22:56] [INFO] [Bullet] Distance to wall: 249.999526977539 (17.0229275004947% of viewport)
[18:22:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3816.391, 2145.947), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3769.471, 2144.757), shooter_id=1016548299734, bullet_pos=(3568.324, 1933.549)
[18:22:56] [INFO] [Bullet] Using shooter_position, distance=291.666290283203
[18:22:56] [INFO] [Bullet] Distance to wall: 291.666290283203 (19.860094032399% of viewport)
[18:22:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3795.484, 2141.707), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3774.6, 2137.35), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3979.458, 2183.939), shooter_id=1016548299734, bullet_pos=(1861.639, 1726.433)
[18:22:56] [INFO] [Bullet] Using shooter_position, distance=2166.67211914063
[18:22:56] [INFO] [Bullet] Distance to wall: 2166.67211914063 (147.532688750998% of viewport)
[18:22:56] [INFO] [Bullet] Distance-based penetration chance: 20.4934622498004%
[18:22:56] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:56] [INFO] [ReplayManager] Recording frame 3180 (51,4s): player_valid=True, enemies=10
[18:22:56] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-133.1°, current=-133.2°, player=(3052,1980), corner_timer=0.00
[18:22:56] [INFO] [BloodDecal] Blood puddle created at (3033.984, 2002.831) (added to group)
[18:22:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3916.318, 2173.061), shooter_id=1016548299734, bullet_pos=(2143.104, 1916.573)
[18:22:56] [INFO] [Bullet] Using shooter_position, distance=1791.66857910156
[18:22:56] [INFO] [Bullet] Distance to wall: 1791.66857910156 (121.998008139033% of viewport)
[18:22:56] [INFO] [Bullet] Distance-based penetration chance: 25.6003983721934%
[18:22:56] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3753.743, 2132.868), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [BloodDecal] Blood puddle created at (3060.31, 2022.536) (added to group)
[18:22:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3853.287, 2161.498), shooter_id=1016548299734, bullet_pos=(2544.038, 2702.626)
[18:22:56] [INFO] [Bullet] Using shooter_position, distance=1416.66955566406
[18:22:56] [INFO] [Bullet] Distance to wall: 1416.66955566406 (96.4636350707736% of viewport)
[18:22:56] [INFO] [Bullet] Distance-based penetration chance: 34.1257590840975%
[18:22:56] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:56] [INFO] [BloodDecal] Blood puddle created at (3038.799, 2023.098) (added to group)
[18:22:56] [INFO] [BloodDecal] Blood puddle created at (3039.34, 1997.731) (added to group)
[18:22:56] [INFO] [BloodDecal] Blood puddle created at (3047.842, 2001.724) (added to group)
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3732.916, 2128.249), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3686.027, 2126.017), shooter_id=1016548299734, bullet_pos=(3527.597, 1932.625)
[18:22:56] [INFO] [Bullet] Using shooter_position, distance=250.00048828125
[18:22:56] [INFO] [Bullet] Distance to wall: 250.00048828125 (17.022992957432% of viewport)
[18:22:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3712.123, 2123.48), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [BloodDecal] Blood puddle created at (3087.417, 1968.464) (added to group)
[18:22:56] [INFO] [BloodDecal] Blood puddle created at (3100.511, 2054.924) (added to group)
[18:22:56] [INFO] [BloodDecal] Blood puddle created at (3118.368, 2051.038) (added to group)
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3691.368, 2118.545), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3670.657, 2113.427), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [BloodDecal] Blood puddle created at (3089.461, 2105.642) (added to group)
[18:22:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3706.843, 2130.929), shooter_id=1016548299734, bullet_pos=(3047.188, 2826.095)
[18:22:56] [INFO] [Bullet] Using shooter_position, distance=958.332336425781
[18:22:56] [INFO] [Bullet] Distance to wall: 958.332336425781 (65.2546110050097% of viewport)
[18:22:56] [INFO] [Bullet] Distance-based penetration chance: 70.536287160822%
[18:22:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:56] [INFO] [BloodDecal] Blood puddle created at (3117.626, 2012.286) (added to group)
[18:22:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3665.248, 2120.927), shooter_id=1016548299734, bullet_pos=(2885.849, 1723.234)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=874.998779296875
[18:22:57] [INFO] [Bullet] Distance to wall: 874.998779296875 (59.580275863203% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 77.1563448262632%
[18:22:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3587.907, 2098.907), shooter_id=1016548299734, bullet_pos=(3520.796, 1946.35)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=166.666595458984
[18:22:57] [INFO] [Bullet] Distance to wall: 166.666595458984 (11.3486349576472% of viewport)
[18:22:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3811.342, 2153.339), shooter_id=1016548299734, bullet_pos=(1337.543, 1792.358)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=2499.99755859375
[18:22:57] [INFO] [Bullet] Distance to wall: 2499.99755859375 (170.229430854798% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 15.9541138290405%
[18:22:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3937.354, 2176.757), shooter_id=1016548299734, bullet_pos=(66.11693, 2005.944)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=3875.00366210938
[18:22:57] [INFO] [Bullet] Distance to wall: 3875.00366210938 (263.856124856451% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:22:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3587.79, 2099.694), shooter_id=1016548299734, bullet_pos=(2515.271, 2656.259)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=1208.32958984375
[18:22:57] [INFO] [Bullet] Distance to wall: 1208.32958984375 (82.2773836946526% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 50.676385689572%
[18:22:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:57] [INFO] [ReplayManager] Recording frame 3240 (52,4s): player_valid=True, enemies=10
[18:22:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3587.873, 2099.736), shooter_id=1016548299734, bullet_pos=(3531.587, 1942.861)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=166.666687011719
[18:22:57] [INFO] [Bullet] Distance to wall: 166.666687011719 (11.3486411916412% of viewport)
[18:22:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3832.306, 2157.468), shooter_id=1016548299734, bullet_pos=(49.74684, 1894.777)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=3791.67041015625
[18:22:57] [INFO] [Bullet] Distance to wall: 3791.67041015625 (258.181810494624% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:22:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3727.692, 2135.681), shooter_id=1016548299734, bullet_pos=(1336.238, 3947.019)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=2999.99926757813
[18:22:57] [INFO] [Bullet] Distance to wall: 2999.99926757813 (204.275466641614% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 9.14490667167721%
[18:22:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3727.692, 2135.681), shooter_id=1016548299734, bullet_pos=(1336.238, 3947.019)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=2999.99926757813
[18:22:57] [INFO] [Bullet] Distance to wall: 2999.99926757813 (204.275466641614% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 9.14490667167721%
[18:22:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3623.824, 2110.13), shooter_id=1016548299734, bullet_pos=(1704.306, 936.2692)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=2250
[18:22:57] [INFO] [Bullet] Distance to wall: 2250 (153.206637385175% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 19.3586725229651%
[18:22:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3588.045, 2098.05), shooter_id=1016548299734, bullet_pos=(1969.64, 1951.822)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=1624.99755859375
[18:22:57] [INFO] [Bullet] Distance to wall: 1624.99755859375 (110.649071871674% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 27.8701856256652%
[18:22:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3603.195, 2104.372), shooter_id=1016548299734, bullet_pos=(1568.785, 2718.227)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=2125.00341796875
[18:22:57] [INFO] [Bullet] Distance to wall: 2125.00341796875 (144.69539026622% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 21.060921946756%
[18:22:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3655.155, 2109.469), source=ENEMY (GuardEnemy4), range=1200, listeners=4
[18:22:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3588.404, 2096.084), shooter_id=1016548299734, bullet_pos=(2142.646, 1904.989)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=1458.33251953125
[18:22:57] [INFO] [Bullet] Distance to wall: 1458.33251953125 (99.3005428919255% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 30.8160332927536%
[18:22:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3748.569, 2140.286), shooter_id=1016548299734, bullet_pos=(52.24413, 2438.467)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=3708.33227539063
[18:22:57] [INFO] [Bullet] Distance to wall: 3708.33227539063 (252.507163653116% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:22:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3587.568, 2102.222), shooter_id=1016548299734, bullet_pos=(2892.203, 1723.804)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=791.664367675781
[18:22:57] [INFO] [Bullet] Distance to wall: 791.664367675781 (53.905882537452% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 83.7764703729727%
[18:22:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3588.68, 2094.939), shooter_id=1016548299734, bullet_pos=(2149.348, 1860.316)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=1458.32958984375
[18:22:57] [INFO] [Bullet] Distance to wall: 1458.32958984375 (99.3003434041164% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 30.8162660285309%
[18:22:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:57] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3588.543, 2095.726), shooter_id=1016548299734, bullet_pos=(2496.563, 2931.313)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=1375.00073242188
[18:22:57] [INFO] [Bullet] Distance to wall: 1375.00073242188 (93.6263282740035% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 37.435950346996%
[18:22:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3588.209, 2097.113), shooter_id=1016548299734, bullet_pos=(1710.266, 935.1949)
[18:22:57] [INFO] [Bullet] Using shooter_position, distance=2208.33032226563
[18:22:57] [INFO] [Bullet] Distance to wall: 2208.33032226563 (150.36927240446% of viewport)
[18:22:57] [INFO] [Bullet] Distance-based penetration chance: 19.926145519108%
[18:22:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3588.614, 2095.122), shooter_id=1016548299734, bullet_pos=(1697.396, 2745.735)
[18:22:58] [INFO] [Bullet] Using shooter_position, distance=2000.00146484375
[18:22:58] [INFO] [Bullet] Distance to wall: 2000.00146484375 (136.183777419615% of viewport)
[18:22:58] [INFO] [Bullet] Distance-based penetration chance: 22.7632445160769%
[18:22:58] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3587.335, 2105.047), shooter_id=1016548299734, bullet_pos=(2461.983, 2649.193)
[18:22:58] [INFO] [Bullet] Using shooter_position, distance=1250.00415039063
[18:22:58] [INFO] [Bullet] Distance to wall: 1250.00415039063 (85.1150811550488% of viewport)
[18:22:58] [INFO] [Bullet] Distance-based penetration chance: 47.3657386524431%
[18:22:58] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3644.512, 2115.639), shooter_id=1016548299734, bullet_pos=(37.19886, 2473.325)
[18:22:58] [INFO] [Bullet] Using shooter_position, distance=3625.00268554688
[18:22:58] [INFO] [Bullet] Distance to wall: 3625.00268554688 (246.833098651051% of viewport)
[18:22:58] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:22:58] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3588.22, 2097.54), shooter_id=1016548299734, bullet_pos=(1736.994, 818.6793)
[18:22:58] [INFO] [Bullet] Using shooter_position, distance=2250.0048828125
[18:22:58] [INFO] [Bullet] Distance to wall: 2250.0048828125 (153.206969864856% of viewport)
[18:22:58] [INFO] [Bullet] Distance-based penetration chance: 19.3586060270287%
[18:22:58] [INFO] [Bullet] Caliber cannot penetrate walls
[18:22:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3573.795, 2095.377), source=PLAYER (MakarovPM), range=1469, listeners=4
[18:22:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[18:22:58] [ENEMY] [GuardEnemy4] Hit: dmg=1, hp=3/3->2/3
[18:22:58] [INFO] [ImpactEffects] spawn_blood_effect called at (3655.155, 2109.469), dir=(0.987476, 0.157768), lethal=false
[18:22:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:22:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:22:58] [INFO] [ImpactEffects] Blood effect spawned at (3655.155, 2109.469) (scale=0.5)
[18:22:58] [INFO] [ReplayManager] Recording frame 3300 (53,4s): player_valid=True, enemies=10
[18:22:58] [ENEMY] [GuardEnemy4] State: COMBAT -> RETREATING
[18:22:58] [INFO] [BloodDecal] Blood puddle created at (3725.217, 2143.264) (added to group)
[18:22:58] [INFO] [BloodDecal] Blood puddle created at (3740.606, 2162.893) (added to group)
[18:22:58] [INFO] [BloodDecal] Blood puddle created at (3749.636, 2152.366) (added to group)
[18:22:58] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=100.1°, current=-134.8°, player=(3576,2089), corner_timer=0.13
[18:22:58] [INFO] [BloodDecal] Blood puddle created at (3735.772, 2150.227) (added to group)
[18:22:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3576.351, 2095.377), source=PLAYER (MakarovPM), range=1469, listeners=4
[18:22:58] [ENEMY] [GuardEnemy4] Heard gunshot at (3576.351, 2095.377), source_type=0, intensity=0.42, distance=78
[18:22:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[18:22:58] [INFO] [BloodDecal] Blood puddle created at (3729.512, 2130.089) (added to group)
[18:22:58] [ENEMY] [GuardEnemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=158.9°, current=-140.6°, player=(3576,2089), corner_timer=0.13
[18:22:58] [ENEMY] [GuardEnemy4] State: COMBAT -> RETREATING
[18:22:58] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=100.1°, current=-143.4°, player=(3576,2089), corner_timer=0.13
[18:22:58] [ENEMY] [GuardEnemy4] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=153.0°, current=126.5°, player=(3576,2089), corner_timer=0.13
[18:22:58] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[18:22:58] [INFO] [BloodDecal] Blood puddle created at (3811.953, 2201.228) (added to group)
[18:22:59] [INFO] [BloodDecal] Blood puddle created at (3835.863, 2230.903) (added to group)
[18:22:59] [INFO] [BloodDecal] Blood puddle created at (3793.719, 2282.171) (added to group)
[18:22:59] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=100.1°, current=-160.3°, player=(3576,2089), corner_timer=0.13
[18:22:59] [INFO] [BloodDecal] Blood puddle created at (3781.082, 2220.571) (added to group)
[18:22:59] [INFO] [BloodDecal] Blood puddle created at (3810.317, 2292.722) (added to group)
[18:22:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3587.199, 2108.016), shooter_id=1016548299734, bullet_pos=(751.5792, 4497.78)
[18:22:59] [INFO] [Bullet] Using shooter_position, distance=3708.32983398438
[18:22:59] [INFO] [Bullet] Distance to wall: 3708.32983398438 (252.506997413275% of viewport)
[18:22:59] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:22:59] [INFO] [Bullet] Penetration failed (distance roll)
[18:22:59] [INFO] [ReplayManager] Recording frame 3360 (54,4s): player_valid=True, enemies=10
[18:22:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3576.351, 2095.377), source=PLAYER (MakarovPM), range=1469, listeners=4
[18:22:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[18:22:59] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=40.8°, current=40.8°, player=(3576,2089), corner_timer=0.18
[18:22:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3576.351, 2095.377), shooter_id=1018360239170, bullet_pos=(3511.304, 1941.203)
[18:22:59] [INFO] [Bullet] Using shooter_position, distance=167.333679199219
[18:22:59] [INFO] [Bullet] Distance to wall: 167.333679199219 (11.3940579161786% of viewport)
[18:22:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:22:59] [INFO] [Bullet] Caliber cannot penetrate walls
[18:23:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3576.351, 2095.377), source=PLAYER (MakarovPM), range=1469, listeners=4
[18:23:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[18:23:00] [ENEMY] [GuardEnemy4] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=96.1°, current=47.8°, player=(3576,2089), corner_timer=0.13
[18:23:00] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=100.1°, current=-160.8°, player=(3576,2089), corner_timer=0.13
[18:23:00] [ENEMY] [GuardEnemy4] Hit: dmg=1, hp=2/3->1/3
[18:23:00] [INFO] [ImpactEffects] spawn_blood_effect called at (3587.981, 1974.46), dir=(0.017221, -0.999852), lethal=false
[18:23:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:00] [INFO] [ImpactEffects] Wall found for blood splatter at (3588.403, 1950) (dist=24 px)
[18:23:00] [INFO] [BloodDecal] Blood puddle created at (3588.403, 1951) (added to group)
[18:23:00] [INFO] [ImpactEffects] Blood effect spawned at (3587.981, 1974.46) (scale=0.5)
[18:23:00] [ENEMY] [GuardEnemy4] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=95.8°, current=91.0°, player=(3576,2089), corner_timer=0.13
[18:23:00] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=100.1°, current=-76.9°, player=(3576,2089), corner_timer=0.13
[18:23:00] [ENEMY] [GuardEnemy4] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=93.6°, current=97.7°, player=(3576,2089), corner_timer=0.13
[18:23:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3576.351, 2095.377), source=PLAYER (MakarovPM), range=1469, listeners=4
[18:23:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[18:23:00] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=100.1°, current=-53.3°, player=(3576,2089), corner_timer=0.13
[18:23:00] [ENEMY] [GuardEnemy4] Hit: dmg=1, hp=1/3->0/3
[18:23:00] [INFO] [ImpactEffects] spawn_blood_effect called at (3573.587, 1987.841), dir=(0.048629, -0.998817), lethal=true
[18:23:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:00] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:23:00] [INFO] [ImpactEffects] Wall found for blood splatter at (3575.429, 1950) (dist=37 px)
[18:23:00] [INFO] [BloodDecal] Blood puddle created at (3575.429, 1951) (added to group)
[18:23:00] [INFO] [ImpactEffects] Blood effect spawned at (3573.587, 1987.841) (scale=0.75)
[18:23:00] [ENEMY] [GuardEnemy4] Enemy died (ricochet: false, penetration: false)
[18:23:00] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:23:00] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:23:00] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:23:00] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:23:00] [INFO] [PowerFantasy]   - Duration: 300ms
[18:23:00] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy4 (remaining: 3)
[18:23:00] [INFO] [DeathAnim] Started - Angle: -87.2 deg, Index: 6
[18:23:00] [ENEMY] [GuardEnemy4] Death animation started with hit direction: (0.048629, -0.998817)
[18:23:00] [INFO] [ReplayManager] Recording frame 3420 (55,4s): player_valid=True, enemies=10
[18:23:00] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[18:23:00] [INFO] [PowerFantasy] Ending power fantasy effect
[18:23:01] [INFO] [BloodDecal] Blood puddle created at (3558.143, 1965.372) (added to group)
[18:23:01] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:23:01] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:23:01] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:23:01] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[18:23:01] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:23:01] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(3576.351, 2089.377), source=PLAYER (Player), range=900, listeners=3
[18:23:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[18:23:01] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=2629), can_see=true
[18:23:01] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) - pursuing to attack (dist=2629)
[18:23:01] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3303), can_see=false
[18:23:01] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=3032), can_see=false
[18:23:01] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=38.2°, current=38.2°, player=(3576,2089), corner_timer=0.18
[18:23:01] [INFO] [BloodDecal] Blood puddle created at (3593.262, 1959.441) (added to group)
[18:23:01] [ENEMY] [GuardEnemy4] Ragdoll activated
[18:23:01] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:23:01] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:23:01] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:23:01] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:23:01] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[18:23:01] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:23:01] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:23:01] [INFO] [BloodDecal] Blood puddle created at (3642.925, 1964.292) (added to group)
[18:23:01] [INFO] [Player.Reload.Anim] LeftArm: pos=(12.44107, 5.2882137), target=(16, 6), base=(16, 6)
[18:23:01] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9999998, 6), target=(4, 6), base=(4, 6)
[18:23:01] [INFO] [ReplayManager] Recording frame 3480 (56,1s): player_valid=True, enemies=10
[18:23:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3576.351, 2095.377), shooter_id=1018360239170, bullet_pos=(6066.99, 2437.124)
[18:23:01] [INFO] [Bullet] Using shooter_position, distance=2513.97583007813
[18:23:01] [INFO] [Bullet] Distance to wall: 2513.97583007813 (171.181237063943% of viewport)
[18:23:01] [INFO] [Bullet] Distance-based penetration chance: 15.7637525872113%
[18:23:01] [INFO] [Bullet] Penetration failed (distance roll)
[18:23:01] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:23:02] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-127.1°, current=-127.2°, player=(3627,2089), corner_timer=0.00
[18:23:02] [ENEMY] [GuardEnemy4] Death animation completed
[18:23:02] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-126.0°, current=-126.1°, player=(3704,2089), corner_timer=0.00
[18:23:02] [INFO] [ReplayManager] Recording frame 3540 (57,1s): player_valid=True, enemies=10
[18:23:03] [INFO] [ReplayManager] Recording frame 3600 (58,1s): player_valid=True, enemies=10
[18:23:04] [INFO] [ReplayManager] Recording frame 3660 (59,1s): player_valid=True, enemies=10
[18:23:05] [INFO] [ReplayManager] Recording frame 3720 (60,1s): player_valid=True, enemies=10
[18:23:05] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[18:23:06] [INFO] [ReplayManager] Recording frame 3780 (61,1s): player_valid=True, enemies=10
[18:23:06] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-103.5°, current=-103.6°, player=(4729,1077), corner_timer=0.00
[18:23:07] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-101.1°, current=-101.2°, player=(4865,966), corner_timer=0.00
[18:23:07] [INFO] [ReplayManager] Recording frame 3840 (62,1s): player_valid=True, enemies=10
[18:23:08] [INFO] [ReplayManager] Recording frame 3900 (63,1s): player_valid=True, enemies=10
[18:23:09] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-94.8°, current=-94.9°, player=(5263,705), corner_timer=0.00
[18:23:09] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=2.2°, current=2.3°, player=(5309,671), corner_timer=0.18
[18:23:09] [INFO] [ReplayManager] Recording frame 3960 (64,1s): player_valid=True, enemies=10
[18:23:10] [INFO] [ReplayManager] Recording frame 4020 (65,1s): player_valid=True, enemies=10
[18:23:11] [INFO] [ReplayManager] Recording frame 4080 (66,1s): player_valid=True, enemies=10
[18:23:12] [INFO] [ReplayManager] Recording frame 4140 (67,1s): player_valid=True, enemies=10
[18:23:13] [INFO] [ReplayManager] Recording frame 4200 (68,1s): player_valid=True, enemies=10
[18:23:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=2.0°, current=2.0°, player=(5987,695), corner_timer=0.18
[18:23:14] [INFO] [ReplayManager] Recording frame 4260 (69,1s): player_valid=True, enemies=10
[18:23:15] [INFO] [ReplayManager] Recording frame 4320 (70,1s): player_valid=True, enemies=10
[18:23:16] [INFO] [ReplayManager] Recording frame 4380 (71,1s): player_valid=True, enemies=10
[18:23:17] [INFO] [ReplayManager] Recording frame 4440 (72,1s): player_valid=True, enemies=10
[18:23:18] [INFO] [ReplayManager] Recording frame 4500 (73,1s): player_valid=True, enemies=10
[18:23:19] [INFO] [ReplayManager] Recording frame 4560 (74,1s): player_valid=True, enemies=10
[18:23:20] [INFO] [ReplayManager] Recording frame 4620 (75,1s): player_valid=True, enemies=10
[18:23:21] [INFO] [ReplayManager] Recording frame 4680 (76,1s): player_valid=True, enemies=10
[18:23:22] [INFO] [ReplayManager] Recording frame 4740 (77,1s): player_valid=True, enemies=10
[18:23:22] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-103.9°, current=-103.8°, player=(5216,3153), corner_timer=0.00
[18:23:23] [INFO] [ReplayManager] Recording frame 4800 (78,1s): player_valid=True, enemies=10
[18:23:24] [INFO] [ReplayManager] Recording frame 4860 (79,1s): player_valid=True, enemies=10
[18:23:25] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-125.6°, current=-125.4°, player=(4916,3746), corner_timer=0.00
[18:23:25] [INFO] [ReplayManager] Recording frame 4920 (80,1s): player_valid=True, enemies=10
[18:23:26] [INFO] [ReplayManager] Recording frame 4980 (81,1s): player_valid=True, enemies=10
[18:23:27] [INFO] [ReplayManager] Recording frame 5040 (82,1s): player_valid=True, enemies=10
[18:23:27] [ENEMY] [GuardEnemy5] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=3.8°, current=-44.4°, player=(5198,4449), corner_timer=0.00
[18:23:27] [ENEMY] [GuardEnemy5] State: IDLE -> COMBAT
[18:23:27] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=4.2°, current=-23.0°, player=(5198,4482), corner_timer=0.00
[18:23:28] [ENEMY] [GuardEnemy5] State: COMBAT -> PURSUING
[18:23:28] [INFO] [ReplayManager] Recording frame 5100 (83,1s): player_valid=True, enemies=10
[18:23:29] [INFO] [ReplayManager] Recording frame 5160 (84,1s): player_valid=True, enemies=10
[18:23:29] [ENEMY] [GuardEnemy5] Warning: No valid flank position (both sides behind walls)
[18:23:29] [ENEMY] [GuardEnemy5] FLANKING started: target=(5297.24, 4565.952), side=right, pos=(1564.668, 4214.659)
[18:23:29] [ENEMY] [GuardEnemy5] State: PURSUING -> FLANKING
[18:23:29] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:30] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:30] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:30] [INFO] [ReplayManager] Recording frame 5220 (85,1s): player_valid=True, enemies=10
[18:23:30] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:31] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:31] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:31] [INFO] [ReplayManager] Recording frame 5280 (86,1s): player_valid=True, enemies=10
[18:23:31] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:32] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:32] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:32] [INFO] [ReplayManager] Recording frame 5340 (87,1s): player_valid=True, enemies=10
[18:23:32] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:33] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:33] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:33] [INFO] [ReplayManager] Recording frame 5400 (88,1s): player_valid=True, enemies=10
[18:23:33] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:34] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:34] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:34] [INFO] [ReplayManager] Recording frame 5460 (89,1s): player_valid=True, enemies=10
[18:23:34] [ENEMY] [GuardEnemy5] FLANKING timeout (5.0s), target=(5429.757, 4469.858), pos=(3161.6, 4313.588)
[18:23:34] [ENEMY] [GuardEnemy5] State: FLANKING -> PURSUING
[18:23:34] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle -86.5°
[18:23:35] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle -86.5°
[18:23:35] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle -86.5°
[18:23:35] [INFO] [ReplayManager] Recording frame 5520 (90,1s): player_valid=True, enemies=10
[18:23:35] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle -86.5°
[18:23:36] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle -86.5°
[18:23:36] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle -86.5°
[18:23:36] [INFO] [ReplayManager] Recording frame 5580 (91,1s): player_valid=True, enemies=10
[18:23:36] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle -86.5°
[18:23:37] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle -86.5°
[18:23:37] [ENEMY] [GuardEnemy5] Warning: No valid flank position (both sides behind walls)
[18:23:37] [ENEMY] [GuardEnemy5] FLANKING started: target=(5590.729, 4641.59), side=right, pos=(3965.373, 4363.43)
[18:23:37] [ENEMY] [GuardEnemy5] State: PURSUING -> FLANKING
[18:23:37] [INFO] [Player] Invincibility mode: OFF
[18:23:37] [INFO] [ExperimentalSettings] Invincibility mode disabled
[18:23:37] [INFO] [GameManager] Invincibility mode toggled: OFF
[18:23:37] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:37] [INFO] [ReplayManager] Recording frame 5640 (92,1s): player_valid=True, enemies=10
[18:23:37] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.5°
[18:23:38] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.4°
[18:23:38] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.4°
[18:23:38] [INFO] [ReplayManager] Recording frame 5700 (93,1s): player_valid=True, enemies=10
[18:23:38] [INFO] [Player] Invincibility mode: ON
[18:23:38] [INFO] [ExperimentalSettings] Invincibility mode enabled
[18:23:38] [INFO] [GameManager] Invincibility mode toggled: ON
[18:23:38] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.4°
[18:23:39] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -86.4°
[18:23:39] [INFO] [Player.Debug] Debug mode toggled: ON
[18:23:39] [INFO] [GameManager] Debug mode toggled: ON
[18:23:39] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -108.2°
[18:23:39] [INFO] [ReplayManager] Recording frame 5760 (94,1s): player_valid=True, enemies=10
[18:23:39] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -104.6°
[18:23:40] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=29.1°, current=8.7°, player=(5639,4835), corner_timer=0.07
[18:23:40] [ENEMY] [GuardEnemy5] State: FLANKING -> COMBAT
[18:23:40] [INFO] [ReplayManager] Recording frame 5820 (95,1s): player_valid=True, enemies=10
[18:23:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5088.077, 4495.196), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:41] [INFO] [LastChance] Threat detected: Bullet
[18:23:41] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5113.366, 4522.652), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:41] [INFO] [LastChance] Threat detected: @Area2D@4293
[18:23:41] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:41] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[18:23:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5136.691, 4551.791), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=0
[18:23:41] [INFO] [LastChance] Threat detected: @Area2D@4295
[18:23:41] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5129.5464, 4549.0684), shooter_id=1017605264405, bullet_pos=(5656.275, 5082.9775)
[18:23:41] [INFO] [Bullet] Using shooter_position, distance=750,0013
[18:23:41] [INFO] [Bullet] Distance to wall: 750,0013 (51,068966% of viewport)
[18:23:41] [INFO] [Bullet] Distance-based penetration chance: 87,086205%
[18:23:41] [INFO] [Bullet] Starting wall penetration at (5656.275, 5082.9775)
[18:23:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,374
[18:23:41] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:41] [INFO] [Bullet] Exiting penetration at (5689.0493, 5116.1987) after traveling 41,66667 pixels through wall
[18:23:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5111.026, 4546.869), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5151.251, 4579.085), shooter_id=1017605264405, bullet_pos=(5587.7666, 5082.968)
[18:23:41] [INFO] [Bullet] Using shooter_position, distance=666,6662
[18:23:41] [INFO] [Bullet] Distance to wall: 666,6662 (45,394527% of viewport)
[18:23:41] [INFO] [Bullet] Distance-based penetration chance: 93,70639%
[18:23:41] [INFO] [Bullet] Starting wall penetration at (5587.7666, 5082.968)
[18:23:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,42462
[18:23:41] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:41] [INFO] [Bullet] Exiting penetration at (5618.3228, 5118.2397) after traveling 41,666668 pixels through wall
[18:23:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:41] [INFO] [LastChance] Threat detected: Bullet
[18:23:41] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:41] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:41] [INFO] [Player] Spawning blood effect at (5264.658, 4835.4287), dir=(1, 0), lethal=False (C#)
[18:23:41] [INFO] [ImpactEffects] spawn_blood_effect called at (5264.658, 4835.429), dir=(1, 0), lethal=false
[18:23:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:41] [INFO] [ImpactEffects] Blood effect spawned at (5264.658, 4835.429) (scale=1)
[18:23:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5085.36, 4541.947), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5169.8516, 4610.991), shooter_id=1017605264405, bullet_pos=(5516.926, 5079.834)
[18:23:41] [INFO] [Bullet] Using shooter_position, distance=583,33014
[18:23:41] [INFO] [Bullet] Distance to wall: 583,33014 (39,720024% of viewport)
[18:23:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:23:41] [INFO] [LastChance] Threat detected: @Area2D@4299
[18:23:41] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5059.695, 4537.025), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:41] [INFO] [ReplayManager] Recording frame 5880 (96,1s): player_valid=True, enemies=10
[18:23:41] [INFO] [LastChance] Threat detected: Bullet
[18:23:41] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5034.029, 4532.104), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:41] [INFO] [BloodDecal] Blood puddle created at (5316.047, 4873.242) (added to group)
[18:23:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5113.9243, 4603.6626), shooter_id=1017605264405, bullet_pos=(5430.524, 5093.601)
[18:23:41] [INFO] [Bullet] Using shooter_position, distance=583,33093
[18:23:41] [INFO] [Bullet] Distance to wall: 583,33093 (39,720078% of viewport)
[18:23:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:23:41] [INFO] [Bullet] Starting wall penetration at (5430.524, 5093.601)
[18:23:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,810493
[18:23:41] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:41] [INFO] [Bullet] Exiting penetration at (5455.852, 5132.7964) after traveling 41,66667 pixels through wall
[18:23:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:41] [INFO] [LastChance] Threat detected: @Area2D@4302
[18:23:41] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5085.7944, 4599.8223), shooter_id=1017605264405, bullet_pos=(5351.615, 5071.777)
[18:23:41] [INFO] [Bullet] Using shooter_position, distance=541,66583
[18:23:41] [INFO] [Bullet] Distance to wall: 541,66583 (36,883022% of viewport)
[18:23:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:23:41] [INFO] [Bullet] Starting wall penetration at (5351.615, 5071.777)
[18:23:41] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:41] [INFO] [Player] Spawning blood effect at (5156.936, 4835.4287), dir=(1, 0), lethal=False (C#)
[18:23:41] [INFO] [ImpactEffects] spawn_blood_effect called at (5156.936, 4835.429), dir=(1, 0), lethal=false
[18:23:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:41] [INFO] [ImpactEffects] Blood effect spawned at (5156.936, 4835.429) (scale=1)
[18:23:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5008.364, 4527.181), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,865273
[18:23:41] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:41] [INFO] [Bullet] Exiting penetration at (5374.5166, 5112.4375) after traveling 41,666668 pixels through wall
[18:23:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:41] [INFO] [LastChance] Threat detected: @Area2D@4308
[18:23:41] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:41] [INFO] [BloodDecal] Blood puddle created at (5336.548, 4850.917) (added to group)
[18:23:41] [INFO] [BloodDecal] Blood puddle created at (5352.691, 4868.582) (added to group)
[18:23:41] [INFO] [BloodDecal] Blood puddle created at (5384.706, 4901.739) (added to group)
[18:23:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4974.069, 4516.306), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:41] [INFO] [BloodDecal] Blood puddle created at (5432.989, 4916.895) (added to group)
[18:23:41] [INFO] [BloodDecal] Blood puddle created at (5406.362, 4904.434) (added to group)
[18:23:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5030.6865, 4591.4585), shooter_id=1017605264405, bullet_pos=(5198.4814, 5062.4644)
[18:23:41] [INFO] [Bullet] Using shooter_position, distance=500,00165
[18:23:41] [INFO] [Bullet] Distance to wall: 500,00165 (34,046032% of viewport)
[18:23:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:23:41] [INFO] [Bullet] Starting wall penetration at (5198.4814, 5062.4644)
[18:23:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,066587
[18:23:41] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:41] [INFO] [Bullet] Exiting penetration at (5214.142, 5106.425) after traveling 41,66667 pixels through wall
[18:23:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:41] [INFO] [BloodDecal] Blood puddle created at (5364.878, 4917.981) (added to group)
[18:23:41] [INFO] [BloodDecal] Blood puddle created at (5407.991, 4915.857) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5394.669, 4956.765) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5408.467, 4953.824) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5248.063, 4848.619) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5253.069, 4898.741) (added to group)
[18:23:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4974.067, 4510.523), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4997.9004, 4580.2573), shooter_id=1017605264405, bullet_pos=(5175.381, 5092.0244)
[18:23:42] [INFO] [Bullet] Using shooter_position, distance=541,6686
[18:23:42] [INFO] [Bullet] Distance to wall: 541,6686 (36,88321% of viewport)
[18:23:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5229.507, 4894.712) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5229.114, 4891.108) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5267.101, 4857.848) (added to group)
[18:23:42] [INFO] [LastChance] Threat detected: @Area2D@4325
[18:23:42] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5237.92, 4875.537) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5231.629, 4911.461) (added to group)
[18:23:42] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:42] [INFO] [Player] Spawning blood effect at (5135.936, 4835.4287), dir=(1, 0), lethal=False (C#)
[18:23:42] [INFO] [ImpactEffects] spawn_blood_effect called at (5135.936, 4835.429), dir=(1, 0), lethal=false
[18:23:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:42] [INFO] [ImpactEffects] Blood effect spawned at (5135.936, 4835.429) (scale=1)
[18:23:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4974.066, 4502.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:42] [INFO] [LastChance] Threat detected: Bullet
[18:23:42] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5348.637, 5026.34) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5322.851, 4883.223) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5359.143, 4865.277) (added to group)
[18:23:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4974.066, 4493.494), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4996.7993, 4567.0938), shooter_id=1017605264405, bullet_pos=(5189.146, 5073.459)
[18:23:42] [INFO] [Bullet] Using shooter_position, distance=541,6669
[18:23:42] [INFO] [Bullet] Distance to wall: 541,6669 (36,883095% of viewport)
[18:23:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:23:42] [INFO] [Bullet] Starting wall penetration at (5189.146, 5073.459)
[18:23:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,554457
[18:23:42] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:42] [INFO] [Bullet] Exiting penetration at (5205.7173, 5117.0845) after traveling 41,66667 pixels through wall
[18:23:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:42] [INFO] [ReplayManager] Recording frame 5940 (97,1s): player_valid=True, enemies=10
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5204.398, 4880.41) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5222.579, 4824.256) (added to group)
[18:23:42] [INFO] [LastChance] Threat detected: @Area2D@4338
[18:23:42] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5238.59, 4842.418) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5271.785, 4817.994) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5240.175, 4869.818) (added to group)
[18:23:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4974.067, 4484.137), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5262.565, 4884.758) (added to group)
[18:23:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4996.6597, 4558.157), shooter_id=1017605264405, bullet_pos=(5217.4194, 5098.1074)
[18:23:42] [INFO] [Bullet] Using shooter_position, distance=583,3362
[18:23:42] [INFO] [Bullet] Distance to wall: 583,3362 (39,720432% of viewport)
[18:23:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:23:42] [INFO] [Bullet] Starting wall penetration at (5217.4194, 5098.1074)
[18:23:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48,943474
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5268.932, 4892.273) (added to group)
[18:23:42] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:42] [INFO] [Bullet] Exiting penetration at (5235.08, 5141.303) after traveling 41,666668 pixels through wall
[18:23:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:42] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:23:42] [INFO] [LastChance] Threat detected: Bullet
[18:23:42] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5255.741, 4947.045) (added to group)
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5268.019, 4938.5) (added to group)
[18:23:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4974.066, 4478.797), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:42] [INFO] [BloodDecal] Blood puddle created at (5359.853, 4867.038) (added to group)
[18:23:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5002.1484, 4547.013), shooter_id=1017605264405, bullet_pos=(5321.4478, 5084.296)
[18:23:42] [INFO] [Bullet] Using shooter_position, distance=624,9998
[18:23:42] [INFO] [Bullet] Distance to wall: 624,9998 (42,55739% of viewport)
[18:23:42] [INFO] [Bullet] Distance-based penetration chance: 97,01638%
[18:23:42] [INFO] [Bullet] Starting wall penetration at (5321.4478, 5084.296)
[18:23:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,051704
[18:23:42] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:42] [INFO] [Bullet] Exiting penetration at (5345.2886, 5124.413) after traveling 41,666668 pixels through wall
[18:23:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4974.222, 4452.268), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5009.5166, 4537.8276), shooter_id=1017605264405, bullet_pos=(5452.6704, 5090.419)
[18:23:43] [INFO] [Bullet] Using shooter_position, distance=708,33777
[18:23:43] [INFO] [Bullet] Distance to wall: 708,33777 (48,23202% of viewport)
[18:23:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4996.082, 4465.725), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:43] [INFO] [LastChance] Threat detected: Bullet
[18:23:43] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4977.836, 4447.015), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5014.7715, 4507.636), shooter_id=1017605264405, bullet_pos=(5560.6226, 5081.0317)
[18:23:43] [INFO] [Bullet] Using shooter_position, distance=791,6665
[18:23:43] [INFO] [Bullet] Distance to wall: 791,6665 (53,90603% of viewport)
[18:23:43] [INFO] [Bullet] Distance-based penetration chance: 83,7763%
[18:23:43] [INFO] [Bullet] Starting wall penetration at (5560.6226, 5081.0317)
[18:23:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,00027
[18:23:43] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:43] [INFO] [Bullet] Exiting penetration at (5592.799, 5114.832) after traveling 41,666668 pixels through wall
[18:23:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4995.861, 4465.908), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:43] [INFO] [ReplayManager] Recording frame 6000 (98,1s): player_valid=True, enemies=10
[18:23:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5037.7554, 4519.7856), shooter_id=1017605264405, bullet_pos=(5533.5376, 5082.5405)
[18:23:43] [INFO] [Bullet] Using shooter_position, distance=749,99536
[18:23:43] [INFO] [Bullet] Distance to wall: 749,99536 (51,06856% of viewport)
[18:23:43] [INFO] [Bullet] Distance-based penetration chance: 87,08668%
[18:23:43] [INFO] [Bullet] Starting wall penetration at (5533.5376, 5082.5405)
[18:23:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,72899
[18:23:43] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:43] [INFO] [Bullet] Exiting penetration at (5564.386, 5117.5566) after traveling 41,666668 pixels through wall
[18:23:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4975.234, 4449.864), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4975.973, 4431.086), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:43] [INFO] [LastChance] Threat detected: @Area2D@4363
[18:23:43] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5020.0874, 4500.479), shooter_id=1017605264405, bullet_pos=(5782.726, 5080.8022)
[18:23:43] [INFO] [Bullet] Using shooter_position, distance=958,3281
[18:23:43] [INFO] [Bullet] Distance to wall: 958,3281 (65,254326% of viewport)
[18:23:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5038.1274, 4519.2554), shooter_id=1017605264405, bullet_pos=(5535.1313, 5080.938)
[18:23:43] [INFO] [Bullet] Using shooter_position, distance=750,0002
[18:23:43] [INFO] [Bullet] Distance to wall: 750,0002 (51,068897% of viewport)
[18:23:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4952.338, 4425.623), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5017.8394, 4502.983), shooter_id=1017605264405, bullet_pos=(5552.9473, 5086.4165)
[18:23:43] [INFO] [Bullet] Using shooter_position, distance=791,66614
[18:23:43] [INFO] [Bullet] Distance to wall: 791,66614 (53,906006% of viewport)
[18:23:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5020.0874, 4500.479), shooter_id=1017605264405, bullet_pos=(6088.8135, 4892.888)
[18:23:43] [INFO] [Bullet] Using shooter_position, distance=1138,4904
[18:23:43] [INFO] [Bullet] Distance to wall: 1138,4904 (77,521904% of viewport)
[18:23:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4926.307, 4423.323), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:44] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-104.6°, current=42.8°, player=(5364,4835), corner_timer=0.00
[18:23:44] [INFO] [LastChance] Threat detected: @Area2D@4368
[18:23:44] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5017.206, 4485.1934), shooter_id=1017605264405, bullet_pos=(5489.3896, 5067.8906)
[18:23:44] [INFO] [Bullet] Using shooter_position, distance=749,9956
[18:23:44] [INFO] [Bullet] Distance to wall: 749,9956 (51,06858% of viewport)
[18:23:44] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:44] [INFO] [Player] Spawning blood effect at (5364.9917, 4830.4287), dir=(1, 0), lethal=False (C#)
[18:23:44] [INFO] [ImpactEffects] spawn_blood_effect called at (5364.992, 4830.429), dir=(1, 0), lethal=false
[18:23:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:44] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:44] [INFO] [ImpactEffects] Blood effect spawned at (5364.992, 4830.429) (scale=1)
[18:23:44] [INFO] [LastChance] Threat detected: @Area2D@4373
[18:23:44] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:44] [ENEMY] [GuardEnemy5] State: RETREATING -> IN_COVER
[18:23:44] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:44] [INFO] [Player] Spawning blood effect at (5364.9917, 4809.4287), dir=(1, 0), lethal=False (C#)
[18:23:44] [INFO] [ImpactEffects] spawn_blood_effect called at (5364.992, 4809.429), dir=(1, 0), lethal=false
[18:23:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:44] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:44] [INFO] [ImpactEffects] Blood effect spawned at (5364.992, 4809.429) (scale=1)
[18:23:44] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:23:44] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[18:23:44] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> IN_COVER
[18:23:44] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:23:44] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[18:23:44] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> IN_COVER
[18:23:44] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5440.556, 4861.901) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5432.151, 4851.828) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5435.197, 4855.663) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5451.948, 4824.63) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5439.191, 4812.204) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5457.176, 4883.007) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5470.034, 4818.054) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5440.443, 4834.466) (added to group)
[18:23:44] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5461.244, 4831.191) (added to group)
[18:23:44] [INFO] [ReplayManager] Recording frame 6060 (99,1s): player_valid=True, enemies=10
[18:23:44] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> IN_COVER
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5453.803, 4869.021) (added to group)
[18:23:44] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5488.969, 4833.583) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5522.865, 4958.864) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5433.63, 4826.696) (added to group)
[18:23:44] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5472.393, 4960.174) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5467.278, 4902.381) (added to group)
[18:23:44] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> IN_COVER
[18:23:44] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5457.928, 4893.784) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5508.323, 4938.691) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5462.435, 4885.018) (added to group)
[18:23:44] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[18:23:44] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> IN_COVER
[18:23:44] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5475.271, 4889.244) (added to group)
[18:23:44] [INFO] [BloodDecal] Blood puddle created at (5599.013, 4912.092) (added to group)
[18:23:45] [INFO] [ReplayManager] Recording frame 6120 (100,1s): player_valid=True, enemies=10
[18:23:45] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:23:46] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> IN_COVER
[18:23:46] [INFO] [ReplayManager] Recording frame 6180 (101,1s): player_valid=True, enemies=10
[18:23:46] [ENEMY] [GuardEnemy5] State: IN_COVER -> PURSUING
[18:23:46] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=31.8°, current=-104.6°, player=(5130,4611), corner_timer=0.00
[18:23:47] [INFO] [ReplayManager] Recording frame 6240 (102,1s): player_valid=True, enemies=10
[18:23:48] [ENEMY] [GuardEnemy5] PURSUING corner check: angle -118.8°
[18:23:48] [INFO] [ReplayManager] Recording frame 6300 (103,1s): player_valid=True, enemies=10
[18:23:48] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=46.6°, current=95.8°, player=(5130,4611), corner_timer=-0.02
[18:23:48] [ENEMY] [GuardEnemy5] State: PURSUING -> COMBAT
[18:23:49] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=47.1°, current=113.0°, player=(5130,4611), corner_timer=-0.02
[18:23:49] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=49.2°, current=98.1°, player=(5130,4609), corner_timer=-0.02
[18:23:49] [INFO] [ReplayManager] Recording frame 6360 (104,1s): player_valid=True, enemies=10
[18:23:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4973.719, 4424.871), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:49] [INFO] [LastChance] Threat detected: Bullet
[18:23:49] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:49] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:49] [INFO] [Player] Spawning blood effect at (5130.436, 4470.8174), dir=(1, 0), lethal=False (C#)
[18:23:49] [INFO] [ImpactEffects] spawn_blood_effect called at (5130.436, 4470.817), dir=(1, 0), lethal=false
[18:23:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:49] [INFO] [ImpactEffects] Blood effect spawned at (5130.436, 4470.817) (scale=1)
[18:23:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4973.719, 4424.871), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:49] [INFO] [LastChance] Threat detected: Bullet
[18:23:49] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:49] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:49] [INFO] [Player] Spawning blood effect at (5130.436, 4470.8174), dir=(1, 0), lethal=False (C#)
[18:23:49] [INFO] [ImpactEffects] spawn_blood_effect called at (5130.436, 4470.817), dir=(1, 0), lethal=false
[18:23:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:49] [INFO] [ImpactEffects] Blood effect spawned at (5130.436, 4470.817) (scale=1)
[18:23:50] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[18:23:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5130.436, 4476.817), source=PLAYER (MakarovPM), range=1469, listeners=3
[18:23:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=1
[18:23:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4973.719, 4424.871), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:50] [INFO] [LastChance] Threat detected: Bullet
[18:23:50] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:50] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:50] [INFO] [Player] Spawning blood effect at (5130.436, 4470.8174), dir=(1, 0), lethal=False (C#)
[18:23:50] [INFO] [ImpactEffects] spawn_blood_effect called at (5130.436, 4470.817), dir=(1, 0), lethal=false
[18:23:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:50] [INFO] [ImpactEffects] Blood effect spawned at (5130.436, 4470.817) (scale=1)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5198.018, 4451.581) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5181.313, 4473.035) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5198.455, 4482.193) (added to group)
[18:23:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4949.418, 4415.265), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:50] [INFO] [LastChance] Threat detected: Bullet
[18:23:50] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5130.436, 4476.817), source=PLAYER (MakarovPM), range=1469, listeners=3
[18:23:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=1
[18:23:50] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:50] [INFO] [Player] Spawning blood effect at (5130.436, 4470.8174), dir=(1, 0), lethal=False (C#)
[18:23:50] [INFO] [ImpactEffects] spawn_blood_effect called at (5130.436, 4470.817), dir=(1, 0), lethal=false
[18:23:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:50] [INFO] [ImpactEffects] Blood effect spawned at (5130.436, 4470.817) (scale=1)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5201.481, 4493.168) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5208.141, 4479.543) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5173.94, 4506.582) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5185.327, 4477.849) (added to group)
[18:23:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4924.602, 4407.084), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:50] [INFO] [LastChance] Threat detected: Bullet
[18:23:50] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5216.65, 4508.763) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5184.619, 4500.227) (added to group)
[18:23:50] [ENEMY] [GuardEnemy5] Hit: dmg=1, hp=4/4->3/4
[18:23:50] [INFO] [ImpactEffects] spawn_blood_effect called at (4902.939, 4401.398), dir=(-0.930309, -0.366778), lethal=false
[18:23:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:50] [INFO] [ImpactEffects] Blood effect spawned at (4902.939, 4401.398) (scale=0.5)
[18:23:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4899.295, 4400.585), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5292.382, 4531.709) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5215.216, 4496.925) (added to group)
[18:23:50] [INFO] [LastChance] Threat detected: @Area2D@4434
[18:23:50] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5262.757, 4490.631) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5239.203, 4521.152) (added to group)
[18:23:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5130.436, 4476.817), source=PLAYER (MakarovPM), range=1469, listeners=3
[18:23:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=1
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5257.614, 4558.556) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5180.315, 4458.904) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5213.729, 4478.666) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5242.375, 4471.791) (added to group)
[18:23:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4873.768, 4400.471), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5252.032, 4596.705) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5235.258, 4538.444) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5225.657, 4555.881) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5257.254, 4471.855) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5184.022, 4503.688) (added to group)
[18:23:50] [INFO] [LastChance] Threat detected: @Area2D@4448
[18:23:50] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:50] [INFO] [ReplayManager] Recording frame 6420 (105,1s): player_valid=True, enemies=10
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5227.217, 4563.536) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5281.877, 4497.333) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5215.731, 4539.584) (added to group)
[18:23:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5130.436, 4476.817), source=PLAYER (MakarovPM), range=1469, listeners=3
[18:23:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=1
[18:23:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4848.107, 4401.179), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5318.584, 4568.044) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5280.243, 4472.944) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5234.239, 4490.176) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5304.89, 4658.399) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5251.009, 4576.101) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5267.135, 4580.889) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (4833.303, 4424.375) (added to group)
[18:23:50] [INFO] [LastChance] Threat detected: @Area2D@4464
[18:23:50] [INFO] [LastChance] Not in hard mode - effect disabled
[18:23:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:23:50] [ENEMY] [SniperEnemy2] Hit: dmg=1, hp=3/3->2/3
[18:23:50] [INFO] [ImpactEffects] spawn_blood_effect called at (5600, 4700), dir=(1, 0), lethal=false
[18:23:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:50] [INFO] [ImpactEffects] Blood effect spawned at (5600, 4700) (scale=1)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5326.137, 4607.231) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5235.916, 4539.425) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5279.267, 4459.826) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5239.938, 4558.545) (added to group)
[18:23:50] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:50] [INFO] [Player] Spawning blood effect at (5130.436, 4470.8174), dir=(1, 0), lethal=False (C#)
[18:23:50] [INFO] [ImpactEffects] spawn_blood_effect called at (5130.436, 4470.817), dir=(1, 0), lethal=false
[18:23:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:50] [INFO] [ImpactEffects] Blood effect spawned at (5130.436, 4470.817) (scale=1)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5251.954, 4611.407) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5303.877, 4502.071) (added to group)
[18:23:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4986.8716, 4434.5303), shooter_id=1017605264405, bullet_pos=(6097.9585, 4610.953)
[18:23:50] [INFO] [Bullet] Using shooter_position, distance=1125,0062
[18:23:50] [INFO] [Bullet] Distance to wall: 1125,0062 (76,603745% of viewport)
[18:23:50] [INFO] [Bullet] Distance-based penetration chance: 57,29563%
[18:23:50] [INFO] [Bullet] Starting wall penetration at (6097.9585, 4610.953)
[18:23:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48,64973
[18:23:50] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:50] [INFO] [Bullet] Exiting penetration at (6144.048, 4618.2715) after traveling 41,66667 pixels through wall
[18:23:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5343.784, 4626.841) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5285.293, 4606.432) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (4784.074, 4391.852) (added to group)
[18:23:50] [INFO] [BloodyFeet:GuardEnemy5] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5237.549, 4607.415) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (4815.321, 4427.591) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (4762.079, 4407.594) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (4795.808, 4415.522) (added to group)
[18:23:50] [INFO] [BloodDecal] Blood puddle created at (5185.615, 4470.05) (added to group)
[18:23:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4936.954, 4425.8765), shooter_id=1017605264405, bullet_pos=(6084.493, 4804.321)
[18:23:51] [INFO] [Bullet] Using shooter_position, distance=1208,3319
[18:23:51] [INFO] [Bullet] Distance to wall: 1208,3319 (82,27754% of viewport)
[18:23:51] [INFO] [Bullet] Distance-based penetration chance: 50,6762%
[18:23:51] [INFO] [Bullet] Penetration failed (distance roll)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5697.99, 4747.78) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5666.945, 4741.937) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5697.505, 4758.348) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5230.587, 4521.985) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (4815.411, 4406.118) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5667.436, 4758.179) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5726.417, 4712.273) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5681.312, 4742.102) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5684.06, 4747.521) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5207.598, 4483.945) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5753.295, 4720.603) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5735.754, 4747.879) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5228.66, 4552.371) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5703.45, 4798.639) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5244.603, 4547.601) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5235.336, 4558.791) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5298.733, 4593.427) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5305.113, 4610.64) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5312.206, 4652.522) (added to group)
[18:23:51] [INFO] [BloodDecal] Blood puddle created at (5337.38, 4608.281) (added to group)
[18:23:51] [INFO] [ReplayManager] Recording frame 6480 (106,1s): player_valid=True, enemies=10
[18:23:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4898.908, 4409.919), source=PLAYER (MakarovPM), range=1469, listeners=3
[18:23:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=1
[18:23:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4859.908, 4409.919), source=PLAYER (MakarovPM), range=1469, listeners=3
[18:23:51] [ENEMY] [GuardEnemy5] Heard gunshot at (4859.908, 4409.919), source_type=0, intensity=0.32, distance=89
[18:23:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=1
[18:23:51] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[18:23:51] [ENEMY] [GuardEnemy5] Hit: dmg=1, hp=3/4->2/4
[18:23:51] [INFO] [ImpactEffects] spawn_blood_effect called at (4771.068, 4420.356), dir=(-0.998692, -0.051137), lethal=false
[18:23:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:51] [INFO] [ImpactEffects] Blood effect spawned at (4771.068, 4420.356) (scale=0.5)
[18:23:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5130.436, 4476.817), shooter_id=1018360239170, bullet_pos=(3637.416, 3899.725)
[18:23:52] [INFO] [Bullet] Using shooter_position, distance=1600.67053222656
[18:23:52] [INFO] [Bullet] Distance to wall: 1600.67053222656 (108.992599912875% of viewport)
[18:23:52] [INFO] [Bullet] Distance-based penetration chance: 28.2014800174249%
[18:23:52] [INFO] [Bullet] Caliber cannot penetrate walls
[18:23:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5130.436, 4476.817), shooter_id=1018360239170, bullet_pos=(3700.083, 3877.926)
[18:23:52] [INFO] [Bullet] Using shooter_position, distance=1550.67138671875
[18:23:52] [INFO] [Bullet] Distance to wall: 1550.67138671875 (105.588066154927% of viewport)
[18:23:52] [INFO] [Bullet] Distance-based penetration chance: 28.8823867690146%
[18:23:52] [INFO] [Bullet] Caliber cannot penetrate walls
[18:23:52] [INFO] [BloodDecal] Blood puddle created at (4698.282, 4443.583) (added to group)
[18:23:52] [INFO] [BloodDecal] Blood puddle created at (4720.838, 4422.978) (added to group)
[18:23:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4857.353, 4414.919), source=PLAYER (MakarovPM), range=1469, listeners=3
[18:23:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=1
[18:23:52] [INFO] [BloodDecal] Blood puddle created at (4708.31, 4436.418) (added to group)
[18:23:52] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=171.6°, current=135.3°, player=(4857,4408), corner_timer=-0.02
[18:23:52] [INFO] [BloodDecal] Blood puddle created at (4691.873, 4444.717) (added to group)
[18:23:52] [INFO] [BloodDecal] Blood puddle created at (4698.193, 4448.207) (added to group)
[18:23:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4857.353, 4423.142), source=PLAYER (MakarovPM), range=1469, listeners=3
[18:23:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=1
[18:23:52] [INFO] [ReplayManager] Recording frame 6540 (107,1s): player_valid=True, enemies=10
[18:23:52] [ENEMY] [GuardEnemy5] State: RETREATING -> IN_COVER
[18:23:52] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:23:52] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:23:53] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-159.9°, current=-159.8°, player=(4827,4417), corner_timer=0.00
[18:23:53] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[18:23:53] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> IN_COVER
[18:23:53] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:23:53] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[18:23:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=39.9°, current=39.9°, player=(4680,4418), corner_timer=0.18
[18:23:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=40.0°, current=40.0°, player=(4670,4420), corner_timer=0.18
[18:23:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=40.0°, current=40.0°, player=(4665,4421), corner_timer=0.18
[18:23:53] [INFO] [ReplayManager] Recording frame 6600 (108,1s): player_valid=True, enemies=10
[18:23:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=40.2°, current=40.1°, player=(4652,4427), corner_timer=0.18
[18:23:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=40.2°, current=40.2°, player=(4648,4430), corner_timer=0.18
[18:23:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=40.3°, current=40.3°, player=(4640,4435), corner_timer=0.18
[18:23:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4615.282, 4463.469), source=PLAYER (MakarovPM), range=1469, listeners=3
[18:23:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=1
[18:23:54] [ENEMY] [GuardEnemy5] Hit: dmg=1, hp=2/4->1/4
[18:23:54] [INFO] [ImpactEffects] spawn_blood_effect called at (4615.008, 4550.265), dir=(0.008053, 0.999968), lethal=false
[18:23:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:54] [INFO] [ImpactEffects] Blood effect spawned at (4615.008, 4550.265) (scale=0.5)
[18:23:54] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=-89.8°, current=-90.5°, player=(4615,4457), corner_timer=-0.02
[18:23:54] [ENEMY] [SniperEnemy1] Player ammo empty: false -> true
[18:23:54] [ENEMY] [SniperEnemy2] Player ammo empty: false -> true
[18:23:54] [ENEMY] [GuardEnemy5] Player ammo empty: false -> true
[18:23:54] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4615.282, 4457.469), source=PLAYER (Player), range=600, listeners=3
[18:23:54] [ENEMY] [GuardEnemy5] Heard player EMPTY_CLICK at (4615.282, 4457.469), intensity=0.29, distance=93
[18:23:54] [ENEMY] [GuardEnemy5] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[18:23:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[18:23:54] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=5963), can_see=false
[18:23:54] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1014), can_see=false
[18:23:54] [ENEMY] [GuardEnemy5] Player empty ammo - priority attack triggered
[18:23:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4615.008, 4550.265), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:54] [ENEMY] [GuardEnemy5] Pursuing vulnerability sound at (4615.282, 4457.469), distance=93
[18:23:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:54] [INFO] [Player] Spawning blood effect at (4615.282, 4457.4688), dir=(1, 0), lethal=False (C#)
[18:23:54] [INFO] [ImpactEffects] spawn_blood_effect called at (4615.282, 4457.469), dir=(1, 0), lethal=false
[18:23:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:54] [INFO] [ImpactEffects] Wall found for blood splatter at (4649.95, 4457.469) (dist=34 px)
[18:23:54] [INFO] [BloodDecal] Blood puddle created at (4648.95, 4457.469) (added to group)
[18:23:54] [INFO] [ImpactEffects] Blood effect spawned at (4615.282, 4457.469) (scale=1)
[18:23:54] [INFO] [BloodDecal] Blood puddle created at (4629.366, 4599.585) (added to group)
[18:23:54] [INFO] [BloodDecal] Blood puddle created at (4594.059, 4619.086) (added to group)
[18:23:54] [ENEMY] [GuardEnemy5] Player empty ammo - priority attack triggered
[18:23:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4615.102, 4518.264), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:54] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4615.282, 4457.469), source=PLAYER (Player), range=600, listeners=3
[18:23:54] [ENEMY] [GuardEnemy5] Heard player EMPTY_CLICK at (4615.282, 4457.469), intensity=0.81, distance=55
[18:23:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[18:23:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:54] [INFO] [Player] Spawning blood effect at (4615.282, 4457.4688), dir=(1, 0), lethal=False (C#)
[18:23:54] [INFO] [ImpactEffects] spawn_blood_effect called at (4615.282, 4457.469), dir=(1, 0), lethal=false
[18:23:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:54] [INFO] [ImpactEffects] Wall found for blood splatter at (4649.95, 4457.469) (dist=34 px)
[18:23:54] [INFO] [BloodDecal] Blood puddle created at (4648.95, 4457.469) (added to group)
[18:23:54] [INFO] [ImpactEffects] Blood effect spawned at (4615.282, 4457.469) (scale=1)
[18:23:54] [ENEMY] [GuardEnemy5] State: PURSUING -> COMBAT
[18:23:54] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[18:23:54] [INFO] [ReplayManager] Recording frame 6660 (109,1s): player_valid=True, enemies=10
[18:23:54] [ENEMY] [GuardEnemy5] Player empty ammo - priority attack triggered
[18:23:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4618.336, 4495.896), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4621.384, 4500.271), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:54] [INFO] [BloodDecal] Blood puddle created at (4592.999, 4741.17) (added to group)
[18:23:54] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=69.4°, current=-153.4°, player=(4615,4457), corner_timer=-0.02
[18:23:54] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=46), can_see=false
[18:23:54] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4615.282, 4457.469), source=PLAYER (Player), range=600, listeners=3
[18:23:54] [ENEMY] [GuardEnemy5] Heard player EMPTY_CLICK at (4615.282, 4457.469), intensity=0.87, distance=54
[18:23:54] [ENEMY] [GuardEnemy5] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:23:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[18:23:54] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-100.7°, current=-159.9°, player=(4615,4457), corner_timer=-0.02
[18:23:54] [INFO] [BloodDecal] Blood puddle created at (4567.863, 4717.607) (added to group)
[18:23:54] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-102.6°, current=-82.3°, player=(4615,4457), corner_timer=-0.02
[18:23:54] [ENEMY] [GuardEnemy5] Player empty ammo - priority attack triggered
[18:23:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4625.934, 4505.024), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:54] [ENEMY] [GuardEnemy5] State: PURSUING -> COMBAT
[18:23:54] [INFO] [BloodDecal] Blood puddle created at (4649.981, 4696.771) (added to group)
[18:23:54] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[18:23:54] [INFO] [BloodDecal] Blood puddle created at (4551.009, 4787.541) (added to group)
[18:23:54] [INFO] [BloodDecal] Blood puddle created at (4625.298, 4809.196) (added to group)
[18:23:54] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=90.0°, current=-165.4°, player=(4615,4457), corner_timer=-0.02
[18:23:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4605.2056, 4429.126), shooter_id=1017605264405, bullet_pos=(4550.893, 3764.6748)
[18:23:54] [INFO] [Bullet] Using shooter_position, distance=666,66724
[18:23:54] [INFO] [Bullet] Distance to wall: 666,66724 (45,3946% of viewport)
[18:23:54] [INFO] [Bullet] Distance-based penetration chance: 93,70631%
[18:23:54] [INFO] [Bullet] Starting wall penetration at (4550.893, 3764.6748)
[18:23:54] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=5962), can_see=false
[18:23:54] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1014), can_see=false
[18:23:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:23:54] [INFO] [Bullet] Exiting penetration at (4547.0913, 3718.1633) after traveling 41,66667 pixels through wall
[18:23:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:54] [INFO] [BloodDecal] Blood puddle created at (4574.023, 4822.283) (added to group)
[18:23:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4603.5474, 4440.7637), shooter_id=1017605264405, bullet_pos=(4501.512, 3951.2842)
[18:23:54] [INFO] [Bullet] Using shooter_position, distance=500,00134
[18:23:54] [INFO] [Bullet] Distance to wall: 500,00134 (34,046013% of viewport)
[18:23:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:23:54] [INFO] [Bullet] Starting wall penetration at (4501.512, 3951.2842)
[18:23:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,01082
[18:23:54] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:54] [INFO] [Bullet] Exiting penetration at (4491.989, 3905.5996) after traveling 41,666668 pixels through wall
[18:23:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4605.4155, 4437.7656), shooter_id=1017605264405, bullet_pos=(4320.318, 3654.7188)
[18:23:54] [INFO] [Bullet] Using shooter_position, distance=833,3325
[18:23:54] [INFO] [Bullet] Distance to wall: 833,3325 (56,743145% of viewport)
[18:23:54] [INFO] [Bullet] Distance-based penetration chance: 80,46633%
[18:23:54] [INFO] [Bullet] Starting wall penetration at (4320.318, 3654.7188)
[18:23:54] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:23:54] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:23:54] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:23:54] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[18:23:54] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(4615.282, 4457.469), source=PLAYER (Player), range=900, listeners=3
[18:23:54] [ENEMY] [GuardEnemy5] Heard player RELOAD at (4615.282, 4457.469), intensity=0.36, distance=83
[18:23:54] [ENEMY] [GuardEnemy5] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:23:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[18:23:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,644684
[18:23:54] [INFO] [Bullet] Body exited signal received for penetrating body
[18:23:54] [INFO] [Bullet] Exiting penetration at (4304.3525, 3610.8682) after traveling 41,666668 pixels through wall
[18:23:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:23:54] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-90.9°, current=90.3°, player=(4615,4457), corner_timer=-0.02
[18:23:55] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-93.5°, current=-60.8°, player=(4615,4457), corner_timer=-0.02
[18:23:55] [ENEMY] [GuardEnemy5] Player reloading - priority attack triggered
[18:23:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4620.108, 4536.331), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:23:55] [INFO] [Player] Spawning blood effect at (4615.282, 4457.4688), dir=(1, 0), lethal=False (C#)
[18:23:55] [INFO] [ImpactEffects] spawn_blood_effect called at (4615.282, 4457.469), dir=(1, 0), lethal=false
[18:23:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:23:55] [INFO] [ImpactEffects] Wall found for blood splatter at (4649.95, 4457.469) (dist=34 px)
[18:23:55] [INFO] [BloodDecal] Blood puddle created at (4648.95, 4457.469) (added to group)
[18:23:55] [INFO] [ImpactEffects] Blood effect spawned at (4615.282, 4457.469) (scale=1)
[18:23:55] [INFO] [BloodyFeet:GuardEnemy5] Blood ran out - no more footprints
[18:23:55] [ENEMY] [GuardEnemy5] State: PURSUING -> COMBAT
[18:23:55] [ENEMY] [GuardEnemy5] Player reloading - priority attack triggered
[18:23:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4617.408, 4501.557), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[18:23:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:23:55] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[18:23:55] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=68.2°, current=-154.3°, player=(4615,4457), corner_timer=-0.02
[18:23:55] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=true (dist=36), can_see=false
[18:23:55] [INFO] [Player.Reload.Anim] LeftArm: pos=(-3.9818888, 2.0036223), target=(-4, 2), base=(16, 6)
[18:23:55] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9999998, 6), target=(4, 6), base=(4, 6)
[18:23:55] [INFO] [Player.Reload.Anim] LeftArm: pos=(-3.9894352, 2.002113), target=(-4, 2), base=(16, 6)
[18:23:55] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9999998, 6), target=(4, 6), base=(4, 6)
[18:23:55] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=5962), can_see=false
[18:23:55] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1014), can_see=false
[18:23:55] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:23:55] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:23:55] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:23:55] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[18:23:55] [ENEMY] [SniperEnemy1] Player ammo empty: true -> false
[18:23:55] [ENEMY] [SniperEnemy2] Player ammo empty: true -> false
[18:23:55] [ENEMY] [GuardEnemy5] Player ammo empty: true -> false
[18:23:55] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:23:55] [INFO] [BloodyFeet:GuardEnemy5] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:23:55] [INFO] [ReplayManager] Recording frame 6720 (110,1s): player_valid=True, enemies=10
[18:23:55] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:23:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4615.282, 4463.469), source=PLAYER (MakarovPM), range=1469, listeners=3
[18:23:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=1
[18:23:55] [ENEMY] [GuardEnemy5] Hit: dmg=1, hp=1/4->0/4
[18:23:55] [INFO] [ImpactEffects] spawn_blood_effect called at (4618.449, 4640.469), dir=(-0.070729, 0.997496), lethal=true
[18:23:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:23:55] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:23:55] [INFO] [ImpactEffects] Blood effect spawned at (4618.449, 4640.469) (scale=0.75)
[18:23:55] [ENEMY] [GuardEnemy5] Enemy died (ricochet: false, penetration: false)
[18:23:55] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:23:55] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:23:55] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:23:55] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:23:55] [INFO] [PowerFantasy]   - Duration: 300ms
[18:23:55] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy5 (remaining: 2)
[18:23:55] [INFO] [DeathAnim] Started - Angle: 94.1 deg, Index: 18
[18:23:55] [ENEMY] [GuardEnemy5] Death animation started with hit direction: (-0.070729, 0.997496)
[18:23:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4615.282, 4463.469), source=PLAYER (MakarovPM), range=1469, listeners=2
[18:23:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=1
[18:23:56] [INFO] [PowerFantasy] Effect duration expired after 303.00 ms
[18:23:56] [INFO] [PowerFantasy] Ending power fantasy effect
[18:23:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4606.3613, 4434.411), shooter_id=1017605264405, bullet_pos=(4470.99, 1946.4232)
[18:23:56] [INFO] [Bullet] Using shooter_position, distance=2491,668
[18:23:56] [INFO] [Bullet] Distance to wall: 2491,668 (169,66226% of viewport)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4598.332, 4695.072) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4617.025, 4702.309) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4590.051, 4753.112) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4567.93, 4751.49) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4583.947, 4726.307) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4569.073, 4768.572) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4590.805, 4774.156) (added to group)
[18:23:56] [INFO] [ReplayManager] Recording frame 6780 (110,9s): player_valid=True, enemies=10
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4550.919, 4820.057) (added to group)
[18:23:56] [ENEMY] [GuardEnemy5] Ragdoll activated
[18:23:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4632.184, 4823.721) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4602.015, 4850.052) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4653.661, 4817.856) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4562.349, 4850.555) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4625.646, 4808.359) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4531.924, 4873.025) (added to group)
[18:23:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4615.282, 4463.469), shooter_id=1018360239170, bullet_pos=(4590.669, 5068.636)
[18:23:56] [INFO] [Bullet] Using shooter_position, distance=605.667297363281
[18:23:56] [INFO] [Bullet] Distance to wall: 605.667297363281 (41.24100000142% of viewport)
[18:23:56] [INFO] [Bullet] Distance-based penetration chance: 98.55216666501%
[18:23:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4580.298, 4854.197) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4591.773, 4830.11) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4575.381, 4906.737) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4579.283, 4943.635) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4546.8, 4922.782) (added to group)
[18:23:56] [INFO] [BloodDecal] Blood puddle created at (4546.539, 4892.874) (added to group)
[18:23:57] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=40.1°, current=40.2°, player=(4632,4413), corner_timer=0.18
[18:23:57] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=40.0°, current=40.1°, player=(4639,4407), corner_timer=0.18
[18:23:57] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=40.0°, current=40.0°, player=(4643,4405), corner_timer=0.18
[18:23:57] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=39.9°, current=39.9°, player=(4653,4399), corner_timer=0.18
[18:23:57] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=39.9°, current=39.9°, player=(4656,4397), corner_timer=0.18
[18:23:57] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=39.8°, current=39.8°, player=(4664,4392), corner_timer=0.18
[18:23:57] [ENEMY] [GuardEnemy5] Death animation completed
[18:23:57] [INFO] [ReplayManager] Recording frame 6840 (111,9s): player_valid=True, enemies=10
[18:23:58] [INFO] [ReplayManager] Recording frame 6900 (112,9s): player_valid=True, enemies=10
[18:23:59] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-159.7°, current=-159.8°, player=(4728,4376), corner_timer=0.00
[18:23:59] [INFO] [ReplayManager] Recording frame 6960 (113,9s): player_valid=True, enemies=10
[18:23:59] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-159.9°, current=-159.8°, player=(4746,4386), corner_timer=0.00
[18:24:00] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-159.7°, current=-159.9°, player=(4810,4408), corner_timer=0.00
[18:24:00] [INFO] [ReplayManager] Recording frame 7020 (114,9s): player_valid=True, enemies=10
[18:24:01] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[18:24:01] [INFO] [ReplayManager] Recording frame 7080 (115,9s): player_valid=True, enemies=10
[18:24:02] [INFO] [ReplayManager] Recording frame 7140 (116,9s): player_valid=True, enemies=10
[18:24:03] [INFO] [ReplayManager] Recording frame 7200 (117,9s): player_valid=True, enemies=10
[18:24:04] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:24:04] [INFO] [ReplayManager] Recording frame 7260 (118,9s): player_valid=True, enemies=10
[18:24:05] [INFO] [ReplayManager] Recording frame 7320 (119,9s): player_valid=True, enemies=10
[18:24:06] [INFO] [ReplayManager] Recording frame 7380 (120,9s): player_valid=True, enemies=10
[18:24:07] [INFO] [ReplayManager] Recording frame 7440 (121,9s): player_valid=True, enemies=10
[18:24:08] [INFO] [ReplayManager] Recording frame 7500 (122,9s): player_valid=True, enemies=10
[18:24:09] [INFO] [ReplayManager] Recording frame 7560 (123,9s): player_valid=True, enemies=10
[18:24:10] [INFO] [ReplayManager] Recording frame 7620 (124,9s): player_valid=True, enemies=10
[18:24:11] [INFO] [ReplayManager] Recording frame 7680 (125,9s): player_valid=True, enemies=10
[18:24:12] [INFO] [ReplayManager] Recording frame 7740 (126,9s): player_valid=True, enemies=10
[18:24:12] [INFO] [Player.Debug] Debug mode toggled: OFF
[18:24:12] [INFO] [ExperimentalSettings] Debug mode disabled
[18:24:12] [INFO] [GameManager] Debug mode toggled: OFF
[18:24:13] [INFO] [Player.Debug] Debug mode toggled: ON
[18:24:13] [INFO] [ExperimentalSettings] Debug mode enabled
[18:24:13] [INFO] [GameManager] Debug mode toggled: ON
[18:24:13] [INFO] [ReplayManager] Recording frame 7800 (127,9s): player_valid=True, enemies=10
[18:24:14] [INFO] [ReplayManager] Recording frame 7860 (128,9s): player_valid=True, enemies=10
[18:24:15] [INFO] [ReplayManager] Recording frame 7920 (129,9s): player_valid=True, enemies=10
[18:24:16] [INFO] [ReplayManager] Recording frame 7980 (130,9s): player_valid=True, enemies=10
[18:24:16] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=176.6°, current=176.4°, player=(4808,4747), corner_timer=0.00
[18:24:17] [INFO] [ReplayManager] Recording frame 8040 (131,9s): player_valid=True, enemies=10
[18:24:18] [INFO] [ReplayManager] Recording frame 8100 (132,9s): player_valid=True, enemies=10
[18:24:19] [INFO] [ReplayManager] Recording frame 8160 (133,9s): player_valid=True, enemies=10
[18:24:20] [INFO] [ReplayManager] Recording frame 8220 (134,9s): player_valid=True, enemies=10
[18:24:21] [INFO] [ReplayManager] Recording frame 8280 (135,9s): player_valid=True, enemies=10
[18:24:22] [INFO] [ReplayManager] Recording frame 8340 (136,9s): player_valid=True, enemies=10
[18:24:23] [INFO] [ReplayManager] Recording frame 8400 (137,9s): player_valid=True, enemies=10
[18:24:24] [INFO] [ReplayManager] Recording frame 8460 (138,9s): player_valid=True, enemies=10
[18:24:25] [INFO] [ReplayManager] Recording frame 8520 (139,9s): player_valid=True, enemies=10
[18:24:26] [INFO] [ReplayManager] Recording frame 8580 (140,9s): player_valid=True, enemies=10
[18:24:27] [INFO] [ReplayManager] Recording frame 8640 (141,9s): player_valid=True, enemies=10
[18:24:28] [INFO] [ReplayManager] Recording frame 8700 (142,9s): player_valid=True, enemies=10
[18:24:28] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=176.3°, current=176.5°, player=(4790,4752), corner_timer=0.00
[18:24:29] [INFO] [ReplayManager] Recording frame 8760 (143,9s): player_valid=True, enemies=10
[18:24:30] [INFO] [ReplayManager] Recording frame 8820 (144,9s): player_valid=True, enemies=10
[18:24:31] [INFO] [ReplayManager] Recording frame 8880 (145,9s): player_valid=True, enemies=10
[18:24:31] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:24:32] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=176.2°, current=176.0°, player=(4522,4771), corner_timer=0.00
[18:24:32] [INFO] [ReplayManager] Recording frame 8940 (146,8s): player_valid=True, enemies=10
[18:24:33] [INFO] [ReplayManager] Recording frame 9000 (147,8s): player_valid=True, enemies=10
[18:24:34] [INFO] [ReplayManager] Recording frame 9060 (148,8s): player_valid=True, enemies=10
[18:24:35] [INFO] [ReplayManager] Recording frame 9120 (149,8s): player_valid=True, enemies=10
[18:24:36] [INFO] [ReplayManager] Recording frame 9180 (150,8s): player_valid=True, enemies=10
[18:24:37] [INFO] [ReplayManager] Recording frame 9240 (151,8s): player_valid=True, enemies=10
[18:24:38] [INFO] [ReplayManager] Recording frame 9300 (152,8s): player_valid=True, enemies=10
[18:24:39] [INFO] [ReplayManager] Recording frame 9360 (153,8s): player_valid=True, enemies=10
[18:24:40] [INFO] [ReplayManager] Recording frame 9420 (154,8s): player_valid=True, enemies=10
[18:24:41] [INFO] [ReplayManager] Recording frame 9480 (155,8s): player_valid=True, enemies=10
[18:24:42] [INFO] [ReplayManager] Recording frame 9540 (156,8s): player_valid=True, enemies=10
[18:24:43] [INFO] [ReplayManager] Recording frame 9600 (157,8s): player_valid=True, enemies=10
[18:24:44] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=176.1°, current=176.3°, player=(4635,4766), corner_timer=0.00
[18:24:44] [INFO] [ReplayManager] Recording frame 9660 (158,8s): player_valid=True, enemies=10
[18:24:45] [INFO] [ReplayManager] Recording frame 9720 (159,8s): player_valid=True, enemies=10
[18:24:45] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:24:46] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:24:46] [INFO] [ReplayManager] Recording frame 9780 (160,8s): player_valid=True, enemies=10
[18:24:47] [INFO] [ReplayManager] Recording frame 9840 (161,8s): player_valid=True, enemies=10
[18:24:47] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:24:48] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:24:48] [INFO] [ReplayManager] Recording frame 9900 (162,8s): player_valid=True, enemies=10
[18:24:49] [INFO] [ReplayManager] Recording frame 9960 (163,8s): player_valid=True, enemies=10
[18:24:49] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:24:50] [INFO] [ReplayManager] Recording frame 10020 (164,8s): player_valid=True, enemies=10
[18:24:51] [INFO] [ReplayManager] Recording frame 10080 (165,8s): player_valid=True, enemies=10
[18:24:52] [INFO] [ReplayManager] Recording frame 10140 (166,8s): player_valid=True, enemies=10
[18:24:53] [INFO] [ReplayManager] Recording frame 10200 (167,8s): player_valid=True, enemies=10
[18:24:54] [INFO] [ReplayManager] Recording frame 10260 (168,8s): player_valid=True, enemies=10
[18:24:55] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-103.7°, current=-103.7°, player=(5132,2787), corner_timer=0.00
[18:24:55] [INFO] [ReplayManager] Recording frame 10320 (169,8s): player_valid=True, enemies=10
[18:24:56] [INFO] [ReplayManager] Recording frame 10380 (170,8s): player_valid=True, enemies=10
[18:24:56] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-103.6°, current=-103.8°, player=(5066,2503), corner_timer=0.00
[18:24:57] [INFO] [ReplayManager] Recording frame 10440 (171,8s): player_valid=True, enemies=10
[18:24:58] [INFO] [ReplayManager] Recording frame 10500 (172,8s): player_valid=True, enemies=10
[18:24:59] [INFO] [ReplayManager] Recording frame 10560 (173,8s): player_valid=True, enemies=10
[18:25:00] [INFO] [ReplayManager] Recording frame 10620 (174,8s): player_valid=True, enemies=10
[18:25:01] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-103.7°, current=-103.6°, player=(4784,1349), corner_timer=0.00
[18:25:01] [INFO] [ReplayManager] Recording frame 10680 (175,8s): player_valid=True, enemies=10
[18:25:02] [INFO] [ReplayManager] Recording frame 10740 (176,8s): player_valid=True, enemies=10
[18:25:03] [INFO] [ReplayManager] Recording frame 10800 (177,8s): player_valid=True, enemies=10
[18:25:04] [INFO] [ReplayManager] Recording frame 10860 (178,8s): player_valid=True, enemies=10
[18:25:05] [INFO] [ReplayManager] Recording frame 10920 (179,8s): player_valid=True, enemies=10
[18:25:05] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:25:06] [INFO] [ReplayManager] Recording frame 10980 (180,8s): player_valid=True, enemies=10
[18:25:07] [INFO] [ReplayManager] Recording frame 11040 (181,8s): player_valid=True, enemies=10
[18:25:08] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=20.2°, current=20.2°, player=(2670,1692), corner_timer=0.18
[18:25:08] [INFO] [ReplayManager] Recording frame 11100 (182,8s): player_valid=True, enemies=10
[18:25:08] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=22.2°, current=22.1°, player=(2620,1776), corner_timer=0.18
[18:25:09] [INFO] [ReplayManager] Recording frame 11160 (183,8s): player_valid=True, enemies=10
[18:25:10] [INFO] [ReplayManager] Recording frame 11220 (184,8s): player_valid=True, enemies=10
[18:25:10] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=34.2°, current=34.1°, player=(2620,2464), corner_timer=0.18
[18:25:10] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:25:11] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=35.8°, current=35.7°, player=(2620,2574), corner_timer=0.18
[18:25:11] [INFO] [ReplayManager] Recording frame 11280 (185,8s): player_valid=True, enemies=10
[18:25:12] [INFO] [ReplayManager] Recording frame 11340 (186,8s): player_valid=True, enemies=10
[18:25:12] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-150.7°, current=-150.7°, player=(2620,3030), corner_timer=0.00
[18:25:12] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-152.5°, current=-152.5°, player=(2620,3151), corner_timer=0.00
[18:25:13] [INFO] [ReplayManager] Recording frame 11400 (187,8s): player_valid=True, enemies=10
[18:25:14] [INFO] [ReplayManager] Recording frame 11460 (188,8s): player_valid=True, enemies=10
[18:25:15] [INFO] [ReplayManager] Recording frame 11520 (189,8s): player_valid=True, enemies=10
[18:25:16] [INFO] [ReplayManager] Recording frame 11580 (190,8s): player_valid=True, enemies=10
[18:25:16] [INFO] ------------------------------------------------------------
[18:25:16] [INFO] GAME LOG ENDED: 2026-02-07T18:25:16
[18:25:16] [INFO] ============================================================
