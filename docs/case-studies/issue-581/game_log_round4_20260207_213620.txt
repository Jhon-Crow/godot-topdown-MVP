[21:36:20] [INFO] ============================================================
[21:36:20] [INFO] GAME LOG STARTED
[21:36:20] [INFO] ============================================================
[21:36:20] [INFO] Timestamp: 2026-02-07T21:36:20
[21:36:20] [INFO] Log file: I:/Загрузки/godot exe/снайпер/game_log_20260207_213620.txt
[21:36:20] [INFO] Executable: I:/Загрузки/godot exe/снайпер/Godot-Top-Down-Template.exe
[21:36:20] [INFO] OS: Windows
[21:36:20] [INFO] Debug build: false
[21:36:20] [INFO] Engine version: 4.3-stable (official)
[21:36:20] [INFO] Project: Godot Top-Down Template
[21:36:20] [INFO] ------------------------------------------------------------
[21:36:20] [INFO] [GameManager] GameManager ready
[21:36:20] [INFO] [ScoreManager] ScoreManager ready
[21:36:20] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[21:36:20] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[21:36:20] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[21:36:20] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[21:36:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:36:20] [INFO] [PenultimateHit] Saturation shader loaded successfully
[21:36:20] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[21:36:20] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[21:36:20] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[21:36:20] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[21:36:20] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[21:36:20] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[21:36:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:36:20] [INFO] [LastChance] Last chance shader loaded successfully
[21:36:20] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[21:36:20] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[21:36:20] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[21:36:20] [INFO] [LastChance]   Sepia intensity: 0.70
[21:36:20] [INFO] [LastChance]   Brightness: 0.60
[21:36:20] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[21:36:20] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[21:36:20] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[21:36:20] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[21:36:20] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[21:36:20] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[21:36:20] [INFO] [CinemaEffects] Created effects layer at layer 99
[21:36:20] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[21:36:20] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[21:36:20] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[21:36:20] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[21:36:20] [INFO] [CinemaEffects]   Grain intensity: 0.15
[21:36:20] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[21:36:20] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[21:36:20] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[21:36:20] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[21:36:20] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[21:36:20] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[21:36:20] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[21:36:20] [INFO] [GrenadeTimerHelper] Autoload ready
[21:36:20] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:36:20] [INFO] [PowerFantasy] Saturation shader loaded successfully
[21:36:20] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[21:36:20] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[21:36:20] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[21:36:20] [INFO] [ProgressManager] ProgressManager ready, loaded 5 entries
[21:36:20] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[21:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:20] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[21:36:20] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[21:36:20] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[21:36:20] [ENEMY] [Enemy1] Death animation component initialized
[21:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:20] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[21:36:20] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[21:36:20] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[21:36:20] [ENEMY] [Enemy2] Death animation component initialized
[21:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:20] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[21:36:20] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[21:36:20] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[21:36:20] [ENEMY] [Enemy3] Death animation component initialized
[21:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:20] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[21:36:20] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[21:36:20] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[21:36:20] [ENEMY] [Enemy4] Death animation component initialized
[21:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:20] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[21:36:20] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[21:36:20] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[21:36:20] [ENEMY] [Enemy5] Death animation component initialized
[21:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:20] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[21:36:20] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[21:36:20] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[21:36:20] [ENEMY] [Enemy6] Death animation component initialized
[21:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:20] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[21:36:20] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[21:36:20] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[21:36:20] [ENEMY] [Enemy7] Death animation component initialized
[21:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:20] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[21:36:20] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[21:36:20] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[21:36:20] [INFO] [EnemyGrenade] Initialized: 1 grenades
[21:36:20] [ENEMY] [Enemy8] Death animation component initialized
[21:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:20] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[21:36:20] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[21:36:20] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[21:36:20] [ENEMY] [Enemy9] Death animation component initialized
[21:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:20] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[21:36:20] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[21:36:20] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[21:36:20] [ENEMY] [Enemy10] Death animation component initialized
[21:36:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:20] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:36:20] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:36:20] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:36:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:36:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:36:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:36:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:36:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:36:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:36:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:36:20] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[21:36:20] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:36:20] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 4/4
[21:36:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:36:20] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[21:36:20] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[21:36:20] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[21:36:20] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[21:36:20] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[21:36:20] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[21:36:20] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[21:36:20] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[21:36:20] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[21:36:20] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[21:36:20] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[21:36:20] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[21:36:20] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[21:36:20] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[21:36:20] [INFO] [ScoreManager] Level started with 10 enemies
[21:36:20] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[21:36:20] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[21:36:20] [INFO] [ReplayManager] Replay data cleared
[21:36:20] [INFO] [BuildingLevel] Previous replay data cleared
[21:36:20] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[21:36:20] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:36:20] [INFO] [ReplayManager] Level: BuildingLevel
[21:36:20] [INFO] [ReplayManager] Player: Player (valid: True)
[21:36:20] [INFO] [ReplayManager] Enemies count: 10
[21:36:20] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[21:36:20] [INFO] [ReplayManager]   Enemy 0: Enemy1
[21:36:20] [INFO] [ReplayManager]   Enemy 1: Enemy2
[21:36:20] [INFO] [ReplayManager]   Enemy 2: Enemy3
[21:36:20] [INFO] [ReplayManager]   Enemy 3: Enemy4
[21:36:20] [INFO] [ReplayManager]   Enemy 4: Enemy5
[21:36:20] [INFO] [ReplayManager]   Enemy 5: Enemy6
[21:36:20] [INFO] [ReplayManager]   Enemy 6: Enemy7
[21:36:20] [INFO] [ReplayManager]   Enemy 7: Enemy8
[21:36:20] [INFO] [ReplayManager]   Enemy 8: Enemy9
[21:36:20] [INFO] [ReplayManager]   Enemy 9: Enemy10
[21:36:20] [INFO] [BuildingLevel] Replay recording started successfully
[21:36:20] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:36:20] [INFO] [CinemaEffects] Found player node: Player
[21:36:20] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:36:20] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[21:36:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[21:36:20] [ENEMY] [Enemy1] Registered as sound listener
[21:36:20] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[21:36:20] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[21:36:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[21:36:20] [ENEMY] [Enemy2] Registered as sound listener
[21:36:20] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[21:36:20] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[21:36:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[21:36:20] [ENEMY] [Enemy3] Registered as sound listener
[21:36:20] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[21:36:20] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[21:36:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[21:36:20] [ENEMY] [Enemy4] Registered as sound listener
[21:36:20] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[21:36:20] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[21:36:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[21:36:20] [ENEMY] [Enemy5] Registered as sound listener
[21:36:20] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[21:36:20] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[21:36:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[21:36:20] [ENEMY] [Enemy6] Registered as sound listener
[21:36:20] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[21:36:20] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[21:36:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[21:36:20] [ENEMY] [Enemy7] Registered as sound listener
[21:36:20] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 3, behavior: PATROL
[21:36:20] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[21:36:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[21:36:20] [ENEMY] [Enemy8] Registered as sound listener
[21:36:20] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[21:36:20] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[21:36:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[21:36:20] [ENEMY] [Enemy9] Registered as sound listener
[21:36:20] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[21:36:20] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[21:36:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[21:36:20] [ENEMY] [Enemy10] Registered as sound listener
[21:36:20] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[21:36:20] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:36:20] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:36:20] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:36:20] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:36:20] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:36:20] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:36:20] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:36:20] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:36:20] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:36:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:36:20] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[21:36:20] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:36:20] [INFO] [PenultimateHit] Shader warmup complete in 453 ms
[21:36:20] [INFO] [LastChance] Shader warmup complete in 452 ms
[21:36:20] [INFO] [CinemaEffects] Cinema shader warmup complete in 400 ms
[21:36:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:36:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:36:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:36:20] [INFO] [LastChance] Found player: Player
[21:36:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:36:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:36:20] [INFO] [LastChance] Connected to player Died signal (C#)
[21:36:20] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:36:20] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 742 ms
[21:36:21] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:36:22] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:36:23] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:36:24] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:36:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:24] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[21:36:24] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[21:36:24] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[21:36:24] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:36:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:36:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:36:24] [INFO] [CinemaEffects] Scene changed to: CityLevel
[21:36:24] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:36:24] [ENEMY] [SniperEnemy1] Death animation component initialized
[21:36:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:24] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[21:36:24] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[21:36:24] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[21:36:24] [ENEMY] [SniperEnemy2] Death animation component initialized
[21:36:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:24] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[21:36:24] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[21:36:24] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[21:36:24] [INFO] [EnemyGrenade] Initialized: 1 grenades
[21:36:24] [ENEMY] [GuardEnemy1] Death animation component initialized
[21:36:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:24] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[21:36:24] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[21:36:24] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[21:36:24] [ENEMY] [GuardEnemy2] Death animation component initialized
[21:36:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:24] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[21:36:24] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[21:36:24] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[21:36:24] [ENEMY] [GuardEnemy3] Death animation component initialized
[21:36:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:24] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[21:36:24] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[21:36:24] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[21:36:24] [ENEMY] [GuardEnemy4] Death animation component initialized
[21:36:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:24] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[21:36:24] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[21:36:24] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[21:36:24] [ENEMY] [PatrolEnemy1] Death animation component initialized
[21:36:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:24] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[21:36:24] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[21:36:24] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[21:36:24] [ENEMY] [PatrolEnemy2] Death animation component initialized
[21:36:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:24] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[21:36:24] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[21:36:24] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[21:36:24] [ENEMY] [GuardEnemy5] Death animation component initialized
[21:36:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:24] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[21:36:24] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[21:36:24] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[21:36:24] [ENEMY] [GuardEnemy6] Death animation component initialized
[21:36:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:36:24] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:36:24] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:36:24] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:36:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:36:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:36:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:36:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:36:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:36:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:36:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:36:24] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[21:36:24] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:36:24] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 4/4
[21:36:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:36:24] [INFO] [ScoreManager] Level started with 10 enemies
[21:36:24] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[21:36:24] [INFO] [ReplayManager] Replay data cleared
[21:36:24] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[21:36:24] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:36:24] [INFO] [ReplayManager] Level: CityLevel
[21:36:24] [INFO] [ReplayManager] Player: Player (valid: True)
[21:36:24] [INFO] [ReplayManager] Enemies count: 10
[21:36:24] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[21:36:24] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[21:36:24] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[21:36:24] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[21:36:24] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[21:36:24] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[21:36:24] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[21:36:24] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[21:36:24] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[21:36:24] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[21:36:24] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[21:36:24] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[21:36:24] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[21:36:24] [INFO] [CinemaEffects] Found player node: Player
[21:36:24] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:36:24] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 11)
[21:36:24] [ENEMY] [SniperEnemy1] Registered as sound listener
[21:36:24] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 3, behavior: GUARD
[21:36:24] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[21:36:24] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 12)
[21:36:24] [ENEMY] [SniperEnemy2] Registered as sound listener
[21:36:24] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 3, behavior: GUARD
[21:36:24] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[21:36:24] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 13)
[21:36:24] [ENEMY] [GuardEnemy1] Registered as sound listener
[21:36:24] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 3, behavior: GUARD
[21:36:24] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[21:36:24] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 14)
[21:36:24] [ENEMY] [GuardEnemy2] Registered as sound listener
[21:36:24] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 2, behavior: GUARD
[21:36:24] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[21:36:24] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 15)
[21:36:24] [ENEMY] [GuardEnemy3] Registered as sound listener
[21:36:24] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 3, behavior: GUARD
[21:36:24] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[21:36:24] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 16)
[21:36:24] [ENEMY] [GuardEnemy4] Registered as sound listener
[21:36:24] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 3, behavior: GUARD
[21:36:24] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[21:36:24] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 17)
[21:36:24] [ENEMY] [PatrolEnemy1] Registered as sound listener
[21:36:24] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 4, behavior: PATROL
[21:36:24] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[21:36:24] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 18)
[21:36:24] [ENEMY] [PatrolEnemy2] Registered as sound listener
[21:36:24] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 4, behavior: PATROL
[21:36:24] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[21:36:24] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 19)
[21:36:24] [ENEMY] [GuardEnemy5] Registered as sound listener
[21:36:24] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 2, behavior: GUARD
[21:36:24] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[21:36:24] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 20)
[21:36:24] [ENEMY] [GuardEnemy6] Registered as sound listener
[21:36:24] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 2, behavior: GUARD
[21:36:24] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:36:24] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:36:24] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:36:24] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:36:24] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:36:24] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:36:24] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:36:24] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:36:24] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:36:24] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:36:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:36:24] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[21:36:24] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:36:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:36:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:36:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:36:24] [INFO] [LastChance] Found player: Player
[21:36:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:36:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:36:24] [INFO] [LastChance] Connected to player Died signal (C#)
[21:36:24] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:36:25] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:36:26] [INFO] [Player] Invincibility mode: ON
[21:36:26] [INFO] [GameManager] Invincibility mode toggled: ON
[21:36:26] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:36:26] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(300,2295), corner_timer=0.30
[21:36:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(300,2295), corner_timer=0.30
[21:36:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(301,2191), corner_timer=-0.02
[21:36:26] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:36:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(301,2191), corner_timer=-0.02
[21:36:26] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(303,2186), corner_timer=0.30
[21:36:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(303,2186), corner_timer=0.30
[21:36:26] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:36:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(366,2108), corner_timer=-0.02
[21:36:27] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:36:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(366,2108), corner_timer=-0.02
[21:36:27] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(370,2104), corner_timer=0.30
[21:36:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(370,2104), corner_timer=0.30
[21:36:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(444,2030), corner_timer=-0.02
[21:36:27] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:36:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(444,2030), corner_timer=-0.02
[21:36:27] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(448,2026), corner_timer=0.30
[21:36:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(448,2026), corner_timer=0.30
[21:36:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(522,1952), corner_timer=-0.02
[21:36:27] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:36:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(522,1952), corner_timer=-0.02
[21:36:27] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(526,1948), corner_timer=0.30
[21:36:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(526,1948), corner_timer=0.30
[21:36:27] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:36:28] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(600,1874), corner_timer=-0.02
[21:36:28] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:36:28] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(604,1871), corner_timer=0.30
[21:36:28] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-139.5°, current=-90.0°, player=(658,1816), corner_timer=0.18
[21:36:28] [ENEMY] [PatrolEnemy1] State: IDLE -> COMBAT
[21:36:28] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-139.2°, current=124.9°, player=(666,1808), corner_timer=0.18
[21:36:28] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-136.8°, current=176.0°, player=(731,1742), corner_timer=0.18
[21:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2278.305, 3191.669), source=ENEMY (PatrolEnemy1), range=1469, listeners=20
[21:36:28] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[21:36:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[21:36:28] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[21:36:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2251.857, 3165.32), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[21:36:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[21:36:28] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-134.3°, current=-134.3°, player=(747,1622), corner_timer=0.18
[21:36:28] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[21:36:29] [ENEMY] [PatrolEnemy1] State: PURSUING -> RETREATING
[21:36:29] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-90.0°, current=-134.1°, player=(747,1605), corner_timer=0.18
[21:36:29] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[21:36:29] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:36:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=128.4°, player=(841,1468), corner_timer=-0.02
[21:36:29] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:36:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=131.3°, player=(845,1464), corner_timer=0.30
[21:36:29] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[21:36:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(919,1391), corner_timer=-0.02
[21:36:29] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:36:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(922,1387), corner_timer=0.30
[21:36:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2225.7046, 3150.6265), shooter_id=125879455804, bullet_pos=(45.227196, 970.60754)
[21:36:30] [INFO] [Bullet] Using shooter_position, distance=3083,3364
[21:36:30] [INFO] [Bullet] Distance to wall: 3083,3364 (209,95004% of viewport)
[21:36:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2198.7598, 3122.7388), shooter_id=125879455804, bullet_pos=(48.46997, 912.94604)
[21:36:30] [INFO] [Bullet] Using shooter_position, distance=3083,331
[21:36:30] [INFO] [Bullet] Distance to wall: 3083,331 (209,94968% of viewport)
[21:36:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(996,1313), corner_timer=-0.02
[21:36:30] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:36:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1000,1309), corner_timer=0.30
[21:36:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1035.726, 1280.419), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:36:30] [ENEMY] [GuardEnemy1] Heard gunshot at (1035.726, 1280.419), source_type=0, intensity=0.07, distance=183
[21:36:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[21:36:30] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=155.6°, current=-33.8°, player=(1035,1274), corner_timer=0.00
[21:36:30] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=161.2°, current=118.1°, player=(1056,1248), corner_timer=0.00
[21:36:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1062,1240), corner_timer=-0.02
[21:36:30] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:36:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.291, 1244.77), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:36:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[21:36:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1064,1238), corner_timer=0.30
[21:36:30] [INFO] [EnemyGrenade] Unsafe throw distance (67 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:30] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[21:36:30] [INFO] [EnemyGrenade] Unsafe throw distance (66 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:30] [ENEMY] [GuardEnemy1] Hit: dmg=1, hp=3/3->2/3
[21:36:30] [INFO] [ImpactEffects] spawn_blood_effect called at (1202.953, 1202.284), dir=(0.992368, -0.123314), lethal=false
[21:36:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:30] [INFO] [ImpactEffects] Blood effect spawned at (1202.953, 1202.284) (scale=0.5)
[21:36:30] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[21:36:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1072,1228), corner_timer=-0.02
[21:36:30] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:36:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1072,1228), corner_timer=0.30
[21:36:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1072.058, 1234.936), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:36:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[21:36:30] [INFO] [BloodDecal] Blood puddle created at (1253.042, 1199.661) (added to group)
[21:36:30] [INFO] [BloodDecal] Blood puddle created at (1271.122, 1212.871) (added to group)
[21:36:30] [INFO] [BloodyFeet:GuardEnemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:36:30] [INFO] [BloodDecal] Blood puddle created at (1257.299, 1224.613) (added to group)
[21:36:30] [INFO] [BloodDecal] Blood puddle created at (1263.882, 1184.904) (added to group)
[21:36:31] [INFO] [BloodDecal] Blood puddle created at (1267.537, 1224.429) (added to group)
[21:36:31] [INFO] [BloodDecal] Blood puddle created at (1340.659, 1204.099) (added to group)
[21:36:31] [INFO] [BloodDecal] Blood puddle created at (1304.736, 1277.915) (added to group)
[21:36:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1079,1228), corner_timer=-0.02
[21:36:31] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:36:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1081,1228), corner_timer=0.30
[21:36:31] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-120.9°, current=-90.0°, player=(1087,1228), corner_timer=0.18
[21:36:31] [INFO] [BloodDecal] Blood puddle created at (1346.08, 1271.267) (added to group)
[21:36:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1098.058, 1234.936), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:36:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[21:36:31] [INFO] [BloodDecal] Blood puddle created at (1301.515, 1249.443) (added to group)
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (112 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (111 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2233.165, 3146.302), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[21:36:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[21:36:31] [INFO] [BloodDecal] Blood puddle created at (1418.965, 1365.617) (added to group)
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (110 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (110 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (109 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (108 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2233.165, 3146.302), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[21:36:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (104 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (100 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (95 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-90.0°, current=-39.6°, player=(1150,1229), corner_timer=0.18
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (91 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (87 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (83 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (79 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1169,1235), corner_timer=-0.02
[21:36:31] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (75 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1174,1237), corner_timer=0.30
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (73 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (72 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (71 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (70 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (69 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (67 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-120.3°, current=-71.2°, player=(1199,1256), corner_timer=0.18
[21:36:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1203.219, 1266.734), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:36:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (66 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (65 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (64 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (63 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (61 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [ENEMY] [GuardEnemy1] Hit: dmg=1, hp=2/3->1/3
[21:36:31] [INFO] [ImpactEffects] spawn_blood_effect called at (1331.438, 1316.446), dir=(0.94811, 0.317941), lethal=false
[21:36:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:31] [INFO] [ImpactEffects] Blood effect spawned at (1331.438, 1316.446) (scale=0.5)
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (115 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (107 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (100 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (93 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1236.373, 1302.501), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:36:31] [ENEMY] [GuardEnemy1] Heard gunshot at (1236.373, 1302.501), source_type=0, intensity=0.33, distance=87
[21:36:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (87 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (82 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-90.0°, current=-102.7°, player=(1239,1300), corner_timer=0.18
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (78 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (75 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1243,1310), corner_timer=-0.02
[21:36:31] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (73 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1245,1314), corner_timer=0.30
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (75 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (78 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (82 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (85 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2191.286, 3088.7593), shooter_id=125879455804, bullet_pos=(1218.0944, 1947.315)
[21:36:31] [INFO] [Bullet] Using shooter_position, distance=1499,999
[21:36:31] [INFO] [Bullet] Distance to wall: 1499,999 (102,137695% of viewport)
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (89 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:31] [INFO] [EnemyGrenade] Unsafe throw distance (93 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (97 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (1420.756, 1343.479) (added to group)
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (101 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (101 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (101 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1244.668, 1361.999), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:36:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[21:36:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2192.081, 3089.932), shooter_id=125879455804, bullet_pos=(1333.2495, 1759.7638)
[21:36:32] [INFO] [Bullet] Using shooter_position, distance=1583,3315
[21:36:32] [INFO] [Bullet] Distance to wall: 1583,3315 (107,811966% of viewport)
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (101 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (101 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (102 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (102 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (103 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (104 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (109 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (115 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (1456.586, 1401.223) (added to group)
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (121 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (126 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (131 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (1404.907, 1421.208) (added to group)
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (137 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (142 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1072.058, 1234.936), shooter_id=127339073683, bullet_pos=(2443.384, 949.7529)
[21:36:32] [INFO] [Bullet] Using shooter_position, distance=1400.66577148438
[21:36:32] [INFO] [Bullet] Distance to wall: 1400.66577148438 (95.3739079776145% of viewport)
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1332.864, 1291.941), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[21:36:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (1489.109, 1364.334) (added to group)
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (1462.513, 1414.745) (added to group)
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (1511.743, 1436.409) (added to group)
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (1502.649, 1509.887) (added to group)
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (1476.542, 1488.368) (added to group)
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1187.849, 1365.106), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:36:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[21:36:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1035.726, 1280.419), shooter_id=127339073683, bullet_pos=(3050.769, 899.809)
[21:36:32] [INFO] [Bullet] Using shooter_position, distance=2050.67358398438
[21:36:32] [INFO] [Bullet] Distance to wall: 2050.67358398438 (139.634135189711% of viewport)
[21:36:32] [INFO] [Bullet] Distance-based penetration chance: 22.0731729620577%
[21:36:32] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (148 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (148 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (149 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (1515.157, 1498.292) (added to group)
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (154 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (1478.18, 1499.096) (added to group)
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (158 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2192.081, 3089.932), shooter_id=125879455804, bullet_pos=(1696.9863, 947.0302)
[21:36:32] [INFO] [Bullet] Using shooter_position, distance=2199,3513
[21:36:32] [INFO] [Bullet] Distance to wall: 2199,3513 (149,75789% of viewport)
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (163 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (167 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (171 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (176 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [ENEMY] [GuardEnemy2] Hit: dmg=1, hp=2/2->1/2
[21:36:32] [INFO] [ImpactEffects] spawn_blood_effect called at (2400, 1200), dir=(0.9998, -0.01999), lethal=false
[21:36:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:32] [INFO] [ImpactEffects] Blood effect spawned at (2400, 1200) (scale=0.5)
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (180 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1145.369, 1323.897), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:36:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[21:36:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1187.849, 1365.106), shooter_id=127339073683, bullet_pos=(1399.862, 1317.311)
[21:36:32] [INFO] [Bullet] Using shooter_position, distance=217.333587646484
[21:36:32] [INFO] [Bullet] Distance to wall: 217.333587646484 (14.7986436240773% of viewport)
[21:36:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (185 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (194 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [ENEMY] [GuardEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=175.0°, current=-172.6°, player=(1137,1310), corner_timer=0.00
[21:36:32] [ENEMY] [GuardEnemy2] State: IDLE -> COMBAT
[21:36:32] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (198 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (203 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=175.4°, current=-3.1°, player=(1129,1302), corner_timer=0.00
[21:36:32] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (207 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (212 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[21:36:32] [INFO] [EnemyGrenade] Unsafe throw distance (215 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:36:32] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=175.6°, current=5.9°, player=(1117,1291), corner_timer=0.00
[21:36:32] [ENEMY] [GuardEnemy1] Hit: dmg=1, hp=1/3->0/3
[21:36:32] [INFO] [ImpactEffects] spawn_blood_effect called at (1331.173, 1282.617), dir=(0.959927, -0.28025), lethal=true
[21:36:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:32] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:36:32] [INFO] [ImpactEffects] Blood effect spawned at (1331.173, 1282.617) (scale=0.75)
[21:36:32] [ENEMY] [GuardEnemy1] Enemy died (ricochet: false, penetration: false)
[21:36:32] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[21:36:32] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy1 (remaining: 9)
[21:36:32] [INFO] [DeathAnim] Started - Angle: -16.3 deg, Index: 10
[21:36:32] [ENEMY] [GuardEnemy1] Death animation started with hit direction: (0.959927, -0.28025)
[21:36:32] [ENEMY] [SniperEnemy1] Player ammo empty: false -> true
[21:36:32] [ENEMY] [SniperEnemy2] Player ammo empty: false -> true
[21:36:32] [ENEMY] [GuardEnemy1] Player ammo empty: false -> true
[21:36:32] [ENEMY] [GuardEnemy2] Player ammo empty: false -> true
[21:36:32] [ENEMY] [GuardEnemy3] Player ammo empty: false -> true
[21:36:32] [ENEMY] [GuardEnemy4] Player ammo empty: false -> true
[21:36:32] [ENEMY] [PatrolEnemy1] Player ammo empty: false -> true
[21:36:32] [ENEMY] [PatrolEnemy2] Player ammo empty: false -> true
[21:36:32] [ENEMY] [GuardEnemy5] Player ammo empty: false -> true
[21:36:32] [ENEMY] [GuardEnemy6] Player ammo empty: false -> true
[21:36:32] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1109.448, 1285.826), source=PLAYER (Player), range=600, listeners=9
[21:36:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[21:36:32] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=4577), can_see=false
[21:36:32] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=5641), can_see=false
[21:36:32] [ENEMY] [GuardEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1272), can_see=false
[21:36:32] [ENEMY] [GuardEnemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2689), can_see=false
[21:36:32] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3827), can_see=false
[21:36:32] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2129), can_see=false
[21:36:32] [ENEMY] [PatrolEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3362), can_see=false
[21:36:32] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2929), can_see=false
[21:36:32] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3707), can_see=false
[21:36:32] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (2439.117, 1226.608) (added to group)
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (2451.198, 1232.897) (added to group)
[21:36:32] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1084.971, 1269.538), source=PLAYER (Player), range=600, listeners=9
[21:36:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (2458.379, 1209.868) (added to group)
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (2492.508, 1258.375) (added to group)
[21:36:32] [INFO] [BloodDecal] Blood puddle created at (2517.773, 1232.564) (added to group)
[21:36:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1244.668, 1361.999), shooter_id=127339073683, bullet_pos=(2063.491, 1647.997)
[21:36:32] [INFO] [Bullet] Using shooter_position, distance=867.332885742188
[21:36:32] [INFO] [Bullet] Distance to wall: 867.332885742188 (59.0582910747291% of viewport)
[21:36:32] [INFO] [Bullet] Distance-based penetration chance: 77.7653270794827%
[21:36:32] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:32] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1071.891, 1269.138), source=PLAYER (Player), range=600, listeners=9
[21:36:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[21:36:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1279.9293, 1334.7018), shooter_id=124470169576, bullet_pos=(48.63961, 2518.9001)
[21:36:33] [INFO] [Bullet] Using shooter_position, distance=1708,3325
[21:36:33] [INFO] [Bullet] Distance to wall: 1708,3325 (116,32351% of viewport)
[21:36:33] [INFO] [BloodDecal] Blood puddle created at (2551.532, 1283.041) (added to group)
[21:36:33] [INFO] [BloodDecal] Blood puddle created at (1377.976, 1283.707) (added to group)
[21:36:33] [INFO] [BloodDecal] Blood puddle created at (2543.443, 1275.352) (added to group)
[21:36:33] [INFO] [BloodDecal] Blood puddle created at (1443.925, 1249.489) (added to group)
[21:36:33] [ENEMY] [GuardEnemy1] Ragdoll activated
[21:36:33] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:36:33] [INFO] [BloodDecal] Blood puddle created at (2572.506, 1252.601) (added to group)
[21:36:33] [INFO] [BloodDecal] Blood puddle created at (1414.541, 1264.321) (added to group)
[21:36:33] [INFO] [BloodDecal] Blood puddle created at (2557.982, 1219.486) (added to group)
[21:36:33] [INFO] [BloodDecal] Blood puddle created at (2525.649, 1352.673) (added to group)
[21:36:33] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=4595), can_see=false
[21:36:33] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=5646), can_see=false
[21:36:33] [ENEMY] [GuardEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1300), can_see=false
[21:36:33] [ENEMY] [GuardEnemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2699), can_see=false
[21:36:33] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3839), can_see=false
[21:36:33] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2127), can_see=false
[21:36:33] [ENEMY] [PatrolEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3369), can_see=false
[21:36:33] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2917), can_see=false
[21:36:33] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3706), can_see=false
[21:36:33] [INFO] [BloodDecal] Blood puddle created at (1491.46, 1249.71) (added to group)
[21:36:33] [INFO] [BloodDecal] Blood puddle created at (1496.51, 1269.32) (added to group)
[21:36:33] [INFO] [BloodDecal] Blood puddle created at (1451.49, 1254.379) (added to group)
[21:36:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1236.373, 1302.501), shooter_id=127339073683, bullet_pos=(2710.455, 1835.058)
[21:36:33] [INFO] [Bullet] Using shooter_position, distance=1567.33312988281
[21:36:33] [INFO] [Bullet] Distance to wall: 1567.33312988281 (106.722594885212% of viewport)
[21:36:33] [INFO] [Bullet] Distance-based penetration chance: 28.6554810229576%
[21:36:33] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:33] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=-45.8°, player=(1171,1243), corner_timer=-0.02
[21:36:33] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:33] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[21:36:33] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[21:36:33] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[21:36:33] [ENEMY] [GuardEnemy1] Player reloading: false -> true
[21:36:33] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[21:36:33] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[21:36:33] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[21:36:33] [ENEMY] [PatrolEnemy1] Player reloading: false -> true
[21:36:33] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[21:36:33] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[21:36:33] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[21:36:33] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1171.977, 1237.692), source=PLAYER (Player), range=900, listeners=9
[21:36:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[21:36:33] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=4507), can_see=false
[21:36:33] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=5621), can_see=false
[21:36:33] [ENEMY] [GuardEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1219), can_see=false
[21:36:33] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=2650), can_see=false
[21:36:33] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=3780), can_see=false
[21:36:33] [ENEMY] [PatrolEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=2134), can_see=false
[21:36:33] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=-43.0°, player=(1171,1237), corner_timer=0.30
[21:36:33] [ENEMY] [PatrolEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3369), can_see=false
[21:36:33] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2971), can_see=false
[21:36:33] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=3707), can_see=false
[21:36:33] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[21:36:33] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[21:36:33] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[21:36:33] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[21:36:33] [ENEMY] [GuardEnemy1] Player reloading: true -> false
[21:36:33] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[21:36:33] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[21:36:33] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[21:36:33] [ENEMY] [PatrolEnemy1] Player reloading: true -> false
[21:36:33] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[21:36:33] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[21:36:33] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[21:36:33] [ENEMY] [SniperEnemy1] Player ammo empty: true -> false
[21:36:33] [ENEMY] [SniperEnemy2] Player ammo empty: true -> false
[21:36:33] [ENEMY] [GuardEnemy1] Player ammo empty: true -> false
[21:36:33] [ENEMY] [GuardEnemy2] Player ammo empty: true -> false
[21:36:33] [ENEMY] [GuardEnemy3] Player ammo empty: true -> false
[21:36:33] [ENEMY] [GuardEnemy4] Player ammo empty: true -> false
[21:36:33] [ENEMY] [PatrolEnemy1] Player ammo empty: true -> false
[21:36:33] [ENEMY] [PatrolEnemy2] Player ammo empty: true -> false
[21:36:33] [ENEMY] [GuardEnemy5] Player ammo empty: true -> false
[21:36:33] [ENEMY] [GuardEnemy6] Player ammo empty: true -> false
[21:36:33] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[21:36:33] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[21:36:34] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[21:36:34] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-121.9°, current=-90.0°, player=(1171,1155), corner_timer=0.18
[21:36:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1171,1133), corner_timer=-0.02
[21:36:34] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1171,1127), corner_timer=0.30
[21:36:34] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[21:36:34] [ENEMY] [GuardEnemy1] Death animation completed
[21:36:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1171,1023), corner_timer=-0.02
[21:36:34] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1171,1017), corner_timer=0.30
[21:36:34] [ENEMY] [GuardEnemy2] State: RETREATING -> IN_COVER
[21:36:34] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[21:36:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1171,913), corner_timer=-0.02
[21:36:34] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1171,907), corner_timer=0.30
[21:36:34] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[21:36:35] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> IN_COVER
[21:36:35] [ENEMY] [GuardEnemy2] State: IN_COVER -> PURSUING
[21:36:35] [ENEMY] [GuardEnemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-171.0°, current=-45.9°, player=(1171,786), corner_timer=0.00
[21:36:35] [ENEMY] [SniperEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=176.4°, current=-33.8°, player=(1171,676), corner_timer=0.00
[21:36:35] [ENEMY] [SniperEnemy1] State: IDLE -> COMBAT
[21:36:35] [ENEMY] [PatrolEnemy1] Warning: No valid flank position (both sides behind walls)
[21:36:35] [ENEMY] [PatrolEnemy1] FLANKING started: target=(1060.626, 826.3271), side=right, pos=(2334.877, 3026.822)
[21:36:35] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[21:36:35] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 132.5°
[21:36:35] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[21:36:35] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-112.9°, current=-112.8°, player=(1230,547), corner_timer=0.12
[21:36:35] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[21:36:36] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-110.8°, current=-110.8°, player=(1289,488), corner_timer=0.12
[21:36:36] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[21:36:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1396,401), corner_timer=-0.02
[21:36:36] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:36] [ENEMY] [GuardEnemy2] FLANKING started: target=(1576.018, 303.3056), side=left, pos=(2361.352, 974.0671)
[21:36:36] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[21:36:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1401,400), corner_timer=0.30
[21:36:36] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 130.7°
[21:36:36] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[21:36:36] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-143.9°, current=-172.2°, player=(1494,400), corner_timer=0.05
[21:36:36] [ENEMY] [GuardEnemy2] State: FLANKING -> COMBAT
[21:36:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1505,400), corner_timer=-0.02
[21:36:36] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1511,400), corner_timer=0.30
[21:36:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1615,400), corner_timer=-0.02
[21:36:37] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1621,400), corner_timer=0.30
[21:36:37] [ENEMY] [GuardEnemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-115.1°, current=-78.7°, player=(1621,400), corner_timer=0.00
[21:36:37] [ENEMY] [GuardEnemy6] State: IDLE -> COMBAT
[21:36:37] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-115.0°, current=160.5°, player=(1632,400), corner_timer=0.00
[21:36:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2155.887, 889.1017), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:36:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[21:36:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2129.911, 862.291), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:36:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[21:36:37] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-114.0°, current=-161.4°, player=(1703,400), corner_timer=0.00
[21:36:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1725,400), corner_timer=-0.02
[21:36:37] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:36:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1731,400), corner_timer=0.30
[21:36:37] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[21:36:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2105.134, 834.3683), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:36:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[21:36:37] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[21:36:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2131.04, 837.8064), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:36:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[21:36:37] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[21:36:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3334.909, 4053.849), source=ENEMY (GuardEnemy6), range=2000, listeners=9
[21:36:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:36:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2102.4648, 846.8817), shooter_id=124822491133, bullet_pos=(1311.2483, 47.130314)
[21:36:37] [INFO] [Bullet] Using shooter_position, distance=1125,0005
[21:36:37] [INFO] [Bullet] Distance to wall: 1125,0005 (76,603355% of viewport)
[21:36:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2156.947, 841.2444), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:36:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[21:36:37] [INFO] [LastChance] Threat detected: @Area2D@816
[21:36:37] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:37] [ENEMY] [PatrolEnemy1] FLANKING started: target=(1683.35, 523.4976), side=right, pos=(2185.242, 2848.294)
[21:36:37] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[21:36:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2078.3118, 817.851), shooter_id=124822491133, bullet_pos=(1376.5569, 48.040527)
[21:36:37] [INFO] [Bullet] Using shooter_position, distance=1041,666
[21:36:37] [INFO] [Bullet] Distance to wall: 1041,666 (70,928955% of viewport)
[21:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2182.853, 844.6825), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:36:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[21:36:38] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[21:36:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2055.7205, 787.41675), shooter_id=124822491133, bullet_pos=(1246.6672, 66.96835)
[21:36:38] [INFO] [Bullet] Using shooter_position, distance=1083,3342
[21:36:38] [INFO] [Bullet] Distance to wall: 1083,3342 (73,76622% of viewport)
[21:36:38] [INFO] [Bullet] Distance-based penetration chance: 60,60608%
[21:36:38] [INFO] [Bullet] Starting wall penetration at (1246.6672, 66.96835)
[21:36:38] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 168.7°
[21:36:38] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[21:36:38] [INFO] [Bullet] Exiting penetration at (1211.8157, 35.933647) after traveling 41,666668 pixels through wall
[21:36:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2225.933, 850.5766), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:36:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[21:36:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2109.6382, 792.2977), shooter_id=124822491133, bullet_pos=(1555.5562, 62.042572)
[21:36:38] [INFO] [Bullet] Using shooter_position, distance=916,6676
[21:36:38] [INFO] [Bullet] Distance to wall: 916,6676 (62,417583% of viewport)
[21:36:38] [INFO] [LastChance] Threat detected: @Area2D@829
[21:36:38] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1942.174, 480.6197), source=PLAYER (MakarovPM), range=1469, listeners=9
[21:36:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[21:36:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2136.3806, 794.9625), shooter_id=124822491133, bullet_pos=(1540.6211, 44.31376)
[21:36:38] [INFO] [Bullet] Using shooter_position, distance=958,33344
[21:36:38] [INFO] [Bullet] Distance to wall: 958,33344 (65,254684% of viewport)
[21:36:38] [INFO] [Bullet] Distance-based penetration chance: 70,536194%
[21:36:38] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2225.933, 845.6939), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:36:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[21:36:38] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 170.3°
[21:36:38] [INFO] [LastChance] Threat detected: Bullet
[21:36:38] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1981.065, 519.5106), source=PLAYER (MakarovPM), range=1469, listeners=9
[21:36:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[21:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2224.193, 840.3464), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:36:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[21:36:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2178.4272, 802.05457), shooter_id=124822491133, bullet_pos=(1579.8074, 53.685154)
[21:36:38] [INFO] [Bullet] Using shooter_position, distance=958,3332
[21:36:38] [INFO] [Bullet] Distance to wall: 958,3332 (65,25467% of viewport)
[21:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3430.316, 3957.238), source=ENEMY (GuardEnemy6), range=2000, listeners=9
[21:36:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=3
[21:36:38] [INFO] [LastChance] Threat detected: @Area2D@838
[21:36:38] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2031.622, 570.0689), source=PLAYER (MakarovPM), range=1469, listeners=9
[21:36:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[21:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2224.437, 839.6989), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:36:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[21:36:38] [ENEMY] [PatrolEnemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[21:36:38] [ENEMY] [PatrolEnemy2] State: IDLE -> PURSUING
[21:36:38] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 172.0°
[21:36:38] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-122.9°, current=0.0°, player=(2039,571), corner_timer=0.23
[21:36:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2178.9895, 796.607), shooter_id=124822491133, bullet_pos=(1563.6216, 61.946335)
[21:36:38] [INFO] [Bullet] Using shooter_position, distance=958,3339
[21:36:38] [INFO] [Bullet] Distance to wall: 958,3339 (65,254715% of viewport)
[21:36:38] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=True, enemies=10
[21:36:38] [INFO] [LastChance] Threat detected: @Area2D@846
[21:36:38] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:38] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-32.9°, current=-113.0°, player=(2051,583), corner_timer=0.00
[21:36:38] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[21:36:38] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2224.1, 840.5604), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:36:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=0
[21:36:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2178.08, 790.4861), shooter_id=124822491133, bullet_pos=(1625.7899, 58.87598)
[21:36:39] [INFO] [Bullet] Using shooter_position, distance=916,6667
[21:36:39] [INFO] [Bullet] Distance to wall: 916,6667 (62,417526% of viewport)
[21:36:39] [INFO] [Bullet] Distance-based penetration chance: 73,84622%
[21:36:39] [INFO] [Bullet] Starting wall penetration at (1625.7899, 58.87598)
[21:36:39] [INFO] [LastChance] Threat detected: @Area2D@854
[21:36:39] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,992562
[21:36:39] [INFO] [Bullet] Body exited signal received for penetrating body
[21:36:39] [INFO] [Bullet] Exiting penetration at (1597.6733, 21.630379) after traveling 41,666668 pixels through wall
[21:36:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:36:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:39] [INFO] [Player] Spawning blood effect at (2092, 627.0599), dir=(1, 0), lethal=False (C#)
[21:36:39] [INFO] [ImpactEffects] spawn_blood_effect called at (2092, 627.0599), dir=(1, 0), lethal=false
[21:36:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:39] [INFO] [ImpactEffects] Blood effect spawned at (2092, 627.0599) (scale=1)
[21:36:39] [ENEMY] [GuardEnemy2] Hit: dmg=1, hp=1/2->0/2
[21:36:39] [INFO] [ImpactEffects] spawn_blood_effect called at (2212.056, 821.6741), dir=(0.515343, 0.856984), lethal=true
[21:36:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:39] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:36:39] [INFO] [ImpactEffects] Wall found for blood splatter at (2250, 884.7719) (dist=73 px)
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2249, 884.7719) (added to group)
[21:36:39] [INFO] [ImpactEffects] Blood effect spawned at (2212.056, 821.6741) (scale=0.75)
[21:36:39] [ENEMY] [GuardEnemy2] Enemy died (ricochet: false, penetration: false)
[21:36:39] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[21:36:39] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy2 (remaining: 8)
[21:36:39] [INFO] [DeathAnim] Started - Angle: 59.0 deg, Index: 15
[21:36:39] [ENEMY] [GuardEnemy2] Death animation started with hit direction: (0.515343, 0.856984)
[21:36:39] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 147.0°
[21:36:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2179.5232, 788.7588), shooter_id=124822491133, bullet_pos=(1810.254, 41.708096)
[21:36:39] [INFO] [Bullet] Using shooter_position, distance=833,3334
[21:36:39] [INFO] [Bullet] Distance to wall: 833,3334 (56,743206% of viewport)
[21:36:39] [INFO] [Bullet] Distance-based penetration chance: 80,46626%
[21:36:39] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:39] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 173.6°
[21:36:39] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=175.5°, current=175.6°, player=(2104,676), corner_timer=0.00
[21:36:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2104.829, 688.2461), source=PLAYER (MakarovPM), range=1469, listeners=8
[21:36:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=0, below_threshold=0
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2155.79, 613.6716) (added to group)
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2131.149, 638.7248) (added to group)
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2217.275, 877.2797) (added to group)
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2164.449, 643.2774) (added to group)
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2239.582, 892.5816) (added to group)
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2246.895, 900.8533) (added to group)
[21:36:39] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 147.0°
[21:36:39] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2246.442, 906.5574) (added to group)
[21:36:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2104.829, 688.2461), shooter_id=127339073683, bullet_pos=(2248.458, 872.9796)
[21:36:39] [INFO] [Bullet] Using shooter_position, distance=233.999435424805
[21:36:39] [INFO] [Bullet] Distance to wall: 233.999435424805 (15.933451845095% of viewport)
[21:36:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:39] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:39] [ENEMY] [GuardEnemy6] State: SEEKING_COVER -> IN_COVER
[21:36:39] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2206.104, 636.9028) (added to group)
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2159.808, 684.8066) (added to group)
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2203.539, 668.2293) (added to group)
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2250.837, 976.5613) (added to group)
[21:36:39] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 173.1°
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2254.018, 1001.005) (added to group)
[21:36:39] [ENEMY] [GuardEnemy2] Ragdoll activated
[21:36:39] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2223.793, 977.0263) (added to group)
[21:36:39] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2227.975, 689.8225) (added to group)
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2191.506, 737.9795) (added to group)
[21:36:39] [ENEMY] [GuardEnemy6] State: SEEKING_COVER -> IN_COVER
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2232.653, 1005.214) (added to group)
[21:36:39] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2205.599, 675.9173) (added to group)
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2223.781, 1096.815) (added to group)
[21:36:39] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 147.0°
[21:36:39] [INFO] [BloodDecal] Blood puddle created at (2231.607, 1168.47) (added to group)
[21:36:39] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[21:36:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1942.174, 480.6197), shooter_id=127339073683, bullet_pos=(2732.526, 1697.076)
[21:36:39] [INFO] [Bullet] Using shooter_position, distance=1450.66247558594
[21:36:39] [INFO] [Bullet] Distance to wall: 1450.66247558594 (98.778275495722% of viewport)
[21:36:39] [INFO] [Bullet] Distance-based penetration chance: 31.425345254991%
[21:36:39] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:39] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 172.6°
[21:36:39] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=True, enemies=10
[21:36:39] [ENEMY] [GuardEnemy6] State: SEEKING_COVER -> IN_COVER
[21:36:39] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:36:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1981.065, 519.5106), shooter_id=127339073683, bullet_pos=(2703.69, 1699.881)
[21:36:39] [INFO] [Bullet] Using shooter_position, distance=1384.00207519531
[21:36:39] [INFO] [Bullet] Distance to wall: 1384.00207519531 (94.2392462554567% of viewport)
[21:36:39] [INFO] [Bullet] Distance-based penetration chance: 36.7208793686339%
[21:36:39] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1981.065, 519.5106), shooter_id=127339073683, bullet_pos=(2703.69, 1699.881)
[21:36:39] [INFO] [Bullet] Using shooter_position, distance=1384.00207519531
[21:36:39] [INFO] [Bullet] Distance to wall: 1384.00207519531 (94.2392462554567% of viewport)
[21:36:39] [INFO] [Bullet] Distance-based penetration chance: 36.7208793686339%
[21:36:39] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:39] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[21:36:39] [ENEMY] [GuardEnemy6] State: SEEKING_COVER -> IN_COVER
[21:36:39] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:36:40] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 147.0°
[21:36:40] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[21:36:40] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[21:36:40] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[21:36:40] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[21:36:40] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[21:36:40] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[21:36:40] [ENEMY] [PatrolEnemy1] Player reloading: false -> true
[21:36:40] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[21:36:40] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[21:36:40] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[21:36:40] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2104.829, 962.7461), source=PLAYER (Player), range=900, listeners=8
[21:36:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=0, below_threshold=0
[21:36:40] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=3540), can_see=false
[21:36:40] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=5117), can_see=false
[21:36:40] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=2006), can_see=false
[21:36:40] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=3009), can_see=false
[21:36:40] [ENEMY] [PatrolEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1231), can_see=false
[21:36:40] [ENEMY] [PatrolEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=2840), can_see=false
[21:36:40] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=3313), can_see=false
[21:36:40] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=3306), can_see=false
[21:36:40] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 171.8°
[21:36:40] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 147.0°
[21:36:40] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[21:36:40] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[21:36:40] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[21:36:40] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[21:36:40] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[21:36:40] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[21:36:40] [ENEMY] [PatrolEnemy1] Player reloading: true -> false
[21:36:40] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[21:36:40] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[21:36:40] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[21:36:40] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[21:36:40] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 170.8°
[21:36:40] [INFO] [Player.Reload.Anim] LeftArm: pos=(11.253935, 5.050788), target=(16, 6), base=(16, 6)
[21:36:40] [INFO] [Player.Reload.Anim] RightArm: pos=(4.0000043, 6), target=(4, 6), base=(4, 6)
[21:36:40] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[21:36:40] [ENEMY] [GuardEnemy2] Death animation completed
[21:36:40] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[21:36:40] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 147.0°
[21:36:40] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 146.8°
[21:36:40] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=True, enemies=10
[21:36:40] [ENEMY] [GuardEnemy6] State: SEEKING_COVER -> IN_COVER
[21:36:40] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:36:41] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 147.0°
[21:36:41] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 150.7°
[21:36:41] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> IN_COVER
[21:36:41] [ENEMY] [GuardEnemy6] State: IN_COVER -> PURSUING
[21:36:41] [ENEMY] [GuardEnemy6] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-118.6°, current=6.7°, player=(2128,1332), corner_timer=0.00
[21:36:41] [ENEMY] [GuardEnemy3] Memory: medium confidence (0.57) - transitioning to PURSUING
[21:36:41] [ENEMY] [GuardEnemy3] State: IDLE -> PURSUING
[21:36:41] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-147.0°, current=11.3°, player=(2167,1371), corner_timer=0.00
[21:36:41] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 137.9°
[21:36:41] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 147.0°
[21:36:41] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 161.3°
[21:36:41] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 137.9°
[21:36:41] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 147.0°
[21:36:41] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 172.4°
[21:36:41] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-132.5°, current=-132.5°, player=(2268,1472), corner_timer=0.22
[21:36:41] [ENEMY] [PatrolEnemy2] FLANKING started: target=(2464.106, 1428.96), side=left, pos=(3474.473, 2787.279)
[21:36:41] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[21:36:41] [INFO] [ReplayManager] Recording frame 1020 (17,0s): player_valid=True, enemies=10
[21:36:42] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 137.9°
[21:36:42] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -36.2°
[21:36:42] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[21:36:42] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 178.5°
[21:36:42] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-132.3°, current=-132.3°, player=(2369,1573), corner_timer=0.30
[21:36:42] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-132.3°, current=-132.3°, player=(2389,1592), corner_timer=0.30
[21:36:42] [ENEMY] [GuardEnemy3] PURSUING corner check: angle 176.6°
[21:36:42] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 179.0°
[21:36:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3372.719, 2641.657), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3368.769, 2634.78), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:42] [ENEMY] [GuardEnemy6] Warning: No valid flank position (both sides behind walls)
[21:36:42] [ENEMY] [GuardEnemy6] FLANKING started: target=(2678.244, 1698.172), side=left, pos=(3553.71, 3940.729)
[21:36:42] [ENEMY] [GuardEnemy6] State: PURSUING -> FLANKING
[21:36:42] [ENEMY] [GuardEnemy3] PURSUING corner check: angle 177.6°
[21:36:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3357.589, 2626.744), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:42] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 122.9°
[21:36:42] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -176.8°
[21:36:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3342.596, 2618.713), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:42] [INFO] [ReplayManager] Recording frame 1080 (18,0s): player_valid=True, enemies=10
[21:36:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3336.443, 2602.444), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3328.666, 2583.123), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:42] [ENEMY] [PatrolEnemy1] FLANKING timeout (5.0s), target=(2382.629, 1618.66), pos=(1921.291, 1974.067)
[21:36:42] [ENEMY] [PatrolEnemy1] State: FLANKING -> PURSUING
[21:36:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3314.023, 2567.61), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3320.888, 2597.571), shooter_id=126231777361, bullet_pos=(2715.263, 1801.821)
[21:36:43] [INFO] [Bullet] Using shooter_position, distance=999.999816894531
[21:36:43] [INFO] [Bullet] Distance to wall: 999.999816894531 (68.0918263698673% of viewport)
[21:36:43] [INFO] [Bullet] Distance-based penetration chance: 67.2262025684881%
[21:36:43] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3299.284, 2552.186), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 160.1°
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3284.376, 2536.926), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [ENEMY] [PatrolEnemy1] PURSUING_MEMORY corner check: angle 142.5°
[21:36:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3305.828, 2582.547), shooter_id=126231777361, bullet_pos=(2702.349, 1733.5)
[21:36:43] [INFO] [Bullet] Using shooter_position, distance=1041.66650390625
[21:36:43] [INFO] [Bullet] Distance to wall: 1041.66650390625 (70.9289877067767% of viewport)
[21:36:43] [INFO] [Bullet] Distance-based penetration chance: 63.9161810087606%
[21:36:43] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3291.085, 2574.283), shooter_id=126231777361, bullet_pos=(2712.205, 1810.539)
[21:36:43] [INFO] [Bullet] Using shooter_position, distance=958.335510253906
[21:36:43] [INFO] [Bullet] Distance to wall: 958.335510253906 (65.2548271168029% of viewport)
[21:36:43] [INFO] [Bullet] Distance-based penetration chance: 70.5360350303966%
[21:36:43] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3269.249, 2521.884), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-114.4°, current=-151.8°, player=(2544,1820), corner_timer=0.17
[21:36:43] [ENEMY] [GuardEnemy6] State: FLANKING -> COMBAT
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3253.89, 2507.079), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3316.901, 2590.731), shooter_id=126231777361, bullet_pos=(2087.572, 1660.411)
[21:36:43] [INFO] [Bullet] Using shooter_position, distance=1541.66967773438
[21:36:43] [INFO] [Bullet] Distance to wall: 1541.66967773438 (104.975123237498% of viewport)
[21:36:43] [INFO] [Bullet] Distance-based penetration chance: 29.0049753525005%
[21:36:43] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3238.292, 2492.526), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [INFO] [LastChance] Threat detected: @Area2D@921
[21:36:43] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:43] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:43] [INFO] [Player] Spawning blood effect at (2544.3025, 1880.7074), dir=(1, 0), lethal=False (C#)
[21:36:43] [INFO] [ImpactEffects] spawn_blood_effect called at (2544.302, 1880.707), dir=(1, 0), lethal=false
[21:36:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:43] [INFO] [ImpactEffects] Blood effect spawned at (2544.302, 1880.707) (scale=1)
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3222.445, 2478.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [INFO] [LastChance] Threat detected: @Area2D@924
[21:36:43] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3206.341, 2464.252), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [ENEMY] [PatrolEnemy1] PURSUING_MEMORY corner check: angle 140.4°
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3189.97, 2450.574), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.6°, current=173.9°, player=(2544,1935), corner_timer=0.03
[21:36:43] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[21:36:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3284.724, 2558.249), shooter_id=126231777361, bullet_pos=(2545.178, 926.338)
[21:36:43] [INFO] [Bullet] Using shooter_position, distance=1791.66442871094
[21:36:43] [INFO] [Bullet] Distance to wall: 1791.66442871094 (121.997725531303% of viewport)
[21:36:43] [INFO] [Bullet] Distance-based penetration chance: 25.6004548937393%
[21:36:43] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3173.324, 2437.232), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=172.4°, current=78.1°, player=(2544,1952), corner_timer=0.03
[21:36:43] [INFO] [BloodDecal] Blood puddle created at (2611.48, 1883.488) (added to group)
[21:36:43] [INFO] [BloodDecal] Blood puddle created at (2624.984, 1860.318) (added to group)
[21:36:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3276.65, 2539.254), shooter_id=126231777361, bullet_pos=(2546.752, 903.004)
[21:36:43] [INFO] [Bullet] Using shooter_position, distance=1791.66552734375
[21:36:43] [INFO] [Bullet] Distance to wall: 1791.66552734375 (121.997800339232% of viewport)
[21:36:43] [INFO] [Bullet] Distance-based penetration chance: 25.6004399321536%
[21:36:43] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3156.398, 2424.248), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3139.234, 2411.578), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3418.913, 3785.994), source=ENEMY (GuardEnemy6), range=2000, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[21:36:43] [INFO] [BloodDecal] Blood puddle created at (2626.289, 1953.904) (added to group)
[21:36:43] [INFO] [BloodDecal] Blood puddle created at (2600.574, 1892.767) (added to group)
[21:36:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3215.434, 2480.285), shooter_id=126231777361, bullet_pos=(1856.835, 1950.235)
[21:36:43] [INFO] [Bullet] Using shooter_position, distance=1458.33642578125
[21:36:43] [INFO] [Bullet] Distance to wall: 1458.33642578125 (99.300808875671% of viewport)
[21:36:43] [INFO] [Bullet] Distance-based penetration chance: 30.8157229783839%
[21:36:43] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3215.434, 2480.285), shooter_id=126231777361, bullet_pos=(1856.835, 1950.235)
[21:36:43] [INFO] [Bullet] Using shooter_position, distance=1458.33642578125
[21:36:43] [INFO] [Bullet] Distance to wall: 1458.33642578125 (99.300808875671% of viewport)
[21:36:43] [INFO] [Bullet] Distance-based penetration chance: 30.8157229783839%
[21:36:43] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3121.901, 2399.142), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [INFO] [BloodDecal] Blood puddle created at (2668.459, 1868.451) (added to group)
[21:36:43] [INFO] [ReplayManager] Recording frame 1140 (19,0s): player_valid=True, enemies=10
[21:36:43] [ENEMY] [PatrolEnemy1] PURSUING corner check: angle 178.8°
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3104.466, 2386.849), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3115.253, 2401.838), shooter_id=126231777361, bullet_pos=(2713.16, 1870.081)
[21:36:43] [INFO] [Bullet] Using shooter_position, distance=666.667663574219
[21:36:43] [INFO] [Bullet] Distance to wall: 666.667663574219 (45.3946271065053% of viewport)
[21:36:43] [INFO] [Bullet] Distance-based penetration chance: 93.7062683757438%
[21:36:43] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:43] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=167.6°, current=119.1°, player=(2583,2023), corner_timer=0.03
[21:36:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3086.957, 2374.66), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:43] [INFO] [BloodDecal] Blood puddle created at (2727.062, 1953.605) (added to group)
[21:36:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3149.771, 2426.498), shooter_id=126231777361, bullet_pos=(2090.713, 1937.107)
[21:36:43] [INFO] [Bullet] Using shooter_position, distance=1166.66455078125
[21:36:43] [INFO] [Bullet] Distance to wall: 1166.66455078125 (79.4403345696359% of viewport)
[21:36:43] [INFO] [Bullet] Distance-based penetration chance: 53.9862763354249%
[21:36:43] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:43] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[21:36:43] [INFO] [BloodDecal] Blood puddle created at (2667.573, 1923.841) (added to group)
[21:36:44] [ENEMY] [PatrolEnemy1] State: PURSUING -> RETREATING
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3069.368, 2362.587), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2665.129, 1945.287) (added to group)
[21:36:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=178.8°, current=17.5°, player=(2614,2054), corner_timer=0.15
[21:36:44] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[21:36:44] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2687.92, 2009.813) (added to group)
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3051.691, 2350.645), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:44] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2766.368, 2048.146) (added to group)
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3044.613, 2354.495), shooter_id=126231777361, bullet_pos=(2751.025, 1899.292)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=541.66796875
[21:36:44] [INFO] [Bullet] Distance to wall: 541.66796875 (36.8831680317535% of viewport)
[21:36:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:44] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3231.199, 2494.513), shooter_id=126231777361, bullet_pos=(1447.792, 926.0438)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=2375.00219726563
[21:36:44] [INFO] [Bullet] Distance to wall: 2375.00219726563 (161.718266855763% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 17.6563466288473%
[21:36:44] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3262.504, 1877.947), source=ENEMY (GuardEnemy3), range=2000, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=4
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3097.617, 2390.034), shooter_id=126231777361, bullet_pos=(2139.115, 1885.173)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=1083.33349609375
[21:36:44] [INFO] [Bullet] Distance to wall: 1083.33349609375 (73.7661698236661% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 60.6061352057229%
[21:36:44] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:44] [INFO] [LastChance] Threat detected: @Area2D@974
[21:36:44] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3033.922, 2338.839), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[21:36:44] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=160.1°, current=-115.5°, player=(2646,2086), corner_timer=0.15
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3199.418, 2466.347), shooter_id=126231777361, bullet_pos=(1535.095, 952.2328)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=2250.0029296875
[21:36:44] [INFO] [Bullet] Distance to wall: 2250.0029296875 (153.206836872984% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 19.3586326254032%
[21:36:44] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:44] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:44] [INFO] [Player] Spawning blood effect at (2653.8848, 2093.8176), dir=(1, 0), lethal=False (C#)
[21:36:44] [INFO] [ImpactEffects] spawn_blood_effect called at (2653.885, 2093.818), dir=(1, 0), lethal=false
[21:36:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:44] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:44] [INFO] [ImpactEffects] Blood effect spawned at (2653.885, 2093.818) (scale=1)
[21:36:44] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3033.922, 2338.839), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=0
[21:36:44] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3033.922, 2338.839), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=0
[21:36:44] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:36:44] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:44] [INFO] [Player] Spawning blood effect at (2688.8872, 2128.82), dir=(1, 0), lethal=False (C#)
[21:36:44] [INFO] [ImpactEffects] spawn_blood_effect called at (2688.887, 2128.82), dir=(1, 0), lethal=false
[21:36:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:44] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:44] [INFO] [ImpactEffects] Blood effect spawned at (2688.887, 2128.82) (scale=1)
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3033.922, 2338.839), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=0
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3166.595, 2439.428), shooter_id=126231777361, bullet_pos=(2604.266, 46.2713)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=2458.3359375
[21:36:44] [INFO] [Bullet] Distance to wall: 2458.3359375 (167.392614465558% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 16.5214771068884%
[21:36:44] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3033.922, 2338.839), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=0
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3246.692, 2509.037), shooter_id=126231777361, bullet_pos=(61.70247, 1392.592)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=3374.998046875
[21:36:44] [INFO] [Bullet] Distance to wall: 3374.998046875 (229.809823085889% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 5%
[21:36:44] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2703.861, 2135.398) (added to group)
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3033.922, 2338.839), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=0
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3033.922, 2338.839), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=0
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3062.246, 2366.434), shooter_id=126231777361, bullet_pos=(1721.209, 939.3065)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=1958.33435058594
[21:36:44] [INFO] [Bullet] Distance to wall: 1958.33435058594 (133.346586990734% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 23.3306826018532%
[21:36:44] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3183.141, 2452.72), shooter_id=126231777361, bullet_pos=(59.14298, 2531.913)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=3125.00146484375
[21:36:44] [INFO] [Bullet] Distance to wall: 3125.00146484375 (212.787096112203% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 7.44258077755946%
[21:36:44] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3033.922, 2338.839), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=0
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2787.692, 2206.393) (added to group)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2779.542, 2154.688) (added to group)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2726.494, 2159.184) (added to group)
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2971.765, 2311.21), shooter_id=126231777361, bullet_pos=(2718.431, 1739.854)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=625.000610351563
[21:36:44] [INFO] [Bullet] Distance to wall: 625.000610351563 (42.5574408336199% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 97.0163190274435%
[21:36:44] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:44] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3033.922, 2338.839), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=0
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2747.394, 2186.73) (added to group)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2793.848, 2188.463) (added to group)
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2782.227, 2228.16), source=PLAYER (MakarovPM), range=1469, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2746.038, 2140.228) (added to group)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2786.224, 2159.983) (added to group)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2825.816, 2115.466) (added to group)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2759.291, 2139.47) (added to group)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2831.043, 2228.389) (added to group)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2820.692, 2190.2) (added to group)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2842.419, 2169.446) (added to group)
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2971.355, 2312.16), shooter_id=126231777361, bullet_pos=(2260.108, 2659.814)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=791.667053222656
[21:36:44] [INFO] [Bullet] Distance to wall: 791.667053222656 (53.906065401277% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 83.7762570318435%
[21:36:44] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2971.355, 2312.16), shooter_id=126231777361, bullet_pos=(2260.108, 2659.814)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=791.667053222656
[21:36:44] [INFO] [Bullet] Distance to wall: 791.667053222656 (53.906065401277% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 83.7762570318435%
[21:36:44] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2972.144, 2310.366), shooter_id=126231777361, bullet_pos=(1909.131, 1942.084)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=1125.00158691406
[21:36:44] [INFO] [Bullet] Distance to wall: 1125.00158691406 (76.6034267484839% of viewport)
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3132.66, 2413.957), shooter_id=126231777361, bullet_pos=(53.95684, 2949.87)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=3124.99877929688
[21:36:44] [INFO] [Bullet] Distance to wall: 3124.99877929688 (212.786913248378% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 7.44261735032446%
[21:36:44] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2801.424, 2200.235) (added to group)
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2972.495, 2309.612), shooter_id=126231777361, bullet_pos=(1702.454, 2836.508)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=1374.99926757813
[21:36:44] [INFO] [Bullet] Distance to wall: 1374.99926757813 (93.6262285300989% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 37.4360667148846%
[21:36:44] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:44] [INFO] [ReplayManager] Recording frame 1200 (20,0s): player_valid=True, enemies=10
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2769.262, 2168.006) (added to group)
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2973.136, 2308.331), shooter_id=126231777361, bullet_pos=(2271.888, 659.5963)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=1791.66845703125
[21:36:44] [INFO] [Bullet] Distance to wall: 1791.66845703125 (121.997999827041% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 25.6004000345918%
[21:36:44] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2817.229, 2263.162), source=PLAYER (MakarovPM), range=1469, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2780.697, 2268.082) (added to group)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2824.07, 2211.719) (added to group)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2812.07, 2231.151) (added to group)
[21:36:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3319.428, 1901.379), source=ENEMY (GuardEnemy3), range=2000, listeners=8
[21:36:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=4
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2969.915, 2315.871), shooter_id=126231777361, bullet_pos=(2402.981, 2666.629)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=666.666870117188
[21:36:44] [INFO] [Bullet] Distance to wall: 666.666870117188 (45.394573078557% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 93.7063314083502%
[21:36:44] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:44] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=4/4->3/4
[21:36:44] [INFO] [ImpactEffects] spawn_blood_effect called at (3033.922, 2338.839), dir=(0.922778, 0.385333), lethal=false
[21:36:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:44] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:44] [INFO] [ImpactEffects] Blood effect spawned at (3033.922, 2338.839) (scale=0.5)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2824.308, 2233.646) (added to group)
[21:36:44] [INFO] [BloodDecal] Blood puddle created at (2879.676, 2267.58) (added to group)
[21:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3079.924, 2378.272), shooter_id=126231777361, bullet_pos=(54.9731, 2696.738)
[21:36:44] [INFO] [Bullet] Using shooter_position, distance=3041.66870117188
[21:36:44] [INFO] [Bullet] Distance to wall: 3041.66870117188 (207.112814998344% of viewport)
[21:36:44] [INFO] [Bullet] Distance-based penetration chance: 8.57743700033114%
[21:36:44] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2848.343, 2294.276), source=PLAYER (MakarovPM), range=1469, listeners=8
[21:36:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[21:36:45] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=3/4->2/4
[21:36:45] [INFO] [ImpactEffects] spawn_blood_effect called at (3033.922, 2338.839), dir=(0.92601, 0.377498), lethal=false
[21:36:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:45] [INFO] [ImpactEffects] Blood effect spawned at (3033.922, 2338.839) (scale=0.5)
[21:36:45] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[21:36:45] [ENEMY] [PatrolEnemy2] State: RETREATING -> SUPPRESSED
[21:36:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3026.902, 2342.687), shooter_id=126231777361, bullet_pos=(36.39774, 1787.145)
[21:36:45] [INFO] [Bullet] Using shooter_position, distance=3041.66821289063
[21:36:45] [INFO] [Bullet] Distance to wall: 3041.66821289063 (207.112781750376% of viewport)
[21:36:45] [INFO] [Bullet] Distance-based penetration chance: 8.57744364992477%
[21:36:45] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:45] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=2/4->1/4
[21:36:45] [INFO] [ImpactEffects] spawn_blood_effect called at (3033.922, 2338.839), dir=(0.933483, 0.358621), lethal=false
[21:36:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:45] [INFO] [ImpactEffects] Blood effect spawned at (3033.922, 2338.839) (scale=0.5)
[21:36:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2991.167, 2319.577), shooter_id=126231777361, bullet_pos=(1458.565, 36.23909)
[21:36:45] [INFO] [Bullet] Using shooter_position, distance=2750.00024414063
[21:36:45] [INFO] [Bullet] Distance to wall: 2750.00024414063 (187.252573428086% of viewport)
[21:36:45] [INFO] [Bullet] Distance-based penetration chance: 12.5494853143827%
[21:36:45] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:45] [ENEMY] [PatrolEnemy2] State: SUPPRESSED -> SEEKING_COVER
[21:36:45] [ENEMY] [PatrolEnemy2] State: SEEKING_COVER -> COMBAT
[21:36:45] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[21:36:45] [ENEMY] [PatrolEnemy2] State: RETREATING -> SUPPRESSED
[21:36:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2972.82, 2308.934), shooter_id=126231777361, bullet_pos=(1411.366, 45.22719)
[21:36:45] [INFO] [Bullet] Using shooter_position, distance=2750.00122070313
[21:36:45] [INFO] [Bullet] Distance to wall: 2750.00122070313 (187.252639924023% of viewport)
[21:36:45] [INFO] [Bullet] Distance-based penetration chance: 12.5494720151954%
[21:36:45] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3170.617, 2381.566) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3140.836, 2396.272) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3119.037, 2364.344) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3075.367, 2399.679) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3126.021, 2384.39) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3094.37, 2407.103) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3137.913, 2427.917) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3110.155, 2420.644) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3137.551, 2402.649) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3093.76, 2384.225) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3100.253, 2370.237) (added to group)
[21:36:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2970.912, 2313.235), shooter_id=126231777361, bullet_pos=(2875.634, 65.2531)
[21:36:45] [INFO] [Bullet] Using shooter_position, distance=2249.99975585938
[21:36:45] [INFO] [Bullet] Distance to wall: 2249.99975585938 (153.206620761191% of viewport)
[21:36:45] [INFO] [Bullet] Distance-based penetration chance: 19.3586758477619%
[21:36:45] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3098.192, 2453.584) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3084.861, 2423.121) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3123.552, 2365.201) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3152.561, 2442.582) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3116.553, 2376.708) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3097.247, 2420.749) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3229.218, 2424.492) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3117.188, 2420.438) (added to group)
[21:36:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2970.433, 2314.461), shooter_id=126231777361, bullet_pos=(2457.19, 38.27607)
[21:36:45] [INFO] [Bullet] Using shooter_position, distance=2333.33129882813
[21:36:45] [INFO] [Bullet] Distance to wall: 2333.33129882813 (158.880818755129% of viewport)
[21:36:45] [INFO] [Bullet] Distance-based penetration chance: 18.2238362489743%
[21:36:45] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3160.098, 2501.357) (added to group)
[21:36:45] [ENEMY] [PatrolEnemy2] State: SUPPRESSED -> SEEKING_COVER
[21:36:45] [ENEMY] [PatrolEnemy2] State: SEEKING_COVER -> COMBAT
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3137.689, 2391.186) (added to group)
[21:36:45] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3141.628, 2509.752) (added to group)
[21:36:45] [ENEMY] [PatrolEnemy2] State: RETREATING -> SUPPRESSED
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3174.858, 2514.274) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3151.829, 2461.496) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3141.807, 2434.768) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3132.52, 2498.677) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3163.335, 2492.811) (added to group)
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3203.418, 2503.034) (added to group)
[21:36:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3407.526, 1949.123), source=ENEMY (GuardEnemy3), range=2000, listeners=8
[21:36:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=4
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3191.175, 2454.461) (added to group)
[21:36:45] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[21:36:45] [INFO] [ReplayManager] Recording frame 1260 (21,0s): player_valid=True, enemies=10
[21:36:45] [ENEMY] [PatrolEnemy2] State: SUPPRESSED -> SEEKING_COVER
[21:36:45] [INFO] [BloodDecal] Blood puddle created at (3234.681, 2514.501) (added to group)
[21:36:45] [ENEMY] [PatrolEnemy2] State: SEEKING_COVER -> COMBAT
[21:36:45] [ENEMY] [GuardEnemy6] State: SEEKING_COVER -> IN_COVER
[21:36:45] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[21:36:45] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:36:45] [ENEMY] [PatrolEnemy2] State: RETREATING -> SUPPRESSED
[21:36:45] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[21:36:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2741.436, 2336.873), source=PLAYER (MakarovPM), range=1469, listeners=8
[21:36:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[21:36:45] [ENEMY] [GuardEnemy6] State: SEEKING_COVER -> IN_COVER
[21:36:45] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:36:46] [ENEMY] [PatrolEnemy2] State: SUPPRESSED -> SEEKING_COVER
[21:36:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:46] [INFO] [Player] Spawning blood effect at (2726.7744, 2302.9092), dir=(1, 0), lethal=False (C#)
[21:36:46] [INFO] [ImpactEffects] spawn_blood_effect called at (2726.774, 2302.909), dir=(1, 0), lethal=false
[21:36:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:46] [INFO] [ImpactEffects] Blood effect spawned at (2726.774, 2302.909) (scale=1)
[21:36:46] [ENEMY] [PatrolEnemy2] State: SEEKING_COVER -> COMBAT
[21:36:46] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[21:36:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2724.601, 2302.552), source=PLAYER (MakarovPM), range=1469, listeners=8
[21:36:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[21:36:46] [ENEMY] [PatrolEnemy2] State: RETREATING -> SUPPRESSED
[21:36:46] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> IN_COVER
[21:36:46] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[21:36:46] [ENEMY] [GuardEnemy6] State: IN_COVER -> PURSUING
[21:36:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2738.65, 2281.574), source=PLAYER (MakarovPM), range=1469, listeners=8
[21:36:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (2804.384, 2347.33) (added to group)
[21:36:46] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[21:36:46] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-116.7°, current=160.1°, player=(2738,2275), corner_timer=0.15
[21:36:46] [ENEMY] [PatrolEnemy2] Hit: dmg=1, hp=1/4->0/4
[21:36:46] [INFO] [ImpactEffects] spawn_blood_effect called at (3033.922, 2338.839), dir=(0.998447, 0.055713), lethal=true
[21:36:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:46] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:36:46] [INFO] [ImpactEffects] Blood effect spawned at (3033.922, 2338.839) (scale=0.75)
[21:36:46] [ENEMY] [PatrolEnemy2] Enemy died (ricochet: false, penetration: false)
[21:36:46] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[21:36:46] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy2 (remaining: 7)
[21:36:46] [INFO] [DeathAnim] Started - Angle: 3.2 deg, Index: 12
[21:36:46] [ENEMY] [PatrolEnemy2] Death animation started with hit direction: (0.998447, 0.055713)
[21:36:46] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=27.8°, current=178.8°, player=(2740,2276), corner_timer=0.15
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (2804.448, 2327.677) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (2774.769, 2341.969) (added to group)
[21:36:46] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[21:36:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2772.338, 2307.207), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=2
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (2848.473, 2361.308) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (2865.973, 2327.741) (added to group)
[21:36:46] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:36:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3405.678, 1949.557), source=ENEMY (GuardEnemy3), range=2000, listeners=7
[21:36:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (2803.988, 2344.167) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (2809.599, 2383.323) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (2904.842, 2325.225) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3103.254, 2324.865) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3076.745, 2370.152) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (2846.751, 2389.037) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3086.662, 2350.064) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3122.666, 2395.789) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (2839.498, 2357.681) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3129.511, 2350.531) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3150.115, 2409.957) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3100.948, 2412.563) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3172.079, 2423.286) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3144.76, 2361.091) (added to group)
[21:36:46] [INFO] [ReplayManager] Recording frame 1320 (22,0s): player_valid=True, enemies=10
[21:36:46] [ENEMY] [PatrolEnemy2] Ragdoll activated
[21:36:46] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3187.998, 2377.857) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3190.616, 2355.764) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3174.381, 2472.229) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3212.009, 2364.145) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3225.323, 2501.101) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3141.719, 2409.181) (added to group)
[21:36:46] [INFO] [BloodDecal] Blood puddle created at (3175.611, 2504.67) (added to group)
[21:36:47] [INFO] [BloodDecal] Blood puddle created at (3201.557, 2378.508) (added to group)
[21:36:47] [INFO] [BloodDecal] Blood puddle created at (3185.289, 2472.542) (added to group)
[21:36:47] [INFO] [BloodDecal] Blood puddle created at (3238.142, 2459.06) (added to group)
[21:36:47] [INFO] [BloodDecal] Blood puddle created at (3152.011, 2438.026) (added to group)
[21:36:47] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-107.4°, current=-107.4°, player=(3024,2319), corner_timer=0.15
[21:36:47] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-107.2°, current=-107.3°, player=(3024,2308), corner_timer=0.15
[21:36:47] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-107.2°, current=-107.2°, player=(3024,2302), corner_timer=0.15
[21:36:47] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-107.0°, current=-107.0°, player=(3024,2286), corner_timer=0.15
[21:36:47] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-106.8°, current=-106.9°, player=(3024,2275), corner_timer=0.15
[21:36:47] [ENEMY] [GuardEnemy6] State: PURSUING -> COMBAT
[21:36:47] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-106.7°, current=-106.8°, player=(3024,2264), corner_timer=0.15
[21:36:47] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[21:36:47] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[21:36:47] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[21:36:47] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[21:36:47] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[21:36:47] [ENEMY] [PatrolEnemy1] Player reloading: false -> true
[21:36:47] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[21:36:47] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[21:36:47] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[21:36:47] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(3024.39, 2242.331), source=PLAYER (Player), range=900, listeners=7
[21:36:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=1
[21:36:47] [INFO] [ReplayManager] Recording frame 1380 (23,0s): player_valid=True, enemies=10
[21:36:47] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=3167), can_see=false
[21:36:47] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3560), can_see=false
[21:36:47] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=504), can_see=true
[21:36:47] [ENEMY] [GuardEnemy3] Player vulnerable (reloading) - pursuing to attack (dist=504)
[21:36:47] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=1777), can_see=false
[21:36:47] [ENEMY] [PatrolEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1290), can_see=false
[21:36:47] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2544), can_see=false
[21:36:47] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1504), can_see=false
[21:36:47] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-106.4°, current=-155.5°, player=(3024,2236), corner_timer=0.15
[21:36:47] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) - pursuing to attack (dist=1504)
[21:36:47] [ENEMY] [GuardEnemy6] State: COMBAT -> PURSUING
[21:36:47] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2989.946, 2034.319), side=right, pos=(1816.807, 1789.828)
[21:36:47] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[21:36:47] [ENEMY] [PatrolEnemy2] Death animation completed
[21:36:47] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-106.3°, current=-146.9°, player=(3024,2220), corner_timer=0.15
[21:36:48] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[21:36:48] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[21:36:48] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[21:36:48] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[21:36:48] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[21:36:48] [ENEMY] [PatrolEnemy1] Player reloading: true -> false
[21:36:48] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[21:36:48] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[21:36:48] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[21:36:48] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[21:36:48] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 128.8°
[21:36:48] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[21:36:48] [ENEMY] [SniperEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-135.2°, current=146.3°, player=(3024,2143), corner_timer=0.00
[21:36:48] [ENEMY] [SniperEnemy2] State: IDLE -> COMBAT
[21:36:48] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[21:36:48] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 132.4°
[21:36:48] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-133.1°, current=-133.2°, player=(3056,1986), corner_timer=0.00
[21:36:48] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=1.1°, current=1.2°, player=(3067,1974), corner_timer=0.00
[21:36:48] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[21:36:48] [INFO] [ReplayManager] Recording frame 1440 (24,0s): player_valid=True, enemies=10
[21:36:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3180.643, 1867.554), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[21:36:49] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-6.7°, current=-6.7°, player=(3184,1857), corner_timer=0.00
[21:36:49] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[21:36:49] [ENEMY] [GuardEnemy6] FLANKING started: target=(3059.948, 1943.214), side=right, pos=(3449.703, 3679.229)
[21:36:49] [ENEMY] [GuardEnemy6] State: PURSUING -> FLANKING
[21:36:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3227.313, 1820.885), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[21:36:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3180.643, 1867.554), shooter_id=127339073683, bullet_pos=(3447.539, 1882.82)
[21:36:49] [INFO] [Bullet] Using shooter_position, distance=267.33251953125
[21:36:49] [INFO] [Bullet] Distance to wall: 267.33251953125 (18.2031628360397% of viewport)
[21:36:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:49] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:49] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-95.5°, current=-95.5°, player=(3262,1779), corner_timer=-0.02
[21:36:49] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 168.9°
[21:36:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3265.896, 1781.867), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[21:36:49] [ENEMY] [GuardEnemy6] State: FLANKING -> COMBAT
[21:36:49] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=3/3->2/3
[21:36:49] [INFO] [ImpactEffects] spawn_blood_effect called at (3468.434, 1795.696), dir=(0.995817, 0.091374), lethal=false
[21:36:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:49] [INFO] [ImpactEffects] Blood effect spawned at (3468.434, 1795.696) (scale=0.5)
[21:36:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3293.818, 1745.124), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[21:36:49] [INFO] [ReplayManager] Recording frame 1500 (25,0s): player_valid=True, enemies=10
[21:36:49] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=177.6°, current=-168.2°, player=(3291,1733), corner_timer=0.03
[21:36:49] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[21:36:49] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[21:36:49] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=2/3->1/3
[21:36:49] [INFO] [ImpactEffects] spawn_blood_effect called at (3498.003, 1757.347), dir=(0.982306, 0.187281), lethal=false
[21:36:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:49] [INFO] [ImpactEffects] Blood effect spawned at (3498.003, 1757.347) (scale=0.5)
[21:36:49] [INFO] [BloodDecal] Blood puddle created at (3535.397, 1826.186) (added to group)
[21:36:49] [INFO] [BloodDecal] Blood puddle created at (3530.114, 1827.044) (added to group)
[21:36:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3263.078, 1730.776), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3565.382, 1867.452) (added to group)
[21:36:50] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-95.5°, current=-95.5°, player=(3253,1724), corner_timer=0.22
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3535.297, 1873.3) (added to group)
[21:36:50] [ENEMY] [GuardEnemy6] State: COMBAT -> PURSUING
[21:36:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3219.273, 1736.337), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3622.167, 1820.041) (added to group)
[21:36:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3263.078, 1730.776), shooter_id=127339073683, bullet_pos=(3462.96, 1748.509)
[21:36:50] [INFO] [Bullet] Using shooter_position, distance=200.667572021484
[21:36:50] [INFO] [Bullet] Distance to wall: 200.667572021484 (13.6638239740707% of viewport)
[21:36:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:50] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3542.032, 1829.057) (added to group)
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3567.164, 1792.402) (added to group)
[21:36:50] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3668.199, 1841.46) (added to group)
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3576.499, 1867.394) (added to group)
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3605.643, 1799.661) (added to group)
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3664.488, 1876.221) (added to group)
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3556.219, 1829.173) (added to group)
[21:36:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3219.273, 1736.337), shooter_id=127339073683, bullet_pos=(3453.202, 1742.058)
[21:36:50] [INFO] [Bullet] Using shooter_position, distance=233.999145507813
[21:36:50] [INFO] [Bullet] Distance to wall: 233.999145507813 (15.9334321041138% of viewport)
[21:36:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:50] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:50] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> IN_COVER
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3624.511, 1830.502) (added to group)
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3675.377, 1832.475) (added to group)
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3569.42, 1856.558) (added to group)
[21:36:50] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3619.055, 1882.585) (added to group)
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3689.337, 1881.988) (added to group)
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3624.928, 1843.328) (added to group)
[21:36:50] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[21:36:50] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> IN_COVER
[21:36:50] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[21:36:50] [INFO] [BloodDecal] Blood puddle created at (3687.243, 1911.642) (added to group)
[21:36:50] [ENEMY] [PatrolEnemy1] Warning: No valid flank position (both sides behind walls)
[21:36:50] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3090.51, 1665.438), side=right, pos=(1942.178, 2006.766)
[21:36:50] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[21:36:50] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 96.7°
[21:36:50] [INFO] [ReplayManager] Recording frame 1560 (26,0s): player_valid=True, enemies=10
[21:36:50] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-95.3°, current=-95.5°, player=(3268,1823), corner_timer=0.22
[21:36:50] [ENEMY] [GuardEnemy6] State: PURSUING -> COMBAT
[21:36:50] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[21:36:51] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-7.7°, current=-7.7°, player=(3312,1837), corner_timer=0.03
[21:36:51] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[21:36:51] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> IN_COVER
[21:36:51] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[21:36:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3343.803, 1872.618), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[21:36:51] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[21:36:51] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> IN_COVER
[21:36:51] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[21:36:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3343.803, 1872.618), shooter_id=127339073683, bullet_pos=(3447.343, 1741.165)
[21:36:51] [INFO] [Bullet] Using shooter_position, distance=167.333099365234
[21:36:51] [INFO] [Bullet] Distance to wall: 167.333099365234 (11.3940184342164% of viewport)
[21:36:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:51] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:51] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[21:36:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3379.864, 1916.682), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[21:36:51] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[21:36:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3379.864, 1916.682), shooter_id=127339073683, bullet_pos=(3455.902, 1827.322)
[21:36:51] [INFO] [Bullet] Using shooter_position, distance=117.332908630371
[21:36:51] [INFO] [Bullet] Distance to wall: 117.332908630371 (7.98941350483604% of viewport)
[21:36:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:51] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3410.891, 3265.809), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[21:36:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[21:36:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3382.382, 1952.352), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[21:36:51] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> IN_COVER
[21:36:51] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[21:36:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3382.382, 1952.352), shooter_id=127339073683, bullet_pos=(3449.107, 1876.976)
[21:36:51] [INFO] [Bullet] Using shooter_position, distance=100.66658782959
[21:36:51] [INFO] [Bullet] Distance to wall: 100.66658782959 (6.85457307484925% of viewport)
[21:36:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:51] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2211.079, 2004.561), source=ENEMY (PatrolEnemy1), range=1469, listeners=7
[21:36:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[21:36:51] [ENEMY] [SniperEnemy1] Player ammo empty: false -> true
[21:36:51] [ENEMY] [SniperEnemy2] Player ammo empty: false -> true
[21:36:51] [ENEMY] [GuardEnemy3] Player ammo empty: false -> true
[21:36:51] [ENEMY] [GuardEnemy4] Player ammo empty: false -> true
[21:36:51] [ENEMY] [PatrolEnemy1] Player ammo empty: false -> true
[21:36:51] [ENEMY] [GuardEnemy5] Player ammo empty: false -> true
[21:36:51] [ENEMY] [GuardEnemy6] Player ammo empty: false -> true
[21:36:51] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3362.416, 1962.245), source=PLAYER (Player), range=600, listeners=7
[21:36:51] [ENEMY] [GuardEnemy3] Heard player EMPTY_CLICK at (3362.416, 1962.245), intensity=0.03, distance=311
[21:36:51] [ENEMY] [GuardEnemy3] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[21:36:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[21:36:51] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2729), can_see=false
[21:36:51] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3536), can_see=false
[21:36:51] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=127.7°, current=-109.2°, player=(3362,1962), corner_timer=0.03
[21:36:51] [ENEMY] [GuardEnemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=311), can_see=false
[21:36:51] [ENEMY] [GuardEnemy3] Pursuing vulnerability sound at (3362.416, 1962.245), distance=311
[21:36:51] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1477), can_see=false
[21:36:51] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1125), can_see=true
[21:36:51] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=1125)
[21:36:51] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[21:36:51] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2976), can_see=false
[21:36:51] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1240), can_see=true
[21:36:51] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) - pursuing to attack (dist=1240)
[21:36:51] [ENEMY] [GuardEnemy6] State: COMBAT -> PURSUING
[21:36:51] [ENEMY] [GuardEnemy6] State: PURSUING -> RETREATING
[21:36:51] [ENEMY] [PatrolEnemy1] State: PURSUING -> RETREATING
[21:36:51] [INFO] [ReplayManager] Recording frame 1620 (27,0s): player_valid=True, enemies=10
[21:36:51] [INFO] [LastChance] Threat detected: Bullet
[21:36:51] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2278.9326, 2009.5284), shooter_id=125879455804, bullet_pos=(3485.8665, 1951.3975)
[21:36:52] [INFO] [Bullet] Using shooter_position, distance=1208,3329
[21:36:52] [INFO] [Bullet] Distance to wall: 1208,3329 (82,27761% of viewport)
[21:36:52] [INFO] [Bullet] Distance-based penetration chance: 50,676132%
[21:36:52] [INFO] [Bullet] Starting wall penetration at (3485.8665, 1951.3975)
[21:36:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[21:36:52] [INFO] [Bullet] Exiting penetration at (3532.479, 1949.1523) after traveling 41,66667 pixels through wall
[21:36:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:36:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=148.8°, current=119.7°, player=(3330,1879), corner_timer=0.03
[21:36:52] [ENEMY] [GuardEnemy3] Player empty ammo - priority attack triggered
[21:36:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3460.79, 1800.358), source=ENEMY (GuardEnemy3), range=2000, listeners=7
[21:36:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[21:36:52] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[21:36:52] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:36:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:52] [INFO] [Player] Spawning blood effect at (3332.6575, 1863.2739), dir=(1, 0), lethal=False (C#)
[21:36:52] [INFO] [ImpactEffects] spawn_blood_effect called at (3332.657, 1863.274), dir=(1, 0), lethal=false
[21:36:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:52] [INFO] [ImpactEffects] Blood effect spawned at (3332.657, 1863.274) (scale=1)
[21:36:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:52] [INFO] [Player] Spawning blood effect at (3332.6575, 1863.2739), dir=(1, 0), lethal=False (C#)
[21:36:52] [INFO] [ImpactEffects] spawn_blood_effect called at (3332.657, 1863.274), dir=(1, 0), lethal=false
[21:36:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:52] [INFO] [ImpactEffects] Blood effect spawned at (3332.657, 1863.274) (scale=1)
[21:36:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:52] [INFO] [Player] Spawning blood effect at (3332.6575, 1863.2739), dir=(1, 0), lethal=False (C#)
[21:36:52] [INFO] [ImpactEffects] spawn_blood_effect called at (3332.657, 1863.274), dir=(1, 0), lethal=false
[21:36:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:52] [INFO] [ImpactEffects] Blood effect spawned at (3332.657, 1863.274) (scale=1)
[21:36:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:52] [INFO] [Player] Spawning blood effect at (3332.6575, 1863.2739), dir=(1, 0), lethal=False (C#)
[21:36:52] [INFO] [ImpactEffects] spawn_blood_effect called at (3332.657, 1863.274), dir=(1, 0), lethal=false
[21:36:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:52] [INFO] [ImpactEffects] Blood effect spawned at (3332.657, 1863.274) (scale=1)
[21:36:52] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2691), can_see=false
[21:36:52] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3637), can_see=false
[21:36:52] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1531), can_see=false
[21:36:52] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1108), can_see=true
[21:36:52] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3042), can_see=false
[21:36:52] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1350), can_see=true
[21:36:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3450.129, 1805.885), source=ENEMY (GuardEnemy3), range=2000, listeners=7
[21:36:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[21:36:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3453.242, 1805.933), source=ENEMY (GuardEnemy3), range=2000, listeners=7
[21:36:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[21:36:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=177.6°, current=108.7°, player=(3351,1826), corner_timer=0.03
[21:36:52] [ENEMY] [GuardEnemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=105), can_see=false
[21:36:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:52] [INFO] [Player] Spawning blood effect at (3354.8306, 1822.9585), dir=(1, 0), lethal=False (C#)
[21:36:52] [INFO] [ImpactEffects] spawn_blood_effect called at (3354.831, 1822.958), dir=(1, 0), lethal=false
[21:36:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:52] [INFO] [ImpactEffects] Blood effect spawned at (3354.831, 1822.958) (scale=1)
[21:36:52] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=96.7°, current=-9.4°, player=(3361,1814), corner_timer=0.00
[21:36:52] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[21:36:52] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3409.841, 1918.672) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3396.297, 1870.796) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3411.031, 1871.99) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3424.936, 1904.503) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3434.839, 1868.423) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3439.539, 1844.618) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3446.065, 1865.086) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3430.793, 1848.02) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3421.761, 1914.466) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3418.361, 1924.802) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3426.477, 1845.562) (added to group)
[21:36:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-145.3°, current=177.7°, player=(3375,1737), corner_timer=0.03
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3420.646, 1942.089) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3428.155, 1915.076) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3449.406, 1897.234) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3396.157, 1855.813) (added to group)
[21:36:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=177.6°, current=161.9°, player=(3375,1732), corner_timer=0.03
[21:36:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-141.3°, current=-171.9°, player=(3375,1726), corner_timer=0.03
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3444.912, 1840.304) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3435.454, 1830.381) (added to group)
[21:36:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=177.6°, current=168.3°, player=(3375,1721), corner_timer=0.03
[21:36:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-137.2°, current=-162.5°, player=(3375,1715), corner_timer=0.03
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3421.313, 1937.378) (added to group)
[21:36:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=177.6°, current=174.5°, player=(3375,1710), corner_timer=0.03
[21:36:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-132.4°, current=-160.6°, player=(3375,1704), corner_timer=0.03
[21:36:52] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) - pursuing to attack (dist=1497)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3411.467, 1953.049) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3424.14, 1970.516) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3412.987, 1938.203) (added to group)
[21:36:52] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2576), can_see=false
[21:36:52] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3735), can_see=false
[21:36:52] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1546), can_see=false
[21:36:52] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1177), can_see=false
[21:36:52] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3187), can_see=false
[21:36:52] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1503), can_see=true
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3415.953, 1975.568) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3430.668, 1984.475) (added to group)
[21:36:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=177.6°, current=108.5°, player=(3375,1682), corner_timer=0.03
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3441.157, 1915.117) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3435.666, 1992.784) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3432.576, 1940.03) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3518.736, 2012.157) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3424.371, 1846.693) (added to group)
[21:36:52] [ENEMY] [GuardEnemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=232), can_see=false
[21:36:52] [INFO] [ReplayManager] Recording frame 1680 (28,0s): player_valid=True, enemies=10
[21:36:52] [INFO] [BloodyFeet:GuardEnemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3456.165, 2033.438) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3467.665, 1993.676) (added to group)
[21:36:52] [INFO] [BloodDecal] Blood puddle created at (3537.045, 2042.228) (added to group)
[21:36:52] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[21:36:52] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[21:36:52] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[21:36:52] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[21:36:52] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[21:36:52] [ENEMY] [PatrolEnemy1] Player reloading: false -> true
[21:36:52] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[21:36:52] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[21:36:52] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(3375.156, 1644.378), source=PLAYER (Player), range=900, listeners=7
[21:36:52] [ENEMY] [GuardEnemy3] Heard player RELOAD at (3375.156, 1644.378), intensity=0.03, distance=271
[21:36:52] [ENEMY] [GuardEnemy3] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[21:36:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[21:36:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-123.2°, current=173.3°, player=(3375,1644), corner_timer=0.03
[21:36:52] [ENEMY] [GuardEnemy3] Pursuing vulnerability sound at (3375.156, 1644.378), distance=271
[21:36:53] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[21:36:53] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[21:36:53] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[21:36:53] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[21:36:53] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[21:36:53] [ENEMY] [PatrolEnemy1] Player reloading: true -> false
[21:36:53] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[21:36:53] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[21:36:53] [ENEMY] [SniperEnemy1] Player ammo empty: true -> false
[21:36:53] [ENEMY] [SniperEnemy2] Player ammo empty: true -> false
[21:36:53] [ENEMY] [GuardEnemy3] Player ammo empty: true -> false
[21:36:53] [ENEMY] [GuardEnemy4] Player ammo empty: true -> false
[21:36:53] [ENEMY] [PatrolEnemy1] Player ammo empty: true -> false
[21:36:53] [ENEMY] [GuardEnemy5] Player ammo empty: true -> false
[21:36:53] [ENEMY] [GuardEnemy6] Player ammo empty: true -> false
[21:36:53] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[21:36:53] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[21:36:53] [INFO] [Player.Reload.Anim] LeftArm: pos=(15.52623, 5.905224), target=(16, 6), base=(16, 6)
[21:36:53] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9998891, 6), target=(4, 6), base=(4, 6)
[21:36:53] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-106.3°, current=-63.9°, player=(3369,1492), corner_timer=0.03
[21:36:53] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[21:36:53] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:36:53] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=177.6°, current=-55.2°, player=(3364,1490), corner_timer=0.03
[21:36:53] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-107.2°, current=-58.3°, player=(3362,1489), corner_timer=0.03
[21:36:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3458.375, 1801.864), source=ENEMY (GuardEnemy3), range=2000, listeners=7
[21:36:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[21:36:53] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=177.6°, current=-36.7°, player=(3357,1490), corner_timer=0.03
[21:36:53] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=168.9°, current=-90.2°, player=(3341,1498), corner_timer=0.22
[21:36:53] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[21:36:53] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:36:53] [INFO] [ReplayManager] Recording frame 1740 (29,0s): player_valid=True, enemies=10
[21:36:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3280.812, 1562.348), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[21:36:54] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> IN_COVER
[21:36:54] [ENEMY] [GuardEnemy6] State: IN_COVER -> PURSUING
[21:36:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3241.92, 1601.239), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[21:36:54] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-93.8°, current=-165.0°, player=(3241,1595), corner_timer=0.22
[21:36:54] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[21:36:54] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[21:36:54] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[21:36:54] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[21:36:54] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-21.3°, current=96.7°, player=(3215,1622), corner_timer=0.00
[21:36:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3209.998, 1637.516), source=PLAYER (MakarovPM), range=1469, listeners=7
[21:36:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[21:36:54] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=1/3->0/3
[21:36:54] [INFO] [ImpactEffects] spawn_blood_effect called at (3506.87, 1909.934), dir=(0.582688, 0.812696), lethal=true
[21:36:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:54] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:36:54] [INFO] [ImpactEffects] Wall found for blood splatter at (3524.125, 1934) (dist=29 px)
[21:36:54] [INFO] [BloodDecal] Blood puddle created at (3524.125, 1933) (added to group)
[21:36:54] [INFO] [ImpactEffects] Blood effect spawned at (3506.87, 1909.934) (scale=0.75)
[21:36:54] [ENEMY] [GuardEnemy3] Enemy died (ricochet: false, penetration: false)
[21:36:54] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[21:36:54] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy3 (remaining: 6)
[21:36:54] [INFO] [DeathAnim] Started - Angle: 54.4 deg, Index: 15
[21:36:54] [ENEMY] [GuardEnemy3] Death animation started with hit direction: (0.582688, 0.812696)
[21:36:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3241.92, 1601.239), shooter_id=127339073683, bullet_pos=(3458.937, 1832.763)
[21:36:54] [INFO] [Bullet] Using shooter_position, distance=317.332763671875
[21:36:54] [INFO] [Bullet] Distance to wall: 317.332763671875 (21.6077714019166% of viewport)
[21:36:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:54] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3209.998, 1637.516), shooter_id=127339073683, bullet_pos=(3457.11, 1886.315)
[21:36:54] [INFO] [Bullet] Using shooter_position, distance=350.664672851563
[21:36:54] [INFO] [Bullet] Distance to wall: 350.664672851563 (23.8774023899379% of viewport)
[21:36:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:54] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:54] [ENEMY] [GuardEnemy3] Ragdoll activated
[21:36:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:36:54] [INFO] [ReplayManager] Recording frame 1800 (30,0s): player_valid=True, enemies=10
[21:36:55] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-9.4°, current=-9.7°, player=(3372,1815), corner_timer=0.00
[21:36:55] [ENEMY] [PatrolEnemy1] State: PURSUING -> COMBAT
[21:36:55] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:36:55] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-165.1°, current=146.3°, player=(3372,1919), corner_timer=0.00
[21:36:55] [ENEMY] [GuardEnemy4] State: IDLE -> COMBAT
[21:36:55] [ENEMY] [GuardEnemy6] FLANKING started: target=(3196.805, 2014.531), side=right, pos=(3339.288, 3069.887)
[21:36:55] [ENEMY] [GuardEnemy6] State: PURSUING -> FLANKING
[21:36:55] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-165.5°, current=-13.3°, player=(3372,1930), corner_timer=0.00
[21:36:55] [ENEMY] [GuardEnemy3] Death animation completed
[21:36:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2397.027, 1990.419), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:55] [INFO] [ReplayManager] Recording frame 1860 (31,0s): player_valid=True, enemies=10
[21:36:55] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 148.4°
[21:36:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2434.352, 1991.086), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:56] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:36:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2471.621, 1993.25), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:56] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:36:56] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 105.1°
[21:36:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2497.179, 1987.799), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:56] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 150.3°
[21:36:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2522.737, 1982.348), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:56] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-175.2°, current=-127.5°, player=(3372,2150), corner_timer=0.15
[21:36:56] [ENEMY] [GuardEnemy4] FLANKING started: target=(3487.098, 1986.467), side=left, pos=(4586.566, 2253.305)
[21:36:56] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[21:36:56] [ENEMY] [GuardEnemy4] State: FLANKING -> COMBAT
[21:36:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2548.294, 1976.897), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2573.852, 1971.446), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:56] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 175.1°
[21:36:56] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[21:36:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2599.41, 1965.995), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:56] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=140.0°, current=140.0°, player=(3372,2271), corner_timer=0.00
[21:36:56] [INFO] [LastChance] Threat detected: @Area2D@1417
[21:36:56] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:56] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.9°, current=140.0°, player=(3372,2277), corner_timer=0.00
[21:36:56] [INFO] [BloodyFeet:PatrolEnemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:36:56] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.7°, current=139.8°, player=(3372,2288), corner_timer=0.00
[21:36:56] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.5°, current=139.6°, player=(3372,2299), corner_timer=0.00
[21:36:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2624.968, 1960.545), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2538.2488, 2006.6113), shooter_id=125879455804, bullet_pos=(4287.2075, 1946.3184)
[21:36:56] [INFO] [Bullet] Using shooter_position, distance=1749,9977
[21:36:56] [INFO] [Bullet] Distance to wall: 1749,9977 (119,16057% of viewport)
[21:36:56] [INFO] [Bullet] Distance-based penetration chance: 26,167887%
[21:36:56] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:56] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.5°, current=139.5°, player=(3372,2304), corner_timer=0.00
[21:36:56] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.3°, current=139.4°, player=(3372,2315), corner_timer=0.00
[21:36:56] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-133.2°, current=-133.1°, player=(3372,2326), corner_timer=0.00
[21:36:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4416.414, 2249.827), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:36:56] [INFO] [ReplayManager] Recording frame 1920 (32,0s): player_valid=True, enemies=10
[21:36:56] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 174.9°
[21:36:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2587.603, 2002.7097), shooter_id=125879455804, bullet_pos=(3974.5225, 2291.5105)
[21:36:56] [INFO] [Bullet] Using shooter_position, distance=1416,6691
[21:36:56] [INFO] [Bullet] Distance to wall: 1416,6691 (96,4636% of viewport)
[21:36:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.526, 1955.094), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:56] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=174.9°, current=174.9°, player=(3372,2343), corner_timer=0.15
[21:36:56] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:36:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4349.61, 2262.564), shooter_id=125527134247, bullet_pos=(4016.824, 2281.641)
[21:36:56] [INFO] [Bullet] Using shooter_position, distance=333.331939697266
[21:36:56] [INFO] [Bullet] Distance to wall: 333.331939697266 (22.6971847173759% of viewport)
[21:36:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:56] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2676.084, 1949.643), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2701.642, 1944.192), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:57] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=170.3°, current=170.6°, player=(3372,2425), corner_timer=0.15
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2635.9546, 1999.1049), shooter_id=125879455804, bullet_pos=(4096.903, 2710.6172)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=1624,9983
[21:36:57] [INFO] [Bullet] Distance to wall: 1624,9983 (110,649124% of viewport)
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2635.9546, 1999.1049), shooter_id=125879455804, bullet_pos=(4101.2153, 2708.0872)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=1627,7731
[21:36:57] [INFO] [Bullet] Distance to wall: 1627,7731 (110,838066% of viewport)
[21:36:57] [INFO] [Bullet] Distance-based penetration chance: 27,83239%
[21:36:57] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:57] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:36:57] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 173.1°
[21:36:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2727.542, 1945.177), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2464.5776, 1998.2677), shooter_id=125879455804, bullet_pos=(6089.573, 1996.4517)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=3624,996
[21:36:57] [INFO] [Bullet] Distance to wall: 3624,996 (246,83266% of viewport)
[21:36:57] [INFO] [Bullet] Distance-based penetration chance: 5%
[21:36:57] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2611.9062, 2000.8865), shooter_id=125879455804, bullet_pos=(4651.8887, 2846.5703)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=2208,3274
[21:36:57] [INFO] [Bullet] Distance to wall: 2208,3274 (150,36908% of viewport)
[21:36:57] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-135.3°, current=-135.2°, player=(3372,2497), corner_timer=0.00
[21:36:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2737.196, 1924.067), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2501.5293, 2001.6514), shooter_id=125879455804, bullet_pos=(6081.3306, 2160.5078)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=3583,3242
[21:36:57] [INFO] [Bullet] Distance to wall: 3583,3242 (243,99515% of viewport)
[21:36:57] [INFO] [Bullet] Distance-based penetration chance: 5%
[21:36:57] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:57] [INFO] [LastChance] Threat detected: @Area2D@1435
[21:36:57] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:57] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:57] [INFO] [Player] Spawning blood effect at (3372.8533, 2530.1255), dir=(1, 0), lethal=False (C#)
[21:36:57] [INFO] [ImpactEffects] spawn_blood_effect called at (3372.853, 2530.125), dir=(1, 0), lethal=false
[21:36:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:57] [INFO] [ImpactEffects] Blood effect spawned at (3372.853, 2530.125) (scale=1)
[21:36:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2762.694, 1924.065), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2706.5542, 1993.5914), shooter_id=125879455804, bullet_pos=(4078.8965, 2696.0225)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=1541,6655
[21:36:57] [INFO] [Bullet] Distance to wall: 1541,6655 (104,97484% of viewport)
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2659.7424, 1997.3243), shooter_id=125879455804, bullet_pos=(4663.5454, 2821.4536)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=2166,66
[21:36:57] [INFO] [Bullet] Distance to wall: 2166,66 (147,53186% of viewport)
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2563.0574, 2004.6095), shooter_id=125879455804, bullet_pos=(6062.9526, 1977.0573)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=3500,0037
[21:36:57] [INFO] [Bullet] Distance to wall: 3500,0037 (238,32169% of viewport)
[21:36:57] [INFO] [Bullet] Distance-based penetration chance: 5%
[21:36:57] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2783.125, 1922.82), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:36:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2729.6096, 1991.5502), shooter_id=125879455804, bullet_pos=(4095.1047, 2872.4878)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=1625,001
[21:36:57] [INFO] [Bullet] Distance to wall: 1625,001 (110,649315% of viewport)
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2729.6096, 1991.5502), shooter_id=125879455804, bullet_pos=(4061.1196, 2894.363)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=1608,7231
[21:36:57] [INFO] [Bullet] Distance to wall: 1608,7231 (109,54092% of viewport)
[21:36:57] [INFO] [Bullet] Distance-based penetration chance: 28,091818%
[21:36:57] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:57] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=96.7°, current=-25.9°, player=(3372,2601), corner_timer=0.00
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2683.2717, 1995.5016), shooter_id=125879455804, bullet_pos=(4923.7915, 2647.0354)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=2333,3293
[21:36:57] [INFO] [Bullet] Distance to wall: 2333,3293 (158,88069% of viewport)
[21:36:57] [INFO] [Bullet] Distance-based penetration chance: 18,223864%
[21:36:57] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4240.991, 2293.713), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:57] [INFO] [BloodDecal] Blood puddle created at (3421.72, 2534.597) (added to group)
[21:36:57] [INFO] [BloodDecal] Blood puddle created at (3441.67, 2542.912) (added to group)
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2781.733, 1975.1433), shooter_id=125879455804, bullet_pos=(3334.6287, 2653.3264)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=875,00055
[21:36:57] [INFO] [Bullet] Distance to wall: 875,00055 (59,5804% of viewport)
[21:36:57] [INFO] [Bullet] Distance-based penetration chance: 77,156204%
[21:36:57] [INFO] [Bullet] Starting wall penetration at (3334.6287, 2653.3264)
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2781.733, 1975.1433), shooter_id=125879455804, bullet_pos=(3337.788, 2657.2017)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=880,00055
[21:36:57] [INFO] [Bullet] Distance to wall: 880,00055 (59,92086% of viewport)
[21:36:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,867323
[21:36:57] [INFO] [Bullet] Body exited signal received for penetrating body
[21:36:57] [INFO] [Bullet] Exiting penetration at (3367.3223, 2629.6108) after traveling 35,416668 pixels through wall
[21:36:57] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[21:36:57] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:57] [INFO] [Player] Spawning blood effect at (3375.9329, 2627.85), dir=(1, 0), lethal=False (C#)
[21:36:57] [INFO] [ImpactEffects] spawn_blood_effect called at (3375.933, 2627.85), dir=(1, 0), lethal=false
[21:36:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:57] [INFO] [ImpactEffects] Blood effect spawned at (3375.933, 2627.85) (scale=1)
[21:36:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4221.029, 2301.237), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:57] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=52.2°, current=2.2°, player=(3379,2637), corner_timer=0.00
[21:36:57] [INFO] [BloodDecal] Blood puddle created at (3469.541, 2559.143) (added to group)
[21:36:57] [INFO] [BloodDecal] Blood puddle created at (3457.619, 2534.655) (added to group)
[21:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2775.785, 1993.0771), shooter_id=125879455804, bullet_pos=(3902.1843, 2852.2495)
[21:36:57] [INFO] [Bullet] Using shooter_position, distance=1416,6696
[21:36:57] [INFO] [Bullet] Distance to wall: 1416,6696 (96,46364% of viewport)
[21:36:57] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=96.7°, current=-40.2°, player=(3381,2642), corner_timer=0.00
[21:36:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4201.241, 2309.207), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:57] [INFO] [ReplayManager] Recording frame 1980 (33,0s): player_valid=True, enemies=10
[21:36:57] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=53.2°, current=12.3°, player=(3396,2663), corner_timer=0.00
[21:36:57] [INFO] [BloodDecal] Blood puddle created at (3489.72, 2581.634) (added to group)
[21:36:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4181.642, 2317.631), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:57] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=96.7°, current=-6.6°, player=(3400,2667), corner_timer=0.00
[21:36:57] [INFO] [BloodDecal] Blood puddle created at (3518.859, 2648.611) (added to group)
[21:36:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4162.25, 2326.522), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:57] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[21:36:57] [INFO] [BloodDecal] Blood puddle created at (3444.711, 2649.522) (added to group)
[21:36:58] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3461.958, 2557.293) (added to group)
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3413.55, 2628.3) (added to group)
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3431.493, 2652.043) (added to group)
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4143.087, 2335.896), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3555.077, 2537.486) (added to group)
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3450.438, 2661.27) (added to group)
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4124.176, 2345.768), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3479.076, 2603.557) (added to group)
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3545.103, 2632.058) (added to group)
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4105.537, 2356.146), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4161.005, 2333.203), shooter_id=125527134247, bullet_pos=(3212.607, 2650.289)
[21:36:58] [INFO] [Bullet] Using shooter_position, distance=1000.00158691406
[21:36:58] [INFO] [Bullet] Distance to wall: 1000.00158691406 (68.091946893752% of viewport)
[21:36:58] [INFO] [Bullet] Distance-based penetration chance: 67.2260619572893%
[21:36:58] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4141.962, 2342.531), shooter_id=125527134247, bullet_pos=(3350.606, 2715.871)
[21:36:58] [INFO] [Bullet] Using shooter_position, distance=875.000549316406
[21:36:58] [INFO] [Bullet] Distance to wall: 875.000549316406 (59.5803963870877% of viewport)
[21:36:58] [INFO] [Bullet] Distance-based penetration chance: 77.1562042150644%
[21:36:58] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3480.518, 2676.146) (added to group)
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3527.139, 2711.826) (added to group)
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4087.184, 2367.019), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3453.842, 2715.2) (added to group)
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3536.154, 2728.456) (added to group)
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4069.095, 2378.329), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4123.167, 2352.343), shooter_id=125527134247, bullet_pos=(3169.125, 2652.015)
[21:36:58] [INFO] [Bullet] Using shooter_position, distance=999.998779296875
[21:36:58] [INFO] [Bullet] Distance to wall: 999.998779296875 (68.091755717935% of viewport)
[21:36:58] [ENEMY] [GuardEnemy6] State: FLANKING -> RETREATING
[21:36:58] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=0.0°, current=17.4°, player=(3468,2771), corner_timer=-0.02
[21:36:58] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[21:36:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4104.649, 2362.663), shooter_id=125527134247, bullet_pos=(3350.387, 2883.59)
[21:36:58] [INFO] [Bullet] Using shooter_position, distance=916.665893554688
[21:36:58] [INFO] [Bullet] Distance to wall: 916.665893554688 (62.4174662920845% of viewport)
[21:36:58] [INFO] [Bullet] Distance-based penetration chance: 73.8462893259014%
[21:36:58] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:58] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3555.897, 2749.397) (added to group)
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4051.219, 2389.97), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4180.268, 2324.329), shooter_id=125527134247, bullet_pos=(2538.186, 2795.469)
[21:36:58] [INFO] [Bullet] Using shooter_position, distance=1708.33422851563
[21:36:58] [INFO] [Bullet] Distance to wall: 1708.33422851563 (116.323618969278% of viewport)
[21:36:58] [INFO] [Bullet] Distance-based penetration chance: 26.7352762061444%
[21:36:58] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4033.492, 2401.839), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2804.6375, 1977.5763), shooter_id=125879455804, bullet_pos=(4487.3623, 3653.5935)
[21:36:58] [INFO] [Bullet] Using shooter_position, distance=2374,9941
[21:36:58] [INFO] [Bullet] Distance to wall: 2374,9941 (161,71773% of viewport)
[21:36:58] [INFO] [BloodDecal] Blood puddle created at (3488.787, 2759.313) (added to group)
[21:36:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4086.438, 2373.507), shooter_id=125527134247, bullet_pos=(3082.123, 2649.947)
[21:36:58] [INFO] [Bullet] Using shooter_position, distance=1041.66613769531
[21:36:58] [INFO] [Bullet] Distance to wall: 1041.66613769531 (70.9289627708005% of viewport)
[21:36:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4086.438, 2373.507), shooter_id=125527134247, bullet_pos=(3060.653, 2647.037)
[21:36:58] [INFO] [Bullet] Using shooter_position, distance=1061.62829589844
[21:36:58] [INFO] [Bullet] Distance to wall: 1061.62829589844 (72.2882228300235% of viewport)
[21:36:58] [INFO] [Bullet] Distance-based penetration chance: 62.3304066983059%
[21:36:58] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4015.844, 2413.826), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4068.554, 2384.88), shooter_id=125527134247, bullet_pos=(3059.211, 2881.723)
[21:36:58] [INFO] [Bullet] Using shooter_position, distance=1125.00036621094
[21:36:58] [INFO] [Bullet] Distance to wall: 1125.00036621094 (76.6033436285635% of viewport)
[21:36:58] [INFO] [Bullet] Distance-based penetration chance: 57.2960991000093%
[21:36:58] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3998.203, 2425.821), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2822.4463, 1978.288), shooter_id=125879455804, bullet_pos=(4540.5044, 3736.6062)
[21:36:58] [INFO] [Bullet] Using shooter_position, distance=2458,3342
[21:36:58] [INFO] [Bullet] Distance to wall: 2458,3342 (167,3925% of viewport)
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3980.552, 2437.802), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3962.936, 2449.836), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3945.391, 2461.971), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3927.918, 2474.211), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [ReplayManager] Recording frame 2040 (34,0s): player_valid=True, enemies=10
[21:36:58] [INFO] [LastChance] Threat detected: @Area2D@1536
[21:36:58] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3910.517, 2486.552), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:58] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:58] [INFO] [Player] Spawning blood effect at (3375.4216, 2869.9688), dir=(1, 0), lethal=False (C#)
[21:36:58] [INFO] [ImpactEffects] spawn_blood_effect called at (3375.422, 2869.969), dir=(1, 0), lethal=false
[21:36:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:58] [INFO] [ImpactEffects] Blood effect spawned at (3375.422, 2869.969) (scale=1)
[21:36:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3877.201, 2519.563), shooter_id=125527134247, bullet_pos=(3899.725, 2810.359)
[21:36:58] [INFO] [Bullet] Using shooter_position, distance=291.666687011719
[21:36:58] [INFO] [Bullet] Distance to wall: 291.666687011719 (19.8601210463732% of viewport)
[21:36:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:58] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3893.186, 2498.991), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3894.409, 2507.025), shooter_id=125527134247, bullet_pos=(3285.525, 2648.035)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=624.9990234375
[21:36:59] [INFO] [Bullet] Distance to wall: 624.9990234375 (42.5573327777233% of viewport)
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3876.039, 2511.682), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3999.237, 2433.846), shooter_id=125527134247, bullet_pos=(2214.002, 2282.171)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=1791.66650390625
[21:36:59] [INFO] [Bullet] Distance to wall: 1791.66650390625 (121.997866835168% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 25.6004266329664%
[21:36:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3859.23, 2524.819), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:59] [INFO] [BloodDecal] Blood puddle created at (3434.037, 2863.346) (added to group)
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3842.784, 2538.406), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:59] [INFO] [BloodDecal] Blood puddle created at (3459.671, 2899.202) (added to group)
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3911.683, 2494.581), shooter_id=125527134247, bullet_pos=(3599.525, 3704.974)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=1249.99768066406
[21:36:59] [INFO] [Bullet] Distance to wall: 1249.99768066406 (85.1146406194704% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 47.3662526106179%
[21:36:59] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:59] [INFO] [BloodDecal] Blood puddle created at (3468.152, 2908.355) (added to group)
[21:36:59] [INFO] [BloodDecal] Blood puddle created at (3473.954, 2848.896) (added to group)
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3826.685, 2552.403), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:59] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3826.685, 2552.403), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:59] [INFO] [BloodDecal] Blood puddle created at (3462.504, 2861.168) (added to group)
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3826.685, 2552.403), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:59] [INFO] [BloodDecal] Blood puddle created at (3517.499, 2929.569) (added to group)
[21:36:59] [INFO] [BloodDecal] Blood puddle created at (3456.256, 2882.153) (added to group)
[21:36:59] [INFO] [BloodDecal] Blood puddle created at (3524.757, 2953.845) (added to group)
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3826.685, 2552.403), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4033.696, 2409.011), shooter_id=125527134247, bullet_pos=(2660.458, 5076.27)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=3000.00854492188
[21:36:59] [INFO] [Bullet] Distance to wall: 3000.00854492188 (204.276098353009% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 9.14478032939811%
[21:36:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4050.991, 2396.744), shooter_id=125527134247, bullet_pos=(1651.034, 4462.645)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=3166.6611328125
[21:36:59] [INFO] [Bullet] Distance to wall: 3166.6611328125 (215.623779509569% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 6.87524409808611%
[21:36:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:59] [INFO] [BloodDecal] Blood puddle created at (3482.385, 2974.19) (added to group)
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3981.898, 2446.188), shooter_id=125527134247, bullet_pos=(4118.849, 5067.61)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=2624.99633789063
[21:36:59] [INFO] [Bullet] Distance to wall: 2624.99633789063 (178.740827589609% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 14.2518344820782%
[21:36:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3826.685, 2552.403), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3826.685, 2552.403), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3843.105, 2545.023), shooter_id=125527134247, bullet_pos=(2948, 3901.273)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=1625.00048828125
[21:36:59] [INFO] [Bullet] Distance to wall: 1625.00048828125 (110.649271359483% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 27.8701457281034%
[21:36:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3826.685, 2552.403), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:59] [INFO] [BloodDecal] Blood puddle created at (3595.201, 2989.257) (added to group)
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4016.474, 2421.418), shooter_id=125527134247, bullet_pos=(1993.172, 5070.441)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=3333.32788085938
[21:36:59] [INFO] [Bullet] Distance to wall: 3333.32788085938 (226.972424857207% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 5%
[21:36:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:59] [INFO] [LastChance] Threat detected: @Area2D@1572
[21:36:59] [INFO] [LastChance] Not in hard mode - effect disabled
[21:36:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3826.685, 2552.403), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3964.362, 2458.323), shooter_id=125527134247, bullet_pos=(1680.403, 4467.121)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=3041.66674804688
[21:36:59] [INFO] [Bullet] Distance to wall: 3041.66674804688 (207.112682006472% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 8.57746359870568%
[21:36:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:59] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:36:59] [INFO] [Player] Spawning blood effect at (3276.2485, 3088.5828), dir=(1, 0), lethal=False (C#)
[21:36:59] [INFO] [ImpactEffects] spawn_blood_effect called at (3276.249, 3088.583), dir=(1, 0), lethal=false
[21:36:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:36:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:36:59] [INFO] [ImpactEffects] Blood effect spawned at (3276.249, 3088.583) (scale=1)
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3255.845, 3098.437), source=PLAYER (MakarovPM), range=1469, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3860.056, 2532.19), shooter_id=125527134247, bullet_pos=(1955.369, 3649.732)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=2208.33276367188
[21:36:59] [INFO] [Bullet] Distance to wall: 2208.33276367188 (150.369438644301% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 19.9261122711398%
[21:36:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3784.27, 2605.62), shooter_id=125527134247, bullet_pos=(3329.986, 2666.402)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=458.332641601563
[21:36:59] [INFO] [Bullet] Distance to wall: 458.332641601563 (31.2087123660621% of viewport)
[21:36:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:59] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:59] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[21:36:59] [INFO] [ReplayManager] Recording frame 2100 (35,0s): player_valid=True, enemies=10
[21:36:59] [ENEMY] [GuardEnemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=89.4°, current=114.6°, player=(3228,3092), corner_timer=-0.02
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3946.639, 2470.228), shooter_id=125527134247, bullet_pos=(662.8154, 2697.314)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=3291.66577148438
[21:36:59] [INFO] [Bullet] Distance to wall: 3291.66577148438 (224.135575219999% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 5.17288495600018%
[21:36:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3255.845, 3098.437), shooter_id=127339073683, bullet_pos=(3246.796, 2948.042)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=150.666000366211
[21:36:59] [INFO] [Bullet] Distance to wall: 150.666000366211 (10.2591250152803% of viewport)
[21:36:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:36:59] [INFO] [Bullet] Caliber cannot penetrate walls
[21:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3200.925, 3098.63), source=PLAYER (MakarovPM), range=1469, listeners=6
[21:36:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3784.288, 2605.63), shooter_id=125527134247, bullet_pos=(3604.695, 3716.203)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=1125.00036621094
[21:36:59] [INFO] [Bullet] Distance to wall: 1125.00036621094 (76.6033436285635% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 57.2960991000093%
[21:36:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3783.83, 2605.229), shooter_id=125527134247, bullet_pos=(2951.956, 3803.031)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=1458.33557128906
[21:36:59] [INFO] [Bullet] Distance to wall: 1458.33557128906 (99.3007506917266% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 30.8157908596522%
[21:36:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:36:59] [INFO] [BloodDecal] Blood puddle created at (3321.376, 3098.569) (added to group)
[21:36:59] [INFO] [BloodDecal] Blood puddle created at (3313.325, 3089.237) (added to group)
[21:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3782.999, 2604.523), shooter_id=125527134247, bullet_pos=(2663.316, 3894.762)
[21:36:59] [INFO] [Bullet] Using shooter_position, distance=1708.33386230469
[21:36:59] [INFO] [Bullet] Distance to wall: 1708.33386230469 (116.323594033302% of viewport)
[21:36:59] [INFO] [Bullet] Distance-based penetration chance: 26.7352811933396%
[21:36:59] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:00] [INFO] [BloodDecal] Blood puddle created at (3359.199, 3076.363) (added to group)
[21:37:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3827.136, 2558.926), shooter_id=125527134247, bullet_pos=(4040.263, 5091.647)
[21:37:00] [INFO] [Bullet] Using shooter_position, distance=2541.67260742188
[21:37:00] [INFO] [Bullet] Distance to wall: 2541.67260742188 (173.067161563162% of viewport)
[21:37:00] [INFO] [Bullet] Distance-based penetration chance: 15.3865676873676%
[21:37:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:00] [INFO] [BloodDecal] Blood puddle created at (3351.571, 3084.57) (added to group)
[21:37:00] [ENEMY] [SniperEnemy1] Player ammo empty: false -> true
[21:37:00] [ENEMY] [SniperEnemy2] Player ammo empty: false -> true
[21:37:00] [ENEMY] [GuardEnemy4] Player ammo empty: false -> true
[21:37:00] [ENEMY] [PatrolEnemy1] Player ammo empty: false -> true
[21:37:00] [ENEMY] [GuardEnemy5] Player ammo empty: false -> true
[21:37:00] [ENEMY] [GuardEnemy6] Player ammo empty: false -> true
[21:37:00] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3156.925, 3092.63), source=PLAYER (Player), range=600, listeners=6
[21:37:00] [ENEMY] [GuardEnemy6] Heard player EMPTY_CLICK at (3156.925, 3092.63), intensity=0.02, distance=401
[21:37:00] [ENEMY] [GuardEnemy6] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[21:37:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[21:37:00] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3636), can_see=false
[21:37:00] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2924), can_see=false
[21:37:00] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=141.1°, current=141.1°, player=(3156,3092), corner_timer=0.15
[21:37:00] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=860), can_see=false
[21:37:00] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:00] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1279), can_see=false
[21:37:00] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2077), can_see=false
[21:37:00] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=108.5°, current=-152.3°, player=(3156,3092), corner_timer=-0.02
[21:37:00] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=401), can_see=false
[21:37:00] [ENEMY] [GuardEnemy6] Pursuing vulnerability sound at (3156.925, 3092.63), distance=401
[21:37:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3811.63, 2573.375), shooter_id=125527134247, bullet_pos=(4189.027, 5086.864)
[21:37:00] [INFO] [Bullet] Using shooter_position, distance=2541.66381835938
[21:37:00] [INFO] [Bullet] Distance to wall: 2541.66381835938 (173.066563099735% of viewport)
[21:37:00] [INFO] [Bullet] Distance-based penetration chance: 15.386687380053%
[21:37:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3894.409, 2507.025), shooter_id=125527134247, bullet_pos=(2236.881, 2299.636)
[21:37:00] [INFO] [Bullet] Using shooter_position, distance=1670.45190429688
[21:37:00] [INFO] [Bullet] Distance to wall: 1670.45190429688 (113.744141853771% of viewport)
[21:37:00] [INFO] [Bullet] Distance-based penetration chance: 27.2511716292457%
[21:37:00] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:00] [INFO] [BloodDecal] Blood puddle created at (3359.931, 3106.743) (added to group)
[21:37:00] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[21:37:00] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[21:37:00] [INFO] [BloodDecal] Blood puddle created at (3421.124, 3154.3) (added to group)
[21:37:00] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=76.4°, current=96.7°, player=(3129,3092), corner_timer=0.00
[21:37:00] [INFO] [BloodDecal] Blood puddle created at (3362.14, 3141.3) (added to group)
[21:37:00] [INFO] [BloodDecal] Blood puddle created at (3443.073, 3180.562) (added to group)
[21:37:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3781.792, 2603.405), shooter_id=125527134247, bullet_pos=(4204.253, 5067.448)
[21:37:00] [INFO] [Bullet] Using shooter_position, distance=2499.99609375
[21:37:00] [INFO] [Bullet] Distance to wall: 2499.99609375 (170.229331110893% of viewport)
[21:37:00] [INFO] [Bullet] Distance-based penetration chance: 15.9541337778214%
[21:37:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:00] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3102.69, 3090.782), source=PLAYER (Player), range=600, listeners=6
[21:37:00] [ENEMY] [GuardEnemy6] Heard player EMPTY_CLICK at (3102.69, 3090.782), intensity=0.02, distance=369
[21:37:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[21:37:00] [INFO] [BloodDecal] Blood puddle created at (3447.191, 3112.485) (added to group)
[21:37:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3796.508, 2588.227), shooter_id=125527134247, bullet_pos=(2421.783, 5065.711)
[21:37:00] [INFO] [Bullet] Using shooter_position, distance=2833.3369140625
[21:37:00] [INFO] [Bullet] Distance to wall: 2833.3369140625 (192.92712052569% of viewport)
[21:37:00] [INFO] [Bullet] Distance-based penetration chance: 11.4145758948619%
[21:37:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:00] [INFO] [BloodDecal] Blood puddle created at (3428.965, 3216.817) (added to group)
[21:37:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3200.925, 3098.63), shooter_id=127339073683, bullet_pos=(3182.151, 2665.035)
[21:37:00] [INFO] [Bullet] Using shooter_position, distance=434.001434326172
[21:37:00] [INFO] [Bullet] Distance to wall: 434.001434326172 (29.5519557215358% of viewport)
[21:37:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:37:00] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:00] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3658), can_see=false
[21:37:00] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3060), can_see=false
[21:37:00] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=910), can_see=false
[21:37:00] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1181), can_see=false
[21:37:00] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2026), can_see=false
[21:37:00] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=234), can_see=false
[21:37:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3783.963, 2605.39), shooter_id=125527134247, bullet_pos=(3892.456, 5061.322)
[21:37:00] [INFO] [Bullet] Using shooter_position, distance=2458.32788085938
[21:37:00] [INFO] [Bullet] Distance to wall: 2458.32788085938 (167.392065874083% of viewport)
[21:37:00] [INFO] [Bullet] Distance-based penetration chance: 16.5215868251834%
[21:37:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3784.292, 2605.633), shooter_id=125527134247, bullet_pos=(2303.218, 5069.789)
[21:37:00] [INFO] [Bullet] Using shooter_position, distance=2875.00341796875
[21:37:00] [INFO] [Bullet] Distance to wall: 2875.00341796875 (195.764269394612% of viewport)
[21:37:00] [INFO] [Bullet] Distance-based penetration chance: 10.8471461210777%
[21:37:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:00] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[21:37:00] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[21:37:00] [INFO] [Player.Grenade] G pressed - starting grab animation
[21:37:00] [INFO] [ReplayManager] Recording frame 2160 (36,0s): player_valid=True, enemies=10
[21:37:00] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[21:37:00] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (3085.3782, 2727.7964)
[21:37:00] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=168.8°, current=-174.4°, player=(3041,2974), corner_timer=-0.02
[21:37:00] [ENEMY] [GuardEnemy6] State: PURSUING -> COMBAT
[21:37:00] [ENEMY] [GuardEnemy6] Player empty ammo - priority attack triggered
[21:37:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3194.066, 2947.625), source=ENEMY (GuardEnemy6), range=2000, listeners=6
[21:37:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[21:37:00] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[21:37:00] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[21:37:00] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[21:37:00] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[21:37:00] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[21:37:00] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[21:37:00] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[21:37:00] [INFO] [Player.Grenade] Timer started, grenade created at (3041.8665, 2974.701)
[21:37:00] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[21:37:00] [INFO] [Player.Grenade] Step 1 complete! Drag: (262.99634, 64.862305)
[21:37:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:00] [INFO] [Player] Spawning blood effect at (3041.8665, 2974.701), dir=(1, 0), lethal=False (C#)
[21:37:00] [INFO] [ImpactEffects] spawn_blood_effect called at (3041.866, 2974.701), dir=(1, 0), lethal=false
[21:37:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:00] [INFO] [ImpactEffects] Blood effect spawned at (3041.866, 2974.701) (scale=1)
[21:37:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:00] [INFO] [Player] Spawning blood effect at (3041.8665, 2974.701), dir=(1, 0), lethal=False (C#)
[21:37:00] [INFO] [ImpactEffects] spawn_blood_effect called at (3041.866, 2974.701), dir=(1, 0), lethal=false
[21:37:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:00] [INFO] [ImpactEffects] Blood effect spawned at (3041.866, 2974.701) (scale=1)
[21:37:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:00] [INFO] [Player] Spawning blood effect at (3041.8665, 2974.701), dir=(1, 0), lethal=False (C#)
[21:37:00] [INFO] [ImpactEffects] spawn_blood_effect called at (3041.866, 2974.701), dir=(1, 0), lethal=false
[21:37:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:00] [INFO] [ImpactEffects] Blood effect spawned at (3041.866, 2974.701) (scale=1)
[21:37:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:00] [INFO] [Player] Spawning blood effect at (3041.8665, 2974.701), dir=(1, 0), lethal=False (C#)
[21:37:00] [INFO] [ImpactEffects] spawn_blood_effect called at (3041.866, 2974.701), dir=(1, 0), lethal=false
[21:37:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:00] [INFO] [ImpactEffects] Blood effect spawned at (3041.866, 2974.701) (scale=1)
[21:37:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:00] [INFO] [Player] Spawning blood effect at (3041.8665, 2974.701), dir=(1, 0), lethal=False (C#)
[21:37:00] [INFO] [ImpactEffects] spawn_blood_effect called at (3041.866, 2974.701), dir=(1, 0), lethal=false
[21:37:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:00] [INFO] [ImpactEffects] Blood effect spawned at (3041.866, 2974.701) (scale=1)
[21:37:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:00] [INFO] [Player] Spawning blood effect at (3041.8665, 2974.701), dir=(1, 0), lethal=False (C#)
[21:37:00] [INFO] [ImpactEffects] spawn_blood_effect called at (3041.866, 2974.701), dir=(1, 0), lethal=false
[21:37:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:00] [INFO] [ImpactEffects] Blood effect spawned at (3041.866, 2974.701) (scale=1)
[21:37:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:00] [INFO] [Player] Spawning blood effect at (3041.8665, 2974.701), dir=(1, 0), lethal=False (C#)
[21:37:00] [INFO] [ImpactEffects] spawn_blood_effect called at (3041.866, 2974.701), dir=(1, 0), lethal=false
[21:37:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:00] [INFO] [ImpactEffects] Blood effect spawned at (3041.866, 2974.701) (scale=1)
[21:37:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:00] [INFO] [Player] Spawning blood effect at (3041.8665, 2974.701), dir=(1, 0), lethal=False (C#)
[21:37:00] [INFO] [ImpactEffects] spawn_blood_effect called at (3041.866, 2974.701), dir=(1, 0), lethal=false
[21:37:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:00] [INFO] [ImpactEffects] Blood effect spawned at (3041.866, 2974.701) (scale=1)
[21:37:01] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[21:37:01] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[21:37:01] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-62.7°, current=167.8°, player=(3041,2974), corner_timer=-0.02
[21:37:01] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3629), can_see=false
[21:37:01] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3086), can_see=false
[21:37:01] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=891), can_see=false
[21:37:01] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1139), can_see=false
[21:37:01] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2049), can_see=false
[21:37:01] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=173), can_see=false
[21:37:01] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[21:37:01] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3111.157, 2970.141) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3109.79, 2997.724) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3093.044, 3012.725) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3090.063, 2996.683) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3111.011, 2998.277) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3129.535, 2967.633) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3082.776, 2992.637) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3106.205, 3007.213) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3130.086, 3013.632) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3150.255, 2994.517) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3099.05, 2996.276) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3103.335, 2991.768) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3101.229, 3015.912) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3150.292, 2951.361) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3120.097, 3039.792) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3132.919, 3030.706) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3122.703, 3018.985) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3164.864, 2980.926) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3164.612, 3001.136) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3123.073, 3011.34) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3125.075, 3048.94) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3141.58, 3062.97) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3118.773, 3001.25) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3159.671, 3049.764) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3169.812, 3051.779) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3138.861, 2966.123) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3131.658, 3030.109) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3106.193, 3038.966) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3171.742, 2957.085) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3173.394, 3012.786) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3135.926, 3056.301) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3139.351, 3047.417) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3106.414, 2992.905) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3144.622, 3001.058) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3106.188, 2978.783) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3153.81, 3015.936) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3127.451, 2993.463) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3161.231, 3051.51) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3136.427, 3006.887) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3148.488, 3075.088) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3127.739, 3056.459) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3186.059, 3054.051) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3196.618, 3061.839) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3189.361, 3068.966) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3164.648, 3041.369) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3212.131, 3023.023) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3154.525, 3050.785) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3133.167, 3029.448) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3140.578, 3083.142) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3206.068, 3105.205) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3193.58, 3098.789) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3215.314, 2988.498) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3220.652, 3049.363) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3198.075, 2976.685) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3187.276, 3059.628) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3153.191, 3074.765) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3212.754, 3114.169) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3169.548, 3079.248) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3203.534, 2992.843) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3208.059, 2998.681) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3165.515, 3091.077) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3203.023, 3129.623) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3249.13, 3111.313) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3186.86, 3103.342) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3202.315, 2999.751) (added to group)
[21:37:01] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3697), can_see=false
[21:37:01] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3164), can_see=false
[21:37:01] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=974), can_see=false
[21:37:01] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1125), can_see=false
[21:37:01] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1973), can_see=false
[21:37:01] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=270), can_see=false
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3263.519, 3016.312) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3167.597, 3033.793) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3224.835, 3046.109) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3181.13, 3149.55) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3235.887, 3055.411) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3194.872, 3067.811) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3200.457, 3072.223) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3242.002, 3144.674) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3225.812, 3054.454) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3220.622, 2996.384) (added to group)
[21:37:01] [ENEMY] [PatrolEnemy1] Warning: No valid flank position (both sides behind walls)
[21:37:01] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2754.922, 2893.356), side=left, pos=(2830.463, 1855.835)
[21:37:01] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3184.12, 3044.296) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3222.077, 3160.458) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3174.977, 3116.156) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3225.093, 3029.752) (added to group)
[21:37:01] [INFO] [BloodDecal] Blood puddle created at (3250.608, 3093.845) (added to group)
[21:37:01] [ENEMY] [GuardEnemy4] PURSUING corner check: angle -8.9°
[21:37:01] [INFO] [ReplayManager] Recording frame 2220 (37,0s): player_valid=True, enemies=10
[21:37:01] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 28.5°
[21:37:02] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[21:37:02] [ENEMY] [GuardEnemy6] State: SEEKING_COVER -> IN_COVER
[21:37:02] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[21:37:02] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=85.9°, current=84.8°, player=(2874,3038), corner_timer=0.18
[21:37:02] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=1118)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3040.168, 2926.297), side=right, pos=(2794.921, 1923.516)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3040.117, 2927.49), side=right, pos=(2798.079, 1927.813)
[21:37:02] [ENEMY] [GuardEnemy4] PURSUING corner check: angle 171.1°
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3040.183, 2928.421), side=right, pos=(2801.237, 1932.111)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3040.367, 2929.09), side=right, pos=(2804.395, 1936.409)
[21:37:02] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3795), can_see=false
[21:37:02] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3192), can_see=false
[21:37:02] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1030), can_see=false
[21:37:02] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1101), can_see=true
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3040.656, 2929.526), side=right, pos=(2807.553, 1940.707)
[21:37:02] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1876), can_see=false
[21:37:02] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=367), can_see=false
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3040.946, 2929.967), side=right, pos=(2810.711, 1945.005)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3041.238, 2930.412), side=right, pos=(2813.869, 1949.303)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3041.53, 2930.862), side=right, pos=(2817.027, 1953.601)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3041.824, 2931.316), side=right, pos=(2820.185, 1957.898)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3042.119, 2931.774), side=right, pos=(2823.343, 1962.196)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3042.416, 2932.237), side=right, pos=(2826.501, 1966.494)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3042.713, 2932.705), side=right, pos=(2829.659, 1970.792)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3043.011, 2933.178), side=right, pos=(2832.817, 1975.09)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3043.311, 2933.655), side=right, pos=(2835.975, 1979.388)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3043.612, 2934.137), side=right, pos=(2839.133, 1983.686)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3043.914, 2934.625), side=right, pos=(2842.291, 1987.983)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2697.934, 2944.482), side=left, pos=(2845.448, 1992.281)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3044.521, 2935.614), side=right, pos=(2848.606, 1996.579)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2698.494, 2943.455), side=left, pos=(2851.764, 2000.877)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2698.781, 2942.936), side=left, pos=(2854.922, 2005.175)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2699.071, 2942.413), side=left, pos=(2858.08, 2009.473)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2699.365, 2941.887), side=left, pos=(2861.238, 2013.771)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2699.663, 2941.358), side=left, pos=(2864.396, 2018.068)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2699.965, 2940.824), side=left, pos=(2867.554, 2022.366)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2700.272, 2940.288), side=left, pos=(2870.712, 2026.664)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2700.583, 2939.747), side=left, pos=(2873.87, 2030.962)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2700.898, 2939.203), side=left, pos=(2877.028, 2035.26)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2701.218, 2938.656), side=left, pos=(2880.186, 2039.558)
[21:37:02] [INFO] [BloodyFeet:PatrolEnemy1] Blood ran out - no more footprints
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2701.542, 2938.104), side=left, pos=(2883.344, 2043.855)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2701.871, 2937.549), side=left, pos=(2886.502, 2048.153)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2702.205, 2936.99), side=left, pos=(2889.66, 2052.451)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2702.543, 2936.428), side=left, pos=(2892.818, 2056.749)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2702.886, 2935.862), side=left, pos=(2895.976, 2061.047)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2703.234, 2935.292), side=left, pos=(2899.134, 2065.345)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2703.586, 2934.718), side=left, pos=(2902.292, 2069.643)
[21:37:02] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3795), can_see=false
[21:37:02] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3192), can_see=false
[21:37:02] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1021), can_see=false
[21:37:02] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=966), can_see=true
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2703.944, 2934.14), side=left, pos=(2905.45, 2073.94)
[21:37:02] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1876), can_see=false
[21:37:02] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=367), can_see=false
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2704.307, 2933.559), side=left, pos=(2908.608, 2078.238)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2704.676, 2932.974), side=left, pos=(2911.766, 2082.536)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2705.049, 2932.385), side=left, pos=(2914.924, 2086.834)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2705.428, 2931.792), side=left, pos=(2918.082, 2091.132)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2705.812, 2931.195), side=left, pos=(2921.24, 2095.43)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2706.201, 2930.594), side=left, pos=(2924.397, 2099.728)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2706.597, 2929.99), side=left, pos=(2927.555, 2104.025)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2706.998, 2929.382), side=left, pos=(2930.713, 2108.323)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2707.405, 2928.77), side=left, pos=(2933.871, 2112.621)
[21:37:02] [INFO] [ReplayManager] Recording frame 2280 (38,0s): player_valid=True, enemies=10
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2707.817, 2928.154), side=left, pos=(2937.029, 2116.919)
[21:37:02] [INFO] [Player.Grenade.Simple] Throwing! Target: (3424.0464, 3020.588), Distance: 569,1, Speed: 584,3, Friction: 300,0
[21:37:02] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,034832694
[21:37:02] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[21:37:02] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9993934, -0.03482565), speed=584,3, spawn=(2933.7427, 3037.6733)
[21:37:02] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.999393, -0.034826), Speed: 584.3 (clamped from 584.3, max: 1352.8)
[21:37:02] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[21:37:02] [INFO] [Player.Grenade.Simple] Grenade thrown!
[21:37:02] [INFO] [Player.Grenade] State reset to IDLE
[21:37:02] [INFO] [Player.Grenade] State reset to IDLE
[21:37:02] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2708.236, 2927.534), side=left, pos=(2940.187, 2121.217)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2708.66, 2926.91), side=left, pos=(2943.345, 2125.515)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2709.091, 2926.282), side=left, pos=(2946.503, 2129.813)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2709.528, 2925.65), side=left, pos=(2949.661, 2134.11)
[21:37:02] [ENEMY] [GuardEnemy4] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[21:37:02] [ENEMY] [GuardEnemy4] EVADING_GRENADE started: escaping to (3923.529, 2754.653)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2709.972, 2925.015), side=left, pos=(2952.819, 2138.408)
[21:37:02] [INFO] [Player.Grenade] Player rotation restored to 0
[21:37:02] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=171.1°, current=165.8°, player=(2873,3039), corner_timer=0.08
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2710.421, 2924.375), side=left, pos=(2955.977, 2142.706)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2710.878, 2923.732), side=left, pos=(2959.135, 2147.004)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2711.341, 2923.085), side=left, pos=(2962.293, 2151.302)
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2711.811, 2922.434), side=left, pos=(2965.451, 2155.6)
[21:37:02] [ENEMY] [GuardEnemy4] EVADING_GRENADE: Escaped to safe distance
[21:37:02] [ENEMY] [GuardEnemy4] State: EVADING_GRENADE -> PURSUING
[21:37:02] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2712.287, 2921.779), side=left, pos=(2968.609, 2159.897)
[21:37:03] [ENEMY] [GuardEnemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=164.8°, current=124.3°, player=(2873,3039), corner_timer=0.08
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2712.771, 2921.12), side=left, pos=(2971.767, 2164.195)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2713.266, 2920.116), side=left, pos=(2974.925, 2168.493)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2713.775, 2918.768), side=left, pos=(2978.083, 2172.791)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2714.298, 2917.074), side=left, pos=(2981.241, 2177.089)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2714.836, 2915.033), side=left, pos=(2984.399, 2181.387)
[21:37:03] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=857)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2715.39, 2912.645), side=left, pos=(2987.557, 2185.685)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2715.961, 2909.908), side=left, pos=(2990.715, 2189.982)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2716.55, 2906.821), side=left, pos=(2993.873, 2194.28)
[21:37:03] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2717.159, 2903.384), side=left, pos=(2997.031, 2198.578)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2717.789, 2899.595), side=left, pos=(3000.188, 2202.876)
[21:37:03] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3782), can_see=false
[21:37:03] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3202), can_see=false
[21:37:03] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1034), can_see=false
[21:37:03] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=825), can_see=true
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2718.441, 2895.454), side=left, pos=(3003.346, 2207.174)
[21:37:03] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1887), can_see=false
[21:37:03] [ENEMY] [GuardEnemy6] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=361), can_see=false
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2719.117, 2890.958), side=left, pos=(3006.504, 2211.472)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2719.818, 2886.107), side=left, pos=(3009.662, 2215.77)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2720.547, 2880.899), side=left, pos=(3012.82, 2220.067)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2721.306, 2875.334), side=left, pos=(3015.978, 2224.365)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2722.096, 2869.408), side=left, pos=(3019.136, 2228.663)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2722.92, 2863.122), side=left, pos=(3022.294, 2232.961)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2723.775, 2856.646), side=left, pos=(3025.452, 2237.259)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2724.657, 2850.153), side=left, pos=(3028.61, 2241.557)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2725.567, 2843.642), side=left, pos=(3031.768, 2245.854)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2726.506, 2837.113), side=left, pos=(3034.926, 2250.152)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2727.475, 2830.566), side=left, pos=(3038.084, 2254.45)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2728.475, 2824), side=left, pos=(3041.242, 2258.748)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3065.871, 2900.244), side=right, pos=(3044.4, 2263.046)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2730.576, 2810.813), side=left, pos=(3047.558, 2267.344)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2731.678, 2804.191), side=left, pos=(3050.716, 2271.642)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2732.818, 2797.55), side=left, pos=(3053.874, 2275.939)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2733.996, 2790.889), side=left, pos=(3057.032, 2280.237)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2735.214, 2784.208), side=left, pos=(3060.19, 2284.535)
[21:37:03] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> IN_COVER
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2736.474, 2777.508), side=left, pos=(3063.348, 2288.833)
[21:37:03] [ENEMY] [GuardEnemy6] State: IN_COVER -> PURSUING
[21:37:03] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[21:37:03] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[21:37:03] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[21:37:03] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[21:37:03] [ENEMY] [PatrolEnemy1] Player reloading: false -> true
[21:37:03] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[21:37:03] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[21:37:03] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2873.779, 2917.43), source=PLAYER (Player), range=900, listeners=6
[21:37:03] [ENEMY] [GuardEnemy6] Heard player RELOAD at (2873.779, 2917.43), intensity=0.02, distance=343
[21:37:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=1
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2737.778, 2770.788), side=left, pos=(3066.506, 2293.131)
[21:37:03] [ENEMY] [GuardEnemy6] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=178.7°, current=-40.9°, player=(2873,2917), corner_timer=-0.02
[21:37:03] [ENEMY] [GuardEnemy6] Pursuing vulnerability sound at (2873.779, 2917.43), distance=343
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2739.127, 2764.049), side=left, pos=(3069.664, 2297.429)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2740.523, 2757.29), side=left, pos=(3072.822, 2301.727)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2741.968, 2750.51), side=left, pos=(3075.979, 2306.024)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2743.465, 2743.712), side=left, pos=(3079.137, 2310.322)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2744.991, 2737.192), side=left, pos=(3082.295, 2314.62)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2746.546, 2730.953), side=left, pos=(3085.453, 2318.918)
[21:37:03] [INFO] [BloodyFeet:PatrolEnemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2748.127, 2724.996), side=left, pos=(3088.611, 2323.216)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2749.734, 2719.323), side=left, pos=(3091.769, 2327.514)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2751.364, 2713.937), side=left, pos=(3094.927, 2331.812)
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2753.014, 2708.84), side=left, pos=(3098.085, 2336.109)
[21:37:03] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=3675), can_see=false
[21:37:03] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3286), can_see=false
[21:37:03] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=1007), can_see=false
[21:37:03] [ENEMY] [PatrolEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=572), can_see=true
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2754.683, 2704.033), side=left, pos=(3101.243, 2340.407)
[21:37:03] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1989), can_see=false
[21:37:03] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=true (dist=323), can_see=false
[21:37:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2756.369, 2699.52), side=left, pos=(3104.401, 2344.705)
[21:37:03] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[21:37:03] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[21:37:03] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[21:37:03] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[21:37:03] [ENEMY] [PatrolEnemy1] Player reloading: true -> false
[21:37:03] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[21:37:03] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[21:37:03] [ENEMY] [SniperEnemy1] Player ammo empty: true -> false
[21:37:03] [ENEMY] [SniperEnemy2] Player ammo empty: true -> false
[21:37:03] [ENEMY] [GuardEnemy4] Player ammo empty: true -> false
[21:37:03] [ENEMY] [PatrolEnemy1] Player ammo empty: true -> false
[21:37:03] [ENEMY] [GuardEnemy5] Player ammo empty: true -> false
[21:37:03] [ENEMY] [GuardEnemy6] Player ammo empty: true -> false
[21:37:03] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[21:37:03] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[21:37:03] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=115.4°, current=176.8°, player=(2873,2853), corner_timer=0.18
[21:37:03] [INFO] [ReplayManager] Recording frame 2340 (39,0s): player_valid=True, enemies=10
[21:37:03] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=115.7°, current=162.9°, player=(2873,2845), corner_timer=0.18
[21:37:03] [INFO] [GrenadeTimer] Flashbang grenade landed at (3270.4558, 3025.94)
[21:37:03] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(3270.456, 3025.94), source=NEUTRAL (FlashbangGrenade), range=112, listeners=6
[21:37:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[21:37:03] [INFO] [GrenadeTimer] Emitted grenade landing sound at (3270.4558, 3025.94)
[21:37:03] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(3271.268, 3025.912), source=NEUTRAL (FlashbangGrenade), range=112, listeners=6
[21:37:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[21:37:03] [INFO] [GrenadeBase] Grenade landed at (3271.268, 3025.912)
[21:37:03] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[21:37:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3041.236, 2497.425), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:37:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=1
[21:37:04] [INFO] [LastChance] Threat detected: Bullet
[21:37:04] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3024.983, 2531.034), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:37:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=1
[21:37:04] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:04] [INFO] [Player] Spawning blood effect at (2873.779, 2843.7075), dir=(1, 0), lethal=False (C#)
[21:37:04] [INFO] [ImpactEffects] spawn_blood_effect called at (2873.779, 2843.708), dir=(1, 0), lethal=false
[21:37:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:04] [INFO] [ImpactEffects] Blood effect spawned at (2873.779, 2843.708) (scale=1)
[21:37:04] [INFO] [LastChance] Threat detected: @Area2D@1728
[21:37:04] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:04] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:37:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3008.731, 2564.643), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:37:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=1
[21:37:04] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:04] [INFO] [Player] Spawning blood effect at (2873.779, 2843.7075), dir=(1, 0), lethal=False (C#)
[21:37:04] [INFO] [ImpactEffects] spawn_blood_effect called at (2873.779, 2843.708), dir=(1, 0), lethal=false
[21:37:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:04] [INFO] [ImpactEffects] Blood effect spawned at (2873.779, 2843.708) (scale=1)
[21:37:04] [ENEMY] [GuardEnemy4] FLANKING started: target=(2960.438, 2663.457), side=left, pos=(3875.933, 2767.95)
[21:37:04] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[21:37:04] [ENEMY] [GuardEnemy6] Pursuing vulnerability sound at (2873.779, 2843.708), distance=226
[21:37:04] [INFO] [LastChance] Threat detected: Bullet
[21:37:04] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:04] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:04] [INFO] [Player] Spawning blood effect at (2873.779, 2843.7075), dir=(1, 0), lethal=False (C#)
[21:37:04] [INFO] [ImpactEffects] spawn_blood_effect called at (2873.779, 2843.708), dir=(1, 0), lethal=false
[21:37:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:04] [INFO] [ImpactEffects] Blood effect spawned at (2873.779, 2843.708) (scale=1)
[21:37:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3033.981, 2571.38), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:37:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=1
[21:37:04] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 119.0°
[21:37:04] [INFO] [LastChance] Threat detected: @Area2D@1735
[21:37:04] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3059.231, 2578.117), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:37:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=1
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2952.491, 2823.37) (added to group)
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2981.573, 2869.829) (added to group)
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2934.047, 2840.837) (added to group)
[21:37:04] [INFO] [LastChance] Threat detected: Bullet
[21:37:04] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2946.066, 2830.486) (added to group)
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2984.238, 2908.115) (added to group)
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2975.659, 2922.767) (added to group)
[21:37:04] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:04] [INFO] [Player] Spawning blood effect at (2873.779, 2843.7075), dir=(1, 0), lethal=False (C#)
[21:37:04] [INFO] [ImpactEffects] spawn_blood_effect called at (2873.779, 2843.708), dir=(1, 0), lethal=false
[21:37:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:04] [INFO] [ImpactEffects] Blood effect spawned at (2873.779, 2843.708) (scale=1)
[21:37:04] [INFO] [ReplayManager] Recording frame 2400 (40,0s): player_valid=True, enemies=10
[21:37:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3084.481, 2584.853), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:37:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=1
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2921.133, 2882.846) (added to group)
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2949.608, 2921.396) (added to group)
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (3024.088, 2863.49) (added to group)
[21:37:04] [INFO] [LastChance] Threat detected: @Area2D@1745
[21:37:04] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2921.793, 2861.052) (added to group)
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2994.081, 2935.044) (added to group)
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2995.371, 2865.854) (added to group)
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2994.677, 2888.125) (added to group)
[21:37:04] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 95.4°
[21:37:04] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=28.5°, current=134.8°, player=(2862,2845), corner_timer=0.18
[21:37:04] [INFO] [GrenadeBase] EXPLODED at (3272.86, 3025.856)!
[21:37:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(3272.86, 3025.856), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=6
[21:37:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=3
[21:37:04] [INFO] [GrenadeBase] Scattered 2 casings (lethal zone) + 0 casings (proximity) from explosion
[21:37:04] [INFO] [ImpactEffects] Flashbang effect spawned at (3272.86, 3025.856) (radius=400)
[21:37:04] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[21:37:04] [INFO] [GrenadeTimer] EXPLODED at (3272.8596, 3025.8562)!
[21:37:04] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 400, blindness: 12s, stun: 6s)
[21:37:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(3272.86, 3025.856), source=NEUTRAL (FlashbangGrenade), range=2938, listeners=6
[21:37:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=3
[21:37:04] [INFO] [GrenadeTimer] Spawned shadow-enabled flashbang effect at (3272.8596, 3025.8562) (radius: 400)
[21:37:04] [INFO] [GrenadeTimer] Scattered 2 casings
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (3004.233, 2942.448) (added to group)
[21:37:04] [INFO] [BloodDecal] Blood puddle created at (2972.981, 2861.437) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (3000.944, 2958.147) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (3009.78, 2853.885) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (3049.819, 2976.063) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2953.66, 2938.022) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2984.107, 2924.301) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2975.104, 2859.358) (added to group)
[21:37:05] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[21:37:05] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (3037.476, 3003.362) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2987.124, 2868.756) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2954.841, 2828.619) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2931.059, 2861.618) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2951.397, 2850.545) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (3034.798, 2838.058) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2973.586, 2909.496) (added to group)
[21:37:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3006.382, 2633.6772), shooter_id=125879455804, bullet_pos=(2130.4421, 3799.6318)
[21:37:05] [INFO] [Bullet] Using shooter_position, distance=1458,3281
[21:37:05] [INFO] [Bullet] Distance to wall: 1458,3281 (99,30025% of viewport)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2986.675, 2914.276) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (3012.029, 2967.979) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2960.394, 2868.927) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2983.76, 2974.933) (added to group)
[21:37:05] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 90.4°
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2998.778, 2956.648) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2974.762, 2934.347) (added to group)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (2990.64, 2873.501) (added to group)
[21:37:05] [INFO] [BloodyFeet:GuardEnemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:37:05] [INFO] [BloodDecal] Blood puddle created at (3011.317, 2951.997) (added to group)
[21:37:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3047.8052, 2642.266), shooter_id=125879455804, bullet_pos=(1995.9204, 3935.059)
[21:37:05] [INFO] [Bullet] Using shooter_position, distance=1666,6659
[21:37:05] [INFO] [Bullet] Distance to wall: 1666,6659 (113,48635% of viewport)
[21:37:05] [ENEMY] [GuardEnemy6] Pursuing vulnerability sound at (2864.95, 2844.576), distance=234
[21:37:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3047.8052, 2642.266), shooter_id=125879455804, bullet_pos=(1863.901, 3719.3333)
[21:37:05] [INFO] [Bullet] Using shooter_position, distance=1600,532
[21:37:05] [INFO] [Bullet] Distance to wall: 1600,532 (108,98317% of viewport)
[21:37:05] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 83.1°
[21:37:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3047.8052, 2642.266), shooter_id=125879455804, bullet_pos=(1902.9757, 3667.1287)
[21:37:05] [INFO] [Bullet] Using shooter_position, distance=1536,5474
[21:37:05] [INFO] [Bullet] Distance to wall: 1536,5474 (104,626335% of viewport)
[21:37:05] [INFO] [ReplayManager] Recording frame 2460 (41,0s): player_valid=True, enemies=10
[21:37:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3047.8052, 2642.266), shooter_id=125879455804, bullet_pos=(2092.5586, 3946.5322)
[21:37:05] [INFO] [Bullet] Using shooter_position, distance=1616,6652
[21:37:05] [INFO] [Bullet] Distance to wall: 1616,6652 (110,08171% of viewport)
[21:37:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3047.8052, 2642.266), shooter_id=125879455804, bullet_pos=(2140.3328, 3895.0269)
[21:37:05] [INFO] [Bullet] Using shooter_position, distance=1546,9053
[21:37:05] [INFO] [Bullet] Distance to wall: 1546,9053 (105,33163% of viewport)
[21:37:05] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 78.5°
[21:37:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3047.8052, 2642.266), shooter_id=125879455804, bullet_pos=(1958.6578, 3655.284)
[21:37:06] [INFO] [Bullet] Using shooter_position, distance=1487,4297
[21:37:06] [INFO] [Bullet] Distance to wall: 1487,4297 (101,28182% of viewport)
[21:37:06] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 70.1°
[21:37:06] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:37:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3047.8052, 2642.266), shooter_id=125879455804, bullet_pos=(1864.8763, 3746.3433)
[21:37:06] [INFO] [Bullet] Using shooter_position, distance=1618,1184
[21:37:06] [INFO] [Bullet] Distance to wall: 1618,1184 (110,180664% of viewport)
[21:37:06] [ENEMY] [GuardEnemy6] Pursuing vulnerability sound at (2864.95, 2844.576), distance=234
[21:37:06] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 89.2°
[21:37:06] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:37:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3047.8052, 2642.266), shooter_id=125879455804, bullet_pos=(2114.5295, 3933.84)
[21:37:06] [INFO] [Bullet] Using shooter_position, distance=1593,4763
[21:37:06] [INFO] [Bullet] Distance to wall: 1593,4763 (108,50273% of viewport)
[21:37:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3047.8052, 2642.266), shooter_id=125879455804, bullet_pos=(2135.6482, 3915.9036)
[21:37:06] [INFO] [Bullet] Using shooter_position, distance=1566,5831
[21:37:06] [INFO] [Bullet] Distance to wall: 1566,5831 (106,671524% of viewport)
[21:37:06] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[21:37:06] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:37:06] [INFO] [ReplayManager] Recording frame 2520 (42,0s): player_valid=True, enemies=10
[21:37:06] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=23.0°, current=25.6°, player=(3189,2952), corner_timer=-0.02
[21:37:06] [ENEMY] [GuardEnemy6] State: PURSUING -> COMBAT
[21:37:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3189.784, 2930.788), source=PLAYER (MakarovPM), range=1469, listeners=6
[21:37:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=0
[21:37:06] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=8.5°, current=-48.4°, player=(3189,2924), corner_timer=-0.02
[21:37:06] [ENEMY] [GuardEnemy6] Hit: dmg=1, hp=2/2->1/2
[21:37:06] [INFO] [ImpactEffects] spawn_blood_effect called at (3090.067, 2909.934), dir=(-0.914937, -0.403596), lethal=false
[21:37:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:06] [INFO] [ImpactEffects] Wall found for blood splatter at (3066, 2899.317) (dist=26 px)
[21:37:06] [INFO] [BloodDecal] Blood puddle created at (3067, 2899.317) (added to group)
[21:37:06] [INFO] [ImpactEffects] Blood effect spawned at (3090.067, 2909.934) (scale=0.5)
[21:37:06] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 88.4°
[21:37:06] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-0.9°, current=23.8°, player=(3189,2908), corner_timer=-0.02
[21:37:07] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[21:37:07] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:37:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3047.8052, 2642.266), shooter_id=125879455804, bullet_pos=(1926.0864, 3669.4932)
[21:37:07] [INFO] [Bullet] Using shooter_position, distance=1521,0024
[21:37:07] [INFO] [Bullet] Distance to wall: 1521,0024 (103,56785% of viewport)
[21:37:07] [ENEMY] [GuardEnemy4] FLANKING corner check: angle -71.8°
[21:37:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3189.784, 2825.066), source=PLAYER (MakarovPM), range=1469, listeners=6
[21:37:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=0
[21:37:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3047.8052, 2642.266), shooter_id=125879455804, bullet_pos=(1867.5365, 3764.547)
[21:37:07] [INFO] [Bullet] Using shooter_position, distance=1628,6647
[21:37:07] [INFO] [Bullet] Distance to wall: 1628,6647 (110,89878% of viewport)
[21:37:07] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[21:37:07] [ENEMY] [GuardEnemy6] Hit: dmg=1, hp=1/2->0/2
[21:37:07] [INFO] [ImpactEffects] spawn_blood_effect called at (3092.73, 2891.081), dir=(-0.712637, 0.701533), lethal=true
[21:37:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:07] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:37:07] [INFO] [ImpactEffects] Wall found for blood splatter at (3066, 2917.395) (dist=37 px)
[21:37:07] [INFO] [BloodDecal] Blood puddle created at (3067, 2917.395) (added to group)
[21:37:07] [INFO] [ImpactEffects] Blood effect spawned at (3092.73, 2891.081) (scale=0.75)
[21:37:07] [ENEMY] [GuardEnemy6] Enemy died (ricochet: false, penetration: false)
[21:37:07] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[21:37:07] [ENEMY] [GuardEnemy4] [AllyDeath] Witnessed at (3092.73, 2891.081), entering SEARCHING
[21:37:07] [ENEMY] [GuardEnemy4] SEARCHING started: center=(3092.73, 2891.081), radius=100, waypoints=5
[21:37:07] [ENEMY] [GuardEnemy6] [AllyDeath] Notified 2 enemies
[21:37:07] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy6 (remaining: 5)
[21:37:07] [INFO] [DeathAnim] Started - Angle: 135.4 deg, Index: 21
[21:37:07] [ENEMY] [GuardEnemy6] Death animation started with hit direction: (-0.712637, 0.701533)
[21:37:07] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[21:37:07] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=69.9°, current=28.5°, player=(3186,2835), corner_timer=0.18
[21:37:07] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 60.2°
[21:37:07] [ENEMY] [SniperEnemy1] Player ammo empty: false -> true
[21:37:07] [ENEMY] [SniperEnemy2] Player ammo empty: false -> true
[21:37:07] [ENEMY] [GuardEnemy4] Player ammo empty: false -> true
[21:37:07] [ENEMY] [PatrolEnemy1] Player ammo empty: false -> true
[21:37:07] [ENEMY] [GuardEnemy5] Player ammo empty: false -> true
[21:37:07] [ENEMY] [GuardEnemy6] Player ammo empty: false -> true
[21:37:07] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3178.432, 2848.181), source=PLAYER (Player), range=600, listeners=5
[21:37:07] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3178.432, 2848.181), intensity=0.05, distance=225
[21:37:07] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3178.432, 2848.181), intensity=0.04, distance=241
[21:37:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:07] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3443), can_see=false
[21:37:07] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3048), can_see=false
[21:37:07] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=225), can_see=false
[21:37:07] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=241), can_see=false
[21:37:07] [ENEMY] [PatrolEnemy1] Pursuing vulnerability sound at (3178.432, 2848.181), distance=241
[21:37:07] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2234), can_see=false
[21:37:07] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3152.14, 2871.96), source=PLAYER (Player), range=600, listeners=5
[21:37:07] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3152.14, 2871.96), intensity=0.04, distance=250
[21:37:07] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3152.14, 2871.96), intensity=0.04, distance=251
[21:37:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:07] [INFO] [ReplayManager] Recording frame 2580 (43,0s): player_valid=True, enemies=10
[21:37:07] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3135.868, 2884.274), source=PLAYER (Player), range=600, listeners=5
[21:37:07] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3135.868, 2884.274), intensity=0.04, distance=263
[21:37:07] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3135.868, 2884.274), intensity=0.04, distance=261
[21:37:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:07] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 67.7°
[21:37:08] [ENEMY] [GuardEnemy6] Ragdoll activated
[21:37:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:37:08] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3496), can_see=false
[21:37:08] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3054), can_see=false
[21:37:08] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=247), can_see=false
[21:37:08] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=268), can_see=false
[21:37:08] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2182), can_see=false
[21:37:08] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 73.8°
[21:37:08] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 78.5°
[21:37:08] [ENEMY] [PatrolEnemy1] Pursuing vulnerability sound at (3135.868, 2884.274), distance=270
[21:37:08] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3373), can_see=false
[21:37:08] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3041), can_see=false
[21:37:08] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=152), can_see=false
[21:37:08] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=243), can_see=false
[21:37:08] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2304), can_see=false
[21:37:08] [INFO] [ReplayManager] Recording frame 2640 (44,0s): player_valid=True, enemies=10
[21:37:08] [ENEMY] [GuardEnemy6] Death animation completed
[21:37:08] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 82.0°
[21:37:09] [INFO] [BloodyFeet:GuardEnemy4] Blood ran out - no more footprints
[21:37:09] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3366), can_see=false
[21:37:09] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3042), can_see=false
[21:37:09] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=159), can_see=false
[21:37:09] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=242), can_see=false
[21:37:09] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2310), can_see=false
[21:37:09] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 84.4°
[21:37:09] [INFO] [BloodyFeet:PatrolEnemy1] Blood ran out - no more footprints
[21:37:09] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 86.1°
[21:37:09] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3231.192, 2791.465), source=PLAYER (Player), range=600, listeners=5
[21:37:09] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.09, distance=164
[21:37:09] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.04, distance=242
[21:37:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:09] [ENEMY] [PatrolEnemy1] Pursuing vulnerability sound at (3231.192, 2791.465), distance=239
[21:37:09] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3366), can_see=false
[21:37:09] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3042), can_see=false
[21:37:09] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=165), can_see=false
[21:37:09] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=237), can_see=false
[21:37:09] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2310), can_see=false
[21:37:09] [INFO] [ReplayManager] Recording frame 2700 (45,0s): player_valid=True, enemies=10
[21:37:09] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 87.3°
[21:37:10] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3231.192, 2791.465), source=PLAYER (Player), range=600, listeners=5
[21:37:10] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.09, distance=168
[21:37:10] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.05, distance=226
[21:37:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:10] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3231.192, 2791.465), source=PLAYER (Player), range=600, listeners=5
[21:37:10] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.09, distance=169
[21:37:10] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.05, distance=222
[21:37:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:10] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3366), can_see=false
[21:37:10] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3042), can_see=false
[21:37:10] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=169), can_see=false
[21:37:10] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=222), can_see=false
[21:37:10] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2310), can_see=false
[21:37:10] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 88.1°
[21:37:10] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 88.7°
[21:37:10] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3231.192, 2791.465), source=PLAYER (Player), range=600, listeners=5
[21:37:10] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.09, distance=171
[21:37:10] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.05, distance=221
[21:37:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:10] [ENEMY] [PatrolEnemy1] Pursuing vulnerability sound at (3231.192, 2791.465), distance=221
[21:37:10] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3366), can_see=false
[21:37:10] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3042), can_see=false
[21:37:10] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=171), can_see=false
[21:37:10] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=221), can_see=false
[21:37:10] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2310), can_see=false
[21:37:10] [INFO] [ReplayManager] Recording frame 2760 (46,0s): player_valid=True, enemies=10
[21:37:10] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 89.1°
[21:37:11] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3366), can_see=false
[21:37:11] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3042), can_see=false
[21:37:11] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=172), can_see=false
[21:37:11] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 89.4°
[21:37:11] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=219), can_see=false
[21:37:11] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2310), can_see=false
[21:37:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3231.192, 2791.465), source=PLAYER (Player), range=600, listeners=5
[21:37:11] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.08, distance=173
[21:37:11] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.05, distance=219
[21:37:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3231.192, 2791.465), source=PLAYER (Player), range=600, listeners=5
[21:37:11] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.08, distance=173
[21:37:11] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.05, distance=219
[21:37:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:11] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 89.6°
[21:37:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3231.192, 2791.465), source=PLAYER (Player), range=600, listeners=5
[21:37:11] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.08, distance=173
[21:37:11] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.05, distance=218
[21:37:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:11] [ENEMY] [PatrolEnemy1] Pursuing vulnerability sound at (3231.192, 2791.465), distance=218
[21:37:11] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3366), can_see=false
[21:37:11] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3042), can_see=false
[21:37:11] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=173), can_see=false
[21:37:11] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=218), can_see=false
[21:37:11] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2310), can_see=false
[21:37:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3231.192, 2791.465), source=PLAYER (Player), range=600, listeners=5
[21:37:11] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.08, distance=173
[21:37:11] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.05, distance=218
[21:37:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:11] [INFO] [ReplayManager] Recording frame 2820 (47,0s): player_valid=True, enemies=10
[21:37:11] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 89.7°
[21:37:12] [ENEMY] [PatrolEnemy1] GLOBAL STUCK: pos=(3089.606, 2625.934) for 4.0s without player contact, State: PURSUING -> SEARCHING
[21:37:12] [ENEMY] [PatrolEnemy1] SEARCHING started: center=(3089.606, 2625.934), radius=100, waypoints=5
[21:37:12] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 89.8°
[21:37:12] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3366), can_see=false
[21:37:12] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3042), can_see=false
[21:37:12] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=174), can_see=false
[21:37:12] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=218), can_see=false
[21:37:12] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2310), can_see=false
[21:37:12] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[21:37:12] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 89.9°
[21:37:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3231.192, 2791.465), source=PLAYER (Player), range=600, listeners=5
[21:37:12] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.08, distance=174
[21:37:12] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.05, distance=218
[21:37:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3231.192, 2791.465), source=PLAYER (Player), range=600, listeners=5
[21:37:12] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.08, distance=174
[21:37:12] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.05, distance=218
[21:37:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:12] [INFO] [ReplayManager] Recording frame 2880 (48,0s): player_valid=True, enemies=10
[21:37:12] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3366), can_see=false
[21:37:12] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3042), can_see=false
[21:37:12] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=174), can_see=false
[21:37:12] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=218), can_see=false
[21:37:12] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2310), can_see=false
[21:37:12] [ENEMY] [GuardEnemy4] SEARCHING: Stuck at wp 0, skipping
[21:37:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3231.192, 2791.465), source=PLAYER (Player), range=600, listeners=5
[21:37:12] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.08, distance=172
[21:37:12] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3231.192, 2791.465), intensity=0.05, distance=218
[21:37:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:12] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 103.6°
[21:37:13] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3231.192, 2793.465), source=PLAYER (Player), range=600, listeners=5
[21:37:13] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3231.192, 2793.465), intensity=0.09, distance=165
[21:37:13] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3231.192, 2793.465), intensity=0.05, distance=219
[21:37:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:13] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[21:37:13] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 99.6°
[21:37:13] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3419), can_see=false
[21:37:13] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3037), can_see=false
[21:37:13] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=174), can_see=false
[21:37:13] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=267), can_see=false
[21:37:13] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2259), can_see=false
[21:37:13] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 96.7°
[21:37:13] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:37:13] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3197.653, 2971.404), source=PLAYER (Player), range=600, listeners=5
[21:37:13] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3197.653, 2971.404), intensity=0.05, distance=218
[21:37:13] [ENEMY] [PatrolEnemy1] Heard player EMPTY_CLICK at (3197.653, 2971.404), intensity=0.01, distance=471
[21:37:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[21:37:13] [INFO] [ReplayManager] Recording frame 2940 (49,0s): player_valid=True, enemies=10
[21:37:13] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3522), can_see=false
[21:37:13] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2939), can_see=false
[21:37:13] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=219), can_see=false
[21:37:13] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=500), can_see=false
[21:37:13] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2179), can_see=false
[21:37:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=74.8°, current=76.5°, player=(3230,3007), corner_timer=0.00
[21:37:13] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=536)
[21:37:13] [ENEMY] [PatrolEnemy1] Pursuing vulnerability sound at (3230.033, 3007.492), distance=536
[21:37:13] [ENEMY] [PatrolEnemy1] State: SEARCHING -> PURSUING
[21:37:13] [ENEMY] [GuardEnemy4] SEARCHING corner check: angle 94.6°
[21:37:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=74.5°, current=-127.0°, player=(3233,3011), corner_timer=0.00
[21:37:14] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3257.257, 3034.716), source=PLAYER (Player), range=600, listeners=5
[21:37:14] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3257.257, 3034.716), intensity=0.05, distance=230
[21:37:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=1
[21:37:14] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=103.3°, current=104.4°, player=(3315,3080), corner_timer=-0.02
[21:37:14] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2831.919), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:14] [ENEMY] [GuardEnemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[21:37:14] [ENEMY] [GuardEnemy4] State: SEARCHING -> COMBAT
[21:37:14] [INFO] [LastChance] Threat detected: Bullet9mm
[21:37:14] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:14] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2837.207), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:14] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3509), can_see=false
[21:37:14] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2777), can_see=false
[21:37:14] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=513), can_see=false
[21:37:14] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2239), can_see=false
[21:37:14] [INFO] [LastChance] Threat detected: @Area2D@1844
[21:37:14] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:14] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:14] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:14] [INFO] [Player] Spawning blood effect at (3363.1003, 3084.5881), dir=(1, 0), lethal=False (C#)
[21:37:14] [INFO] [ImpactEffects] spawn_blood_effect called at (3363.1, 3084.588), dir=(1, 0), lethal=false
[21:37:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:14] [INFO] [ImpactEffects] Blood effect spawned at (3363.1, 3084.588) (scale=1)
[21:37:14] [INFO] [LastChance] Threat detected: @Area2D@1846
[21:37:14] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:14] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:14] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:14] [INFO] [Player] Spawning blood effect at (3385.1003, 3084.5881), dir=(1, 0), lethal=False (C#)
[21:37:14] [INFO] [ImpactEffects] spawn_blood_effect called at (3385.1, 3084.588), dir=(1, 0), lethal=false
[21:37:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:14] [INFO] [ImpactEffects] Blood effect spawned at (3385.1, 3084.588) (scale=1)
[21:37:14] [INFO] [LastChance] Threat detected: @Area2D@1848
[21:37:14] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:14] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:14] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:14] [INFO] [BloodDecal] Blood puddle created at (3401.374, 3103.27) (added to group)
[21:37:14] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:14] [INFO] [BloodDecal] Blood puddle created at (3439.116, 3067.664) (added to group)
[21:37:14] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:14] [INFO] [BloodDecal] Blood puddle created at (3449.437, 3074.775) (added to group)
[21:37:14] [INFO] [BloodDecal] Blood puddle created at (3469.484, 3114.104) (added to group)
[21:37:14] [INFO] [ReplayManager] Recording frame 3000 (50,0s): player_valid=True, enemies=10
[21:37:14] [INFO] [BloodDecal] Blood puddle created at (3430.988, 3122.916) (added to group)
[21:37:14] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:14] [INFO] [BloodDecal] Blood puddle created at (3486.381, 3150.473) (added to group)
[21:37:14] [INFO] [BloodDecal] Blood puddle created at (3463.233, 3152.291) (added to group)
[21:37:14] [INFO] [LastChance] Threat detected: @Area2D@1867
[21:37:14] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:14] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3413), can_see=false
[21:37:14] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2637), can_see=false
[21:37:14] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:14] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=622), can_see=false
[21:37:14] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2379), can_see=false
[21:37:14] [INFO] [BloodDecal] Blood puddle created at (3501.194, 3161.036) (added to group)
[21:37:14] [INFO] [BloodDecal] Blood puddle created at (3471.75, 3084.664) (added to group)
[21:37:14] [INFO] [BloodDecal] Blood puddle created at (3471.801, 3085.196) (added to group)
[21:37:14] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:14] [ENEMY] [PatrolEnemy1] Pursuing vulnerability sound at (3230.033, 3007.492), distance=404
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3516.876, 3115.052) (added to group)
[21:37:15] [INFO] [LastChance] Threat detected: @Area2D@1879
[21:37:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:15] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3522.486, 3151.792) (added to group)
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3498.532, 3143.569) (added to group)
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3521.144, 3195.701) (added to group)
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3520.845, 3193.731) (added to group)
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3453.99, 3204.101) (added to group)
[21:37:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:15] [INFO] [Player] Spawning blood effect at (3554.7644, 3139.7222), dir=(1, 0), lethal=False (C#)
[21:37:15] [INFO] [ImpactEffects] spawn_blood_effect called at (3554.764, 3139.722), dir=(1, 0), lethal=false
[21:37:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:15] [INFO] [ImpactEffects] Blood effect spawned at (3554.764, 3139.722) (scale=1)
[21:37:15] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:15] [INFO] [LastChance] Threat detected: @Area2D@1884
[21:37:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3560.491, 3081.587) (added to group)
[21:37:15] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3578.894, 3233.955) (added to group)
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3495.547, 3147.263) (added to group)
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3545.897, 3119.51) (added to group)
[21:37:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3373.966, 2910.882), shooter_id=125527134247, bullet_pos=(3076.414, 4466.006)
[21:37:15] [INFO] [Bullet] Using shooter_position, distance=1583.33422851563
[21:37:15] [INFO] [Bullet] Distance to wall: 1583.33422851563 (107.812139114546% of viewport)
[21:37:15] [INFO] [Bullet] Distance-based penetration chance: 28.4375721770908%
[21:37:15] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3366.101, 2899.5), shooter_id=125527134247, bullet_pos=(2672.411, 5083.655)
[21:37:15] [INFO] [Bullet] Using shooter_position, distance=2291.66772460938
[21:37:15] [INFO] [Bullet] Distance to wall: 2291.66772460938 (156.043869374016% of viewport)
[21:37:15] [INFO] [Bullet] Distance-based penetration chance: 18.7912261251967%
[21:37:15] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:15] [ENEMY] [GuardEnemy4] Player empty ammo - priority attack triggered
[21:37:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.066, 2842.834), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[21:37:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[21:37:15] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3589.767, 3174.725), source=PLAYER (Player), range=600, listeners=5
[21:37:15] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3589.767, 3174.725), intensity=0.02, distance=396
[21:37:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[21:37:15] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=401), can_see=true
[21:37:15] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=401)
[21:37:15] [ENEMY] [GuardEnemy4] Pursuing vulnerability sound at (3593.656, 3178.614), distance=401
[21:37:15] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3398.622, 2906.297), shooter_id=125527134247, bullet_pos=(3569.282, 3891.627)
[21:37:15] [INFO] [Bullet] Using shooter_position, distance=1000.00012207031
[21:37:15] [INFO] [Bullet] Distance to wall: 1000.00012207031 (68.0918471498475% of viewport)
[21:37:15] [INFO] [Bullet] Distance-based penetration chance: 67.226178325178%
[21:37:15] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3602.588, 3148.378) (added to group)
[21:37:15] [INFO] [BloodyFeet:GuardEnemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3640.558, 3162.834) (added to group)
[21:37:15] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3435), can_see=false
[21:37:15] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2469), can_see=false
[21:37:15] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=798), can_see=false
[21:37:15] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2437), can_see=false
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3604.29, 3147.597) (added to group)
[21:37:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3402.549, 2904.634), shooter_id=125527134247, bullet_pos=(2938.37, 3790.373)
[21:37:15] [INFO] [Bullet] Using shooter_position, distance=999.99755859375
[21:37:15] [INFO] [Bullet] Distance to wall: 999.99755859375 (68.0916725980145% of viewport)
[21:37:15] [INFO] [Bullet] Distance-based penetration chance: 67.2263819689831%
[21:37:15] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3644.289, 3180.429) (added to group)
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3679.771, 3193.783) (added to group)
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3633.759, 3145.292) (added to group)
[21:37:15] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:15] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3385.767, 2909.869), shooter_id=125527134247, bullet_pos=(2799.071, 5082.024)
[21:37:15] [INFO] [Bullet] Using shooter_position, distance=2249.99365234375
[21:37:15] [INFO] [Bullet] Distance to wall: 2249.99365234375 (153.206205161588% of viewport)
[21:37:15] [INFO] [Bullet] Distance-based penetration chance: 19.3587589676823%
[21:37:15] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3668.653, 3270.595) (added to group)
[21:37:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3379.994, 2910.624), shooter_id=125527134247, bullet_pos=(4802.604, 5066.962)
[21:37:15] [INFO] [Bullet] Using shooter_position, distance=2583.33349609375
[21:37:15] [INFO] [Bullet] Distance to wall: 2583.33349609375 (175.903928080449% of viewport)
[21:37:15] [INFO] [Bullet] Distance-based penetration chance: 14.8192143839102%
[21:37:15] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3653.029, 3216.78) (added to group)
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3726.73, 3188.261) (added to group)
[21:37:15] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=476), can_see=true
[21:37:15] [INFO] [BloodDecal] Blood puddle created at (3760.522, 3196.603) (added to group)
[21:37:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3395.586, 2907.39), shooter_id=125527134247, bullet_pos=(4319.174, 5095.454)
[21:37:15] [INFO] [Bullet] Using shooter_position, distance=2375.00268554688
[21:37:15] [INFO] [Bullet] Distance to wall: 2375.00268554688 (161.718300103732% of viewport)
[21:37:15] [INFO] [Bullet] Distance-based penetration chance: 17.6563399792537%
[21:37:15] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:15] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3721.998, 3306.956), source=PLAYER (Player), range=600, listeners=5
[21:37:15] [ENEMY] [GuardEnemy4] Heard player EMPTY_CLICK at (3721.998, 3306.956), intensity=0.01, distance=487
[21:37:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[21:37:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3403.418, 2904.227), shooter_id=125527134247, bullet_pos=(3147.15, 4466.68)
[21:37:15] [INFO] [Bullet] Using shooter_position, distance=1583.32971191406
[21:37:15] [INFO] [Bullet] Distance to wall: 1583.32971191406 (107.81183157084% of viewport)
[21:37:15] [INFO] [Bullet] Distance-based penetration chance: 28.4376336858319%
[21:37:15] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:15] [INFO] [ReplayManager] Recording frame 3060 (51,0s): player_valid=True, enemies=10
[21:37:15] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3401.561, 2905.08), shooter_id=125527134247, bullet_pos=(4652.305, 4518.788)
[21:37:15] [INFO] [Bullet] Using shooter_position, distance=2041.6689453125
[21:37:15] [INFO] [Bullet] Distance to wall: 2041.6689453125 (139.020992784473% of viewport)
[21:37:15] [INFO] [Bullet] Distance-based penetration chance: 22.1958014431054%
[21:37:15] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:15] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:15] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3469), can_see=false
[21:37:15] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2300), can_see=false
[21:37:15] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=966), can_see=false
[21:37:15] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2504), can_see=false
[21:37:15] [ENEMY] [PatrolEnemy1] Pursuing vulnerability sound at (3753.112, 3338.069), distance=972
[21:37:16] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[21:37:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3391.184, 2908.694), shooter_id=125527134247, bullet_pos=(6094.735, 4786.437)
[21:37:16] [INFO] [Bullet] Using shooter_position, distance=3291.67211914063
[21:37:16] [INFO] [Bullet] Distance to wall: 3291.67211914063 (224.136007443585% of viewport)
[21:37:16] [INFO] [Bullet] Distance-based penetration chance: 5.17279851128291%
[21:37:16] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:16] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=121.2°, current=121.3°, player=(3795,3380), corner_timer=0.00
[21:37:16] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=3484)
[21:37:16] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:16] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3404.186, 2903.854), shooter_id=125527134247, bullet_pos=(4254.139, 5076.881)
[21:37:16] [INFO] [Bullet] Using shooter_position, distance=2333.33862304688
[21:37:16] [INFO] [Bullet] Distance to wall: 2333.33862304688 (158.881317474651% of viewport)
[21:37:16] [INFO] [Bullet] Distance-based penetration chance: 18.2237365050697%
[21:37:16] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:16] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=623)
[21:37:16] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=629), can_see=true
[21:37:16] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3842.562, 3427.52), source=PLAYER (Player), range=600, listeners=5
[21:37:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:16] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3511), can_see=true
[21:37:16] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2132), can_see=false
[21:37:16] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:16] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1134), can_see=false
[21:37:16] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2580), can_see=false
[21:37:16] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:16] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3893.121, 3478.079), source=PLAYER (Player), range=600, listeners=5
[21:37:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:16] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3935.902, 3520.86), source=PLAYER (Player), range=600, listeners=5
[21:37:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:16] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:16] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:16] [INFO] [ReplayManager] Recording frame 3120 (52,0s): player_valid=True, enemies=10
[21:37:16] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=798), can_see=true
[21:37:16] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(3974.794, 3559.751), source=PLAYER (Player), range=600, listeners=5
[21:37:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:16] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3560), can_see=true
[21:37:16] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1964), can_see=false
[21:37:16] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1302), can_see=false
[21:37:16] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2665), can_see=false
[21:37:17] [ENEMY] [PatrolEnemy1] Pursuing vulnerability sound at (3994.24, 3579.197), distance=1307
[21:37:17] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:17] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:17] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4017.574, 3602.532), source=PLAYER (Player), range=600, listeners=5
[21:37:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:17] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=3579)
[21:37:17] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4064.244, 3649.202), source=PLAYER (Player), range=600, listeners=5
[21:37:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:17] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=957)
[21:37:17] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=968), can_see=true
[21:37:17] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:17] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:17] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4110.914, 3695.872), source=PLAYER (Player), range=600, listeners=5
[21:37:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:17] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3617), can_see=true
[21:37:17] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1796), can_see=false
[21:37:17] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1470), can_see=false
[21:37:17] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2757), can_see=false
[21:37:17] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:17] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:17] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=113.5°, current=113.6°, player=(4149,3731), corner_timer=0.00
[21:37:17] [INFO] [ReplayManager] Recording frame 3180 (53,0s): player_valid=True, enemies=10
[21:37:17] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1083), can_see=true
[21:37:17] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:17] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:18] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3637), can_see=false
[21:37:18] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1731), can_see=false
[21:37:18] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1532), can_see=false
[21:37:18] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2798), can_see=false
[21:37:18] [ENEMY] [PatrolEnemy1] Pursuing vulnerability sound at (4159.631, 3740.15), distance=1532
[21:37:18] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4159.631, 3740.15), source=PLAYER (Player), range=600, listeners=5
[21:37:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:18] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:18] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:18] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4159.631, 3758.483), source=PLAYER (Player), range=600, listeners=5
[21:37:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:18] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=1097)
[21:37:18] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1106), can_see=true
[21:37:18] [ENEMY] [PatrolEnemy1] GLOBAL STUCK: pos=(3110.679, 2625.934) for 4.0s without player contact, State: PURSUING -> SEARCHING
[21:37:18] [ENEMY] [PatrolEnemy1] SEARCHING started: center=(3110.679, 2625.934), radius=100, waypoints=5
[21:37:18] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4159.631, 3796.483), source=PLAYER (Player), range=600, listeners=5
[21:37:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:18] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3710), can_see=false
[21:37:18] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1689), can_see=false
[21:37:18] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1588), can_see=false
[21:37:18] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2786), can_see=false
[21:37:18] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:18] [ENEMY] [GuardEnemy5] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-7.6°, current=11.3°, player=(4159,3829), corner_timer=0.00
[21:37:18] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) - pursuing to attack (dist=2784)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4083.568, 4014.455), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] State: IDLE -> FLANKING
[21:37:18] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4083.206, 4019.806), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4082.844, 4025.156), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4082.482, 4030.505), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4082.121, 4035.853), side=left, pos=(1400, 4200)
[21:37:18] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4159.631, 3856.983), source=PLAYER (Player), range=600, listeners=5
[21:37:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4081.759, 4041.201), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4081.398, 4046.547), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4081.036, 4051.893), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4080.675, 4057.239), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4080.314, 4062.583), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-150.5°, current=-150.3°, player=(4159,3884), corner_timer=0.00
[21:37:18] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=1655)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4079.953, 4067.927), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4079.592, 4073.27), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4079.231, 4078.612), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4078.871, 4083.953), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4078.511, 4089.293), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4078.15, 4094.633), side=left, pos=(1400, 4200)
[21:37:18] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4159.631, 3917.483), source=PLAYER (Player), range=600, listeners=5
[21:37:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:18] [INFO] [ReplayManager] Recording frame 3240 (54,0s): player_valid=True, enemies=10
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4077.791, 4099.972), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4077.431, 4105.311), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4077.071, 4110.648), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4076.711, 4115.984), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1240), can_see=true
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4076.667, 4121.196), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4076.936, 4126.282), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4077.521, 4131.243), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4078.42, 4136.078), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4079.635, 4140.789), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4081.165, 4145.375), side=left, pos=(1400, 4200)
[21:37:18] [ENEMY] [GuardEnemy5] FLANKING started: target=(4083.009, 4149.836), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4085.169, 4154.172), side=left, pos=(1400, 4200)
[21:37:19] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4173.489, 3977.744), source=PLAYER (Player), range=600, listeners=5
[21:37:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4087.645, 4158.383), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3854), can_see=false
[21:37:19] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1594), can_see=true
[21:37:19] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1722), can_see=false
[21:37:19] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2785), can_see=true
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4090.435, 4162.47), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4093.541, 4166.432), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4096.963, 4170.27), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4100.583, 4174.03), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4104.204, 4177.789), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4107.826, 4181.549), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4111.449, 4185.308), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4115.073, 4189.067), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4118.698, 4192.827), side=left, pos=(1400, 4200)
[21:37:19] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4210.876, 4017.258), source=PLAYER (Player), range=600, listeners=5
[21:37:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4122.323, 4196.586), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4125.95, 4200.345), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4129.577, 4204.104), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4112.248, 3862.088), side=right, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4136.834, 4211.623), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4120.511, 3869.546), side=right, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4144.095, 4219.141), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4128.773, 3877.008), side=right, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4132.903, 3880.74), side=right, pos=(1400, 4200)
[21:37:19] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(4245.878, 4052.261), source=PLAYER (Player), range=600, listeners=5
[21:37:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[21:37:19] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=1382)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4137.033, 3884.473), side=right, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4158.626, 4234.176), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4145.292, 3891.941), side=right, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4165.897, 4241.694), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1403), can_see=true
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4153.549, 3899.411), side=right, pos=(1400, 4200)
[21:37:19] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 173.7°
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4157.677, 3903.148), side=right, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4161.804, 3906.885), side=right, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4180.449, 4256.729), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4183.774, 4260.611), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4186.785, 4264.618), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4189.481, 4268.748), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4179.553, 3926.471), side=right, pos=(1400, 4200)
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4194.443, 4276.345), side=left, pos=(1400, 4200)
[21:37:19] [ENEMY] [SniperEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=3928), can_see=false
[21:37:19] [ENEMY] [SniperEnemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1439), can_see=true
[21:37:19] [ENEMY] [PatrolEnemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1925), can_see=false
[21:37:19] [ENEMY] [GuardEnemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2892), can_see=true
[21:37:19] [ENEMY] [GuardEnemy5] FLANKING started: target=(4196.709, 4279.813), side=left, pos=(1400, 4200)
[21:37:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:37:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:19] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[21:37:19] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[21:37:19] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[21:37:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:37:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:37:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:37:19] [INFO] [CinemaEffects] Scene changed to: CityLevel
[21:37:19] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:37:19] [ENEMY] [SniperEnemy1] Death animation component initialized
[21:37:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:19] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[21:37:19] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[21:37:19] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[21:37:19] [ENEMY] [SniperEnemy2] Death animation component initialized
[21:37:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:19] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[21:37:19] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[21:37:19] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[21:37:19] [ENEMY] [GuardEnemy1] Death animation component initialized
[21:37:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:19] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[21:37:19] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[21:37:19] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[21:37:19] [ENEMY] [GuardEnemy2] Death animation component initialized
[21:37:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:19] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[21:37:19] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[21:37:19] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[21:37:19] [ENEMY] [GuardEnemy3] Death animation component initialized
[21:37:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:19] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[21:37:19] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[21:37:19] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[21:37:19] [ENEMY] [GuardEnemy4] Death animation component initialized
[21:37:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:19] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[21:37:19] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[21:37:19] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[21:37:19] [ENEMY] [PatrolEnemy1] Death animation component initialized
[21:37:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:19] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[21:37:19] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[21:37:19] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[21:37:19] [ENEMY] [PatrolEnemy2] Death animation component initialized
[21:37:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:19] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[21:37:19] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[21:37:19] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[21:37:19] [ENEMY] [GuardEnemy5] Death animation component initialized
[21:37:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:19] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[21:37:19] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[21:37:19] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[21:37:19] [ENEMY] [GuardEnemy6] Death animation component initialized
[21:37:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:19] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:37:19] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:37:19] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:37:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:37:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:37:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:37:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:37:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:37:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:37:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:37:19] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[21:37:19] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:37:19] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 2/4
[21:37:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:37:19] [INFO] [ScoreManager] Level started with 10 enemies
[21:37:19] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[21:37:19] [INFO] [ReplayManager] Replay data cleared
[21:37:19] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[21:37:19] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:37:19] [INFO] [ReplayManager] Level: CityLevel
[21:37:19] [INFO] [ReplayManager] Player: Player (valid: True)
[21:37:19] [INFO] [ReplayManager] Enemies count: 10
[21:37:19] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[21:37:19] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[21:37:19] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[21:37:19] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[21:37:19] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[21:37:19] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[21:37:19] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[21:37:19] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[21:37:19] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[21:37:19] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[21:37:19] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[21:37:19] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[21:37:19] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[21:37:19] [INFO] [CinemaEffects] Found player node: Player
[21:37:19] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:37:19] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 6)
[21:37:19] [ENEMY] [SniperEnemy1] Registered as sound listener
[21:37:19] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 3, behavior: GUARD
[21:37:19] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[21:37:19] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 7)
[21:37:19] [ENEMY] [SniperEnemy2] Registered as sound listener
[21:37:19] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 5, behavior: GUARD
[21:37:19] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[21:37:19] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 8)
[21:37:19] [ENEMY] [GuardEnemy1] Registered as sound listener
[21:37:19] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 2, behavior: GUARD
[21:37:19] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[21:37:19] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 9)
[21:37:19] [ENEMY] [GuardEnemy2] Registered as sound listener
[21:37:19] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 4, behavior: GUARD
[21:37:19] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[21:37:19] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 10)
[21:37:19] [ENEMY] [GuardEnemy3] Registered as sound listener
[21:37:19] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 2, behavior: GUARD
[21:37:19] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[21:37:19] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 11)
[21:37:19] [ENEMY] [GuardEnemy4] Registered as sound listener
[21:37:19] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 3, behavior: GUARD
[21:37:19] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[21:37:19] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 12)
[21:37:19] [ENEMY] [PatrolEnemy1] Registered as sound listener
[21:37:19] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 2, behavior: PATROL
[21:37:19] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[21:37:19] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 13)
[21:37:19] [ENEMY] [PatrolEnemy2] Registered as sound listener
[21:37:19] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 4, behavior: PATROL
[21:37:19] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[21:37:19] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 14)
[21:37:19] [ENEMY] [GuardEnemy5] Registered as sound listener
[21:37:19] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 3, behavior: GUARD
[21:37:19] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[21:37:19] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 15)
[21:37:19] [ENEMY] [GuardEnemy6] Registered as sound listener
[21:37:19] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 2, behavior: GUARD
[21:37:19] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:37:19] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:37:19] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:19] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:19] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:19] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:19] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:19] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:19] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:19] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:37:19] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[21:37:19] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:37:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:37:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:37:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:37:19] [INFO] [LastChance] Found player: Player
[21:37:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:37:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:37:19] [INFO] [LastChance] Connected to player Died signal (C#)
[21:37:19] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:37:20] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:37:20] [INFO] [PauseMenu] Armory button pressed
[21:37:20] [INFO] [PauseMenu] Creating new armory menu instance
[21:37:20] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[21:37:20] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[21:37:20] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[21:37:20] [INFO] [PauseMenu] back_pressed signal exists on instance
[21:37:20] [INFO] [PauseMenu] back_pressed signal connected
[21:37:20] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[21:37:20] [INFO] [PauseMenu] _populate_weapon_grid method exists
[21:37:21] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:37:22] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:37:23] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[21:37:24] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[21:37:25] [INFO] [GameManager] Weapon selected: silenced_pistol
[21:37:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:37:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:25] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[21:37:25] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[21:37:25] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[21:37:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:37:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:37:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:37:25] [INFO] [CinemaEffects] Scene changed to: CityLevel
[21:37:25] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:37:25] [ENEMY] [SniperEnemy1] Death animation component initialized
[21:37:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:25] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[21:37:25] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[21:37:25] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[21:37:25] [ENEMY] [SniperEnemy2] Death animation component initialized
[21:37:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:25] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[21:37:25] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[21:37:25] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[21:37:25] [ENEMY] [GuardEnemy1] Death animation component initialized
[21:37:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:25] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[21:37:25] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[21:37:25] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[21:37:25] [ENEMY] [GuardEnemy2] Death animation component initialized
[21:37:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:25] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[21:37:25] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[21:37:25] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[21:37:25] [ENEMY] [GuardEnemy3] Death animation component initialized
[21:37:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:25] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[21:37:25] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[21:37:25] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[21:37:25] [INFO] [EnemyGrenade] Initialized: 1 grenades
[21:37:25] [ENEMY] [GuardEnemy4] Death animation component initialized
[21:37:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:25] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[21:37:25] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[21:37:25] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[21:37:25] [ENEMY] [PatrolEnemy1] Death animation component initialized
[21:37:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:25] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[21:37:25] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[21:37:25] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[21:37:25] [ENEMY] [PatrolEnemy2] Death animation component initialized
[21:37:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:25] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[21:37:25] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[21:37:25] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[21:37:25] [ENEMY] [GuardEnemy5] Death animation component initialized
[21:37:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:25] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[21:37:25] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[21:37:25] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[21:37:25] [ENEMY] [GuardEnemy6] Death animation component initialized
[21:37:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:25] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:37:25] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:37:25] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:37:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:37:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:37:25] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[21:37:25] [INFO] [Player.Weapon] Removed default MakarovPM
[21:37:25] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[21:37:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:37:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:37:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:37:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:37:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:37:25] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[21:37:25] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:37:25] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 3/4
[21:37:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:37:25] [INFO] [ScoreManager] Level started with 10 enemies
[21:37:25] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[21:37:25] [INFO] [ReplayManager] Replay data cleared
[21:37:25] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[21:37:25] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:37:25] [INFO] [ReplayManager] Level: CityLevel
[21:37:25] [INFO] [ReplayManager] Player: Player (valid: True)
[21:37:25] [INFO] [ReplayManager] Enemies count: 10
[21:37:25] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[21:37:25] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[21:37:25] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[21:37:25] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[21:37:25] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[21:37:25] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[21:37:25] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[21:37:25] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[21:37:25] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[21:37:25] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[21:37:25] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[21:37:25] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[21:37:25] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[21:37:25] [INFO] [CinemaEffects] Found player node: Player
[21:37:25] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:37:25] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 16)
[21:37:25] [ENEMY] [SniperEnemy1] Registered as sound listener
[21:37:25] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 4, behavior: GUARD
[21:37:25] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[21:37:25] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 17)
[21:37:25] [ENEMY] [SniperEnemy2] Registered as sound listener
[21:37:25] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 5, behavior: GUARD
[21:37:25] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[21:37:25] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 18)
[21:37:25] [ENEMY] [GuardEnemy1] Registered as sound listener
[21:37:25] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 2, behavior: GUARD
[21:37:25] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[21:37:25] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 19)
[21:37:25] [ENEMY] [GuardEnemy2] Registered as sound listener
[21:37:25] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 2, behavior: GUARD
[21:37:25] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[21:37:25] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 20)
[21:37:25] [ENEMY] [GuardEnemy3] Registered as sound listener
[21:37:25] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 4, behavior: GUARD
[21:37:25] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[21:37:25] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 21)
[21:37:25] [ENEMY] [GuardEnemy4] Registered as sound listener
[21:37:25] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 2, behavior: GUARD
[21:37:25] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[21:37:25] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 22)
[21:37:25] [ENEMY] [PatrolEnemy1] Registered as sound listener
[21:37:25] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 4, behavior: PATROL
[21:37:25] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[21:37:25] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 23)
[21:37:25] [ENEMY] [PatrolEnemy2] Registered as sound listener
[21:37:25] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 3, behavior: PATROL
[21:37:25] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[21:37:25] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 24)
[21:37:25] [ENEMY] [GuardEnemy5] Registered as sound listener
[21:37:25] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 4, behavior: GUARD
[21:37:25] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[21:37:25] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 25)
[21:37:25] [ENEMY] [GuardEnemy6] Registered as sound listener
[21:37:25] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 3, behavior: GUARD
[21:37:25] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:37:25] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:37:25] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:25] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:25] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:25] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:25] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:25] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:25] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:25] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[21:37:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:37:25] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[21:37:25] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:37:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:37:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:37:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:37:25] [INFO] [LastChance] Found player: Player
[21:37:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:37:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:37:25] [INFO] [LastChance] Connected to player Died signal (C#)
[21:37:25] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:37:26] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=177.8°, current=128.9°, player=(300,2469), corner_timer=0.00
[21:37:26] [ENEMY] [GuardEnemy4] State: IDLE -> COMBAT
[21:37:26] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=177.2°, current=-134.6°, player=(300,2460), corner_timer=0.00
[21:37:26] [ENEMY] [GuardEnemy3] State: IDLE -> COMBAT
[21:37:26] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=178.0°, current=-47.5°, player=(300,2460), corner_timer=0.00
[21:37:26] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=177.4°, current=36.9°, player=(300,2449), corner_timer=0.00
[21:37:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:37:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:26] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[21:37:26] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[21:37:26] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[21:37:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:37:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:37:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:37:26] [INFO] [CinemaEffects] Scene changed to: CityLevel
[21:37:26] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:37:26] [ENEMY] [SniperEnemy1] Death animation component initialized
[21:37:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:26] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[21:37:26] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[21:37:26] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[21:37:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[21:37:26] [ENEMY] [SniperEnemy2] Death animation component initialized
[21:37:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:26] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[21:37:26] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[21:37:26] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[21:37:26] [ENEMY] [GuardEnemy1] Death animation component initialized
[21:37:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:26] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[21:37:26] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[21:37:26] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[21:37:26] [ENEMY] [GuardEnemy2] Death animation component initialized
[21:37:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:26] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[21:37:26] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[21:37:26] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[21:37:26] [ENEMY] [GuardEnemy3] Death animation component initialized
[21:37:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:26] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[21:37:26] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[21:37:26] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[21:37:26] [ENEMY] [GuardEnemy4] Death animation component initialized
[21:37:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:26] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[21:37:26] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[21:37:26] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[21:37:26] [ENEMY] [PatrolEnemy1] Death animation component initialized
[21:37:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:26] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[21:37:26] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[21:37:26] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[21:37:26] [ENEMY] [PatrolEnemy2] Death animation component initialized
[21:37:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:26] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[21:37:26] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[21:37:26] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[21:37:26] [ENEMY] [GuardEnemy5] Death animation component initialized
[21:37:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:26] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[21:37:26] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[21:37:26] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[21:37:26] [ENEMY] [GuardEnemy6] Death animation component initialized
[21:37:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:26] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:37:26] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:37:26] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:37:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:37:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:37:26] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[21:37:26] [INFO] [Player.Weapon] Removed default MakarovPM
[21:37:26] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[21:37:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:37:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:37:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:37:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:37:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:37:26] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[21:37:26] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:37:26] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 4/4
[21:37:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:37:26] [INFO] [ScoreManager] Level started with 10 enemies
[21:37:26] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[21:37:26] [INFO] [ReplayManager] Replay data cleared
[21:37:26] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[21:37:26] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:37:26] [INFO] [ReplayManager] Level: CityLevel
[21:37:26] [INFO] [ReplayManager] Player: Player (valid: True)
[21:37:26] [INFO] [ReplayManager] Enemies count: 10
[21:37:26] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[21:37:26] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[21:37:26] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[21:37:26] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[21:37:26] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[21:37:26] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[21:37:26] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[21:37:26] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[21:37:26] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[21:37:26] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[21:37:26] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[21:37:26] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[21:37:26] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[21:37:26] [INFO] [CinemaEffects] Found player node: Player
[21:37:26] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:37:26] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 26)
[21:37:26] [ENEMY] [SniperEnemy1] Registered as sound listener
[21:37:26] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 5, behavior: GUARD
[21:37:26] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[21:37:26] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 27)
[21:37:26] [ENEMY] [SniperEnemy2] Registered as sound listener
[21:37:26] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 3, behavior: GUARD
[21:37:26] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[21:37:26] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 28)
[21:37:26] [ENEMY] [GuardEnemy1] Registered as sound listener
[21:37:26] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 2, behavior: GUARD
[21:37:26] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[21:37:26] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 29)
[21:37:26] [ENEMY] [GuardEnemy2] Registered as sound listener
[21:37:26] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 3, behavior: GUARD
[21:37:26] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[21:37:26] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 30)
[21:37:26] [ENEMY] [GuardEnemy3] Registered as sound listener
[21:37:26] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 2, behavior: GUARD
[21:37:26] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[21:37:26] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 31)
[21:37:26] [ENEMY] [GuardEnemy4] Registered as sound listener
[21:37:26] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 3, behavior: GUARD
[21:37:26] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[21:37:26] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 32)
[21:37:26] [ENEMY] [PatrolEnemy1] Registered as sound listener
[21:37:26] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 4, behavior: PATROL
[21:37:26] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[21:37:26] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 33)
[21:37:26] [ENEMY] [PatrolEnemy2] Registered as sound listener
[21:37:26] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 4, behavior: PATROL
[21:37:26] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[21:37:26] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 34)
[21:37:26] [ENEMY] [GuardEnemy5] Registered as sound listener
[21:37:26] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 3, behavior: GUARD
[21:37:26] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[21:37:26] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 35)
[21:37:26] [ENEMY] [GuardEnemy6] Registered as sound listener
[21:37:26] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 2, behavior: GUARD
[21:37:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:37:26] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:37:26] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:26] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:26] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:26] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:26] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:26] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:26] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:26] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:37:26] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[21:37:26] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:37:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:37:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:37:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:37:26] [INFO] [LastChance] Found player: Player
[21:37:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:37:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:37:26] [INFO] [LastChance] Connected to player Died signal (C#)
[21:37:26] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:37:27] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=127.1°, current=77.3°, player=(300,2388), corner_timer=0.00
[21:37:27] [ENEMY] [GuardEnemy1] State: IDLE -> COMBAT
[21:37:27] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=127.4°, current=-149.7°, player=(300,2377), corner_timer=0.00
[21:37:27] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=129.0°, current=177.6°, player=(300,2311), corner_timer=0.00
[21:37:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:37:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:27] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[21:37:27] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[21:37:27] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[21:37:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:37:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:37:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:37:27] [INFO] [CinemaEffects] Scene changed to: CityLevel
[21:37:27] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:37:27] [ENEMY] [SniperEnemy1] Death animation component initialized
[21:37:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:27] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[21:37:27] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[21:37:27] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[21:37:27] [ENEMY] [SniperEnemy2] Death animation component initialized
[21:37:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:27] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[21:37:27] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[21:37:27] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[21:37:27] [ENEMY] [GuardEnemy1] Death animation component initialized
[21:37:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:27] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[21:37:27] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[21:37:27] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[21:37:27] [INFO] [EnemyGrenade] Initialized: 1 grenades
[21:37:27] [ENEMY] [GuardEnemy2] Death animation component initialized
[21:37:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:27] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[21:37:27] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[21:37:27] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[21:37:27] [ENEMY] [GuardEnemy3] Death animation component initialized
[21:37:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:27] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[21:37:27] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[21:37:27] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[21:37:27] [INFO] [EnemyGrenade] Initialized: 1 grenades
[21:37:27] [ENEMY] [GuardEnemy4] Death animation component initialized
[21:37:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:27] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[21:37:27] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[21:37:27] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[21:37:27] [ENEMY] [PatrolEnemy1] Death animation component initialized
[21:37:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:27] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[21:37:27] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[21:37:27] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[21:37:27] [ENEMY] [PatrolEnemy2] Death animation component initialized
[21:37:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:27] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[21:37:27] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[21:37:27] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[21:37:27] [ENEMY] [GuardEnemy5] Death animation component initialized
[21:37:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:27] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[21:37:27] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[21:37:27] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[21:37:27] [ENEMY] [GuardEnemy6] Death animation component initialized
[21:37:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:27] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:37:27] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:37:27] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:37:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:37:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:37:27] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[21:37:27] [INFO] [Player.Weapon] Removed default MakarovPM
[21:37:27] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[21:37:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:37:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:37:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:37:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:37:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:37:27] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[21:37:27] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:37:27] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 4/4
[21:37:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:37:27] [INFO] [ScoreManager] Level started with 10 enemies
[21:37:27] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[21:37:27] [INFO] [ReplayManager] Replay data cleared
[21:37:27] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[21:37:27] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:37:27] [INFO] [ReplayManager] Level: CityLevel
[21:37:27] [INFO] [ReplayManager] Player: Player (valid: True)
[21:37:27] [INFO] [ReplayManager] Enemies count: 10
[21:37:27] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[21:37:27] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[21:37:27] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[21:37:27] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[21:37:27] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[21:37:27] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[21:37:27] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[21:37:27] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[21:37:27] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[21:37:27] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[21:37:27] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[21:37:27] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[21:37:27] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[21:37:27] [INFO] [CinemaEffects] Found player node: Player
[21:37:27] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:37:27] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 36)
[21:37:27] [ENEMY] [SniperEnemy1] Registered as sound listener
[21:37:27] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 5, behavior: GUARD
[21:37:27] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[21:37:27] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 37)
[21:37:27] [ENEMY] [SniperEnemy2] Registered as sound listener
[21:37:27] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 3, behavior: GUARD
[21:37:27] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[21:37:27] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 38)
[21:37:27] [ENEMY] [GuardEnemy1] Registered as sound listener
[21:37:27] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 3, behavior: GUARD
[21:37:27] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[21:37:27] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 39)
[21:37:27] [ENEMY] [GuardEnemy2] Registered as sound listener
[21:37:27] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 3, behavior: GUARD
[21:37:27] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[21:37:27] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 40)
[21:37:27] [ENEMY] [GuardEnemy3] Registered as sound listener
[21:37:27] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 3, behavior: GUARD
[21:37:27] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[21:37:27] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 41)
[21:37:27] [ENEMY] [GuardEnemy4] Registered as sound listener
[21:37:27] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 2, behavior: GUARD
[21:37:27] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[21:37:27] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 42)
[21:37:27] [ENEMY] [PatrolEnemy1] Registered as sound listener
[21:37:27] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 2, behavior: PATROL
[21:37:27] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[21:37:27] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 43)
[21:37:27] [ENEMY] [PatrolEnemy2] Registered as sound listener
[21:37:27] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 3, behavior: PATROL
[21:37:27] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[21:37:27] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 44)
[21:37:27] [ENEMY] [GuardEnemy5] Registered as sound listener
[21:37:27] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 4, behavior: GUARD
[21:37:27] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[21:37:27] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 45)
[21:37:27] [ENEMY] [GuardEnemy6] Registered as sound listener
[21:37:27] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 4, behavior: GUARD
[21:37:27] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:37:27] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:37:27] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:27] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:27] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:27] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:27] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:27] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:27] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:27] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:37:27] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[21:37:27] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:37:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:37:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:37:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:37:27] [INFO] [LastChance] Found player: Player
[21:37:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:37:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:37:27] [INFO] [LastChance] Connected to player Died signal (C#)
[21:37:27] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:37:28] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:37:29] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:37:29] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:37:29] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(362,2057), corner_timer=0.30
[21:37:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(362,2057), corner_timer=0.30
[21:37:29] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(436,1983), corner_timer=-0.02
[21:37:29] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:37:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(436,1983), corner_timer=-0.02
[21:37:29] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:37:29] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(440,1979), corner_timer=0.30
[21:37:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(440,1979), corner_timer=0.30
[21:37:29] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-173.7°, current=-123.8°, player=(457,1953), corner_timer=0.00
[21:37:29] [ENEMY] [GuardEnemy3] State: IDLE -> COMBAT
[21:37:29] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:37:29] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-173.5°, current=56.9°, player=(460,1943), corner_timer=0.00
[21:37:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:37:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:29] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[21:37:29] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[21:37:29] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[21:37:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:37:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:37:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:37:29] [INFO] [CinemaEffects] Scene changed to: CityLevel
[21:37:29] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:37:29] [ENEMY] [SniperEnemy1] Death animation component initialized
[21:37:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:29] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[21:37:29] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[21:37:29] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[21:37:29] [ENEMY] [SniperEnemy2] Death animation component initialized
[21:37:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:29] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[21:37:29] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[21:37:29] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[21:37:29] [ENEMY] [GuardEnemy1] Death animation component initialized
[21:37:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:29] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[21:37:29] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[21:37:29] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[21:37:29] [ENEMY] [GuardEnemy2] Death animation component initialized
[21:37:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:29] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[21:37:29] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[21:37:29] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[21:37:29] [INFO] [EnemyGrenade] Initialized: 1 grenades
[21:37:29] [ENEMY] [GuardEnemy3] Death animation component initialized
[21:37:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:29] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[21:37:29] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[21:37:29] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[21:37:29] [ENEMY] [GuardEnemy4] Death animation component initialized
[21:37:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:29] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[21:37:29] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[21:37:29] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[21:37:29] [ENEMY] [PatrolEnemy1] Death animation component initialized
[21:37:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:29] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[21:37:29] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[21:37:29] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[21:37:29] [ENEMY] [PatrolEnemy2] Death animation component initialized
[21:37:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:29] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[21:37:29] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[21:37:29] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[21:37:29] [ENEMY] [GuardEnemy5] Death animation component initialized
[21:37:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:29] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[21:37:29] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[21:37:29] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[21:37:29] [ENEMY] [GuardEnemy6] Death animation component initialized
[21:37:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:37:29] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:37:29] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:37:29] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:37:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:37:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:37:29] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[21:37:29] [INFO] [Player.Weapon] Removed default MakarovPM
[21:37:29] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[21:37:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:37:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:37:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:37:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:37:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:37:29] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[21:37:29] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:37:29] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 3/4
[21:37:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:37:29] [INFO] [ScoreManager] Level started with 10 enemies
[21:37:29] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[21:37:29] [INFO] [ReplayManager] Replay data cleared
[21:37:29] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[21:37:29] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:37:29] [INFO] [ReplayManager] Level: CityLevel
[21:37:29] [INFO] [ReplayManager] Player: Player (valid: True)
[21:37:29] [INFO] [ReplayManager] Enemies count: 10
[21:37:29] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[21:37:29] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[21:37:29] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[21:37:29] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[21:37:29] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[21:37:29] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[21:37:29] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[21:37:29] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[21:37:29] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[21:37:29] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[21:37:29] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[21:37:29] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[21:37:29] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[21:37:29] [INFO] [CinemaEffects] Found player node: Player
[21:37:29] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:37:29] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 46)
[21:37:29] [ENEMY] [SniperEnemy1] Registered as sound listener
[21:37:29] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 4, behavior: GUARD
[21:37:29] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[21:37:29] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 47)
[21:37:29] [ENEMY] [SniperEnemy2] Registered as sound listener
[21:37:29] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 5, behavior: GUARD
[21:37:29] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[21:37:29] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 48)
[21:37:29] [ENEMY] [GuardEnemy1] Registered as sound listener
[21:37:29] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 3, behavior: GUARD
[21:37:29] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[21:37:29] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 49)
[21:37:29] [ENEMY] [GuardEnemy2] Registered as sound listener
[21:37:29] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 4, behavior: GUARD
[21:37:29] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[21:37:29] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 50)
[21:37:29] [ENEMY] [GuardEnemy3] Registered as sound listener
[21:37:29] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 3, behavior: GUARD
[21:37:29] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[21:37:29] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 51)
[21:37:29] [ENEMY] [GuardEnemy4] Registered as sound listener
[21:37:29] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 2, behavior: GUARD
[21:37:29] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[21:37:29] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 52)
[21:37:29] [ENEMY] [PatrolEnemy1] Registered as sound listener
[21:37:29] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 2, behavior: PATROL
[21:37:29] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[21:37:29] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 53)
[21:37:29] [ENEMY] [PatrolEnemy2] Registered as sound listener
[21:37:29] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 3, behavior: PATROL
[21:37:29] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[21:37:29] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 54)
[21:37:29] [ENEMY] [GuardEnemy5] Registered as sound listener
[21:37:29] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 2, behavior: GUARD
[21:37:29] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[21:37:29] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 55)
[21:37:29] [ENEMY] [GuardEnemy6] Registered as sound listener
[21:37:29] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 2, behavior: GUARD
[21:37:29] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:37:29] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:37:29] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:29] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:29] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:29] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:29] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:29] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:29] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2499), corner_timer=0.00
[21:37:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:37:29] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[21:37:29] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:37:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:37:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:37:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:37:29] [INFO] [LastChance] Found player: Player
[21:37:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:37:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:37:29] [INFO] [LastChance] Connected to player Died signal (C#)
[21:37:29] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:37:30] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:37:31] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:37:31] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:37:31] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(555,2140), corner_timer=0.30
[21:37:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(555,2140), corner_timer=0.30
[21:37:31] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(656,2132), corner_timer=-0.02
[21:37:31] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:37:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(656,2132), corner_timer=-0.02
[21:37:31] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:37:31] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(662,2132), corner_timer=0.30
[21:37:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(662,2132), corner_timer=0.30
[21:37:31] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:37:31] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(740,2076), corner_timer=-0.02
[21:37:31] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:37:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(740,2076), corner_timer=-0.02
[21:37:31] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:37:31] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(743,2072), corner_timer=0.30
[21:37:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(743,2072), corner_timer=0.30
[21:37:32] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(750,1970), corner_timer=-0.02
[21:37:32] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:37:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(750,1970), corner_timer=-0.02
[21:37:32] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:37:32] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(750,1965), corner_timer=0.30
[21:37:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(750,1965), corner_timer=0.30
[21:37:32] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(750,1860), corner_timer=-0.02
[21:37:32] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[21:37:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(750,1860), corner_timer=-0.02
[21:37:32] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[21:37:32] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(750,1855), corner_timer=0.30
[21:37:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(750,1855), corner_timer=0.30
[21:37:32] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:37:32] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-136.6°, current=-90.0°, player=(750,1805), corner_timer=0.15
[21:37:32] [ENEMY] [PatrolEnemy1] State: IDLE -> COMBAT
[21:37:32] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-136.4°, current=127.7°, player=(750,1794), corner_timer=0.15
[21:37:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-134.8°, current=175.2°, player=(750,1706), corner_timer=0.15
[21:37:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2220.486, 3186.939), source=ENEMY (PatrolEnemy1), range=1469, listeners=55
[21:37:33] [INFO] [SoundPropagation] Cleaned up 45 invalid listeners
[21:37:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[21:37:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-133.0°, current=-137.2°, player=(764,1624), corner_timer=0.15
[21:37:33] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[21:37:33] [ENEMY] [PatrolEnemy1] State: PURSUING -> RETREATING
[21:37:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-90.0°, current=-131.5°, player=(806,1581), corner_timer=0.15
[21:37:33] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[21:37:33] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:37:33] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[21:37:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2169.3904, 3144.0378), shooter_id=2326429437193, bullet_pos=(463.7353, 1316.2644)
[21:37:34] [INFO] [Bullet] Using shooter_position, distance=2500,003
[21:37:34] [INFO] [Bullet] Distance to wall: 2500,003 (170,2298% of viewport)
[21:37:34] [INFO] [Bullet] Distance-based penetration chance: 15,95404%
[21:37:34] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=128.4°, player=(875,1325), corner_timer=-0.02
[21:37:34] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:37:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=131.3°, player=(875,1324), corner_timer=0.30
[21:37:34] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[21:37:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(875,1321), corner_timer=-0.02
[21:37:34] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:37:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(875,1321), corner_timer=0.30
[21:37:35] [ENEMY] [GuardEnemy1] Hit: dmg=10, hp=3/3->-7/3
[21:37:35] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1200), dir=(0.91898, -0.394304), lethal=true
[21:37:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:35] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:37:35] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1200) (scale=0.75)
[21:37:35] [ENEMY] [GuardEnemy1] Enemy died (ricochet: false, penetration: false)
[21:37:35] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[21:37:35] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy1 (remaining: 9)
[21:37:35] [INFO] [DeathAnim] Started - Angle: -23.2 deg, Index: 10
[21:37:35] [ENEMY] [GuardEnemy1] Death animation started with hit direction: (0.91898, -0.394304)
[21:37:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(875,1321), corner_timer=-0.02
[21:37:35] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:37:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(875,1321), corner_timer=0.30
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1253.098, 1214.885) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1239.033, 1213.962) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1239.816, 1196.677) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1267.399, 1200.109) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1260.008, 1223.228) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1240.413, 1182.335) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1245.946, 1185.906) (added to group)
[21:37:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(875,1254), corner_timer=-0.02
[21:37:35] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:37:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(875,1248), corner_timer=0.30
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1316.507, 1217.613) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1295.707, 1152.997) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1320.545, 1197.846) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1324.746, 1234.47) (added to group)
[21:37:35] [ENEMY] [GuardEnemy1] Ragdoll activated
[21:37:35] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1341.656, 1232.386) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1300.626, 1219.096) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1289.586, 1230.633) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1285.141, 1167.946) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1340.311, 1263.712) (added to group)
[21:37:35] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[21:37:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(875,1144), corner_timer=-0.02
[21:37:35] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1419.861, 1275.076) (added to group)
[21:37:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(875,1138), corner_timer=0.30
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1356.846, 1285.728) (added to group)
[21:37:35] [INFO] [BloodDecal] Blood puddle created at (1356.962, 1188.995) (added to group)
[21:37:35] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[21:37:35] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[21:37:35] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-122.9°, current=-90.0°, player=(878,1118), corner_timer=0.15
[21:37:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(926,1055), corner_timer=-0.02
[21:37:36] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:37:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(930,1051), corner_timer=0.30
[21:37:36] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-119.6°, current=-119.7°, player=(977,1004), corner_timer=0.15
[21:37:36] [ENEMY] [PatrolEnemy1] State: PURSUING -> COMBAT
[21:37:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1004,977), corner_timer=-0.02
[21:37:36] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:37:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1008,973), corner_timer=0.30
[21:37:36] [ENEMY] [GuardEnemy1] Death animation completed
[21:37:36] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[21:37:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1079,898), corner_timer=-0.02
[21:37:36] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[21:37:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1081,894), corner_timer=0.30
[21:37:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-144.0°, current=180.0°, player=(1085,884), corner_timer=0.27
[21:37:36] [ENEMY] [PatrolEnemy2] State: IDLE -> COMBAT
[21:37:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-143.9°, current=131.8°, player=(1087,874), corner_timer=0.27
[21:37:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2132.422, 3029.277), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2116.316, 2995.596), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-143.0°, current=167.0°, player=(1089,809), corner_timer=0.27
[21:37:37] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2100.438, 2961.809), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2123.251, 2949.061), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:37] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[21:37:37] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=-90.0°, current=-115.3°, player=(1089,721), corner_timer=0.15
[21:37:37] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3871.594, 2908.261), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[21:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3854.862, 2895.027), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[21:37:37] [ENEMY] [SniperEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=176.5°, current=-123.8°, player=(1088,677), corner_timer=0.00
[21:37:37] [ENEMY] [SniperEnemy1] State: IDLE -> COMBAT
[21:37:37] [ENEMY] [GuardEnemy3] Memory: high confidence (0.90) - transitioning to PURSUING
[21:37:37] [ENEMY] [GuardEnemy3] State: IDLE -> PURSUING
[21:37:37] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-147.1°, current=56.2°, player=(1087,672), corner_timer=0.00
[21:37:37] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 132.7°
[21:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3843.132, 2877.603), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[21:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3829.78, 2861.525), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[21:37:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-141.0°, current=-141.0°, player=(1069,624), corner_timer=0.27
[21:37:37] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[21:37:37] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[21:37:37] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 132.7°
[21:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3797.105, 2859.027), shooter_id=2326781758284, bullet_pos=(2702.94, 1772.957)
[21:37:38] [INFO] [Bullet] Using shooter_position, distance=1541.66931152344
[21:37:38] [INFO] [Bullet] Distance to wall: 1541.66931152344 (104.975098301521% of viewport)
[21:37:38] [INFO] [Bullet] Distance-based penetration chance: 29.0049803396957%
[21:37:38] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2064.854, 2903.7874), shooter_id=2326429437193, bullet_pos=(943.81494, 857.3948)
[21:37:38] [INFO] [Bullet] Using shooter_position, distance=2333,3347
[21:37:38] [INFO] [Bullet] Distance to wall: 2333,3347 (158,88106% of viewport)
[21:37:38] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-113.1°, current=-90.0°, player=(1095,490), corner_timer=0.15
[21:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3772.187, 2825.271), shooter_id=2326781758284, bullet_pos=(2712.086, 1885.523)
[21:37:38] [INFO] [Bullet] Using shooter_position, distance=1416.66528320313
[21:37:38] [INFO] [Bullet] Distance to wall: 1416.66528320313 (96.463344151052% of viewport)
[21:37:38] [INFO] [Bullet] Distance-based penetration chance: 34.1260984904394%
[21:37:38] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3772.187, 2825.271), shooter_id=2326781758284, bullet_pos=(2712.086, 1885.523)
[21:37:38] [INFO] [Bullet] Using shooter_position, distance=1416.66528320313
[21:37:38] [INFO] [Bullet] Distance to wall: 1416.66528320313 (96.463344151052% of viewport)
[21:37:38] [INFO] [Bullet] Distance-based penetration chance: 34.1260984904394%
[21:37:38] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:38] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 132.7°
[21:37:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2139.546, 2939.956), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2096.044, 2971.7578), shooter_id=2326429437193, bullet_pos=(661.6404, 55.427383)
[21:37:38] [INFO] [Bullet] Using shooter_position, distance=3249,9995
[21:37:38] [INFO] [Bullet] Distance to wall: 3249,9995 (221,29846% of viewport)
[21:37:38] [INFO] [Bullet] Distance-based penetration chance: 5,74031%
[21:37:38] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2139.546, 2939.956), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2139.546, 2939.956), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2080.3406, 2937.8264), shooter_id=2326429437193, bullet_pos=(708.01685, 37.805122)
[21:37:38] [INFO] [Bullet] Using shooter_position, distance=3208,332
[21:37:38] [INFO] [Bullet] Distance to wall: 3208,332 (218,46123% of viewport)
[21:37:38] [INFO] [Bullet] Distance-based penetration chance: 6,3077555%
[21:37:38] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2139.546, 2939.956), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:38] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:37:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2139.546, 2939.956), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2087.4414, 2891.2021), shooter_id=2326429437193, bullet_pos=(1137.0535, 45.72415)
[21:37:38] [INFO] [Bullet] Using shooter_position, distance=2999,997
[21:37:38] [INFO] [Bullet] Distance to wall: 2999,997 (204,27533% of viewport)
[21:37:38] [INFO] [Bullet] Distance-based penetration chance: 9,144937%
[21:37:38] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:38] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 132.7°
[21:37:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2150.194, 2904.173), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3813.663, 2872.543), shooter_id=2326781758284, bullet_pos=(1628.571, 940.6218)
[21:37:38] [INFO] [Bullet] Using shooter_position, distance=2916.6669921875
[21:37:38] [INFO] [Bullet] Distance to wall: 2916.6669921875 (198.601218775724% of viewport)
[21:37:38] [INFO] [Bullet] Distance-based penetration chance: 10.2797562448552%
[21:37:38] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2064.854, 2903.7874), shooter_id=2326429437193, bullet_pos=(1548.0396, 64.767845)
[21:37:38] [INFO] [Bullet] Using shooter_position, distance=2885,6765
[21:37:38] [INFO] [Bullet] Distance to wall: 2885,6765 (196,49103% of viewport)
[21:37:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2160.841, 2868.391), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:38] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[21:37:38] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[21:37:38] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=-90.0°, current=-110.5°, player=(1248,381), corner_timer=0.15
[21:37:38] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2105.687, 2878.834), shooter_id=2326429437193, bullet_pos=(1332.4386, 1741.8578)
[21:37:38] [INFO] [Bullet] Using shooter_position, distance=1375,0011
[21:37:38] [INFO] [Bullet] Distance to wall: 1375,0011 (93,62636% of viewport)
[21:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2107.5315, 2879.843), shooter_id=2326429437193, bullet_pos=(1920.0107, 1940.0328)
[21:37:38] [INFO] [Bullet] Using shooter_position, distance=958,3357
[21:37:38] [INFO] [Bullet] Distance to wall: 958,3357 (65,254845% of viewport)
[21:37:38] [INFO] [Bullet] Distance-based penetration chance: 70,53602%
[21:37:38] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:38] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 132.7°
[21:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3785.473, 2841.458), shooter_id=2326781758284, bullet_pos=(931.1252, 744.7692)
[21:37:38] [INFO] [Bullet] Using shooter_position, distance=3541.66723632813
[21:37:38] [INFO] [Bullet] Distance to wall: 3541.66723632813 (241.158634673367% of viewport)
[21:37:38] [INFO] [Bullet] Distance-based penetration chance: 5%
[21:37:38] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:39] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 132.7°
[21:37:39] [ENEMY] [PatrolEnemy2] Warning: No valid flank position (both sides behind walls)
[21:37:39] [ENEMY] [PatrolEnemy2] FLANKING started: target=(1590.481, 332.1196), side=left, pos=(3800.718, 2838.09)
[21:37:39] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[21:37:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2106.536, 2880.088), shooter_id=2326429437193, bullet_pos=(944.1384, 666.75696)
[21:37:39] [INFO] [Bullet] Using shooter_position, distance=2500,0005
[21:37:39] [INFO] [Bullet] Distance to wall: 2500,0005 (170,22964% of viewport)
[21:37:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2106.536, 2880.088), shooter_id=2326429437193, bullet_pos=(946.7944, 662.5207)
[21:37:39] [INFO] [Bullet] Using shooter_position, distance=2502,5195
[21:37:39] [INFO] [Bullet] Distance to wall: 2502,5195 (170,40115% of viewport)
[21:37:39] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-138.8°, current=-138.9°, player=(1429,381), corner_timer=0.20
[21:37:39] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[21:37:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2131.0918, 2810.323), shooter_id=2326429437193, bullet_pos=(1458.4357, 882.6467)
[21:37:39] [INFO] [Bullet] Using shooter_position, distance=2041,6665
[21:37:39] [INFO] [Bullet] Distance to wall: 2041,6665 (139,02084% of viewport)
[21:37:39] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 178.7°
[21:37:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2107.0808, 2880.0845), shooter_id=2326429437193, bullet_pos=(1120.8074, 46.842262)
[21:37:39] [INFO] [Bullet] Using shooter_position, distance=2999,9995
[21:37:39] [INFO] [Bullet] Distance to wall: 2999,9995 (204,27548% of viewport)
[21:37:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2131.0918, 2810.323), shooter_id=2326429437193, bullet_pos=(1556.5624, 649.5416)
[21:37:39] [INFO] [Bullet] Using shooter_position, distance=2235,8577
[21:37:39] [INFO] [Bullet] Distance to wall: 2235,8577 (152,24367% of viewport)
[21:37:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2106.536, 2880.088), shooter_id=2326429437193, bullet_pos=(680.0423, 50.866158)
[21:37:39] [INFO] [Bullet] Using shooter_position, distance=3168,498
[21:37:39] [INFO] [Bullet] Distance to wall: 3168,498 (215,74886% of viewport)
[21:37:39] [INFO] [Bullet] Distance-based penetration chance: 6,8502293%
[21:37:39] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2107.3064, 2877.914), shooter_id=2326429437193, bullet_pos=(956.656, 62.29273)
[21:37:39] [INFO] [Bullet] Using shooter_position, distance=3041,664
[21:37:39] [INFO] [Bullet] Distance to wall: 3041,664 (207,1125% of viewport)
[21:37:39] [INFO] [Bullet] Distance-based penetration chance: 8,5775%
[21:37:39] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2119.0442, 2844.615), shooter_id=2326429437193, bullet_pos=(1100.4728, 67.16078)
[21:37:39] [INFO] [Bullet] Using shooter_position, distance=2958,3337
[21:37:39] [INFO] [Bullet] Distance to wall: 2958,3337 (201,43839% of viewport)
[21:37:39] [INFO] [Bullet] Distance-based penetration chance: 9,712325%
[21:37:39] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:39] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[21:37:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2131.0918, 2810.323), shooter_id=2326429437193, bullet_pos=(1659.561, 937.7308)
[21:37:39] [INFO] [Bullet] Using shooter_position, distance=1931,0471
[21:37:39] [INFO] [Bullet] Distance to wall: 1931,0471 (131,48856% of viewport)
[21:37:39] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 178.7°
[21:37:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3040.36, 1791.712), source=ENEMY (GuardEnemy3), range=2000, listeners=9
[21:37:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:39] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-134.4°, current=-134.4°, player=(1620,398), corner_timer=0.25
[21:37:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2131.0918, 2810.323), shooter_id=2326429437193, bullet_pos=(1718.7878, 657.44604)
[21:37:39] [INFO] [Bullet] Using shooter_position, distance=2192,0022
[21:37:39] [INFO] [Bullet] Distance to wall: 2192,0022 (149,25748% of viewport)
[21:37:39] [INFO] [Bullet] Distance-based penetration chance: 20,148506%
[21:37:39] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:39] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [ENEMY] [GuardEnemy2] Hit: dmg=1, hp=4/4->3/4
[21:37:40] [INFO] [ImpactEffects] spawn_blood_effect called at (2400, 1200), dir=(1, 0), lethal=false
[21:37:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:40] [INFO] [ImpactEffects] Blood effect spawned at (2400, 1200) (scale=1)
[21:37:40] [ENEMY] [GuardEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-134.1°, current=180.0°, player=(1694,471), corner_timer=0.00
[21:37:40] [ENEMY] [GuardEnemy2] State: IDLE -> COMBAT
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-134.1°, current=51.7°, player=(1702,479), corner_timer=0.00
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=132.7°, current=-134.4°, player=(1710,487), corner_timer=0.15
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[21:37:40] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-134.0°, current=77.5°, player=(1737,514), corner_timer=0.00
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [BloodDecal] Blood puddle created at (2478.39, 1185.798) (added to group)
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [BloodDecal] Blood puddle created at (2483.299, 1231.17) (added to group)
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [BloodDecal] Blood puddle created at (2486.398, 1216.246) (added to group)
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [BloodDecal] Blood puddle created at (2480.7, 1215.495) (added to group)
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3652.711, 2448.81), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[21:37:40] [INFO] [BloodDecal] Blood puddle created at (2506.635, 1278.59) (added to group)
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3637.704, 2433.648), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [BloodDecal] Blood puddle created at (2477.616, 1304.475) (added to group)
[21:37:40] [INFO] [BloodDecal] Blood puddle created at (2548.659, 1194.606) (added to group)
[21:37:40] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3622.697, 2418.485), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [BloodDecal] Blood puddle created at (2541.726, 1220.94) (added to group)
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3607.69, 2403.322), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[21:37:40] [ENEMY] [GuardEnemy2] State: RETREATING -> IN_COVER
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [BloodDecal] Blood puddle created at (2542.212, 1249.873) (added to group)
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3592.684, 2388.158), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:40] [INFO] [BloodDecal] Blood puddle created at (2592.949, 1237.844) (added to group)
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3577.679, 2372.994), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:40] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3562.677, 2357.827), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3547.699, 2342.636), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3532.778, 2327.389), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3569.6, 2375.925), shooter_id=2326781758284, bullet_pos=(2699.577, 1882.912)
[21:37:41] [INFO] [Bullet] Using shooter_position, distance=1000.00109863281
[21:37:41] [INFO] [Bullet] Distance to wall: 1000.00109863281 (68.0919136457838% of viewport)
[21:37:41] [INFO] [Bullet] Distance-based penetration chance: 67.2261007465855%
[21:37:41] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3569.6, 2375.925), shooter_id=2326781758284, bullet_pos=(2699.577, 1882.912)
[21:37:41] [INFO] [Bullet] Using shooter_position, distance=1000.00109863281
[21:37:41] [INFO] [Bullet] Distance to wall: 1000.00109863281 (68.0919136457838% of viewport)
[21:37:41] [INFO] [Bullet] Distance-based penetration chance: 67.2261007465855%
[21:37:41] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3554.596, 2360.76), shooter_id=2326781758284, bullet_pos=(2769.127, 1888.195)
[21:37:41] [INFO] [Bullet] Using shooter_position, distance=916.667236328125
[21:37:41] [INFO] [Bullet] Distance to wall: 916.667236328125 (62.417557723997% of viewport)
[21:37:41] [INFO] [Bullet] Distance-based penetration chance: 73.8461826553368%
[21:37:41] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3517.947, 2312.055), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3539.592, 2345.593), shooter_id=2326781758284, bullet_pos=(2847.756, 1881.042)
[21:37:41] [INFO] [Bullet] Using shooter_position, distance=833.333312988281
[21:37:41] [INFO] [Bullet] Distance to wall: 833.333312988281 (56.7431976462142% of viewport)
[21:37:41] [INFO] [Bullet] Distance-based penetration chance: 80.4662694127501%
[21:37:41] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-95.5°, current=-90.0°, player=(1959,669), corner_timer=0.15
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3503.222, 2296.617), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3488.609, 2281.076), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[21:37:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3465.521, 2268.65), shooter_id=2326781758284, bullet_pos=(3466.498, 1935.318)
[21:37:41] [INFO] [Bullet] Using shooter_position, distance=333.333465576172
[21:37:41] [INFO] [Bullet] Distance to wall: 333.333465576172 (22.6972886172765% of viewport)
[21:37:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:37:41] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3465.521, 2268.65), shooter_id=2326781758284, bullet_pos=(3466.498, 1935.318)
[21:37:41] [INFO] [Bullet] Using shooter_position, distance=333.333465576172
[21:37:41] [INFO] [Bullet] Distance to wall: 333.333465576172 (22.6972886172765% of viewport)
[21:37:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:37:41] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-132.6°, current=-132.6°, player=(2009,669), corner_timer=0.18
[21:37:41] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3584.605, 2391.09), shooter_id=2326781758284, bullet_pos=(2263.976, 779.8152)
[21:37:41] [INFO] [Bullet] Using shooter_position, distance=2083.3310546875
[21:37:41] [INFO] [Bullet] Distance to wall: 2083.3310546875 (141.857842421681% of viewport)
[21:37:41] [INFO] [Bullet] Distance-based penetration chance: 21.6284315156639%
[21:37:41] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3599.611, 2406.254), shooter_id=2326781758284, bullet_pos=(1746.484, 790.9123)
[21:37:41] [INFO] [Bullet] Using shooter_position, distance=2458.33471679688
[21:37:41] [INFO] [Bullet] Distance to wall: 2458.33471679688 (167.392531345638% of viewport)
[21:37:41] [INFO] [Bullet] Distance-based penetration chance: 16.5214937308725%
[21:37:41] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3494.763, 2299.865), shooter_id=2326781758284, bullet_pos=(3311.008, 937.1996)
[21:37:41] [INFO] [Bullet] Using shooter_position, distance=1374.99877929688
[21:37:41] [INFO] [Bullet] Distance to wall: 1374.99877929688 (93.6261952821307% of viewport)
[21:37:41] [INFO] [Bullet] Distance-based penetration chance: 37.4361055041808%
[21:37:41] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:41] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[21:37:41] [INFO] [LastChance] Threat detected: @Area2D@3410
[21:37:41] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3480.059, 2284.344), shooter_id=2326781758284, bullet_pos=(2506.982, 931.239)
[21:37:41] [INFO] [Bullet] Using shooter_position, distance=1666.66479492188
[21:37:41] [INFO] [Bullet] Distance to wall: 1666.66479492188 (113.486270612548% of viewport)
[21:37:41] [INFO] [Bullet] Distance-based penetration chance: 27.3027458774905%
[21:37:41] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:41] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3524.589, 2330.427), shooter_id=2326781758284, bullet_pos=(1631.976, 56.72188)
[21:37:42] [INFO] [Bullet] Using shooter_position, distance=2958.32983398438
[21:37:42] [INFO] [Bullet] Distance to wall: 2958.32983398438 (201.438118284884% of viewport)
[21:37:42] [INFO] [Bullet] Distance-based penetration chance: 9.71237634302327%
[21:37:42] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3451.104, 2252.843), shooter_id=2326781758284, bullet_pos=(1068.29, 1849.756)
[21:37:42] [INFO] [Bullet] Using shooter_position, distance=2416.66796875
[21:37:42] [INFO] [Bullet] Distance to wall: 2416.66796875 (164.555365852732% of viewport)
[21:37:42] [INFO] [Bullet] Distance-based penetration chance: 17.0889268294535%
[21:37:42] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3509.62, 2315.214), shooter_id=2326781758284, bullet_pos=(1364.484, 42.76489)
[21:37:42] [INFO] [Bullet] Using shooter_position, distance=3125.00073242188
[21:37:42] [INFO] [Bullet] Distance to wall: 3125.00073242188 (212.78704624025% of viewport)
[21:37:42] [INFO] [Bullet] Distance-based penetration chance: 7.44259075194991%
[21:37:42] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3436.808, 2236.926), shooter_id=2326781758284, bullet_pos=(2219.714, 53.19476)
[21:37:42] [INFO] [Bullet] Using shooter_position, distance=2500
[21:37:42] [INFO] [Bullet] Distance to wall: 2500 (170.229597094639% of viewport)
[21:37:42] [INFO] [Bullet] Distance-based penetration chance: 15.9540805810723%
[21:37:42] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> IN_COVER
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2231.304, 653.142), side=right, pos=(2168.447, 2842.832)
[21:37:42] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> IN_COVER
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [ENEMY] [PatrolEnemy2] Warning: No valid flank position (both sides behind walls)
[21:37:42] [ENEMY] [PatrolEnemy2] FLANKING started: target=(2669.254, 570.0731), side=left, pos=(3470.494, 2261.506)
[21:37:42] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 176.3°
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:42] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-120.1°, current=-113.7°, player=(2491,572), corner_timer=0.13
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 176.3°
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-117.8°, current=-117.8°, player=(2587,592), corner_timer=0.08
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 176.3°
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [EnemyGrenade] Throw path blocked to (2524.566, 1344.509)
[21:37:43] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=True, enemies=10
[21:37:43] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=174.2°, current=174.2°, player=(2709,695), corner_timer=0.00
[21:37:43] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 176.3°
[21:37:44] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-113.2°, current=-113.4°, player=(2780,695), corner_timer=0.08
[21:37:44] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[21:37:44] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[21:37:44] [INFO] [GrenadeBase] Grenade created at (2930.474, 1740.163) (frozen)
[21:37:44] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[21:37:44] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[21:37:44] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[21:37:44] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[21:37:44] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[21:37:44] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[21:37:44] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.184372, -0.982856), Speed: 1186.5 (unfrozen)
[21:37:44] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[21:37:44] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[21:37:44] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[21:37:44] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (2766.529, 1204.456), Distance: 600
[21:37:44] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=174.2°, current=174.2°, player=(2813,682), corner_timer=0.00
[21:37:44] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> IN_COVER
[21:37:44] [ENEMY] [GuardEnemy2] State: IN_COVER -> PURSUING
[21:37:44] [ENEMY] [GuardEnemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-42.8°, current=-159.8°, player=(2845,653), corner_timer=0.00
[21:37:44] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 176.3°
[21:37:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-66.8°, current=-63.4°, player=(2864,633), corner_timer=0.23
[21:37:44] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[21:37:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3321.119, 1932.351), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[21:37:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3315.231, 1911.846), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[21:37:44] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-104.8°, current=-104.8°, player=(2960,572), corner_timer=0.08
[21:37:44] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[21:37:44] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=True, enemies=10
[21:37:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2177.195, 2187.922), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=3
[21:37:44] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> IN_COVER
[21:37:44] [ENEMY] [GuardEnemy3] State: IN_COVER -> PURSUING
[21:37:44] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-85.6°, current=4.1°, player=(3031,572), corner_timer=0.15
[21:37:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2194.563, 2154.875), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=3
[21:37:45] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-36.4°, current=-36.6°, player=(3059,572), corner_timer=0.00
[21:37:45] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[21:37:45] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:37:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2212.539, 2122.155), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=3
[21:37:45] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[21:37:45] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:37:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=176.3°, current=-58.9°, player=(3114,572), corner_timer=0.23
[21:37:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3294.617, 1869.645), shooter_id=2326781758284, bullet_pos=(2671.517, 57.08844)
[21:37:45] [INFO] [Bullet] Using shooter_position, distance=1916.66796875
[21:37:45] [INFO] [Bullet] Distance to wall: 1916.66796875 (130.509446433805% of viewport)
[21:37:45] [INFO] [Bullet] Distance-based penetration chance: 23.8981107132391%
[21:37:45] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:45] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-33.6°, current=-33.6°, player=(3191,572), corner_timer=0.00
[21:37:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3289.647, 1848.759), shooter_id=2326781758284, bullet_pos=(2556.121, 32.98999)
[21:37:45] [INFO] [Bullet] Using shooter_position, distance=1958.33557128906
[21:37:45] [INFO] [Bullet] Distance to wall: 1958.33557128906 (133.346670110654% of viewport)
[21:37:45] [INFO] [Bullet] Distance-based penetration chance: 23.3306659778691%
[21:37:45] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:45] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[21:37:45] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=True, enemies=10
[21:37:45] [ENEMY] [GuardEnemy2] State: PURSUING -> RETREATING
[21:37:45] [ENEMY] [GuardEnemy2] State: RETREATING -> IN_COVER
[21:37:45] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[21:37:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2215.0828, 2131.422), shooter_id=2326429437193, bullet_pos=(3268.3503, 49.3339)
[21:37:45] [INFO] [Bullet] Using shooter_position, distance=2333,3374
[21:37:45] [INFO] [Bullet] Distance to wall: 2333,3374 (158,88124% of viewport)
[21:37:45] [INFO] [Bullet] Distance-based penetration chance: 18,223753%
[21:37:45] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2233.5103, 2099.1), shooter_id=2326429437193, bullet_pos=(3330.0083, 39.454315)
[21:37:45] [INFO] [Bullet] Using shooter_position, distance=2333,3342
[21:37:45] [INFO] [Bullet] Distance to wall: 2333,3342 (158,88103% of viewport)
[21:37:45] [INFO] [Bullet] Distance-based penetration chance: 18,223797%
[21:37:45] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:45] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-88.0°, current=-88.2°, player=(3354,615), corner_timer=0.08
[21:37:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2252.522, 2067.1436), shooter_id=2326429437193, bullet_pos=(3023.2544, 42.19528)
[21:37:46] [INFO] [Bullet] Using shooter_position, distance=2166,6665
[21:37:46] [INFO] [Bullet] Distance to wall: 2166,6665 (147,5323% of viewport)
[21:37:46] [INFO] [Bullet] Distance-based penetration chance: 20,49354%
[21:37:46] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:46] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[21:37:46] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-64.5°, current=-64.7°, player=(3452,712), corner_timer=0.15
[21:37:46] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=171.6°, current=171.6°, player=(3460,717), corner_timer=0.00
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(2672.741, 366.2277), source=NEUTRAL (FragGrenade), range=112, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[21:37:46] [INFO] [GrenadeBase] Grenade landed at (2672.741, 366.2277)
[21:37:46] [INFO] [FragGrenade] Impact detected - exploding immediately!
[21:37:46] [INFO] [GrenadeBase] EXPLODED at (2672.741, 366.2277)!
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2672.741, 366.2277), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=6
[21:37:46] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -4.5 degrees
[21:37:46] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 79.5 degrees
[21:37:46] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 184.5 degrees
[21:37:46] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 269.2 degrees
[21:37:46] [INFO] [ImpactEffects] Spawning explosion visual effect at (2672.741, 366.2277) (radius=225) - using shadow-based wall occlusion
[21:37:46] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[21:37:46] [INFO] [GrenadeTimer] EXPLODED at (2672.7412, 366.22772)!
[21:37:46] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[21:37:46] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2672.741, 366.2277), source=NEUTRAL (FragGrenade), range=2938, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=6
[21:37:46] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (2672.7412, 366.22772) (shadow-based wall occlusion)
[21:37:46] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[21:37:46] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SUPPRESSED, target=-16.7°, current=-30.4°, player=(3474,723), corner_timer=0.00
[21:37:46] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-63.2°, current=141.1°, player=(3474,723), corner_timer=0.15
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3325.135, 1732.103), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2597.946, 987.1187), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=3
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3328.757, 1711.08), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2597.946, 987.1187), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=3
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3332.831, 1690.14), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2597.946, 987.1187), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=3
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3337.364, 1669.294), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[21:37:46] [INFO] [ReplayManager] Recording frame 1020 (17,0s): player_valid=True, enemies=10
[21:37:46] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[21:37:46] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-101.7°, current=-101.6°, player=(3572,727), corner_timer=0.00
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3342.359, 1648.554), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[21:37:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2665.1284, 976.60443), shooter_id=2325372473156, bullet_pos=(3060.021, 843.6735)
[21:37:46] [INFO] [Bullet] Using shooter_position, distance=416,66626
[21:37:46] [INFO] [Bullet] Distance to wall: 416,66626 (28,371572% of viewport)
[21:37:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3347.818, 1627.931), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[21:37:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2665.0554, 976.1912), shooter_id=2325372473156, bullet_pos=(3256.8953, 669.31915)
[21:37:46] [INFO] [Bullet] Using shooter_position, distance=666,667
[21:37:46] [INFO] [Bullet] Distance to wall: 666,667 (45,39458% of viewport)
[21:37:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2665.1917, 977.0017), shooter_id=2325372473156, bullet_pos=(3066.5564, 865.11694)
[21:37:46] [INFO] [Bullet] Using shooter_position, distance=416,66757
[21:37:46] [INFO] [Bullet] Distance to wall: 416,66757 (28,371662% of viewport)
[21:37:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:37:46] [INFO] [Bullet] Starting wall penetration at (3066.5564, 865.11694)
[21:37:46] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:37:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47,244427
[21:37:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2665.0554, 976.1912), shooter_id=2325372473156, bullet_pos=(3353.1758, 725.05646)
[21:37:46] [INFO] [Bullet] Using shooter_position, distance=732,5151
[21:37:46] [INFO] [Bullet] Distance to wall: 732,5151 (49,8783% of viewport)
[21:37:46] [INFO] [Bullet] Distance-based penetration chance: 88,47532%
[21:37:46] [INFO] [Bullet] Starting wall penetration at (3353.1758, 725.05646)
[21:37:46] [INFO] [Bullet] Body exited signal received for penetrating body
[21:37:46] [INFO] [Bullet] Exiting penetration at (3111.5093, 852.5859) after traveling 41,66667 pixels through wall
[21:37:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:37:46] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=132.7°, current=-135.8°, player=(3621,727), corner_timer=0.15
[21:37:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3353.743, 1607.438), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[21:37:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44,08623
[21:37:46] [INFO] [Bullet] Body exited signal received for penetrating body
[21:37:46] [INFO] [Bullet] Exiting penetration at (3388.154, 745.3056) after traveling 35,416668 pixels through wall
[21:37:46] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2665.1284, 976.60443), shooter_id=2325372473156, bullet_pos=(3292.9304, 942.2622)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=628,7406
[21:37:47] [INFO] [Bullet] Distance to wall: 628,7406 (42,812107% of viewport)
[21:37:47] [ENEMY] [GuardEnemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=-11.1°, current=1.9°, player=(3632,727), corner_timer=0.00
[21:37:47] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:37:47] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-52.9°, current=-55.8°, player=(3638,727), corner_timer=0.00
[21:37:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3360.137, 1587.086), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[21:37:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3367, 1566.887), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[21:37:47] [ENEMY] [GuardEnemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=-10.3°, current=-54.2°, player=(3676,727), corner_timer=0.00
[21:37:47] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-61.2°, current=-58.3°, player=(3682,727), corner_timer=0.00
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3360.229, 1605.247), shooter_id=2326781758284, bullet_pos=(3866.083, 791.2968)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=958.333923339844
[21:37:47] [INFO] [Bullet] Distance to wall: 958.333923339844 (65.2547190609063% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 70.5361610956093%
[21:37:47] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.333, 1546.854), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[21:37:47] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> IN_COVER
[21:37:47] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3366.65, 1585.035), shooter_id=2326781758284, bullet_pos=(3862.052, 813.7678)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=916.666320800781
[21:37:47] [INFO] [Bullet] Distance to wall: 916.666320800781 (62.4174953840567% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 73.8462553852672%
[21:37:47] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3343.772, 1666.698), shooter_id=2326781758284, bullet_pos=(3487.356, 48.05481)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=1624.9990234375
[21:37:47] [INFO] [Bullet] Distance to wall: 1624.9990234375 (110.649171615579% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 27.8701656768843%
[21:37:47] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3382.133, 1526.998), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[21:37:47] [INFO] [LastChance] Threat detected: @Area2D@3500
[21:37:47] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:47] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[21:37:47] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:37:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3390.399, 1507.332), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[21:37:47] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2665.1284, 976.60443), shooter_id=2325372473156, bullet_pos=(3867.5654, 746.45026)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=1224,2654
[21:37:47] [INFO] [Bullet] Distance to wall: 1224,2654 (83,36249% of viewport)
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3348.786, 1646.09), shooter_id=2326781758284, bullet_pos=(3961.454, 51.39893)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=1708.3330078125
[21:37:47] [INFO] [Bullet] Distance to wall: 1708.3330078125 (116.323535849358% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 26.7352928301285%
[21:37:47] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3373.539, 1564.979), shooter_id=2326781758284, bullet_pos=(3959.167, 653.5789)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=1083.33276367188
[21:37:47] [INFO] [Bullet] Distance to wall: 1083.33276367188 (73.7661199517138% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 60.6061933896672%
[21:37:47] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:47] [INFO] [LastChance] Threat detected: @Area2D@3510
[21:37:47] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3354.275, 1625.603), shooter_id=2326781758284, bullet_pos=(3784.541, 58.60143)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=1624.99951171875
[21:37:47] [INFO] [Bullet] Distance to wall: 1624.99951171875 (110.649204863547% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 27.8701590272906%
[21:37:47] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3399.084, 1487.847), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[21:37:47] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[21:37:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:47] [INFO] [Player] Spawning blood effect at (3760.1477, 716.844), dir=(1, 0), lethal=False (C#)
[21:37:47] [INFO] [ImpactEffects] spawn_blood_effect called at (3760.148, 716.844), dir=(1, 0), lethal=false
[21:37:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:47] [INFO] [ImpactEffects] Wall found for blood splatter at (3850, 716.844) (dist=89 px)
[21:37:47] [INFO] [BloodDecal] Blood puddle created at (3849, 716.844) (added to group)
[21:37:47] [INFO] [ImpactEffects] Blood effect spawned at (3760.148, 716.844) (scale=1)
[21:37:47] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:37:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3408.095, 1468.51), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3414.976, 1467.452), shooter_id=2326781758284, bullet_pos=(3893.504, 945.2002)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=708.333068847656
[21:37:47] [INFO] [Bullet] Distance to wall: 708.333068847656 (48.2317011674981% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 90.3963486379188%
[21:37:47] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3424.596, 1448.548), shooter_id=2326781758284, bullet_pos=(4032.012, 940.8273)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=791.665466308594
[21:37:47] [INFO] [Bullet] Distance to wall: 791.665466308594 (53.9059573453804% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 83.7763830970562%
[21:37:47] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3380.896, 1545.09), shooter_id=2326781758284, bullet_pos=(3969.523, 30.44528)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=1625.00146484375
[21:37:47] [INFO] [Bullet] Distance to wall: 1625.00146484375 (110.64933785542% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 27.8701324289161%
[21:37:47] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:47] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=171.6°, current=171.4°, player=(3815,665), corner_timer=0.00
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3388.719, 1525.38), shooter_id=2326781758284, bullet_pos=(3980.169, 56.66259)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=1583.33337402344
[21:37:47] [INFO] [Bullet] Distance to wall: 1583.33337402344 (107.812080930602% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 28.4375838138796%
[21:37:47] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:47] [INFO] [BloodDecal] Blood puddle created at (3810.952, 728.9501) (added to group)
[21:37:47] [INFO] [BloodDecal] Blood puddle created at (3817.401, 722.5194) (added to group)
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3397.01, 1505.863), shooter_id=2326781758284, bullet_pos=(3598.926, 61.57596)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=1458.33325195313
[21:37:47] [INFO] [Bullet] Distance to wall: 1458.33325195313 (99.3005927638778% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 30.8159751088093%
[21:37:47] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:47] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[21:37:47] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[21:37:47] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-39.3°, current=176.3°, player=(3835,641), corner_timer=0.23
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3444.185, 1410.847), shooter_id=2326781758284, bullet_pos=(4034.669, 948.4305)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=750.000854492188
[21:37:47] [INFO] [Bullet] Distance to wall: 750.000854492188 (51.0689373123359% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 87.0862398022748%
[21:37:47] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:47] [INFO] [BloodDecal] Blood puddle created at (3821.901, 768.2626) (added to group)
[21:37:47] [INFO] [ReplayManager] Recording frame 1080 (18,0s): player_valid=True, enemies=10
[21:37:47] [INFO] [BloodDecal] Blood puddle created at (3821.558, 753.1874) (added to group)
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3405.763, 1486.55), shooter_id=2326781758284, bullet_pos=(4169.386, 52.14774)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=1625.00158691406
[21:37:47] [INFO] [Bullet] Distance to wall: 1625.00158691406 (110.649346167412% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 27.8701307665177%
[21:37:47] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3434.372, 1429.701), shooter_id=2326781758284, bullet_pos=(4593.678, 1298.844)
[21:37:47] [INFO] [Bullet] Using shooter_position, distance=1166.66833496094
[21:37:47] [INFO] [Bullet] Distance to wall: 1166.66833496094 (79.4405922413893% of viewport)
[21:37:47] [INFO] [Bullet] Distance-based penetration chance: 53.9859757183792%
[21:37:47] [INFO] [Bullet] Caliber cannot penetrate walls
[21:37:47] [INFO] [BloodDecal] Blood puddle created at (3841.552, 788.9436) (added to group)
[21:37:48] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-60.4°, current=-60.4°, player=(3902,582), corner_timer=0.08
[21:37:48] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[21:37:48] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[21:37:48] [ENEMY] [PatrolEnemy1] State: PURSUING -> RETREATING
[21:37:48] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[21:37:48] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=176.3°, current=-126.4°, player=(3912,580), corner_timer=0.23
[21:37:48] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[21:37:48] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:37:48] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:37:48] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[21:37:48] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:37:48] [INFO] [ReplayManager] Recording frame 1140 (19,0s): player_valid=True, enemies=10
[21:37:49] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> IN_COVER
[21:37:49] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> IN_COVER
[21:37:49] [ENEMY] [GuardEnemy3] State: IN_COVER -> PURSUING
[21:37:49] [ENEMY] [GuardEnemy2] State: IN_COVER -> PURSUING
[21:37:49] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-39.8°, current=132.7°, player=(4279,702), corner_timer=0.15
[21:37:49] [ENEMY] [GuardEnemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-6.8°, current=-77.2°, player=(4284,704), corner_timer=0.00
[21:37:49] [ENEMY] [PatrolEnemy2] FLANKING started: target=(4362.458, 911.8129), side=left, pos=(3498.766, 1293.277)
[21:37:49] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[21:37:49] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -113.0°
[21:37:49] [INFO] [ReplayManager] Recording frame 1200 (20,0s): player_valid=True, enemies=10
[21:37:49] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=164.7°, current=164.7°, player=(4472,709), corner_timer=0.00
[21:37:49] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=164.7°, current=164.7°, player=(4477,707), corner_timer=0.00
[21:37:49] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -111.3°
[21:37:50] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-35.8°, current=12.4°, player=(4499,695), corner_timer=0.15
[21:37:50] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-36.1°, current=-27.7°, player=(4554,641), corner_timer=0.15
[21:37:50] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -113.6°
[21:37:50] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[21:37:50] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[21:37:50] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-30.2°, current=176.3°, player=(4641,573), corner_timer=0.23
[21:37:50] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-36.1°, current=-36.1°, player=(4652,572), corner_timer=0.15
[21:37:50] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -113.6°
[21:37:50] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[21:37:50] [INFO] [ReplayManager] Recording frame 1260 (21,0s): player_valid=True, enemies=10
[21:37:50] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-34.1°, current=-34.2°, player=(4701,572), corner_timer=0.18
[21:37:50] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[21:37:50] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[21:37:50] [ENEMY] [GuardEnemy2] FLANKING started: target=(4646.127, 758.9866), side=left, pos=(2594.793, 904.9301)
[21:37:50] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[21:37:50] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -80.9°
[21:37:51] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-34.2°, current=-34.2°, player=(4789,572), corner_timer=0.15
[21:37:51] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-30.9°, current=-30.9°, player=(4806,572), corner_timer=0.18
[21:37:51] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -80.9°
[21:37:51] [ENEMY] [GuardEnemy3] State: COMBAT -> PURSUING
[21:37:51] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[21:37:51] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -80.9°
[21:37:51] [INFO] [ReplayManager] Recording frame 1320 (22,0s): player_valid=True, enemies=10
[21:37:51] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -80.9°
[21:37:52] [ENEMY] [PatrolEnemy1] Warning: No valid flank position (both sides behind walls)
[21:37:52] [ENEMY] [PatrolEnemy1] FLANKING started: target=(5056.09, 909.4434), side=left, pos=(2142.281, 2027.709)
[21:37:52] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[21:37:52] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 113.1°
[21:37:52] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 56.6°
[21:37:52] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 113.1°
[21:37:52] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -123.4°
[21:37:52] [ENEMY] [GuardEnemy3] Warning: No valid flank position (both sides behind walls)
[21:37:52] [ENEMY] [GuardEnemy3] FLANKING started: target=(4982.082, 706.6924), side=right, pos=(3069.255, 1740.57)
[21:37:52] [ENEMY] [GuardEnemy3] State: PURSUING -> FLANKING
[21:37:52] [INFO] [ReplayManager] Recording frame 1380 (23,0s): player_valid=True, enemies=10
[21:37:52] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 89.4°
[21:37:52] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -107.8°
[21:37:53] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -123.4°
[21:37:53] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle -129.6°
[21:37:53] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 88.8°
[21:37:53] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -107.8°
[21:37:53] [ENEMY] [SniperEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-94.8°, current=-123.8°, player=(5263,693), corner_timer=0.00
[21:37:53] [ENEMY] [SniperEnemy2] State: IDLE -> COMBAT
[21:37:53] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -123.4°
[21:37:53] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -91.2°
[21:37:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-15.7°, current=-15.6°, player=(5305,650), corner_timer=0.22
[21:37:53] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -127.9°
[21:37:53] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[21:37:53] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -123.4°
[21:37:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-17.2°, current=-3.4°, player=(5344,608), corner_timer=0.22
[21:37:53] [INFO] [ReplayManager] Recording frame 1440 (24,0s): player_valid=True, enemies=10
[21:37:53] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -91.2°
[21:37:53] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -129.7°
[21:37:54] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -115.6°
[21:37:54] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -91.2°
[21:37:54] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[21:37:54] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 93.5°
[21:37:54] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -99.2°
[21:37:54] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -91.2°
[21:37:54] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -127.7°
[21:37:54] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -99.2°
[21:37:54] [INFO] [Player.Debug] Debug mode toggled: ON
[21:37:54] [INFO] [GameManager] Debug mode toggled: ON
[21:37:54] [INFO] [ReplayManager] Recording frame 1500 (25,0s): player_valid=True, enemies=10
[21:37:54] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 88.5°
[21:37:54] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -127.7°
[21:37:55] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -99.2°
[21:37:55] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 88.0°
[21:37:55] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -127.7°
[21:37:55] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -99.2°
[21:37:55] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 87.8°
[21:37:55] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -127.7°
[21:37:55] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -99.2°
[21:37:55] [ENEMY] [PatrolEnemy2] FLANKING started: target=(5207.214, 462.8685), side=right, pos=(4250.625, 973.375)
[21:37:55] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[21:37:55] [INFO] [ReplayManager] Recording frame 1560 (26,0s): player_valid=True, enemies=10
[21:37:55] [ENEMY] [GuardEnemy2] FLANKING timeout (5.0s), target=(5320.371, 790.7988), pos=(4177.094, 1006.727)
[21:37:55] [ENEMY] [GuardEnemy2] State: FLANKING -> PURSUING
[21:37:55] [ENEMY] [GuardEnemy2] PURSUING_MEMORY corner check: angle -92.3°
[21:37:55] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -127.7°
[21:37:55] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -132.8°
[21:37:56] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -99.3°
[21:37:56] [ENEMY] [GuardEnemy2] PURSUING_MEMORY corner check: angle -92.3°
[21:37:56] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -127.7°
[21:37:56] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -132.8°
[21:37:56] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -94.2°
[21:37:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-10.3°, current=-10.8°, player=(5357,656), corner_timer=0.22
[21:37:56] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[21:37:56] [ENEMY] [GuardEnemy2] PURSUING corner check: angle -118.5°
[21:37:56] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -98.8°
[21:37:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-5.7°, current=2.2°, player=(5374,720), corner_timer=0.18
[21:37:56] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -99.9°
[21:37:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-22.5°, current=-22.1°, player=(5405,752), corner_timer=0.28
[21:37:56] [INFO] [ReplayManager] Recording frame 1620 (27,0s): player_valid=True, enemies=10
[21:37:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=FLANKING, target=-22.4°, current=80.7°, player=(5413,759), corner_timer=0.25
[21:37:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-22.3°, current=-27.1°, player=(5416,763), corner_timer=0.23
[21:37:56] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[21:37:56] [ENEMY] [GuardEnemy2] PURSUING corner check: angle -118.5°
[21:37:56] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -98.8°
[21:37:56] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[21:37:57] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-11.4°, current=-11.5°, player=(5482,836), corner_timer=0.12
[21:37:57] [ENEMY] [GuardEnemy3] State: FLANKING -> COMBAT
[21:37:57] [ENEMY] [GuardEnemy2] PURSUING corner check: angle -118.5°
[21:37:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3634.514, 1499.891), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3669.741, 1487.531), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:57] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:37:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3704.969, 1475.171), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3702.219, 1501.159), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4395.516, 1057.813), source=ENEMY (GuardEnemy3), range=2000, listeners=9
[21:37:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[21:37:57] [INFO] [ReplayManager] Recording frame 1680 (28,0s): player_valid=True, enemies=10
[21:37:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3699.551, 1527.146), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:57] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:37:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3696.229, 1553.052), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:58] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-98.8°, current=-10.6°, player=(5492,843), corner_timer=0.08
[21:37:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3694.77, 1578.792), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:58] [INFO] [LastChance] Threat detected: Bullet
[21:37:58] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:58] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[21:37:58] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[21:37:58] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:58] [INFO] [Player] Spawning blood effect at (5492.164, 826.1142), dir=(1, 0), lethal=False (C#)
[21:37:58] [INFO] [ImpactEffects] spawn_blood_effect called at (5492.164, 826.1142), dir=(1, 0), lethal=false
[21:37:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:58] [INFO] [ImpactEffects] Blood effect spawned at (5492.164, 826.1142) (scale=1)
[21:37:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3694.605, 1575.027), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:58] [INFO] [LastChance] Threat detected: @Area2D@3566
[21:37:58] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3693.906, 1578.712), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3765.543, 1510.4894), shooter_id=2326429437193, bullet_pos=(4875.7188, 936.0256)
[21:37:58] [INFO] [Bullet] Using shooter_position, distance=1249,9995
[21:37:58] [INFO] [Bullet] Distance to wall: 1249,9995 (85,11476% of viewport)
[21:37:58] [INFO] [BloodDecal] Blood puddle created at (5566.848, 873.8039) (added to group)
[21:37:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3693.96, 1574.97), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:58] [INFO] [BloodDecal] Blood puddle created at (5585.009, 833.1737) (added to group)
[21:37:58] [INFO] [BloodDecal] Blood puddle created at (5588.024, 869.5352) (added to group)
[21:37:58] [INFO] [BloodDecal] Blood puddle created at (5577.352, 827.6694) (added to group)
[21:37:58] [INFO] [LastChance] Threat detected: @Area2D@3568
[21:37:58] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3762.0164, 1535.6088), shooter_id=2326429437193, bullet_pos=(4906.521, 936.85345)
[21:37:58] [INFO] [Bullet] Using shooter_position, distance=1291,6652
[21:37:58] [INFO] [Bullet] Distance to wall: 1291,6652 (87,95186% of viewport)
[21:37:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3762.0164, 1535.6088), shooter_id=2326429437193, bullet_pos=(4944.2686, 951.29834)
[21:37:58] [INFO] [Bullet] Using shooter_position, distance=1318,7642
[21:37:58] [INFO] [Bullet] Distance to wall: 1318,7642 (89,79708% of viewport)
[21:37:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3736.1113, 1472.5106), shooter_id=2326429437193, bullet_pos=(6098.4966, 654.5216)
[21:37:58] [INFO] [Bullet] Using shooter_position, distance=2499,994
[21:37:58] [INFO] [Bullet] Distance to wall: 2499,994 (170,22919% of viewport)
[21:37:58] [INFO] [Bullet] Distance-based penetration chance: 15,954164%
[21:37:58] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:58] [ENEMY] [PatrolEnemy2] Warning: No valid flank position (both sides behind walls)
[21:37:58] [ENEMY] [PatrolEnemy2] FLANKING started: target=(5374.642, 547.7298), side=right, pos=(4583.638, 804.8495)
[21:37:58] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[21:37:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3693.469, 1578.676), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:58] [INFO] [BloodDecal] Blood puddle created at (5592.943, 860.2643) (added to group)
[21:37:58] [INFO] [BloodDecal] Blood puddle created at (5577.038, 856.1426) (added to group)
[21:37:58] [INFO] [BloodDecal] Blood puddle created at (5606.88, 832.8455) (added to group)
[21:37:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3771.3386, 1460.1504), shooter_id=2326429437193, bullet_pos=(6060.2393, 563.31537)
[21:37:58] [INFO] [Bullet] Using shooter_position, distance=2458,3286
[21:37:58] [INFO] [Bullet] Distance to wall: 2458,3286 (167,39212% of viewport)
[21:37:58] [INFO] [Bullet] Distance-based penetration chance: 16,521576%
[21:37:58] [INFO] [Bullet] Starting wall penetration at (6060.2393, 563.31537)
[21:37:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,258617
[21:37:58] [INFO] [Bullet] Body exited signal received for penetrating body
[21:37:58] [INFO] [Bullet] Exiting penetration at (6103.6895, 546.29065) after traveling 41,66667 pixels through wall
[21:37:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:37:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3693.634, 1574.943), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[21:37:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[21:37:58] [INFO] [BloodDecal] Blood puddle created at (5571.323, 863.2291) (added to group)
[21:37:58] [INFO] [BloodDecal] Blood puddle created at (5557.571, 906.4348) (added to group)
[21:37:58] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[21:37:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3759.9333, 1555.9702), shooter_id=2326429437193, bullet_pos=(4944.6836, 944.29834)
[21:37:58] [INFO] [Bullet] Using shooter_position, distance=1333,3325
[21:37:58] [INFO] [Bullet] Distance to wall: 1333,3325 (90,78907% of viewport)
[21:37:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3759.9333, 1555.9702), shooter_id=2326429437193, bullet_pos=(4949.069, 946.7001)
[21:37:58] [INFO] [Bullet] Using shooter_position, distance=1336,1338
[21:37:58] [INFO] [Bullet] Distance to wall: 1336,1338 (90,979805% of viewport)
[21:37:58] [INFO] [Bullet] Distance-based penetration chance: 40,523563%
[21:37:58] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3768.4106, 1485.3124), shooter_id=2326429437193, bullet_pos=(6067.3364, 502.99545)
[21:37:58] [INFO] [Bullet] Using shooter_position, distance=2500,0012
[21:37:58] [INFO] [Bullet] Distance to wall: 2500,0012 (170,22969% of viewport)
[21:37:58] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=-99.9°, current=-26.7°, player=(5492,666), corner_timer=0.23
[21:37:58] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:37:58] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -166.7°
[21:37:58] [INFO] [LastChance] Threat detected: @Area2D@3583
[21:37:58] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:58] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:37:58] [INFO] [Player] Spawning blood effect at (5492.164, 663.05865), dir=(1, 0), lethal=False (C#)
[21:37:58] [INFO] [ImpactEffects] spawn_blood_effect called at (5492.164, 663.0587), dir=(1, 0), lethal=false
[21:37:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:37:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:37:58] [INFO] [ImpactEffects] Blood effect spawned at (5492.164, 663.0587) (scale=1)
[21:37:58] [INFO] [ReplayManager] Recording frame 1740 (29,0s): player_valid=True, enemies=10
[21:37:58] [INFO] [BloodDecal] Blood puddle created at (5610.706, 993.949) (added to group)
[21:37:58] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[21:37:58] [ENEMY] [GuardEnemy2] FLANKING started: target=(5355.067, 517.441), side=right, pos=(4606.693, 871.945)
[21:37:58] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[21:37:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3758.5862, 1553.6398), shooter_id=2326429437193, bullet_pos=(4705.944, 946.8943)
[21:37:58] [INFO] [Bullet] Using shooter_position, distance=1125,0007
[21:37:58] [INFO] [Bullet] Distance to wall: 1125,0007 (76,60337% of viewport)
[21:37:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3757.7068, 1556.1322), shooter_id=2326429437193, bullet_pos=(4798.549, 942.3567)
[21:37:58] [INFO] [Bullet] Using shooter_position, distance=1208,3346
[21:37:58] [INFO] [Bullet] Distance to wall: 1208,3346 (82,277725% of viewport)
[21:37:58] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=1.3°, current=0.9°, player=(5492,663), corner_timer=0.00
[21:37:59] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-9.7°, current=-25.5°, player=(5492,663), corner_timer=0.07
[21:37:59] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -166.7°
[21:37:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3760.2878, 1560.3335), shooter_id=2326429437193, bullet_pos=(6068.2954, 599.5368)
[21:37:59] [INFO] [Bullet] Using shooter_position, distance=2500,0059
[21:37:59] [INFO] [Bullet] Distance to wall: 2500,0059 (170,23% of viewport)
[21:37:59] [INFO] [Bullet] Distance-based penetration chance: 15,954001%
[21:37:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:59] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[21:37:59] [INFO] [BloodDecal] Blood puddle created at (5548.876, 700.2303) (added to group)
[21:37:59] [ENEMY] [GuardEnemy2] State: FLANKING -> COMBAT
[21:37:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=2.3°, current=81.3°, player=(5492,663), corner_timer=0.30
[21:37:59] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-8.2°, current=66.0°, player=(5492,663), corner_timer=0.02
[21:37:59] [INFO] [BloodDecal] Blood puddle created at (5566.901, 723.7037) (added to group)
[21:37:59] [INFO] [BloodDecal] Blood puddle created at (5567.433, 690.8873) (added to group)
[21:37:59] [INFO] [BloodDecal] Blood puddle created at (5575.402, 724.9191) (added to group)
[21:37:59] [INFO] [BloodDecal] Blood puddle created at (5644.869, 686.8059) (added to group)
[21:37:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3758.8894, 1558.4106), shooter_id=2326429437193, bullet_pos=(6061.2725, 696.7672)
[21:37:59] [INFO] [Bullet] Using shooter_position, distance=2458,3323
[21:37:59] [INFO] [Bullet] Distance to wall: 2458,3323 (167,39238% of viewport)
[21:37:59] [INFO] [Bullet] Distance-based penetration chance: 16,521526%
[21:37:59] [INFO] [Bullet] Penetration failed (distance roll)
[21:37:59] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-9.4°, current=39.2°, player=(5492,664), corner_timer=0.02
[21:37:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=4.0°, current=51.2°, player=(5492,664), corner_timer=0.30
[21:37:59] [INFO] [BloodDecal] Blood puddle created at (5566.635, 730.7374) (added to group)
[21:37:59] [INFO] [BloodDecal] Blood puddle created at (5660.811, 759.9086) (added to group)
[21:37:59] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-9.0°, current=25.1°, player=(5492,672), corner_timer=0.02
[21:37:59] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:37:59] [INFO] [BloodDecal] Blood puddle created at (5651.585, 689.9106) (added to group)
[21:37:59] [INFO] [BloodDecal] Blood puddle created at (5677.697, 763.7144) (added to group)
[21:37:59] [INFO] [BloodDecal] Blood puddle created at (5697.111, 699.8491) (added to group)
[21:37:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4778.239, 590.0167), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:37:59] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[21:37:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4799.151, 590.1084), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:37:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3757.6052, 1551.749), shooter_id=2326429437193, bullet_pos=(6075.456, 508.85156)
[21:37:59] [INFO] [Bullet] Using shooter_position, distance=2541,6663
[21:37:59] [INFO] [Bullet] Distance to wall: 2541,6663 (173,06674% of viewport)
[21:37:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4820.047, 590.954), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:37:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4840.856, 592.5914), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:37:59] [INFO] [ReplayManager] Recording frame 1800 (30,0s): player_valid=True, enemies=10
[21:37:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4862.11, 590.7724), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:37:59] [INFO] [LastChance] Threat detected: @Area2D@3645
[21:37:59] [INFO] [LastChance] Not in hard mode - effect disabled
[21:37:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:37:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4883.045, 591.9915), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:37:59] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[21:37:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4904.377, 591.966), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:37:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4925.689, 592.8794), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4843.007, 610.7009), shooter_id=2326781758284, bullet_pos=(6086.806, 735.0991)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1250.00415039063
[21:38:00] [INFO] [Bullet] Distance to wall: 1250.00415039063 (85.1150811550488% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 47.3657386524431%
[21:38:00] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4946.94, 594.7305), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4863.113, 613.0969), shooter_id=2326781758284, bullet_pos=(6094.667, 1002.576)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1291.67272949219
[21:38:00] [INFO] [Bullet] Distance to wall: 1291.67272949219 (87.9523713278348% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 44.0555667841927%
[21:38:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:00] [INFO] [LastChance] Threat detected: @Area2D@3656
[21:38:00] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4968.089, 597.5142), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4883.128, 616.2552), shooter_id=2326781758284, bullet_pos=(6075.427, 812.4884)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1208.33984375
[21:38:00] [INFO] [Bullet] Distance to wall: 1208.33984375 (82.2780819019844% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 50.6755711143515%
[21:38:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:38:00] [INFO] [Player] Spawning blood effect at (5492.164, 950.39197), dir=(1, 0), lethal=False (C#)
[21:38:00] [INFO] [ImpactEffects] spawn_blood_effect called at (5492.164, 950.392), dir=(1, 0), lethal=false
[21:38:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:38:00] [INFO] [ImpactEffects] Blood effect spawned at (5492.164, 950.392) (scale=1)
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4986.726, 607.1442), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4902.984, 620.2047), shooter_id=2326781758284, bullet_pos=(6064.766, 726.8505)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1166.66577148438
[21:38:00] [INFO] [Bullet] Distance to wall: 1166.66577148438 (79.4404176895563% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 53.9861793621843%
[21:38:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5005.08, 617.3732), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4922.958, 621.048), shooter_id=2326781758284, bullet_pos=(6089.231, 937.0566)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1208.32702636719
[21:38:00] [INFO] [Bullet] Distance to wall: 1208.32702636719 (82.2772091428196% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 50.6765893333771%
[21:38:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5022.179, 630.1287), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4942.639, 624.7173), shooter_id=2326781758284, bullet_pos=(6066.317, 938.504)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1166.66772460938
[21:38:00] [INFO] [Bullet] Distance to wall: 1166.66772460938 (79.440550681429% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 53.9860242049995%
[21:38:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:00] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> IN_COVER
[21:38:00] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[21:38:00] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[21:38:00] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5038.896, 643.3815), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=18.0°, current=17.6°, player=(5492,1021), corner_timer=0.02
[21:38:00] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4982.152, 630.7072), shooter_id=2326781758284, bullet_pos=(6083.852, 402.931)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1125.00012207031
[21:38:00] [INFO] [Bullet] Distance to wall: 1125.00012207031 (76.6033270045794% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 57.2961184946574%
[21:38:00] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5055.219, 657.1151), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5071.143, 671.311), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:00] [INFO] [BloodDecal] Blood puddle created at (5566.396, 947.4324) (added to group)
[21:38:00] [INFO] [BloodDecal] Blood puddle created at (5594.115, 946.1932) (added to group)
[21:38:00] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-15.6°, current=27.8°, player=(5492,1072), corner_timer=0.23
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5021.014, 640.1525), shooter_id=2326781758284, bullet_pos=(6072.182, 1041.008)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1125.005859375
[21:38:00] [INFO] [Bullet] Distance to wall: 1125.005859375 (76.6037176682055% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 57.2956627204269%
[21:38:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:00] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-99.9°, current=-91.6°, player=(5492,1076), corner_timer=0.23
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5086.7, 685.9081), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [BloodDecal] Blood puddle created at (5584.282, 962.3565) (added to group)
[21:38:00] [INFO] [BloodDecal] Blood puddle created at (5588.75, 997.2202) (added to group)
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5101.966, 700.8092), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5038.219, 651.542), shooter_id=2326781758284, bullet_pos=(6082.063, 1260.2)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1208.33557128906
[21:38:00] [INFO] [Bullet] Distance to wall: 1208.33557128906 (82.2777909822628% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 50.6759105206934%
[21:38:00] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5001.684, 635.0068), shooter_id=2326781758284, bullet_pos=(6071.811, 1744.758)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1541.66174316406
[21:38:00] [INFO] [Bullet] Distance to wall: 1541.66174316406 (104.974582958015% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 29.0050834083971%
[21:38:00] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5117.021, 715.9237), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5070.787, 677.67), shooter_id=2326781758284, bullet_pos=(6072.288, 391.2202)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1041.66149902344
[21:38:00] [INFO] [Bullet] Distance to wall: 1041.66149902344 (70.9286469151028% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 63.9165785990467%
[21:38:00] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5055.068, 663.4596), shooter_id=2326781758284, bullet_pos=(5336.005, 1838.679)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1208.33190917969
[21:38:00] [INFO] [Bullet] Distance to wall: 1208.33190917969 (82.2775416225014% of viewport)
[21:38:00] [INFO] [ReplayManager] Recording frame 1860 (31,0s): player_valid=True, enemies=10
[21:38:00] [INFO] [BloodDecal] Blood puddle created at (5650.11, 1049.732) (added to group)
[21:38:00] [INFO] [BloodDecal] Blood puddle created at (5637.661, 1016.381) (added to group)
[21:38:00] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=23.4°, current=23.5°, player=(5492,1100), corner_timer=0.02
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5131.948, 731.1651), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [BloodDecal] Blood puddle created at (5690.447, 991.7504) (added to group)
[21:38:00] [INFO] [BloodDecal] Blood puddle created at (5709.417, 1024.867) (added to group)
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5055.068, 663.4596), shooter_id=2326781758284, bullet_pos=(5325.999, 1943.201)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1308.10595703125
[21:38:00] [INFO] [Bullet] Distance to wall: 1308.10595703125 (89.0713400090105% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 42.7501033228211%
[21:38:00] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5146.832, 746.4487), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5086.093, 692.3234), shooter_id=2326781758284, bullet_pos=(6079.109, 1304.727)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=1166.66955566406
[21:38:00] [INFO] [Bullet] Distance to wall: 1166.66955566406 (79.4406753613097% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 53.9858787451387%
[21:38:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:00] [INFO] [BloodDecal] Blood puddle created at (5659.572, 1073.59) (added to group)
[21:38:00] [INFO] [BloodDecal] Blood puddle created at (5708.775, 991.4671) (added to group)
[21:38:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5115.514, 722.8383), shooter_id=2326781758284, bullet_pos=(5296.672, 1663.895)
[21:38:00] [INFO] [Bullet] Using shooter_position, distance=958.335083007813
[21:38:00] [INFO] [Bullet] Distance to wall: 958.335083007813 (65.2547980248307% of viewport)
[21:38:00] [INFO] [Bullet] Distance-based penetration chance: 70.5360689710308%
[21:38:00] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:00] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[21:38:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5161.715, 761.7333), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5100.983, 707.4006), shooter_id=2326781758284, bullet_pos=(6063.194, 1438.301)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=1208.33166503906
[21:38:01] [INFO] [Bullet] Distance to wall: 1208.33166503906 (82.2775249985173% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 50.6762208350631%
[21:38:01] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:01] [INFO] [LastChance] Threat detected: @Area2D@3713
[21:38:01] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5176.598, 777.018), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5191.48, 792.3027), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5191.48, 792.3027), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5191.48, 792.3027), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5191.48, 792.3027), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5191.48, 792.3027), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5188.402, 800.3235), shooter_id=2326781758284, bullet_pos=(6073.848, 1559.987)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=1166.66284179688
[21:38:01] [INFO] [Bullet] Distance to wall: 1166.66284179688 (79.4402182017472% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 53.9864120979616%
[21:38:01] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5203.285, 815.6082), shooter_id=2326781758284, bullet_pos=(6064.741, 1539.16)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=1125.00354003906
[21:38:01] [INFO] [Bullet] Distance to wall: 1125.00354003906 (76.6035597403567% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 57.2958469695839%
[21:38:01] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:01] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> IN_COVER
[21:38:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5191.48, 792.3027), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5218.168, 830.8929), shooter_id=2326781758284, bullet_pos=(6065.867, 1361.368)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=999.999145507813
[21:38:01] [INFO] [Bullet] Distance to wall: 999.999145507813 (68.0917806539111% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 67.2262559037704%
[21:38:01] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:01] [ENEMY] [GuardEnemy3] State: IN_COVER -> PURSUING
[21:38:01] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=11.4°, current=-98.8°, player=(5492,1101), corner_timer=0.08
[21:38:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5191.48, 792.3027), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5233.051, 846.1776), shooter_id=2326781758284, bullet_pos=(6096.768, 706.1092)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=875.0009765625
[21:38:01] [INFO] [Bullet] Distance to wall: 875.0009765625 (59.5804254790598% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 77.1561702744302%
[21:38:01] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5191.48, 792.3027), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5233.051, 846.1776), shooter_id=2326781758284, bullet_pos=(6064.984, 797.8389)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=833.336730957031
[21:38:01] [INFO] [Bullet] Distance to wall: 833.336730957031 (56.7434303819914% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 80.4659978876767%
[21:38:01] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5191.48, 792.3027), source=ENEMY (PatrolEnemy2), range=1200, listeners=9
[21:38:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5158.859, 769.5703), shooter_id=2326781758284, bullet_pos=(6066.625, 2736.908)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=2166.66943359375
[21:38:01] [INFO] [Bullet] Distance to wall: 2166.66943359375 (147.532505887173% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 20.4934988225654%
[21:38:01] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5233.051, 846.1776), shooter_id=2326781758284, bullet_pos=(6090.739, 672.9852)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=874.999572753906
[21:38:01] [INFO] [Bullet] Distance to wall: 874.999572753906 (59.5803298911513% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 77.1562817936568%
[21:38:01] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5173.531, 785.0235), shooter_id=2326781758284, bullet_pos=(6062.894, 2714.968)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=2125.005859375
[21:38:01] [INFO] [Bullet] Distance to wall: 2125.005859375 (144.695556506061% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 21.0608886987878%
[21:38:01] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5233.051, 846.1776), shooter_id=2326781758284, bullet_pos=(6066.127, 825.5538)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=833.331420898438
[21:38:01] [INFO] [Bullet] Distance to wall: 833.331420898438 (56.7430688103375% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 80.466419721273%
[21:38:01] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:01] [INFO] [ReplayManager] Recording frame 1920 (32,0s): player_valid=True, enemies=10
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5233.051, 846.1776), shooter_id=2326781758284, bullet_pos=(6069.022, 2617.123)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=1958.33972167969
[21:38:01] [INFO] [Bullet] Distance to wall: 1958.33972167969 (133.346952718384% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 23.3306094563232%
[21:38:01] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5233.051, 846.1776), shooter_id=2326781758284, bullet_pos=(5337.559, 1840.701)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=999.999694824219
[21:38:01] [INFO] [Bullet] Distance to wall: 999.999694824219 (68.0918180578753% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 67.2262122658122%
[21:38:01] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5129.942, 738.4012), shooter_id=2326781758284, bullet_pos=(6062.396, 3895.234)
[21:38:01] [INFO] [Bullet] Using shooter_position, distance=3291.66625976563
[21:38:01] [INFO] [Bullet] Distance to wall: 3291.66625976563 (224.135608467967% of viewport)
[21:38:01] [INFO] [Bullet] Distance-based penetration chance: 5.17287830640655%
[21:38:01] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5233.051, 846.1776), shooter_id=2326781758284, bullet_pos=(6082.587, 2132.65)
[21:38:02] [INFO] [Bullet] Using shooter_position, distance=1541.6630859375
[21:38:02] [INFO] [Bullet] Distance to wall: 1541.6630859375 (104.974674389927% of viewport)
[21:38:02] [INFO] [Bullet] Distance-based penetration chance: 29.0050651220146%
[21:38:02] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:02] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[21:38:02] [ENEMY] [GuardEnemy2] FLANKING started: target=(5332.433, 1221.472), side=left, pos=(4911.564, 854.6416)
[21:38:02] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[21:38:02] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -82.9°
[21:38:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5233.051, 846.1776), shooter_id=2326781758284, bullet_pos=(6069.564, 4244.736)
[21:38:02] [INFO] [Bullet] Using shooter_position, distance=3499.99340820313
[21:38:02] [INFO] [Bullet] Distance to wall: 3499.99340820313 (238.320987084923% of viewport)
[21:38:02] [INFO] [ReplayManager] Recording frame 1980 (33,0s): player_valid=True, enemies=10
[21:38:02] [ENEMY] [PatrolEnemy2] Hit: dmg=10, hp=3/3->-7/3
[21:38:02] [INFO] [ImpactEffects] spawn_blood_effect called at (5191.48, 792.3027), dir=(-0.684822, -0.72871), lethal=true
[21:38:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:02] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:38:02] [INFO] [ImpactEffects] Blood effect spawned at (5191.48, 792.3027) (scale=0.75)
[21:38:02] [ENEMY] [PatrolEnemy2] Enemy died (ricochet: false, penetration: false)
[21:38:02] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[21:38:02] [ENEMY] [PatrolEnemy2] [AllyDeath] Notified 1 enemies
[21:38:02] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy2 (remaining: 8)
[21:38:02] [INFO] [DeathAnim] Started - Angle: -133.2 deg, Index: 3
[21:38:02] [ENEMY] [PatrolEnemy2] Death animation started with hit direction: (-0.684822, -0.72871)
[21:38:02] [ENEMY] [GuardEnemy3] Warning: No valid flank position (both sides behind walls)
[21:38:02] [ENEMY] [GuardEnemy3] FLANKING started: target=(5360.015, 1251.236), side=left, pos=(4604.914, 922.9095)
[21:38:02] [ENEMY] [GuardEnemy3] State: PURSUING -> FLANKING
[21:38:02] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -82.9°
[21:38:03] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 154.3°
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5160.296, 765.2166) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5164.256, 761.4706) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5160.105, 730.9894) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5097.189, 769.7997) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5142.437, 761.6546) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5157.022, 736.7867) (added to group)
[21:38:03] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=8.0°, current=53.4°, player=(5492,1101), corner_timer=0.18
[21:38:03] [ENEMY] [GuardEnemy3] State: FLANKING -> COMBAT
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5172.579, 760.2008) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5165.258, 767.7568) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5133.426, 802.2061) (added to group)
[21:38:03] [ENEMY] [PatrolEnemy2] Ragdoll activated
[21:38:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5101.251, 802.7702) (added to group)
[21:38:03] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -113.2°
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5046.092, 816.0342) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5021.148, 790.2975) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5026.478, 801.0806) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5152.048, 769.0444) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5058.01, 751.0706) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5082.521, 766.8431) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5132.863, 803.78) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5036.745, 720.2947) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5042.606, 798.2744) (added to group)
[21:38:03] [INFO] [BloodDecal] Blood puddle created at (5134.718, 786.1158) (added to group)
[21:38:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5233.051, 846.1776), shooter_id=2326781758284, bullet_pos=(5996.144, 5063.121)
[21:38:03] [INFO] [Bullet] Using shooter_position, distance=4285.43115234375
[21:38:03] [INFO] [Bullet] Distance to wall: 4285.43115234375 (291.802887376116% of viewport)
[21:38:03] [INFO] [Bullet] Distance-based penetration chance: 5%
[21:38:03] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:03] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 175.9°
[21:38:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4802.238, 1016.927), source=ENEMY (GuardEnemy3), range=2000, listeners=8
[21:38:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[21:38:03] [INFO] [ReplayManager] Recording frame 2040 (34,0s): player_valid=True, enemies=10
[21:38:03] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=9.9°, current=-24.6°, player=(5492,1101), corner_timer=0.10
[21:38:03] [ENEMY] [GuardEnemy2] State: FLANKING -> COMBAT
[21:38:03] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=9.6°, current=-115.2°, player=(5492,1101), corner_timer=0.10
[21:38:03] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:38:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:38:03] [INFO] [Player] Spawning blood effect at (5492.164, 1101.1141), dir=(1, 0), lethal=False (C#)
[21:38:03] [INFO] [ImpactEffects] spawn_blood_effect called at (5492.164, 1101.114), dir=(1, 0), lethal=false
[21:38:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:38:03] [INFO] [ImpactEffects] Blood effect spawned at (5492.164, 1101.114) (scale=1)
[21:38:04] [INFO] [BloodDecal] Blood puddle created at (5565.734, 1155.619) (added to group)
[21:38:04] [INFO] [BloodDecal] Blood puddle created at (5549.301, 1150.623) (added to group)
[21:38:04] [ENEMY] [PatrolEnemy2] Death animation completed
[21:38:04] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=7.1°, current=-40.4°, player=(5492,1101), corner_timer=0.10
[21:38:04] [INFO] [BloodDecal] Blood puddle created at (5580.638, 1145.337) (added to group)
[21:38:04] [INFO] [BloodDecal] Blood puddle created at (5573.446, 1169.18) (added to group)
[21:38:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4746.339, 1008.803), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[21:38:04] [INFO] [BloodDecal] Blood puddle created at (5581.063, 1098.486) (added to group)
[21:38:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4783.39, 1013.389), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[21:38:04] [INFO] [BloodDecal] Blood puddle created at (5599.424, 1163.035) (added to group)
[21:38:04] [INFO] [BloodDecal] Blood puddle created at (5575.31, 1141.198) (added to group)
[21:38:04] [INFO] [BloodDecal] Blood puddle created at (5659.828, 1118.498) (added to group)
[21:38:04] [INFO] [BloodDecal] Blood puddle created at (5633.904, 1192.044) (added to group)
[21:38:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4947.709, 987.4876), source=ENEMY (GuardEnemy3), range=2000, listeners=8
[21:38:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[21:38:04] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[21:38:04] [INFO] [LastChance] Threat detected: Bullet
[21:38:04] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4820.44, 1017.974), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[21:38:04] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:38:04] [INFO] [Player] Spawning blood effect at (5492.164, 1101.1141), dir=(1, 0), lethal=False (C#)
[21:38:04] [INFO] [ImpactEffects] spawn_blood_effect called at (5492.164, 1101.114), dir=(1, 0), lethal=false
[21:38:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:38:04] [INFO] [ImpactEffects] Blood effect spawned at (5492.164, 1101.114) (scale=1)
[21:38:04] [INFO] [BloodDecal] Blood puddle created at (5685.875, 1129.168) (added to group)
[21:38:04] [INFO] [LastChance] Threat detected: @Area2D@3816
[21:38:04] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:04] [INFO] [ReplayManager] Recording frame 2100 (35,0s): player_valid=True, enemies=10
[21:38:04] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:38:04] [INFO] [Player] Spawning blood effect at (5492.164, 1101.1141), dir=(1, 0), lethal=False (C#)
[21:38:04] [INFO] [ImpactEffects] spawn_blood_effect called at (5492.164, 1101.114), dir=(1, 0), lethal=false
[21:38:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:38:04] [INFO] [ImpactEffects] Blood effect spawned at (5492.164, 1101.114) (scale=1)
[21:38:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4833.335, 975.5046), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:04] [ENEMY] [GuardEnemy3] Heard gunshot at (4833.335, 975.5046), source_type=1, intensity=0.33, distance=87
[21:38:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[21:38:04] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:38:04] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=3/3->2/3
[21:38:04] [INFO] [ImpactEffects] spawn_blood_effect called at (4923.28, 989.6561), dir=(1, 0), lethal=false
[21:38:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:38:04] [INFO] [ImpactEffects] Blood effect spawned at (4923.28, 989.6561) (scale=1)
[21:38:04] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=154.3°, current=180.0°, player=(5492,1101), corner_timer=0.18
[21:38:04] [INFO] [BloodDecal] Blood puddle created at (5564.12, 1138.831) (added to group)
[21:38:04] [INFO] [BloodDecal] Blood puddle created at (5591.741, 1130.583) (added to group)
[21:38:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4852.068, 1029.3284), shooter_id=2325372473156, bullet_pos=(6092.6, 1182.855)
[21:38:05] [INFO] [Bullet] Using shooter_position, distance=1249,9962
[21:38:05] [INFO] [Bullet] Distance to wall: 1249,9962 (85,11455% of viewport)
[21:38:05] [INFO] [Bullet] Distance-based penetration chance: 47,366367%
[21:38:05] [INFO] [Bullet] Starting wall penetration at (6092.6, 1182.855)
[21:38:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,24046
[21:38:05] [INFO] [Bullet] Body exited signal received for penetrating body
[21:38:05] [INFO] [Bullet] Exiting penetration at (6138.913, 1188.5867) after traveling 41,66667 pixels through wall
[21:38:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5610.95, 1192.134) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5560.256, 1110.303) (added to group)
[21:38:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4873.792, 974.0667), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:05] [ENEMY] [GuardEnemy3] Heard gunshot at (4873.792, 974.0667), source_type=1, intensity=1.00, distance=49
[21:38:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[21:38:05] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=10.8°, current=154.3°, player=(5492,1101), corner_timer=0.18
[21:38:05] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:38:05] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=2/3->1/3
[21:38:05] [INFO] [ImpactEffects] spawn_blood_effect called at (4916.065, 992.7289), dir=(1, 0), lethal=false
[21:38:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:38:05] [INFO] [ImpactEffects] Blood effect spawned at (4916.065, 992.7289) (scale=1)
[21:38:05] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=154.3°, current=180.0°, player=(5492,1101), corner_timer=0.18
[21:38:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4886.5703, 1034.0189), shooter_id=2325372473156, bullet_pos=(6094.573, 1005.96765)
[21:38:05] [INFO] [Bullet] Using shooter_position, distance=1208,3286
[21:38:05] [INFO] [Bullet] Distance to wall: 1208,3286 (82,27732% of viewport)
[21:38:05] [INFO] [Bullet] Distance-based penetration chance: 50,676464%
[21:38:05] [INFO] [Bullet] Starting wall penetration at (6094.573, 1005.96765)
[21:38:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,239243
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5580.871, 1135.735) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5575.713, 1123.946) (added to group)
[21:38:05] [INFO] [Bullet] Body exited signal received for penetrating body
[21:38:05] [INFO] [Bullet] Exiting penetration at (6141.227, 1004.8843) after traveling 41,66667 pixels through wall
[21:38:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5597.499, 1114.846) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5017.264, 963.2988) (added to group)
[21:38:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4867.751, 990.5962), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:05] [ENEMY] [GuardEnemy3] Heard gunshot at (4867.751, 990.5962), source_type=1, intensity=1.00, distance=36
[21:38:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[21:38:05] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=10.6°, current=165.9°, player=(5492,1101), corner_timer=0.18
[21:38:05] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5614.003, 1161.737) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5551.361, 1154.02) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5586.753, 1168.163) (added to group)
[21:38:05] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=154.3°, current=163.1°, player=(5492,1101), corner_timer=0.18
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5624.101, 1238.61) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5631.024, 1127.16) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5600.054, 1125.09) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5651.785, 1159.564) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5054.491, 1052.874) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5614.217, 1142.131) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5031.976, 1039.015) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5025.93, 1025.366) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5041.338, 1012.079) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5007.997, 990.4115) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5004.598, 984.7804) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (4972.922, 1037.192) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5641.581, 1129.118) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5061.097, 1056.564) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5016.771, 1036.543) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5018.622, 1042.344) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5635.159, 1154.393) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5049.62, 1039.709) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5071.551, 1140.743) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5080.684, 1085.651) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5634.913, 1180.826) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5645.026, 1130.69) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5679.851, 1261.712) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5142.378, 1156.607) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5004.047, 1057.367) (added to group)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5042.129, 1100.055) (added to group)
[21:38:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4949.682, 984.8975), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:05] [ENEMY] [GuardEnemy3] Heard gunshot at (4949.682, 984.8975), source_type=1, intensity=1.00, distance=6
[21:38:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[21:38:05] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=11.9°, current=-153.1°, player=(5492,1101), corner_timer=0.18
[21:38:05] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:38:05] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=154.3°, current=-150.2°, player=(5492,1101), corner_timer=0.18
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5028.077, 1083.182) (added to group)
[21:38:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4932.947, 1010.05664), shooter_id=2325372473156, bullet_pos=(6098.9937, 1048.1664)
[21:38:05] [INFO] [Bullet] Using shooter_position, distance=1166,6696
[21:38:05] [INFO] [Bullet] Distance to wall: 1166,6696 (79,440674% of viewport)
[21:38:05] [INFO] [Bullet] Distance-based penetration chance: 53,98588%
[21:38:05] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5097.779, 1085.041) (added to group)
[21:38:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4931.561, 975.4754), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:05] [ENEMY] [GuardEnemy3] Heard gunshot at (4931.561, 975.4754), source_type=1, intensity=1.00, distance=13
[21:38:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[21:38:05] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=12.2°, current=137.6°, player=(5492,1101), corner_timer=0.18
[21:38:05] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:38:05] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=154.3°, current=134.8°, player=(5492,1101), corner_timer=0.18
[21:38:05] [INFO] [ReplayManager] Recording frame 2160 (36,0s): player_valid=True, enemies=10
[21:38:05] [INFO] [BloodDecal] Blood puddle created at (5108.063, 1045.357) (added to group)
[21:38:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4930.66, 990.9813), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:05] [ENEMY] [GuardEnemy3] Heard gunshot at (4930.66, 990.9813), source_type=1, intensity=1.00, distance=16
[21:38:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[21:38:05] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=11.9°, current=173.6°, player=(5492,1101), corner_timer=0.18
[21:38:05] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:38:05] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=154.3°, current=170.7°, player=(5492,1101), corner_timer=0.18
[21:38:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5013.8755, 1006.6215), shooter_id=2325372473156, bullet_pos=(6092.977, 1102.2648)
[21:38:06] [INFO] [Bullet] Using shooter_position, distance=1083,3318
[21:38:06] [INFO] [Bullet] Distance to wall: 1083,3318 (73,76605% of viewport)
[21:38:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4995.5728, 997.81055), shooter_id=2325372473156, bullet_pos=(6069.355, 1141.3501)
[21:38:06] [INFO] [Bullet] Using shooter_position, distance=1083,3337
[21:38:06] [INFO] [Bullet] Distance to wall: 1083,3337 (73,76619% of viewport)
[21:38:06] [INFO] [Bullet] Distance-based penetration chance: 60,606117%
[21:38:06] [INFO] [Bullet] Starting wall penetration at (6069.355, 1141.3501)
[21:38:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,78479
[21:38:06] [INFO] [Bullet] Body exited signal received for penetrating body
[21:38:06] [INFO] [Bullet] Exiting penetration at (6115.6104, 1147.5333) after traveling 41,666668 pixels through wall
[21:38:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:38:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4995.4854, 1011.6447), shooter_id=2325372473156, bullet_pos=(6076.3896, 1084.1412)
[21:38:06] [INFO] [Bullet] Using shooter_position, distance=1083,3328
[21:38:06] [INFO] [Bullet] Distance to wall: 1083,3328 (73,76612% of viewport)
[21:38:06] [INFO] [Bullet] Distance-based penetration chance: 60,606194%
[21:38:06] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:06] [INFO] [ReplayManager] Recording frame 2220 (37,0s): player_valid=True, enemies=10
[21:38:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4751.472, 993.8265), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[21:38:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4817.7075, 1011.28845), shooter_id=2325372473156, bullet_pos=(6068.273, 1334.5104)
[21:38:07] [INFO] [Bullet] Using shooter_position, distance=1291,6603
[21:38:07] [INFO] [Bullet] Distance to wall: 1291,6603 (87,95153% of viewport)
[21:38:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4897.276, 974.8716), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:07] [ENEMY] [GuardEnemy3] Heard gunshot at (4897.276, 974.8716), source_type=1, intensity=1.00, distance=17
[21:38:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[21:38:07] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=10.8°, current=-130.6°, player=(5492,1101), corner_timer=0.18
[21:38:07] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:38:07] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=154.3°, current=-127.7°, player=(5492,1101), corner_timer=0.18
[21:38:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4890.28, 991.0516), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:07] [ENEMY] [GuardEnemy3] Heard gunshot at (4890.28, 991.0516), source_type=1, intensity=1.00, distance=15
[21:38:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[21:38:07] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=11.0°, current=138.9°, player=(5492,1101), corner_timer=0.18
[21:38:07] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:38:07] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=154.3°, current=136.0°, player=(5492,1101), corner_timer=0.18
[21:38:07] [INFO] [LastChance] Threat detected: Bullet
[21:38:07] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:38:07] [INFO] [Player] Spawning blood effect at (5492.164, 1101.1141), dir=(1, 0), lethal=False (C#)
[21:38:07] [INFO] [ImpactEffects] spawn_blood_effect called at (5492.164, 1101.114), dir=(1, 0), lethal=false
[21:38:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:38:07] [INFO] [ImpactEffects] Blood effect spawned at (5492.164, 1101.114) (scale=1)
[21:38:07] [INFO] [ReplayManager] Recording frame 2280 (38,0s): player_valid=True, enemies=10
[21:38:07] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[21:38:07] [INFO] [LastChance] Threat detected: @Area2D@3886
[21:38:07] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:38:07] [INFO] [Player] Spawning blood effect at (5492.164, 1101.1141), dir=(1, 0), lethal=False (C#)
[21:38:07] [INFO] [ImpactEffects] spawn_blood_effect called at (5492.164, 1101.114), dir=(1, 0), lethal=false
[21:38:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:38:07] [INFO] [ImpactEffects] Blood effect spawned at (5492.164, 1101.114) (scale=1)
[21:38:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4949.765, 985.5848), source=ENEMY (GuardEnemy2), range=1469, listeners=8
[21:38:07] [ENEMY] [GuardEnemy3] Heard gunshot at (4949.765, 985.5848), source_type=1, intensity=1.00, distance=49
[21:38:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[21:38:07] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=10.5°, current=152.1°, player=(5492,1101), corner_timer=0.18
[21:38:07] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[21:38:07] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=154.3°, current=149.2°, player=(5492,1101), corner_timer=0.18
[21:38:08] [ENEMY] [GuardEnemy2] Hit: dmg=10, hp=3/4->-7/4
[21:38:08] [INFO] [ImpactEffects] spawn_blood_effect called at (4932.282, 992.1284), dir=(-0.981857, -0.18962), lethal=true
[21:38:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:08] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:38:08] [INFO] [ImpactEffects] Blood effect spawned at (4932.282, 992.1284) (scale=0.75)
[21:38:08] [ENEMY] [GuardEnemy2] Enemy died (ricochet: false, penetration: false)
[21:38:08] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[21:38:08] [ENEMY] [GuardEnemy2] [AllyDeath] Notified 1 enemies
[21:38:08] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy2 (remaining: 7)
[21:38:08] [INFO] [DeathAnim] Started - Angle: -169.1 deg, Index: 0
[21:38:08] [ENEMY] [GuardEnemy2] Death animation started with hit direction: (-0.981857, -0.18962)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5565.678, 1097.492) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5538.952, 1115.024) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5584.79, 1141.969) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5564.212, 1107.577) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5602.051, 1146.708) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5633.107, 1182.28) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5603.932, 1125.662) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5633.692, 1209.905) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5564.67, 1150.567) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5606.25, 1187.773) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4884.542, 1007.963) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4871.761, 1004.516) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5645.649, 1117.839) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5571.604, 1144.406) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4827.964, 1008.444) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4855.783, 1031.846) (added to group)
[21:38:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5014.036, 1007.246), shooter_id=2325372473156, bullet_pos=(6095.258, 1074.7632)
[21:38:08] [INFO] [Bullet] Using shooter_position, distance=1083,3278
[21:38:08] [INFO] [Bullet] Distance to wall: 1083,3278 (73,76578% of viewport)
[21:38:08] [INFO] [Bullet] Distance-based penetration chance: 60,606598%
[21:38:08] [INFO] [Bullet] Starting wall penetration at (6095.258, 1074.7632)
[21:38:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,92277
[21:38:08] [INFO] [Bullet] Body exited signal received for penetrating body
[21:38:08] [INFO] [Bullet] Exiting penetration at (6141.8335, 1077.6716) after traveling 41,666668 pixels through wall
[21:38:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4858.167, 1008.289) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4803.478, 978.0835) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5657.674, 1166) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4845.983, 1052.126) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4799.143, 1044.496) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5669.618, 1201.446) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5658.616, 1196.672) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4788.814, 983.1494) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4844.819, 1046.922) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4865.941, 1014.49) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4820.542, 990.7598) (added to group)
[21:38:08] [ENEMY] [GuardEnemy2] Ragdoll activated
[21:38:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4773.09, 1059.77) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4788.027, 1000.737) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5674.695, 1161.937) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4816.793, 1074.56) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4793.136, 1075.941) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5688.043, 1274.754) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5640.132, 1260.285) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5690, 1300.819) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (5699.81, 1317.395) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4826.388, 992.6909) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4786.508, 1020.288) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4822.015, 1034.428) (added to group)
[21:38:08] [INFO] [BloodDecal] Blood puddle created at (4849.866, 1030.425) (added to group)
[21:38:08] [INFO] [ReplayManager] Recording frame 2340 (39,0s): player_valid=True, enemies=10
[21:38:08] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=11.4°, current=52.4°, player=(5492,1101), corner_timer=0.18
[21:38:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=154.3°, current=-120.9°, player=(5492,1101), corner_timer=0.18
[21:38:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=11.2°, current=34.1°, player=(5492,1101), corner_timer=0.18
[21:38:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=154.3°, current=-139.6°, player=(5492,1101), corner_timer=0.18
[21:38:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=11.3°, current=44.4°, player=(5492,1101), corner_timer=0.18
[21:38:09] [ENEMY] [GuardEnemy2] Death animation completed
[21:38:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=154.3°, current=175.8°, player=(5492,1101), corner_timer=0.18
[21:38:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=11.4°, current=-35.8°, player=(5492,1101), corner_timer=0.18
[21:38:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=154.3°, current=-178.2°, player=(5492,1101), corner_timer=0.18
[21:38:09] [INFO] [ReplayManager] Recording frame 2400 (40,0s): player_valid=True, enemies=10
[21:38:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=10.7°, current=-37.7°, player=(5492,1101), corner_timer=0.18
[21:38:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=154.3°, current=-157.9°, player=(5492,1101), corner_timer=0.18
[21:38:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=10.8°, current=-39.0°, player=(5492,1101), corner_timer=0.18
[21:38:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=154.3°, current=-157.8°, player=(5492,1101), corner_timer=0.18
[21:38:10] [INFO] [BloodyFeet:GuardEnemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:38:10] [ENEMY] [GuardEnemy3] Hit: dmg=10, hp=1/3->-9/3
[21:38:10] [INFO] [ImpactEffects] spawn_blood_effect called at (4892.745, 990.1086), dir=(-0.978253, -0.207416), lethal=true
[21:38:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:10] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:38:10] [INFO] [ImpactEffects] Blood effect spawned at (4892.745, 990.1086) (scale=0.75)
[21:38:10] [ENEMY] [GuardEnemy3] Enemy died (ricochet: false, penetration: false)
[21:38:10] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[21:38:10] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy3 (remaining: 6)
[21:38:10] [INFO] [DeathAnim] Started - Angle: -168.0 deg, Index: 0
[21:38:10] [ENEMY] [GuardEnemy3] Death animation started with hit direction: (-0.978253, -0.207416)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4840.953, 969.3702) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4848.701, 997.4095) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4834.866, 1003.576) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4829.748, 977.1582) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4811.642, 1016.866) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4778.489, 998.6934) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4811.122, 1030.752) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4781.338, 1041.741) (added to group)
[21:38:10] [ENEMY] [GuardEnemy3] Ragdoll activated
[21:38:10] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4734.349, 1018.796) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4751.145, 1049.409) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4765.067, 1103.482) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4719.444, 999.788) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4736.906, 983.2266) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4773.352, 1043.135) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4692.057, 1005.19) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4763.804, 1112.795) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4774.863, 1053.07) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4709.979, 1097.893) (added to group)
[21:38:10] [INFO] [ReplayManager] Recording frame 2460 (41,0s): player_valid=True, enemies=10
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4728.873, 1011.769) (added to group)
[21:38:10] [INFO] [BloodDecal] Blood puddle created at (4726.276, 1008.32) (added to group)
[21:38:11] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[21:38:11] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[21:38:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-15.9°, current=-99.9°, player=(5492,1055), corner_timer=0.23
[21:38:11] [ENEMY] [GuardEnemy3] Death animation completed
[21:38:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-17.6°, current=-65.5°, player=(5478,995), corner_timer=0.23
[21:38:11] [ENEMY] [PatrolEnemy1] State: PURSUING -> COMBAT
[21:38:11] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-18.6°, current=127.6°, player=(5452,967), corner_timer=0.23
[21:38:11] [INFO] [ReplayManager] Recording frame 2520 (42,0s): player_valid=True, enemies=10
[21:38:12] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[21:38:12] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-68.5°, current=-78.7°, player=(5387,807), corner_timer=0.00
[21:38:12] [ENEMY] [GuardEnemy4] State: IDLE -> COMBAT
[21:38:12] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-23.5°, current=26.1°, player=(5387,807), corner_timer=0.23
[21:38:12] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-68.7°, current=-141.6°, player=(5387,796), corner_timer=0.00
[21:38:12] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-69.3°, current=-116.5°, player=(5387,747), corner_timer=0.00
[21:38:12] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-25.7°, current=-16.9°, player=(5387,725), corner_timer=0.23
[21:38:12] [INFO] [ReplayManager] Recording frame 2580 (43,0s): player_valid=True, enemies=10
[21:38:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4855.766, 2150.042), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4862.802, 2129.903), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4869.749, 2109.732), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4876.619, 2089.535), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4883.431, 2069.318), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4905.655, 2027.986), shooter_id=2326077115678, bullet_pos=(5049.055, 1823.201)
[21:38:13] [INFO] [Bullet] Using shooter_position, distance=250.000701904297
[21:38:13] [INFO] [Bullet] Distance to wall: 250.000701904297 (17.0230075034181% of viewport)
[21:38:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:38:13] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4890.203, 2049.089), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4896.954, 2028.851), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4912.325, 2007.705), shooter_id=2326077115678, bullet_pos=(5200.995, 1651.702)
[21:38:13] [INFO] [Bullet] Using shooter_position, distance=458.331787109375
[21:38:13] [INFO] [Bullet] Distance to wall: 458.331787109375 (31.2086541821178% of viewport)
[21:38:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:38:13] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4903.7, 2008.613), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4925.728, 1967.186), shooter_id=2326077115678, bullet_pos=(5054.625, 1861.528)
[21:38:13] [INFO] [Bullet] Using shooter_position, distance=166.666595458984
[21:38:13] [INFO] [Bullet] Distance to wall: 166.666595458984 (11.3486349576472% of viewport)
[21:38:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:38:13] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4910.446, 1988.374), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4919.01, 1987.436), shooter_id=2326077115678, bullet_pos=(5300.661, 1664.414)
[21:38:13] [INFO] [Bullet] Using shooter_position, distance=499.999908447266
[21:38:13] [INFO] [Bullet] Distance to wall: 499.999908447266 (34.0459131849337% of viewport)
[21:38:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:38:13] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:13] [INFO] [LastChance] Threat detected: Bullet9mm
[21:38:13] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4917.192, 1968.135), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [LastChance] Threat detected: @Area2D@3977
[21:38:13] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:38:13] [INFO] [Player] Spawning blood effect at (5387.1577, 558.0531), dir=(1, 0), lethal=False (C#)
[21:38:13] [INFO] [ImpactEffects] spawn_blood_effect called at (5387.158, 558.0531), dir=(1, 0), lethal=false
[21:38:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:38:13] [INFO] [ImpactEffects] Blood effect spawned at (5387.158, 558.0531) (scale=1)
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4923.938, 1947.896), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4930.684, 1927.658), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4937.43, 1907.419), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4966.205, 1845.753), shooter_id=2326077115678, bullet_pos=(5066.918, 1771.715)
[21:38:13] [INFO] [Bullet] Using shooter_position, distance=124.999824523926
[21:38:13] [INFO] [Bullet] Distance to wall: 124.999824523926 (8.51146790624336% of viewport)
[21:38:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:38:13] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4944.176, 1887.18), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [ENEMY] [PatrolEnemy1] FLANKING started: target=(5387.224, 758.0531), side=left, pos=(3645.723, 1564.244)
[21:38:13] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[21:38:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4892.291, 2068.566), shooter_id=2326077115678, bullet_pos=(5585.871, 59.9427)
[21:38:13] [INFO] [Bullet] Using shooter_position, distance=2124.99877929688
[21:38:13] [INFO] [Bullet] Distance to wall: 2124.99877929688 (144.695074410522% of viewport)
[21:38:13] [INFO] [Bullet] Distance-based penetration chance: 21.0609851178955%
[21:38:13] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4950.922, 1866.941), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [ReplayManager] Recording frame 2640 (44,0s): player_valid=True, enemies=10
[21:38:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4898.983, 2048.275), shooter_id=2326077115678, bullet_pos=(5217.507, 31.60669)
[21:38:13] [INFO] [Bullet] Using shooter_position, distance=2041.66796875
[21:38:13] [INFO] [Bullet] Distance to wall: 2041.66796875 (139.020926288537% of viewport)
[21:38:13] [INFO] [Bullet] Distance-based penetration chance: 22.1958147422927%
[21:38:13] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:13] [INFO] [BloodDecal] Blood puddle created at (5456.601, 593.5909) (added to group)
[21:38:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4979.697, 1805.276), shooter_id=2326077115678, bullet_pos=(5054.866, 1769.302)
[21:38:13] [INFO] [Bullet] Using shooter_position, distance=83.3335037231445
[21:38:13] [INFO] [Bullet] Distance to wall: 83.3335037231445 (5.67433150531018% of viewport)
[21:38:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:38:13] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4957.668, 1846.703), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [BloodDecal] Blood puddle created at (5465.006, 577.2637) (added to group)
[21:38:13] [INFO] [LastChance] Threat detected: @Area2D@3992
[21:38:13] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:13] [INFO] [BloodDecal] Blood puddle created at (5441.015, 560.1671) (added to group)
[21:38:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4986.443, 1785.037), shooter_id=2326077115678, bullet_pos=(5066.505, 1761.918)
[21:38:13] [INFO] [Bullet] Using shooter_position, distance=83.3334579467773
[21:38:13] [INFO] [Bullet] Distance to wall: 83.3334579467773 (5.67432838831316% of viewport)
[21:38:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:38:13] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4964.415, 1826.464), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:13] [INFO] [BloodDecal] Blood puddle created at (5498.26, 540.7347) (added to group)
[21:38:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4971.161, 1806.225), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:14] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -86.0°
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4977.907, 1785.986), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:14] [INFO] [BloodDecal] Blood puddle created at (5572.212, 629.3132) (added to group)
[21:38:14] [INFO] [BloodDecal] Blood puddle created at (5530.203, 590.4957) (added to group)
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4984.653, 1765.747), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4932.474, 1946.947), shooter_id=2326077115678, bullet_pos=(5525.537, 36.90194)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=1999.99890136719
[21:38:14] [INFO] [Bullet] Distance to wall: 1999.99890136719 (136.183602867782% of viewport)
[21:38:14] [INFO] [Bullet] Distance-based penetration chance: 22.7632794264435%
[21:38:14] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:14] [INFO] [BloodDecal] Blood puddle created at (5545.655, 677.7284) (added to group)
[21:38:14] [INFO] [BloodDecal] Blood puddle created at (5474.174, 599.9837) (added to group)
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5013.427, 1704.082), shooter_id=2326077115678, bullet_pos=(5074.422, 1647.302)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=83.3329238891602
[21:38:14] [INFO] [Bullet] Distance to wall: 83.3329238891602 (5.67429202334796% of viewport)
[21:38:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:38:14] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4939.22, 1926.708), shooter_id=2326077115678, bullet_pos=(5282.266, 40.9895)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=1916.66796875
[21:38:14] [INFO] [Bullet] Distance to wall: 1916.66796875 (130.509446433805% of viewport)
[21:38:14] [INFO] [Bullet] Distance-based penetration chance: 23.8981107132391%
[21:38:14] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4991.399, 1745.509), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:14] [INFO] [BloodDecal] Blood puddle created at (5497.597, 681.5473) (added to group)
[21:38:14] [INFO] [BloodDecal] Blood puddle created at (5542.114, 722.0899) (added to group)
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5020.173, 1683.843), shooter_id=2326077115678, bullet_pos=(5054.637, 1660.427)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=41.6667556762695
[21:38:14] [INFO] [Bullet] Distance to wall: 41.6667556762695 (2.83716601240484% of viewport)
[21:38:14] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[21:38:14] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5020.173, 1683.843), shooter_id=2326077115678, bullet_pos=(5054.637, 1660.427)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=41.6667556762695
[21:38:14] [INFO] [Bullet] Distance to wall: 41.6667556762695 (2.83716601240484% of viewport)
[21:38:14] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[21:38:14] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4945.966, 1906.47), shooter_id=2326077115678, bullet_pos=(4615.585, 60.80632)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=1874.99987792969
[21:38:14] [INFO] [Bullet] Distance to wall: 1874.99987792969 (127.672189508987% of viewport)
[21:38:14] [INFO] [Bullet] Distance-based penetration chance: 24.4655620982026%
[21:38:14] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4998.145, 1725.27), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4972.951, 1825.515), shooter_id=2326077115678, bullet_pos=(4138.607, 785.4906)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=1333.33386230469
[21:38:14] [INFO] [Bullet] Distance to wall: 1333.33386230469 (90.7891544691061% of viewport)
[21:38:14] [INFO] [Bullet] Distance-based penetration chance: 40.7459864527096%
[21:38:14] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4952.712, 1886.231), shooter_id=2326077115678, bullet_pos=(4969.041, 52.96947)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=1833.33410644531
[21:38:14] [INFO] [Bullet] Distance to wall: 1833.33410644531 (124.835090512018% of viewport)
[21:38:14] [INFO] [Bullet] Distance-based penetration chance: 25.0329818975964%
[21:38:14] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5004.892, 1705.032), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4959.458, 1865.992), shooter_id=2326077115678, bullet_pos=(5033.451, 34.15258)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=1833.33312988281
[21:38:14] [INFO] [Bullet] Distance to wall: 1833.33312988281 (124.835024016082% of viewport)
[21:38:14] [INFO] [Bullet] Distance-based penetration chance: 25.0329951967837%
[21:38:14] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4999.935, 1744.559), shooter_id=2326077115678, bullet_pos=(4657.485, 939.356)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=874.999572753906
[21:38:14] [INFO] [Bullet] Distance to wall: 874.999572753906 (59.5803298911513% of viewport)
[21:38:14] [INFO] [Bullet] Distance-based penetration chance: 77.1562817936568%
[21:38:14] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4999.935, 1744.559), shooter_id=2326077115678, bullet_pos=(4657.485, 939.356)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=874.999572753906
[21:38:14] [INFO] [Bullet] Distance to wall: 874.999572753906 (59.5803298911513% of viewport)
[21:38:14] [INFO] [Bullet] Distance-based penetration chance: 77.1562817936568%
[21:38:14] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:14] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -101.7°
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5011.658, 1684.8), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5011.658, 1684.8), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5011.658, 1684.8), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5011.658, 1684.8), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5011.658, 1684.8), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5040.582, 1623.214), shooter_id=2326077115678, bullet_pos=(4935.419, 922.73)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=708.334045410156
[21:38:14] [INFO] [Bullet] Distance to wall: 708.334045410156 (48.2317676634345% of viewport)
[21:38:14] [INFO] [Bullet] Distance-based penetration chance: 90.3962710593264%
[21:38:14] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5026.919, 1663.604), shooter_id=2326077115678, bullet_pos=(4664.944, 686.8549)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=1041.66455078125
[21:38:14] [INFO] [Bullet] Distance to wall: 1041.66455078125 (70.9288547149039% of viewport)
[21:38:14] [INFO] [Bullet] Distance-based penetration chance: 63.9163361659454%
[21:38:14] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:14] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -101.7°
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5011.658, 1684.8), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5006.681, 1724.32), shooter_id=2326077115678, bullet_pos=(4609.293, 62.8495)
[21:38:14] [INFO] [Bullet] Using shooter_position, distance=1708.33337402344
[21:38:14] [INFO] [Bullet] Distance to wall: 1708.33337402344 (116.323560785334% of viewport)
[21:38:14] [INFO] [Bullet] Distance-based penetration chance: 26.7352878429333%
[21:38:14] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5011.658, 1684.8), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:14] [INFO] [ReplayManager] Recording frame 2700 (45,0s): player_valid=True, enemies=10
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5011.658, 1684.8), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:14] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-27.7°, current=-27.8°, player=(5387,713), corner_timer=0.15
[21:38:14] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[21:38:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5011.658, 1684.8), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5042.74, 1624.28), shooter_id=2326077115678, bullet_pos=(4887.814, 933.0969)
[21:38:15] [INFO] [Bullet] Using shooter_position, distance=708.333618164063
[21:38:15] [INFO] [Bullet] Distance to wall: 708.333618164063 (48.2317385714624% of viewport)
[21:38:15] [INFO] [Bullet] Distance-based penetration chance: 90.3963049999606%
[21:38:15] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5041.49, 1623.652), shooter_id=2326077115678, bullet_pos=(6095.274, 1032.381)
[21:38:15] [INFO] [Bullet] Using shooter_position, distance=1208.33117675781
[21:38:15] [INFO] [Bullet] Distance to wall: 1208.33117675781 (82.2774917505491% of viewport)
[21:38:15] [INFO] [Bullet] Distance-based penetration chance: 50.6762596243593%
[21:38:15] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5033.698, 1643.383), shooter_id=2326077115678, bullet_pos=(4075.229, 31.87522)
[21:38:15] [INFO] [Bullet] Using shooter_position, distance=1874.99865722656
[21:38:15] [INFO] [Bullet] Distance to wall: 1874.99865722656 (127.672106389066% of viewport)
[21:38:15] [INFO] [Bullet] Distance-based penetration chance: 24.4655787221867%
[21:38:15] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:15] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[21:38:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5040.795, 1623.313), shooter_id=2326077115678, bullet_pos=(5031.054, 40.00937)
[21:38:15] [INFO] [Bullet] Using shooter_position, distance=1583.33386230469
[21:38:15] [INFO] [Bullet] Distance to wall: 1583.33386230469 (107.81211417857% of viewport)
[21:38:15] [INFO] [Bullet] Distance-based penetration chance: 28.437577164286%
[21:38:15] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5041.103, 1623.464), shooter_id=2326077115678, bullet_pos=(5390.027, 36.36609)
[21:38:15] [INFO] [Bullet] Using shooter_position, distance=1625.00073242188
[21:38:15] [INFO] [Bullet] Distance to wall: 1625.00073242188 (110.649287983467% of viewport)
[21:38:15] [INFO] [Bullet] Distance-based penetration chance: 27.8701424033065%
[21:38:15] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:15] [ENEMY] [SniperEnemy1] Hit: dmg=1, hp=4/4->3/4
[21:38:15] [INFO] [ImpactEffects] spawn_blood_effect called at (5600, 400), dir=(0.409906, -0.912128), lethal=false
[21:38:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:38:15] [INFO] [ImpactEffects] Blood effect spawned at (5600, 400) (scale=0.5)
[21:38:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5042.309, 1624.06), shooter_id=2326077115678, bullet_pos=(6083.954, 544.7194)
[21:38:15] [INFO] [Bullet] Using shooter_position, distance=1500
[21:38:15] [INFO] [Bullet] Distance to wall: 1500 (102.137758256783% of viewport)
[21:38:15] [INFO] [Bullet] Distance-based penetration chance: 29.5724483486434%
[21:38:15] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5043.187, 1624.512), shooter_id=2326077115678, bullet_pos=(6073.851, 917.2459)
[21:38:15] [INFO] [Bullet] Using shooter_position, distance=1249.99780273438
[21:38:15] [INFO] [Bullet] Distance to wall: 1249.99780273438 (85.1146489314624% of viewport)
[21:38:15] [INFO] [Bullet] Distance-based penetration chance: 47.3662429132938%
[21:38:15] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4045.464, 1430.661), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:38:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:15] [INFO] [BloodDecal] Blood puddle created at (5622.84, 369.4173) (added to group)
[21:38:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4080.233, 1417.067), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:38:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:15] [INFO] [BloodDecal] Blood puddle created at (5668.004, 351.7131) (added to group)
[21:38:15] [INFO] [BloodDecal] Blood puddle created at (5602.714, 313.9717) (added to group)
[21:38:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5043.649, 1624.757), shooter_id=2326077115678, bullet_pos=(4513.825, 44.54728)
[21:38:15] [INFO] [Bullet] Using shooter_position, distance=1666.66662597656
[21:38:15] [INFO] [Bullet] Distance to wall: 1666.66662597656 (113.486395292428% of viewport)
[21:38:15] [INFO] [Bullet] Distance-based penetration chance: 27.3027209415143%
[21:38:15] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:15] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:15] [INFO] [BloodDecal] Blood puddle created at (5687.467, 353.7285) (added to group)
[21:38:15] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:15] [INFO] [BloodDecal] Blood puddle created at (5654.727, 298.0107) (added to group)
[21:38:15] [INFO] [BloodDecal] Blood puddle created at (5672.171, 311.2796) (added to group)
[21:38:15] [INFO] [BloodDecal] Blood puddle created at (5678.017, 364.535) (added to group)
[21:38:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4120.365, 1402.58), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:38:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:15] [INFO] [BloodDecal] Blood puddle created at (5622.925, 328.1696) (added to group)
[21:38:15] [INFO] [ReplayManager] Recording frame 2760 (46,0s): player_valid=True, enemies=10
[21:38:15] [INFO] [BloodDecal] Blood puddle created at (5708.59, 388.9327) (added to group)
[21:38:15] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:15] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:15] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:15] [INFO] [BloodDecal] Blood puddle created at (5670.295, 393.4616) (added to group)
[21:38:15] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:15] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=-101.7°, current=-14.7°, player=(5387,1076), corner_timer=0.13
[21:38:15] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:15] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:15] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-14.0°, current=-20.4°, player=(5387,1087), corner_timer=0.13
[21:38:15] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-17.5°, player=(5387,1092), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:16] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4111.0474, 1412.6138), shooter_id=2326429437193, bullet_pos=(6086.326, 629.0989)
[21:38:16] [INFO] [Bullet] Using shooter_position, distance=2124,9993
[21:38:16] [INFO] [Bullet] Distance to wall: 2124,9993 (144,69511% of viewport)
[21:38:16] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-9.9°, current=-63.4°, player=(5387,1180), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-60.5°, player=(5387,1186), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:16] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:16] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-9.0°, current=-69.1°, player=(5387,1202), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4146.251, 1400.6853), shooter_id=2326429437193, bullet_pos=(6091.9053, 655.9267)
[21:38:16] [INFO] [Bullet] Using shooter_position, distance=2083,3232
[21:38:16] [INFO] [Bullet] Distance to wall: 2083,3232 (141,85732% of viewport)
[21:38:16] [INFO] [Bullet] Distance-based penetration chance: 21,628538%
[21:38:16] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-66.2°, player=(5387,1208), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:16] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:16] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-8.0°, current=-74.8°, player=(5387,1224), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-72.0°, player=(5387,1230), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:16] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:16] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-7.0°, current=-80.6°, player=(5387,1246), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-77.7°, player=(5387,1252), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:16] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:16] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-6.0°, current=-86.3°, player=(5387,1268), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4186.868, 1389.04), shooter_id=2326429437193, bullet_pos=(6093.6157, 450.96436)
[21:38:16] [INFO] [Bullet] Using shooter_position, distance=2125,011
[21:38:16] [INFO] [Bullet] Distance to wall: 2125,011 (144,6959% of viewport)
[21:38:16] [INFO] [Bullet] Distance-based penetration chance: 21,060818%
[21:38:16] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-83.4°, player=(5387,1274), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:16] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:16] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-5.0°, current=-92.0°, player=(5387,1290), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-89.2°, player=(5387,1296), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:16] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:16] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-4.0°, current=-97.8°, player=(5387,1312), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-94.9°, player=(5387,1318), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:16] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:16] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-3.1°, current=-101.7°, player=(5387,1334), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1340), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:16] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:16] [INFO] [ReplayManager] Recording frame 2820 (47,0s): player_valid=True, enemies=10
[21:38:16] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-2.1°, current=-101.7°, player=(5387,1356), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1362), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:16] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-40.2°, current=-40.2°, player=(5387,1367), corner_timer=0.00
[21:38:16] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[21:38:16] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:16] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-1.1°, current=-101.7°, player=(5387,1378), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1384), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:16] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:16] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-0.1°, current=-101.7°, player=(5387,1400), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1406), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:16] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:16] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=0.9°, current=-101.7°, player=(5387,1422), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:16] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1428), corner_timer=0.13
[21:38:16] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=1.9°, current=-101.7°, player=(5387,1444), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1450), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=2.8°, current=-101.7°, player=(5387,1464), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1468), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=3.4°, current=-101.7°, player=(5387,1478), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1481), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=3.9°, current=-101.7°, player=(5387,1489), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1491), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=4.2°, current=-101.7°, player=(5387,1495), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1495), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=4.2°, current=-101.7°, player=(5387,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=4.2°, current=-101.7°, player=(5387,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=4.2°, current=-101.7°, player=(5387,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=4.2°, current=-101.7°, player=(5387,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5387,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=4.2°, current=-101.7°, player=(5386,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5385,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=4.3°, current=-101.7°, player=(5380,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5377,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [INFO] [ReplayManager] Recording frame 2880 (48,0s): player_valid=True, enemies=10
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=4.3°, current=-101.7°, player=(5368,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5365,1496), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=4.3°, current=-101.7°, player=(5354,1494), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5350,1493), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=4.0°, current=-101.7°, player=(5338,1487), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5335,1484), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:17] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:17] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:17] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-94.9°, current=-94.8°, player=(5323,1474), corner_timer=0.00
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=3.4°, current=-101.7°, player=(5323,1474), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:17] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5319,1470), corner_timer=0.13
[21:38:17] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:18] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:18] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:18] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=2.7°, current=-101.7°, player=(5308,1459), corner_timer=0.13
[21:38:18] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:18] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5304,1455), corner_timer=0.13
[21:38:18] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:18] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:18] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:18] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-40.7°, current=-39.8°, player=(5292,1443), corner_timer=0.00
[21:38:18] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[21:38:18] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=2.0°, current=-101.7°, player=(5292,1443), corner_timer=0.13
[21:38:18] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:18] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5288,1439), corner_timer=0.13
[21:38:18] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:18] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:18] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:18] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=1.3°, current=-101.7°, player=(5276,1427), corner_timer=0.13
[21:38:18] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:18] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-101.7°, current=-98.8°, player=(5273,1424), corner_timer=0.13
[21:38:18] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[21:38:18] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:18] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[21:38:18] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=0.5°, current=-101.7°, player=(5261,1412), corner_timer=0.13
[21:38:18] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-1.3°, current=-49.4°, player=(5203,1378), corner_timer=0.13
[21:38:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5066.541, 1586.919), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:18] [INFO] [LastChance] Threat detected: Bullet9mm
[21:38:18] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5066.541, 1586.919), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:18] [INFO] [LastChance] Threat detected: @Area2D@4118
[21:38:18] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4280.331, 1399.728), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:38:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:18] [INFO] [ReplayManager] Recording frame 2940 (49,0s): player_valid=True, enemies=10
[21:38:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5066.541, 1586.919), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:18] [INFO] [LastChance] Threat detected: @Area2D@4121
[21:38:18] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5066.541, 1586.919), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4317.652, 1398.762), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:38:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5066.541, 1586.919), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5066.541, 1586.919), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:18] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[21:38:18] [INFO] [LastChance] Threat detected: @Area2D@4129
[21:38:18] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4354.973, 1397.788), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:38:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:19] [INFO] [LastChance] Threat detected: Bullet
[21:38:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5066.541, 1586.919), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:38:19] [INFO] [Player] Spawning blood effect at (5108.334, 1378.1046), dir=(1, 0), lethal=False (C#)
[21:38:19] [INFO] [ImpactEffects] spawn_blood_effect called at (5108.334, 1378.105), dir=(1, 0), lethal=false
[21:38:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:38:19] [INFO] [ImpactEffects] Blood effect spawned at (5108.334, 1378.105) (scale=1)
[21:38:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5066.541, 1586.919), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4377.873, 1385.195), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:38:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:19] [INFO] [LastChance] Threat detected: @Area2D@4125
[21:38:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:38:19] [INFO] [Player] Spawning blood effect at (5108.334, 1378.1046), dir=(1, 0), lethal=False (C#)
[21:38:19] [INFO] [ImpactEffects] spawn_blood_effect called at (5108.334, 1378.105), dir=(1, 0), lethal=false
[21:38:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:38:19] [INFO] [ImpactEffects] Blood effect spawned at (5108.334, 1378.105) (scale=1)
[21:38:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5066.541, 1586.919), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4400.773, 1372.602), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:38:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5066.541, 1586.919), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5098.902, 1526.88), shooter_id=2326077115678, bullet_pos=(5644.447, 40.49829)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=1583.33520507813
[21:38:19] [INFO] [Bullet] Distance to wall: 1583.33520507813 (107.812205610482% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 28.4375588779035%
[21:38:19] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5066.541, 1586.919), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:19] [INFO] [LastChance] Threat detected: Bullet9mm
[21:38:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4423.673, 1360.009), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[21:38:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5180.634, 1395.027) (added to group)
[21:38:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5066.541, 1586.919), source=ENEMY (GuardEnemy4), range=1200, listeners=6
[21:38:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5087.456, 1522.165), shooter_id=2326077115678, bullet_pos=(4952.788, 699.7843)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=833.333618164063
[21:38:19] [INFO] [Bullet] Distance to wall: 833.333618164063 (56.7432184261943% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 80.46624516944%
[21:38:19] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5094.483, 1524.732), shooter_id=2326077115678, bullet_pos=(5883.8, 56.81821)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=1666.67053222656
[21:38:19] [INFO] [Bullet] Distance to wall: 1666.67053222656 (113.486661276174% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 27.3026677447652%
[21:38:19] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5195.889, 1388.905) (added to group)
[21:38:19] [ENEMY] [GuardEnemy4] Hit: dmg=10, hp=2/2->-8/2
[21:38:19] [INFO] [ImpactEffects] spawn_blood_effect called at (5066.541, 1586.919), dir=(-0.149761, 0.988722), lethal=true
[21:38:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:19] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:38:19] [INFO] [ImpactEffects] Wall found for blood splatter at (5056.994, 1649.95) (dist=63 px)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5056.994, 1648.95) (added to group)
[21:38:19] [INFO] [ImpactEffects] Blood effect spawned at (5066.541, 1586.919) (scale=0.75)
[21:38:19] [ENEMY] [GuardEnemy4] Enemy died (ricochet: false, penetration: false)
[21:38:19] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[21:38:19] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy4 (remaining: 5)
[21:38:19] [INFO] [DeathAnim] Started - Angle: 98.6 deg, Index: 18
[21:38:19] [ENEMY] [GuardEnemy4] Death animation started with hit direction: (-0.149761, 0.988722)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5195.795, 1419.149) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5202.129, 1373.945) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5182.089, 1403.359) (added to group)
[21:38:19] [INFO] [LastChance] Threat detected: @Area2D@4140
[21:38:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:38:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:38:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4446.572, 1347.416), source=ENEMY (PatrolEnemy1), range=1469, listeners=5
[21:38:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5178.836, 1361.701) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5208.774, 1381.145) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5221.324, 1470.595) (added to group)
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5087.526, 1522.168), shooter_id=2326077115678, bullet_pos=(4866.27, 38.57499)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=1500.00134277344
[21:38:19] [INFO] [Bullet] Distance to wall: 1500.00134277344 (102.137849688696% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 29.5724300622609%
[21:38:19] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5088.62, 1522.492), shooter_id=2326077115678, bullet_pos=(6068.812, 72.76242)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=1749.99755859375
[21:38:19] [INFO] [Bullet] Distance to wall: 1749.99755859375 (119.160551726406% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 26.1678896547188%
[21:38:19] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5182.293, 1439.992) (added to group)
[21:38:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4469.47, 1334.82), source=ENEMY (PatrolEnemy1), range=1469, listeners=5
[21:38:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5087.456, 1522.165), shooter_id=2326077115678, bullet_pos=(5430.247, 61.85894)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=1499.99963378906
[21:38:19] [INFO] [Bullet] Distance to wall: 1499.99963378906 (102.137733320807% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 29.5724533358386%
[21:38:19] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5190.792, 1436.636) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5216.147, 1436.875) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5243.021, 1417.321) (added to group)
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5087.456, 1522.165), shooter_id=2326077115678, bullet_pos=(6067.594, 815.4879)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=1208.33020019531
[21:38:19] [INFO] [Bullet] Distance to wall: 1208.33020019531 (82.2774252546128% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 50.6763372029518%
[21:38:19] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5282.818, 1485.231) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5195.784, 1418.184) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5264.06, 1409.994) (added to group)
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4422.7534, 1403.8193), shooter_id=2326429437193, bullet_pos=(6087.519, 1483.331)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=1666,6633
[21:38:19] [INFO] [Bullet] Distance to wall: 1666,6633 (113,48617% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 27,302765%
[21:38:19] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4492.371, 1322.228), source=ENEMY (PatrolEnemy1), range=1469, listeners=5
[21:38:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5041.197, 1652.282) (added to group)
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5087.456, 1522.165), shooter_id=2326077115678, bullet_pos=(6065.995, 967.1123)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=1124.99853515625
[21:38:19] [INFO] [Bullet] Distance to wall: 1124.99853515625 (76.6032189486828% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 57.2962445598701%
[21:38:19] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5046.583, 1650.693) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5036.904, 1652.097) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5317.469, 1409.67) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5254.394, 1393.499) (added to group)
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5087.456, 1522.165), shooter_id=2326077115678, bullet_pos=(4654.802, 667.0571)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=958.330993652344
[21:38:19] [INFO] [Bullet] Distance to wall: 958.330993652344 (65.2545195730972% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 70.5363938313866%
[21:38:19] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5087.456, 1522.165), shooter_id=2326077115678, bullet_pos=(4654.802, 667.0571)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=958.330993652344
[21:38:19] [INFO] [Bullet] Distance to wall: 958.330993652344 (65.2545195730972% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 70.5363938313866%
[21:38:19] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4445.527, 1392.3384), shooter_id=2326429437193, bullet_pos=(6062.656, 1232.506)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=1625,0084
[21:38:19] [INFO] [Bullet] Distance to wall: 1625,0084 (110,64981% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 27,870039%
[21:38:19] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:19] [INFO] [ReplayManager] Recording frame 3000 (50,0s): player_valid=True, enemies=10
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5021.41, 1735.038) (added to group)
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5087.456, 1522.165), shooter_id=2326077115678, bullet_pos=(4634.188, 48.63847)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=1541.66516113281
[21:38:19] [INFO] [Bullet] Distance to wall: 1541.66516113281 (104.974815693792% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 29.0050368612416%
[21:38:19] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:19] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-101.7°, current=6.4°, player=(5108,1378), corner_timer=0.13
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5027.367, 1698.569) (added to group)
[21:38:19] [ENEMY] [GuardEnemy4] Ragdoll activated
[21:38:19] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5339.106, 1490.15) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5313.973, 1600.14) (added to group)
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (5320.418, 1457.91) (added to group)
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4468.291, 1380.9271), shooter_id=2326429437193, bullet_pos=(6092.047, 1444.5211)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=1625,0007
[21:38:19] [INFO] [Bullet] Distance to wall: 1625,0007 (110,649284% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 27,870142%
[21:38:19] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:19] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[21:38:19] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[21:38:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5087.456, 1522.165), shooter_id=2326077115678, bullet_pos=(5321.931, 40.60422)
[21:38:19] [INFO] [Bullet] Using shooter_position, distance=1499.99987792969
[21:38:19] [INFO] [Bullet] Distance to wall: 1499.99987792969 (102.137749944791% of viewport)
[21:38:19] [INFO] [Bullet] Distance-based penetration chance: 29.5724500110418%
[21:38:19] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:19] [INFO] [BloodDecal] Blood puddle created at (4982.285, 1783.814) (added to group)
[21:38:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4491.022, 1369.5916), shooter_id=2326429437193, bullet_pos=(6072.5864, 1294.9321)
[21:38:20] [INFO] [Bullet] Using shooter_position, distance=1583,3256
[21:38:20] [INFO] [Bullet] Distance to wall: 1583,3256 (107,81155% of viewport)
[21:38:20] [INFO] [Bullet] Distance-based penetration chance: 28,437693%
[21:38:20] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:20] [INFO] [BloodDecal] Blood puddle created at (5004.113, 1794.185) (added to group)
[21:38:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4513.7153, 1358.3375), shooter_id=2326429437193, bullet_pos=(6089.6763, 1205.7855)
[21:38:20] [INFO] [Bullet] Using shooter_position, distance=1583,3271
[21:38:20] [INFO] [Bullet] Distance to wall: 1583,3271 (107,81167% of viewport)
[21:38:20] [INFO] [Bullet] Distance-based penetration chance: 28,437668%
[21:38:20] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4536.364, 1347.1696), shooter_id=2326429437193, bullet_pos=(6076.6333, 1281.3943)
[21:38:20] [INFO] [Bullet] Using shooter_position, distance=1541,6733
[21:38:20] [INFO] [Bullet] Distance to wall: 1541,6733 (104,97538% of viewport)
[21:38:20] [INFO] [Bullet] Distance-based penetration chance: 29,004925%
[21:38:20] [INFO] [Bullet] Starting wall penetration at (6076.6333, 1281.3943)
[21:38:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,282658
[21:38:20] [INFO] [Bullet] Body exited signal received for penetrating body
[21:38:20] [INFO] [Bullet] Exiting penetration at (6123.258, 1279.4032) after traveling 41,66667 pixels through wall
[21:38:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:38:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4558.9634, 1336.1006), shooter_id=2326429437193, bullet_pos=(6075.7104, 1612.1824)
[21:38:20] [INFO] [Bullet] Using shooter_position, distance=1541,669
[21:38:20] [INFO] [Bullet] Distance to wall: 1541,669 (104,97508% of viewport)
[21:38:20] [INFO] [Bullet] Distance-based penetration chance: 29,004986%
[21:38:20] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:20] [INFO] [ReplayManager] Recording frame 3060 (51,0s): player_valid=True, enemies=10
[21:38:20] [ENEMY] [GuardEnemy4] Death animation completed
[21:38:21] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[21:38:21] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-101.2°, current=-101.1°, player=(4971,1512), corner_timer=0.00
[21:38:21] [INFO] [ReplayManager] Recording frame 3120 (52,0s): player_valid=True, enemies=10
[21:38:21] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-103.6°, current=-103.6°, player=(4853,1627), corner_timer=0.00
[21:38:22] [INFO] [ReplayManager] Recording frame 3180 (53,0s): player_valid=True, enemies=10
[21:38:23] [ENEMY] [PatrolEnemy1] Hit: dmg=10, hp=2/2->-8/2
[21:38:23] [INFO] [ImpactEffects] spawn_blood_effect called at (4521.128, 1288.189), dir=(-0.681538, -0.731783), lethal=true
[21:38:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:23] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:38:23] [INFO] [ImpactEffects] Blood effect spawned at (4521.128, 1288.189) (scale=0.75)
[21:38:23] [ENEMY] [PatrolEnemy1] Enemy died (ricochet: false, penetration: false)
[21:38:23] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[21:38:23] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy1 (remaining: 4)
[21:38:23] [INFO] [DeathAnim] Started - Angle: -133.0 deg, Index: 3
[21:38:23] [ENEMY] [PatrolEnemy1] Death animation started with hit direction: (-0.681538, -0.731783)
[21:38:23] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-103.6°, current=-103.6°, player=(4862,1642), corner_timer=0.00
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4487.749, 1266.408) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4471.049, 1233.277) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4446.458, 1278.355) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4434.674, 1272.133) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4489.721, 1210.553) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4488.959, 1256.56) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4443.393, 1269.536) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4461.376, 1299.894) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4468.71, 1209.423) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4465.166, 1272.334) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4455.659, 1249.353) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4383.716, 1278.068) (added to group)
[21:38:23] [ENEMY] [PatrolEnemy1] Ragdoll activated
[21:38:23] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4473.27, 1195.972) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4385.384, 1261.092) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4445.744, 1263.66) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4421.515, 1228.781) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4429.363, 1183.216) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4355.48, 1230.247) (added to group)
[21:38:23] [INFO] [ReplayManager] Recording frame 3240 (54,0s): player_valid=True, enemies=10
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4490.277, 1290.494) (added to group)
[21:38:23] [INFO] [BloodDecal] Blood puddle created at (4429.079, 1230.06) (added to group)
[21:38:23] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-101.0°, current=-101.1°, player=(4983,1542), corner_timer=0.00
[21:38:24] [ENEMY] [PatrolEnemy1] Death animation completed
[21:38:24] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:38:24] [INFO] [ReplayManager] Recording frame 3300 (55,0s): player_valid=True, enemies=10
[21:38:25] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-94.8°, current=-94.9°, player=(5306,1219), corner_timer=0.00
[21:38:25] [INFO] [ReplayManager] Recording frame 3360 (56,0s): player_valid=True, enemies=10
[21:38:25] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[21:38:26] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:38:26] [INFO] [ReplayManager] Recording frame 3420 (57,0s): player_valid=True, enemies=10
[21:38:27] [INFO] [ReplayManager] Recording frame 3480 (58,0s): player_valid=True, enemies=10
[21:38:28] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[21:38:28] [INFO] [ReplayManager] Recording frame 3540 (59,0s): player_valid=True, enemies=10
[21:38:29] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[21:38:29] [INFO] [ReplayManager] Recording frame 3600 (60,0s): player_valid=True, enemies=10
[21:38:30] [INFO] [ReplayManager] Recording frame 3660 (61,0s): player_valid=True, enemies=10
[21:38:31] [INFO] [ReplayManager] Recording frame 3720 (62,0s): player_valid=True, enemies=10
[21:38:31] [ENEMY] [SniperEnemy1] Hit: dmg=10, hp=3/4->-7/4
[21:38:31] [INFO] [ImpactEffects] spawn_blood_effect called at (5600, 400), dir=(0.976066, -0.217473), lethal=true
[21:38:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:38:31] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:38:31] [INFO] [ImpactEffects] Blood effect spawned at (5600, 400) (scale=0.75)
[21:38:31] [ENEMY] [SniperEnemy1] Enemy died (ricochet: false, penetration: false)
[21:38:31] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[21:38:31] [INFO] [SoundPropagation] Unregistered listener: SniperEnemy1 (remaining: 3)
[21:38:31] [INFO] [DeathAnim] Started - Angle: -12.6 deg, Index: 11
[21:38:31] [ENEMY] [SniperEnemy1] Death animation started with hit direction: (0.976066, -0.217473)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5644.8, 428.3933) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5665.804, 394.3008) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5676.906, 375.9642) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5667.63, 408.4973) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5672.431, 439.2839) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5712.602, 434.519) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5673.623, 431.5249) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5684.916, 436.6865) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5698.108, 457.9749) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5696.732, 434.1689) (added to group)
[21:38:32] [ENEMY] [SniperEnemy1] Ragdoll activated
[21:38:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5680.784, 447.9644) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5746.379, 487.0517) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5747.758, 497.3188) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5752.028, 465.8976) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5686.152, 430.1958) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5777.392, 524.7108) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5794.561, 481.6272) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5700.989, 479.0505) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5839.422, 497.6403) (added to group)
[21:38:32] [INFO] [BloodDecal] Blood puddle created at (5765.357, 487.5946) (added to group)
[21:38:32] [INFO] [ReplayManager] Recording frame 3780 (63,0s): player_valid=True, enemies=10
[21:38:33] [ENEMY] [SniperEnemy1] Death animation completed
[21:38:33] [INFO] [ReplayManager] Recording frame 3840 (64,0s): player_valid=True, enemies=10
[21:38:33] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[21:38:33] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[21:38:33] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[21:38:33] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[21:38:33] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[21:38:33] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(5338.609, 614.3882), source=PLAYER (Player), range=900, listeners=3
[21:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[21:38:33] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=4094), can_see=true
[21:38:33] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) - pursuing to attack (dist=4094)
[21:38:33] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=5326), can_see=false
[21:38:33] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=4076), can_see=false
[21:38:34] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[21:38:34] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=4088), can_see=true
[21:38:34] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=5323), can_see=false
[21:38:34] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=4071), can_see=false
[21:38:34] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[21:38:34] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[21:38:34] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[21:38:34] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[21:38:34] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[21:38:34] [INFO] [ReplayManager] Recording frame 3900 (65,0s): player_valid=True, enemies=10
[21:38:34] [INFO] [Player.Reload.Anim] LeftArm: pos=(15.493118, 5.99997), target=(16, 6), base=(16, 6)
[21:38:34] [INFO] [Player.Reload.Anim] RightArm: pos=(4.000001, 6.0844555), target=(4, 6), base=(4, 6)
[21:38:34] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[21:38:35] [INFO] [ReplayManager] Recording frame 3960 (66,0s): player_valid=True, enemies=10
[21:38:36] [INFO] [ReplayManager] Recording frame 4020 (67,0s): player_valid=True, enemies=10
[21:38:36] [INFO] [ScoreManager] Combo ended at 1. Max combo: 2
[21:38:37] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:38:37] [INFO] [ReplayManager] Recording frame 4080 (68,0s): player_valid=True, enemies=10
[21:38:38] [INFO] [ReplayManager] Recording frame 4140 (69,0s): player_valid=True, enemies=10
[21:38:39] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[21:38:39] [INFO] [ReplayManager] Recording frame 4200 (70,0s): player_valid=True, enemies=10
[21:38:40] [INFO] [ReplayManager] Recording frame 4260 (71,0s): player_valid=True, enemies=10
[21:38:41] [INFO] [Player.Debug] Debug mode toggled: OFF
[21:38:41] [INFO] [ExperimentalSettings] Debug mode disabled
[21:38:41] [INFO] [GameManager] Debug mode toggled: OFF
[21:38:41] [INFO] [ReplayManager] Recording frame 4320 (72,0s): player_valid=True, enemies=10
[21:38:42] [INFO] [Player.Debug] Debug mode toggled: ON
[21:38:42] [INFO] [ExperimentalSettings] Debug mode enabled
[21:38:42] [INFO] [GameManager] Debug mode toggled: ON
[21:38:42] [INFO] [ReplayManager] Recording frame 4380 (73,0s): player_valid=True, enemies=10
[21:38:43] [INFO] [ReplayManager] Recording frame 4440 (74,0s): player_valid=True, enemies=10
[21:38:44] [INFO] [ReplayManager] Recording frame 4500 (75,0s): player_valid=True, enemies=10
[21:38:45] [INFO] [ReplayManager] Recording frame 4560 (76,0s): player_valid=True, enemies=10
[21:38:46] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-104.0°, current=-103.8°, player=(5287,3450), corner_timer=0.00
[21:38:46] [INFO] [ReplayManager] Recording frame 4620 (77,0s): player_valid=True, enemies=10
[21:38:47] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-103.9°, current=-104.2°, player=(5321,3577), corner_timer=0.00
[21:38:47] [INFO] [ReplayManager] Recording frame 4680 (78,0s): player_valid=True, enemies=10
[21:38:48] [INFO] [ReplayManager] Recording frame 4740 (79,0s): player_valid=True, enemies=10
[21:38:49] [INFO] [ReplayManager] Recording frame 4800 (80,0s): player_valid=True, enemies=10
[21:38:50] [INFO] [ReplayManager] Recording frame 4860 (81,0s): player_valid=True, enemies=10
[21:38:51] [INFO] [ReplayManager] Recording frame 4920 (82,0s): player_valid=True, enemies=10
[21:38:52] [INFO] [ReplayManager] Recording frame 4980 (83,0s): player_valid=True, enemies=10
[21:38:53] [INFO] [ReplayManager] Recording frame 5040 (84,0s): player_valid=True, enemies=10
[21:38:54] [INFO] [ReplayManager] Recording frame 5100 (85,0s): player_valid=True, enemies=10
[21:38:55] [INFO] [ReplayManager] Recording frame 5160 (86,0s): player_valid=True, enemies=10
[21:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5726.438, 4738.926), shooter_id=2327889056990, bullet_pos=(4951.796, 4702.289)
[21:38:56] [INFO] [Bullet] Using shooter_position, distance=775.507507324219
[21:38:56] [INFO] [Bullet] Distance to wall: 775.507507324219 (52.8057322062677% of viewport)
[21:38:56] [INFO] [Bullet] Distance-based penetration chance: 85.0599790926877%
[21:38:56] [INFO] [Bullet] Caliber cannot penetrate walls
[21:38:56] [INFO] [ReplayManager] Recording frame 5220 (87,0s): player_valid=True, enemies=10
[21:38:57] [INFO] [ReplayManager] Recording frame 5280 (88,0s): player_valid=True, enemies=10
[21:38:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(5726.438, 4738.926), shooter_id=2327889056990, bullet_pos=(4353.783, 3945.419)
[21:38:58] [INFO] [Bullet] Using shooter_position, distance=1585.5078125
[21:38:58] [INFO] [Bullet] Distance to wall: 1585.5078125 (107.960142444911% of viewport)
[21:38:58] [INFO] [Bullet] Distance-based penetration chance: 28.4079715110179%
[21:38:58] [INFO] [Bullet] Penetration failed (distance roll)
[21:38:58] [INFO] [ReplayManager] Recording frame 5340 (89,0s): player_valid=True, enemies=10
[21:38:59] [INFO] [ReplayManager] Recording frame 5400 (90,0s): player_valid=True, enemies=10
[21:39:00] [INFO] [ReplayManager] Recording frame 5460 (91,0s): player_valid=True, enemies=10
[21:39:01] [INFO] [ReplayManager] Recording frame 5520 (92,0s): player_valid=True, enemies=10
[21:39:02] [INFO] [ReplayManager] Recording frame 5580 (93,0s): player_valid=True, enemies=10
[21:39:03] [INFO] [ReplayManager] Recording frame 5640 (94,0s): player_valid=True, enemies=10
[21:39:04] [INFO] [ReplayManager] Recording frame 5700 (95,0s): player_valid=True, enemies=10
[21:39:05] [INFO] [ReplayManager] Recording frame 5760 (96,0s): player_valid=True, enemies=10
[21:39:06] [INFO] [ReplayManager] Recording frame 5820 (97,0s): player_valid=True, enemies=10
[21:39:07] [INFO] [ReplayManager] Recording frame 5880 (98,0s): player_valid=True, enemies=10
[21:39:08] [INFO] [ReplayManager] Recording frame 5940 (99,0s): player_valid=True, enemies=10
[21:39:09] [INFO] [ReplayManager] Recording frame 6000 (100,0s): player_valid=True, enemies=10
[21:39:10] [INFO] [ReplayManager] Recording frame 6060 (101,0s): player_valid=True, enemies=10
[21:39:11] [INFO] [ReplayManager] Recording frame 6120 (102,0s): player_valid=True, enemies=10
[21:39:12] [INFO] [ReplayManager] Recording frame 6180 (103,0s): player_valid=True, enemies=10
[21:39:13] [INFO] [ReplayManager] Recording frame 6240 (104,0s): player_valid=True, enemies=10
[21:39:14] [INFO] [ReplayManager] Recording frame 6300 (105,0s): player_valid=True, enemies=10
[21:39:15] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-160.1°, current=-159.8°, player=(4865,4433), corner_timer=0.00
[21:39:15] [INFO] [ReplayManager] Recording frame 6360 (106,0s): player_valid=True, enemies=10
[21:39:15] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-159.9°, current=-160.0°, player=(4872,4433), corner_timer=0.00
[21:39:16] [INFO] [ReplayManager] Recording frame 6420 (107,0s): player_valid=True, enemies=10
[21:39:17] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-159.9°, current=-159.7°, player=(4840,4421), corner_timer=0.00
[21:39:17] [INFO] [ReplayManager] Recording frame 6480 (108,0s): player_valid=True, enemies=10
[21:39:18] [INFO] [ReplayManager] Recording frame 6540 (109,0s): player_valid=True, enemies=10
[21:39:19] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=176.2°, current=176.4°, player=(4613,4766), corner_timer=0.00
[21:39:19] [INFO] [ReplayManager] Recording frame 6600 (110,0s): player_valid=True, enemies=10
[21:39:20] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=176.5°, current=176.3°, player=(4805,4749), corner_timer=0.00
[21:39:20] [INFO] [ReplayManager] Recording frame 6660 (111,0s): player_valid=True, enemies=10
[21:39:21] [INFO] [ReplayManager] Recording frame 6720 (112,0s): player_valid=True, enemies=10
[21:39:22] [INFO] [ReplayManager] Recording frame 6780 (113,0s): player_valid=True, enemies=10
[21:39:23] [INFO] [ReplayManager] Recording frame 6840 (114,0s): player_valid=True, enemies=10
[21:39:24] [INFO] [ReplayManager] Recording frame 6900 (115,0s): player_valid=True, enemies=10
[21:39:25] [INFO] [ReplayManager] Recording frame 6960 (116,0s): player_valid=True, enemies=10
[21:39:26] [INFO] [ReplayManager] Recording frame 7020 (117,0s): player_valid=True, enemies=10
[21:39:27] [INFO] [ReplayManager] Recording frame 7080 (118,0s): player_valid=True, enemies=10
[21:39:28] [INFO] [ReplayManager] Recording frame 7140 (119,0s): player_valid=True, enemies=10
[21:39:29] [INFO] [ReplayManager] Recording frame 7200 (120,0s): player_valid=True, enemies=10
[21:39:30] [INFO] [ReplayManager] Recording frame 7260 (121,0s): player_valid=True, enemies=10
[21:39:31] [INFO] [ReplayManager] Recording frame 7320 (122,0s): player_valid=True, enemies=10
[21:39:32] [INFO] [ReplayManager] Recording frame 7380 (123,0s): player_valid=True, enemies=10
[21:39:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4917.998, 4717.015), shooter_id=2327889056990, bullet_pos=(4942.462, 4715.691)
[21:39:33] [INFO] [Bullet] Using shooter_position, distance=24.5001163482666
[21:39:33] [INFO] [Bullet] Distance to wall: 24.5001163482666 (1.66825797389488% of viewport)
[21:39:33] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[21:39:33] [INFO] [Bullet] Caliber cannot penetrate walls
[21:39:33] [INFO] [ReplayManager] Recording frame 7440 (124,0s): player_valid=True, enemies=10
[21:39:34] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=176.2°, current=176.4°, player=(4804,4752), corner_timer=0.00
[21:39:34] [INFO] [ReplayManager] Recording frame 7500 (125,0s): player_valid=True, enemies=10
[21:39:35] [INFO] [ReplayManager] Recording frame 7560 (126,0s): player_valid=True, enemies=10
[21:39:36] [INFO] [ReplayManager] Recording frame 7620 (127,0s): player_valid=True, enemies=10
[21:39:37] [INFO] ------------------------------------------------------------
[21:39:37] [INFO] GAME LOG ENDED: 2026-02-07T21:39:37
[21:39:37] [INFO] ============================================================
