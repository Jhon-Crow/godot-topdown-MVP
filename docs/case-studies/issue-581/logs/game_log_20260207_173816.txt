[17:38:16] [INFO] ============================================================
[17:38:16] [INFO] GAME LOG STARTED
[17:38:16] [INFO] ============================================================
[17:38:16] [INFO] Timestamp: 2026-02-07T17:38:16
[17:38:16] [INFO] Log file: I:/Загрузки/godot exe/снайпер/game_log_20260207_173816.txt
[17:38:16] [INFO] Executable: I:/Загрузки/godot exe/снайпер/Godot-Top-Down-Template.exe
[17:38:16] [INFO] OS: Windows
[17:38:16] [INFO] Debug build: false
[17:38:16] [INFO] Engine version: 4.3-stable (official)
[17:38:16] [INFO] Project: Godot Top-Down Template
[17:38:16] [INFO] ------------------------------------------------------------
[17:38:16] [INFO] [GameManager] GameManager ready
[17:38:16] [INFO] [ScoreManager] ScoreManager ready
[17:38:16] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[17:38:16] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[17:38:16] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[17:38:16] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[17:38:16] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[17:38:16] [INFO] [PenultimateHit] Saturation shader loaded successfully
[17:38:16] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[17:38:16] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[17:38:16] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[17:38:16] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[17:38:16] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[17:38:16] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[17:38:16] [INFO] [LastChance] Resetting all effects (scene change detected)
[17:38:16] [INFO] [LastChance] Last chance shader loaded successfully
[17:38:16] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[17:38:16] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[17:38:16] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[17:38:16] [INFO] [LastChance]   Sepia intensity: 0.70
[17:38:16] [INFO] [LastChance]   Brightness: 0.60
[17:38:16] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[17:38:16] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[17:38:16] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[17:38:16] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false, AI prediction: true, Realistic visibility: false
[17:38:16] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[17:38:16] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[17:38:16] [INFO] [CinemaEffects] Created effects layer at layer 99
[17:38:16] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[17:38:16] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[17:38:16] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[17:38:16] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[17:38:16] [INFO] [CinemaEffects]   Grain intensity: 0.15
[17:38:16] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[17:38:16] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[17:38:16] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[17:38:16] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[17:38:16] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[17:38:16] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[17:38:16] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[17:38:16] [INFO] [GrenadeTimerHelper] Autoload ready
[17:38:16] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[17:38:16] [INFO] [PowerFantasy] Saturation shader loaded successfully
[17:38:16] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[17:38:16] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[17:38:16] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[17:38:16] [INFO] [ProgressManager] ProgressManager ready, loaded 4 entries
[17:38:16] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[17:38:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:16] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[17:38:16] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[17:38:16] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[17:38:16] [ENEMY] [Enemy1] Death animation component initialized
[17:38:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:16] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[17:38:16] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[17:38:16] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[17:38:16] [ENEMY] [Enemy2] Death animation component initialized
[17:38:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:16] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[17:38:16] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[17:38:16] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[17:38:16] [ENEMY] [Enemy3] Death animation component initialized
[17:38:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:16] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[17:38:16] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[17:38:16] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[17:38:16] [INFO] [EnemyGrenade] Initialized: 1 grenades
[17:38:16] [ENEMY] [Enemy4] Death animation component initialized
[17:38:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:16] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[17:38:16] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[17:38:16] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[17:38:16] [ENEMY] [Enemy5] Death animation component initialized
[17:38:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:16] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[17:38:16] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[17:38:16] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[17:38:16] [ENEMY] [Enemy6] Death animation component initialized
[17:38:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:16] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[17:38:16] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[17:38:16] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[17:38:16] [INFO] [EnemyGrenade] Initialized: 1 grenades
[17:38:16] [ENEMY] [Enemy7] Death animation component initialized
[17:38:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:16] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[17:38:16] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[17:38:16] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[17:38:16] [ENEMY] [Enemy8] Death animation component initialized
[17:38:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:16] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[17:38:16] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[17:38:16] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[17:38:16] [ENEMY] [Enemy9] Death animation component initialized
[17:38:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:16] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[17:38:16] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[17:38:16] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[17:38:16] [ENEMY] [Enemy10] Death animation component initialized
[17:38:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:16] [INFO] [BloodyFeet:Player] Footprint scene loaded
[17:38:16] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[17:38:16] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[17:38:16] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[17:38:16] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[17:38:16] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[17:38:16] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[17:38:16] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[17:38:16] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[17:38:16] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[17:38:16] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[17:38:16] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[17:38:16] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[17:38:16] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[17:38:16] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[17:38:16] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[17:38:16] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[17:38:16] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[17:38:16] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[17:38:16] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[17:38:16] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[17:38:16] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[17:38:16] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[17:38:16] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[17:38:16] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[17:38:16] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[17:38:16] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[17:38:16] [INFO] [BuildingLevel] Setting up weapon: m16
[17:38:16] [INFO] [ScoreManager] Level started with 10 enemies
[17:38:16] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[17:38:16] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[17:38:16] [INFO] [ReplayManager] Replay data cleared
[17:38:16] [INFO] [BuildingLevel] Previous replay data cleared
[17:38:16] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[17:38:16] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[17:38:16] [INFO] [ReplayManager] Level: BuildingLevel
[17:38:16] [INFO] [ReplayManager] Player: Player (valid: True)
[17:38:16] [INFO] [ReplayManager] Enemies count: 10
[17:38:16] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[17:38:16] [INFO] [ReplayManager]   Enemy 0: Enemy1
[17:38:16] [INFO] [ReplayManager]   Enemy 1: Enemy2
[17:38:16] [INFO] [ReplayManager]   Enemy 2: Enemy3
[17:38:16] [INFO] [ReplayManager]   Enemy 3: Enemy4
[17:38:16] [INFO] [ReplayManager]   Enemy 4: Enemy5
[17:38:16] [INFO] [ReplayManager]   Enemy 5: Enemy6
[17:38:16] [INFO] [ReplayManager]   Enemy 6: Enemy7
[17:38:16] [INFO] [ReplayManager]   Enemy 7: Enemy8
[17:38:16] [INFO] [ReplayManager]   Enemy 8: Enemy9
[17:38:16] [INFO] [ReplayManager]   Enemy 9: Enemy10
[17:38:16] [INFO] [BuildingLevel] Replay recording started successfully
[17:38:16] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[17:38:17] [INFO] [CinemaEffects] Found player node: Player
[17:38:17] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[17:38:17] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[17:38:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[17:38:17] [ENEMY] [Enemy1] Registered as sound listener
[17:38:17] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[17:38:17] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[17:38:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[17:38:17] [ENEMY] [Enemy2] Registered as sound listener
[17:38:17] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[17:38:17] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[17:38:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[17:38:17] [ENEMY] [Enemy3] Registered as sound listener
[17:38:17] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[17:38:17] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[17:38:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[17:38:17] [ENEMY] [Enemy4] Registered as sound listener
[17:38:17] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[17:38:17] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[17:38:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[17:38:17] [ENEMY] [Enemy5] Registered as sound listener
[17:38:17] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[17:38:17] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[17:38:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[17:38:17] [ENEMY] [Enemy6] Registered as sound listener
[17:38:17] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[17:38:17] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[17:38:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[17:38:17] [ENEMY] [Enemy7] Registered as sound listener
[17:38:17] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 4, behavior: PATROL
[17:38:17] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[17:38:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[17:38:17] [ENEMY] [Enemy8] Registered as sound listener
[17:38:17] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[17:38:17] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[17:38:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[17:38:17] [ENEMY] [Enemy9] Registered as sound listener
[17:38:17] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[17:38:17] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[17:38:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[17:38:17] [ENEMY] [Enemy10] Registered as sound listener
[17:38:17] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[17:38:17] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[17:38:17] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[17:38:17] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[17:38:17] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[17:38:17] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[17:38:17] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[17:38:17] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[17:38:17] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[17:38:17] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[17:38:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[17:38:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[17:38:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[17:38:17] [INFO] [PenultimateHit] Shader warmup complete in 430 ms
[17:38:17] [INFO] [LastChance] Shader warmup complete in 429 ms
[17:38:17] [INFO] [CinemaEffects] Cinema shader warmup complete in 376 ms
[17:38:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[17:38:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[17:38:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[17:38:17] [INFO] [LastChance] Found player: Player
[17:38:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[17:38:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[17:38:17] [INFO] [LastChance] Connected to player Died signal (C#)
[17:38:17] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[17:38:17] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 725 ms
[17:38:17] [INFO] [Player] Invincibility mode: ON
[17:38:17] [INFO] [GameManager] Invincibility mode toggled: ON
[17:38:18] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[17:38:19] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[17:38:20] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[17:38:21] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[17:38:22] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[17:38:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[17:38:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:22] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[17:38:22] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[17:38:22] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[17:38:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[17:38:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[17:38:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[17:38:22] [INFO] [CinemaEffects] Scene changed to: CityLevel
[17:38:22] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[17:38:22] [ENEMY] [SniperEnemy1] Death animation component initialized
[17:38:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:22] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[17:38:22] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[17:38:22] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[17:38:22] [ENEMY] [SniperEnemy2] Death animation component initialized
[17:38:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:22] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[17:38:22] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[17:38:22] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[17:38:22] [ENEMY] [GuardEnemy1] Death animation component initialized
[17:38:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:22] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[17:38:22] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[17:38:22] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[17:38:22] [ENEMY] [GuardEnemy2] Death animation component initialized
[17:38:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:22] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[17:38:22] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[17:38:22] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[17:38:22] [ENEMY] [GuardEnemy3] Death animation component initialized
[17:38:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:22] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[17:38:22] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[17:38:22] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[17:38:22] [ENEMY] [GuardEnemy4] Death animation component initialized
[17:38:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:22] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[17:38:22] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[17:38:22] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[17:38:22] [ENEMY] [PatrolEnemy1] Death animation component initialized
[17:38:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:22] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[17:38:22] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[17:38:22] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[17:38:22] [ENEMY] [PatrolEnemy2] Death animation component initialized
[17:38:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:22] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[17:38:22] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[17:38:22] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[17:38:22] [ENEMY] [GuardEnemy5] Death animation component initialized
[17:38:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:22] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[17:38:22] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[17:38:22] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[17:38:22] [ENEMY] [GuardEnemy6] Death animation component initialized
[17:38:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:22] [INFO] [BloodyFeet:Player] Footprint scene loaded
[17:38:22] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[17:38:22] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[17:38:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[17:38:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[17:38:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[17:38:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[17:38:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[17:38:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[17:38:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[17:38:22] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[17:38:22] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[17:38:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[17:38:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[17:38:22] [INFO] [ScoreManager] Level started with 10 enemies
[17:38:22] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[17:38:22] [INFO] [ReplayManager] Replay data cleared
[17:38:22] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[17:38:22] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[17:38:22] [INFO] [ReplayManager] Level: CityLevel
[17:38:22] [INFO] [ReplayManager] Player: Player (valid: True)
[17:38:22] [INFO] [ReplayManager] Enemies count: 10
[17:38:22] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[17:38:22] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[17:38:22] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[17:38:22] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[17:38:22] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[17:38:22] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[17:38:22] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[17:38:22] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[17:38:22] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[17:38:22] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[17:38:22] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[17:38:22] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[17:38:22] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[17:38:22] [INFO] [CinemaEffects] Found player node: Player
[17:38:22] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[17:38:22] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 11)
[17:38:22] [ENEMY] [SniperEnemy1] Registered as sound listener
[17:38:22] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 4, behavior: GUARD
[17:38:22] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[17:38:22] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 12)
[17:38:22] [ENEMY] [SniperEnemy2] Registered as sound listener
[17:38:22] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 3, behavior: GUARD
[17:38:22] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[17:38:22] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 13)
[17:38:22] [ENEMY] [GuardEnemy1] Registered as sound listener
[17:38:22] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 4, behavior: GUARD
[17:38:22] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[17:38:22] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 14)
[17:38:22] [ENEMY] [GuardEnemy2] Registered as sound listener
[17:38:22] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 4, behavior: GUARD
[17:38:22] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[17:38:22] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 15)
[17:38:22] [ENEMY] [GuardEnemy3] Registered as sound listener
[17:38:22] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 4, behavior: GUARD
[17:38:22] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[17:38:22] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 16)
[17:38:22] [ENEMY] [GuardEnemy4] Registered as sound listener
[17:38:22] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 3, behavior: GUARD
[17:38:22] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[17:38:22] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 17)
[17:38:22] [ENEMY] [PatrolEnemy1] Registered as sound listener
[17:38:22] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 2, behavior: PATROL
[17:38:22] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[17:38:22] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 18)
[17:38:22] [ENEMY] [PatrolEnemy2] Registered as sound listener
[17:38:22] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 4, behavior: PATROL
[17:38:22] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[17:38:22] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 19)
[17:38:22] [ENEMY] [GuardEnemy5] Registered as sound listener
[17:38:22] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 4, behavior: GUARD
[17:38:22] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[17:38:22] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 20)
[17:38:22] [ENEMY] [GuardEnemy6] Registered as sound listener
[17:38:22] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 2, behavior: GUARD
[17:38:22] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[17:38:22] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[17:38:22] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:22] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:22] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:22] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:22] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:22] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:22] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:22] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[17:38:22] [INFO] [Player] Detected weapon: Rifle (default pose)
[17:38:22] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[17:38:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[17:38:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[17:38:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[17:38:22] [INFO] [LastChance] Found player: Player
[17:38:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[17:38:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[17:38:22] [INFO] [LastChance] Connected to player Died signal (C#)
[17:38:22] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[17:38:23] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=177.5°, current=128.9°, player=(300,2500), corner_timer=0.00
[17:38:23] [ENEMY] [GuardEnemy4] State: IDLE -> COMBAT
[17:38:23] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=177.5°, current=-47.9°, player=(300,2499), corner_timer=0.00
[17:38:23] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[17:38:23] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[17:38:23] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 87.4°
[17:38:24] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[17:38:24] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:24] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(362,2310), corner_timer=0.30
[17:38:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(362,2310), corner_timer=0.30
[17:38:24] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 87.4°
[17:38:24] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(436,2236), corner_timer=-0.02
[17:38:24] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[17:38:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(436,2236), corner_timer=-0.02
[17:38:24] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:24] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(440,2232), corner_timer=0.30
[17:38:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(440,2232), corner_timer=0.30
[17:38:24] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 87.4°
[17:38:24] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[17:38:24] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(514,2158), corner_timer=-0.02
[17:38:24] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[17:38:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(514,2158), corner_timer=-0.02
[17:38:24] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:24] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(518,2154), corner_timer=0.30
[17:38:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(518,2154), corner_timer=0.30
[17:38:24] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 87.4°
[17:38:25] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(592,2080), corner_timer=-0.02
[17:38:25] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[17:38:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(592,2080), corner_timer=-0.02
[17:38:25] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:25] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(596,2076), corner_timer=0.30
[17:38:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(596,2076), corner_timer=0.30
[17:38:25] [ENEMY] [GuardEnemy3] Memory: medium confidence (0.74) - transitioning to PURSUING
[17:38:25] [ENEMY] [GuardEnemy3] State: IDLE -> PURSUING
[17:38:25] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-175.5°, current=56.2°, player=(607,2065), corner_timer=0.00
[17:38:25] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 86.5°
[17:38:25] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-175.3°, current=-127.2°, player=(615,2057), corner_timer=0.28
[17:38:25] [ENEMY] [GuardEnemy3] Warning: No valid flank position (both sides behind walls)
[17:38:25] [ENEMY] [GuardEnemy3] FLANKING started: target=(701.2512, 2238.209), side=right, pos=(3589.353, 2300.644)
[17:38:25] [ENEMY] [GuardEnemy3] State: PURSUING -> FLANKING
[17:38:25] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 87.4°
[17:38:25] [ENEMY] [GuardEnemy3] State: FLANKING -> COMBAT
[17:38:25] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(670,2002), corner_timer=-0.02
[17:38:25] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[17:38:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(670,2002), corner_timer=-0.02
[17:38:25] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:25] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(674,1999), corner_timer=0.30
[17:38:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(674,1999), corner_timer=0.30
[17:38:25] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 87.4°
[17:38:25] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[17:38:25] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-174.0°, current=-174.1°, player=(701,1971), corner_timer=0.28
[17:38:25] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[17:38:25] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-173.5°, current=-173.5°, player=(728,1944), corner_timer=0.28
[17:38:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3419.624, 2284.296), source=ENEMY (GuardEnemy3), range=2000, listeners=20
[17:38:25] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[17:38:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:25] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(747,1925), corner_timer=-0.02
[17:38:25] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[17:38:25] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(751,1921), corner_timer=0.30
[17:38:25] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-139.2°, current=-90.0°, player=(771,1901), corner_timer=0.22
[17:38:25] [ENEMY] [PatrolEnemy1] State: IDLE -> COMBAT
[17:38:25] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-171.7°, current=-171.7°, player=(775,1897), corner_timer=0.28
[17:38:25] [ENEMY] [GuardEnemy3] State: COMBAT -> PURSUING
[17:38:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-138.9°, current=125.2°, player=(779,1894), corner_timer=0.22
[17:38:26] [ENEMY] [GuardEnemy3] State: PURSUING -> RETREATING
[17:38:26] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=-171.3°, player=(794,1878), corner_timer=0.23
[17:38:26] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:26] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[17:38:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-136.4°, current=176.5°, player=(845,1827), corner_timer=0.22
[17:38:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2275.523, 3190.726), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[17:38:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-134.1°, current=-134.1°, player=(927,1801), corner_timer=0.22
[17:38:26] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[17:38:26] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[17:38:26] [ENEMY] [PatrolEnemy1] State: PURSUING -> RETREATING
[17:38:26] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-90.0°, current=-133.2°, player=(977,1801), corner_timer=0.22
[17:38:26] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[17:38:26] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=128.4°, player=(1033,1816), corner_timer=-0.02
[17:38:27] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=131.3°, player=(1033,1819), corner_timer=0.30
[17:38:27] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[17:38:27] [ENEMY] [GuardEnemy4] Warning: No valid flank position (both sides behind walls)
[17:38:27] [ENEMY] [GuardEnemy4] FLANKING started: target=(1156.694, 1749.328), side=left, pos=(4062.586, 2324.34)
[17:38:27] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[17:38:27] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-134.3°, current=-90.0°, player=(1033,1918), corner_timer=0.22
[17:38:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1033,1918), corner_timer=-0.02
[17:38:27] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2223.4329, 3149.037), shooter_id=112877112455, bullet_pos=(43.21631, 910.22485)
[17:38:27] [INFO] [Bullet] Using shooter_position, distance=3124,9998
[17:38:27] [INFO] [Bullet] Distance to wall: 3124,9998 (212,78699% of viewport)
[17:38:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1033,1923), corner_timer=0.30
[17:38:27] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2253.118, 3167.879), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[17:38:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:27] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:27] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-172.3°, current=86.5°, player=(1033,1962), corner_timer=0.23
[17:38:27] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:27] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=89.4°, player=(1033,1967), corner_timer=0.23
[17:38:27] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:27] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2253.118, 3167.879), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[17:38:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:27] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:27] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-172.9°, current=86.5°, player=(1033,1984), corner_timer=0.23
[17:38:27] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:27] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=89.4°, player=(1033,1989), corner_timer=0.23
[17:38:27] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:27] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2253.118, 3167.879), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[17:38:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:28] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-173.4°, current=86.5°, player=(1033,2006), corner_timer=0.23
[17:38:28] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=89.4°, player=(1033,2011), corner_timer=0.23
[17:38:28] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:28] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 105.3°
[17:38:28] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2253.118, 3167.879), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[17:38:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:28] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:28] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-173.9°, current=86.5°, player=(1033,2028), corner_timer=0.23
[17:38:28] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:28] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1033,2028), corner_timer=-0.02
[17:38:28] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=89.4°, player=(1033,2033), corner_timer=0.23
[17:38:28] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:28] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-90.0°, current=-65.9°, player=(1033,2033), corner_timer=0.22
[17:38:28] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1033,2033), corner_timer=0.30
[17:38:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2197.98, 3122.906), shooter_id=112877112455, bullet_pos=(1673.9052, 2782.3628)
[17:38:28] [INFO] [Bullet] Using shooter_position, distance=624,9993
[17:38:28] [INFO] [Bullet] Distance to wall: 624,9993 (42,557354% of viewport)
[17:38:28] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:28] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-174.5°, current=86.5°, player=(1033,2050), corner_timer=0.23
[17:38:28] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=89.4°, player=(1033,2055), corner_timer=0.23
[17:38:28] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:28] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:28] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-175.0°, current=86.5°, player=(1033,2072), corner_timer=0.23
[17:38:28] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=89.4°, player=(1033,2077), corner_timer=0.23
[17:38:28] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:28] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:28] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-175.6°, current=86.5°, player=(1033,2094), corner_timer=0.23
[17:38:28] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:28] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-176.4°, current=-176.4°, player=(1033,2094), corner_timer=0.07
[17:38:28] [ENEMY] [GuardEnemy4] State: FLANKING -> COMBAT
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=89.4°, player=(1033,2099), corner_timer=0.23
[17:38:28] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:28] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:28] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-176.1°, current=86.5°, player=(1033,2116), corner_timer=0.23
[17:38:28] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=89.4°, player=(1033,2121), corner_timer=0.23
[17:38:28] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:28] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:28] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-176.7°, current=86.5°, player=(1033,2138), corner_timer=0.23
[17:38:28] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1033,2138), corner_timer=-0.02
[17:38:28] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:28] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1033,2143), corner_timer=0.30
[17:38:28] [ENEMY] [GuardEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=144.9°, current=101.3°, player=(1035,2159), corner_timer=0.00
[17:38:28] [ENEMY] [GuardEnemy2] State: IDLE -> COMBAT
[17:38:28] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=144.5°, current=-108.3°, player=(1038,2169), corner_timer=0.00
[17:38:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2198.8665, 3126.5168), shooter_id=112877112455, bullet_pos=(1100.906, 1928.5527)
[17:38:28] [INFO] [Bullet] Using shooter_position, distance=1625,003
[17:38:28] [INFO] [Bullet] Distance to wall: 1625,003 (110,64945% of viewport)
[17:38:28] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-147.7°, current=-113.2°, player=(1061,2203), corner_timer=0.22
[17:38:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2198.6562, 3127.203), shooter_id=112877112455, bullet_pos=(1276.3534, 1944.2566)
[17:38:28] [INFO] [Bullet] Using shooter_position, distance=1500,0015
[17:38:28] [INFO] [Bullet] Distance to wall: 1500,0015 (102,13786% of viewport)
[17:38:28] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-90.0°, current=-110.0°, player=(1065,2207), corner_timer=0.22
[17:38:28] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[17:38:28] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-178.8°, current=134.1°, player=(1081,2223), corner_timer=0.23
[17:38:28] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1085,2227), corner_timer=-0.02
[17:38:28] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:28] [INFO] [LastChance] Threat detected: @Area2D@669
[17:38:28] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:28] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1089,2230), corner_timer=0.30
[17:38:28] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:28] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=140.8°, current=-169.4°, player=(1106,2251), corner_timer=0.00
[17:38:28] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3180.493, 2268.444), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:28] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=172.3°, player=(1124,2276), corner_timer=0.00
[17:38:29] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[17:38:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=179.6°, current=179.6°, player=(1147,2300), corner_timer=0.07
[17:38:29] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[17:38:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1155,2308), corner_timer=-0.02
[17:38:29] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:29] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=178.7°, current=178.7°, player=(1159,2311), corner_timer=0.23
[17:38:29] [ENEMY] [GuardEnemy3] State: COMBAT -> PURSUING
[17:38:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1159,2311), corner_timer=0.30
[17:38:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2198.2817, 3124.7974), shooter_id=112877112455, bullet_pos=(45.672054, 1095.5078)
[17:38:29] [INFO] [Bullet] Using shooter_position, distance=2958,3347
[17:38:29] [INFO] [Bullet] Distance to wall: 2958,3347 (201,43845% of viewport)
[17:38:29] [ENEMY] [GuardEnemy3] State: PURSUING -> RETREATING
[17:38:29] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=178.5°, player=(1170,2323), corner_timer=0.22
[17:38:29] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=179.0°, current=179.0°, player=(1178,2331), corner_timer=0.07
[17:38:29] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:29] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:29] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=COMBAT, target=177.2°, current=149.9°, player=(1209,2362), corner_timer=0.22
[17:38:29] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:29] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:29] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[17:38:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3100.501, 2269.451), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1233,2385), corner_timer=-0.02
[17:38:29] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1236,2389), corner_timer=0.30
[17:38:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3100.501, 2269.451), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=177.4°, current=177.4°, player=(1252,2405), corner_timer=0.07
[17:38:29] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3100.501, 2269.451), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3100.501, 2269.451), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:29] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:29] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:29] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:29] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:29] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[17:38:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3100.501, 2269.451), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1310,2463), corner_timer=-0.02
[17:38:29] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:29] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1314,2467), corner_timer=0.30
[17:38:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3100.501, 2269.451), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:29] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[17:38:29] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:29] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:29] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:30] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:30] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:30] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:30] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:30] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:30] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:30] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:30] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:30] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:30] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:30] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:30] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[17:38:30] [ENEMY] [GuardEnemy2] FLANKING started: target=(1436.015, 2362.196), side=left, pos=(2269.916, 1301.926)
[17:38:30] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[17:38:30] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 38.0°
[17:38:30] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[17:38:30] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[17:38:30] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-150.3°, current=-90.0°, player=(1572,2536), corner_timer=0.22
[17:38:30] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[17:38:30] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:30] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:30] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:30] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:30] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=72.1°, current=56.2°, player=(1632,2536), corner_timer=0.00
[17:38:30] [ENEMY] [GuardEnemy1] State: IDLE -> COMBAT
[17:38:30] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=71.6°, current=133.8°, player=(1643,2536), corner_timer=0.00
[17:38:30] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 34.3°
[17:38:30] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=70.6°, current=118.4°, player=(1671,2536), corner_timer=0.00
[17:38:31] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:31] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:31] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:31] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:31] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 29.9°
[17:38:31] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:31] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:31] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:31] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1258.022, 1349.016), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:31] [ENEMY] [GuardEnemy4] Warning: No valid flank position (both sides behind walls)
[17:38:31] [ENEMY] [GuardEnemy4] FLANKING started: target=(1889.702, 2326.332), side=left, pos=(4062.917, 2276.279)
[17:38:31] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[17:38:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1274.023, 1382.746), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:31] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 89.3°
[17:38:31] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 27.5°
[17:38:31] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[17:38:31] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1290.987, 1416.001), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:31] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:31] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:31] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=-45.8°, player=(1862,2454), corner_timer=-0.02
[17:38:31] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=-43.0°, player=(1866,2450), corner_timer=0.30
[17:38:31] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=175.7°, current=175.7°, player=(1874,2442), corner_timer=0.13
[17:38:31] [ENEMY] [GuardEnemy4] State: FLANKING -> COMBAT
[17:38:31] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[17:38:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1281.505, 1440.354), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:31] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=176.0°, current=174.2°, player=(1885,2431), corner_timer=0.13
[17:38:31] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:31] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:31] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1272.024, 1464.706), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:31] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:31] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -156.1°
[17:38:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1262.542, 1489.058), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1940,2376), corner_timer=-0.02
[17:38:31] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1944,2372), corner_timer=0.30
[17:38:31] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=177.6°, current=177.6°, player=(1948,2368), corner_timer=0.13
[17:38:32] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1253.061, 1513.41), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:32] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:32] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:32] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:32] [ENEMY] [PatrolEnemy1] Warning: No valid flank position (both sides behind walls)
[17:38:32] [ENEMY] [PatrolEnemy1] FLANKING started: target=(1883.852, 2507.56), side=right, pos=(2365.484, 2988.965)
[17:38:32] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[17:38:32] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=111.3°, current=46.4°, player=(1990,2326), corner_timer=0.00
[17:38:32] [INFO] [LastChance] Threat detected: @Area2D@717
[17:38:32] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4063.932, 2281.451), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3996.484, 2290.581), shooter_id=112524790898, bullet_pos=(3996.484, 2290.581)
[17:38:32] [INFO] [Bullet] Using shooter_position, distance=0
[17:38:32] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[17:38:32] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[17:38:32] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:32] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -152.4°
[17:38:32] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=86.5°, current=177.8°, player=(1998,2318), corner_timer=0.22
[17:38:32] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=179.3°, current=179.3°, player=(2010,2306), corner_timer=0.13
[17:38:32] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[17:38:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2018,2298), corner_timer=-0.02
[17:38:32] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:32] [ENEMY] [GuardEnemy1] State: RETREATING -> IN_COVER
[17:38:32] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=178.6°, current=160.6°, player=(2021,2294), corner_timer=0.22
[17:38:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2021,2294), corner_timer=0.30
[17:38:32] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:32] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=179.7°, current=179.6°, player=(2025,2291), corner_timer=0.13
[17:38:32] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 123.7°
[17:38:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1303.1482, 1525.2837), shooter_id=111467826227, bullet_pos=(2253.782, 2685.5825)
[17:38:32] [INFO] [Bullet] Using shooter_position, distance=1499,9994
[17:38:32] [INFO] [Bullet] Distance to wall: 1499,9994 (102,13772% of viewport)
[17:38:32] [INFO] [Bullet] Distance-based penetration chance: 29,572456%
[17:38:32] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:32] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:32] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:32] [ENEMY] [GuardEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:32] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:32] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:32] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -150.7°
[17:38:32] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[17:38:32] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:32] [ENEMY] [GuardEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:32] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2093,2220), corner_timer=-0.02
[17:38:32] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2096,2215), corner_timer=0.30
[17:38:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1290.5222, 1570.2927), shooter_id=111467826227, bullet_pos=(2246.593, 2726.116)
[17:38:32] [INFO] [Bullet] Using shooter_position, distance=1499,9996
[17:38:32] [INFO] [Bullet] Distance to wall: 1499,9996 (102,13773% of viewport)
[17:38:32] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-99.8°, current=-139.3°, player=(2100,2206), corner_timer=0.03
[17:38:32] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[17:38:32] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[17:38:32] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:32] [ENEMY] [GuardEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:32] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:32] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[17:38:32] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -157.8°
[17:38:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1279.174, 1413.7266), shooter_id=111467826227, bullet_pos=(2919.5825, 5061.8843)
[17:38:32] [INFO] [Bullet] Using shooter_position, distance=3999,9993
[17:38:32] [INFO] [Bullet] Distance to wall: 3999,9993 (272,3673% of viewport)
[17:38:32] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:38:32] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2941.22, 2256.257), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[17:38:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1296.8303, 1547.9055), shooter_id=111467826227, bullet_pos=(2659.1758, 3888.6514)
[17:38:33] [INFO] [Bullet] Using shooter_position, distance=2708,3345
[17:38:33] [INFO] [Bullet] Distance to wall: 2708,3345 (184,41548% of viewport)
[17:38:33] [INFO] [Bullet] Distance-based penetration chance: 13,116903%
[17:38:33] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4061.245, 2272.685), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.0266, 1446.8228), shooter_id=111467826227, bullet_pos=(3060.6694, 5083.3906)
[17:38:33] [INFO] [Bullet] Using shooter_position, distance=4041,6658
[17:38:33] [INFO] [Bullet] Distance to wall: 4041,6658 (275,20447% of viewport)
[17:38:33] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:38:33] [INFO] [Bullet] Starting wall penetration at (3060.6694, 5083.3906)
[17:38:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,65269
[17:38:33] [INFO] [Bullet] Body exited signal received for penetrating body
[17:38:33] [INFO] [Bullet] Exiting penetration at (3081.0332, 5125.38) after traveling 41,666668 pixels through wall
[17:38:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:38:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1315.9365, 1479.3842), shooter_id=111467826227, bullet_pos=(2760.933, 5074.8716)
[17:38:33] [INFO] [Bullet] Using shooter_position, distance=3874,9895
[17:38:33] [INFO] [Bullet] Distance to wall: 3874,9895 (263,85516% of viewport)
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4060.199, 2270.907), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:33] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -164.5°
[17:38:33] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4058.937, 2269.141), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2863.126, 2239.024), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4057.484, 2267.458), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1309.5057, 1502.4347), shooter_id=111467826227, bullet_pos=(2977.299, 5092.257)
[17:38:33] [INFO] [Bullet] Using shooter_position, distance=3958,3276
[17:38:33] [INFO] [Bullet] Distance to wall: 3958,3276 (269,52982% of viewport)
[17:38:33] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[17:38:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=123.7°, current=-95.4°, player=(2142,2014), corner_timer=0.03
[17:38:33] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2863.126, 2239.024), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4044.902, 2260.18), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:33] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:33] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:33] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4024.039, 2259.934), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1309.5057, 1502.4347), shooter_id=111467826227, bullet_pos=(3143.1982, 4734.243)
[17:38:33] [INFO] [Bullet] Using shooter_position, distance=3715,7793
[17:38:33] [INFO] [Bullet] Distance to wall: 3715,7793 (253,01425% of viewport)
[17:38:33] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:38:33] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2863.126, 2239.024), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4003.408, 2259.934), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 1.8°
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2863.126, 2239.024), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3982.717, 2259.934), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2863.126, 2239.024), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3961.967, 2259.934), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2863.126, 2239.024), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3941.17, 2263.936), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3990.872, 2268.909), shooter_id=112524790898, bullet_pos=(2894.175, 1870.954)
[17:38:33] [INFO] [Bullet] Using shooter_position, distance=1166.66687011719
[17:38:33] [INFO] [Bullet] Distance to wall: 1166.66687011719 (79.4404924974847% of viewport)
[17:38:33] [INFO] [Bullet] Distance-based penetration chance: 53.9860920862678%
[17:38:33] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3992.134, 2271.285), shooter_id=112524790898, bullet_pos=(2712.642, 1896.207)
[17:38:33] [INFO] [Bullet] Using shooter_position, distance=1333.33557128906
[17:38:33] [INFO] [Bullet] Distance to wall: 1333.33557128906 (90.7892708369947% of viewport)
[17:38:33] [INFO] [Bullet] Distance-based penetration chance: 40.7458506901728%
[17:38:33] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:33] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[17:38:33] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:33] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3914.735, 2256.442), shooter_id=112524790898, bullet_pos=(3647.12, 1937.079)
[17:38:33] [INFO] [Bullet] Using shooter_position, distance=416.666015625
[17:38:33] [INFO] [Bullet] Distance to wall: 416.666015625 (28.3715551851488% of viewport)
[17:38:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:33] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:33] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:33] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3922.807, 2265.176), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2863.126, 2239.024), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3904.321, 2255.983), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3935.391, 2257.229), shooter_id=112524790898, bullet_pos=(3156.192, 2655.317)
[17:38:33] [INFO] [Bullet] Using shooter_position, distance=875.000244140625
[17:38:33] [INFO] [Bullet] Distance to wall: 875.000244140625 (59.5803756071076% of viewport)
[17:38:33] [INFO] [Bullet] Distance-based penetration chance: 77.1562284583745%
[17:38:33] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3993.185, 2273.717), shooter_id=112524790898, bullet_pos=(2061.756, 1950.236)
[17:38:33] [INFO] [Bullet] Using shooter_position, distance=1958.33056640625
[17:38:33] [INFO] [Bullet] Distance to wall: 1958.33056640625 (133.34632931898% of viewport)
[17:38:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:38:33] [INFO] [Player] Spawning blood effect at (2274.693, 1882.689), dir=(1, 0), lethal=False (C#)
[17:38:33] [INFO] [ImpactEffects] spawn_blood_effect called at (2274.693, 1882.689), dir=(1, 0), lethal=false
[17:38:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:33] [INFO] [ImpactEffects] Blood effect spawned at (2274.693, 1882.689) (scale=1)
[17:38:33] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -11.0°
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3883.494, 2251.363), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3862.721, 2246.509), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3836.587, 2249.237), shooter_id=112524790898, bullet_pos=(3686.718, 1951.494)
[17:38:33] [INFO] [Bullet] Using shooter_position, distance=333.333435058594
[17:38:33] [INFO] [Bullet] Distance to wall: 333.333435058594 (22.6972865392785% of viewport)
[17:38:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:33] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3976.851, 2258.961), shooter_id=112524790898, bullet_pos=(2514.131, 2745.968)
[17:38:33] [INFO] [Bullet] Using shooter_position, distance=1541.66284179688
[17:38:33] [INFO] [Bullet] Distance to wall: 1541.66284179688 (104.974657765943% of viewport)
[17:38:33] [INFO] [Bullet] Distance-based penetration chance: 29.0050684468114%
[17:38:33] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3894.031, 2255.626), shooter_id=112524790898, bullet_pos=(3069.214, 2655.563)
[17:38:34] [INFO] [Bullet] Using shooter_position, distance=916.664245605469
[17:38:34] [INFO] [Bullet] Distance to wall: 916.664245605469 (62.4173540801919% of viewport)
[17:38:34] [INFO] [Bullet] Distance-based penetration chance: 73.8464202397761%
[17:38:34] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3842.005, 2241.415), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3855.037, 2258.965), shooter_id=112524790898, bullet_pos=(3336.569, 2678.054)
[17:38:34] [INFO] [Bullet] Using shooter_position, distance=666.667907714844
[17:38:34] [INFO] [Bullet] Distance to wall: 666.667907714844 (45.3946437304894% of viewport)
[17:38:34] [INFO] [Bullet] Distance-based penetration chance: 93.7062489810957%
[17:38:34] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3821.351, 2236.074), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2333.903, 1916.057) (added to group)
[17:38:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3800.764, 2230.481), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2324.932, 1916.265) (added to group)
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2355.194, 1892.942) (added to group)
[17:38:34] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 1.9°
[17:38:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3780.249, 2224.629), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2341.506, 1894.133) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [ENEMY] [GuardEnemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[17:38:34] [ENEMY] [GuardEnemy3] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2863.126, 2239.024), dir=(-0.999888, -0.014972), lethal=false
[17:38:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:34] [INFO] [ImpactEffects] Blood effect spawned at (2863.126, 2239.024) (scale=0.5)
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=86.5°, current=0.9°, player=(2368,1789), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2361.512, 1955.892) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-162.7°, current=-162.7°, player=(2371,1785), corner_timer=0.13
[17:38:34] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2382.984, 1952.48) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-136.3°, current=9.5°, player=(2379,1777), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3713.169, 2213.039), shooter_id=112524790898, bullet_pos=(3601.979, 1943.398)
[17:38:34] [INFO] [Bullet] Using shooter_position, distance=291.667175292969
[17:38:34] [INFO] [Bullet] Distance to wall: 291.667175292969 (19.8601542943413% of viewport)
[17:38:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:34] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=6.6°, player=(2383,1773), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3989.425, 2266.657), shooter_id=112524790898, bullet_pos=(1345.268, 1920.878)
[17:38:34] [INFO] [Bullet] Using shooter_position, distance=2666.66918945313
[17:38:34] [INFO] [Bullet] Distance to wall: 2666.66918945313 (181.578408682117% of viewport)
[17:38:34] [INFO] [Bullet] Distance-based penetration chance: 13.6843182635767%
[17:38:34] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3795.155, 2238.232), shooter_id=112524790898, bullet_pos=(2895.46, 1713.238)
[17:38:34] [INFO] [Bullet] Using shooter_position, distance=1041.66662597656
[17:38:34] [INFO] [Bullet] Distance to wall: 1041.66662597656 (70.9289960187687% of viewport)
[17:38:34] [INFO] [Bullet] Distance-based penetration chance: 63.9161713114365%
[17:38:34] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2429.628, 1999.82) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-134.5°, current=15.2°, player=(2395,1762), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=12.3°, player=(2399,1758), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2464.563, 1942.424) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-132.6°, current=20.9°, player=(2410,1746), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2381.105, 1996.578) (added to group)
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2426.137, 1927.705) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=18.0°, player=(2414,1742), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2418,1738), corner_timer=-0.02
[17:38:34] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2422,1734), corner_timer=0.30
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-130.7°, current=26.6°, player=(2426,1731), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2824.821, 2237.511) (added to group)
[17:38:34] [ENEMY] [GuardEnemy2] FLANKING corner check: angle -10.3°
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=23.8°, player=(2430,1727), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2801.129, 2270.1) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3774.54, 2232.342), shooter_id=112524790898, bullet_pos=(2516.806, 2884.302)
[17:38:34] [INFO] [Bullet] Using shooter_position, distance=1416.66772460938
[17:38:34] [INFO] [Bullet] Distance to wall: 1416.66772460938 (96.4635103908929% of viewport)
[17:38:34] [INFO] [Bullet] Distance-based penetration chance: 34.1259045439583%
[17:38:34] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:34] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> IN_COVER
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-128.8°, current=32.4°, player=(2441,1715), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [ENEMY] [GuardEnemy1] State: IN_COVER -> PURSUING
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=29.5°, player=(2445,1711), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:34] [ENEMY] [GuardEnemy1] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=4.8°, current=105.0°, player=(2449,1707), corner_timer=0.00
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2740.507, 2284.232) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-127.0°, current=38.1°, player=(2457,1699), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=35.2°, player=(2461,1696), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:34] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=6.2°, current=6.2°, player=(2469,1688), corner_timer=0.15
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2755.577, 2272.156) (added to group)
[17:38:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3873.299, 2258.628), shooter_id=112524790898, bullet_pos=(1318.854, 1873.384)
[17:38:34] [INFO] [Bullet] Using shooter_position, distance=2583.33129882813
[17:38:34] [INFO] [Bullet] Distance to wall: 2583.33129882813 (175.903778464592% of viewport)
[17:38:34] [INFO] [Bullet] Distance-based penetration chance: 14.8192443070815%
[17:38:34] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-125.1°, current=43.8°, player=(2473,1684), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2739.144, 2281.96) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=41.0°, player=(2476,1680), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2740.783, 2279.544) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2702.299, 2221.756) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [ENEMY] [GuardEnemy2] State: FLANKING -> COMBAT
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-123.3°, current=49.6°, player=(2488,1668), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-76.3°, current=-53.1°, player=(2488,1668), corner_timer=0.03
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=46.7°, player=(2492,1665), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:34] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=3.9°, current=-66.0°, player=(2496,1661), corner_timer=0.07
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=123.7°, current=-58.8°, player=(2496,1661), corner_timer=0.03
[17:38:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2496,1661), corner_timer=-0.02
[17:38:34] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2501,1658), corner_timer=0.30
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-121.5°, current=55.3°, player=(2505,1656), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2747.739, 2275.967) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=52.4°, player=(2509,1653), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2717.032, 2305.413) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-119.9°, current=61.0°, player=(2524,1648), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:34] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=1.9°, current=50.6°, player=(2529,1647), corner_timer=0.00
[17:38:34] [ENEMY] [GuardEnemy1] State: PURSUING -> COMBAT
[17:38:34] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=3.7°, current=-46.2°, player=(2529,1647), corner_timer=0.07
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=63.9°, player=(2529,1647), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:34] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:34] [INFO] [BloodDecal] Blood puddle created at (2662.743, 2327.766) (added to group)
[17:38:34] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:34] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3955.997, 2257.989), shooter_id=112524790898, bullet_pos=(50.22505, 1966.025)
[17:38:34] [INFO] [Bullet] Using shooter_position, distance=3916.66943359375
[17:38:34] [INFO] [Bullet] Distance to wall: 3916.66943359375 (266.69322385342% of viewport)
[17:38:34] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:38:34] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-118.2°, current=72.5°, player=(2545,1646), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=75.3°, player=(2550,1646), corner_timer=0.22
[17:38:34] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:35] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:35] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:35] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-116.5°, current=83.9°, player=(2567,1646), corner_timer=0.22
[17:38:35] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:35] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=86.8°, player=(2572,1646), corner_timer=0.22
[17:38:35] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:35] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:35] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:35] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-114.8°, current=86.5°, player=(2589,1646), corner_timer=0.22
[17:38:35] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:35] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=89.4°, player=(2594,1646), corner_timer=0.22
[17:38:35] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3733.542, 2219.752), shooter_id=112524790898, bullet_pos=(1726.077, 729.7505)
[17:38:35] [INFO] [Bullet] Using shooter_position, distance=2500.00390625
[17:38:35] [INFO] [Bullet] Distance to wall: 2500.00390625 (170.229863078384% of viewport)
[17:38:35] [INFO] [Bullet] Distance-based penetration chance: 15.9540273843232%
[17:38:35] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2600,1646), corner_timer=-0.02
[17:38:35] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2605,1646), corner_timer=0.30
[17:38:35] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[17:38:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2060.846, 1589.988), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[17:38:35] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[17:38:35] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-70.1°, current=-144.7°, player=(2655,1646), corner_timer=0.03
[17:38:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2097.546, 1589.245), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[17:38:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1386.701, 1592.482), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2710,1646), corner_timer=-0.02
[17:38:35] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:35] [INFO] [LastChance] Threat detected: Bullet
[17:38:35] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2715,1646), corner_timer=0.30
[17:38:35] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[17:38:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2134.478, 1590.638), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[17:38:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1424.004, 1593.988), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3754.001, 2226.184), shooter_id=112524790898, bullet_pos=(36.37573, 2717.866)
[17:38:35] [INFO] [Bullet] Using shooter_position, distance=3749.99829101563
[17:38:35] [INFO] [Bullet] Distance to wall: 3749.99829101563 (255.344279274069% of viewport)
[17:38:35] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:38:35] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:35] [INFO] [LastChance] Threat detected: @Area2D@873
[17:38:35] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:35] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[17:38:35] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:38:35] [INFO] [Player] Spawning blood effect at (2774.303, 1650.763), dir=(1, 0), lethal=False (C#)
[17:38:35] [INFO] [ImpactEffects] spawn_blood_effect called at (2774.303, 1650.763), dir=(1, 0), lethal=false
[17:38:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:35] [INFO] [ImpactEffects] Blood effect spawned at (2774.303, 1650.763) (scale=1)
[17:38:35] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[17:38:35] [ENEMY] [GuardEnemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[17:38:35] [ENEMY] [GuardEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:35] [INFO] [ImpactEffects] spawn_blood_effect called at (2109.773, 1625.934), dir=(1, 0), lethal=false
[17:38:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:35] [INFO] [ImpactEffects] Blood effect spawned at (2109.773, 1625.934) (scale=1)
[17:38:35] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-10.3°, current=180.0°, player=(2788,1657), corner_timer=0.07
[17:38:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2201.0684, 1604.7128), shooter_id=111820147784, bullet_pos=(2776.3638, 1701.2242)
[17:38:35] [INFO] [Bullet] Using shooter_position, distance=583,3346
[17:38:35] [INFO] [Bullet] Distance to wall: 583,3346 (39,720325% of viewport)
[17:38:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1445.206, 1616.056), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:35] [ENEMY] [GuardEnemy4] FLANKING started: target=(2804.815, 1870.164), side=right, pos=(3749.619, 2215.369)
[17:38:35] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[17:38:35] [ENEMY] [GuardEnemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[17:38:35] [ENEMY] [GuardEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:35] [INFO] [ImpactEffects] spawn_blood_effect called at (2110.024, 1603.526), dir=(1, 0), lethal=false
[17:38:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:35] [INFO] [ImpactEffects] Blood effect spawned at (2110.024, 1603.526) (scale=1)
[17:38:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2127.4072, 1604.1704), shooter_id=111820147784, bullet_pos=(3454.1963, 1736.1353)
[17:38:35] [INFO] [Bullet] Using shooter_position, distance=1333,3357
[17:38:35] [INFO] [Bullet] Distance to wall: 1333,3357 (90,78928% of viewport)
[17:38:35] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=128.0°, current=2.4°, player=(2820,1683), corner_timer=0.00
[17:38:35] [ENEMY] [GuardEnemy1] State: RETREATING -> IN_COVER
[17:38:35] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1512.4396, 1626.5375), shooter_id=111467826227, bullet_pos=(1881.221, 1694.5494)
[17:38:35] [INFO] [Bullet] Using shooter_position, distance=375,00043
[17:38:35] [INFO] [Bullet] Distance to wall: 375,00043 (25,53447% of viewport)
[17:38:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:35] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 110.0°
[17:38:35] [INFO] [BloodDecal] Blood puddle created at (2833.464, 1693.096) (added to group)
[17:38:35] [INFO] [BloodDecal] Blood puddle created at (2832.301, 1653.534) (added to group)
[17:38:35] [INFO] [BloodDecal] Blood puddle created at (2839.663, 1696.124) (added to group)
[17:38:35] [INFO] [BloodDecal] Blood puddle created at (2155.899, 1639.963) (added to group)
[17:38:35] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-148.7°, current=-148.9°, player=(2851,1683), corner_timer=0.28
[17:38:36] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2870.512, 1642.393) (added to group)
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2860.527, 1634.994) (added to group)
[17:38:36] [ENEMY] [GuardEnemy4] State: FLANKING -> COMBAT
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2841.299, 1680.415) (added to group)
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2910.307, 1694.096) (added to group)
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2166.451, 1602.964) (added to group)
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2179.396, 1602.489) (added to group)
[17:38:36] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [ENEMY] [GuardEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:36] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:36] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2222.365, 1647.409) (added to group)
[17:38:36] [ENEMY] [GuardEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-83.5°, current=86.5°, player=(2926,1682), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:36] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=83.7°, player=(2931,1681), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2187.68, 1682.048) (added to group)
[17:38:36] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2264.701, 1642.186) (added to group)
[17:38:36] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2985.663, 1732.083) (added to group)
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-81.7°, current=86.5°, player=(2945,1676), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=83.7°, player=(2949,1673), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2293.349, 1717.38) (added to group)
[17:38:36] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2229.943, 1636.828) (added to group)
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-80.2°, current=86.5°, player=(2962,1664), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=83.7°, player=(2966,1660), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:36] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2260.363, 1692.029) (added to group)
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2290.73, 1659.888) (added to group)
[17:38:36] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-79.0°, current=86.5°, player=(2978,1649), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=83.7°, player=(2982,1645), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:36] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2249.675, 1701.308) (added to group)
[17:38:36] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2233.9, 1669.021) (added to group)
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-77.8°, current=86.5°, player=(2993,1633), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2338.546, 1731.981) (added to group)
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=83.7°, player=(2997,1629), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:36] [INFO] [BloodDecal] Blood puddle created at (2302.575, 1768.757) (added to group)
[17:38:36] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-76.8°, current=86.5°, player=(3009,1617), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:36] [ENEMY] [GuardEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=83.7°, player=(3013,1614), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:36] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:36] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3536.308, 2088.826), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:36] [ENEMY] [GuardEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-0.4°, current=-47.1°, player=(3020,1606), corner_timer=0.07
[17:38:36] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-75.7°, current=86.5°, player=(3024,1602), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=83.7°, player=(3028,1598), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:36] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3520.794, 2074.183), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:36] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=True, enemies=10
[17:38:36] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2025.122, 1625.934), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-74.8°, current=86.5°, player=(3040,1586), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=83.7°, player=(3044,1582), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:36] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3505.76, 2059.049), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:36] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:36] [ENEMY] [GuardEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-73.9°, current=86.5°, player=(3055,1571), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:36] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=86.5°, current=83.7°, player=(3059,1567), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:36] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3491.235, 2043.425), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:36] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:36] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-73.0°, current=86.5°, player=(3071,1555), corner_timer=0.22
[17:38:36] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3477.253, 2027.313), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:36] [ENEMY] [PatrolEnemy1] PURSUING corner check: angle 179.1°
[17:38:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2016.166, 1625.934), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[17:38:36] [INFO] [LastChance] Threat detected: @Area2D@918
[17:38:36] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3463.847, 2010.72), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:36] [ENEMY] [GuardEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:37] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3451.049, 1993.653), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3438.883, 1976.13), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:37] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3426.271, 1959.15), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:37] [INFO] [LastChance] Threat detected: @Area2D@930
[17:38:37] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2043.875, 1625.933), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3415.452, 1940.765), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:37] [INFO] [LastChance] Threat detected: @Area2D@934
[17:38:37] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:37] [ENEMY] [GuardEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3405.338, 1921.983), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:37] [INFO] [LastChance] Threat detected: @Area2D@937
[17:38:37] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:37] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3467.059, 2032.331), shooter_id=112524790898, bullet_pos=(2389.542, 929.7434)
[17:38:37] [INFO] [Bullet] Using shooter_position, distance=1541.66870117188
[17:38:37] [INFO] [Bullet] Distance to wall: 1541.66870117188 (104.975056741561% of viewport)
[17:38:37] [INFO] [Bullet] Distance-based penetration chance: 29.0049886516878%
[17:38:37] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3405.357, 1943.131), shooter_id=112524790898, bullet_pos=(3017.096, 1301.45)
[17:38:37] [INFO] [Bullet] Using shooter_position, distance=750.000610351563
[17:38:37] [INFO] [Bullet] Distance to wall: 750.000610351563 (51.0689206883518% of viewport)
[17:38:37] [INFO] [Bullet] Distance-based penetration chance: 87.0862591969229%
[17:38:37] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:37] [ENEMY] [GuardEnemy3] State: COMBAT -> PURSUING
[17:38:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3396.004, 1902.802), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3453.424, 2015.457), shooter_id=112524790898, bullet_pos=(2546.568, 820.6282)
[17:38:37] [INFO] [Bullet] Using shooter_position, distance=1500.00073242188
[17:38:37] [INFO] [Bullet] Distance to wall: 1500.00073242188 (102.137808128735% of viewport)
[17:38:37] [INFO] [Bullet] Distance-based penetration chance: 29.5724383742529%
[17:38:37] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=139.9°, player=(3218,1498), corner_timer=-0.02
[17:38:37] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:37] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-62.8°, current=-112.0°, player=(3223,1498), corner_timer=0.22
[17:38:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=142.8°, player=(3223,1498), corner_timer=0.30
[17:38:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3395.046, 1923.992), shooter_id=112524790898, bullet_pos=(3001.296, 1285.664)
[17:38:37] [INFO] [Bullet] Using shooter_position, distance=750.000854492188
[17:38:37] [INFO] [Bullet] Distance to wall: 750.000854492188 (51.0689373123359% of viewport)
[17:38:37] [INFO] [Bullet] Distance-based penetration chance: 87.0862398022748%
[17:38:37] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3387.541, 1883.221), source=ENEMY (GuardEnemy4), range=1200, listeners=10
[17:38:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:37] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[17:38:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2072.289, 1625.933), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3375.684, 1885.457), shooter_id=112524790898, bullet_pos=(2985.576, 1294.225)
[17:38:37] [INFO] [Bullet] Using shooter_position, distance=708.335083007813
[17:38:37] [INFO] [Bullet] Distance to wall: 708.335083007813 (48.2318383153669% of viewport)
[17:38:37] [INFO] [Bullet] Distance-based penetration chance: 90.396188632072%
[17:38:37] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3416.337, 1961.905), shooter_id=112524790898, bullet_pos=(2433.715, 941.4152)
[17:38:37] [INFO] [Bullet] Using shooter_position, distance=1416.66687011719
[17:38:37] [INFO] [Bullet] Distance to wall: 1416.66687011719 (96.4634522069486% of viewport)
[17:38:37] [INFO] [Bullet] Distance-based penetration chance: 34.1259724252267%
[17:38:37] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:37] [INFO] [LastChance] Threat detected: @Area2D@940
[17:38:37] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3440.402, 1998.087), shooter_id=112524790898, bullet_pos=(1693.76, 940.9025)
[17:38:37] [INFO] [Bullet] Using shooter_position, distance=2041.66528320313
[17:38:37] [INFO] [Bullet] Distance to wall: 2041.66528320313 (139.020743424712% of viewport)
[17:38:37] [INFO] [Bullet] Distance-based penetration chance: 22.1958513150577%
[17:38:37] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:37] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[17:38:37] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=True, enemies=10
[17:38:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(3328,1498), corner_timer=-0.02
[17:38:37] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2100.487, 1625.934), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:37] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(3333,1498), corner_timer=0.30
[17:38:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3428.027, 1980.232), shooter_id=112524790898, bullet_pos=(2668.909, 40.1254)
[17:38:37] [INFO] [Bullet] Using shooter_position, distance=2083.33227539063
[17:38:37] [INFO] [Bullet] Distance to wall: 2083.33227539063 (141.857925541601% of viewport)
[17:38:37] [INFO] [Bullet] Distance-based penetration chance: 21.6284148916798%
[17:38:37] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3360.965, 1844.367), shooter_id=112524790898, bullet_pos=(2500.779, 937.4049)
[17:38:37] [INFO] [Bullet] Using shooter_position, distance=1249.99951171875
[17:38:37] [INFO] [Bullet] Distance to wall: 1249.99951171875 (85.1147652993511% of viewport)
[17:38:37] [INFO] [Bullet] Distance-based penetration chance: 47.3661071507571%
[17:38:37] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3367.798, 1865.131), shooter_id=112524790898, bullet_pos=(2536.691, 717.8719)
[17:38:37] [INFO] [Bullet] Using shooter_position, distance=1416.66577148438
[17:38:37] [INFO] [Bullet] Distance to wall: 1416.66577148438 (96.4633773990202% of viewport)
[17:38:37] [INFO] [Bullet] Distance-based penetration chance: 34.1260597011431%
[17:38:37] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3481.272, 2048.703), shooter_id=112524790898, bullet_pos=(1086.765, 40.72313)
[17:38:37] [INFO] [Bullet] Using shooter_position, distance=3125.00366210938
[17:38:37] [INFO] [Bullet] Distance to wall: 3125.00366210938 (212.78724572806% of viewport)
[17:38:37] [INFO] [Bullet] Distance-based penetration chance: 7.44255085438809%
[17:38:37] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3384.485, 1905.354), shooter_id=112524790898, bullet_pos=(2505.834, 62.42848)
[17:38:37] [INFO] [Bullet] Using shooter_position, distance=2041.66625976563
[17:38:37] [INFO] [Bullet] Distance to wall: 2041.66625976563 (139.020809920648% of viewport)
[17:38:37] [INFO] [Bullet] Distance-based penetration chance: 22.1958380158704%
[17:38:37] [INFO] [Bullet] Caliber cannot penetrate walls
[17:38:37] [INFO] [BloodyFeet:GuardEnemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:38:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2128.321, 1625.934), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:38] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(3437,1499), corner_timer=-0.02
[17:38:38] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:38] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(3442,1499), corner_timer=0.30
[17:38:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3023.169, 1961.12), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[17:38:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2112.1714, 1625.9541), shooter_id=111820147784, bullet_pos=(4592.345, 1311.7305)
[17:38:38] [INFO] [Bullet] Using shooter_position, distance=2499,9998
[17:38:38] [INFO] [Bullet] Distance to wall: 2499,9998 (170,22958% of viewport)
[17:38:38] [INFO] [Bullet] Distance-based penetration chance: 15,954083%
[17:38:38] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2152.973, 1625.093), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2168.656, 1626.708), shooter_id=111820147784, bullet_pos=(3459.258, 1679.2021)
[17:38:38] [INFO] [Bullet] Using shooter_position, distance=1291,6692
[17:38:38] [INFO] [Bullet] Distance to wall: 1291,6692 (87,95213% of viewport)
[17:38:38] [INFO] [Bullet] Distance-based penetration chance: 44,05585%
[17:38:38] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:38] [ENEMY] [GuardEnemy4] Hit taken, damage: 1, health: 3/3 -> 2/3
[17:38:38] [ENEMY] [GuardEnemy4] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:38] [INFO] [ImpactEffects] spawn_blood_effect called at (3362.576, 1737.409), dir=(1, 0), lethal=false
[17:38:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:38] [INFO] [ImpactEffects] Wall found for blood splatter at (3450, 1737.409) (dist=87 px)
[17:38:38] [INFO] [BloodDecal] Blood puddle created at (3449, 1737.409) (added to group)
[17:38:38] [INFO] [ImpactEffects] Blood effect spawned at (3362.576, 1737.409) (scale=1)
[17:38:38] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-51.8°, current=180.0°, player=(3510,1549), corner_timer=0.20
[17:38:38] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[17:38:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2096.9216, 1629.8754), shooter_id=111820147784, bullet_pos=(6085.8555, 1332.6761)
[17:38:38] [INFO] [Bullet] Using shooter_position, distance=3999,99
[17:38:38] [INFO] [Bullet] Distance to wall: 3999,99 (272,3667% of viewport)
[17:38:38] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:38:38] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:38] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> IN_COVER
[17:38:38] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(3522,1561), corner_timer=-0.02
[17:38:38] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:38] [ENEMY] [GuardEnemy1] State: IN_COVER -> PURSUING
[17:38:38] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:38] [ENEMY] [GuardEnemy4] State: PURSUING -> RETREATING
[17:38:38] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(3525,1564), corner_timer=0.30
[17:38:38] [ENEMY] [GuardEnemy1] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-4.0°, current=126.3°, player=(3529,1568), corner_timer=0.00
[17:38:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2152.727, 1615.491), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:38] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=110.0°, current=-165.7°, player=(3529,1568), corner_timer=0.20
[17:38:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3071.253, 1910.903), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[17:38:38] [ENEMY] [GuardEnemy4] State: RETREATING -> IN_COVER
[17:38:38] [ENEMY] [GuardEnemy4] State: IN_COVER -> SUPPRESSED
[17:38:38] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[17:38:38] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=86.5°, current=-64.2°, player=(3557,1596), corner_timer=0.22
[17:38:38] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[17:38:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2124.559, 1605.627), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:38] [INFO] [BloodDecal] Blood puddle created at (3445.22, 1767.082) (added to group)
[17:38:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2084.5251, 1628.0527), shooter_id=111820147784, bullet_pos=(6096.9385, 870.3352)
[17:38:38] [INFO] [Bullet] Using shooter_position, distance=4083,3315
[17:38:38] [INFO] [Bullet] Distance to wall: 4083,3315 (278,04156% of viewport)
[17:38:38] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:38:38] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:38] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=True, enemies=10
[17:38:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2155.977, 1625.793), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:38] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(3605,1624), corner_timer=-0.02
[17:38:38] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:38] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(3610,1625), corner_timer=0.30
[17:38:38] [INFO] [LastChance] Threat detected: @Area2D@988
[17:38:38] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:38] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3650.703, 1824.295), side=left, pos=(2215.075, 2741.23)
[17:38:38] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[17:38:38] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -145.7°
[17:38:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2220.9177, 1628.0787), shooter_id=111820147784, bullet_pos=(3554.1208, 1646.4811)
[17:38:38] [INFO] [Bullet] Using shooter_position, distance=1333,3301
[17:38:38] [INFO] [Bullet] Distance to wall: 1333,3301 (90,7889% of viewport)
[17:38:38] [INFO] [Bullet] Distance-based penetration chance: 40,746284%
[17:38:38] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3355.312, 1823.181), shooter_id=112524790898, bullet_pos=(49.59143, 807.1807)
[17:38:38] [INFO] [Bullet] Using shooter_position, distance=3458.32934570313
[17:38:38] [INFO] [Bullet] Distance to wall: 3458.32934570313 (235.484004455843% of viewport)
[17:38:38] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:38:38] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2136.866, 1602.981), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:38] [ENEMY] [GuardEnemy4] Hit taken, damage: 1, health: 2/3 -> 1/3
[17:38:38] [ENEMY] [GuardEnemy4] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:38] [INFO] [ImpactEffects] spawn_blood_effect called at (3375.546, 1734.317), dir=(1, 0), lethal=false
[17:38:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:38] [INFO] [ImpactEffects] Wall found for blood splatter at (3450, 1734.317) (dist=74 px)
[17:38:38] [INFO] [BloodDecal] Blood puddle created at (3449, 1734.317) (added to group)
[17:38:38] [INFO] [ImpactEffects] Blood effect spawned at (3375.546, 1734.317) (scale=1)
[17:38:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2154.563, 1622.21), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:39] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(3714,1626), corner_timer=-0.02
[17:38:39] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:39] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(3720,1626), corner_timer=0.30
[17:38:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2140.4673, 1626.3507), shooter_id=111820147784, bullet_pos=(6092.4985, 1008.7023)
[17:38:39] [INFO] [Bullet] Using shooter_position, distance=4000,0051
[17:38:39] [INFO] [Bullet] Distance to wall: 4000,0051 (272,3677% of viewport)
[17:38:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2130.66, 1604.492), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:39] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -141.7°
[17:38:39] [INFO] [BloodDecal] Blood puddle created at (3438.288, 1779.187) (added to group)
[17:38:39] [INFO] [BloodDecal] Blood puddle created at (3435.792, 1777.171) (added to group)
[17:38:39] [INFO] [BloodDecal] Blood puddle created at (3444.177, 1785.234) (added to group)
[17:38:39] [INFO] [BloodDecal] Blood puddle created at (3434.901, 1784.167) (added to group)
[17:38:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2223.5552, 1633.5527), shooter_id=111820147784, bullet_pos=(3472.5688, 1683.2695)
[17:38:39] [INFO] [Bullet] Using shooter_position, distance=1250,0028
[17:38:39] [INFO] [Bullet] Distance to wall: 1250,0028 (85,11499% of viewport)
[17:38:39] [INFO] [Bullet] Distance-based penetration chance: 47,36585%
[17:38:39] [INFO] [Bullet] Starting wall penetration at (3472.5688, 1683.2695)
[17:38:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2152.629, 1624.724), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:38:39] [INFO] [Bullet] Exiting penetration at (3519.1987, 1685.1256) after traveling 41,666668 pixels through wall
[17:38:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:38:39] [ENEMY] [GuardEnemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-81.3°, current=-33.8°, player=(3791,1626), corner_timer=0.00
[17:38:39] [ENEMY] [GuardEnemy6] State: IDLE -> COMBAT
[17:38:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2204.2522, 1611.8268), shooter_id=111820147784, bullet_pos=(3451.6545, 1692.3529)
[17:38:39] [INFO] [Bullet] Using shooter_position, distance=1249,9989
[17:38:39] [INFO] [Bullet] Distance to wall: 1249,9989 (85,11472% of viewport)
[17:38:39] [INFO] [Bullet] Distance-based penetration chance: 47,36616%
[17:38:39] [INFO] [Bullet] Starting wall penetration at (3451.6545, 1692.3529)
[17:38:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2132.402, 1604.206), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[17:38:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[17:38:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:38:39] [INFO] [Bullet] Exiting penetration at (3498.224, 1695.3593) after traveling 41,666668 pixels through wall
[17:38:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:38:39] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(3824,1626), corner_timer=-0.02
[17:38:39] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:39] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(3830,1626), corner_timer=0.30
[17:38:39] [ENEMY] [GuardEnemy4] Hit taken, damage: 1, health: 1/3 -> 0/3
[17:38:39] [ENEMY] [GuardEnemy4] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:39] [INFO] [ImpactEffects] spawn_blood_effect called at (3375.546, 1734.317), dir=(1, 0), lethal=true
[17:38:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:39] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[17:38:39] [INFO] [ImpactEffects] Wall found for blood splatter at (3450, 1734.317) (dist=74 px)
[17:38:39] [INFO] [BloodDecal] Blood puddle created at (3449, 1734.317) (added to group)
[17:38:39] [INFO] [ImpactEffects] Blood effect spawned at (3375.546, 1734.317) (scale=1.5)
[17:38:39] [ENEMY] [GuardEnemy4] Enemy died (ricochet: false, penetration: false)
[17:38:39] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[17:38:39] [ENEMY] [GuardEnemy4] [AllyDeath] Notified 1 enemies
[17:38:39] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy4 (remaining: 9)
[17:38:39] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[17:38:39] [ENEMY] [GuardEnemy4] Death animation started with hit direction: (1, 0)
[17:38:39] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -116.4°
[17:38:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2154.056, 1624.776), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[17:38:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=3
[17:38:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2133.354, 1603.398), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[17:38:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=3
[17:38:39] [ENEMY] [GuardEnemy2] State: RETREATING -> IN_COVER
[17:38:39] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[17:38:39] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=-10.3°, current=1.7°, player=(3902,1664), corner_timer=0.07
[17:38:39] [INFO] [BloodDecal] Blood puddle created at (3412.686, 1735.354) (added to group)
[17:38:39] [INFO] [BloodDecal] Blood puddle created at (3422.431, 1749.65) (added to group)
[17:38:39] [INFO] [ReplayManager] Recording frame 1020 (17,0s): player_valid=True, enemies=10
[17:38:39] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(3906,1673), corner_timer=-0.02
[17:38:39] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:39] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(3907,1677), corner_timer=0.30
[17:38:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2221.701, 1632.8246), shooter_id=111820147784, bullet_pos=(2801.597, 1696.0553)
[17:38:39] [INFO] [Bullet] Using shooter_position, distance=583,33307
[17:38:39] [INFO] [Bullet] Distance to wall: 583,33307 (39,720222% of viewport)
[17:38:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:39] [INFO] [Bullet] Starting wall penetration at (2801.597, 1696.0553)
[17:38:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:38:39] [INFO] [Bullet] Exiting penetration at (2847.9885, 1701.1138) after traveling 41,66667 pixels through wall
[17:38:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:38:39] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -113.6°
[17:38:39] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[17:38:39] [ENEMY] [GuardEnemy1] FLANKING started: target=(3812.2, 1562.302), side=right, pos=(1382.25, 1720.489)
[17:38:39] [ENEMY] [GuardEnemy1] State: PURSUING -> FLANKING
[17:38:39] [ENEMY] [GuardEnemy4] Ragdoll activated
[17:38:39] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[17:38:39] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 63.0°
[17:38:40] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-78.0°, current=-78.0°, player=(3911,1780), corner_timer=0.00
[17:38:40] [ENEMY] [GuardEnemy6] State: COMBAT -> PURSUING
[17:38:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2191.9878, 1613.1555), shooter_id=111820147784, bullet_pos=(6063.567, 1450.292)
[17:38:40] [INFO] [Bullet] Using shooter_position, distance=3875,0032
[17:38:40] [INFO] [Bullet] Distance to wall: 3875,0032 (263,8561% of viewport)
[17:38:40] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:38:40] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:40] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -110.0°
[17:38:40] [ENEMY] [SniperEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=140.1°, current=-168.8°, player=(3911,1813), corner_timer=0.00
[17:38:40] [ENEMY] [SniperEnemy1] State: IDLE -> COMBAT
[17:38:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2200.5603, 1613.0985), shooter_id=111820147784, bullet_pos=(3487.3403, 1725.307)
[17:38:40] [INFO] [Bullet] Using shooter_position, distance=1291,6631
[17:38:40] [INFO] [Bullet] Distance to wall: 1291,6631 (87,95172% of viewport)
[17:38:40] [INFO] [Bullet] Distance-based penetration chance: 44,05633%
[17:38:40] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:40] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=140.0°, current=-171.6°, player=(3911,1818), corner_timer=0.00
[17:38:40] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.8°, current=-177.3°, player=(3911,1829), corner_timer=0.00
[17:38:40] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.5°, current=176.9°, player=(3911,1840), corner_timer=0.00
[17:38:40] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.3°, current=171.2°, player=(3911,1851), corner_timer=0.00
[17:38:40] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -91.0°
[17:38:40] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.2°, current=168.3°, player=(3911,1857), corner_timer=0.00
[17:38:40] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-24.9°, current=-24.8°, player=(3911,1862), corner_timer=0.13
[17:38:40] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[17:38:40] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -88.4°
[17:38:40] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2198.0881, 1613.2172), shooter_id=111820147784, bullet_pos=(6094.0396, 1211.0206)
[17:38:40] [INFO] [Bullet] Using shooter_position, distance=3916,6565
[17:38:40] [INFO] [Bullet] Distance to wall: 3916,6565 (266,69235% of viewport)
[17:38:40] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=5.6°, current=-1.4°, player=(3906,1992), corner_timer=0.22
[17:38:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3055.4, 1908.774), source=ENEMY (GuardEnemy3), range=2000, listeners=9
[17:38:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[17:38:40] [INFO] [ReplayManager] Recording frame 1080 (18,0s): player_valid=True, enemies=10
[17:38:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2220.3193, 1632.5955), shooter_id=111820147784, bullet_pos=(6072.917, 1216.4568)
[17:38:40] [INFO] [Bullet] Using shooter_position, distance=3875,007
[17:38:40] [INFO] [Bullet] Distance to wall: 3875,007 (263,85635% of viewport)
[17:38:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2715.031, 2431.062), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[17:38:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[17:38:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2199.8323, 1612.8948), shooter_id=111820147784, bullet_pos=(6071.366, 1449.0663)
[17:38:40] [INFO] [Bullet] Using shooter_position, distance=3874,9988
[17:38:40] [INFO] [Bullet] Distance to wall: 3874,9988 (263,8558% of viewport)
[17:38:40] [ENEMY] [GuardEnemy1] FLANKING corner check: angle -86.0°
[17:38:40] [ENEMY] [GuardEnemy4] Death animation completed
[17:38:40] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-77.9°, current=-77.9°, player=(3852,2058), corner_timer=0.00
[17:38:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2750.434, 2419.214), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[17:38:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[17:38:41] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=86.5°, current=67.9°, player=(3824,2085), corner_timer=0.22
[17:38:41] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[17:38:41] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[17:38:41] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=13.8°, current=59.9°, player=(3816,2092), corner_timer=0.22
[17:38:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2791.098, 2406.298), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[17:38:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[17:38:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2791.098, 2406.298), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[17:38:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[17:38:41] [INFO] [LastChance] Threat detected: Bullet
[17:38:41] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:41] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:41] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 122.9°
[17:38:41] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[17:38:41] [ENEMY] [GuardEnemy6] State: PURSUING -> COMBAT
[17:38:41] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[17:38:41] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[17:38:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[17:38:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:41] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[17:38:41] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[17:38:41] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[17:38:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[17:38:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[17:38:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[17:38:41] [INFO] [CinemaEffects] Scene changed to: CityLevel
[17:38:41] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[17:38:41] [INFO] [EnemyGrenade] Initialized: 1 grenades
[17:38:41] [ENEMY] [SniperEnemy1] Death animation component initialized
[17:38:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:41] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[17:38:41] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[17:38:41] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[17:38:41] [ENEMY] [SniperEnemy2] Death animation component initialized
[17:38:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:41] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[17:38:41] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[17:38:41] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[17:38:41] [ENEMY] [GuardEnemy1] Death animation component initialized
[17:38:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:41] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[17:38:41] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[17:38:41] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[17:38:41] [ENEMY] [GuardEnemy2] Death animation component initialized
[17:38:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:41] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[17:38:41] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[17:38:41] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[17:38:41] [ENEMY] [GuardEnemy3] Death animation component initialized
[17:38:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:41] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[17:38:41] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[17:38:41] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[17:38:41] [ENEMY] [GuardEnemy4] Death animation component initialized
[17:38:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:41] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[17:38:41] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[17:38:41] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[17:38:41] [ENEMY] [PatrolEnemy1] Death animation component initialized
[17:38:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:41] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[17:38:41] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[17:38:41] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[17:38:41] [ENEMY] [PatrolEnemy2] Death animation component initialized
[17:38:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:41] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[17:38:41] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[17:38:41] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[17:38:41] [ENEMY] [GuardEnemy5] Death animation component initialized
[17:38:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:41] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[17:38:41] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[17:38:41] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[17:38:41] [ENEMY] [GuardEnemy6] Death animation component initialized
[17:38:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[17:38:41] [INFO] [BloodyFeet:Player] Footprint scene loaded
[17:38:41] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[17:38:41] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[17:38:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[17:38:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[17:38:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[17:38:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[17:38:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[17:38:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[17:38:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[17:38:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[17:38:41] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[17:38:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[17:38:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[17:38:41] [INFO] [ScoreManager] Level started with 10 enemies
[17:38:41] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[17:38:41] [INFO] [ReplayManager] Replay data cleared
[17:38:41] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[17:38:41] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[17:38:41] [INFO] [ReplayManager] Level: CityLevel
[17:38:41] [INFO] [ReplayManager] Player: Player (valid: True)
[17:38:41] [INFO] [ReplayManager] Enemies count: 10
[17:38:41] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[17:38:41] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[17:38:41] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[17:38:41] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[17:38:41] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[17:38:41] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[17:38:41] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[17:38:41] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[17:38:41] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[17:38:41] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[17:38:41] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[17:38:41] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[17:38:41] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[17:38:41] [INFO] [CinemaEffects] Found player node: Player
[17:38:41] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[17:38:41] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 10)
[17:38:41] [ENEMY] [SniperEnemy1] Registered as sound listener
[17:38:41] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 4, behavior: GUARD
[17:38:41] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[17:38:41] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 11)
[17:38:41] [ENEMY] [SniperEnemy2] Registered as sound listener
[17:38:41] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 5, behavior: GUARD
[17:38:41] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[17:38:41] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 12)
[17:38:41] [ENEMY] [GuardEnemy1] Registered as sound listener
[17:38:41] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 3, behavior: GUARD
[17:38:41] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[17:38:41] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 13)
[17:38:41] [ENEMY] [GuardEnemy2] Registered as sound listener
[17:38:41] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 4, behavior: GUARD
[17:38:41] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[17:38:41] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 14)
[17:38:41] [ENEMY] [GuardEnemy3] Registered as sound listener
[17:38:41] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 3, behavior: GUARD
[17:38:41] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[17:38:41] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 15)
[17:38:41] [ENEMY] [GuardEnemy4] Registered as sound listener
[17:38:41] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 2, behavior: GUARD
[17:38:41] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[17:38:41] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 16)
[17:38:41] [ENEMY] [PatrolEnemy1] Registered as sound listener
[17:38:41] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 2, behavior: PATROL
[17:38:41] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[17:38:41] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 17)
[17:38:41] [ENEMY] [PatrolEnemy2] Registered as sound listener
[17:38:41] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 3, behavior: PATROL
[17:38:41] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[17:38:41] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 18)
[17:38:41] [ENEMY] [GuardEnemy5] Registered as sound listener
[17:38:41] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 4, behavior: GUARD
[17:38:41] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[17:38:41] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 19)
[17:38:41] [ENEMY] [GuardEnemy6] Registered as sound listener
[17:38:41] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 4, behavior: GUARD
[17:38:41] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[17:38:41] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[17:38:41] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:41] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:41] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:41] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:41] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:41] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:41] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:41] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[17:38:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[17:38:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[17:38:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[17:38:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[17:38:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[17:38:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[17:38:41] [INFO] [LastChance] Found player: Player
[17:38:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[17:38:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[17:38:41] [INFO] [LastChance] Connected to player Died signal (C#)
[17:38:41] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[17:38:41] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=124.7°, current=77.3°, player=(300,2500), corner_timer=0.00
[17:38:41] [ENEMY] [GuardEnemy1] State: IDLE -> COMBAT
[17:38:41] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=124.7°, current=-152.2°, player=(300,2500), corner_timer=0.00
[17:38:41] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=124.8°, current=173.5°, player=(300,2495), corner_timer=0.00
[17:38:42] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=176.8°, current=128.9°, player=(300,2485), corner_timer=0.00
[17:38:42] [ENEMY] [GuardEnemy3] State: IDLE -> COMBAT
[17:38:42] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=176.9°, current=-48.5°, player=(300,2478), corner_timer=0.00
[17:38:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.926, 1330.844), source=ENEMY (GuardEnemy1), range=1469, listeners=19
[17:38:42] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[17:38:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:42] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[17:38:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1085.484, 1360.679), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:42] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[17:38:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1062.516, 1390.11), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:42] [ENEMY] [GuardEnemy3] State: COMBAT -> PURSUING
[17:38:42] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 92.2°
[17:38:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1066.495, 1415.939), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1070.539, 1441.757), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:42] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-179.1°, current=-160.6°, player=(300,2256), corner_timer=0.13
[17:38:42] [ENEMY] [GuardEnemy3] Warning: No valid flank position (both sides behind walls)
[17:38:42] [ENEMY] [GuardEnemy3] FLANKING started: target=(402.5925, 2084.985), side=left, pos=(3376.143, 2302.916)
[17:38:42] [ENEMY] [GuardEnemy3] State: PURSUING -> FLANKING
[17:38:42] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[17:38:42] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:42] [ENEMY] [GuardEnemy3] State: FLANKING -> COMBAT
[17:38:42] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(300,2234), corner_timer=0.30
[17:38:42] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(300,2234), corner_timer=0.30
[17:38:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1074.462, 1467.594), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1073.9485, 1389.8241), shooter_id=966652857044, bullet_pos=(61.958557, 2766.1545)
[17:38:42] [INFO] [Bullet] Using shooter_position, distance=1708,3352
[17:38:42] [INFO] [Bullet] Distance to wall: 1708,3352 (116,323685% of viewport)
[17:38:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.386, 1493.431), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:42] [INFO] [LastChance] Threat detected: @Area2D@1330
[17:38:42] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.4755, 1419.0543), shooter_id=966652857044, bullet_pos=(67.253685, 2712.8455)
[17:38:43] [INFO] [Bullet] Using shooter_position, distance=1624,9987
[17:38:43] [INFO] [Bullet] Distance to wall: 1624,9987 (110,64915% of viewport)
[17:38:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.308, 1519.269), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:43] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(300,2130), corner_timer=-0.02
[17:38:43] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[17:38:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(300,2130), corner_timer=-0.02
[17:38:43] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:43] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(300,2124), corner_timer=0.30
[17:38:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(300,2124), corner_timer=0.30
[17:38:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1028.2708, 1472.2883), shooter_id=966652857044, bullet_pos=(54.772682, 2443.331)
[17:38:43] [INFO] [Bullet] Using shooter_position, distance=1374,9991
[17:38:43] [INFO] [Bullet] Distance to wall: 1374,9991 (93,62623% of viewport)
[17:38:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.3922, 1447.8296), shooter_id=966652857044, bullet_pos=(51.19748, 2799.4116)
[17:38:43] [INFO] [Bullet] Using shooter_position, distance=1666,667
[17:38:43] [INFO] [Bullet] Distance to wall: 1666,667 (113,48642% of viewport)
[17:38:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1086.231, 1545.106), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:43] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[17:38:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1090.156, 1570.943), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1031.696, 1520.5879), shooter_id=966652857044, bullet_pos=(67.39859, 2248.7358)
[17:38:43] [INFO] [Bullet] Using shooter_position, distance=1208,3331
[17:38:43] [INFO] [Bullet] Distance to wall: 1208,3331 (82,277626% of viewport)
[17:38:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3189.766, 2293.044), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1030.0957, 1496.54), shooter_id=966652857044, bullet_pos=(48.59433, 2791.6409)
[17:38:43] [INFO] [Bullet] Using shooter_position, distance=1625,0018
[17:38:43] [INFO] [Bullet] Distance to wall: 1625,0018 (110,64937% of viewport)
[17:38:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1094.08, 1596.781), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:43] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(300,2020), corner_timer=-0.02
[17:38:43] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[17:38:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(300,2020), corner_timer=-0.02
[17:38:43] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:43] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(300,2014), corner_timer=0.30
[17:38:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(300,2014), corner_timer=0.30
[17:38:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1033.1974, 1544.3805), shooter_id=966652857044, bullet_pos=(55.28148, 2450.7244)
[17:38:43] [INFO] [Bullet] Using shooter_position, distance=1333,3337
[17:38:43] [INFO] [Bullet] Distance to wall: 1333,3337 (90,789154% of viewport)
[17:38:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1106.553, 1616.102), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.7504, 1652.1343), shooter_id=966652857044, bullet_pos=(1048.7504, 1652.1343)
[17:38:43] [INFO] [Bullet] Using shooter_position, distance=0
[17:38:43] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[17:38:43] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[17:38:43] [INFO] [Bullet] Starting wall penetration at (1048.7504, 1652.1343)
[17:38:43] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48,112514
[17:38:43] [INFO] [Bullet] Body exited signal received for penetrating body
[17:38:43] [INFO] [Bullet] Exiting penetration at (1008.4192, 1675.6112) after traveling 41,66667 pixels through wall
[17:38:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:38:43] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1034.6145, 1567.8865), shooter_id=966652857044, bullet_pos=(61.224403, 2352.1125)
[17:38:43] [INFO] [Bullet] Using shooter_position, distance=1249,9995
[17:38:43] [INFO] [Bullet] Distance to wall: 1249,9995 (85,11476% of viewport)
[17:38:43] [INFO] [Bullet] Distance-based penetration chance: 47,36611%
[17:38:43] [INFO] [Bullet] Starting wall penetration at (61.224403, 2352.1125)
[17:38:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,137481
[17:38:43] [INFO] [Bullet] Body exited signal received for penetrating body
[17:38:43] [INFO] [Bullet] Exiting penetration at (24.884518, 2381.3904) after traveling 41,66667 pixels through wall
[17:38:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:38:43] [INFO] [LastChance] Threat detected: @Area2D@1344
[17:38:43] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:43] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=20.6°, current=156.4°, player=(304,1978), corner_timer=0.00
[17:38:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3110.107, 2285.695), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1035.9733, 1591.0754), shooter_id=966652857044, bullet_pos=(54.37134, 2295.7202)
[17:38:43] [INFO] [Bullet] Using shooter_position, distance=1208,3322
[17:38:43] [INFO] [Bullet] Distance to wall: 1208,3322 (82,27756% of viewport)
[17:38:43] [INFO] [Bullet] Distance-based penetration chance: 50,676178%
[17:38:43] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3110.107, 2285.695), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:43] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:43] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:43] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1037.3093, 1613.919), shooter_id=966652857044, bullet_pos=(37.93555, 2130.5208)
[17:38:43] [INFO] [Bullet] Using shooter_position, distance=1125,0001
[17:38:43] [INFO] [Bullet] Distance to wall: 1125,0001 (76,60333% of viewport)
[17:38:43] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:43] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(343,1928), corner_timer=-0.02
[17:38:43] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[17:38:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(343,1928), corner_timer=-0.02
[17:38:43] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:43] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(347,1924), corner_timer=0.30
[17:38:43] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(347,1924), corner_timer=0.30
[17:38:43] [ENEMY] [GuardEnemy1] State: RETREATING -> IN_COVER
[17:38:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3110.107, 2285.695), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:43] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1038.6642, 1636.3951), shooter_id=966652857044, bullet_pos=(35.393093, 2145.3875)
[17:38:43] [INFO] [Bullet] Using shooter_position, distance=1125,0005
[17:38:43] [INFO] [Bullet] Distance to wall: 1125,0005 (76,603355% of viewport)
[17:38:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3110.107, 2285.695), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:43] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:43] [ENEMY] [GuardEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:44] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3110.107, 2285.695), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:44] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[17:38:44] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[17:38:44] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:44] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[17:38:44] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3110.107, 2285.695), source=ENEMY (GuardEnemy3), range=2000, listeners=10
[17:38:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=5
[17:38:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(421,1850), corner_timer=-0.02
[17:38:44] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[17:38:44] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(421,1850), corner_timer=-0.02
[17:38:44] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(425,1846), corner_timer=0.30
[17:38:44] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(425,1846), corner_timer=0.30
[17:38:44] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=92.2°, current=-170.4°, player=(436,1834), corner_timer=0.08
[17:38:44] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[17:38:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(503,1783), corner_timer=-0.02
[17:38:44] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[17:38:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(508,1782), corner_timer=0.30
[17:38:44] [ENEMY] [GuardEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:44] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-139.5°, current=-90.0°, player=(618,1781), corner_timer=0.18
[17:38:44] [ENEMY] [PatrolEnemy1] State: IDLE -> COMBAT
[17:38:44] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-139.3°, current=124.9°, player=(629,1781), corner_timer=0.18
[17:38:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-137.6°, current=175.2°, player=(717,1769), corner_timer=0.18
[17:38:45] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[17:38:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2277.316, 3192.74), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[17:38:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:45] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2250.73, 3166.531), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[17:38:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=2
[17:38:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-134.2°, current=-134.2°, player=(808,1683), corner_timer=0.18
[17:38:45] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[17:38:45] [ENEMY] [PatrolEnemy1] State: PURSUING -> RETREATING
[17:38:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-90.0°, current=-133.9°, player=(820,1671), corner_timer=0.18
[17:38:45] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[17:38:45] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=128.4°, player=(921,1570), corner_timer=-0.02
[17:38:46] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=131.3°, player=(925,1566), corner_timer=0.30
[17:38:46] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[17:38:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1012,1531), corner_timer=-0.02
[17:38:46] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1016,1531), corner_timer=0.30
[17:38:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1043.525, 1536.386), source=PLAYER (AssaultRifle), range=1469, listeners=10
[17:38:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[17:38:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2224.401, 3152.1038), shooter_id=968062142393, bullet_pos=(59.868896, 1015.1606)
[17:38:46] [INFO] [Bullet] Using shooter_position, distance=3041,6648
[17:38:46] [INFO] [Bullet] Distance to wall: 3041,6648 (207,11255% of viewport)
[17:38:46] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> IN_COVER
[17:38:46] [ENEMY] [GuardEnemy1] Hit taken, damage: 1, health: 3/3 -> 2/3
[17:38:46] [ENEMY] [GuardEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1331.936, 1608.058), dir=(1, 0), lethal=false
[17:38:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:46] [INFO] [ImpactEffects] Blood effect spawned at (1331.936, 1608.058) (scale=1)
[17:38:46] [ENEMY] [GuardEnemy1] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=-164.9°, current=180.0°, player=(1043,1530), corner_timer=0.00
[17:38:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1331.936, 1608.058), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:46] [ENEMY] [GuardEnemy3] State: IN_COVER -> PURSUING
[17:38:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1043,1530), corner_timer=-0.02
[17:38:46] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1043.671, 1536.381), source=PLAYER (AssaultRifle), range=1469, listeners=10
[17:38:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[17:38:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2197.5442, 3124.049), shooter_id=968062142393, bullet_pos=(42.90991, 977.1255)
[17:38:46] [INFO] [Bullet] Using shooter_position, distance=3041,6658
[17:38:46] [INFO] [Bullet] Distance to wall: 3041,6658 (207,11263% of viewport)
[17:38:46] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-159.9°, current=92.2°, player=(1043,1530), corner_timer=0.08
[17:38:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1043,1530), corner_timer=0.30
[17:38:46] [INFO] [LastChance] Threat detected: @Area2D@1409
[17:38:46] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:38:46] [INFO] [Player] Spawning blood effect at (1043.6708, 1530.3807), dir=(1, 0), lethal=False (C#)
[17:38:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1043.671, 1530.381), dir=(1, 0), lethal=false
[17:38:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:46] [INFO] [ImpactEffects] Blood effect spawned at (1043.671, 1530.381) (scale=1)
[17:38:46] [ENEMY] [GuardEnemy1] Hit taken, damage: 1, health: 2/3 -> 1/3
[17:38:46] [ENEMY] [GuardEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1331.936, 1608.058), dir=(1, 0), lethal=false
[17:38:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:46] [INFO] [ImpactEffects] Blood effect spawned at (1331.936, 1608.058) (scale=1)
[17:38:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1331.936, 1608.058), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[17:38:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[17:38:46] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1043.671, 1536.381), source=PLAYER (AssaultRifle), range=1469, listeners=10
[17:38:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[17:38:46] [INFO] [LastChance] Threat detected: @Area2D@1417
[17:38:46] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:38:46] [INFO] [Player] Spawning blood effect at (1043.6708, 1530.3807), dir=(1, 0), lethal=False (C#)
[17:38:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1043.671, 1530.381), dir=(1, 0), lethal=false
[17:38:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:46] [INFO] [ImpactEffects] Blood effect spawned at (1043.671, 1530.381) (scale=1)
[17:38:46] [ENEMY] [GuardEnemy1] Hit taken, damage: 1, health: 1/3 -> 0/3
[17:38:46] [ENEMY] [GuardEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1331.936, 1608.058), dir=(1, 0), lethal=true
[17:38:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:46] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[17:38:46] [INFO] [ImpactEffects] Blood effect spawned at (1331.936, 1608.058) (scale=1.5)
[17:38:46] [ENEMY] [GuardEnemy1] Enemy died (ricochet: false, penetration: false)
[17:38:46] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[17:38:46] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy1 (remaining: 9)
[17:38:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[17:38:46] [ENEMY] [GuardEnemy1] Death animation started with hit direction: (1, 0)
[17:38:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1043.671, 1536.381), source=PLAYER (AssaultRifle), range=1469, listeners=9
[17:38:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=0, below_threshold=1
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1389.943, 1649.71) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1371.735, 1612.975) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1387.063, 1605.102) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1385.231, 1634.098) (added to group)
[17:38:47] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1043,1530), corner_timer=-0.01
[17:38:47] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:47] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.7°, player=(1043,1530), corner_timer=0.30
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1411.099, 1636.364) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1085.756, 1569.454) (added to group)
[17:38:47] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1473.484, 1687.859) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1158.939, 1575.074) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1385.829, 1636.866) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1400.488, 1654.195) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1135.839, 1547.33) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1417.746, 1679.278) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1389.359, 1606.164) (added to group)
[17:38:47] [INFO] [ReplayManager] Recording frame 360 (5,9s): player_valid=True, enemies=10
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1143.37, 1593.056) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1447.947, 1584.585) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1388.514, 1637.048) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1456.816, 1722.333) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1463.213, 1705.114) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1167.525, 1597.04) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1462.612, 1595.746) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1125.81, 1552.941) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1414.18, 1635.069) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1112.865, 1558.111) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1121.581, 1520.137) (added to group)
[17:38:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1043.6708, 1536.3807), shooter_id=969521761638, bullet_pos=(1871.082, 1739.5972)
[17:38:47] [INFO] [Bullet] Using shooter_position, distance=852,00134
[17:38:47] [INFO] [Bullet] Distance to wall: 852,00134 (58,01434% of viewport)
[17:38:47] [INFO] [Bullet] Distance-based penetration chance: 78,98327%
[17:38:47] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1413.33, 1675.821) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1457.533, 1626.961) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1139.94, 1554.44) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1131.724, 1553.062) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1440.398, 1687.01) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1395, 1635.914) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1474.395, 1757.963) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1420.417, 1705.042) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1150.739, 1560.509) (added to group)
[17:38:47] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1063,1530), corner_timer=-0.01
[17:38:47] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1159.873, 1558.848) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1503.676, 1732.708) (added to group)
[17:38:47] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.7°, player=(1066,1530), corner_timer=0.30
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1442.671, 1703.262) (added to group)
[17:38:47] [ENEMY] [GuardEnemy1] Ragdoll activated
[17:38:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1430.989, 1686.807) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1470.749, 1682.51) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1554.544, 1839.217) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1529.66, 1703.117) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1122.52, 1567.708) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1455.344, 1618.76) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1420.644, 1626.926) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1193.73, 1540.599) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1136.083, 1575.731) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1416.149, 1634.598) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1428.026, 1670.57) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1428.64, 1674.782) (added to group)
[17:38:47] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:38:47] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1492.823, 1762.056) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1493.555, 1729.516) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1144.971, 1621.876) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1474.481, 1749.973) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1475.043, 1626.118) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1501.899, 1641.523) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1183.061, 1619.371) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1427.716, 1662.672) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1251.216, 1532.851) (added to group)
[17:38:47] [INFO] [BloodDecal] Blood puddle created at (1524.44, 1799.513) (added to group)
[17:38:47] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1163,1530), corner_timer=-0.01
[17:38:47] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:47] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.7°, player=(1167,1530), corner_timer=0.30
[17:38:48] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:48] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-120.9°, current=-90.0°, player=(1264,1530), corner_timer=0.18
[17:38:48] [INFO] [ReplayManager] Recording frame 420 (6,7s): player_valid=True, enemies=10
[17:38:48] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1268,1530), corner_timer=-0.01
[17:38:48] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:48] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.7°, player=(1273,1530), corner_timer=0.30
[17:38:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2232.03, 3147.52), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[17:38:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[17:38:48] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2232.03, 3147.52), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[17:38:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[17:38:48] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:38:48] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-90.0°, current=-36.5°, player=(1330,1530), corner_timer=0.18
[17:38:48] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1374,1530), corner_timer=-0.01
[17:38:48] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[17:38:48] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.7°, player=(1378,1530), corner_timer=0.30
[17:38:48] [ENEMY] [GuardEnemy1] Death animation completed
[17:38:48] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-119.4°, current=-70.9°, player=(1396,1530), corner_timer=0.18
[17:38:48] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:48] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-90.0°, current=-98.4°, player=(1449,1530), corner_timer=0.18
[17:38:49] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[17:38:49] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2190.3652, 3089.5793), shooter_id=968062142393, bullet_pos=(1122.3136, 1943.4042)
[17:38:49] [INFO] [Bullet] Using shooter_position, distance=1566,669
[17:38:49] [INFO] [Bullet] Distance to wall: 1566,669 (106,677376% of viewport)
[17:38:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2191.2104, 3090.6926), shooter_id=968062142393, bullet_pos=(1297.6431, 1927.6575)
[17:38:49] [INFO] [Bullet] Using shooter_position, distance=1466,6675
[17:38:49] [INFO] [Bullet] Distance to wall: 1466,6675 (99,86809% of viewport)
[17:38:49] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:49] [INFO] [ReplayManager] Recording frame 480 (7,5s): player_valid=True, enemies=10
[17:38:49] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[17:38:49] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:50] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:50] [INFO] [ReplayManager] Recording frame 540 (8,4s): player_valid=True, enemies=10
[17:38:50] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:50] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:50] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=-34.4°, player=(1984,1530), corner_timer=-0.01
[17:38:50] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:50] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=-31.5°, player=(1990,1530), corner_timer=0.30
[17:38:51] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:51] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2076,1486), corner_timer=-0.02
[17:38:51] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:51] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2080,1483), corner_timer=0.30
[17:38:51] [INFO] [ReplayManager] Recording frame 600 (9,4s): player_valid=True, enemies=10
[17:38:51] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[17:38:51] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[17:38:51] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:51] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-97.3°, current=-90.0°, player=(2127,1436), corner_timer=0.18
[17:38:51] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2154,1409), corner_timer=-0.02
[17:38:51] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:51] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2158,1405), corner_timer=0.30
[17:38:51] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:51] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2232,1331), corner_timer=-0.02
[17:38:51] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:51] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2236,1327), corner_timer=0.30
[17:38:52] [ENEMY] [GuardEnemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-111.1°, current=-160.2°, player=(2279,1288), corner_timer=0.00
[17:38:52] [ENEMY] [GuardEnemy6] State: IDLE -> COMBAT
[17:38:52] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 98.5°
[17:38:52] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-110.9°, current=94.6°, player=(2285,1283), corner_timer=0.00
[17:38:52] [ENEMY] [GuardEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=144.4°, current=96.4°, player=(2303,1269), corner_timer=0.00
[17:38:52] [ENEMY] [GuardEnemy2] State: IDLE -> COMBAT
[17:38:52] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=141.8°, current=-162.4°, player=(2316,1265), corner_timer=0.00
[17:38:52] [INFO] [ReplayManager] Recording frame 660 (10,4s): player_valid=True, enemies=10
[17:38:52] [ENEMY] [GuardEnemy3] PURSUING corner check: angle 125.4°
[17:38:52] [ENEMY] [GuardEnemy6] State: COMBAT -> PURSUING
[17:38:52] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[17:38:52] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=113.1°, current=161.3°, player=(2373,1263), corner_timer=0.00
[17:38:52] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-109.2°, current=-157.8°, player=(2373,1262), corner_timer=0.00
[17:38:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2400, 1200), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[17:38:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[17:38:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-37.0°, current=-37.2°, player=(2371,1262), corner_timer=-0.02
[17:38:52] [ENEMY] [GuardEnemy3] PURSUING corner check: angle 125.2°
[17:38:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:38:52] [INFO] [Player] Spawning blood effect at (2369.8643, 1262.9277), dir=(1, 0), lethal=False (C#)
[17:38:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2369.864, 1262.928), dir=(1, 0), lethal=false
[17:38:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:52] [INFO] [ImpactEffects] Blood effect spawned at (2369.864, 1262.928) (scale=1)
[17:38:52] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[17:38:52] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-36.3°, current=72.4°, player=(2360,1262), corner_timer=0.27
[17:38:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2400, 1200), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[17:38:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[17:38:52] [ENEMY] [GuardEnemy6] State: PURSUING -> COMBAT
[17:38:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:38:52] [INFO] [Player] Spawning blood effect at (2350.2166, 1262.8722), dir=(1, 0), lethal=False (C#)
[17:38:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2350.217, 1262.872), dir=(1, 0), lethal=false
[17:38:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:52] [INFO] [ImpactEffects] Blood effect spawned at (2350.217, 1262.872) (scale=1)
[17:38:52] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2172.082, 1361.488), side=right, pos=(2331.929, 3042.333)
[17:38:52] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[17:38:52] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[17:38:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2400, 1200), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[17:38:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[17:38:52] [INFO] [LastChance] Threat detected: Bullet
[17:38:52] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:38:52] [INFO] [Player] Spawning blood effect at (2312.116, 1266.0309), dir=(1, 0), lethal=False (C#)
[17:38:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2312.116, 1266.031), dir=(1, 0), lethal=false
[17:38:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:52] [INFO] [ImpactEffects] Blood effect spawned at (2312.116, 1266.031) (scale=1)
[17:38:52] [INFO] [BloodDecal] Blood puddle created at (2431.538, 1277.44) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2467.879, 1283.307) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2453.56, 1244.169) (added to group)
[17:38:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2402.004, 1174.011), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[17:38:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2483.619, 1288.073) (added to group)
[17:38:53] [INFO] [LastChance] Threat detected: Bullet
[17:38:53] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:53] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 122.8°
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2457.441, 1285.237) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2483.243, 1255.513) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2390.154, 1291.183) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2421.977, 1287.436) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2478.868, 1335.441) (added to group)
[17:38:53] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-38.1°, current=10.3°, player=(2274,1285), corner_timer=0.27
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2417.164, 1286.22) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2401.824, 1300.398) (added to group)
[17:38:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2403.43, 1147.927), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[17:38:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2477.781, 1286.605) (added to group)
[17:38:53] [INFO] [LastChance] Threat detected: Bullet
[17:38:53] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:53] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-89.3°, current=-138.8°, player=(2267,1289), corner_timer=0.20
[17:38:53] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2471.9, 1275.183) (added to group)
[17:38:53] [INFO] [BloodyFeet:GuardEnemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2367.595, 1302.364) (added to group)
[17:38:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:38:53] [INFO] [Player] Spawning blood effect at (2263.207, 1292.2883), dir=(1, 0), lethal=False (C#)
[17:38:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2263.207, 1292.288), dir=(1, 0), lethal=false
[17:38:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:53] [INFO] [ImpactEffects] Blood effect spawned at (2263.207, 1292.288) (scale=1)
[17:38:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1562.112, 1844.937), source=ENEMY (GuardEnemy3), range=2000, listeners=9
[17:38:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[17:38:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2404.547, 1121.818), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[17:38:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[17:38:53] [INFO] [ReplayManager] Recording frame 720 (11,4s): player_valid=True, enemies=10
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2396.217, 1285.762) (added to group)
[17:38:53] [INFO] [LastChance] Threat detected: Bullet
[17:38:53] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3286.074, 3895.288), source=ENEMY (GuardEnemy6), range=2000, listeners=9
[17:38:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=3
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2418.331, 1287.563) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2501.388, 1261.207) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2443.292, 1343.83) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2379.26, 1275.117) (added to group)
[17:38:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2405.676, 1095.709), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[17:38:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[17:38:53] [INFO] [LastChance] Threat detected: @Area2D@1566
[17:38:53] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2492.046, 1375.237) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2441.784, 1353.501) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2520.634, 1287.398) (added to group)
[17:38:53] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-88.6°, current=-88.6°, player=(2260,1293), corner_timer=0.20
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2429.013, 1349.953) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2311.242, 1304.476) (added to group)
[17:38:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:38:53] [INFO] [Player] Spawning blood effect at (2260.4253, 1293.9064), dir=(1, 0), lethal=False (C#)
[17:38:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2260.425, 1293.906), dir=(1, 0), lethal=false
[17:38:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:53] [INFO] [ImpactEffects] Blood effect spawned at (2260.425, 1293.906) (scale=1)
[17:38:53] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2510.377, 1331.128) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2310.662, 1304.744) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2305.719, 1317.277) (added to group)
[17:38:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2406.3, 1069.606), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[17:38:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[17:38:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2367.209, 1178.6215), shooter_id=967005178601, bullet_pos=(2048.8628, 1667.4303)
[17:38:53] [INFO] [Bullet] Using shooter_position, distance=583,33386
[17:38:53] [INFO] [Bullet] Distance to wall: 583,33386 (39,720276% of viewport)
[17:38:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2496.538, 1290.534) (added to group)
[17:38:53] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2486.132, 1259.617) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2492.978, 1332.448) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2315.787, 1297.831) (added to group)
[17:38:53] [INFO] [LastChance] Threat detected: @Area2D@1582
[17:38:53] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2426.445, 1375.667) (added to group)
[17:38:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:38:53] [INFO] [Player] Spawning blood effect at (2260.4253, 1293.9064), dir=(1, 0), lethal=False (C#)
[17:38:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2260.425, 1293.906), dir=(1, 0), lethal=false
[17:38:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:53] [INFO] [ImpactEffects] Blood effect spawned at (2260.425, 1293.906) (scale=1)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2467.738, 1341.833) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2461.782, 1314.985) (added to group)
[17:38:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2408.531, 1043.721), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[17:38:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[17:38:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2260,1293), corner_timer=-0.02
[17:38:53] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2380.15, 1301.806) (added to group)
[17:38:53] [INFO] [LastChance] Threat detected: @Area2D@1597
[17:38:53] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2260,1293), corner_timer=0.30
[17:38:53] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[17:38:53] [ENEMY] [GuardEnemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[17:38:53] [ENEMY] [GuardEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2409.264, 1021.333), dir=(1, 0), lethal=false
[17:38:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:53] [INFO] [ImpactEffects] Blood effect spawned at (2409.264, 1021.333) (scale=1)
[17:38:53] [ENEMY] [GuardEnemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[17:38:53] [ENEMY] [GuardEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:53] [INFO] [ImpactEffects] spawn_blood_effect called at (2409.264, 1021.333), dir=(1, 0), lethal=false
[17:38:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:53] [INFO] [ImpactEffects] Blood effect spawned at (2409.264, 1021.333) (scale=1)
[17:38:53] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-88.1°, current=180.0°, player=(2260,1293), corner_timer=0.00
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2334.87, 1320.847) (added to group)
[17:38:53] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=125.2°, current=-41.5°, player=(2260,1293), corner_timer=0.27
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2357.523, 1343.796) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2346.146, 1336.301) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2388.079, 1348.275) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2426.052, 1430.236) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2315.034, 1308.129) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2314.804, 1300.726) (added to group)
[17:38:53] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[17:38:53] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2329.312, 1328.744) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2466.032, 1422.271) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2302.462, 1334.436) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2392.176, 1431.433) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2339.6, 1346.996) (added to group)
[17:38:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2380.8315, 1105.824), shooter_id=967005178601, bullet_pos=(1962.7378, 1677.6067)
[17:38:53] [INFO] [Bullet] Using shooter_position, distance=708,3346
[17:38:53] [INFO] [Bullet] Distance to wall: 708,3346 (48,231808% of viewport)
[17:38:53] [INFO] [Bullet] Distance-based penetration chance: 90,396225%
[17:38:53] [INFO] [Bullet] Penetration failed (distance roll)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2357.096, 1316.192) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2347.188, 1300.073) (added to group)
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2380.339, 1323.806) (added to group)
[17:38:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2260,1293), corner_timer=-0.02
[17:38:53] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:53] [INFO] [BloodDecal] Blood puddle created at (2328.049, 1300.711) (added to group)
[17:38:54] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2260,1293), corner_timer=0.30
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2425.087, 1342.964) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2510.804, 1027.079) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2476.34, 1062.629) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2500.984, 1066.274) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2481.744, 1078.505) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2500.614, 1019.91) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2413.055, 1445.891) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2481.72, 1056.564) (added to group)
[17:38:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3375.154, 3775.351), source=ENEMY (GuardEnemy6), range=2000, listeners=9
[17:38:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=2
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2539.063, 1021.326) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2500.44, 1062.601) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2435.932, 1455.242) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2504.791, 1027.534) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2447.369, 1279.839) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2355.26, 1421.878) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2523.821, 1095.786) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2366.907, 1412.453) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2493.183, 1073.984) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2490.43, 1076.005) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2378.938, 1409.107) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2491.644, 1090.227) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2547.067, 1099.445) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2566.207, 1117.517) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2539.06, 1081.074) (added to group)
[17:38:54] [INFO] [ReplayManager] Recording frame 780 (12,4s): player_valid=True, enemies=10
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2376.314, 1358.094) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2376.888, 1440.875) (added to group)
[17:38:54] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2260,1293), corner_timer=-0.02
[17:38:54] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:54] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2260,1293), corner_timer=0.30
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2592.637, 1129.193) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2516.833, 1162.661) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2629.329, 1092.971) (added to group)
[17:38:54] [INFO] [BloodDecal] Blood puddle created at (2555.977, 1181.964) (added to group)
[17:38:54] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-23.4°, current=-115.7°, player=(2260,1293), corner_timer=0.00
[17:38:54] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[17:38:54] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[17:38:54] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(2260,1293), corner_timer=-0.02
[17:38:54] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[17:38:54] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(2260,1293), corner_timer=0.30
[17:38:54] [ENEMY] [PatrolEnemy2] Memory: high confidence (0.87) - transitioning to PURSUING
[17:38:54] [ENEMY] [PatrolEnemy2] State: IDLE -> PURSUING
[17:38:54] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-127.0°, current=0.0°, player=(2260,1293), corner_timer=0.18
[17:38:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2260.425, 1299.906), source=PLAYER (AssaultRifle), range=1469, listeners=9
[17:38:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=1
[17:38:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2260.425, 1299.906), source=PLAYER (AssaultRifle), range=1469, listeners=9
[17:38:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=1
[17:38:55] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle -169.6°
[17:38:55] [ENEMY] [PatrolEnemy1] Warning: No valid flank position (both sides behind walls)
[17:38:55] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2430.957, 1398.4), side=left, pos=(2219.856, 2845.467)
[17:38:55] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[17:38:55] [INFO] [ReplayManager] Recording frame 840 (13,4s): player_valid=True, enemies=10
[17:38:55] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle -169.6°
[17:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2260.425, 1299.906), source=PLAYER (AssaultRifle), range=1469, listeners=9
[17:38:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=1
[17:38:55] [ENEMY] [GuardEnemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=100.9°, current=148.5°, player=(2260,1293), corner_timer=0.00
[17:38:55] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 158.7°
[17:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2321.229, 996.4149), source=ENEMY (GuardEnemy2), range=1469, listeners=9
[17:38:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[17:38:55] [INFO] [LastChance] Threat detected: @Area2D@1671
[17:38:55] [INFO] [LastChance] Not in hard mode - effect disabled
[17:38:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2260.425, 1299.906), source=PLAYER (AssaultRifle), range=1469, listeners=9
[17:38:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=2
[17:38:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2260.4253, 1299.9064), shooter_id=969521761638, bullet_pos=(3502.0688, 52.069077)
[17:38:55] [INFO] [Bullet] Using shooter_position, distance=1760,3342
[17:38:55] [INFO] [Bullet] Distance to wall: 1760,3342 (119,864395% of viewport)
[17:38:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2260.4253, 1299.9064), shooter_id=969521761638, bullet_pos=(2288.738, 915.61426)
[17:38:55] [INFO] [Bullet] Using shooter_position, distance=385,33365
[17:38:55] [INFO] [Bullet] Distance to wall: 385,33365 (26,238077% of viewport)
[17:38:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:55] [ENEMY] [GuardEnemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[17:38:55] [ENEMY] [GuardEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:55] [INFO] [ImpactEffects] spawn_blood_effect called at (2314.432, 974.5891), dir=(1, 0), lethal=false
[17:38:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:55] [INFO] [ImpactEffects] Blood effect spawned at (2314.432, 974.5891) (scale=1)
[17:38:55] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-124.5°, current=180.0°, player=(2260,1293), corner_timer=0.00
[17:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2260.425, 1299.906), source=PLAYER (AssaultRifle), range=1469, listeners=9
[17:38:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=2
[17:38:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2260.4253, 1299.9064), shooter_id=969521761638, bullet_pos=(2286.289, 948.8576)
[17:38:55] [INFO] [Bullet] Using shooter_position, distance=352,00024
[17:38:55] [INFO] [Bullet] Distance to wall: 352,00024 (23,968346% of viewport)
[17:38:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:55] [INFO] [Bullet] Starting wall penetration at (2286.289, 948.8576)
[17:38:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2260.4253, 1299.9064), shooter_id=969521761638, bullet_pos=(3507.9358, 46.14972)
[17:38:55] [INFO] [Bullet] Using shooter_position, distance=1768,6685
[17:38:55] [INFO] [Bullet] Distance to wall: 1768,6685 (120,431885% of viewport)
[17:38:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:38:55] [INFO] [Bullet] Exiting penetration at (2289.1057, 910.62787) after traveling 33,333336 pixels through wall
[17:38:55] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:38:55] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle -169.6°
[17:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2260.425, 1299.906), source=PLAYER (AssaultRifle), range=1469, listeners=9
[17:38:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=2
[17:38:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2260.4253, 1299.9064), shooter_id=969521761638, bullet_pos=(2286.2888, 948.8575)
[17:38:55] [INFO] [Bullet] Using shooter_position, distance=352,00034
[17:38:55] [INFO] [Bullet] Distance to wall: 352,00034 (23,968351% of viewport)
[17:38:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:55] [INFO] [Bullet] Starting wall penetration at (2286.2888, 948.8575)
[17:38:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:38:55] [INFO] [Bullet] Exiting penetration at (2289.1055, 910.62775) after traveling 33,333336 pixels through wall
[17:38:55] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:38:55] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -172.3°
[17:38:55] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> IN_COVER
[17:38:55] [ENEMY] [GuardEnemy3] State: IN_COVER -> PURSUING
[17:38:55] [INFO] [BloodDecal] Blood puddle created at (2406.066, 988.5558) (added to group)
[17:38:55] [INFO] [BloodDecal] Blood puddle created at (2355.177, 1002.639) (added to group)
[17:38:55] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-42.8°, current=125.2°, player=(2260,1293), corner_timer=0.27
[17:38:55] [INFO] [BloodDecal] Blood puddle created at (2398.704, 996.3312) (added to group)
[17:38:55] [INFO] [BloodDecal] Blood puddle created at (2399.576, 966.0527) (added to group)
[17:38:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2260.4253, 1299.9064), shooter_id=969521761638, bullet_pos=(2286.2888, 948.8575)
[17:38:55] [INFO] [Bullet] Using shooter_position, distance=352,00034
[17:38:55] [INFO] [Bullet] Distance to wall: 352,00034 (23,968351% of viewport)
[17:38:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:55] [INFO] [Bullet] Starting wall penetration at (2286.2888, 948.8575)
[17:38:55] [INFO] [BloodyFeet:GuardEnemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:38:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:38:55] [INFO] [Bullet] Exiting penetration at (2289.1055, 910.62775) after traveling 33,333336 pixels through wall
[17:38:55] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2312.5854, 1068.7198), shooter_id=967005178601, bullet_pos=(2226.5159, 2290.693)
[17:38:56] [INFO] [Bullet] Using shooter_position, distance=1225,0006
[17:38:56] [INFO] [Bullet] Distance to wall: 1225,0006 (83,412544% of viewport)
[17:38:56] [INFO] [Bullet] Distance-based penetration chance: 49,35203%
[17:38:56] [INFO] [Bullet] Starting wall penetration at (2226.5159, 2290.693)
[17:38:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,963681
[17:38:56] [INFO] [Bullet] Body exited signal received for penetrating body
[17:38:56] [INFO] [Bullet] Exiting penetration at (2223.8225, 2328.9316) after traveling 33,333336 pixels through wall
[17:38:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:38:56] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle -169.6°
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2424.015, 1068.215) (added to group)
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2407.592, 1034.562) (added to group)
[17:38:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-88.7°, current=-88.7°, player=(2260,1293), corner_timer=-0.01
[17:38:56] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2422.134, 1048.64) (added to group)
[17:38:56] [INFO] [ReplayManager] Recording frame 900 (14,2s): player_valid=True, enemies=10
[17:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2260.425, 1299.906), source=PLAYER (AssaultRifle), range=1469, listeners=9
[17:38:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=2
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2434.643, 1075.921) (added to group)
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2502.395, 1104.081) (added to group)
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2408.739, 1023.705) (added to group)
[17:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2260.425, 1299.906), source=PLAYER (AssaultRifle), range=1469, listeners=9
[17:38:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=2
[17:38:56] [ENEMY] [GuardEnemy2] Hit taken, damage: 1, health: 1/4 -> 0/4
[17:38:56] [ENEMY] [GuardEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[17:38:56] [INFO] [ImpactEffects] spawn_blood_effect called at (2334.039, 980.1675), dir=(1, 0), lethal=true
[17:38:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[17:38:56] [INFO] [ImpactEffects] Blood effect spawned at (2334.039, 980.1675) (scale=1.5)
[17:38:56] [ENEMY] [GuardEnemy2] Enemy died (ricochet: false, penetration: false)
[17:38:56] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[17:38:56] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy2 (remaining: 8)
[17:38:56] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[17:38:56] [ENEMY] [GuardEnemy2] Death animation started with hit direction: (1, 0)
[17:38:56] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 140.1°
[17:38:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-88.8°, current=-88.8°, player=(2260,1293), corner_timer=-0.01
[17:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2260.425, 1299.906), source=PLAYER (AssaultRifle), range=1469, listeners=8
[17:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=2
[17:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2260.4253, 1299.9064), shooter_id=969521761638, bullet_pos=(2364.5723, 928.91394)
[17:38:56] [INFO] [Bullet] Using shooter_position, distance=385,3336
[17:38:56] [INFO] [Bullet] Distance to wall: 385,3336 (26,238071% of viewport)
[17:38:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2260.425, 1299.693), source=PLAYER (AssaultRifle), range=1469, listeners=8
[17:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=2
[17:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2260.4253, 1299.9064), shooter_id=969521761638, bullet_pos=(2360.6384, 927.8327)
[17:38:56] [INFO] [Bullet] Using shooter_position, distance=385,33295
[17:38:56] [INFO] [Bullet] Distance to wall: 385,33295 (26,23803% of viewport)
[17:38:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:56] [INFO] [Bullet] Starting wall penetration at (2360.6384, 927.8327)
[17:38:56] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:38:56] [INFO] [Bullet] Exiting penetration at (2370.6077, 890.8184) after traveling 33,333336 pixels through wall
[17:38:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2394.035, 973.9185) (added to group)
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2419.413, 965.453) (added to group)
[17:38:56] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2384.459, 1001.488) (added to group)
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2422.395, 1046.542) (added to group)
[17:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2260.4253, 1299.693), shooter_id=969521761638, bullet_pos=(2360.6526, 927.62274)
[17:38:56] [INFO] [Bullet] Using shooter_position, distance=385,33334
[17:38:56] [INFO] [Bullet] Distance to wall: 385,33334 (26,238056% of viewport)
[17:38:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:38:56] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 140.5°
[17:38:56] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> IN_COVER
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2403.951, 1038.736) (added to group)
[17:38:56] [ENEMY] [GuardEnemy6] State: IN_COVER -> PURSUING
[17:38:56] [ENEMY] [GuardEnemy6] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-115.8°, current=-98.8°, player=(2260,1268), corner_timer=0.00
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2430.602, 1032.707) (added to group)
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2396.034, 1004.684) (added to group)
[17:38:56] [INFO] [BloodDecal] Blood puddle created at (2401.725, 998.7628) (added to group)
[17:38:57] [INFO] [BloodDecal] Blood puddle created at (2437.266, 1042.957) (added to group)
[17:38:57] [INFO] [BloodDecal] Blood puddle created at (2432.14, 1050.624) (added to group)
[17:38:57] [ENEMY] [GuardEnemy2] Ragdoll activated
[17:38:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[17:38:57] [INFO] [BloodDecal] Blood puddle created at (2448.491, 1000.935) (added to group)
[17:38:57] [INFO] [BloodDecal] Blood puddle created at (2407.697, 1077.045) (added to group)
[17:38:57] [INFO] [BloodDecal] Blood puddle created at (2467.693, 1101.073) (added to group)
[17:38:57] [INFO] [BloodDecal] Blood puddle created at (2418.938, 1056.429) (added to group)
[17:38:57] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-46.5°, current=-46.3°, player=(2260,1222), corner_timer=0.27
[17:38:57] [INFO] [BloodDecal] Blood puddle created at (2500.996, 1109.312) (added to group)
[17:38:57] [INFO] [BloodDecal] Blood puddle created at (2447.808, 1082.538) (added to group)
[17:38:57] [INFO] [BloodDecal] Blood puddle created at (2507.839, 1068.18) (added to group)
[17:38:57] [INFO] [BloodDecal] Blood puddle created at (2424.752, 1104.891) (added to group)
[17:38:57] [INFO] [ReplayManager] Recording frame 960 (15,0s): player_valid=True, enemies=10
[17:38:57] [INFO] [BloodDecal] Blood puddle created at (2504.793, 1150.023) (added to group)
[17:38:57] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 140.5°
[17:38:57] [INFO] [BloodDecal] Blood puddle created at (2457.648, 1155.59) (added to group)
[17:38:57] [ENEMY] [GuardEnemy3] State: PURSUING -> COMBAT
[17:38:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1797.504, 1686.085), source=ENEMY (GuardEnemy3), range=2000, listeners=8
[17:38:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:38:58] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:38:58] [INFO] [ReplayManager] Recording frame 1020 (15,8s): player_valid=True, enemies=10
[17:38:58] [INFO] [BloodyFeet:GuardEnemy3] Blood ran out - no more footprints
[17:38:58] [ENEMY] [GuardEnemy2] Death animation completed
[17:38:58] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:38:58] [INFO] [Player] Spawning blood effect at (2204.7253, 925.4927), dir=(1, 0), lethal=False (C#)
[17:38:58] [INFO] [ImpactEffects] spawn_blood_effect called at (2204.725, 925.4927), dir=(1, 0), lethal=false
[17:38:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:58] [INFO] [ImpactEffects] Wall found for blood splatter at (2250, 925.4927) (dist=45 px)
[17:38:58] [INFO] [BloodDecal] Blood puddle created at (2249, 925.4927) (added to group)
[17:38:58] [INFO] [ImpactEffects] Blood effect spawned at (2204.725, 925.4927) (scale=1)
[17:38:58] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:38:58] [INFO] [Player] Spawning blood effect at (2204.7253, 925.4927), dir=(1, 0), lethal=False (C#)
[17:38:58] [INFO] [ImpactEffects] spawn_blood_effect called at (2204.725, 925.4927), dir=(1, 0), lethal=false
[17:38:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:38:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:38:58] [INFO] [ImpactEffects] Wall found for blood splatter at (2250, 925.4927) (dist=45 px)
[17:38:58] [INFO] [BloodDecal] Blood puddle created at (2249, 925.4927) (added to group)
[17:38:58] [INFO] [ImpactEffects] Blood effect spawned at (2204.725, 925.4927) (scale=1)
[17:38:58] [ENEMY] [PatrolEnemy1] FLANKING started: target=(2375.65, 945.3351), side=left, pos=(2236.541, 2407.346)
[17:38:58] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[17:38:58] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -157.8°
[17:38:58] [INFO] [BloodDecal] Blood puddle created at (2283.708, 978.8052) (added to group)
[17:38:58] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-91.6°, current=-77.3°, player=(2200,827), corner_timer=0.26
[17:38:58] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[17:38:58] [INFO] [BloodDecal] Blood puddle created at (2258.949, 971.5229) (added to group)
[17:38:58] [INFO] [BloodDecal] Blood puddle created at (2266.281, 978.3013) (added to group)
[17:38:58] [ENEMY] [GuardEnemy6] Warning: No valid flank position (both sides behind walls)
[17:38:58] [ENEMY] [GuardEnemy6] FLANKING started: target=(2398.786, 841.9874), side=left, pos=(3457.367, 3739.723)
[17:38:58] [ENEMY] [GuardEnemy6] State: PURSUING -> FLANKING
[17:38:58] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 175.7°
[17:38:58] [INFO] [BloodDecal] Blood puddle created at (2275.613, 965.4409) (added to group)
[17:38:58] [INFO] [BloodDecal] Blood puddle created at (2271.342, 990.1991) (added to group)
[17:38:58] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-91.5°, current=-94.1°, player=(2200,796), corner_timer=0.26
[17:38:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1792.087, 1739.706), source=ENEMY (GuardEnemy3), range=2000, listeners=8
[17:38:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-91.5°, current=-91.5°, player=(2200,770), corner_timer=0.26
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-91.4°, current=-91.7°, player=(2200,765), corner_timer=0.26
[17:38:59] [INFO] [BloodDecal] Blood puddle created at (2318.901, 991.2838) (added to group)
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-91.6°, current=-91.4°, player=(2200,761), corner_timer=0.26
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-91.5°, current=-91.5°, player=(2200,752), corner_timer=0.26
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-91.6°, current=-91.4°, player=(2200,748), corner_timer=0.26
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-91.4°, current=-91.4°, player=(2200,735), corner_timer=0.26
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-91.6°, current=-91.4°, player=(2200,730), corner_timer=0.26
[17:38:59] [INFO] [BloodDecal] Blood puddle created at (2364.317, 1063.805) (added to group)
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-91.4°, current=-91.4°, player=(2200,721), corner_timer=0.26
[17:38:59] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=125.2°, current=-69.5°, player=(2201,713), corner_timer=0.27
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-91.5°, current=-91.3°, player=(2201,713), corner_timer=0.26
[17:38:59] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 175.7°
[17:38:59] [INFO] [BloodDecal] Blood puddle created at (2342.257, 1035.008) (added to group)
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-91.3°, current=-91.3°, player=(2203,705), corner_timer=0.26
[17:38:59] [INFO] [ReplayManager] Recording frame 1080 (16,6s): player_valid=True, enemies=10
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-91.4°, current=-91.2°, player=(2204,701), corner_timer=0.26
[17:38:59] [ENEMY] [PatrolEnemy2] Warning: No valid flank position (both sides behind walls)
[17:38:59] [ENEMY] [PatrolEnemy2] FLANKING started: target=(2404.029, 672.079), side=left, pos=(3918.391, 2941.264)
[17:38:59] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-91.1°, current=-91.1°, player=(2209,690), corner_timer=0.26
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-91.1°, current=-91.0°, player=(2210,686), corner_timer=0.26
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-90.7°, current=-90.7°, player=(2218,676), corner_timer=0.26
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-90.8°, current=-90.6°, player=(2220,673), corner_timer=0.26
[17:38:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2241.792, 2340.008), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:38:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-90.3°, current=-90.3°, player=(2230,663), corner_timer=0.26
[17:38:59] [ENEMY] [PatrolEnemy1] State: COMBAT -> PURSUING
[17:38:59] [ENEMY] [SniperEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=175.6°, current=-78.7°, player=(2233,659), corner_timer=0.00
[17:38:59] [ENEMY] [SniperEnemy1] State: IDLE -> COMBAT
[17:38:59] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 157.3°
[17:38:59] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[17:38:59] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[17:38:59] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 175.7°
[17:38:59] [ENEMY] [PatrolEnemy1] State: PURSUING -> RETREATING
[17:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-157.8°, current=-89.8°, player=(2245,617), corner_timer=0.26
[17:38:59] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[17:38:59] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[17:38:59] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -176.7°
[17:38:59] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 175.7°
[17:39:00] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -160.5°
[17:39:00] [INFO] [ReplayManager] Recording frame 1140 (17,6s): player_valid=True, enemies=10
[17:39:00] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 175.7°
[17:39:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2233.264, 2272.4744), shooter_id=968062142393, bullet_pos=(2212.6423, 30.90231)
[17:39:00] [INFO] [Bullet] Using shooter_position, distance=2241,6667
[17:39:00] [INFO] [Bullet] Distance to wall: 2241,6667 (152,6392% of viewport)
[17:39:00] [INFO] [Bullet] Distance-based penetration chance: 19,472158%
[17:39:00] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:00] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -150.9°
[17:39:00] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 175.7°
[17:39:00] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:39:00] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -150.9°
[17:39:00] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 175.7°
[17:39:00] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[17:39:01] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[17:39:01] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -150.9°
[17:39:01] [INFO] [ReplayManager] Recording frame 1200 (18,6s): player_valid=True, enemies=10
[17:39:01] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 175.8°
[17:39:01] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=174.1°, current=174.2°, player=(2755,691), corner_timer=0.00
[17:39:01] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 20.3°
[17:39:01] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -43.0°
[17:39:01] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> IN_COVER
[17:39:01] [ENEMY] [GuardEnemy3] State: IN_COVER -> PURSUING
[17:39:01] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-46.0°, current=125.2°, player=(2822,754), corner_timer=0.27
[17:39:01] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[17:39:01] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 154.3°
[17:39:01] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -42.9°
[17:39:02] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[17:39:02] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-101.4°, current=-101.5°, player=(2955,698), corner_timer=0.07
[17:39:02] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 156.8°
[17:39:02] [INFO] [ReplayManager] Recording frame 1260 (19,6s): player_valid=True, enemies=10
[17:39:02] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -42.8°
[17:39:02] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=174.2°, current=174.2°, player=(2990,663), corner_timer=0.00
[17:39:02] [ENEMY] [GuardEnemy6] State: FLANKING -> COMBAT
[17:39:02] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> IN_COVER
[17:39:02] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[17:39:02] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-64.5°, current=-158.3°, player=(3006,648), corner_timer=0.26
[17:39:02] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-99.9°, current=-76.2°, player=(3010,644), corner_timer=0.25
[17:39:02] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 156.8°
[17:39:02] [ENEMY] [GuardEnemy6] State: COMBAT -> PURSUING
[17:39:02] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 156.8°
[17:39:03] [ENEMY] [GuardEnemy3] FLANKING started: target=(3062.95, 554.593), side=right, pos=(1817.281, 1797.088)
[17:39:03] [ENEMY] [GuardEnemy3] State: PURSUING -> FLANKING
[17:39:03] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 160.5°
[17:39:03] [INFO] [ReplayManager] Recording frame 1320 (20,6s): player_valid=True, enemies=10
[17:39:03] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-115.5°, current=-115.4°, player=(3327,625), corner_timer=0.15
[17:39:03] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[17:39:03] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-91.6°, current=-91.8°, player=(3343,625), corner_timer=0.25
[17:39:03] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -175.9°
[17:39:03] [ENEMY] [GuardEnemy6] State: PURSUING -> COMBAT
[17:39:03] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -129.9°
[17:39:03] [ENEMY] [PatrolEnemy1] Warning: No valid flank position (both sides behind walls)
[17:39:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(3570.119, 809.4791), side=left, pos=(2196.639, 2343.652)
[17:39:03] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3814.876, 1612.713), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-86.4°, current=-86.4°, player=(3519,625), corner_timer=0.25
[17:39:04] [ENEMY] [GuardEnemy6] State: COMBAT -> PURSUING
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3808.816, 1592.259), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.187, 1571.682), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -129.7°
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3798.008, 1550.987), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 54.4°
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3793.295, 1530.182), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [INFO] [ReplayManager] Recording frame 1380 (21,6s): player_valid=True, enemies=10
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3789.064, 1509.273), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3785.308, 1488.273), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3782.011, 1467.196), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -127.2°
[17:39:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3778.672, 1508.158), shooter_id=968414465316, bullet_pos=(3341.767, 655.2122)
[17:39:04] [INFO] [Bullet] Using shooter_position, distance=958.332885742188
[17:39:04] [INFO] [Bullet] Distance to wall: 958.332885742188 (65.2546484089739% of viewport)
[17:39:04] [INFO] [Bullet] Distance-based penetration chance: 70.5362435228637%
[17:39:04] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3779.147, 1446.056), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -149.7°
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3776.708, 1424.863), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3766.624, 1422.796), shooter_id=968414465316, bullet_pos=(4013.246, 940.5309)
[17:39:04] [INFO] [Bullet] Using shooter_position, distance=541.666015625
[17:39:04] [INFO] [Bullet] Distance to wall: 541.666015625 (36.8830350398808% of viewport)
[17:39:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:04] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3787.698, 1550.284), shooter_id=968414465316, bullet_pos=(3451.826, 45.65029)
[17:39:04] [INFO] [Bullet] Using shooter_position, distance=1541.66577148438
[17:39:04] [INFO] [Bullet] Distance to wall: 1541.66577148438 (104.974857253752% of viewport)
[17:39:04] [INFO] [Bullet] Distance-based penetration chance: 29.0050285492496%
[17:39:04] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:04] [INFO] [LastChance] Threat detected: @Area2D@1783
[17:39:04] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3774.696, 1403.625), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3782.941, 1529.278), shooter_id=968414465316, bullet_pos=(3216.458, 50.75196)
[17:39:04] [INFO] [Bullet] Using shooter_position, distance=1583.33251953125
[17:39:04] [INFO] [Bullet] Distance to wall: 1583.33251953125 (107.812022746657% of viewport)
[17:39:04] [INFO] [Bullet] Distance-based penetration chance: 28.4375954506685%
[17:39:04] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3773.135, 1382.349), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.072, 1361.043), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -129.0°
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3771.563, 1339.716), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -149.7°
[17:39:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3771.673, 1465.612), shooter_id=968414465316, bullet_pos=(3071.122, 45.69043)
[17:39:04] [INFO] [Bullet] Using shooter_position, distance=1583.33508300781
[17:39:04] [INFO] [Bullet] Distance to wall: 1583.33508300781 (107.81219729849% of viewport)
[17:39:04] [INFO] [Bullet] Distance-based penetration chance: 28.4375605403019%
[17:39:04] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3771.642, 1318.384), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3761.976, 1293.697), shooter_id=968414465316, bullet_pos=(3907.18, 947.9504)
[17:39:04] [INFO] [Bullet] Using shooter_position, distance=374.999694824219
[17:39:04] [INFO] [Bullet] Distance to wall: 374.999694824219 (25.5344187842157% of viewport)
[17:39:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:04] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.326, 1297.062), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=0
[17:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3764.705, 1401.344), shooter_id=968414465316, bullet_pos=(3910.449, 34.08933)
[17:39:05] [INFO] [Bullet] Using shooter_position, distance=1375.00073242188
[17:39:05] [INFO] [Bullet] Distance to wall: 1375.00073242188 (93.6263282740035% of viewport)
[17:39:05] [INFO] [Bullet] Distance-based penetration chance: 37.435950346996%
[17:39:05] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3773.632, 1275.77), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=0
[17:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3763.306, 1272.117), shooter_id=968414465316, bullet_pos=(3235.753, 936.9824)
[17:39:05] [INFO] [Bullet] Using shooter_position, distance=625.001281738281
[17:39:05] [INFO] [Bullet] Distance to wall: 625.001281738281 (42.5574865495761% of viewport)
[17:39:05] [INFO] [Bullet] Distance-based penetration chance: 97.0162656921612%
[17:39:05] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3775.57, 1254.525), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=0
[17:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3763.17, 1379.87), shooter_id=968414465316, bullet_pos=(3100.299, 34.28487)
[17:39:05] [INFO] [Bullet] Using shooter_position, distance=1499.9990234375
[17:39:05] [INFO] [Bullet] Distance to wall: 1499.9990234375 (102.137691760847% of viewport)
[17:39:05] [INFO] [Bullet] Distance-based penetration chance: 29.5724616478307%
[17:39:05] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3783.506, 1229.996), shooter_id=968414465316, bullet_pos=(3853.41, 861.5682)
[17:39:05] [INFO] [Bullet] Using shooter_position, distance=375.000366210938
[17:39:05] [INFO] [Bullet] Distance to wall: 375.000366210938 (25.5344645001719% of viewport)
[17:39:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:05] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -129.9°
[17:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3762.058, 1358.371), shooter_id=968414465316, bullet_pos=(3255.137, 35.5044)
[17:39:05] [INFO] [Bullet] Using shooter_position, distance=1416.66650390625
[17:39:05] [INFO] [Bullet] Distance to wall: 1416.66650390625 (96.4634272709724% of viewport)
[17:39:05] [INFO] [Bullet] Distance-based penetration chance: 34.1260015171988%
[17:39:05] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:05] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -149.2°
[17:39:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-81.9°, current=-81.9°, player=(3875,553), corner_timer=0.10
[17:39:05] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[17:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3761.362, 1315.281), shooter_id=968414465316, bullet_pos=(3605.673, 33.03092)
[17:39:05] [INFO] [Bullet] Using shooter_position, distance=1291.66723632813
[17:39:05] [INFO] [Bullet] Distance to wall: 1291.66723632813 (87.9519972881928% of viewport)
[17:39:05] [INFO] [Bullet] Distance-based penetration chance: 44.0560031637751%
[17:39:05] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:05] [INFO] [ReplayManager] Recording frame 1440 (22,6s): player_valid=True, enemies=10
[17:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3780.882, 1251.021), shooter_id=968414465316, bullet_pos=(3448.457, 46.03445)
[17:39:05] [INFO] [Bullet] Using shooter_position, distance=1249.99938964844
[17:39:05] [INFO] [Bullet] Distance to wall: 1249.99938964844 (85.114756987359% of viewport)
[17:39:05] [INFO] [Bullet] Distance-based penetration chance: 47.3661168480811%
[17:39:05] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3761.414, 1336.843), shooter_id=968414465316, bullet_pos=(5196.154, 65.97134)
[17:39:05] [INFO] [Bullet] Using shooter_position, distance=1916.66235351563
[17:39:05] [INFO] [Bullet] Distance to wall: 1916.66235351563 (130.509064082171% of viewport)
[17:39:05] [INFO] [Bullet] Distance-based penetration chance: 23.8981871835659%
[17:39:05] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:05] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -129.9°
[17:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3786.792, 1209.065), shooter_id=968414465316, bullet_pos=(3889.645, 46.94054)
[17:39:05] [INFO] [Bullet] Using shooter_position, distance=1166.66674804688
[17:39:05] [INFO] [Bullet] Distance to wall: 1166.66674804688 (79.4404841854927% of viewport)
[17:39:05] [INFO] [Bullet] Distance-based penetration chance: 53.9861017835919%
[17:39:05] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:05] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -149.8°
[17:39:05] [ENEMY] [GuardEnemy6] FLANKING started: target=(3689.522, 660.8143), side=right, pos=(3405.24, 2456.539)
[17:39:05] [ENEMY] [GuardEnemy6] State: PURSUING -> FLANKING
[17:39:05] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-82.2°, current=-81.9°, player=(3860,630), corner_timer=0.10
[17:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3790.696, 1188.237), shooter_id=968414465316, bullet_pos=(3019.619, 49.78904)
[17:39:05] [INFO] [Bullet] Using shooter_position, distance=1374.99914550781
[17:39:05] [INFO] [Bullet] Distance to wall: 1374.99914550781 (93.6262202181069% of viewport)
[17:39:05] [INFO] [Bullet] Distance-based penetration chance: 37.4360764122086%
[17:39:05] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:05] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[17:39:05] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -129.9°
[17:39:05] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -178.6°
[17:39:05] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -149.8°
[17:39:05] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=171.5°, current=171.6°, player=(3786,672), corner_timer=0.00
[17:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3783.506, 1229.996), shooter_id=968414465316, bullet_pos=(3554.965, 60.34407)
[17:39:06] [INFO] [Bullet] Using shooter_position, distance=1191.76989746094
[17:39:06] [INFO] [Bullet] Distance to wall: 1191.76989746094 (81.1498037897176% of viewport)
[17:39:06] [INFO] [Bullet] Distance-based penetration chance: 51.9918955786628%
[17:39:06] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:06] [INFO] [BloodyFeet:GuardEnemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:39:06] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -100.8°
[17:39:06] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -178.6°
[17:39:06] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -149.8°
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3779.735, 1063.191), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=0
[17:39:06] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-42.8°, current=-42.9°, player=(3730,748), corner_timer=0.27
[17:39:06] [INFO] [LastChance] Threat detected: Bullet9mm
[17:39:06] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3776.633, 1042.085), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=0
[17:39:06] [INFO] [ReplayManager] Recording frame 1500 (23,6s): player_valid=True, enemies=10
[17:39:06] [INFO] [LastChance] Threat detected: @Area2D@1839
[17:39:06] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.153, 1015.798), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=0
[17:39:06] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.153, 1015.798), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=0
[17:39:06] [INFO] [LastChance] Threat detected: @Area2D@1843
[17:39:06] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:06] [INFO] [Player] Spawning blood effect at (3728.9807, 824.4847), dir=(1, 0), lethal=False (C#)
[17:39:06] [INFO] [ImpactEffects] spawn_blood_effect called at (3728.981, 824.4847), dir=(1, 0), lethal=false
[17:39:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:06] [INFO] [ImpactEffects] Blood effect spawned at (3728.981, 824.4847) (scale=1)
[17:39:06] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -100.8°
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.153, 1015.798), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:06] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -178.6°
[17:39:06] [INFO] [LastChance] Threat detected: @Area2D@1845
[17:39:06] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.153, 1015.798), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[17:39:06] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-13.4°, current=-13.6°, player=(3728,851), corner_timer=0.23
[17:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3762.881, 997.3259), shooter_id=968414465316, bullet_pos=(3732.632, 39.47034)
[17:39:06] [INFO] [Bullet] Using shooter_position, distance=958.3330078125
[17:39:06] [INFO] [Bullet] Distance to wall: 958.3330078125 (65.254656720966% of viewport)
[17:39:06] [INFO] [Bullet] Distance-based penetration chance: 70.5362338255397%
[17:39:06] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:06] [ENEMY] [GuardEnemy3] State: FLANKING -> COMBAT
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.153, 1015.798), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[17:39:06] [INFO] [LastChance] Threat detected: Bullet9mm
[17:39:06] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3758.093, 976.6553), shooter_id=968414465316, bullet_pos=(3527.548, 46.46643)
[17:39:06] [INFO] [Bullet] Using shooter_position, distance=958.3330078125
[17:39:06] [INFO] [Bullet] Distance to wall: 958.3330078125 (65.254656720966% of viewport)
[17:39:06] [INFO] [Bullet] Distance-based penetration chance: 70.5362338255397%
[17:39:06] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:06] [INFO] [Player] Spawning blood effect at (3728.9807, 884.9847), dir=(1, 0), lethal=False (C#)
[17:39:06] [INFO] [ImpactEffects] spawn_blood_effect called at (3728.981, 884.9847), dir=(1, 0), lethal=false
[17:39:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:06] [INFO] [ImpactEffects] Blood effect spawned at (3728.981, 884.9847) (scale=1)
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.153, 1015.798), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[17:39:06] [INFO] [BloodDecal] Blood puddle created at (3816.089, 849.2932) (added to group)
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.153, 1015.798), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[17:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3752.293, 950.7762), shooter_id=968414465316, bullet_pos=(3336.448, 41.34225)
[17:39:06] [INFO] [Bullet] Using shooter_position, distance=999.998901367188
[17:39:06] [INFO] [Bullet] Distance to wall: 999.998901367188 (68.091764029927% of viewport)
[17:39:06] [INFO] [Bullet] Distance-based penetration chance: 67.2262752984185%
[17:39:06] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:06] [INFO] [LastChance] Threat detected: @Area2D@1855
[17:39:06] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:06] [INFO] [Player] Spawning blood effect at (3728.9807, 923.4847), dir=(1, 0), lethal=False (C#)
[17:39:06] [INFO] [ImpactEffects] spawn_blood_effect called at (3728.981, 923.4847), dir=(1, 0), lethal=false
[17:39:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:06] [INFO] [ImpactEffects] Blood effect spawned at (3728.981, 923.4847) (scale=1)
[17:39:06] [INFO] [BloodDecal] Blood puddle created at (3776.675, 857.1893) (added to group)
[17:39:06] [INFO] [BloodDecal] Blood puddle created at (3793.952, 871.2073) (added to group)
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.153, 1015.798), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[17:39:06] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -178.6°
[17:39:06] [INFO] [BloodDecal] Blood puddle created at (3837.822, 832.0435) (added to group)
[17:39:06] [INFO] [BloodDecal] Blood puddle created at (3782.291, 843.3696) (added to group)
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2747.012, 1635.577), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.153, 1015.798), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:06] [INFO] [Player] Spawning blood effect at (3728.6729, 961.8571), dir=(1, 0), lethal=False (C#)
[17:39:06] [INFO] [ImpactEffects] spawn_blood_effect called at (3728.673, 961.8571), dir=(1, 0), lethal=false
[17:39:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:06] [INFO] [ImpactEffects] Blood effect spawned at (3728.673, 961.8571) (scale=1)
[17:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3747.907, 952.2781), shooter_id=968414465316, bullet_pos=(3963.47, 61.31708)
[17:39:06] [INFO] [Bullet] Using shooter_position, distance=916.66748046875
[17:39:06] [INFO] [Bullet] Distance to wall: 916.66748046875 (62.4175743479811% of viewport)
[17:39:06] [INFO] [Bullet] Distance-based penetration chance: 73.8461632606887%
[17:39:06] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.153, 1015.798), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:06] [INFO] [Player] Spawning blood effect at (3724.3613, 982.0712), dir=(1, 0), lethal=False (C#)
[17:39:06] [INFO] [ImpactEffects] spawn_blood_effect called at (3724.361, 982.0712), dir=(1, 0), lethal=false
[17:39:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:06] [INFO] [ImpactEffects] Blood effect spawned at (3724.361, 982.0712) (scale=1)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3826.753, 946.6636) (added to group)
[17:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2777.923, 1614.642), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3733.663, 959.9313), shooter_id=968414465316, bullet_pos=(3331.054, 740.8961)
[17:39:07] [INFO] [Bullet] Using shooter_position, distance=458.334533691406
[17:39:07] [INFO] [Bullet] Distance to wall: 458.334533691406 (31.2088412019388% of viewport)
[17:39:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:07] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.153, 1015.798), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:07] [INFO] [Player] Spawning blood effect at (3716.0972, 998.9355), dir=(1, 0), lethal=False (C#)
[17:39:07] [INFO] [ImpactEffects] spawn_blood_effect called at (3716.097, 998.9355), dir=(1, 0), lethal=false
[17:39:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:07] [INFO] [ImpactEffects] Blood effect spawned at (3716.097, 998.9355) (scale=1)
[17:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3772.153, 1015.798), source=ENEMY (PatrolEnemy2), range=1200, listeners=8
[17:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3825.485, 950.7289) (added to group)
[17:39:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:07] [INFO] [Player] Spawning blood effect at (3704.4648, 1011.6645), dir=(1, 0), lethal=False (C#)
[17:39:07] [INFO] [ImpactEffects] spawn_blood_effect called at (3704.465, 1011.664), dir=(1, 0), lethal=false
[17:39:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:07] [INFO] [ImpactEffects] Blood effect spawned at (3704.465, 1011.664) (scale=1)
[17:39:07] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[17:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2733.503, 1102.256), source=ENEMY (GuardEnemy3), range=2000, listeners=8
[17:39:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[17:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2809.151, 1594.183), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3837.701, 910.4662) (added to group)
[17:39:07] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -178.6°
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3823.436, 898.9566) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3805.46, 993.1846) (added to group)
[17:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3742.793, 954.5209), shooter_id=968414465316, bullet_pos=(2866.956, 62.66125)
[17:39:07] [INFO] [Bullet] Using shooter_position, distance=1250.001953125
[17:39:07] [INFO] [Bullet] Distance to wall: 1250.001953125 (85.114931539192% of viewport)
[17:39:07] [INFO] [Bullet] Distance-based penetration chance: 47.365913204276%
[17:39:07] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3835.967, 951.1756) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3805.585, 960.7667) (added to group)
[17:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2814.773, 1619.704), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3848.895, 1001.016) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3774.405, 987.4614) (added to group)
[17:39:07] [INFO] [LastChance] Threat detected: Bullet
[17:39:07] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:07] [INFO] [ReplayManager] Recording frame 1560 (24,6s): player_valid=True, enemies=10
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3845.221, 983.8641) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3828.955, 1014.444) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3811.183, 1013.087) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3779.737, 999.4028) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3828.479, 1006.162) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3758.361, 1030.939) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3795.299, 1025.129) (added to group)
[17:39:07] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[17:39:07] [INFO] [LastChance] Threat detected: @Area2D@1879
[17:39:07] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2821.767, 1644.614), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3819.778, 949.942) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3863.961, 1002.26) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3765.113, 1028.183) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3774.618, 1011.714) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3786.64, 1019.625) (added to group)
[17:39:07] [INFO] [BloodyFeet:PatrolEnemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3859.588, 1023.077) (added to group)
[17:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2807.0244, 1603.5585), shooter_id=968062142393, bullet_pos=(3867.1245, 865.5938)
[17:39:07] [INFO] [Bullet] Using shooter_position, distance=1291,6671
[17:39:07] [INFO] [Bullet] Distance to wall: 1291,6671 (87,951996% of viewport)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3775.31, 1014.477) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3784.265, 1066.151) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3894.722, 1053.42) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3817.553, 1066.727) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3797.374, 1071.73) (added to group)
[17:39:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:07] [INFO] [Player] Spawning blood effect at (3631.237, 1030.6205), dir=(1, 0), lethal=False (C#)
[17:39:07] [INFO] [ImpactEffects] spawn_blood_effect called at (3631.237, 1030.62), dir=(1, 0), lethal=false
[17:39:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:07] [INFO] [ImpactEffects] Blood effect spawned at (3631.237, 1030.62) (scale=1)
[17:39:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:07] [INFO] [Player] Spawning blood effect at (3631.237, 1030.6205), dir=(1, 0), lethal=False (C#)
[17:39:07] [INFO] [ImpactEffects] spawn_blood_effect called at (3631.237, 1030.62), dir=(1, 0), lethal=false
[17:39:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:07] [INFO] [ImpactEffects] Blood effect spawned at (3631.237, 1030.62) (scale=1)
[17:39:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:07] [INFO] [Player] Spawning blood effect at (3631.237, 1030.6205), dir=(1, 0), lethal=False (C#)
[17:39:07] [INFO] [ImpactEffects] spawn_blood_effect called at (3631.237, 1030.62), dir=(1, 0), lethal=false
[17:39:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:07] [INFO] [ImpactEffects] Blood effect spawned at (3631.237, 1030.62) (scale=1)
[17:39:07] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -178.6°
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3863.049, 1080.667) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3923.292, 1049.884) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3850.294, 1028.935) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3878.828, 1047.46) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3834.686, 1075.687) (added to group)
[17:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2833.974, 1675.815), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2838.5918, 1583.8606), shooter_id=968062142393, bullet_pos=(3878.6235, 890.44385)
[17:39:07] [INFO] [Bullet] Using shooter_position, distance=1249,9971
[17:39:07] [INFO] [Bullet] Distance to wall: 1249,9971 (85,1146% of viewport)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3797.964, 1018.185) (added to group)
[17:39:07] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3918.685, 1037.25) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3913.169, 1082.936) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3856.451, 1072.216) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3849.39, 1028.448) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3892.071, 1099.428) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3874.004, 1145.857) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3902.323, 994.1349) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3908.678, 1123.205) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3889.503, 1118.574) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3820.795, 1059.428) (added to group)
[17:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2870.0688, 1563.8722), shooter_id=968062142393, bullet_pos=(3859.0037, 732.96027)
[17:39:07] [INFO] [Bullet] Using shooter_position, distance=1291,6682
[17:39:07] [INFO] [Bullet] Distance to wall: 1291,6682 (87,952065% of viewport)
[17:39:07] [INFO] [Bullet] Distance-based penetration chance: 44,055927%
[17:39:07] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3887.067, 1144.679) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3864.115, 1057.017) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3868.865, 1073.492) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3885.766, 1058.416) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3875.089, 1047.744) (added to group)
[17:39:07] [INFO] [LastChance] Threat detected: @Area2D@1926
[17:39:07] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2839.154, 1675.508), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:07] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-73.9°, current=-74.0°, player=(3629,1030), corner_timer=0.08
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3817.638, 1091.436) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3933.958, 1134.974) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3809.729, 1058.282) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3703.936, 1060.007) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3829.031, 1079.862) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3693.073, 1025.158) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3686.102, 1030.874) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3724.748, 1077.508) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3838.85, 1073.579) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3713.245, 1038.173) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3712.983, 1012.922) (added to group)
[17:39:07] [ENEMY] [PatrolEnemy2] Hit taken, damage: 1, health: 3/3 -> 2/3
[17:39:07] [ENEMY] [PatrolEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:07] [INFO] [ImpactEffects] spawn_blood_effect called at (3796.448, 961.2288), dir=(1, 0), lethal=false
[17:39:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:07] [INFO] [ImpactEffects] Blood effect spawned at (3796.448, 961.2288) (scale=1)
[17:39:07] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -178.6°
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3828.332, 1114.921) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3727.382, 1092.067) (added to group)
[17:39:07] [ENEMY] [GuardEnemy6] State: FLANKING -> COMBAT
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3696.443, 1077.04) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3714.996, 1055.458) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3737.552, 1106.56) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3771.229, 1079.176) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3754.133, 1035.046) (added to group)
[17:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2844.578, 1674.896), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2911.33, 1169.592), source=ENEMY (GuardEnemy3), range=2000, listeners=8
[17:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3714.917, 1062.367) (added to group)
[17:39:07] [INFO] [BloodDecal] Blood puddle created at (3710.369, 1093.507) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3727.294, 1109.927) (added to group)
[17:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2846.139, 1656.174), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3787.015, 1026.235) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3776.329, 1151.694) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3776.54, 1094.131) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3743.564, 1115.065) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3828.193, 1087.771) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3780.526, 1140.591) (added to group)
[17:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2891.5508, 1639.1946), shooter_id=968062142393, bullet_pos=(3853.707, 656.91364)
[17:39:08] [INFO] [Bullet] Using shooter_position, distance=1374,9984
[17:39:08] [INFO] [Bullet] Distance to wall: 1374,9984 (93,626175% of viewport)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3785.696, 1118.408) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3725.243, 1142.671) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3848.073, 963.0897) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3851.312, 1130.64) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3730.141, 1092.528) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3845.056, 1106.419) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3863.037, 1102.167) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3844.963, 1145.088) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3742.432, 1122.622) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3889.04, 976.2898) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3859.589, 1132.723) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3907.092, 1037.341) (added to group)
[17:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2806.19, 1675.934), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3889.559, 1031.327) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3875.14, 961.2562) (added to group)
[17:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2896.589, 1638.7346), shooter_id=968062142393, bullet_pos=(3863.5344, 720.69946)
[17:39:08] [INFO] [Bullet] Using shooter_position, distance=1333,331
[17:39:08] [INFO] [Bullet] Distance to wall: 1333,331 (90,78896% of viewport)
[17:39:08] [INFO] [LastChance] Threat detected: @Area2D@1993
[17:39:08] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:08] [INFO] [BloodyFeet:GuardEnemy3] Blood ran out - no more footprints
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3944.28, 1023.183) (added to group)
[17:39:08] [INFO] [ReplayManager] Recording frame 1620 (25,6s): player_valid=True, enemies=10
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3875.056, 1024.621) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3906.558, 982.0571) (added to group)
[17:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3449.333, 1562.72), source=ENEMY (GuardEnemy6), range=2000, listeners=8
[17:39:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=4
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3900.089, 1061.349) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3910.526, 1035.481) (added to group)
[17:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2812.009, 1675.705), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[17:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2901.91, 1637.9529), shooter_id=968062142393, bullet_pos=(3874.2322, 787.6596)
[17:39:08] [INFO] [Bullet] Using shooter_position, distance=1291,6692
[17:39:08] [INFO] [Bullet] Distance to wall: 1291,6692 (87,95213% of viewport)
[17:39:08] [INFO] [LastChance] Threat detected: @Area2D@2021
[17:39:08] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:08] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:08] [INFO] [Player] Spawning blood effect at (3629.703, 1030.8478), dir=(1, 0), lethal=False (C#)
[17:39:08] [INFO] [ImpactEffects] spawn_blood_effect called at (3629.703, 1030.848), dir=(1, 0), lethal=false
[17:39:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:08] [INFO] [ImpactEffects] Blood effect spawned at (3629.703, 1030.848) (scale=1)
[17:39:08] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:08] [INFO] [Player] Spawning blood effect at (3629.703, 1030.8478), dir=(1, 0), lethal=False (C#)
[17:39:08] [INFO] [ImpactEffects] spawn_blood_effect called at (3629.703, 1030.848), dir=(1, 0), lethal=false
[17:39:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:08] [INFO] [ImpactEffects] Blood effect spawned at (3629.703, 1030.848) (scale=1)
[17:39:08] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[17:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2816.889, 1675.562), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[17:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2818.61, 1656.802), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[17:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2864.1606, 1640.4313), shooter_id=968062142393, bullet_pos=(3858.9836, 816.5846)
[17:39:08] [INFO] [Bullet] Using shooter_position, distance=1291,6642
[17:39:08] [INFO] [Bullet] Distance to wall: 1291,6642 (87,95179% of viewport)
[17:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3025.038, 1238.434), source=ENEMY (GuardEnemy3), range=2000, listeners=8
[17:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3687.011, 1071.042) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3684.138, 1035.77) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3686.458, 1040.012) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3700.413, 1081.55) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3718.922, 1012.824) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3721.086, 1049.215) (added to group)
[17:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2870.0352, 1639.8761), shooter_id=968062142393, bullet_pos=(3849.3728, 932.088)
[17:39:08] [INFO] [Bullet] Using shooter_position, distance=1208,332
[17:39:08] [INFO] [Bullet] Distance to wall: 1208,332 (82,27756% of viewport)
[17:39:08] [INFO] [Bullet] Distance-based penetration chance: 50,67619%
[17:39:08] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2903.8613, 1620.0875), shooter_id=968062142393, bullet_pos=(4448.0137, 41.37708)
[17:39:08] [INFO] [Bullet] Using shooter_position, distance=2208,3325
[17:39:08] [INFO] [Bullet] Distance to wall: 2208,3325 (150,36943% of viewport)
[17:39:08] [INFO] [Bullet] Distance-based penetration chance: 19,926115%
[17:39:08] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2782.427, 1675.934), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3681.721, 1048.647) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3734.795, 1069.753) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3699.345, 1058.2) (added to group)
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3749.849, 1065.769) (added to group)
[17:39:08] [INFO] [LastChance] Threat detected: Bullet
[17:39:08] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:08] [INFO] [BloodDecal] Blood puddle created at (3744.646, 1060.007) (added to group)
[17:39:09] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:09] [INFO] [Player] Spawning blood effect at (3629.703, 1030.8478), dir=(1, 0), lethal=False (C#)
[17:39:09] [INFO] [ImpactEffects] spawn_blood_effect called at (3629.703, 1030.848), dir=(1, 0), lethal=false
[17:39:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:09] [INFO] [ImpactEffects] Blood effect spawned at (3629.703, 1030.848) (scale=1)
[17:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2784.277, 1657.263), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3725.679, 1079.049) (added to group)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3796.561, 1151.019) (added to group)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3788.44, 1118.287) (added to group)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3740.773, 1105.515) (added to group)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3727.724, 1134.102) (added to group)
[17:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3487.077, 1624.269), source=ENEMY (GuardEnemy6), range=2000, listeners=8
[17:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=4
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3747.837, 1161.904) (added to group)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3791.242, 1170.12) (added to group)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3810.789, 1207.817) (added to group)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3680.396, 1057.725) (added to group)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3679.294, 1024.731) (added to group)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3687.319, 1058.545) (added to group)
[17:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2876.912, 1621.6604), shooter_id=968062142393, bullet_pos=(3850.1387, 710.28076)
[17:39:09] [INFO] [Bullet] Using shooter_position, distance=1333,3352
[17:39:09] [INFO] [Bullet] Distance to wall: 1333,3352 (90,789246% of viewport)
[17:39:09] [INFO] [ReplayManager] Recording frame 1680 (26,6s): player_valid=True, enemies=10
[17:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2731.327, 1675.491), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3825.408, 1236.523) (added to group)
[17:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3629.703, 1036.848), source=PLAYER (AssaultRifle), range=1469, listeners=8
[17:39:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=3
[17:39:09] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[17:39:09] [INFO] [GrenadeBase] Grenade created at (5560.86, 408.2523) (frozen)
[17:39:09] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[17:39:09] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[17:39:09] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[17:39:09] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[17:39:09] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[17:39:09] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[17:39:09] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.978487, 0.206307), Speed: 1186.5 (unfrozen)
[17:39:09] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[17:39:09] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[17:39:09] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[17:39:09] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (5006.497, 488.0588), Distance: 600
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3740.692, 1078.684) (added to group)
[17:39:09] [ENEMY] [PatrolEnemy2] Hit taken, damage: 1, health: 2/3 -> 1/3
[17:39:09] [ENEMY] [PatrolEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:09] [INFO] [ImpactEffects] spawn_blood_effect called at (3816.733, 914.7955), dir=(1, 0), lethal=false
[17:39:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:09] [INFO] [ImpactEffects] Wall found for blood splatter at (3850, 914.7955) (dist=33 px)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3849, 914.7955) (added to group)
[17:39:09] [INFO] [ImpactEffects] Blood effect spawned at (3816.733, 914.7955) (scale=1)
[17:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3629.703, 1036.848), source=PLAYER (AssaultRifle), range=1469, listeners=8
[17:39:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=3
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3707.176, 1113.703) (added to group)
[17:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2840.8967, 1641.2205), shooter_id=968062142393, bullet_pos=(3865.2454, 686.9091)
[17:39:09] [INFO] [Bullet] Using shooter_position, distance=1400,0001
[17:39:09] [INFO] [Bullet] Distance to wall: 1400,0001 (95,32859% of viewport)
[17:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2702.034, 1666.018), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[17:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3727.267, 1054.286) (added to group)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3710.628, 1077.181) (added to group)
[17:39:09] [ENEMY] [PatrolEnemy2] Hit taken, damage: 1, health: 1/3 -> 0/3
[17:39:09] [ENEMY] [PatrolEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:09] [INFO] [ImpactEffects] spawn_blood_effect called at (3821.617, 913.8591), dir=(1, 0), lethal=true
[17:39:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:09] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[17:39:09] [INFO] [ImpactEffects] Wall found for blood splatter at (3850, 913.8591) (dist=28 px)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3849, 913.8591) (added to group)
[17:39:09] [INFO] [ImpactEffects] Blood effect spawned at (3821.617, 913.8591) (scale=1.5)
[17:39:09] [ENEMY] [PatrolEnemy2] Enemy died (ricochet: false, penetration: false)
[17:39:09] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[17:39:09] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy2 (remaining: 7)
[17:39:09] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[17:39:09] [ENEMY] [PatrolEnemy2] Death animation started with hit direction: (1, 0)
[17:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3629.703, 1036.848), source=PLAYER (AssaultRifle), range=1469, listeners=7
[17:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[17:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2843.2556, 1623.2711), shooter_id=968062142393, bullet_pos=(3853.3638, 740.2353)
[17:39:09] [INFO] [Bullet] Using shooter_position, distance=1341,6671
[17:39:09] [INFO] [Bullet] Distance to wall: 1341,6671 (91,35658% of viewport)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3721.85, 1123.755) (added to group)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3776.987, 1175.635) (added to group)
[17:39:09] [INFO] [BloodDecal] Blood puddle created at (3762.722, 1071.621) (added to group)
[17:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3031.464, 1236.597), source=ENEMY (GuardEnemy3), range=2000, listeners=7
[17:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[17:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3629.703, 1036.8478), shooter_id=969521761638, bullet_pos=(3864.2505, 874.3603)
[17:39:09] [INFO] [Bullet] Using shooter_position, distance=285,33273
[17:39:09] [INFO] [Bullet] Distance to wall: 285,33273 (19,428831% of viewport)
[17:39:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2740.745, 1663.035), source=ENEMY (PatrolEnemy1), range=1469, listeners=7
[17:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[17:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3629.703, 1036.848), source=PLAYER (AssaultRifle), range=1469, listeners=7
[17:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[17:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3629.703, 1036.8478), shooter_id=969521761638, bullet_pos=(3864.2505, 874.35986)
[17:39:09] [INFO] [Bullet] Using shooter_position, distance=285,33298
[17:39:09] [INFO] [Bullet] Distance to wall: 285,33298 (19,428848% of viewport)
[17:39:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2717.937, 1655.918), source=ENEMY (PatrolEnemy1), range=1469, listeners=7
[17:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[17:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3629.703, 1036.848), source=PLAYER (AssaultRifle), range=1469, listeners=7
[17:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[17:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3629.703, 1036.8478), shooter_id=969521761638, bullet_pos=(3864.2505, 874.3603)
[17:39:10] [INFO] [Bullet] Using shooter_position, distance=285,33273
[17:39:10] [INFO] [Bullet] Distance to wall: 285,33273 (19,428831% of viewport)
[17:39:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:10] [INFO] [Bullet] Starting wall penetration at (3864.2505, 874.3603)
[17:39:10] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:39:10] [INFO] [Bullet] Exiting penetration at (3895.761, 852.53076) after traveling 33,333336 pixels through wall
[17:39:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:39:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2732.95, 1662.686), source=ENEMY (PatrolEnemy1), range=1469, listeners=7
[17:39:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[17:39:10] [ENEMY] [PatrolEnemy2] Ragdoll activated
[17:39:10] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[17:39:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3519.086, 1607.492), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[17:39:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[17:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2762.1636, 1634.3003), shooter_id=968062142393, bullet_pos=(3848.47, 699.2139)
[17:39:10] [INFO] [Bullet] Using shooter_position, distance=1433,3346
[17:39:10] [INFO] [Bullet] Distance to wall: 1433,3346 (97,59839% of viewport)
[17:39:10] [INFO] [ReplayManager] Recording frame 1740 (27,4s): player_valid=True, enemies=10
[17:39:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2707.1, 1655.317), source=ENEMY (PatrolEnemy1), range=1469, listeners=7
[17:39:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[17:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2790.7002, 1642.4863), shooter_id=968062142393, bullet_pos=(4477.264, 54.270782)
[17:39:10] [INFO] [Bullet] Using shooter_position, distance=2316,6628
[17:39:10] [INFO] [Bullet] Distance to wall: 2316,6628 (157,74583% of viewport)
[17:39:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2702.149, 1660.87), source=ENEMY (PatrolEnemy1), range=1469, listeners=7
[17:39:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[17:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2800.468, 1630.1322), shooter_id=968062142393, bullet_pos=(3986.6152, 951.2899)
[17:39:10] [INFO] [Bullet] Using shooter_position, distance=1366,6646
[17:39:10] [INFO] [Bullet] Distance to wall: 1366,6646 (93,05871% of viewport)
[17:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2777.9915, 1624.2028), shooter_id=968062142393, bullet_pos=(3928.265, 949.9349)
[17:39:10] [INFO] [Bullet] Using shooter_position, distance=1333,329
[17:39:10] [INFO] [Bullet] Distance to wall: 1333,329 (90,788826% of viewport)
[17:39:10] [INFO] [LastChance] Threat detected: Bullet
[17:39:10] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2711.091, 1660.294), source=ENEMY (PatrolEnemy1), range=1469, listeners=7
[17:39:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[17:39:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2702.15, 1660.885), source=ENEMY (PatrolEnemy1), range=1469, listeners=7
[17:39:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[17:39:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3035.962, 1238.736), source=ENEMY (GuardEnemy3), range=2000, listeners=7
[17:39:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[17:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2792.7837, 1630.0691), shooter_id=968062142393, bullet_pos=(3867.169, 898.1526)
[17:39:10] [INFO] [Bullet] Using shooter_position, distance=1300,0021
[17:39:10] [INFO] [Bullet] Distance to wall: 1300,0021 (88,51953% of viewport)
[17:39:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2711.084, 1660.163), source=ENEMY (PatrolEnemy1), range=1469, listeners=7
[17:39:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[17:39:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2767.2915, 1623.8619), shooter_id=968062142393, bullet_pos=(3861.978, 751.1315)
[17:39:11] [INFO] [Bullet] Using shooter_position, distance=1399,999
[17:39:11] [INFO] [Bullet] Distance to wall: 1399,999 (95,32851% of viewport)
[17:39:11] [INFO] [Bullet] Distance-based penetration chance: 35,45007%
[17:39:11] [INFO] [Bullet] Starting wall penetration at (3861.978, 751.1315)
[17:39:11] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-100.8°, current=143.9°, player=(3508,1131), corner_timer=0.20
[17:39:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:39:11] [INFO] [Bullet] Exiting penetration at (3891.9517, 727.2353) after traveling 33,333336 pixels through wall
[17:39:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:39:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3524.935, 1625.862), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[17:39:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[17:39:11] [INFO] [ReplayManager] Recording frame 1800 (28,2s): player_valid=True, enemies=10
[17:39:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2771.0977, 1628.1545), shooter_id=968062142393, bullet_pos=(3846.0767, 680.0654)
[17:39:11] [INFO] [Bullet] Using shooter_position, distance=1433,3362
[17:39:11] [INFO] [Bullet] Distance to wall: 1433,3362 (97,598495% of viewport)
[17:39:11] [ENEMY] [PatrolEnemy2] Death animation completed
[17:39:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2762.4478, 1629.4583), shooter_id=968062142393, bullet_pos=(3859.9556, 656.5276)
[17:39:11] [INFO] [Bullet] Using shooter_position, distance=1466,6688
[17:39:11] [INFO] [Bullet] Distance to wall: 1466,6688 (99,86818% of viewport)
[17:39:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2771.5364, 1628.8844), shooter_id=968062142393, bullet_pos=(3850.883, 737.2551)
[17:39:11] [INFO] [Bullet] Using shooter_position, distance=1399,9972
[17:39:11] [INFO] [Bullet] Distance to wall: 1399,9972 (95,328384% of viewport)
[17:39:11] [INFO] [Bullet] Distance-based penetration chance: 35,450226%
[17:39:11] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2762.2207, 1628.9467), shooter_id=968062142393, bullet_pos=(4478.827, 48.53183)
[17:39:11] [INFO] [Bullet] Using shooter_position, distance=2333,3342
[17:39:11] [INFO] [Bullet] Distance to wall: 2333,3342 (158,88103% of viewport)
[17:39:11] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-11.7°, current=32.4°, player=(3363,1164), corner_timer=0.20
[17:39:11] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-100.8°, current=164.8°, player=(3336,1164), corner_timer=0.20
[17:39:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3600.151, 1624.351), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[17:39:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[17:39:12] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[17:39:12] [INFO] [GrenadeTimer] EXPLODED at (4191.7666, 696.91614)!
[17:39:12] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[17:39:12] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[17:39:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(4191.767, 696.9161), source=NEUTRAL (FragGrenade), range=2938, listeners=7
[17:39:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=5
[17:39:12] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (4191.7666, 696.91614) (shadow-based wall occlusion)
[17:39:12] [INFO] [ReplayManager] Recording frame 1860 (29,0s): player_valid=True, enemies=10
[17:39:12] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-24.2°, current=-70.4°, player=(3161,1164), corner_timer=0.20
[17:39:12] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-100.8°, current=60.5°, player=(3161,1164), corner_timer=0.20
[17:39:13] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-30.6°, current=-73.6°, player=(3161,1164), corner_timer=0.20
[17:39:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3161.245, 1170.315), source=PLAYER (AssaultRifle), range=1469, listeners=7
[17:39:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[17:39:13] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-100.8°, current=98.2°, player=(3161,1164), corner_timer=0.20
[17:39:13] [ENEMY] [GuardEnemy3] Hit taken, damage: 1, health: 3/3 -> 2/3
[17:39:13] [ENEMY] [GuardEnemy3] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:13] [INFO] [ImpactEffects] spawn_blood_effect called at (3012.684, 1247.691), dir=(1, 0), lethal=false
[17:39:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:13] [INFO] [ImpactEffects] Blood effect spawned at (3012.684, 1247.691) (scale=1)
[17:39:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3634.296, 1604.36), source=ENEMY (GuardEnemy6), range=2000, listeners=7
[17:39:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[17:39:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3161.245, 1170.315), source=PLAYER (AssaultRifle), range=1469, listeners=7
[17:39:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[17:39:13] [ENEMY] [GuardEnemy3] Hit taken, damage: 1, health: 2/3 -> 1/3
[17:39:13] [ENEMY] [GuardEnemy3] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:13] [INFO] [ImpactEffects] spawn_blood_effect called at (3018.889, 1242.859), dir=(1, 0), lethal=false
[17:39:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:13] [INFO] [ImpactEffects] Blood effect spawned at (3018.889, 1242.859) (scale=1)
[17:39:13] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-29.1°, current=-18.4°, player=(3161,1164), corner_timer=0.20
[17:39:13] [INFO] [ReplayManager] Recording frame 1920 (29,9s): player_valid=True, enemies=10
[17:39:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3161.245, 1170.315), source=PLAYER (AssaultRifle), range=1469, listeners=7
[17:39:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[17:39:13] [ENEMY] [GuardEnemy3] Hit taken, damage: 1, health: 1/3 -> 0/3
[17:39:13] [ENEMY] [GuardEnemy3] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:13] [INFO] [ImpactEffects] spawn_blood_effect called at (3027.756, 1255.805), dir=(1, 0), lethal=true
[17:39:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:13] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[17:39:13] [INFO] [ImpactEffects] Blood effect spawned at (3027.756, 1255.805) (scale=1.5)
[17:39:13] [ENEMY] [GuardEnemy3] Enemy died (ricochet: false, penetration: false)
[17:39:13] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[17:39:13] [ENEMY] [GuardEnemy3] [AllyDeath] Notified 1 enemies
[17:39:13] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy3 (remaining: 6)
[17:39:13] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[17:39:13] [ENEMY] [GuardEnemy3] Death animation started with hit direction: (1, 0)
[17:39:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3161.245, 1170.315), source=PLAYER (AssaultRifle), range=1469, listeners=6
[17:39:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=2
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3078.179, 1287.574) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3056.285, 1290.984) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3097.753, 1267.504) (added to group)
[17:39:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3161.245, 1170.315), source=PLAYER (AssaultRifle), range=1469, listeners=6
[17:39:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=2
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3107.052, 1277.413) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3097.165, 1243.938) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3113.344, 1334.129) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3105.986, 1318.398) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3094.417, 1291.072) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3125.041, 1264.63) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3075.584, 1286.274) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3094.382, 1257.15) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3098.596, 1254.311) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3083.939, 1250.922) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3135.738, 1226.314) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3110.894, 1271.277) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3093.552, 1273.608) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3112.788, 1257.265) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3118.907, 1255.211) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3117.031, 1265.532) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3161.956, 1293.327) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3126.988, 1262.502) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3148.601, 1249.668) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3092.474, 1285.812) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3114.869, 1320.157) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3174.643, 1279.647) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3196.996, 1308.157) (added to group)
[17:39:13] [ENEMY] [GuardEnemy3] Ragdoll activated
[17:39:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3206.046, 1255.09) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3145.785, 1349.195) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3140.348, 1265.132) (added to group)
[17:39:13] [INFO] [BloodDecal] Blood puddle created at (3190.53, 1286.124) (added to group)
[17:39:14] [INFO] [BloodDecal] Blood puddle created at (3221.692, 1355.284) (added to group)
[17:39:14] [INFO] [BloodDecal] Blood puddle created at (3119.31, 1341.464) (added to group)
[17:39:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3161.2446, 1170.3148), shooter_id=969521761638, bullet_pos=(2126.8965, 1749.2283)
[17:39:14] [INFO] [Bullet] Using shooter_position, distance=1185,3341
[17:39:14] [INFO] [Bullet] Distance to wall: 1185,3341 (80,71158% of viewport)
[17:39:14] [INFO] [BloodDecal] Blood puddle created at (3197.659, 1381.969) (added to group)
[17:39:14] [INFO] [BloodDecal] Blood puddle created at (3116.807, 1290.267) (added to group)
[17:39:14] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:39:14] [INFO] [BloodDecal] Blood puddle created at (3214.712, 1425.753) (added to group)
[17:39:14] [INFO] [BloodDecal] Blood puddle created at (3219.63, 1300.131) (added to group)
[17:39:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3161.2446, 1170.3148), shooter_id=969521761638, bullet_pos=(2126.7058, 1748.8898)
[17:39:14] [INFO] [Bullet] Using shooter_position, distance=1185,3352
[17:39:14] [INFO] [Bullet] Distance to wall: 1185,3352 (80,711655% of viewport)
[17:39:14] [INFO] [Bullet] Distance-based penetration chance: 52,503075%
[17:39:14] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:14] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-147.2°, current=-168.8°, player=(3161,1244), corner_timer=0.00
[17:39:14] [ENEMY] [GuardEnemy4] State: IDLE -> COMBAT
[17:39:14] [INFO] [BloodDecal] Blood puddle created at (3162.873, 1317.775) (added to group)
[17:39:14] [INFO] [BloodDecal] Blood puddle created at (3128.61, 1408.956) (added to group)
[17:39:14] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-147.4°, current=48.5°, player=(3161,1253), corner_timer=0.00
[17:39:14] [INFO] [BloodDecal] Blood puddle created at (3164.588, 1404.814) (added to group)
[17:39:14] [INFO] [BloodDecal] Blood puddle created at (3227.916, 1450.615) (added to group)
[17:39:14] [INFO] [ReplayManager] Recording frame 1980 (30,7s): player_valid=True, enemies=10
[17:39:14] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[17:39:14] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 171.7°
[17:39:15] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[17:39:15] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[17:39:15] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[17:39:15] [ENEMY] [GuardEnemy3] Player reloading: false -> true
[17:39:15] [ENEMY] [GuardEnemy4] Player reloading: false -> true
[17:39:15] [ENEMY] [PatrolEnemy1] Player reloading: false -> true
[17:39:15] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[17:39:15] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[17:39:15] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(3161.245, 1473.116), source=PLAYER (Player), range=900, listeners=6
[17:39:15] [ENEMY] [PatrolEnemy1] Heard player RELOAD at (3161.245, 1473.116), intensity=0.02, distance=398
[17:39:15] [ENEMY] [PatrolEnemy1] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[17:39:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=1
[17:39:15] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=2664), can_see=false
[17:39:15] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=4045), can_see=false
[17:39:15] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=1631), can_see=false
[17:39:15] [ENEMY] [PatrolEnemy1] Player reloading - priority attack triggered
[17:39:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2810.35, 1660.067), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:15] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=3246), can_see=false
[17:39:15] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=591), can_see=true
[17:39:15] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) - pursuing to attack (dist=591)
[17:39:15] [ENEMY] [PatrolEnemy1] Pursuing vulnerability sound at (3161.245, 1477.516), distance=398
[17:39:15] [ENEMY] [GuardEnemy3] Death animation completed
[17:39:15] [INFO] [LastChance] Threat detected: Bullet
[17:39:15] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:15] [ENEMY] [PatrolEnemy1] Player reloading - priority attack triggered
[17:39:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2834.316, 1647.262), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:15] [ENEMY] [GuardEnemy4] PURSUING corner check: angle 144.9°
[17:39:15] [INFO] [LastChance] Threat detected: @Area2D@2258
[17:39:15] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:15] [INFO] [ReplayManager] Recording frame 2040 (31,5s): player_valid=True, enemies=10
[17:39:15] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[17:39:15] [ENEMY] [PatrolEnemy1] Player reloading - priority attack triggered
[17:39:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2866.248, 1635.256), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:15] [INFO] [LastChance] Threat detected: @Area2D@2261
[17:39:15] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:15] [ENEMY] [PatrolEnemy1] Player reloading - priority attack triggered
[17:39:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2899.284, 1626.76), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:15] [ENEMY] [PatrolEnemy1] State: PURSUING -> COMBAT
[17:39:15] [INFO] [LastChance] Threat detected: @Area2D@2264
[17:39:15] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:15] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[17:39:15] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=2722), can_see=false
[17:39:15] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3937), can_see=false
[17:39:15] [ENEMY] [GuardEnemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=1470), can_see=false
[17:39:15] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=3133), can_see=false
[17:39:15] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=492), can_see=true
[17:39:15] [ENEMY] [PatrolEnemy1] Player reloading - priority attack triggered
[17:39:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2910.502, 1634.38), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:15] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[17:39:15] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[17:39:15] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[17:39:15] [ENEMY] [GuardEnemy3] Player reloading: true -> false
[17:39:15] [ENEMY] [GuardEnemy4] Player reloading: true -> false
[17:39:15] [ENEMY] [PatrolEnemy1] Player reloading: true -> false
[17:39:15] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[17:39:15] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[17:39:15] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[17:39:15] [INFO] [LastChance] Threat detected: @Area2D@2267
[17:39:15] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:15] [ENEMY] [GuardEnemy4] PURSUING corner check: angle 144.9°
[17:39:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2896.011, 1652.893), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:15] [INFO] [Player.Reload.Anim] LeftArm: pos=(22.365286, 5.9879293), target=(24, 6), base=(24, 6)
[17:39:15] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999865, 6.262391), target=(-2, 6), base=(-2, 6)
[17:39:15] [INFO] [LastChance] Threat detected: @Area2D@2270
[17:39:15] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:15] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[17:39:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2876.815, 1675.773), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:15] [INFO] [LastChance] Threat detected: @Area2D@2273
[17:39:15] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:16] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-178.6°, current=171.8°, player=(3161,1698), corner_timer=0.28
[17:39:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2873.6785, 1635.1646), shooter_id=968062142393, bullet_pos=(4665.256, 673.5643)
[17:39:16] [INFO] [Bullet] Using shooter_position, distance=2033,3284
[17:39:16] [INFO] [Bullet] Distance to wall: 2033,3284 (138,45306% of viewport)
[17:39:16] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[17:39:16] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[17:39:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2899.5808, 1627.9998), shooter_id=968062142393, bullet_pos=(4654.4834, 899.781)
[17:39:16] [INFO] [Bullet] Using shooter_position, distance=1899,9962
[17:39:16] [INFO] [Bullet] Distance to wall: 1899,9962 (129,37424% of viewport)
[17:39:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2861.92, 1675.125), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2943.7554, 1685.7675), shooter_id=968062142393, bullet_pos=(3472.099, 1758.5468)
[17:39:16] [INFO] [Bullet] Using shooter_position, distance=533,3329
[17:39:16] [INFO] [Bullet] Distance to wall: 533,3329 (36,315617% of viewport)
[17:39:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:16] [INFO] [Bullet] Starting wall penetration at (3472.099, 1758.5468)
[17:39:16] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:39:16] [INFO] [Bullet] Exiting penetration at (3510.0737, 1763.7777) after traveling 33,333336 pixels through wall
[17:39:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:39:16] [INFO] [LastChance] Threat detected: @Area2D@2277
[17:39:16] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:16] [INFO] [ReplayManager] Recording frame 2100 (32,3s): player_valid=True, enemies=10
[17:39:16] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> SEEKING_COVER
[17:39:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2928.6802, 1690.1643), shooter_id=968062142393, bullet_pos=(3483.313, 1806.3254)
[17:39:16] [INFO] [Bullet] Using shooter_position, distance=566,66656
[17:39:16] [INFO] [Bullet] Distance to wall: 566,66656 (38,58537% of viewport)
[17:39:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2834.001, 1675.934), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:16] [INFO] [LastChance] Threat detected: Bullet
[17:39:16] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:16] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[17:39:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2811.352, 1675.03), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2901.6892, 1688.8914), shooter_id=968062142393, bullet_pos=(3483.5642, 1730.1052)
[17:39:16] [INFO] [Bullet] Using shooter_position, distance=583,33276
[17:39:16] [INFO] [Bullet] Distance to wall: 583,33276 (39,7202% of viewport)
[17:39:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:16] [INFO] [Bullet] Starting wall penetration at (3483.5642, 1730.1052)
[17:39:16] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:39:16] [INFO] [Bullet] Exiting penetration at (3530.1143, 1733.4023) after traveling 41,666668 pixels through wall
[17:39:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:39:16] [INFO] [LastChance] Threat detected: @Area2D@2284
[17:39:16] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2814.985, 1655.067), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:16] [INFO] [LastChance] Threat detected: Bullet
[17:39:16] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2933.1147, 1622.6298), shooter_id=968062142393, bullet_pos=(6066.717, 670.72406)
[17:39:16] [INFO] [Bullet] Using shooter_position, distance=3274,9941
[17:39:16] [INFO] [Bullet] Distance to wall: 3274,9941 (223,00038% of viewport)
[17:39:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2835.93, 1675.934), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:16] [INFO] [LastChance] Threat detected: @Area2D@2288
[17:39:16] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:17] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:17] [INFO] [Player] Spawning blood effect at (2993.5825, 1582.0197), dir=(1, 0), lethal=False (C#)
[17:39:17] [INFO] [ImpactEffects] spawn_blood_effect called at (2993.583, 1582.02), dir=(1, 0), lethal=false
[17:39:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:17] [INFO] [ImpactEffects] Blood effect spawned at (2993.583, 1582.02) (scale=1)
[17:39:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2963.6475, 1659.7307), shooter_id=968062142393, bullet_pos=(6091.3853, 1364.1207)
[17:39:17] [INFO] [Bullet] Using shooter_position, distance=3141,676
[17:39:17] [INFO] [Bullet] Distance to wall: 3141,676 (213,9225% of viewport)
[17:39:17] [INFO] [Bullet] Distance-based penetration chance: 7,2155013%
[17:39:17] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2856.734, 1675.934), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:17] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-176.8°, current=135.1°, player=(2977,1570), corner_timer=0.28
[17:39:17] [INFO] [LastChance] Threat detected: @Area2D@2290
[17:39:17] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3071.514, 1596.496) (added to group)
[17:39:17] [INFO] [ReplayManager] Recording frame 2160 (33,3s): player_valid=True, enemies=10
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3061.7, 1639.373) (added to group)
[17:39:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2862.697, 1674.928), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3082.967, 1628.75) (added to group)
[17:39:17] [INFO] [LastChance] Threat detected: @Area2D@2294
[17:39:17] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:17] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:17] [INFO] [Player] Spawning blood effect at (2976.5503, 1570.1967), dir=(1, 0), lethal=False (C#)
[17:39:17] [INFO] [ImpactEffects] spawn_blood_effect called at (2976.55, 1570.197), dir=(1, 0), lethal=false
[17:39:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:17] [INFO] [ImpactEffects] Blood effect spawned at (2976.55, 1570.197) (scale=1)
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3138.933, 1563.997) (added to group)
[17:39:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2861.94, 1659.737), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:17] [INFO] [LastChance] Threat detected: @Area2D@2299
[17:39:17] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3151.839, 1597.423) (added to group)
[17:39:17] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:17] [INFO] [Player] Spawning blood effect at (2976.5503, 1570.1967), dir=(1, 0), lethal=False (C#)
[17:39:17] [INFO] [ImpactEffects] spawn_blood_effect called at (2976.55, 1570.197), dir=(1, 0), lethal=false
[17:39:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:17] [INFO] [ImpactEffects] Blood effect spawned at (2976.55, 1570.197) (scale=1)
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3114.991, 1704.988) (added to group)
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3112.09, 1663.538) (added to group)
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3195.455, 1725.299) (added to group)
[17:39:17] [ENEMY] [GuardEnemy4] PURSUING corner check: angle 110.7°
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3040.719, 1614.986) (added to group)
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3188.36, 1622.667) (added to group)
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3035.464, 1594.206) (added to group)
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3037.07, 1594.885) (added to group)
[17:39:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2914.0466, 1635.8088), shooter_id=968062142393, bullet_pos=(3997.1091, 931.9744)
[17:39:17] [INFO] [Bullet] Using shooter_position, distance=1291,6685
[17:39:17] [INFO] [Bullet] Distance to wall: 1291,6685 (87,95208% of viewport)
[17:39:17] [INFO] [Bullet] Distance-based penetration chance: 44,055904%
[17:39:17] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3219.812, 1675.241) (added to group)
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3035.607, 1618.451) (added to group)
[17:39:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2798.642, 1655.122), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3034.08, 1565.016) (added to group)
[17:39:17] [INFO] [LastChance] Threat detected: @Area2D@2312
[17:39:17] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3054.43, 1644.454) (added to group)
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3155.977, 1611.433) (added to group)
[17:39:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2808.659, 1657.032), source=ENEMY (PatrolEnemy1), range=1469, listeners=6
[17:39:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[17:39:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2880.9385, 1674.562), shooter_id=968062142393, bullet_pos=(6069.746, 1321.1346)
[17:39:17] [INFO] [Bullet] Using shooter_position, distance=3208,3337
[17:39:17] [INFO] [Bullet] Distance to wall: 3208,3337 (218,46135% of viewport)
[17:39:17] [INFO] [LastChance] Threat detected: @Area2D@2317
[17:39:17] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:17] [ENEMY] [GuardEnemy4] PURSUING corner check: angle 106.6°
[17:39:17] [INFO] [BloodDecal] Blood puddle created at (3150.111, 1692.941) (added to group)
[17:39:18] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:18] [INFO] [Player] Spawning blood effect at (2976.5503, 1570.1967), dir=(1, 0), lethal=False (C#)
[17:39:18] [INFO] [ImpactEffects] spawn_blood_effect called at (2976.55, 1570.197), dir=(1, 0), lethal=false
[17:39:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:18] [INFO] [ImpactEffects] Blood effect spawned at (2976.55, 1570.197) (scale=1)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3178.611, 1656.011) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3147.878, 1731.709) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3126.564, 1602.863) (added to group)
[17:39:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2976.55, 1576.197), source=PLAYER (AssaultRifle), range=1469, listeners=6
[17:39:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3084.629, 1577.359) (added to group)
[17:39:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2883.192, 1651.6508), shooter_id=968062142393, bullet_pos=(6062.2617, 1219.3435)
[17:39:18] [INFO] [Bullet] Using shooter_position, distance=3208,329
[17:39:18] [INFO] [Bullet] Distance to wall: 3208,329 (218,46103% of viewport)
[17:39:18] [ENEMY] [PatrolEnemy1] Hit taken, damage: 1, health: 2/2 -> 1/2
[17:39:18] [ENEMY] [PatrolEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:18] [INFO] [ImpactEffects] spawn_blood_effect called at (2838.568, 1672.341), dir=(1, 0), lethal=false
[17:39:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:18] [INFO] [ImpactEffects] Blood effect spawned at (2838.568, 1672.341) (scale=1)
[17:39:18] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-149.8°, current=180.0°, player=(2976,1570), corner_timer=0.15
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3111.502, 1737.227) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3144.989, 1624.779) (added to group)
[17:39:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2976.55, 1576.197), source=PLAYER (AssaultRifle), range=1469, listeners=6
[17:39:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3087.146, 1626.837) (added to group)
[17:39:18] [ENEMY] [PatrolEnemy1] Hit taken, damage: 1, health: 1/2 -> 0/2
[17:39:18] [ENEMY] [PatrolEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:18] [INFO] [ImpactEffects] spawn_blood_effect called at (2844.102, 1663.465), dir=(1, 0), lethal=true
[17:39:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:18] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[17:39:18] [INFO] [ImpactEffects] Blood effect spawned at (2844.102, 1663.465) (scale=1.5)
[17:39:18] [ENEMY] [PatrolEnemy1] Enemy died (ricochet: false, penetration: false)
[17:39:18] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[17:39:18] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy1 (remaining: 5)
[17:39:18] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[17:39:18] [ENEMY] [PatrolEnemy1] Death animation started with hit direction: (1, 0)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3159.969, 1662) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3150.052, 1654.867) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3150.845, 1691.177) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3167.683, 1685.649) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3168.094, 1579.653) (added to group)
[17:39:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2976.55, 1576.197), source=PLAYER (AssaultRifle), range=1469, listeners=5
[17:39:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[17:39:18] [INFO] [ReplayManager] Recording frame 2220 (34,3s): player_valid=True, enemies=10
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3036.368, 1598.899) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3038.664, 1557.711) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3063.113, 1628.837) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2912.114, 1682.953) (added to group)
[17:39:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2976.5503, 1576.1967), shooter_id=969521761638, bullet_pos=(2720.555, 1702.2194)
[17:39:18] [INFO] [Bullet] Using shooter_position, distance=285,33374
[17:39:18] [INFO] [Bullet] Distance to wall: 285,33374 (19,4289% of viewport)
[17:39:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2976.55, 1576.197), source=PLAYER (AssaultRifle), range=1469, listeners=5
[17:39:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3032.694, 1582.397) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3052.784, 1638.183) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3048.002, 1576.766) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3111.353, 1589.7) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3109.022, 1600.888) (added to group)
[17:39:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2976.5503, 1576.1967), shooter_id=969521761638, bullet_pos=(2756.0588, 1698.2104)
[17:39:18] [INFO] [Bullet] Using shooter_position, distance=251,9997
[17:39:18] [INFO] [Bullet] Distance to wall: 251,9997 (17,159124% of viewport)
[17:39:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3066.427, 1635.259) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2884.291, 1658.563) (added to group)
[17:39:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2976.55, 1576.197), source=PLAYER (AssaultRifle), range=1469, listeners=5
[17:39:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3099.343, 1574.426) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2892.132, 1698.762) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2897.76, 1672.063) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2929.932, 1699.948) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2982.289, 1716.988) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2902.679, 1683.533) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2963.088, 1723.033) (added to group)
[17:39:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2976.5503, 1576.1967), shooter_id=969521761638, bullet_pos=(2756.3118, 1698.6674)
[17:39:18] [INFO] [Bullet] Using shooter_position, distance=252,00017
[17:39:18] [INFO] [Bullet] Distance to wall: 252,00017 (17,159155% of viewport)
[17:39:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2961.271, 1674.425) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2909.913, 1662.61) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2898.956, 1678.193) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2995.392, 1692.959) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2934.865, 1716.861) (added to group)
[17:39:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2861.4075, 1633.5996), shooter_id=968062142393, bullet_pos=(4809.8057, 944.4923)
[17:39:18] [INFO] [Bullet] Using shooter_position, distance=2066,67
[17:39:18] [INFO] [Bullet] Distance to wall: 2066,67 (140,72336% of viewport)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2933.526, 1670.158) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2989.582, 1665.134) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2962.412, 1719.345) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2927.893, 1669.811) (added to group)
[17:39:18] [ENEMY] [PatrolEnemy1] Ragdoll activated
[17:39:18] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2950.998, 1726.114) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2919.229, 1696.245) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2998.835, 1731.211) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (2954.601, 1702.916) (added to group)
[17:39:18] [INFO] [BloodDecal] Blood puddle created at (3019.633, 1776.61) (added to group)
[17:39:19] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:39:19] [INFO] [BloodDecal] Blood puddle created at (3021.984, 1752.657) (added to group)
[17:39:19] [INFO] [ReplayManager] Recording frame 2280 (35,1s): player_valid=True, enemies=10
[17:39:20] [ENEMY] [PatrolEnemy1] Death animation completed
[17:39:20] [ENEMY] [GuardEnemy4] FLANKING started: target=(3345.572, 1768.625), side=right, pos=(4281.331, 1974.294)
[17:39:20] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[17:39:20] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 113.2°
[17:39:20] [INFO] [ReplayManager] Recording frame 2340 (35,9s): player_valid=True, enemies=10
[17:39:20] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 87.8°
[17:39:20] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[17:39:21] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 87.8°
[17:39:21] [INFO] [ReplayManager] Recording frame 2400 (36,7s): player_valid=True, enemies=10
[17:39:21] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 148.6°
[17:39:21] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 148.6°
[17:39:22] [ENEMY] [GuardEnemy4] FLANKING corner check: angle -31.4°
[17:39:22] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-144.0°, current=-143.5°, player=(3631,1570), corner_timer=0.12
[17:39:22] [INFO] [ReplayManager] Recording frame 2460 (37,7s): player_valid=True, enemies=10
[17:39:22] [ENEMY] [GuardEnemy4] State: FLANKING -> COMBAT
[17:39:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:22] [INFO] [LastChance] Threat detected: Bullet9mm
[17:39:22] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:22] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:22] [INFO] [Player] Spawning blood effect at (3631.9714, 1570.1967), dir=(1, 0), lethal=False (C#)
[17:39:22] [INFO] [ImpactEffects] spawn_blood_effect called at (3631.971, 1570.197), dir=(1, 0), lethal=false
[17:39:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:22] [INFO] [ImpactEffects] Blood effect spawned at (3631.971, 1570.197) (scale=1)
[17:39:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:22] [INFO] [LastChance] Threat detected: @Area2D@2408
[17:39:22] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [INFO] [LastChance] Threat detected: Bullet9mm
[17:39:23] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [INFO] [LastChance] Threat detected: @Area2D@2411
[17:39:23] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:23] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:23] [INFO] [Player] Spawning blood effect at (3631.9714, 1570.1967), dir=(1, 0), lethal=False (C#)
[17:39:23] [INFO] [ImpactEffects] spawn_blood_effect called at (3631.971, 1570.197), dir=(1, 0), lethal=false
[17:39:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:23] [INFO] [ImpactEffects] Blood effect spawned at (3631.971, 1570.197) (scale=1)
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [INFO] [LastChance] Threat detected: @Area2D@2414
[17:39:23] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3683.698, 1609.276) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3687.34, 1602.599) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3667.276, 1567.432) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3713.69, 1606.551) (added to group)
[17:39:23] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:23] [INFO] [Player] Spawning blood effect at (3631.9714, 1570.1967), dir=(1, 0), lethal=False (C#)
[17:39:23] [INFO] [ImpactEffects] spawn_blood_effect called at (3631.971, 1570.197), dir=(1, 0), lethal=false
[17:39:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:23] [INFO] [ImpactEffects] Blood effect spawned at (3631.971, 1570.197) (scale=1)
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3722.996, 1596.948) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3713.086, 1625.569) (added to group)
[17:39:23] [INFO] [ReplayManager] Recording frame 2520 (38,7s): player_valid=True, enemies=10
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3725.476, 1644.891) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3730.411, 1616.389) (added to group)
[17:39:23] [INFO] [BloodyFeet:GuardEnemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3741.848, 1646.142), shooter_id=967709821716, bullet_pos=(3700.75, 1653.008)
[17:39:23] [INFO] [Bullet] Using shooter_position, distance=41.666675567627
[17:39:23] [INFO] [Bullet] Distance to wall: 41.666675567627 (2.83716055766006% of viewport)
[17:39:23] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[17:39:23] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3741.848, 1646.142), shooter_id=967709821716, bullet_pos=(3700.454, 1650.9)
[17:39:23] [INFO] [Bullet] Using shooter_position, distance=41.6666030883789
[17:39:23] [INFO] [Bullet] Distance to wall: 41.6666030883789 (2.83715562241478% of viewport)
[17:39:23] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[17:39:23] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3706.319, 1611.096) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3711.722, 1628.394) (added to group)
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [ENEMY] [GuardEnemy6] Hit taken, damage: 1, health: 4/4 -> 3/4
[17:39:23] [ENEMY] [GuardEnemy6] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:23] [INFO] [ImpactEffects] spawn_blood_effect called at (3743.602, 1614.089), dir=(-0.535406, -0.844595), lethal=false
[17:39:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:23] [INFO] [ImpactEffects] Blood effect spawned at (3743.602, 1614.089) (scale=0.5)
[17:39:23] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-178.6°, current=57.6°, player=(3626,1570), corner_timer=0.28
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3712.82, 1598.425) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3709.102, 1630.181) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3730.066, 1579.211) (added to group)
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3740.078, 1636.073) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3737.423, 1636.429) (added to group)
[17:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3741.242, 1647.606), shooter_id=967709821716, bullet_pos=(3741.242, 1647.606)
[17:39:23] [INFO] [Bullet] Using shooter_position, distance=0
[17:39:23] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[17:39:23] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[17:39:23] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3730.378, 1617.999) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3737.799, 1601.572) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3698.777, 1617.694) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3714.983, 1621.773) (added to group)
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3742.602, 1589.229) (added to group)
[17:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3740.508, 1649.421), shooter_id=967709821716, bullet_pos=(3740.508, 1649.421)
[17:39:23] [INFO] [Bullet] Using shooter_position, distance=0
[17:39:23] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[17:39:23] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[17:39:23] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3754.491, 1582.704) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3753.38, 1643.91) (added to group)
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3765.275, 1591.491) (added to group)
[17:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3739.649, 1651.728), shooter_id=967709821716, bullet_pos=(3739.649, 1651.728)
[17:39:23] [INFO] [Bullet] Using shooter_position, distance=0
[17:39:23] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[17:39:23] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[17:39:23] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3775.574, 1568.559) (added to group)
[17:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3738.848, 1654.07), shooter_id=967709821716, bullet_pos=(3738.848, 1654.07)
[17:39:23] [INFO] [Bullet] Using shooter_position, distance=0
[17:39:23] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[17:39:23] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[17:39:23] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:23] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3718.823, 1581.433) (added to group)
[17:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3803.659, 1674.601), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3738.323, 1655.736), shooter_id=967709821716, bullet_pos=(3738.323, 1655.736)
[17:39:23] [INFO] [Bullet] Using shooter_position, distance=0
[17:39:23] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[17:39:23] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[17:39:23] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3741.848, 1646.142), shooter_id=967709821716, bullet_pos=(1747.896, 798.4508)
[17:39:23] [INFO] [Bullet] Using shooter_position, distance=2166.66235351563
[17:39:23] [INFO] [Bullet] Distance to wall: 2166.66235351563 (147.532023791634% of viewport)
[17:39:23] [INFO] [Bullet] Distance-based penetration chance: 20.4935952416731%
[17:39:23] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3681.794, 1596.677) (added to group)
[17:39:23] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-158.1°, current=-158.1°, player=(3544,1570), corner_timer=0.02
[17:39:23] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3827.998, 1568.038) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3812.473, 1635.163) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3717.241, 1588.608) (added to group)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3680.832, 1582.818) (added to group)
[17:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3741.848, 1646.142), shooter_id=967709821716, bullet_pos=(2096.708, 50.76418)
[17:39:23] [INFO] [Bullet] Using shooter_position, distance=2291.66186523438
[17:39:23] [INFO] [Bullet] Distance to wall: 2291.66186523438 (156.043470398398% of viewport)
[17:39:23] [INFO] [Bullet] Distance-based penetration chance: 18.7913059203204%
[17:39:23] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:23] [INFO] [BloodDecal] Blood puddle created at (3633.34, 1562.179) (added to group)
[17:39:24] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-168.4°, current=143.6°, player=(3529,1570), corner_timer=0.28
[17:39:24] [INFO] [BloodDecal] Blood puddle created at (3633.357, 1612.323) (added to group)
[17:39:24] [INFO] [BloodDecal] Blood puddle created at (3679.321, 1574.87) (added to group)
[17:39:24] [INFO] [BloodDecal] Blood puddle created at (3635.219, 1545.221) (added to group)
[17:39:24] [INFO] [BloodDecal] Blood puddle created at (3683.98, 1609.78) (added to group)
[17:39:24] [INFO] [BloodDecal] Blood puddle created at (3705.976, 1550.744) (added to group)
[17:39:24] [INFO] [ReplayManager] Recording frame 2580 (39,7s): player_valid=True, enemies=10
[17:39:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3741.848, 1646.142), shooter_id=967709821716, bullet_pos=(914.7396, 928.9413)
[17:39:24] [INFO] [Bullet] Using shooter_position, distance=2916.66186523438
[17:39:24] [INFO] [Bullet] Distance to wall: 2916.66186523438 (198.600869672058% of viewport)
[17:39:24] [INFO] [Bullet] Distance-based penetration chance: 10.2798260655884%
[17:39:24] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3741.848, 1646.142), shooter_id=967709821716, bullet_pos=(508.9373, 1313.309)
[17:39:24] [INFO] [Bullet] Using shooter_position, distance=3249.998046875
[17:39:24] [INFO] [Bullet] Distance to wall: 3249.998046875 (221.298343231157% of viewport)
[17:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3741.848, 1646.142), shooter_id=967709821716, bullet_pos=(55.05547, 1345.188)
[17:39:25] [INFO] [Bullet] Using shooter_position, distance=3699.05517578125
[17:39:25] [INFO] [Bullet] Distance to wall: 3699.05517578125 (251.875468881632% of viewport)
[17:39:25] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:39:25] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:25] [INFO] [ReplayManager] Recording frame 2640 (40,7s): player_valid=True, enemies=10
[17:39:25] [ENEMY] [GuardEnemy4] FLANKING started: target=(3684.497, 1443.904), side=left, pos=(3803.659, 1674.601)
[17:39:25] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[17:39:25] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-159.9°, current=-144.3°, player=(3529,1570), corner_timer=-0.02
[17:39:25] [ENEMY] [GuardEnemy4] State: FLANKING -> COMBAT
[17:39:25] [INFO] [BloodyFeet:GuardEnemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:39:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3768.286, 1634.343), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [LastChance] Threat detected: Bullet9mm
[17:39:26] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3763.702, 1629.763), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [LastChance] Threat detected: @Area2D@2497
[17:39:26] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3743.684, 1623.729), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3728.144, 1620.418), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3725.758, 1599.282), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [ReplayManager] Recording frame 2700 (41,7s): player_valid=True, enemies=10
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3715.011, 1581.556), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3700.411, 1566.002), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3689.744, 1554.077), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [LastChance] Threat detected: @Area2D@2509
[17:39:26] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3689.744, 1554.077), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:26] [INFO] [Player] Spawning blood effect at (3529.416, 1364.4745), dir=(1, 0), lethal=False (C#)
[17:39:26] [INFO] [ImpactEffects] spawn_blood_effect called at (3529.416, 1364.474), dir=(1, 0), lethal=false
[17:39:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:26] [INFO] [ImpactEffects] Blood effect spawned at (3529.416, 1364.474) (scale=1)
[17:39:26] [INFO] [LastChance] Threat detected: @Area2D@2510
[17:39:26] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3706.485, 1605.675), shooter_id=967709821716, bullet_pos=(2458.205, 935.7898)
[17:39:26] [INFO] [Bullet] Using shooter_position, distance=1416.66833496094
[17:39:26] [INFO] [Bullet] Distance to wall: 1416.66833496094 (96.4635519508531% of viewport)
[17:39:26] [INFO] [Bullet] Distance-based penetration chance: 34.125856057338%
[17:39:26] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3689.744, 1554.077), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:26] [INFO] [Player] Spawning blood effect at (3529.416, 1364.4745), dir=(1, 0), lethal=False (C#)
[17:39:26] [INFO] [ImpactEffects] spawn_blood_effect called at (3529.416, 1364.474), dir=(1, 0), lethal=false
[17:39:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:26] [INFO] [ImpactEffects] Blood effect spawned at (3529.416, 1364.474) (scale=1)
[17:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3703.304, 1598.224), shooter_id=967709821716, bullet_pos=(2532.602, 877.0539)
[17:39:26] [INFO] [Bullet] Using shooter_position, distance=1375.00170898438
[17:39:26] [INFO] [Bullet] Distance to wall: 1375.00170898438 (93.6263947699398% of viewport)
[17:39:26] [INFO] [Bullet] Distance-based penetration chance: 37.4358727684035%
[17:39:26] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:26] [INFO] [LastChance] Threat detected: Bullet9mm
[17:39:26] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3689.744, 1554.077), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3686.205, 1586.967), shooter_id=967709821716, bullet_pos=(2514.948, 949.8341)
[17:39:26] [INFO] [Bullet] Using shooter_position, distance=1333.33544921875
[17:39:26] [INFO] [Bullet] Distance to wall: 1333.33544921875 (90.7892625250027% of viewport)
[17:39:26] [INFO] [Bullet] Distance-based penetration chance: 40.7458603874969%
[17:39:26] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3674.241, 1578.889), shooter_id=967709821716, bullet_pos=(2545.133, 951.5775)
[17:39:26] [INFO] [Bullet] Using shooter_position, distance=1291.66748046875
[17:39:26] [INFO] [Bullet] Distance to wall: 1291.66748046875 (87.9520139121769% of viewport)
[17:39:26] [INFO] [Bullet] Distance-based penetration chance: 44.055983769127%
[17:39:26] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3689.744, 1554.077), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [LastChance] Threat detected: @Area2D@2524
[17:39:26] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3672.097, 1557.409), shooter_id=967709821716, bullet_pos=(2534.201, 946.1808)
[17:39:26] [INFO] [Bullet] Using shooter_position, distance=1291.66772460938
[17:39:26] [INFO] [Bullet] Distance to wall: 1291.66772460938 (87.952030536161% of viewport)
[17:39:26] [INFO] [Bullet] Distance-based penetration chance: 44.0559643744789%
[17:39:26] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3689.744, 1554.077), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:26] [INFO] [Player] Spawning blood effect at (3529.416, 1364.4745), dir=(1, 0), lethal=False (C#)
[17:39:26] [INFO] [ImpactEffects] spawn_blood_effect called at (3529.416, 1364.474), dir=(1, 0), lethal=false
[17:39:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:26] [INFO] [ImpactEffects] Blood effect spawned at (3529.416, 1364.474) (scale=1)
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3689.744, 1554.077), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [BloodDecal] Blood puddle created at (3585.194, 1368.012) (added to group)
[17:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3662.425, 1538.244), shooter_id=967709821716, bullet_pos=(2465.652, 950.4393)
[17:39:26] [INFO] [Bullet] Using shooter_position, distance=1333.33459472656
[17:39:26] [INFO] [Bullet] Distance to wall: 1333.33459472656 (90.7892043410584% of viewport)
[17:39:26] [INFO] [Bullet] Distance-based penetration chance: 40.7459282687653%
[17:39:26] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:26] [INFO] [LastChance] Threat detected: @Area2D@2534
[17:39:26] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:26] [INFO] [BloodDecal] Blood puddle created at (3602.24, 1413.069) (added to group)
[17:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3649.299, 1520.994), shooter_id=967709821716, bullet_pos=(2552.511, 921.3644)
[17:39:26] [INFO] [Bullet] Using shooter_position, distance=1249.99914550781
[17:39:26] [INFO] [Bullet] Distance to wall: 1249.99914550781 (85.1147403633749% of viewport)
[17:39:26] [INFO] [Bullet] Distance-based penetration chance: 47.3661362427292%
[17:39:26] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3689.744, 1554.077), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [LastChance] Threat detected: @Area2D@2542
[17:39:26] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:26] [INFO] [BloodDecal] Blood puddle created at (3608.397, 1439.469) (added to group)
[17:39:26] [INFO] [BloodDecal] Blood puddle created at (3655.024, 1342.638) (added to group)
[17:39:26] [INFO] [BloodDecal] Blood puddle created at (3614.619, 1414.945) (added to group)
[17:39:26] [INFO] [BloodDecal] Blood puddle created at (3589.921, 1384.933) (added to group)
[17:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3689.744, 1554.077), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:26] [INFO] [BloodDecal] Blood puddle created at (3619.649, 1373.594) (added to group)
[17:39:26] [INFO] [BloodDecal] Blood puddle created at (3622.4, 1349.758) (added to group)
[17:39:27] [INFO] [LastChance] Threat detected: @Area2D@2548
[17:39:27] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3667.32, 1470.869) (added to group)
[17:39:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3689.744, 1554.077), source=ENEMY (GuardEnemy4), range=1200, listeners=5
[17:39:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=0
[17:39:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3640.139, 1507.494), shooter_id=967709821716, bullet_pos=(3009.135, 1292.375)
[17:39:27] [INFO] [Bullet] Using shooter_position, distance=666.664978027344
[17:39:27] [INFO] [Bullet] Distance to wall: 666.664978027344 (45.3944442426803% of viewport)
[17:39:27] [INFO] [Bullet] Distance-based penetration chance: 93.706481716873%
[17:39:27] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3636.163, 1431.485) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3644.65, 1428.125) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3692.965, 1513.812) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3681.22, 1433.229) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3622.705, 1348.542) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3624.128, 1442.264) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3615.361, 1374.747) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3629.08, 1371.573) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3601.685, 1360.411) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3667.142, 1431.633) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3656.906, 1471.87) (added to group)
[17:39:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3640.139, 1507.494), shooter_id=967709821716, bullet_pos=(3317.311, 924.2032)
[17:39:27] [INFO] [Bullet] Using shooter_position, distance=666.66796875
[17:39:27] [INFO] [Bullet] Distance to wall: 666.66796875 (45.3946478864854% of viewport)
[17:39:27] [INFO] [Bullet] Distance-based penetration chance: 93.7062441324337%
[17:39:27] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3673.55, 1447.488) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3678.48, 1378.989) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3686.719, 1431.698) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3653.711, 1511.45) (added to group)
[17:39:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3640.139, 1507.494), shooter_id=967709821716, bullet_pos=(3293.799, 937.8514)
[17:39:27] [INFO] [Bullet] Using shooter_position, distance=666.666259765625
[17:39:27] [INFO] [Bullet] Distance to wall: 666.666259765625 (45.3945315185968% of viewport)
[17:39:27] [INFO] [Bullet] Distance-based penetration chance: 93.7063798949704%
[17:39:27] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3640.139, 1507.494), shooter_id=967709821716, bullet_pos=(3324.225, 41.13877)
[17:39:27] [INFO] [Bullet] Using shooter_position, distance=1499.99987792969
[17:39:27] [INFO] [Bullet] Distance to wall: 1499.99987792969 (102.137749944791% of viewport)
[17:39:27] [INFO] [Bullet] Distance-based penetration chance: 29.5724500110418%
[17:39:27] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3670.67, 1393.233) (added to group)
[17:39:27] [INFO] [ReplayManager] Recording frame 2760 (42,7s): player_valid=True, enemies=10
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3744.314, 1523.556) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3710.847, 1477.986) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3693.294, 1526.567) (added to group)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3718.104, 1372.964) (added to group)
[17:39:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3640.139, 1507.494), shooter_id=967709821716, bullet_pos=(2094.75, 48.93722)
[17:39:27] [INFO] [Bullet] Using shooter_position, distance=2124.998046875
[17:39:27] [INFO] [Bullet] Distance to wall: 2124.998046875 (144.69502453857% of viewport)
[17:39:27] [INFO] [Bullet] Distance-based penetration chance: 21.060995092286%
[17:39:27] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:27] [INFO] [BloodDecal] Blood puddle created at (3741.676, 1363.716) (added to group)
[17:39:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3640.139, 1507.494), shooter_id=967709821716, bullet_pos=(2541.697, 680.4275)
[17:39:27] [INFO] [Bullet] Using shooter_position, distance=1374.99621582031
[17:39:27] [INFO] [Bullet] Distance to wall: 1374.99621582031 (93.6260207302978% of viewport)
[17:39:27] [INFO] [Bullet] Distance-based penetration chance: 37.4363091479859%
[17:39:27] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3640.139, 1507.494), shooter_id=967709821716, bullet_pos=(2036.417, 50.60532)
[17:39:27] [INFO] [Bullet] Using shooter_position, distance=2166.66821289063
[17:39:27] [INFO] [Bullet] Distance to wall: 2166.66821289063 (147.532422767253% of viewport)
[17:39:27] [INFO] [Bullet] Distance-based penetration chance: 20.4935154465495%
[17:39:27] [INFO] [Bullet] Caliber cannot penetrate walls
[17:39:28] [INFO] [ReplayManager] Recording frame 2820 (43,7s): player_valid=True, enemies=10
[17:39:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3529.416, 1370.474), source=PLAYER (AssaultRifle), range=1469, listeners=5
[17:39:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[17:39:28] [ENEMY] [GuardEnemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[17:39:28] [ENEMY] [GuardEnemy4] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:28] [INFO] [ImpactEffects] spawn_blood_effect called at (3689.744, 1554.077), dir=(1, 0), lethal=false
[17:39:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:28] [INFO] [ImpactEffects] Blood effect spawned at (3689.744, 1554.077) (scale=1)
[17:39:28] [ENEMY] [GuardEnemy4] State: COMBAT -> RETREATING
[17:39:28] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=86.5°, current=168.7°, player=(3529,1364), corner_timer=-0.02
[17:39:28] [INFO] [BloodDecal] Blood puddle created at (3759.216, 1584.629) (added to group)
[17:39:28] [INFO] [BloodDecal] Blood puddle created at (3750.203, 1562.372) (added to group)
[17:39:28] [INFO] [BloodDecal] Blood puddle created at (3746.97, 1581.011) (added to group)
[17:39:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3529.416, 1370.474), source=PLAYER (AssaultRifle), range=1469, listeners=5
[17:39:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3812.41, 1612.871) (added to group)
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3762.26, 1593.598) (added to group)
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3809.042, 1629.606) (added to group)
[17:39:29] [ENEMY] [GuardEnemy6] Hit taken, damage: 1, health: 3/4 -> 2/4
[17:39:29] [ENEMY] [GuardEnemy6] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:29] [INFO] [ImpactEffects] spawn_blood_effect called at (3743.602, 1614.089), dir=(1, 0), lethal=false
[17:39:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:29] [INFO] [ImpactEffects] Blood effect spawned at (3743.602, 1614.089) (scale=1)
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3780.415, 1580.377) (added to group)
[17:39:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-118.9°, current=-107.1°, player=(3529,1364), corner_timer=-0.02
[17:39:29] [INFO] [ReplayManager] Recording frame 2880 (44,6s): player_valid=True, enemies=10
[17:39:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=90.7°, current=78.2°, player=(3529,1364), corner_timer=-0.02
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3852.604, 1707.705) (added to group)
[17:39:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-117.8°, current=-111.2°, player=(3529,1364), corner_timer=-0.02
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3838.912, 1716.796) (added to group)
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3859.342, 1715.475) (added to group)
[17:39:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=91.6°, current=83.4°, player=(3529,1364), corner_timer=-0.02
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3810.156, 1652.048) (added to group)
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3777.618, 1644.649) (added to group)
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3792.296, 1654.101) (added to group)
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3813.205, 1597.277) (added to group)
[17:39:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-116.0°, current=-114.6°, player=(3529,1364), corner_timer=-0.02
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3825.728, 1663.597) (added to group)
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3829.714, 1606.89) (added to group)
[17:39:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=68.5°, current=69.4°, player=(3529,1364), corner_timer=-0.02
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3872.22, 1603.267) (added to group)
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3886.436, 1654.641) (added to group)
[17:39:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-115.5°, current=-126.3°, player=(3529,1364), corner_timer=-0.02
[17:39:29] [INFO] [BloodDecal] Blood puddle created at (3871.45, 1722.203) (added to group)
[17:39:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=92.3°, current=101.5°, player=(3529,1364), corner_timer=-0.02
[17:39:29] [ENEMY] [GuardEnemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-112.9°, current=-111.1°, player=(3529,1364), corner_timer=-0.02
[17:39:30] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=75.0°, current=75.6°, player=(3529,1364), corner_timer=-0.02
[17:39:30] [INFO] [BloodDecal] Blood puddle created at (3885.235, 1801.153) (added to group)
[17:39:30] [ENEMY] [GuardEnemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-111.9°, current=-135.1°, player=(3529,1364), corner_timer=-0.02
[17:39:30] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=79.5°, current=93.3°, player=(3529,1364), corner_timer=-0.02
[17:39:30] [INFO] [ReplayManager] Recording frame 2940 (45,4s): player_valid=True, enemies=10
[17:39:30] [ENEMY] [GuardEnemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-109.3°, current=-92.6°, player=(3529,1364), corner_timer=-0.02
[17:39:30] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=64.5°, current=55.3°, player=(3529,1364), corner_timer=-0.02
[17:39:30] [ENEMY] [GuardEnemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-110.8°, current=-113.4°, player=(3529,1364), corner_timer=-0.02
[17:39:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3529.416, 1370.474), source=PLAYER (AssaultRifle), range=1469, listeners=5
[17:39:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[17:39:30] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=82.4°, current=82.7°, player=(3529,1364), corner_timer=-0.02
[17:39:30] [ENEMY] [GuardEnemy4] Hit taken, damage: 1, health: 1/2 -> 0/2
[17:39:30] [ENEMY] [GuardEnemy4] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:30] [INFO] [ImpactEffects] spawn_blood_effect called at (3621.365, 1614.729), dir=(1, 0), lethal=true
[17:39:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:30] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[17:39:30] [INFO] [ImpactEffects] Blood effect spawned at (3621.365, 1614.729) (scale=1.5)
[17:39:30] [ENEMY] [GuardEnemy4] Enemy died (ricochet: false, penetration: false)
[17:39:30] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[17:39:30] [ENEMY] [GuardEnemy6] [AllyDeath] Witnessed at (3621.365, 1614.729), entering SEARCHING
[17:39:30] [ENEMY] [GuardEnemy6] SEARCHING started: center=(3621.365, 1614.729), radius=100, waypoints=3
[17:39:30] [ENEMY] [GuardEnemy4] [AllyDeath] Notified 1 enemies
[17:39:30] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy4 (remaining: 4)
[17:39:30] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[17:39:30] [ENEMY] [GuardEnemy4] Death animation started with hit direction: (1, 0)
[17:39:30] [ENEMY] [GuardEnemy6] SEARCHING: Player spotted! Transitioning to COMBAT
[17:39:30] [ENEMY] [GuardEnemy6] State: SEARCHING -> COMBAT
[17:39:30] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[17:39:31] [INFO] [BloodDecal] Blood puddle created at (3676.919, 1629.482) (added to group)
[17:39:31] [INFO] [BloodDecal] Blood puddle created at (3698.36, 1638.279) (added to group)
[17:39:31] [INFO] [BloodDecal] Blood puddle created at (3700.536, 1645.497) (added to group)
[17:39:31] [ENEMY] [GuardEnemy4] Ragdoll activated
[17:39:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[17:39:31] [INFO] [ReplayManager] Recording frame 3000 (46,2s): player_valid=True, enemies=10
[17:39:31] [INFO] [BloodDecal] Blood puddle created at (3706.878, 1643.073) (added to group)
[17:39:31] [INFO] [BloodDecal] Blood puddle created at (3794.298, 1639.771) (added to group)
[17:39:31] [INFO] [BloodDecal] Blood puddle created at (3814.415, 1616.852) (added to group)
[17:39:31] [INFO] [BloodDecal] Blood puddle created at (3834.625, 1659.998) (added to group)
[17:39:31] [INFO] [BloodDecal] Blood puddle created at (3789.157, 1649.391) (added to group)
[17:39:32] [INFO] [ReplayManager] Recording frame 3060 (47,0s): player_valid=True, enemies=10
[17:39:32] [ENEMY] [GuardEnemy4] Death animation completed
[17:39:33] [INFO] [ReplayManager] Recording frame 3120 (47,8s): player_valid=True, enemies=10
[17:39:34] [INFO] [ReplayManager] Recording frame 3180 (48,7s): player_valid=True, enemies=10
[17:39:34] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[17:39:34] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[17:39:34] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[17:39:34] [ENEMY] [GuardEnemy5] Player reloading: false -> true
[17:39:34] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[17:39:34] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(3529.416, 1567.142), source=PLAYER (Player), range=900, listeners=4
[17:39:34] [ENEMY] [GuardEnemy6] Heard player RELOAD at (3529.416, 1567.142), intensity=0.05, distance=219
[17:39:34] [ENEMY] [GuardEnemy6] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[17:39:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[17:39:34] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=2377), can_see=false
[17:39:34] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=3755), can_see=false
[17:39:34] [ENEMY] [GuardEnemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=3386), can_see=false
[17:39:34] [ENEMY] [GuardEnemy6] Player reloading - priority attack triggered
[17:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3743.602, 1614.089), source=ENEMY (GuardEnemy6), range=2000, listeners=4
[17:39:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[17:39:34] [ENEMY] [GuardEnemy6] Pursuing vulnerability sound at (3529.416, 1567.142), distance=219
[17:39:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:34] [INFO] [Player] Spawning blood effect at (3529.416, 1567.1418), dir=(1, 0), lethal=False (C#)
[17:39:34] [INFO] [ImpactEffects] spawn_blood_effect called at (3529.416, 1567.142), dir=(1, 0), lethal=false
[17:39:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:34] [INFO] [ImpactEffects] Blood effect spawned at (3529.416, 1567.142) (scale=1)
[17:39:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:34] [INFO] [Player] Spawning blood effect at (3529.416, 1567.1418), dir=(1, 0), lethal=False (C#)
[17:39:34] [INFO] [ImpactEffects] spawn_blood_effect called at (3529.416, 1567.142), dir=(1, 0), lethal=false
[17:39:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:34] [INFO] [ImpactEffects] Blood effect spawned at (3529.416, 1567.142) (scale=1)
[17:39:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:34] [INFO] [Player] Spawning blood effect at (3529.416, 1567.1418), dir=(1, 0), lethal=False (C#)
[17:39:34] [INFO] [ImpactEffects] spawn_blood_effect called at (3529.416, 1567.142), dir=(1, 0), lethal=false
[17:39:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:34] [INFO] [ImpactEffects] Blood effect spawned at (3529.416, 1567.142) (scale=1)
[17:39:34] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[17:39:34] [ENEMY] [GuardEnemy6] State: PURSUING -> COMBAT
[17:39:34] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[17:39:34] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[17:39:34] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[17:39:34] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[17:39:34] [ENEMY] [GuardEnemy5] Player reloading: true -> false
[17:39:34] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[17:39:34] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3580.286, 1585.777) (added to group)
[17:39:34] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-178.6°, current=-90.9°, player=(3529,1567), corner_timer=0.28
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3602.252, 1624.947) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3624.727, 1633.96) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3608.363, 1612.18) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3627.704, 1600.671) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3579.236, 1573.342) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3631.087, 1562.632) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3614.301, 1584.417) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3623.054, 1600.976) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3602.054, 1606.613) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3601.998, 1602.117) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3632.919, 1582.408) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3594.946, 1582.56) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3623.494, 1627.913) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3617.343, 1616.02) (added to group)
[17:39:34] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-160.7°, current=-111.0°, player=(3529,1567), corner_timer=0.28
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3599.897, 1629.653) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3640.881, 1600.864) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3650.88, 1565.44) (added to group)
[17:39:34] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3652.052, 1646.459) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3622.204, 1578.851) (added to group)
[17:39:34] [INFO] [BloodDecal] Blood puddle created at (3701.397, 1641.444) (added to group)
[17:39:35] [INFO] [BloodDecal] Blood puddle created at (3671.815, 1588.112) (added to group)
[17:39:35] [INFO] [BloodDecal] Blood puddle created at (3728.348, 1591.359) (added to group)
[17:39:35] [INFO] [BloodDecal] Blood puddle created at (3703.491, 1622.118) (added to group)
[17:39:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3687.875, 1604.369), source=ENEMY (GuardEnemy6), range=2000, listeners=4
[17:39:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[17:39:35] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-178.6°, current=136.7°, player=(3529,1567), corner_timer=0.28
[17:39:35] [INFO] [ReplayManager] Recording frame 3240 (49,7s): player_valid=True, enemies=10
[17:39:35] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-162.1°, current=148.1°, player=(3529,1567), corner_timer=0.28
[17:39:35] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-178.6°, current=-101.4°, player=(3529,1567), corner_timer=0.28
[17:39:35] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-162.6°, current=-112.8°, player=(3529,1567), corner_timer=0.28
[17:39:35] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-178.6°, current=120.6°, player=(3529,1567), corner_timer=0.28
[17:39:35] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-161.8°, current=-136.5°, player=(3529,1567), corner_timer=0.28
[17:39:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3698.205, 1603.232), source=ENEMY (GuardEnemy6), range=2000, listeners=4
[17:39:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=0
[17:39:35] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-178.6°, current=96.3°, player=(3529,1567), corner_timer=0.28
[17:39:36] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-162.1°, current=-128.7°, player=(3529,1567), corner_timer=0.28
[17:39:36] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-178.6°, current=83.8°, player=(3529,1567), corner_timer=0.28
[17:39:36] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-159.8°, current=-134.5°, player=(3529,1567), corner_timer=0.28
[17:39:36] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-178.6°, current=73.2°, player=(3529,1567), corner_timer=0.28
[17:39:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3529.416, 1573.142), source=PLAYER (AssaultRifle), range=1469, listeners=4
[17:39:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[17:39:36] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[17:39:36] [INFO] [ReplayManager] Recording frame 3300 (50,7s): player_valid=True, enemies=10
[17:39:36] [ENEMY] [GuardEnemy6] Hit taken, damage: 1, health: 2/4 -> 1/4
[17:39:36] [ENEMY] [GuardEnemy6] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:36] [INFO] [ImpactEffects] spawn_blood_effect called at (3657.555, 1620.98), dir=(1, 0), lethal=false
[17:39:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:36] [INFO] [ImpactEffects] Blood effect spawned at (3657.555, 1620.98) (scale=1)
[17:39:36] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-157.2°, current=180.0°, player=(3529,1567), corner_timer=0.28
[17:39:36] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-178.6°, current=14.8°, player=(3529,1567), corner_timer=0.28
[17:39:36] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-156.7°, current=-160.9°, player=(3529,1567), corner_timer=0.28
[17:39:36] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-178.6°, current=1.0°, player=(3529,1567), corner_timer=0.28
[17:39:36] [INFO] [BloodDecal] Blood puddle created at (3755.655, 1631.227) (added to group)
[17:39:36] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-158.9°, current=-149.1°, player=(3529,1567), corner_timer=0.28
[17:39:36] [INFO] [BloodDecal] Blood puddle created at (3704.64, 1622.683) (added to group)
[17:39:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3529.416, 1573.142), source=PLAYER (AssaultRifle), range=1469, listeners=4
[17:39:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[17:39:36] [INFO] [BloodDecal] Blood puddle created at (3717.405, 1632.22) (added to group)
[17:39:36] [ENEMY] [GuardEnemy6] Hit taken, damage: 1, health: 1/4 -> 0/4
[17:39:36] [ENEMY] [GuardEnemy6] ImpactEffectsManager found, calling spawn_blood_effect
[17:39:36] [INFO] [ImpactEffects] spawn_blood_effect called at (3670.787, 1608.728), dir=(1, 0), lethal=true
[17:39:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:36] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[17:39:36] [INFO] [ImpactEffects] Blood effect spawned at (3670.787, 1608.728) (scale=1.5)
[17:39:36] [ENEMY] [GuardEnemy6] Enemy died (ricochet: false, penetration: false)
[17:39:36] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[17:39:36] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy6 (remaining: 3)
[17:39:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[17:39:36] [ENEMY] [GuardEnemy6] Death animation started with hit direction: (1, 0)
[17:39:36] [INFO] [BloodDecal] Blood puddle created at (3764.722, 1649.757) (added to group)
[17:39:36] [INFO] [BloodDecal] Blood puddle created at (3786.811, 1602.512) (added to group)
[17:39:36] [INFO] [BloodDecal] Blood puddle created at (3790.308, 1621.84) (added to group)
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3762.043, 1609.673) (added to group)
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3762.612, 1636.578) (added to group)
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3759.87, 1615.907) (added to group)
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3789.961, 1634.014) (added to group)
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3745.291, 1627.364) (added to group)
[17:39:37] [INFO] [ReplayManager] Recording frame 3360 (51,5s): player_valid=True, enemies=10
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3755.697, 1640.662) (added to group)
[17:39:37] [ENEMY] [GuardEnemy6] Ragdoll activated
[17:39:37] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3776, 1609.286) (added to group)
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3766.602, 1643.623) (added to group)
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3853.008, 1686.544) (added to group)
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3817.959, 1647.139) (added to group)
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3857.405, 1643.796) (added to group)
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3777.143, 1654.943) (added to group)
[17:39:37] [INFO] [BloodDecal] Blood puddle created at (3842.284, 1617.165) (added to group)
[17:39:38] [INFO] [ReplayManager] Recording frame 3420 (52,3s): player_valid=True, enemies=10
[17:39:38] [ENEMY] [GuardEnemy6] Death animation completed
[17:39:39] [INFO] [ReplayManager] Recording frame 3480 (53,1s): player_valid=True, enemies=10
[17:39:40] [INFO] [ReplayManager] Recording frame 3540 (54,0s): player_valid=True, enemies=10
[17:39:40] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=140.0°, current=140.1°, player=(3532,2134), corner_timer=0.00
[17:39:40] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.9°, current=140.0°, player=(3537,2134), corner_timer=0.00
[17:39:40] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.8°, current=139.9°, player=(3548,2134), corner_timer=0.00
[17:39:40] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.5°, current=139.6°, player=(3565,2134), corner_timer=0.00
[17:39:40] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.4°, current=139.5°, player=(3576,2134), corner_timer=0.00
[17:39:40] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.3°, current=139.4°, player=(3581,2134), corner_timer=0.00
[17:39:40] [ENEMY] [SniperEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-127.0°, current=-123.8°, player=(3664,2134), corner_timer=0.00
[17:39:40] [ENEMY] [SniperEnemy2] State: IDLE -> COMBAT
[17:39:41] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-125.9°, current=-126.0°, player=(3741,2134), corner_timer=0.00
[17:39:41] [INFO] [ReplayManager] Recording frame 3600 (55,0s): player_valid=True, enemies=10
[17:39:42] [INFO] [ReplayManager] Recording frame 3660 (56,0s): player_valid=True, enemies=10
[17:39:42] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[17:39:43] [INFO] [ReplayManager] Recording frame 3720 (57,0s): player_valid=True, enemies=10
[17:39:44] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=124.4°, current=124.5°, player=(4216,2421), corner_timer=0.00
[17:39:44] [INFO] [ReplayManager] Recording frame 3780 (58,0s): player_valid=True, enemies=10
[17:39:45] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-126.0°, current=-125.9°, player=(4216,2795), corner_timer=0.00
[17:39:45] [INFO] [ReplayManager] Recording frame 3840 (59,0s): player_valid=True, enemies=10
[17:39:46] [INFO] [ReplayManager] Recording frame 3900 (60,0s): player_valid=True, enemies=10
[17:39:46] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-135.4°, current=-135.3°, player=(4029,3152), corner_timer=0.00
[17:39:47] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=121.2°, current=121.1°, player=(3875,3245), corner_timer=0.00
[17:39:47] [INFO] [ReplayManager] Recording frame 3960 (61,0s): player_valid=True, enemies=10
[17:39:48] [INFO] [ReplayManager] Recording frame 4020 (62,0s): player_valid=True, enemies=10
[17:39:49] [INFO] [ReplayManager] Recording frame 4080 (63,0s): player_valid=True, enemies=10
[17:39:50] [INFO] [ReplayManager] Recording frame 4140 (64,0s): player_valid=True, enemies=10
[17:39:51] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-150.7°, current=-150.7°, player=(2621,3031), corner_timer=0.00
[17:39:51] [INFO] [ReplayManager] Recording frame 4200 (65,0s): player_valid=True, enemies=10
[17:39:51] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.5°, current=139.4°, player=(2522,3031), corner_timer=0.00
[17:39:51] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=139.5°, player=(2511,3031), corner_timer=0.00
[17:39:51] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.6°, current=139.6°, player=(2506,3031), corner_timer=0.00
[17:39:51] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.8°, current=139.8°, player=(2484,3031), corner_timer=0.00
[17:39:51] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.9°, current=139.8°, player=(2478,3031), corner_timer=0.00
[17:39:51] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=140.0°, current=139.9°, player=(2467,3031), corner_timer=0.00
[17:39:51] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-152.5°, current=-152.4°, player=(2396,3031), corner_timer=0.00
[17:39:51] [ENEMY] [GuardEnemy5] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-50.2°, current=-78.7°, player=(2374,3031), corner_timer=0.00
[17:39:51] [ENEMY] [GuardEnemy5] State: IDLE -> COMBAT
[17:39:52] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-50.5°, current=-123.4°, player=(2363,3031), corner_timer=0.00
[17:39:52] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-51.8°, current=-101.8°, player=(2319,3031), corner_timer=0.00
[17:39:52] [INFO] [ReplayManager] Recording frame 4260 (66,0s): player_valid=True, enemies=10
[17:39:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1496.532, 4072.475), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1517.161, 4041.36), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:52] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:39:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1536.963, 4009.713), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1515.696, 3994.526), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1494.404, 3979.378), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1540.9778, 4020.9097), shooter_id=968766786873, bullet_pos=(2296.0872, 2922.0034)
[17:39:53] [INFO] [Bullet] Using shooter_position, distance=1333,3362
[17:39:53] [INFO] [Bullet] Distance to wall: 1333,3362 (90,789314% of viewport)
[17:39:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1473.092, 3964.268), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:53] [INFO] [LastChance] Threat detected: @Area2D@2702
[17:39:53] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1560.2422, 3988.6472), shooter_id=968766786873, bullet_pos=(2264.8262, 2906.0767)
[17:39:53] [INFO] [Bullet] Using shooter_position, distance=1291,6647
[17:39:53] [INFO] [Bullet] Distance to wall: 1291,6647 (87,95183% of viewport)
[17:39:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:53] [INFO] [Player] Spawning blood effect at (1989.1685, 3031.1804), dir=(1, 0), lethal=False (C#)
[17:39:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1989.168, 3031.18), dir=(1, 0), lethal=false
[17:39:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:53] [INFO] [ImpactEffects] Blood effect spawned at (1989.168, 3031.18) (scale=1)
[17:39:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1451.843, 3949.055), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:53] [INFO] [LastChance] Threat detected: @Area2D@2706
[17:39:53] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:53] [INFO] [ReplayManager] Recording frame 4320 (67,0s): player_valid=True, enemies=10
[17:39:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1430.594, 3933.842), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:53] [INFO] [Player] Spawning blood effect at (1927.6184, 3055.2012), dir=(1, 0), lethal=False (C#)
[17:39:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1927.618, 3055.201), dir=(1, 0), lethal=false
[17:39:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:53] [INFO] [ImpactEffects] Blood effect spawned at (1927.618, 3055.201) (scale=1)
[17:39:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1556.9387, 3940.3914), shooter_id=968766786873, bullet_pos=(2263.7668, 2712.656)
[17:39:53] [INFO] [Bullet] Using shooter_position, distance=1416,6652
[17:39:53] [INFO] [Bullet] Distance to wall: 1416,6652 (96,46334% of viewport)
[17:39:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1409.346, 3918.628), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2070.592, 3076.431) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2103.147, 3077.67) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2074.94, 3027.683) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2112.464, 3064.906) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2075.698, 3038.756) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2120.629, 3108.321) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (1978.557, 3076.492) (added to group)
[17:39:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1374.97, 3906.117), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (1968.654, 3055.666) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2027.957, 3093.82) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2171.566, 3060.579) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2026.582, 3055.514) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2180.815, 3149.261) (added to group)
[17:39:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1492.0314, 3894.1367), shooter_id=968766786873, bullet_pos=(2268.74, 2759.52)
[17:39:53] [INFO] [Bullet] Using shooter_position, distance=1375,0023
[17:39:53] [INFO] [Bullet] Distance to wall: 1375,0023 (93,62644% of viewport)
[17:39:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.049, 3904.667), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2113.391, 3135.563) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2101.015, 3085.988) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2045.037, 3081.263) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2007.733, 3079.989) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2047.317, 3121.292) (added to group)
[17:39:53] [INFO] [LastChance] Threat detected: @Area2D@2723
[17:39:53] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.069, 3904.346), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:53] [INFO] [Player] Spawning blood effect at (1841.5554, 3127.4658), dir=(1, 0), lethal=False (C#)
[17:39:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1841.555, 3127.466), dir=(1, 0), lethal=false
[17:39:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:53] [INFO] [ImpactEffects] Blood effect spawned at (1841.555, 3127.466) (scale=1)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2087.347, 3142.153) (added to group)
[17:39:53] [INFO] [BloodDecal] Blood puddle created at (2026.443, 3126.443) (added to group)
[17:39:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1450.522, 3864.4746), shooter_id=968766786873, bullet_pos=(2254.0994, 2748.7266)
[17:39:53] [INFO] [Bullet] Using shooter_position, distance=1375,002
[17:39:53] [INFO] [Bullet] Distance to wall: 1375,002 (93,62642% of viewport)
[17:39:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1470.9669, 3879.0757), shooter_id=968766786873, bullet_pos=(2187.9404, 2282.686)
[17:39:54] [INFO] [Bullet] Using shooter_position, distance=1750,0032
[17:39:54] [INFO] [Bullet] Distance to wall: 1750,0032 (119,160934% of viewport)
[17:39:54] [INFO] [BloodDecal] Blood puddle created at (2163.023, 3161.414) (added to group)
[17:39:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1513.6221, 3909.5974), shooter_id=968766786873, bullet_pos=(2715.214, 1764.9282)
[17:39:54] [INFO] [Bullet] Using shooter_position, distance=2458,3389
[17:39:54] [INFO] [Bullet] Distance to wall: 2458,3389 (167,3928% of viewport)
[17:39:54] [INFO] [LastChance] Threat detected: @Area2D@2731
[17:39:54] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.074, 3904.289), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:54] [INFO] [BloodDecal] Blood puddle created at (1907.93, 3134.138) (added to group)
[17:39:54] [INFO] [LastChance] Threat detected: @Area2D@2738
[17:39:54] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.078, 3904.219), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:54] [INFO] [BloodDecal] Blood puddle created at (1945.665, 3132.853) (added to group)
[17:39:54] [INFO] [ReplayManager] Recording frame 4380 (68,0s): player_valid=True, enemies=10
[17:39:54] [INFO] [BloodDecal] Blood puddle created at (1930.801, 3166.58) (added to group)
[17:39:54] [INFO] [BloodDecal] Blood puddle created at (1926.7, 3126.209) (added to group)
[17:39:54] [INFO] [BloodDecal] Blood puddle created at (1913.653, 3135.114) (added to group)
[17:39:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.083, 3904.143), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:54] [INFO] [BloodDecal] Blood puddle created at (1945.336, 3211.191) (added to group)
[17:39:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1513.6221, 3909.5974), shooter_id=968766786873, bullet_pos=(2394.3757, 934.3241)
[17:39:54] [INFO] [Bullet] Using shooter_position, distance=3102,8984
[17:39:54] [INFO] [Bullet] Distance to wall: 3102,8984 (211,28206% of viewport)
[17:39:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.091, 3904.042), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:54] [INFO] [BloodDecal] Blood puddle created at (1994.082, 3302.506) (added to group)
[17:39:54] [INFO] [BloodDecal] Blood puddle created at (1940.93, 3181.542) (added to group)
[17:39:54] [INFO] [BloodDecal] Blood puddle created at (1977.131, 3195.108) (added to group)
[17:39:54] [INFO] [BloodDecal] Blood puddle created at (2070.984, 3239.619) (added to group)
[17:39:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1416.4861, 3850.4736), shooter_id=968766786873, bullet_pos=(2256.022, 2709.3652)
[17:39:54] [INFO] [Bullet] Using shooter_position, distance=1416,6682
[17:39:54] [INFO] [Bullet] Distance to wall: 1416,6682 (96,46355% of viewport)
[17:39:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1416.59, 3850.8967), shooter_id=968766786873, bullet_pos=(2707.1748, 1807.6986)
[17:39:54] [INFO] [Bullet] Using shooter_position, distance=2416,6646
[17:39:54] [INFO] [Bullet] Distance to wall: 2416,6646 (164,55513% of viewport)
[17:39:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.043, 3904.776), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1416.4929, 3850.4053), shooter_id=968766786873, bullet_pos=(2270.9836, 2720.4531)
[17:39:54] [INFO] [Bullet] Using shooter_position, distance=1416,6674
[17:39:54] [INFO] [Bullet] Distance to wall: 1416,6674 (96,463486% of viewport)
[17:39:54] [INFO] [Bullet] Distance-based penetration chance: 34,12593%
[17:39:54] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1416.4805, 3850.5295), shooter_id=968766786873, bullet_pos=(2707.3096, 1807.488)
[17:39:54] [INFO] [Bullet] Using shooter_position, distance=2416,6626
[17:39:54] [INFO] [Bullet] Distance to wall: 2416,6626 (164,55501% of viewport)
[17:39:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1374.887, 3906.698), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1374.791, 3907.68), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:55] [INFO] [LastChance] Threat detected: Bullet
[17:39:55] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1415.6136, 3849.4521), shooter_id=968766786873, bullet_pos=(2260.561, 2660.8364)
[17:39:55] [INFO] [Bullet] Using shooter_position, distance=1458,3358
[17:39:55] [INFO] [Bullet] Distance to wall: 1458,3358 (99,30077% of viewport)
[17:39:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:55] [INFO] [Player] Spawning blood effect at (1788.3258, 3297.0413), dir=(1, 0), lethal=False (C#)
[17:39:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1788.326, 3297.041), dir=(1, 0), lethal=false
[17:39:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:55] [INFO] [ImpactEffects] Blood effect spawned at (1788.326, 3297.041) (scale=1)
[17:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1374.921, 3906.319), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:55] [INFO] [ReplayManager] Recording frame 4440 (69,0s): player_valid=True, enemies=10
[17:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1414.8795, 3849.7688), shooter_id=968766786873, bullet_pos=(2260.1118, 2712.8772)
[17:39:55] [INFO] [Bullet] Using shooter_position, distance=1416,6652
[17:39:55] [INFO] [Bullet] Distance to wall: 1416,6652 (96,46334% of viewport)
[17:39:55] [INFO] [LastChance] Threat detected: Bullet
[17:39:55] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:55] [INFO] [BloodDecal] Blood puddle created at (1845.368, 3298.507) (added to group)
[17:39:55] [INFO] [BloodDecal] Blood puddle created at (1832.936, 3303.69) (added to group)
[17:39:55] [INFO] [BloodDecal] Blood puddle created at (1888.604, 3332.943) (added to group)
[17:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1374.066, 3946.17), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:55] [INFO] [BloodDecal] Blood puddle created at (1872.501, 3292.619) (added to group)
[17:39:55] [INFO] [BloodDecal] Blood puddle created at (1850.082, 3327.64) (added to group)
[17:39:55] [INFO] [BloodDecal] Blood puddle created at (1891.732, 3329.119) (added to group)
[17:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1374.067, 3942.263), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:55] [INFO] [BloodDecal] Blood puddle created at (1936.321, 3301.013) (added to group)
[17:39:55] [INFO] [LastChance] Threat detected: @Area2D@2783
[17:39:55] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1417.6708, 3855.2415), shooter_id=968766786873, bullet_pos=(2163.5586, 2318.342)
[17:39:55] [INFO] [Bullet] Using shooter_position, distance=1708,335
[17:39:55] [INFO] [Bullet] Distance to wall: 1708,335 (116,32368% of viewport)
[17:39:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:55] [INFO] [Player] Spawning blood effect at (1710.4375, 3311.8064), dir=(1, 0), lethal=False (C#)
[17:39:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1710.438, 3311.806), dir=(1, 0), lethal=false
[17:39:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:55] [INFO] [ImpactEffects] Blood effect spawned at (1710.438, 3311.806) (scale=1)
[17:39:55] [INFO] [BloodDecal] Blood puddle created at (2006.091, 3463.768) (added to group)
[17:39:55] [INFO] [BloodDecal] Blood puddle created at (1900.118, 3445.586) (added to group)
[17:39:55] [INFO] [BloodDecal] Blood puddle created at (1971.181, 3436.276) (added to group)
[17:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1374.066, 3944.704), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1417.6708, 3855.2415), shooter_id=968766786873, bullet_pos=(2361.9456, 2659.4263)
[17:39:55] [INFO] [Bullet] Using shooter_position, distance=1523,6893
[17:39:55] [INFO] [Bullet] Distance to wall: 1523,6893 (103,75082% of viewport)
[17:39:55] [INFO] [Bullet] Distance-based penetration chance: 29,249838%
[17:39:55] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1388.062, 3952.017), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:56] [INFO] [BloodDecal] Blood puddle created at (1775.523, 3298.734) (added to group)
[17:39:56] [INFO] [BloodDecal] Blood puddle created at (1772.089, 3314.45) (added to group)
[17:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1416.4841, 3850.3162), shooter_id=968766786873, bullet_pos=(3219.122, 47.608246)
[17:39:56] [INFO] [Bullet] Using shooter_position, distance=4208,336
[17:39:56] [INFO] [Bullet] Distance to wall: 4208,336 (286,55334% of viewport)
[17:39:56] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:39:56] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1374.066, 3932.102), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:56] [INFO] [BloodDecal] Blood puddle created at (1831.562, 3368.822) (added to group)
[17:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1419.5835, 3855.3635), shooter_id=968766786873, bullet_pos=(2702.0662, 1856.3975)
[17:39:56] [INFO] [Bullet] Using shooter_position, distance=2375,0005
[17:39:56] [INFO] [Bullet] Distance to wall: 2375,0005 (161,71815% of viewport)
[17:39:56] [INFO] [BloodDecal] Blood puddle created at (1797.999, 3397.961) (added to group)
[17:39:56] [INFO] [ReplayManager] Recording frame 4500 (70,0s): player_valid=True, enemies=10
[17:39:56] [INFO] [LastChance] Threat detected: @Area2D@2798
[17:39:56] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:56] [INFO] [BloodDecal] Blood puddle created at (1861.309, 3416.237) (added to group)
[17:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1415.019, 3887.8638), shooter_id=968766786873, bullet_pos=(2252.336, 2693.8647)
[17:39:56] [INFO] [Bullet] Using shooter_position, distance=1458,3324
[17:39:56] [INFO] [Bullet] Distance to wall: 1458,3324 (99,30054% of viewport)
[17:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1397.166, 3951.045), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:56] [INFO] [BloodDecal] Blood puddle created at (1813.98, 3332.508) (added to group)
[17:39:56] [INFO] [BloodDecal] Blood puddle created at (1891.842, 3362.704) (added to group)
[17:39:56] [INFO] [BloodDecal] Blood puddle created at (1823.008, 3398.025) (added to group)
[17:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1376.084, 3935.666), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1419.6843, 3891.7222), shooter_id=968766786873, bullet_pos=(1693.4667, 2886.6807)
[17:39:56] [INFO] [Bullet] Using shooter_position, distance=1041,6647
[17:39:56] [INFO] [Bullet] Distance to wall: 1041,6647 (70,92886% of viewport)
[17:39:56] [INFO] [BloodDecal] Blood puddle created at (1929.536, 3337.287) (added to group)
[17:39:56] [INFO] [BloodDecal] Blood puddle created at (1823.065, 3376.348) (added to group)
[17:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1374.068, 3932.564), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:56] [INFO] [LastChance] Threat detected: @Area2D@2816
[17:39:56] [INFO] [LastChance] Not in hard mode - effect disabled
[17:39:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:39:56] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:39:56] [INFO] [Player] Spawning blood effect at (1488.6852, 3090.5273), dir=(1, 0), lethal=False (C#)
[17:39:56] [INFO] [ImpactEffects] spawn_blood_effect called at (1488.685, 3090.527), dir=(1, 0), lethal=false
[17:39:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:39:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:39:56] [INFO] [ImpactEffects] Blood effect spawned at (1488.685, 3090.527) (scale=1)
[17:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1374.068, 3926.694), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:39:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1404.088, 3870.9233), shooter_id=968766786873, bullet_pos=(2069.3323, 1940.675)
[17:39:57] [INFO] [Bullet] Using shooter_position, distance=2041,6681
[17:39:57] [INFO] [Bullet] Distance to wall: 2041,6681 (139,02095% of viewport)
[17:39:57] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=15.3°, current=15.1°, player=(1430,3032), corner_timer=0.00
[17:39:57] [INFO] [BloodDecal] Blood puddle created at (1571.904, 3133.158) (added to group)
[17:39:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1394.0732, 3867.4458), shooter_id=968766786873, bullet_pos=(1690.5668, 2868.868)
[17:39:57] [INFO] [Bullet] Using shooter_position, distance=1041,6652
[17:39:57] [INFO] [Bullet] Distance to wall: 1041,6652 (70,928894% of viewport)
[17:39:57] [INFO] [Bullet] Distance-based penetration chance: 63,91629%
[17:39:57] [INFO] [Bullet] Starting wall penetration at (1690.5668, 2868.868)
[17:39:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,52527
[17:39:57] [INFO] [BloodDecal] Blood puddle created at (1552.685, 3131.094) (added to group)
[17:39:57] [INFO] [Bullet] Max penetration distance exceeded: 83,33334 >= 48
[17:39:57] [INFO] [Bullet] Body exited signal received for penetrating body
[17:39:57] [INFO] [Bullet] Exiting penetration at (1715.7095, 2784.1885) after traveling 83,33334 pixels through wall
[17:39:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:39:57] [INFO] [BloodDecal] Blood puddle created at (1566.029, 3086.115) (added to group)
[17:39:57] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-89.0°, current=-77.5°, player=(1399,3001), corner_timer=0.00
[17:39:57] [INFO] [BloodDecal] Blood puddle created at (1569.934, 3105.313) (added to group)
[17:39:57] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=93.4°, current=84.8°, player=(1387,2989), corner_timer=0.00
[17:39:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1390.3036, 3860.5469), shooter_id=968766786873, bullet_pos=(1564.3915, 2875.8145)
[17:39:57] [INFO] [Bullet] Using shooter_position, distance=1000,00226
[17:39:57] [INFO] [Bullet] Distance to wall: 1000,00226 (68,091995% of viewport)
[17:39:57] [INFO] [Bullet] Distance-based penetration chance: 67,226006%
[17:39:57] [INFO] [Bullet] Penetration failed (distance roll)
[17:39:57] [INFO] [BloodDecal] Blood puddle created at (1632.846, 3113.616) (added to group)
[17:39:57] [INFO] [BloodDecal] Blood puddle created at (1598.324, 3117.078) (added to group)
[17:39:57] [INFO] [BloodDecal] Blood puddle created at (1604.648, 3088.302) (added to group)
[17:39:57] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-90.7°, current=-88.5°, player=(1372,2973), corner_timer=0.00
[17:39:57] [INFO] [ReplayManager] Recording frame 4560 (71,0s): player_valid=True, enemies=10
[17:39:57] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=64.6°, current=70.9°, player=(1356,2958), corner_timer=0.00
[17:39:57] [INFO] [BloodDecal] Blood puddle created at (1599.941, 3206.681) (added to group)
[17:39:57] [INFO] [BloodDecal] Blood puddle created at (1653.366, 3147.193) (added to group)
[17:39:57] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-92.7°, current=-103.7°, player=(1340,2942), corner_timer=0.00
[17:39:57] [INFO] [BloodDecal] Blood puddle created at (1676.249, 3210.083) (added to group)
[17:39:57] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=38.1°, current=55.3°, player=(1317,2919), corner_timer=0.00
[17:39:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1410.2659, 3886.9546), shooter_id=968766786873, bullet_pos=(3003.2883, 36.837795)
[17:39:57] [INFO] [Bullet] Using shooter_position, distance=4166,668
[17:39:57] [INFO] [Bullet] Distance to wall: 4166,668 (283,7161% of viewport)
[17:39:57] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-96.0°, current=-79.8°, player=(1270,2872), corner_timer=0.00
[17:39:57] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=171.7°, current=152.4°, player=(1220,2822), corner_timer=0.00
[17:39:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1421.8748, 3886.9226), shooter_id=968766786873, bullet_pos=(2980.6897, 67.79089)
[17:39:58] [INFO] [Bullet] Using shooter_position, distance=4125,006
[17:39:58] [INFO] [Bullet] Distance to wall: 4125,006 (280,87924% of viewport)
[17:39:58] [ENEMY] [GuardEnemy5] State: RETREATING -> IN_COVER
[17:39:58] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[17:39:58] [INFO] [ReplayManager] Recording frame 4620 (72,0s): player_valid=True, enemies=10
[17:39:59] [INFO] [ReplayManager] Recording frame 4680 (73,0s): player_valid=True, enemies=10
[17:39:59] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> IN_COVER
[17:39:59] [ENEMY] [GuardEnemy5] State: IN_COVER -> PURSUING
[17:39:59] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-110.3°, current=117.4°, player=(860,2523), corner_timer=0.00
[17:40:00] [INFO] [ReplayManager] Recording frame 4740 (74,0s): player_valid=True, enemies=10
[17:40:00] [ENEMY] [GuardEnemy5] Warning: No valid flank position (both sides behind walls)
[17:40:00] [ENEMY] [GuardEnemy5] FLANKING started: target=(282.989, 2705.764), side=right, pos=(1381.293, 3934.438)
[17:40:00] [ENEMY] [GuardEnemy5] State: PURSUING -> FLANKING
[17:40:00] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 48.1°
[17:40:01] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 113.2°
[17:40:01] [INFO] [ReplayManager] Recording frame 4800 (75,0s): player_valid=True, enemies=10
[17:40:01] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 113.2°
[17:40:01] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 113.2°
[17:40:02] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-120.1°, current=-120.3°, player=(80,2281), corner_timer=0.05
[17:40:02] [ENEMY] [GuardEnemy5] State: FLANKING -> COMBAT
[17:40:02] [INFO] [ReplayManager] Recording frame 4860 (76,0s): player_valid=True, enemies=10
[17:40:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(970.6996, 3852.72), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:02] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:03] [INFO] [ReplayManager] Recording frame 4920 (77,0s): player_valid=True, enemies=10
[17:40:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(932.8457, 3796.1597), shooter_id=968766786873, bullet_pos=(61.78528, 2088.859)
[17:40:03] [INFO] [Bullet] Using shooter_position, distance=1916,6696
[17:40:03] [INFO] [Bullet] Distance to wall: 1916,6696 (130,50955% of viewport)
[17:40:03] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=113.2°, current=-115.0°, player=(80,1713), corner_timer=0.05
[17:40:04] [ENEMY] [GuardEnemy5] State: RETREATING -> IN_COVER
[17:40:04] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[17:40:04] [INFO] [ReplayManager] Recording frame 4980 (78,0s): player_valid=True, enemies=10
[17:40:05] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> IN_COVER
[17:40:05] [ENEMY] [GuardEnemy5] State: IN_COVER -> PURSUING
[17:40:05] [INFO] [ReplayManager] Recording frame 5040 (79,0s): player_valid=True, enemies=10
[17:40:05] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-111.0°, current=113.2°, player=(80,1262), corner_timer=0.05
[17:40:06] [INFO] [ReplayManager] Recording frame 5100 (80,0s): player_valid=True, enemies=10
[17:40:06] [ENEMY] [GuardEnemy5] Warning: No valid flank position (both sides behind walls)
[17:40:06] [ENEMY] [GuardEnemy5] FLANKING started: target=(47.43504, 955.5446), side=right, pos=(1015.377, 3701.422)
[17:40:06] [ENEMY] [GuardEnemy5] State: PURSUING -> FLANKING
[17:40:06] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 151.8°
[17:40:07] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=177.0°, current=177.0°, player=(188,680), corner_timer=0.00
[17:40:07] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 151.8°
[17:40:07] [INFO] [ReplayManager] Recording frame 5160 (81,0s): player_valid=True, enemies=10
[17:40:07] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 151.8°
[17:40:07] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 151.8°
[17:40:08] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 151.8°
[17:40:08] [INFO] [ReplayManager] Recording frame 5220 (82,0s): player_valid=True, enemies=10
[17:40:08] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 151.8°
[17:40:08] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 151.8°
[17:40:09] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-97.5°, current=-97.6°, player=(272,80), corner_timer=0.03
[17:40:09] [ENEMY] [GuardEnemy5] State: FLANKING -> COMBAT
[17:40:09] [INFO] [ReplayManager] Recording frame 5280 (83,0s): player_valid=True, enemies=10
[17:40:09] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-95.5°, current=-95.5°, player=(347,80), corner_timer=0.03
[17:40:09] [ENEMY] [GuardEnemy5] State: COMBAT -> PURSUING
[17:40:10] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-92.9°, current=-93.0°, player=(474,80), corner_timer=0.03
[17:40:10] [ENEMY] [GuardEnemy5] State: PURSUING -> COMBAT
[17:40:10] [INFO] [ReplayManager] Recording frame 5340 (84,0s): player_valid=True, enemies=10
[17:40:10] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-88.8°, current=-88.8°, player=(672,80), corner_timer=0.03
[17:40:10] [ENEMY] [GuardEnemy5] State: COMBAT -> PURSUING
[17:40:11] [INFO] [ReplayManager] Recording frame 5400 (85,0s): player_valid=True, enemies=10
[17:40:11] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-79.7°, current=-79.8°, player=(1101,80), corner_timer=0.03
[17:40:11] [ENEMY] [GuardEnemy5] State: PURSUING -> COMBAT
[17:40:12] [INFO] [ReplayManager] Recording frame 5460 (86,0s): player_valid=True, enemies=10
[17:40:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(633.2084, 2592.53), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.7755, 2556.444), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:12] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.853, 2520.497), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(656.386, 2546.389), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(659.9191, 2572.282), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(664.8684, 2597.677), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(672.5044, 2625.934), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(687.4784, 2510.0762), shooter_id=968766786873, bullet_pos=(1049.904, 1759.6807)
[17:40:13] [INFO] [Bullet] Using shooter_position, distance=833,33417
[17:40:13] [INFO] [Bullet] Distance to wall: 833,33417 (56,74326% of viewport)
[17:40:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(685.5601, 2611.522), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:13] [INFO] [ReplayManager] Recording frame 5520 (87,0s): player_valid=True, enemies=10
[17:40:13] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=151.8°, current=-70.7°, player=(1607,80), corner_timer=0.03
[17:40:13] [ENEMY] [GuardEnemy5] State: RETREATING -> IN_COVER
[17:40:13] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[17:40:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.67566, 2529.0498), shooter_id=968766786873, bullet_pos=(1321.1635, 32.370644)
[17:40:13] [INFO] [Bullet] Using shooter_position, distance=2583,3357
[17:40:13] [INFO] [Bullet] Distance to wall: 2583,3357 (175,90408% of viewport)
[17:40:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(701.2208, 2564.306), shooter_id=968766786873, bullet_pos=(1047.4965, 1715.5592)
[17:40:13] [INFO] [Bullet] Using shooter_position, distance=916,6666
[17:40:13] [INFO] [Bullet] Distance to wall: 916,6666 (62,41752% of viewport)
[17:40:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(668.15607, 2493.323), shooter_id=968766786873, bullet_pos=(1332.8213, 40.103058)
[17:40:13] [INFO] [Bullet] Using shooter_position, distance=2541,6665
[17:40:13] [INFO] [Bullet] Distance to wall: 2541,6665 (173,06674% of viewport)
[17:40:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(687.4784, 2510.0762), shooter_id=968766786873, bullet_pos=(817.0222, 937.00665)
[17:40:13] [INFO] [Bullet] Using shooter_position, distance=1578,3947
[17:40:13] [INFO] [Bullet] Distance to wall: 1578,3947 (107,47579% of viewport)
[17:40:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(679.1433, 2457.7666), shooter_id=968766786873, bullet_pos=(1310.6155, 38.83191)
[17:40:13] [INFO] [Bullet] Using shooter_position, distance=2500,0002
[17:40:13] [INFO] [Bullet] Distance to wall: 2500,0002 (170,22961% of viewport)
[17:40:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(683.32367, 2483.9119), shooter_id=968766786873, bullet_pos=(1469.2571, 66.81062)
[17:40:13] [INFO] [Bullet] Using shooter_position, distance=2541,667
[17:40:13] [INFO] [Bullet] Distance to wall: 2541,667 (173,06679% of viewport)
[17:40:13] [INFO] [Bullet] Distance-based penetration chance: 15,386644%
[17:40:13] [INFO] [Bullet] Starting wall penetration at (1469.2571, 66.81062)
[17:40:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,062066
[17:40:13] [INFO] [Bullet] Body exited signal received for penetrating body
[17:40:13] [INFO] [Bullet] Exiting penetration at (1483.6874, 22.43105) after traveling 41,666668 pixels through wall
[17:40:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:40:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(701.2208, 2564.306), shooter_id=968766786873, bullet_pos=(825.4958, 926.6151)
[17:40:13] [INFO] [Bullet] Using shooter_position, distance=1642,3993
[17:40:13] [INFO] [Bullet] Distance to wall: 1642,3993 (111,83399% of viewport)
[17:40:14] [INFO] [ReplayManager] Recording frame 5580 (88,0s): player_valid=True, enemies=10
[17:40:15] [INFO] [ReplayManager] Recording frame 5640 (89,0s): player_valid=True, enemies=10
[17:40:15] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> IN_COVER
[17:40:15] [ENEMY] [GuardEnemy5] State: IN_COVER -> PURSUING
[17:40:15] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-56.4°, current=151.8°, player=(2410,80), corner_timer=0.03
[17:40:16] [INFO] [ReplayManager] Recording frame 5700 (90,0s): player_valid=True, enemies=10
[17:40:17] [INFO] [ReplayManager] Recording frame 5760 (91,0s): player_valid=True, enemies=10
[17:40:17] [ENEMY] [GuardEnemy5] Warning: No valid flank position (both sides behind walls)
[17:40:17] [ENEMY] [GuardEnemy5] FLANKING started: target=(2708.669, 43.11712), side=right, pos=(730.3293, 2613.176)
[17:40:17] [ENEMY] [GuardEnemy5] State: PURSUING -> FLANKING
[17:40:17] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -163.3°
[17:40:17] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -163.3°
[17:40:18] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -163.3°
[17:40:18] [INFO] [ReplayManager] Recording frame 5820 (92,0s): player_valid=True, enemies=10
[17:40:18] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -163.3°
[17:40:18] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -163.3°
[17:40:19] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -163.3°
[17:40:19] [INFO] [ReplayManager] Recording frame 5880 (93,0s): player_valid=True, enemies=10
[17:40:19] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -163.3°
[17:40:19] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -163.3°
[17:40:20] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -163.3°
[17:40:20] [INFO] [ReplayManager] Recording frame 5940 (94,0s): player_valid=True, enemies=10
[17:40:20] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -163.3°
[17:40:20] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -139.8°
[17:40:20] [INFO] [BloodyFeet:GuardEnemy5] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:40:21] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -139.8°
[17:40:21] [INFO] [ReplayManager] Recording frame 6000 (95,0s): player_valid=True, enemies=10
[17:40:21] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -139.8°
[17:40:21] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -145.4°
[17:40:22] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -123.9°
[17:40:22] [INFO] [BloodyFeet:GuardEnemy5] Blood ran out - no more footprints
[17:40:22] [INFO] [ReplayManager] Recording frame 6060 (96,0s): player_valid=True, enemies=10
[17:40:22] [ENEMY] [GuardEnemy5] FLANKING timeout (5.0s), target=(4327.88, 139.0823), pos=(1411.361, 1216.164)
[17:40:22] [ENEMY] [GuardEnemy5] State: FLANKING -> PURSUING
[17:40:22] [ENEMY] [GuardEnemy5] PURSUING corner check: angle -167.8°
[17:40:22] [ENEMY] [GuardEnemy5] PURSUING corner check: angle -167.8°
[17:40:23] [INFO] [ReplayManager] Recording frame 6120 (97,0s): player_valid=True, enemies=10
[17:40:23] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=164.5°, current=164.8°, player=(4582,681), corner_timer=0.00
[17:40:24] [INFO] [ReplayManager] Recording frame 6180 (98,0s): player_valid=True, enemies=10
[17:40:24] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-1.0°, current=-1.1°, player=(4582,934), corner_timer=0.02
[17:40:24] [ENEMY] [GuardEnemy5] State: PURSUING -> COMBAT
[17:40:24] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-0.6°, current=92.7°, player=(4582,956), corner_timer=0.02
[17:40:24] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=0.7°, current=48.2°, player=(4582,1044), corner_timer=0.02
[17:40:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1617.402, 1008.284), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1654.703, 1009.846), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:25] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1691.98, 1011.888), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:25] [INFO] [ReplayManager] Recording frame 6240 (99,0s): player_valid=True, enemies=10
[17:40:25] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=140.2°, current=140.4°, player=(4582,1247), corner_timer=0.00
[17:40:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1667.436, 974.1517), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1698.784, 974.0667), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1758.9308, 1023.89526), shooter_id=968766786873, bullet_pos=(3215.5154, 952.51953)
[17:40:25] [INFO] [Bullet] Using shooter_position, distance=1458,3324
[17:40:25] [INFO] [Bullet] Distance to wall: 1458,3324 (99,30054% of viewport)
[17:40:25] [INFO] [Bullet] Distance-based penetration chance: 30,816036%
[17:40:25] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1723.941, 974.8168), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1751.554, 974.0673), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:26] [INFO] [ReplayManager] Recording frame 6300 (100,0s): player_valid=True, enemies=10
[17:40:26] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=140.4°, current=140.3°, player=(4549,1269), corner_timer=0.00
[17:40:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1750.859, 987.8739), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1721.207, 991.2443), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1753.602, 982.3245), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1683.663, 1018.4275), shooter_id=968766786873, bullet_pos=(6096.7915, 1195.3872)
[17:40:26] [INFO] [Bullet] Using shooter_position, distance=4416,675
[17:40:26] [INFO] [Bullet] Distance to wall: 4416,675 (300,73953% of viewport)
[17:40:26] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:26] [INFO] [Bullet] Starting wall penetration at (6096.7915, 1195.3872)
[17:40:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47,459007
[17:40:26] [INFO] [Bullet] Body exited signal received for penetrating body
[17:40:26] [INFO] [Bullet] Exiting penetration at (6143.421, 1197.257) after traveling 41,666668 pixels through wall
[17:40:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:40:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1733.738, 988.67194), shooter_id=968766786873, bullet_pos=(5083.366, 1662.1693)
[17:40:26] [INFO] [Bullet] Using shooter_position, distance=3416,6663
[17:40:26] [INFO] [Bullet] Distance to wall: 3416,6663 (232,64708% of viewport)
[17:40:26] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:26] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1751.107, 985.7487), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1721.8213, 1020.96936), shooter_id=968766786873, bullet_pos=(6090.138, 1262.8461)
[17:40:26] [INFO] [Bullet] Using shooter_position, distance=4375,0083
[17:40:26] [INFO] [Bullet] Distance to wall: 4375,0083 (297,90237% of viewport)
[17:40:26] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:26] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1751.081, 985.5358), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:27] [INFO] [ReplayManager] Recording frame 6360 (101,0s): player_valid=True, enemies=10
[17:40:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1751.134, 985.6293), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1790.3278, 989.46564), shooter_id=968766786873, bullet_pos=(5051.2393, 1680.5299)
[17:40:27] [INFO] [Bullet] Using shooter_position, distance=3333,334
[17:40:27] [INFO] [Bullet] Distance to wall: 3333,334 (226,97284% of viewport)
[17:40:27] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:27] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1787.7006, 1005.72656), shooter_id=968766786873, bullet_pos=(3870.1833, 946.18066)
[17:40:27] [INFO] [Bullet] Using shooter_position, distance=2083,334
[17:40:27] [INFO] [Bullet] Distance to wall: 2083,334 (141,85805% of viewport)
[17:40:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1751.233, 985.9173), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1765.1815, 988.674), shooter_id=968766786873, bullet_pos=(6072.488, 1755.3842)
[17:40:27] [INFO] [Bullet] Using shooter_position, distance=4375,012
[17:40:27] [INFO] [Bullet] Distance to wall: 4375,012 (297,90262% of viewport)
[17:40:27] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:27] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1751.612, 987.8889), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1817.3125, 1002.3999), shooter_id=968766786873, bullet_pos=(5071.127, 1726.1595)
[17:40:27] [INFO] [Bullet] Using shooter_position, distance=3333,3372
[17:40:27] [INFO] [Bullet] Distance to wall: 3333,3372 (226,97305% of viewport)
[17:40:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1747.97, 989.1133), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1744.273, 989.6339), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1817.9121, 988.8131), shooter_id=968766786873, bullet_pos=(6063.594, 1615.3759)
[17:40:28] [INFO] [Bullet] Using shooter_position, distance=4291,666
[17:40:28] [INFO] [Bullet] Distance to wall: 4291,666 (292,22745% of viewport)
[17:40:28] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:28] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1736.834, 990.1418), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1744.3, 990.0215), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1817.4558, 1000.71173), shooter_id=968766786873, bullet_pos=(5080.7754, 1680.3503)
[17:40:28] [INFO] [Bullet] Using shooter_position, distance=3333,3413
[17:40:28] [INFO] [Bullet] Distance to wall: 3333,3413 (226,97334% of viewport)
[17:40:28] [INFO] [ReplayManager] Recording frame 6420 (102,0s): player_valid=True, enemies=10
[17:40:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1714.433, 989.9459), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:28] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-167.8°, current=12.5°, player=(4011,1506), corner_timer=0.02
[17:40:28] [ENEMY] [GuardEnemy5] State: RETREATING -> IN_COVER
[17:40:28] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[17:40:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1819.9506, 997.2178), shooter_id=968766786873, bullet_pos=(6069.947, 991.88245)
[17:40:28] [INFO] [Bullet] Using shooter_position, distance=4249,9995
[17:40:28] [INFO] [Bullet] Distance to wall: 4249,9995 (289,3903% of viewport)
[17:40:28] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:28] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:28] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=13.9°, current=49.8°, player=(3961,1557), corner_timer=0.02
[17:40:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1696.994, 996.5992), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1696.994, 996.5992), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:28] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:28] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-167.8°, current=-61.3°, player=(3906,1612), corner_timer=0.02
[17:40:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1817.3868, 1000.6843), shooter_id=968766786873, bullet_pos=(6064.1953, 1165.2506)
[17:40:28] [INFO] [Bullet] Using shooter_position, distance=4249,996
[17:40:28] [INFO] [Bullet] Distance to wall: 4249,996 (289,39008% of viewport)
[17:40:28] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:28] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:28] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:40:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1817.3688, 1001.0406), shooter_id=968766786873, bullet_pos=(6098.746, 1298.096)
[17:40:29] [INFO] [Bullet] Using shooter_position, distance=4291,6704
[17:40:29] [INFO] [Bullet] Distance to wall: 4291,6704 (292,22775% of viewport)
[17:40:29] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:29] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1801.7831, 1010.32733), shooter_id=968766786873, bullet_pos=(4263.4375, 1793.8115)
[17:40:29] [INFO] [Bullet] Using shooter_position, distance=2583,329
[17:40:29] [INFO] [Bullet] Distance to wall: 2583,329 (175,90363% of viewport)
[17:40:29] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> IN_COVER
[17:40:29] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[17:40:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1817.1406, 1002.4334), shooter_id=968766786873, bullet_pos=(6066.127, 1095.7798)
[17:40:29] [INFO] [Bullet] Using shooter_position, distance=4250,0117
[17:40:29] [INFO] [Bullet] Distance to wall: 4250,0117 (289,3911% of viewport)
[17:40:29] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:29] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:29] [INFO] [ReplayManager] Recording frame 6480 (103,0s): player_valid=True, enemies=10
[17:40:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1817.2463, 1005.52954), shooter_id=968766786873, bullet_pos=(6062.513, 1634.9335)
[17:40:29] [INFO] [Bullet] Using shooter_position, distance=4291,671
[17:40:29] [INFO] [Bullet] Distance to wall: 4291,671 (292,22778% of viewport)
[17:40:29] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:29] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:29] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=140.0°, current=140.1°, player=(3887,1835), corner_timer=0.00
[17:40:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1813.4232, 1007.54816), shooter_id=968766786873, bullet_pos=(6069.817, 1556.7224)
[17:40:29] [INFO] [Bullet] Using shooter_position, distance=4291,6753
[17:40:29] [INFO] [Bullet] Distance to wall: 4291,6753 (292,2281% of viewport)
[17:40:29] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:29] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:29] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.9°, current=140.0°, player=(3887,1840), corner_timer=0.00
[17:40:29] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.7°, current=139.8°, player=(3887,1851), corner_timer=0.00
[17:40:29] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=139.7°, player=(3887,1857), corner_timer=0.00
[17:40:29] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.4°, current=139.5°, player=(3887,1868), corner_timer=0.00
[17:40:29] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.3°, current=139.4°, player=(3887,1873), corner_timer=0.00
[17:40:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1809.5272, 1008.89197), shooter_id=968766786873, bullet_pos=(6069.894, 1526.3186)
[17:40:29] [INFO] [Bullet] Using shooter_position, distance=4291,673
[17:40:29] [INFO] [Bullet] Distance to wall: 4291,673 (292,2279% of viewport)
[17:40:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1758.5759, 1020.60333), shooter_id=968766786873, bullet_pos=(4258.3584, 1672.292)
[17:40:29] [INFO] [Bullet] Using shooter_position, distance=2583,3333
[17:40:29] [INFO] [Bullet] Distance to wall: 2583,3333 (175,90392% of viewport)
[17:40:29] [INFO] [Bullet] Distance-based penetration chance: 14,819219%
[17:40:29] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1808.9163, 1011.2467), shooter_id=968766786873, bullet_pos=(6063.537, 1574.0125)
[17:40:29] [INFO] [Bullet] Using shooter_position, distance=4291,6787
[17:40:29] [INFO] [Bullet] Distance to wall: 4291,6787 (292,2283% of viewport)
[17:40:29] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:29] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1778.7034, 1011.99664), shooter_id=968766786873, bullet_pos=(6066.8384, 1636.187)
[17:40:30] [INFO] [Bullet] Using shooter_position, distance=4333,326
[17:40:30] [INFO] [Bullet] Distance to wall: 4333,326 (295,06415% of viewport)
[17:40:30] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:30] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:30] [INFO] [ReplayManager] Recording frame 6540 (104,0s): player_valid=True, enemies=10
[17:40:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1757.4847, 1019.21967), shooter_id=968766786873, bullet_pos=(6084.4404, 1254.3242)
[17:40:30] [INFO] [Bullet] Using shooter_position, distance=4333,338
[17:40:30] [INFO] [Bullet] Distance to wall: 4333,338 (295,06494% of viewport)
[17:40:30] [INFO] [Bullet] Distance-based penetration chance: 5%
[17:40:30] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:30] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:30] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-126.1°, current=-126.0°, player=(3700,2093), corner_timer=0.00
[17:40:30] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[17:40:30] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-127.1°, current=-127.0°, player=(3657,2135), corner_timer=0.00
[17:40:30] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=31.2°, current=17.4°, player=(3646,2147), corner_timer=0.02
[17:40:30] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> IN_COVER
[17:40:30] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=-167.8°, current=34.8°, player=(3629,2161), corner_timer=0.02
[17:40:30] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[17:40:31] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.4°, current=139.3°, player=(3530,2174), corner_timer=0.00
[17:40:31] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.5°, current=139.5°, player=(3519,2174), corner_timer=0.00
[17:40:31] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.6°, current=139.5°, player=(3514,2174), corner_timer=0.00
[17:40:31] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.8°, current=139.8°, player=(3497,2174), corner_timer=0.00
[17:40:31] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> IN_COVER
[17:40:31] [ENEMY] [GuardEnemy5] State: IN_COVER -> PURSUING
[17:40:31] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=140.0°, current=139.9°, player=(3486,2174), corner_timer=0.00
[17:40:31] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=33.8°, current=112.2°, player=(3486,2174), corner_timer=0.02
[17:40:31] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=140.1°, current=140.0°, player=(3481,2174), corner_timer=0.00
[17:40:31] [INFO] [ReplayManager] Recording frame 6600 (105,0s): player_valid=True, enemies=10
[17:40:32] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-133.1°, current=-133.1°, player=(3233,2174), corner_timer=0.00
[17:40:32] [INFO] [ReplayManager] Recording frame 6660 (106,0s): player_valid=True, enemies=10
[17:40:32] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-135.2°, current=-135.2°, player=(3052,2174), corner_timer=0.00
[17:40:32] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=42.4°, current=42.3°, player=(3013,2174), corner_timer=0.02
[17:40:32] [ENEMY] [GuardEnemy5] State: PURSUING -> COMBAT
[17:40:32] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=43.1°, current=-98.2°, player=(2986,2174), corner_timer=0.02
[17:40:33] [ENEMY] [GuardEnemy5] State: COMBAT -> PURSUING
[17:40:33] [INFO] [ReplayManager] Recording frame 6720 (107,0s): player_valid=True, enemies=10
[17:40:33] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=45.4°, current=-4.1°, player=(2834,2115), corner_timer=0.02
[17:40:33] [ENEMY] [GuardEnemy5] State: PURSUING -> COMBAT
[17:40:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1949.5, 1218.484), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1975.68, 1245.1), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:34] [INFO] [ReplayManager] Recording frame 6780 (108,0s): player_valid=True, enemies=10
[17:40:34] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:34] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:34] [INFO] [LastChance] Threat detected: Bullet
[17:40:34] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:40:34] [INFO] [Player] Spawning blood effect at (2573.905, 1854.4734), dir=(1, 0), lethal=False (C#)
[17:40:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2573.905, 1854.473), dir=(1, 0), lethal=false
[17:40:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:40:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:40:34] [INFO] [ImpactEffects] Blood effect spawned at (2573.905, 1854.473) (scale=1)
[17:40:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:34] [INFO] [LastChance] Threat detected: @Area2D@2967
[17:40:34] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:40:34] [INFO] [Player] Spawning blood effect at (2554.4592, 1835.0282), dir=(1, 0), lethal=False (C#)
[17:40:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2554.459, 1835.028), dir=(1, 0), lethal=false
[17:40:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:40:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:40:34] [INFO] [ImpactEffects] Blood effect spawned at (2554.459, 1835.028) (scale=1)
[17:40:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:34] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:34] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:34] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:34] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2644.397, 1864.967) (added to group)
[17:40:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.3853, 1329.2246), shooter_id=968766786873, bullet_pos=(2703.1172, 1772.7883)
[17:40:34] [INFO] [Bullet] Using shooter_position, distance=791,6648
[17:40:34] [INFO] [Bullet] Distance to wall: 791,6648 (53,905914% of viewport)
[17:40:34] [INFO] [Bullet] Distance-based penetration chance: 83,776436%
[17:40:34] [INFO] [Bullet] Starting wall penetration at (2703.1172, 1772.7883)
[17:40:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:34] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:40:34] [INFO] [Bullet] Exiting penetration at (2741.7708, 1798.9353) after traveling 41,66667 pixels through wall
[17:40:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2636.591, 1867.868) (added to group)
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2676.958, 1879.947) (added to group)
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2627.768, 1866.426) (added to group)
[17:40:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2667.761, 1922.502) (added to group)
[17:40:34] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2644.069, 1874.595) (added to group)
[17:40:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.3724, 1329.2355), shooter_id=968766786873, bullet_pos=(2722.7715, 1885.5278)
[17:40:34] [INFO] [Bullet] Using shooter_position, distance=875,00006
[17:40:34] [INFO] [Bullet] Distance to wall: 875,00006 (59,580368% of viewport)
[17:40:34] [INFO] [Bullet] Distance-based penetration chance: 77,15624%
[17:40:34] [INFO] [Bullet] Penetration failed (distance roll)
[17:40:34] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2614.186, 1862.541) (added to group)
[17:40:34] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:34] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2636.419, 1818.245) (added to group)
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2658.179, 1879.093) (added to group)
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2615.245, 1841.065) (added to group)
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2647.773, 1867.222) (added to group)
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2675.632, 1850.557) (added to group)
[17:40:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2691.24, 1897.574) (added to group)
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2619.49, 1860.027) (added to group)
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2686.183, 1902.55) (added to group)
[17:40:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:34] [INFO] [BloodDecal] Blood puddle created at (2693.717, 1911.288) (added to group)
[17:40:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.309, 1329.2814), shooter_id=968766786873, bullet_pos=(2700.847, 1776.0736)
[17:40:35] [INFO] [Bullet] Using shooter_position, distance=791,6661
[17:40:35] [INFO] [Bullet] Distance to wall: 791,6661 (53,906% of viewport)
[17:40:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2647.572, 1925.436) (added to group)
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2794.227, 1934.939) (added to group)
[17:40:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.2927, 1329.2966), shooter_id=968766786873, bullet_pos=(2696.5652, 1851.6868)
[17:40:35] [INFO] [Bullet] Using shooter_position, distance=833,33435
[17:40:35] [INFO] [Bullet] Distance to wall: 833,33435 (56,74327% of viewport)
[17:40:35] [INFO] [Bullet] Distance-based penetration chance: 80,46619%
[17:40:35] [INFO] [Bullet] Starting wall penetration at (2696.5652, 1851.6868)
[17:40:35] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:40:35] [INFO] [Bullet] Exiting penetration at (2732.9243, 1880.9407) after traveling 41,66667 pixels through wall
[17:40:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:40:35] [INFO] [LastChance] Threat detected: @Area2D@2999
[17:40:35] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:35] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:35] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:35] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2689.632, 1953.884) (added to group)
[17:40:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.3583, 1329.2465), shooter_id=968766786873, bullet_pos=(3059.1648, 2653.6436)
[17:40:35] [INFO] [Bullet] Using shooter_position, distance=1666,6674
[17:40:35] [INFO] [Bullet] Distance to wall: 1666,6674 (113,48644% of viewport)
[17:40:35] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:40:35] [INFO] [Player] Spawning blood effect at (2395.0037, 1675.5776), dir=(1, 0), lethal=False (C#)
[17:40:35] [INFO] [ImpactEffects] spawn_blood_effect called at (2395.004, 1675.578), dir=(1, 0), lethal=false
[17:40:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:40:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:40:35] [INFO] [ImpactEffects] Blood effect spawned at (2395.004, 1675.578) (scale=1)
[17:40:35] [INFO] [LastChance] Threat detected: @Area2D@3004
[17:40:35] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.2512, 1329.325), shooter_id=968766786873, bullet_pos=(2706.8264, 1838.6438)
[17:40:35] [INFO] [Bullet] Using shooter_position, distance=833,33374
[17:40:35] [INFO] [Bullet] Distance to wall: 833,33374 (56,74323% of viewport)
[17:40:35] [INFO] [ReplayManager] Recording frame 6840 (109,0s): player_valid=True, enemies=10
[17:40:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:35] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.3434, 1329.2579), shooter_id=968766786873, bullet_pos=(3053.3943, 2911.5005)
[17:40:35] [INFO] [Bullet] Using shooter_position, distance=1875,0013
[17:40:35] [INFO] [Bullet] Distance to wall: 1875,0013 (127,67229% of viewport)
[17:40:35] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:35] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:35] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2479.641, 1729.128) (added to group)
[17:40:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2486.41, 1698.412) (added to group)
[17:40:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.1233, 1329.4208), shooter_id=968766786873, bullet_pos=(2707.0696, 1838.2587)
[17:40:35] [INFO] [Bullet] Using shooter_position, distance=833,33374
[17:40:35] [INFO] [Bullet] Distance to wall: 833,33374 (56,74323% of viewport)
[17:40:35] [INFO] [Bullet] Distance-based penetration chance: 80,46623%
[17:40:35] [INFO] [Bullet] Starting wall penetration at (2707.0696, 1838.2587)
[17:40:35] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:40:35] [INFO] [Bullet] Exiting penetration at (2744.0266, 1866.7535) after traveling 41,66667 pixels through wall
[17:40:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:40:35] [INFO] [LastChance] Threat detected: @Area2D@3030
[17:40:35] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:35] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2493.527, 1739.702) (added to group)
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2476.825, 1716.399) (added to group)
[17:40:35] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:35] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2471.561, 1724.008) (added to group)
[17:40:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.0941, 1329.4478), shooter_id=968766786873, bullet_pos=(2714.0442, 1895.8428)
[17:40:35] [INFO] [Bullet] Using shooter_position, distance=875,0004
[17:40:35] [INFO] [Bullet] Distance to wall: 875,0004 (59,58039% of viewport)
[17:40:35] [INFO] [LastChance] Threat detected: Bullet
[17:40:35] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.3434, 1329.2579), shooter_id=968766786873, bullet_pos=(2717.3613, 3659.0293)
[17:40:35] [INFO] [Bullet] Using shooter_position, distance=2424,2026
[17:40:35] [INFO] [Bullet] Distance to wall: 2424,2026 (165,06842% of viewport)
[17:40:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.0177, 1329.499), shooter_id=968766786873, bullet_pos=(2717.5935, 1750.2892)
[17:40:35] [INFO] [Bullet] Using shooter_position, distance=791,66675
[17:40:35] [INFO] [Bullet] Distance to wall: 791,66675 (53,906048% of viewport)
[17:40:35] [INFO] [Bullet] Distance-based penetration chance: 83,77628%
[17:40:35] [INFO] [Bullet] Starting wall penetration at (2717.5935, 1750.2892)
[17:40:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.2079, 1329.3615), shooter_id=968766786873, bullet_pos=(3240.4685, 2665.8467)
[17:40:35] [INFO] [Bullet] Using shooter_position, distance=1791,665
[17:40:35] [INFO] [Bullet] Distance to wall: 1791,665 (121,99777% of viewport)
[17:40:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:40:35] [INFO] [Bullet] Exiting penetration at (2757.122, 1775.0936) after traveling 41,66667 pixels through wall
[17:40:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:40:35] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:35] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2575.01, 1790.642) (added to group)
[17:40:35] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:35] [INFO] [LastChance] Threat detected: @Area2D@3045
[17:40:35] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:35] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2544.539, 1771.937) (added to group)
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2496.936, 1789.173) (added to group)
[17:40:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2046.9794, 1329.5339), shooter_id=968766786873, bullet_pos=(2713.95, 1895.9033)
[17:40:35] [INFO] [Bullet] Using shooter_position, distance=874,99945
[17:40:35] [INFO] [Bullet] Distance to wall: 874,99945 (59,580326% of viewport)
[17:40:35] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:40:35] [INFO] [Player] Spawning blood effect at (2231.659, 1512.238), dir=(1, 0), lethal=False (C#)
[17:40:35] [INFO] [ImpactEffects] spawn_blood_effect called at (2231.659, 1512.238), dir=(1, 0), lethal=false
[17:40:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:40:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:40:35] [INFO] [ImpactEffects] Blood effect spawned at (2231.659, 1512.238) (scale=1)
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2544.151, 1823.912) (added to group)
[17:40:35] [INFO] [BloodDecal] Blood puddle created at (2584.757, 1826.373) (added to group)
[17:40:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:36] [INFO] [LastChance] Threat detected: @Area2D@3058
[17:40:36] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2046.8203, 1329.6438), shooter_id=968766786873, bullet_pos=(2696.9858, 1781.3345)
[17:40:36] [INFO] [Bullet] Using shooter_position, distance=791,66895
[17:40:36] [INFO] [Bullet] Distance to wall: 791,66895 (53,906197% of viewport)
[17:40:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:36] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:36] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:40:36] [INFO] [Player] Spawning blood effect at (2188.8782, 1469.4586), dir=(1, 0), lethal=False (C#)
[17:40:36] [INFO] [ImpactEffects] spawn_blood_effect called at (2188.878, 1469.459), dir=(1, 0), lethal=false
[17:40:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:40:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:40:36] [INFO] [ImpactEffects] Blood effect spawned at (2188.878, 1469.459) (scale=1)
[17:40:36] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:36] [INFO] [LastChance] Threat detected: @Area2D@3060
[17:40:36] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:36] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:36] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2290.082, 1531.902) (added to group)
[17:40:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2292.646, 1502.86) (added to group)
[17:40:36] [INFO] [LastChance] Threat detected: @Area2D@3064
[17:40:36] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2285.427, 1516.347) (added to group)
[17:40:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2344.19, 1556.333) (added to group)
[17:40:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2046.6, 1329.8027), shooter_id=968766786873, bullet_pos=(2708.4604, 1836.1455)
[17:40:36] [INFO] [Bullet] Using shooter_position, distance=833,33203
[17:40:36] [INFO] [Bullet] Distance to wall: 833,33203 (56,74311% of viewport)
[17:40:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.1826, 1329.3805), shooter_id=968766786873, bullet_pos=(3497.1133, 3763.6038)
[17:40:36] [INFO] [Bullet] Using shooter_position, distance=2833,327
[17:40:36] [INFO] [Bullet] Distance to wall: 2833,327 (192,92644% of viewport)
[17:40:36] [INFO] [LastChance] Threat detected: @Area2D@3068
[17:40:36] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:36] [INFO] [ReplayManager] Recording frame 6900 (110,0s): player_valid=True, enemies=10
[17:40:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2046.9333, 1329.5685), shooter_id=968766786873, bullet_pos=(3242.367, 2664.1145)
[17:40:36] [INFO] [Bullet] Using shooter_position, distance=1791,6681
[17:40:36] [INFO] [Bullet] Distance to wall: 1791,6681 (121,99798% of viewport)
[17:40:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:36] [INFO] [LastChance] Threat detected: @Area2D@3074
[17:40:36] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:36] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:40:36] [INFO] [Player] Spawning blood effect at (2150.399, 1435.1514), dir=(1, 0), lethal=False (C#)
[17:40:36] [INFO] [ImpactEffects] spawn_blood_effect called at (2150.399, 1435.151), dir=(1, 0), lethal=false
[17:40:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:40:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:40:36] [INFO] [ImpactEffects] Blood effect spawned at (2150.399, 1435.151) (scale=1)
[17:40:36] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2253.19, 1491.856) (added to group)
[17:40:36] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:36] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2248.278, 1472.236) (added to group)
[17:40:36] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2241.704, 1473.081) (added to group)
[17:40:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2335.848, 1573.042) (added to group)
[17:40:36] [INFO] [LastChance] Threat detected: @Area2D@3081
[17:40:36] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2354.903, 1535.474) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2329.343, 1616.229) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2333.427, 1595.605) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2346.272, 1637.089) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2280.452, 1463.005) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2328.923, 1559.712) (added to group)
[17:40:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2045.7445, 1330.3584), shooter_id=968766786873, bullet_pos=(2704.4497, 1769.4991)
[17:40:36] [INFO] [Bullet] Using shooter_position, distance=791,6673
[17:40:36] [INFO] [Bullet] Distance to wall: 791,6673 (53,906082% of viewport)
[17:40:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2316.619, 1522.371) (added to group)
[17:40:36] [INFO] [LastChance] Threat detected: @Area2D@3091
[17:40:36] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:36] [INFO] [Player] Hit blocked by invincibility mode (C#)
[17:40:36] [INFO] [Player] Spawning blood effect at (2147.9395, 1432.9586), dir=(1, 0), lethal=False (C#)
[17:40:36] [INFO] [ImpactEffects] spawn_blood_effect called at (2147.939, 1432.959), dir=(1, 0), lethal=false
[17:40:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:40:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:40:36] [INFO] [ImpactEffects] Blood effect spawned at (2147.939, 1432.959) (scale=1)
[17:40:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:36] [INFO] [LastChance] Threat detected: @Area2D@3095
[17:40:36] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2312.551, 1574.145) (added to group)
[17:40:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2047.1826, 1329.3805), shooter_id=968766786873, bullet_pos=(3125.7944, 4454.283)
[17:40:36] [INFO] [Bullet] Using shooter_position, distance=3305,8164
[17:40:36] [INFO] [Bullet] Distance to wall: 3305,8164 (225,09914% of viewport)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2284.157, 1522.604) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2355.355, 1523.91) (added to group)
[17:40:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:36] [INFO] [LastChance] Threat detected: Bullet
[17:40:36] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:36] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2300.957, 1496.244) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2232.071, 1438.055) (added to group)
[17:40:36] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:36] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2229.257, 1488.1) (added to group)
[17:40:36] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2046.4032, 1329.959), shooter_id=968766786873, bullet_pos=(3058.1904, 2654.366)
[17:40:36] [INFO] [Bullet] Using shooter_position, distance=1666,6635
[17:40:36] [INFO] [Bullet] Distance to wall: 1666,6635 (113,48618% of viewport)
[17:40:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.588, 1275.529), source=ENEMY (GuardEnemy5), range=1469, listeners=3
[17:40:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[17:40:36] [INFO] [LastChance] Threat detected: @Area2D@3108
[17:40:36] [INFO] [LastChance] Not in hard mode - effect disabled
[17:40:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2421.787, 1513.584) (added to group)
[17:40:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2045.1289, 1330.888), shooter_id=968766786873, bullet_pos=(2711.2996, 1898.2007)
[17:40:36] [INFO] [Bullet] Using shooter_position, distance=875,0012
[17:40:36] [INFO] [Bullet] Distance to wall: 875,0012 (59,580444% of viewport)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2346.035, 1500.029) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2196.789, 1438.648) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2248.933, 1560.375) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2261.693, 1456.492) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2206.869, 1442.376) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2222.894, 1435.011) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2247.369, 1515.021) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2247.241, 1514.457) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2207.653, 1441.444) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2329.743, 1612.232) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2266.168, 1572.301) (added to group)
[17:40:36] [INFO] [BloodDecal] Blood puddle created at (2372.857, 1587.275) (added to group)
[17:40:37] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:37] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2045.251, 1330.7843), shooter_id=968766786873, bullet_pos=(3057.9985, 2757.9666)
[17:40:37] [INFO] [Bullet] Using shooter_position, distance=1750,002
[17:40:37] [INFO] [Bullet] Distance to wall: 1750,002 (119,16086% of viewport)
[17:40:37] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2147.939, 1438.959), source=PLAYER (AssaultRifle), range=1469, listeners=3
[17:40:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2304.695, 1507.508) (added to group)
[17:40:37] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2269.461, 1499.813) (added to group)
[17:40:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2045.1289, 1330.888), shooter_id=968766786873, bullet_pos=(2222.2275, 2314.872)
[17:40:37] [INFO] [Bullet] Using shooter_position, distance=999,7943
[17:40:37] [INFO] [Bullet] Distance to wall: 999,7943 (68,077835% of viewport)
[17:40:37] [ENEMY] [GuardEnemy5] Hit taken, damage: 1, health: 4/4 -> 3/4
[17:40:37] [ENEMY] [GuardEnemy5] ImpactEffectsManager found, calling spawn_blood_effect
[17:40:37] [INFO] [ImpactEffects] spawn_blood_effect called at (2005.588, 1275.529), dir=(1, 0), lethal=false
[17:40:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:40:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:40:37] [INFO] [ImpactEffects] Blood effect spawned at (2005.588, 1275.529) (scale=1)
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=-167.8°, current=180.0°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2304.933, 1539.96) (added to group)
[17:40:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2045.1412, 1330.9016), shooter_id=968766786873, bullet_pos=(2699.1548, 1847.342)
[17:40:37] [INFO] [Bullet] Using shooter_position, distance=833,3333
[17:40:37] [INFO] [Bullet] Distance to wall: 833,3333 (56,7432% of viewport)
[17:40:37] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=47.9°, current=-174.8°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2147.939, 1438.959), source=PLAYER (AssaultRifle), range=1469, listeners=3
[17:40:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2330.019, 1492.391) (added to group)
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-167.8°, current=-177.1°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:37] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:37] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2288.229, 1482.862) (added to group)
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=47.9°, current=-170.3°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-167.8°, current=-172.6°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:37] [ENEMY] [GuardEnemy5] Hit taken, damage: 1, health: 3/4 -> 2/4
[17:40:37] [ENEMY] [GuardEnemy5] ImpactEffectsManager found, calling spawn_blood_effect
[17:40:37] [INFO] [ImpactEffects] spawn_blood_effect called at (2005.588, 1275.529), dir=(1, 0), lethal=false
[17:40:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:40:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:40:37] [INFO] [ImpactEffects] Blood effect spawned at (2005.588, 1275.529) (scale=1)
[17:40:37] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:37] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2342.608, 1615.232) (added to group)
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=47.9°, current=-175.4°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2147.939, 1438.959), source=PLAYER (AssaultRifle), range=1469, listeners=3
[17:40:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[17:40:37] [INFO] [ReplayManager] Recording frame 6960 (111,0s): player_valid=True, enemies=10
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-167.8°, current=-177.7°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:37] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2045.1412, 1330.9016), shooter_id=968766786873, bullet_pos=(3049.8484, 2743.3447)
[17:40:37] [INFO] [Bullet] Using shooter_position, distance=1733,3297
[17:40:37] [INFO] [Bullet] Distance to wall: 1733,3297 (118,02561% of viewport)
[17:40:37] [INFO] [Bullet] Distance-based penetration chance: 26,39488%
[17:40:37] [INFO] [Bullet] Starting wall penetration at (3049.8484, 2743.3447)
[17:40:37] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:37] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[17:40:37] [INFO] [Bullet] Exiting penetration at (3072.0679, 2774.5815) after traveling 33,333336 pixels through wall
[17:40:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=47.9°, current=-170.8°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-167.8°, current=-173.1°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:37] [ENEMY] [GuardEnemy5] Hit taken, damage: 1, health: 2/4 -> 1/4
[17:40:37] [ENEMY] [GuardEnemy5] ImpactEffectsManager found, calling spawn_blood_effect
[17:40:37] [INFO] [ImpactEffects] spawn_blood_effect called at (2005.588, 1275.529), dir=(1, 0), lethal=false
[17:40:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:40:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[17:40:37] [INFO] [ImpactEffects] Blood effect spawned at (2005.588, 1275.529) (scale=1)
[17:40:37] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:37] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=47.9°, current=-175.4°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2147.939, 1438.959), source=PLAYER (AssaultRifle), range=1469, listeners=3
[17:40:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-167.8°, current=-177.7°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2081.159, 1325.125) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2057.17, 1268.398) (added to group)
[17:40:37] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> SEEKING_COVER
[17:40:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2045.1412, 1330.9016), shooter_id=968766786873, bullet_pos=(3054.101, 2861.6238)
[17:40:37] [INFO] [Bullet] Using shooter_position, distance=1833,3331
[17:40:37] [INFO] [Bullet] Distance to wall: 1833,3331 (124,83503% of viewport)
[17:40:37] [ENEMY] [GuardEnemy5] State: SEEKING_COVER -> COMBAT
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=47.9°, current=-170.8°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2093.034, 1300.792) (added to group)
[17:40:37] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-167.8°, current=-173.1°, player=(2147,1432), corner_timer=0.02
[17:40:37] [ENEMY] [GuardEnemy5] State: RETREATING -> SUPPRESSED
[17:40:37] [ENEMY] [GuardEnemy5] Hit taken, damage: 1, health: 1/4 -> 0/4
[17:40:37] [ENEMY] [GuardEnemy5] ImpactEffectsManager found, calling spawn_blood_effect
[17:40:37] [INFO] [ImpactEffects] spawn_blood_effect called at (2005.588, 1275.529), dir=(1, 0), lethal=true
[17:40:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[17:40:37] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[17:40:37] [INFO] [ImpactEffects] Blood effect spawned at (2005.588, 1275.529) (scale=1.5)
[17:40:37] [ENEMY] [GuardEnemy5] Enemy died (ricochet: false, penetration: false)
[17:40:37] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[17:40:37] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy5 (remaining: 2)
[17:40:37] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[17:40:37] [ENEMY] [GuardEnemy5] Death animation started with hit direction: (1, 0)
[17:40:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2147.939, 1438.959), source=PLAYER (AssaultRifle), range=1469, listeners=2
[17:40:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=0
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2127.701, 1348.965) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2090.995, 1272.549) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2056.678, 1298.207) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2155.762, 1329.872) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2154.708, 1378.575) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2084.759, 1328.248) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2070.239, 1273.724) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2048.837, 1283.085) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2099.5, 1335.919) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2134.414, 1339.423) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2110.991, 1330.131) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2127.876, 1366.645) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2191.642, 1361.301) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2046.886, 1273.47) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2086.839, 1294.814) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2123.769, 1279.02) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2076.253, 1306.85) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2078.102, 1326.569) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2048.072, 1293.997) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2063.022, 1326.799) (added to group)
[17:40:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2147.9395, 1438.9586), shooter_id=969521761638, bullet_pos=(1687.9395, 930.94165)
[17:40:37] [INFO] [Bullet] Using shooter_position, distance=685,33295
[17:40:37] [INFO] [Bullet] Distance to wall: 685,33295 (46,66558% of viewport)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2100.621, 1260.637) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2057.577, 1302.863) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2158.075, 1361.711) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2090.934, 1316.754) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2066.306, 1320.758) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2103.198, 1310.793) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2108.736, 1365.078) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2195.214, 1405.203) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2166.369, 1337.293) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2070.384, 1292.093) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2108.304, 1377.089) (added to group)
[17:40:37] [INFO] [BloodDecal] Blood puddle created at (2078.123, 1309.667) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2178.2, 1349.79) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2099.926, 1274.681) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2137.896, 1366.812) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2154.311, 1296.368) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2150.292, 1257.922) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2114.423, 1368.247) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2174.216, 1406.9) (added to group)
[17:40:38] [ENEMY] [GuardEnemy5] Ragdoll activated
[17:40:38] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[17:40:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2147.9395, 1438.9586), shooter_id=969521761638, bullet_pos=(1396.7748, 1284.9088)
[17:40:38] [INFO] [Bullet] Using shooter_position, distance=766,79834
[17:40:38] [INFO] [Bullet] Distance to wall: 766,79834 (52,212708% of viewport)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2109.227, 1342.468) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2175.194, 1429.744) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2148.281, 1403.102) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2145.965, 1380.819) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2145.944, 1335.696) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2161.812, 1351.974) (added to group)
[17:40:38] [INFO] [ReplayManager] Recording frame 7020 (111,8s): player_valid=True, enemies=10
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2099.462, 1334.767) (added to group)
[17:40:38] [INFO] [BloodDecal] Blood puddle created at (2173.129, 1443.371) (added to group)
[17:40:39] [INFO] [ReplayManager] Recording frame 7080 (112,6s): player_valid=True, enemies=10
[17:40:39] [ENEMY] [GuardEnemy5] Death animation completed
[17:40:40] [INFO] [ReplayManager] Recording frame 7140 (113,4s): player_valid=True, enemies=10
[17:40:40] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[17:40:41] [INFO] [ReplayManager] Recording frame 7200 (114,3s): player_valid=True, enemies=10
[17:40:42] [INFO] [ReplayManager] Recording frame 7260 (115,3s): player_valid=True, enemies=10
[17:40:43] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[17:40:43] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[17:40:43] [INFO] [ReplayManager] Recording frame 7320 (116,3s): player_valid=True, enemies=10
[17:40:44] [INFO] [ReplayManager] Recording frame 7380 (117,3s): player_valid=True, enemies=10
[17:40:45] [INFO] [ReplayManager] Recording frame 7440 (118,3s): player_valid=True, enemies=10
[17:40:46] [INFO] [ReplayManager] Recording frame 7500 (119,3s): player_valid=True, enemies=10
[17:40:47] [INFO] [ReplayManager] Recording frame 7560 (120,3s): player_valid=True, enemies=10
[17:40:48] [INFO] [ReplayManager] Recording frame 7620 (121,3s): player_valid=True, enemies=10
[17:40:49] [INFO] [ReplayManager] Recording frame 7680 (122,3s): player_valid=True, enemies=10
[17:40:50] [INFO] [ReplayManager] Recording frame 7740 (123,3s): player_valid=True, enemies=10
[17:40:51] [INFO] [ReplayManager] Recording frame 7800 (124,3s): player_valid=True, enemies=10
[17:40:52] [INFO] [ReplayManager] Recording frame 7860 (125,3s): player_valid=True, enemies=10
[17:40:53] [INFO] [ReplayManager] Recording frame 7920 (126,3s): player_valid=True, enemies=10
[17:40:54] [INFO] [ReplayManager] Recording frame 7980 (127,3s): player_valid=True, enemies=10
[17:40:55] [INFO] [ReplayManager] Recording frame 8040 (128,3s): player_valid=True, enemies=10
[17:40:56] [INFO] [ReplayManager] Recording frame 8100 (129,3s): player_valid=True, enemies=10
[17:40:56] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.9°, current=139.9°, player=(1758,3634), corner_timer=0.00
[17:40:56] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.8°, current=139.8°, player=(1775,3634), corner_timer=0.00
[17:40:56] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.7°, current=139.8°, player=(1780,3634), corner_timer=0.00
[17:40:56] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.6°, current=139.7°, player=(1797,3634), corner_timer=0.00
[17:40:56] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=139.6°, current=139.6°, player=(1802,3634), corner_timer=0.00
[17:40:56] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=139.5°, current=139.5°, player=(1819,3634), corner_timer=0.00
[17:40:57] [INFO] [ReplayManager] Recording frame 8160 (130,3s): player_valid=True, enemies=10
[17:40:58] [INFO] [ReplayManager] Recording frame 8220 (131,3s): player_valid=True, enemies=10
[17:40:59] [INFO] [ReplayManager] Recording frame 8280 (132,3s): player_valid=True, enemies=10
[17:41:00] [INFO] [ReplayManager] Recording frame 8340 (133,3s): player_valid=True, enemies=10
[17:41:01] [INFO] [ReplayManager] Recording frame 8400 (134,3s): player_valid=True, enemies=10
[17:41:02] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-152.5°, current=-152.6°, player=(3551,3634), corner_timer=0.00
[17:41:02] [INFO] [ReplayManager] Recording frame 8460 (135,3s): player_valid=True, enemies=10
[17:41:02] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=121.2°, current=121.2°, player=(3645,3634), corner_timer=0.00
[17:41:02] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-150.6°, current=-150.6°, player=(3711,3634), corner_timer=0.00
[17:41:03] [INFO] [ReplayManager] Recording frame 8520 (136,3s): player_valid=True, enemies=10
[17:41:04] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=113.5°, current=113.6°, player=(4195,3634), corner_timer=0.00
[17:41:04] [INFO] [ReplayManager] Recording frame 8580 (137,3s): player_valid=True, enemies=10
[17:41:04] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-135.4°, current=-135.6°, player=(4389,3505), corner_timer=0.00
[17:41:05] [INFO] [ReplayManager] Recording frame 8640 (138,3s): player_valid=True, enemies=10
[17:41:06] [INFO] ------------------------------------------------------------
[17:41:06] [INFO] GAME LOG ENDED: 2026-02-07T17:41:06
[17:41:06] [INFO] ============================================================
