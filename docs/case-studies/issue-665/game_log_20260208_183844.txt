[18:38:44] [INFO] ============================================================
[18:38:44] [INFO] GAME LOG STARTED
[18:38:44] [INFO] ============================================================
[18:38:44] [INFO] Timestamp: 2026-02-08T18:38:44
[18:38:44] [INFO] Log file: I:/Загрузки/godot exe/снайпер/game_log_20260208_183844.txt
[18:38:44] [INFO] Executable: I:/Загрузки/godot exe/снайпер/Godot-Top-Down-Template.exe
[18:38:44] [INFO] OS: Windows
[18:38:44] [INFO] Debug build: false
[18:38:44] [INFO] Engine version: 4.3-stable (official)
[18:38:44] [INFO] Project: Godot Top-Down Template
[18:38:44] [INFO] ------------------------------------------------------------
[18:38:44] [INFO] [GameManager] GameManager ready
[18:38:44] [INFO] [ScoreManager] ScoreManager ready
[18:38:44] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[18:38:44] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[18:38:44] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[18:38:44] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[18:38:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:38:44] [INFO] [PenultimateHit] Saturation shader loaded successfully
[18:38:44] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[18:38:44] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[18:38:44] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[18:38:44] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[18:38:44] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[18:38:44] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[18:38:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:38:44] [INFO] [LastChance] Last chance shader loaded successfully
[18:38:44] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[18:38:44] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[18:38:44] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[18:38:44] [INFO] [LastChance]   Sepia intensity: 0.70
[18:38:44] [INFO] [LastChance]   Brightness: 0.60
[18:38:44] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[18:38:44] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[18:38:44] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[18:38:44] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[18:38:44] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[18:38:44] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:38:44] [INFO] [CinemaEffects] Created effects layer at layer 99
[18:38:44] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[18:38:44] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[18:38:44] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[18:38:44] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[18:38:44] [INFO] [CinemaEffects]   Grain intensity: 0.15
[18:38:44] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[18:38:44] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[18:38:44] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[18:38:44] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[18:38:44] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[18:38:44] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[18:38:44] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[18:38:44] [INFO] [GrenadeTimerHelper] Autoload ready
[18:38:44] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:38:44] [INFO] [PowerFantasy] Saturation shader loaded successfully
[18:38:44] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[18:38:44] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[18:38:44] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[18:38:44] [INFO] [ProgressManager] ProgressManager ready, loaded 7 entries
[18:38:44] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[18:38:44] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[18:38:44] [INFO] [FlashbangPlayer] Flashbang player shader loaded successfully
[18:38:44] [INFO] [FlashbangPlayer] Starting shader warmup (Issue #343 fix)...
[18:38:44] [INFO] [FlashbangPlayer] FlashbangPlayerEffectsManager ready
[18:38:44] [INFO] [FlashbangPlayer]   Duration range: 1.0-5.0 seconds
[18:38:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:44] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:38:44] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:38:44] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:38:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:44] [ENEMY] [Enemy1] Death animation component initialized
[18:38:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:44] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:38:44] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:38:44] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:38:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:44] [ENEMY] [Enemy2] Death animation component initialized
[18:38:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:44] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:38:44] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:38:44] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:38:44] [ENEMY] [Enemy3] Death animation component initialized
[18:38:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:44] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:38:44] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:38:44] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:38:44] [ENEMY] [Enemy4] Death animation component initialized
[18:38:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:44] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:38:44] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:38:44] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:38:44] [ENEMY] [Enemy5] Death animation component initialized
[18:38:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:44] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:38:44] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:38:44] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:38:44] [ENEMY] [Enemy6] Death animation component initialized
[18:38:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:44] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:38:44] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:38:44] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:38:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:44] [ENEMY] [Enemy7] Death animation component initialized
[18:38:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:44] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:38:44] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:38:44] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:38:44] [ENEMY] [Enemy8] Death animation component initialized
[18:38:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:44] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:38:44] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:38:44] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:38:44] [ENEMY] [Enemy9] Death animation component initialized
[18:38:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:44] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:38:44] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:38:44] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:38:44] [ENEMY] [Enemy10] Death animation component initialized
[18:38:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:44] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:38:44] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:38:44] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:38:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:38:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:38:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:38:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:38:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:38:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:38:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:38:44] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:38:44] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:38:44] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 2/4
[18:38:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:38:44] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[18:38:44] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:38:44] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:38:44] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:38:44] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:38:44] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:38:44] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:38:44] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:38:44] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:38:44] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:38:44] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:38:44] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:38:44] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:38:44] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:38:44] [INFO] [ScoreManager] Level started with 10 enemies
[18:38:44] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:38:44] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:38:44] [INFO] [ReplayManager] Replay data cleared
[18:38:44] [INFO] [BuildingLevel] Previous replay data cleared
[18:38:44] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:38:44] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:38:44] [INFO] [ReplayManager] Level: BuildingLevel
[18:38:44] [INFO] [ReplayManager] Player: Player (valid: True)
[18:38:44] [INFO] [ReplayManager] Enemies count: 10
[18:38:44] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:38:44] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:38:44] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:38:44] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:38:44] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:38:44] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:38:44] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:38:44] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:38:44] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:38:44] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:38:44] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:38:44] [INFO] [BuildingLevel] Replay recording started successfully
[18:38:45] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:38:45] [INFO] [CinemaEffects] Found player node: Player
[18:38:45] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:38:45] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:38:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[18:38:45] [ENEMY] [Enemy1] Registered as sound listener
[18:38:45] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:38:45] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:38:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[18:38:45] [ENEMY] [Enemy2] Registered as sound listener
[18:38:45] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:38:45] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:38:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[18:38:45] [ENEMY] [Enemy3] Registered as sound listener
[18:38:45] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:38:45] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:38:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[18:38:45] [ENEMY] [Enemy4] Registered as sound listener
[18:38:45] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:38:45] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:38:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[18:38:45] [ENEMY] [Enemy5] Registered as sound listener
[18:38:45] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:38:45] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:38:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[18:38:45] [ENEMY] [Enemy6] Registered as sound listener
[18:38:45] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:38:45] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:38:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[18:38:45] [ENEMY] [Enemy7] Registered as sound listener
[18:38:45] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 4, behavior: PATROL
[18:38:45] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:38:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[18:38:45] [ENEMY] [Enemy8] Registered as sound listener
[18:38:45] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:38:45] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:38:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[18:38:45] [ENEMY] [Enemy9] Registered as sound listener
[18:38:45] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:38:45] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:38:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[18:38:45] [ENEMY] [Enemy10] Registered as sound listener
[18:38:45] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:38:45] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:38:45] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:45] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:45] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:45] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:45] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:45] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:45] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:45] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:38:45] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:38:45] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:38:45] [INFO] [PenultimateHit] Shader warmup complete in 654 ms
[18:38:45] [INFO] [LastChance] Shader warmup complete in 653 ms
[18:38:45] [INFO] [CinemaEffects] Cinema shader warmup complete in 594 ms
[18:38:45] [INFO] [FlashbangPlayer] Shader warmup complete in 582 ms
[18:38:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:38:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:38:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:38:45] [INFO] [LastChance] Found player: Player
[18:38:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:38:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:38:45] [INFO] [LastChance] Connected to player Died signal (C#)
[18:38:45] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:38:45] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 948 ms
[18:38:46] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:38:47] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:38:47] [INFO] [PauseMenu] Armory button pressed
[18:38:47] [INFO] [PauseMenu] Creating new armory menu instance
[18:38:47] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[18:38:47] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[18:38:47] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[18:38:47] [INFO] [PauseMenu] back_pressed signal exists on instance
[18:38:47] [INFO] [PauseMenu] back_pressed signal connected
[18:38:47] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[18:38:47] [INFO] [PauseMenu] _populate_weapon_grid method exists
[18:38:48] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:38:49] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:38:50] [INFO] [GameManager] Weapon selected: sniper
[18:38:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:38:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:50] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:38:50] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:38:50] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:38:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:38:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:38:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:38:50] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:38:50] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:38:50] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[18:38:50] [ENEMY] [Enemy1] Death animation component initialized
[18:38:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:50] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:38:50] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:38:50] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:38:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:50] [ENEMY] [Enemy2] Death animation component initialized
[18:38:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:50] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:38:50] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:38:50] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:38:50] [ENEMY] [Enemy3] Death animation component initialized
[18:38:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:50] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:38:50] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:38:50] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:38:50] [ENEMY] [Enemy4] Death animation component initialized
[18:38:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:50] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:38:50] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:38:50] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:38:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:50] [ENEMY] [Enemy5] Death animation component initialized
[18:38:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:50] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:38:50] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:38:50] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:38:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:50] [ENEMY] [Enemy6] Death animation component initialized
[18:38:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:50] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:38:50] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:38:50] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:38:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:50] [ENEMY] [Enemy7] Death animation component initialized
[18:38:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:50] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:38:50] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:38:50] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:38:50] [ENEMY] [Enemy8] Death animation component initialized
[18:38:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:50] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:38:50] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:38:50] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:38:50] [ENEMY] [Enemy9] Death animation component initialized
[18:38:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:50] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:38:50] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:38:50] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:38:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:50] [ENEMY] [Enemy10] Death animation component initialized
[18:38:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:50] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:38:50] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:38:50] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:38:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:38:50] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:38:50] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[18:38:50] [INFO] [Player.Weapon] Removed default MakarovPM
[18:38:50] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[18:38:50] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:38:50] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:38:50] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:38:50] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:38:50] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:38:50] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:38:50] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:38:50] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 4/4
[18:38:50] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:38:50] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:38:50] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:38:50] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:38:50] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:38:50] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:38:50] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:38:50] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:38:50] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:38:50] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:38:50] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:38:50] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:38:50] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:38:50] [INFO] [BuildingLevel] Setting up weapon: sniper
[18:38:50] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[18:38:50] [INFO] [ScoreManager] Level started with 10 enemies
[18:38:50] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:38:50] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:38:50] [INFO] [ReplayManager] Replay data cleared
[18:38:50] [INFO] [BuildingLevel] Previous replay data cleared
[18:38:50] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[18:38:50] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:38:50] [INFO] [ReplayManager] Level: BuildingLevel
[18:38:50] [INFO] [ReplayManager] Player: Player (valid: True)
[18:38:50] [INFO] [ReplayManager] Enemies count: 10
[18:38:50] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[18:38:50] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:38:50] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:38:50] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:38:50] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:38:50] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:38:50] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:38:50] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:38:50] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:38:50] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:38:50] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:38:50] [INFO] [BuildingLevel] Replay recording started successfully
[18:38:50] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:38:50] [INFO] [CinemaEffects] Found player node: Player
[18:38:50] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:38:50] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:38:50] [ENEMY] [Enemy1] Registered as sound listener
[18:38:50] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:38:50] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:38:50] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:38:50] [ENEMY] [Enemy2] Registered as sound listener
[18:38:50] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:38:50] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:38:50] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:38:50] [ENEMY] [Enemy3] Registered as sound listener
[18:38:50] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:38:50] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:38:50] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:38:50] [ENEMY] [Enemy4] Registered as sound listener
[18:38:50] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:38:50] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:38:50] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:38:50] [ENEMY] [Enemy5] Registered as sound listener
[18:38:50] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:38:50] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:38:50] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:38:50] [ENEMY] [Enemy6] Registered as sound listener
[18:38:50] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:38:50] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:38:50] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:38:50] [ENEMY] [Enemy7] Registered as sound listener
[18:38:50] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:38:50] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:38:50] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:38:50] [ENEMY] [Enemy8] Registered as sound listener
[18:38:50] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:38:50] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:38:50] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:38:50] [ENEMY] [Enemy9] Registered as sound listener
[18:38:50] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:38:50] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:38:50] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:38:50] [ENEMY] [Enemy10] Registered as sound listener
[18:38:50] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:38:50] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:38:50] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:38:50] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:50] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:50] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:50] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:50] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:50] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:50] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:50] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:38:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:38:50] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[18:38:50] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[18:38:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:38:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:38:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:38:50] [INFO] [LastChance] Found player: Player
[18:38:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:38:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:38:50] [INFO] [LastChance] Connected to player Died signal (C#)
[18:38:50] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:38:51] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:38:52] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:38:53] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:38:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:38:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:53] [INFO] [BloodyFeet:SniperEnemy1] Footprint scene loaded
[18:38:53] [INFO] [BloodyFeet:SniperEnemy1] Found EnemyModel for facing direction
[18:38:53] [INFO] [BloodyFeet:SniperEnemy1] BloodyFeetComponent ready on SniperEnemy1
[18:38:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:38:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:38:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:38:53] [INFO] [CinemaEffects] Scene changed to: CityLevel
[18:38:53] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:38:53] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[18:38:53] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:53] [ENEMY] [SniperEnemy1] Death animation component initialized
[18:38:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:53] [INFO] [BloodyFeet:SniperEnemy2] Footprint scene loaded
[18:38:53] [INFO] [BloodyFeet:SniperEnemy2] Found EnemyModel for facing direction
[18:38:53] [INFO] [BloodyFeet:SniperEnemy2] BloodyFeetComponent ready on SniperEnemy2
[18:38:53] [ENEMY] [SniperEnemy2] Death animation component initialized
[18:38:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:53] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[18:38:53] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[18:38:53] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[18:38:53] [ENEMY] [GuardEnemy1] Death animation component initialized
[18:38:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:53] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[18:38:53] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[18:38:53] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[18:38:53] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:53] [ENEMY] [GuardEnemy2] Death animation component initialized
[18:38:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:53] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[18:38:53] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[18:38:53] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[18:38:53] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:53] [ENEMY] [GuardEnemy3] Death animation component initialized
[18:38:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:53] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[18:38:53] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[18:38:53] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[18:38:53] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:53] [ENEMY] [GuardEnemy4] Death animation component initialized
[18:38:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:53] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[18:38:53] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[18:38:53] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[18:38:53] [ENEMY] [PatrolEnemy1] Death animation component initialized
[18:38:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:53] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[18:38:53] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[18:38:53] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[18:38:53] [ENEMY] [PatrolEnemy2] Death animation component initialized
[18:38:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:53] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[18:38:53] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[18:38:53] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[18:38:53] [ENEMY] [GuardEnemy5] Death animation component initialized
[18:38:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:53] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[18:38:53] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[18:38:53] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[18:38:53] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:38:53] [ENEMY] [GuardEnemy6] Death animation component initialized
[18:38:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:38:53] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:38:53] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:38:53] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:38:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:38:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:38:53] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[18:38:53] [INFO] [Player.Weapon] Removed default MakarovPM
[18:38:53] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[18:38:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:38:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:38:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:38:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:38:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:38:53] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:38:53] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:38:53] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 3/4
[18:38:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:38:53] [INFO] [ScoreManager] Level started with 10 enemies
[18:38:53] [INFO] [CityLevel] ReplayManager found as C# autoload - verified OK
[18:38:53] [INFO] [ReplayManager] Replay data cleared
[18:38:53] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[18:38:53] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:38:53] [INFO] [ReplayManager] Level: CityLevel
[18:38:53] [INFO] [ReplayManager] Player: Player (valid: True)
[18:38:53] [INFO] [ReplayManager] Enemies count: 10
[18:38:53] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[18:38:53] [INFO] [ReplayManager]   Enemy 0: SniperEnemy1
[18:38:53] [INFO] [ReplayManager]   Enemy 1: SniperEnemy2
[18:38:53] [INFO] [ReplayManager]   Enemy 2: GuardEnemy1
[18:38:53] [INFO] [ReplayManager]   Enemy 3: GuardEnemy2
[18:38:53] [INFO] [ReplayManager]   Enemy 4: GuardEnemy3
[18:38:53] [INFO] [ReplayManager]   Enemy 5: GuardEnemy4
[18:38:53] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[18:38:53] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[18:38:53] [INFO] [ReplayManager]   Enemy 8: GuardEnemy5
[18:38:53] [INFO] [ReplayManager]   Enemy 9: GuardEnemy6
[18:38:53] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[18:38:53] [INFO] [BloodyFeet:SniperEnemy1] Blood detector created and attached to SniperEnemy1
[18:38:53] [INFO] [CinemaEffects] Found player node: Player
[18:38:53] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:38:53] [INFO] [SoundPropagation] Registered listener: SniperEnemy1 (total: 21)
[18:38:53] [ENEMY] [SniperEnemy1] Registered as sound listener
[18:38:53] [ENEMY] [SniperEnemy1] Spawned at (5600, 400), hp: 5, behavior: GUARD
[18:38:53] [INFO] [BloodyFeet:SniperEnemy2] Blood detector created and attached to SniperEnemy2
[18:38:53] [INFO] [SoundPropagation] Registered listener: SniperEnemy2 (total: 22)
[18:38:53] [ENEMY] [SniperEnemy2] Registered as sound listener
[18:38:53] [ENEMY] [SniperEnemy2] Spawned at (5600, 4700), hp: 5, behavior: GUARD
[18:38:53] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[18:38:53] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 23)
[18:38:53] [ENEMY] [GuardEnemy1] Registered as sound listener
[18:38:53] [ENEMY] [GuardEnemy1] Spawned at (1200, 1200), hp: 2, behavior: GUARD
[18:38:53] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[18:38:53] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 24)
[18:38:53] [ENEMY] [GuardEnemy2] Registered as sound listener
[18:38:53] [ENEMY] [GuardEnemy2] Spawned at (2400, 1200), hp: 3, behavior: GUARD
[18:38:53] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[18:38:53] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 25)
[18:38:53] [ENEMY] [GuardEnemy3] Registered as sound listener
[18:38:53] [ENEMY] [GuardEnemy3] Spawned at (3600, 2300), hp: 3, behavior: GUARD
[18:38:53] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[18:38:53] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 26)
[18:38:53] [ENEMY] [GuardEnemy4] Registered as sound listener
[18:38:53] [ENEMY] [GuardEnemy4] Spawned at (4800, 2300), hp: 3, behavior: GUARD
[18:38:53] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[18:38:53] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 27)
[18:38:53] [ENEMY] [PatrolEnemy1] Registered as sound listener
[18:38:53] [ENEMY] [PatrolEnemy1] Spawned at (2000, 3300), hp: 3, behavior: PATROL
[18:38:53] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[18:38:53] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 28)
[18:38:53] [ENEMY] [PatrolEnemy2] Registered as sound listener
[18:38:53] [ENEMY] [PatrolEnemy2] Spawned at (4000, 3300), hp: 4, behavior: PATROL
[18:38:53] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[18:38:53] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 29)
[18:38:53] [ENEMY] [GuardEnemy5] Registered as sound listener
[18:38:53] [ENEMY] [GuardEnemy5] Spawned at (1400, 4200), hp: 2, behavior: GUARD
[18:38:53] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[18:38:53] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 30)
[18:38:53] [ENEMY] [GuardEnemy6] Registered as sound listener
[18:38:53] [ENEMY] [GuardEnemy6] Spawned at (3400, 4200), hp: 3, behavior: GUARD
[18:38:53] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:38:53] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:38:53] [ENEMY] [SniperEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:38:53] [ENEMY] [SniperEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:38:53] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:38:53] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:38:53] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:38:53] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:38:53] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:38:53] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(300,2500), corner_timer=0.00
[18:38:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:38:53] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[18:38:53] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[18:38:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:38:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:38:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:38:53] [INFO] [LastChance] Found player: Player
[18:38:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:38:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:38:53] [INFO] [LastChance] Connected to player Died signal (C#)
[18:38:53] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:38:54] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=124.7°, current=77.3°, player=(300,2500), corner_timer=0.00
[18:38:54] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1200), source=ENEMY (GuardEnemy1), range=1469, listeners=30
[18:38:54] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[18:38:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:54] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1181.785, 1226.31), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:54] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[18:38:54] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1160.535, 1257.005), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:54] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1179.459, 1265.806), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:54] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1205.08, 1270.958), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:54] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:38:54] [INFO] [LastChance] Threat detected: Bullet
[18:38:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:54] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1230.7, 1276.109), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:54] [INFO] [Player] Invincibility mode: ON
[18:38:54] [INFO] [GameManager] Invincibility mode toggled: ON
[18:38:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:38:54] [INFO] [Player] Spawning blood effect at (300, 2500), dir=(1, 0), lethal=False (C#)
[18:38:54] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 2500), dir=(1, 0), lethal=false
[18:38:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:38:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:38:54] [INFO] [ImpactEffects] Blood effect spawned at (300, 2500) (scale=1)
[18:38:54] [INFO] [LastChance] Threat detected: @Area2D@1034
[18:38:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:54] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1256.32, 1281.261), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:55] [INFO] [LastChance] Threat detected: @Area2D@1036
[18:38:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:55] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1281.94, 1286.413), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:38:55] [INFO] [Player] Spawning blood effect at (300, 2500), dir=(1, 0), lethal=False (C#)
[18:38:55] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 2500), dir=(1, 0), lethal=false
[18:38:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:38:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:38:55] [INFO] [ImpactEffects] Blood effect spawned at (300, 2500) (scale=1)
[18:38:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1149.7198, 1286.3301), shooter_id=175003144320, bullet_pos=(59.366894, 2862.6387)
[18:38:55] [INFO] [Bullet] Using shooter_position, distance=1916,6686
[18:38:55] [INFO] [Bullet] Distance to wall: 1916,6686 (130,50949% of viewport)
[18:38:55] [INFO] [LastChance] Threat detected: @Area2D@1038
[18:38:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (362.7907, 2541.976) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (364.7671, 2527.823) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (383.8058, 2492.392) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (350.9005, 2527.925) (added to group)
[18:38:55] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1307.561, 1291.566), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:38:55] [INFO] [Player] Spawning blood effect at (300, 2500), dir=(1, 0), lethal=False (C#)
[18:38:55] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 2500), dir=(1, 0), lethal=false
[18:38:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:38:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:38:55] [INFO] [ImpactEffects] Blood effect spawned at (300, 2500) (scale=1)
[18:38:55] [INFO] [LastChance] Threat detected: @Area2D@1040
[18:38:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:55] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1333.181, 1296.717), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:38:55] [INFO] [Player] Spawning blood effect at (300, 2500), dir=(1, 0), lethal=False (C#)
[18:38:55] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 2500), dir=(1, 0), lethal=false
[18:38:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:38:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:38:55] [INFO] [ImpactEffects] Blood effect spawned at (300, 2500) (scale=1)
[18:38:55] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:38:55] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:38:55] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(300,2500), corner_timer=0.30
[18:38:55] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(300,2500), corner_timer=0.30
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (385.631, 2552.948) (added to group)
[18:38:55] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1315.858, 1307.407), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (360.6677, 2543.856) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (412.062, 2558.645) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (370.3137, 2528.206) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (403.9967, 2505.537) (added to group)
[18:38:55] [INFO] [LastChance] Threat detected: Bullet
[18:38:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (421.3116, 2534.77) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (475.5529, 2677.774) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (398.3455, 2531.855) (added to group)
[18:38:55] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1332.478, 1298.907), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (461.542, 2623.627) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (390.5173, 2648.751) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (406.4297, 2561.616) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (417.8599, 2571.74) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (375.4454, 2532.273) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (403.6166, 2593.762) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (365.5197, 2528.31) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (360.6039, 2552.11) (added to group)
[18:38:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1195.99, 1334.6399), shooter_id=175003144320, bullet_pos=(51.18495, 2923.506)
[18:38:55] [INFO] [Bullet] Using shooter_position, distance=1958,3346
[18:38:55] [INFO] [Bullet] Distance to wall: 1958,3346 (133,3466% of viewport)
[18:38:55] [INFO] [Bullet] Distance-based penetration chance: 23,330679%
[18:38:55] [INFO] [Bullet] Penetration failed (distance roll)
[18:38:55] [INFO] [LastChance] Threat detected: @Area2D@1044
[18:38:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:55] [ENEMY] [GuardEnemy1] Player distracted - priority attack triggered
[18:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1316.036, 1307.747), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:55] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(300,2500), corner_timer=-0.02
[18:38:55] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:38:55] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(300,2500), corner_timer=-0.02
[18:38:55] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (458.0854, 2505.484) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (415.6278, 2575.65) (added to group)
[18:38:55] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(300,2500), corner_timer=0.30
[18:38:55] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(300,2500), corner_timer=0.30
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (414.7223, 2629.99) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (405.502, 2564.747) (added to group)
[18:38:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:38:55] [INFO] [Player] Spawning blood effect at (300, 2500), dir=(1, 0), lethal=False (C#)
[18:38:55] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 2500), dir=(1, 0), lethal=false
[18:38:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:38:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:38:55] [INFO] [ImpactEffects] Blood effect spawned at (300, 2500) (scale=1)
[18:38:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1220.7258, 1339.258), shooter_id=175003144320, bullet_pos=(64.47524, 2815.3042)
[18:38:55] [INFO] [Bullet] Using shooter_position, distance=1875,0007
[18:38:55] [INFO] [Bullet] Distance to wall: 1875,0007 (127,67226% of viewport)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (395.914, 2548.08) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (478.976, 2570.186) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (403.5244, 2537.338) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (449.9357, 2558.538) (added to group)
[18:38:55] [INFO] [LastChance] Threat detected: @Area2D@1050
[18:38:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (422.8904, 2662.558) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (440.9529, 2595.745) (added to group)
[18:38:55] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.795, 1297.196), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (455.2897, 2648.604) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (386.5609, 2550.352) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (438.318, 2496.335) (added to group)
[18:38:55] [INFO] [LastChance] Threat detected: @Area2D@1052
[18:38:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (399.2024, 2569.285) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (462.2242, 2487.201) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (481.7381, 2581.034) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (458.6698, 2592.199) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (464.3633, 2533.361) (added to group)
[18:38:55] [INFO] [BloodDecal] Blood puddle created at (500.9488, 2518.356) (added to group)
[18:38:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1270.2616, 1348.4811), shooter_id=175003144320, bullet_pos=(63.7055, 2837.72)
[18:38:55] [INFO] [Bullet] Using shooter_position, distance=1916,6664
[18:38:55] [INFO] [Bullet] Distance to wall: 1916,6664 (130,50934% of viewport)
[18:38:56] [INFO] [BloodDecal] Blood puddle created at (511.0277, 2683.864) (added to group)
[18:38:56] [INFO] [LastChance] Threat detected: @Area2D@1057
[18:38:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.386, 1296.195), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(300,2500), corner_timer=-0.02
[18:38:56] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:38:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(300,2500), corner_timer=-0.02
[18:38:56] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:38:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(300,2500), corner_timer=0.30
[18:38:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(300,2500), corner_timer=0.30
[18:38:56] [INFO] [BloodDecal] Blood puddle created at (393.2087, 2481.925) (added to group)
[18:38:56] [INFO] [BloodDecal] Blood puddle created at (370.1438, 2552.597) (added to group)
[18:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1295.0612, 1353.0867), shooter_id=175003144320, bullet_pos=(55.594604, 2759.9822)
[18:38:56] [INFO] [Bullet] Using shooter_position, distance=1875,002
[18:38:56] [INFO] [Bullet] Distance to wall: 1875,002 (127,67234% of viewport)
[18:38:56] [INFO] [BloodDecal] Blood puddle created at (362.0898, 2517.094) (added to group)
[18:38:56] [INFO] [LastChance] Threat detected: @Area2D@1066
[18:38:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:56] [INFO] [BloodDecal] Blood puddle created at (392.3276, 2516.134) (added to group)
[18:38:56] [INFO] [BloodDecal] Blood puddle created at (379.7296, 2536.321) (added to group)
[18:38:56] [INFO] [BloodDecal] Blood puddle created at (446.4422, 2501.265) (added to group)
[18:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1277.9612, 1363.926), shooter_id=175003144320, bullet_pos=(59.11994, 2733.426)
[18:38:56] [INFO] [Bullet] Using shooter_position, distance=1833,3314
[18:38:56] [INFO] [Bullet] Distance to wall: 1833,3314 (124,83491% of viewport)
[18:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.934, 1293.614), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1294.3263, 1355.2551), shooter_id=175003144320, bullet_pos=(49.78747, 2757.6626)
[18:38:56] [INFO] [Bullet] Using shooter_position, distance=1874,9996
[18:38:56] [INFO] [Bullet] Distance to wall: 1874,9996 (127,67217% of viewport)
[18:38:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(300,2500), corner_timer=-0.02
[18:38:56] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:38:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(300,2500), corner_timer=-0.02
[18:38:56] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:38:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(300,2500), corner_timer=0.30
[18:38:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(300,2500), corner_timer=0.30
[18:38:56] [INFO] [BloodDecal] Blood puddle created at (405.2115, 2554.569) (added to group)
[18:38:56] [INFO] [LastChance] Threat detected: @Area2D@1093
[18:38:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.7788, 1350.0197), shooter_id=175003144320, bullet_pos=(1068.0931, 1646.4473)
[18:38:56] [INFO] [Bullet] Using shooter_position, distance=374,9998
[18:38:56] [INFO] [Bullet] Distance to wall: 374,9998 (25,534428% of viewport)
[18:38:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:38:56] [INFO] [BloodDecal] Blood puddle created at (497.0675, 2625.716) (added to group)
[18:38:56] [INFO] [BloodDecal] Blood puddle created at (506.886, 2615.264) (added to group)
[18:38:56] [INFO] [BloodDecal] Blood puddle created at (490.1819, 2626.012) (added to group)
[18:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.377, 1292.233), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1278.1265, 1364.2578), shooter_id=175003144320, bullet_pos=(61.96924, 2899.1934)
[18:38:56] [INFO] [Bullet] Using shooter_position, distance=1958,3323
[18:38:56] [INFO] [Bullet] Distance to wall: 1958,3323 (133,34645% of viewport)
[18:38:56] [INFO] [LastChance] Threat detected: @Area2D@1106
[18:38:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:38:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.27, 1348.6685), shooter_id=175003144320, bullet_pos=(1073.9795, 1649.9432)
[18:38:56] [INFO] [Bullet] Using shooter_position, distance=375,0002
[18:38:56] [INFO] [Bullet] Distance to wall: 375,0002 (25,534454% of viewport)
[18:38:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.5675, 1353.54), shooter_id=175003144320, bullet_pos=(50.05335, 2808.6409)
[18:38:56] [INFO] [Bullet] Using shooter_position, distance=1916,6664
[18:38:56] [INFO] [Bullet] Distance to wall: 1916,6664 (130,50934% of viewport)
[18:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.933, 1289.472), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(300,2500), corner_timer=-0.02
[18:38:56] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:38:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(300,2500), corner_timer=-0.02
[18:38:56] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:38:56] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(300,2500), corner_timer=0.30
[18:38:56] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(300,2500), corner_timer=0.30
[18:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.187, 1352.5687), shooter_id=175003144320, bullet_pos=(47.723022, 2750.59)
[18:38:56] [INFO] [Bullet] Using shooter_position, distance=1874,9998
[18:38:56] [INFO] [Bullet] Distance to wall: 1874,9998 (127,67218% of viewport)
[18:38:56] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.314, 1287.933), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:57] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(300,2500), corner_timer=-0.02
[18:38:57] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[18:38:57] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(300,2500), corner_timer=0.30
[18:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.933, 1285.024), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1331.835, 1284.829), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.874, 1345.9423), shooter_id=175003144320, bullet_pos=(39.894043, 2439.2236)
[18:38:57] [INFO] [Bullet] Using shooter_position, distance=1666,6666
[18:38:57] [INFO] [Bullet] Distance to wall: 1666,6666 (113,4864% of viewport)
[18:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1316.575, 1310.503), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.933, 1294.392), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1278.5696, 1366.979), shooter_id=175003144320, bullet_pos=(1065.5875, 1675.6278)
[18:38:57] [INFO] [Bullet] Using shooter_position, distance=375,00058
[18:38:57] [INFO] [Bullet] Distance to wall: 375,00058 (25,534481% of viewport)
[18:38:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:38:57] [INFO] [Bullet] Starting wall penetration at (1065.5875, 1675.6278)
[18:38:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,22145
[18:38:57] [INFO] [Bullet] Body exited signal received for penetrating body
[18:38:57] [INFO] [Bullet] Exiting penetration at (1039.0831, 1714.0375) after traveling 41,66667 pixels through wall
[18:38:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.3081, 1344.4366), shooter_id=175003144320, bullet_pos=(53.19993, 2633.723)
[18:38:57] [INFO] [Bullet] Using shooter_position, distance=1791,6652
[18:38:57] [INFO] [Bullet] Distance to wall: 1791,6652 (121,99777% of viewport)
[18:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.648, 1293.812), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.9753, 1341.5631), shooter_id=175003144320, bullet_pos=(61.148598, 2519.9797)
[18:38:57] [INFO] [Bullet] Using shooter_position, distance=1708,3344
[18:38:57] [INFO] [Bullet] Distance to wall: 1708,3344 (116,32362% of viewport)
[18:38:57] [INFO] [Bullet] Distance-based penetration chance: 26,735275%
[18:38:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:38:57] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.5007, 1350.2146), shooter_id=175003144320, bullet_pos=(1074.1476, 1651.4421)
[18:38:57] [INFO] [Bullet] Using shooter_position, distance=374,99954
[18:38:57] [INFO] [Bullet] Distance to wall: 374,99954 (25,534409% of viewport)
[18:38:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.18, 1292.628), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1293.9996, 1341.4375), shooter_id=175003144320, bullet_pos=(56.478256, 2457.8242)
[18:38:57] [INFO] [Bullet] Using shooter_position, distance=1666,6669
[18:38:57] [INFO] [Bullet] Distance to wall: 1666,6669 (113,48642% of viewport)
[18:38:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.0691, 1349.0615), shooter_id=175003144320, bullet_pos=(1087.0281, 1659.7186)
[18:38:58] [INFO] [Bullet] Using shooter_position, distance=375,0001
[18:38:58] [INFO] [Bullet] Distance to wall: 375,0001 (25,534449% of viewport)
[18:38:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:38:58] [INFO] [Bullet] Starting wall penetration at (1087.0281, 1659.7186)
[18:38:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,08424
[18:38:58] [INFO] [Bullet] Body exited signal received for penetrating body
[18:38:58] [INFO] [Bullet] Exiting penetration at (1060.8896, 1698.3782) after traveling 41,66667 pixels through wall
[18:38:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:38:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.0691, 1349.0615), shooter_id=175003144320, bullet_pos=(1060.8896, 1698.3782)
[18:38:58] [INFO] [Bullet] Using shooter_position, distance=421,66678
[18:38:58] [INFO] [Bullet] Distance to wall: 421,66678 (28,712067% of viewport)
[18:38:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:38:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.933, 1289.943), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.779, 1350.7634), shooter_id=175003144320, bullet_pos=(65.485596, 2593.3215)
[18:38:58] [INFO] [Bullet] Using shooter_position, distance=1749,9994
[18:38:58] [INFO] [Bullet] Distance to wall: 1749,9994 (119,160675% of viewport)
[18:38:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.309, 1288.378), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.933, 1285.481), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:58] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=128.4°, player=(300,2500), corner_timer=-0.02
[18:38:58] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:38:58] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=131.3°, player=(300,2500), corner_timer=0.30
[18:38:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.251, 1283.782), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.8618, 1346.4071), shooter_id=175003144320, bullet_pos=(42.43712, 2442.621)
[18:38:58] [INFO] [Bullet] Using shooter_position, distance=1666,6663
[18:38:58] [INFO] [Bullet] Distance to wall: 1666,6663 (113,486374% of viewport)
[18:38:58] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[18:38:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1316.927, 1302.415), source=ENEMY (GuardEnemy1), range=1469, listeners=10
[18:38:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=1, below_threshold=1
[18:38:58] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=58.5°, player=(300,2500), corner_timer=-0.02
[18:38:58] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:38:58] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(300,2500), corner_timer=-0.02
[18:38:58] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:38:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.3429, 1340.351), shooter_id=175003144320, bullet_pos=(1094.2793, 1655.6125)
[18:38:58] [INFO] [Bullet] Using shooter_position, distance=374,9996
[18:38:58] [INFO] [Bullet] Distance to wall: 374,9996 (25,534412% of viewport)
[18:38:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:38:58] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=61.4°, player=(300,2500), corner_timer=0.30
[18:38:58] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(300,2500), corner_timer=0.30
[18:38:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1279.1222, 1358.986), shooter_id=175003144320, bullet_pos=(1046.6339, 1653.2207)
[18:38:59] [INFO] [Bullet] Using shooter_position, distance=374,99985
[18:38:59] [INFO] [Bullet] Distance to wall: 374,99985 (25,53443% of viewport)
[18:38:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:38:59] [INFO] [Bullet] Starting wall penetration at (1046.6339, 1653.2207)
[18:38:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1279.1222, 1358.986), shooter_id=175003144320, bullet_pos=(1043.534, 1657.1438)
[18:38:59] [INFO] [Bullet] Using shooter_position, distance=379,99982
[18:38:59] [INFO] [Bullet] Distance to wall: 379,99982 (25,874886% of viewport)
[18:38:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:38:59] [INFO] [Bullet] Already penetrating, cannot start new penetration
[18:38:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.2932, 1344.8751), shooter_id=175003144320, bullet_pos=(41.701717, 2503.2754)
[18:38:59] [INFO] [Bullet] Using shooter_position, distance=1708,3329
[18:38:59] [INFO] [Bullet] Distance to wall: 1708,3329 (116,32353% of viewport)
[18:38:59] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:38:59] [INFO] [Bullet] Exiting penetration at (1017.702, 1689.8365) after traveling 41,66667 pixels through wall
[18:38:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(300,2500), corner_timer=-0.02
[18:38:59] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:38:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(300,2500), corner_timer=-0.02
[18:38:59] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.9°, player=(300,2500), corner_timer=0.30
[18:38:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(300,2500), corner_timer=0.30
[18:38:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.9648, 1342.0137), shooter_id=175003144320, bullet_pos=(46.275513, 2623.9436)
[18:38:59] [INFO] [Bullet] Using shooter_position, distance=1791,667
[18:38:59] [INFO] [Bullet] Distance to wall: 1791,667 (121,9979% of viewport)
[18:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(300,2500), corner_timer=-0.02
[18:38:59] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:38:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(300,2500), corner_timer=-0.02
[18:38:59] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.9°, player=(300,2500), corner_timer=0.30
[18:38:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(300,2500), corner_timer=0.30
[18:38:59] [ENEMY] [GuardEnemy1] Hit: dmg=50, hp=2/2->-48/2
[18:38:59] [INFO] [ImpactEffects] spawn_blood_effect called at (1328.855, 1290.569), dir=(1, 0), lethal=true
[18:38:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:38:59] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:38:59] [INFO] [ImpactEffects] Wall found for blood splatter at (1360, 1290.569) (dist=31 px)
[18:38:59] [INFO] [BloodDecal] Blood puddle created at (1359, 1290.569) (added to group)
[18:38:59] [INFO] [ImpactEffects] Blood effect spawned at (1328.855, 1290.569) (scale=1.5)
[18:38:59] [ENEMY] [GuardEnemy1] Enemy died (ricochet: false, penetration: false)
[18:38:59] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:38:59] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy1 (remaining: 9)
[18:38:59] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:38:59] [ENEMY] [GuardEnemy1] Death animation started with hit direction: (1, 0)
[18:38:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(300, 2500), source=PLAYER (SniperRifle), range=3000, listeners=9
[18:38:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=3
[18:38:59] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[18:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(300,2500), corner_timer=-0.01
[18:38:59] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:38:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(300,2500), corner_timer=-0.01
[18:38:59] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:38:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.3°, player=(300,2500), corner_timer=0.30
[18:38:59] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.7°, player=(300,2500), corner_timer=0.30
[18:39:00] [INFO] [BloodDecal] Blood puddle created at (1412.775, 1363.212) (added to group)
[18:39:00] [INFO] [BloodDecal] Blood puddle created at (1407.495, 1360.021) (added to group)
[18:39:00] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(300,2500), corner_timer=-0.01
[18:39:00] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:39:00] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(300,2500), corner_timer=-0.01
[18:39:00] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:00] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.3°, player=(300,2500), corner_timer=0.30
[18:39:00] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.7°, player=(300,2500), corner_timer=0.30
[18:39:00] [ENEMY] [GuardEnemy1] Ragdoll activated
[18:39:00] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:39:00] [INFO] [BloodDecal] Blood puddle created at (1513.38, 1484.277) (added to group)
[18:39:00] [INFO] [BloodDecal] Blood puddle created at (1499.713, 1453.132) (added to group)
[18:39:00] [INFO] [BloodDecal] Blood puddle created at (1452.214, 1421.653) (added to group)
[18:39:00] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(300,2500), corner_timer=-0.01
[18:39:00] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:39:00] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(300,2500), corner_timer=-0.01
[18:39:00] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:00] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.3°, player=(300,2500), corner_timer=0.30
[18:39:00] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.7°, player=(300,2500), corner_timer=0.30
[18:39:00] [INFO] [ReplayManager] Recording frame 420 (6,8s): player_valid=True, enemies=10
[18:39:01] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(300,2500), corner_timer=-0.01
[18:39:01] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:39:01] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(300,2500), corner_timer=-0.01
[18:39:01] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:01] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.3°, player=(300,2500), corner_timer=0.30
[18:39:01] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.7°, player=(300,2500), corner_timer=0.30
[18:39:01] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(300,2500), corner_timer=-0.01
[18:39:01] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:39:01] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.3°, player=(300,2500), corner_timer=0.30
[18:39:01] [ENEMY] [GuardEnemy1] Death animation completed
[18:39:01] [INFO] [ReplayManager] Recording frame 480 (7,6s): player_valid=True, enemies=10
[18:39:01] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(300,2497), corner_timer=-0.01
[18:39:01] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:39:01] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.3°, player=(300,2496), corner_timer=0.30
[18:39:02] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(300,2420), corner_timer=-0.01
[18:39:02] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:39:02] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.3°, player=(300,2415), corner_timer=0.30
[18:39:02] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=90.0°, player=(300,2314), corner_timer=-0.01
[18:39:02] [ENEMY] [PatrolEnemy1] PATROL corner check: angle 90.0°
[18:39:02] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=92.3°, player=(300,2310), corner_timer=0.30
[18:39:02] [INFO] [ReplayManager] Recording frame 540 (8,4s): player_valid=True, enemies=10
[18:39:03] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=-37.2°, player=(318,2132), corner_timer=-0.01
[18:39:03] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:03] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=-34.4°, player=(320,2128), corner_timer=0.30
[18:39:03] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(392,2053), corner_timer=-0.02
[18:39:03] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:03] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(395,2049), corner_timer=0.30
[18:39:03] [INFO] [ReplayManager] Recording frame 600 (9,4s): player_valid=True, enemies=10
[18:39:03] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(469,1975), corner_timer=-0.02
[18:39:03] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:03] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(473,1971), corner_timer=0.30
[18:39:04] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(547,1897), corner_timer=-0.02
[18:39:04] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:04] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(551,1893), corner_timer=0.30
[18:39:04] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-125.5°, current=-90.0°, player=(582,1862), corner_timer=0.12
[18:39:04] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1606.932, 3300), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:04] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1592.264, 3273.774), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:04] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:04] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1571.468, 3242.77), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:04] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:04] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:04] [INFO] [ReplayManager] Recording frame 660 (10,4s): player_valid=True, enemies=10
[18:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:04] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:04] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:04] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:04] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:05] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:05] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:05] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:05] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:05] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:05] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:05] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[18:39:05] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:05] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1561.346, 3249.478), shooter_id=176412430548, bullet_pos=(44.59268, 1107.032)
[18:39:05] [INFO] [Bullet] Using shooter_position, distance=2624,9983
[18:39:05] [INFO] [Bullet] Distance to wall: 2624,9983 (178,74097% of viewport)
[18:39:05] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:05] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:05] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1522.9247, 3180.6997), shooter_id=176412430548, bullet_pos=(50.445435, 1706.8975)
[18:39:05] [INFO] [Bullet] Using shooter_position, distance=2083,3357
[18:39:05] [INFO] [Bullet] Distance to wall: 2083,3357 (141,85815% of viewport)
[18:39:05] [INFO] [Bullet] Distance-based penetration chance: 21,628368%
[18:39:05] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1525.291, 3178.9177), shooter_id=176412430548, bullet_pos=(1061.9712, 1664.8923)
[18:39:05] [INFO] [Bullet] Using shooter_position, distance=1583,3314
[18:39:05] [INFO] [Bullet] Distance to wall: 1583,3314 (107,81195% of viewport)
[18:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1525.291, 3178.9177), shooter_id=176412430548, bullet_pos=(1063.48, 1660.1254)
[18:39:05] [INFO] [Bullet] Using shooter_position, distance=1587,4507
[18:39:05] [INFO] [Bullet] Distance to wall: 1587,4507 (108,09244% of viewport)
[18:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1547.693, 3222.354), shooter_id=176412430548, bullet_pos=(62.504997, 1007.5571)
[18:39:05] [INFO] [Bullet] Using shooter_position, distance=2666,666
[18:39:05] [INFO] [Bullet] Distance to wall: 2666,666 (181,5782% of viewport)
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-169.5°, current=146.3°, player=(876,1570), corner_timer=0.00
[18:39:05] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1528.0347, 3190.3853), shooter_id=176412430548, bullet_pos=(63.43153, 912.2273)
[18:39:05] [INFO] [Bullet] Using shooter_position, distance=2708,3328
[18:39:05] [INFO] [Bullet] Distance to wall: 2708,3328 (184,41536% of viewport)
[18:39:05] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:05] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:05] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [INFO] [ReplayManager] Recording frame 720 (11,4s): player_valid=True, enemies=10
[18:39:05] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:05] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1523.7874, 3180.0815), shooter_id=176412430548, bullet_pos=(54.39556, 1209.2249)
[18:39:05] [INFO] [Bullet] Using shooter_position, distance=2458,3303
[18:39:05] [INFO] [Bullet] Distance to wall: 2458,3303 (167,39224% of viewport)
[18:39:05] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1525.6755, 3178.7556), shooter_id=176412430548, bullet_pos=(528.1997, 1302.4138)
[18:39:05] [INFO] [Bullet] Using shooter_position, distance=2124,998
[18:39:05] [INFO] [Bullet] Distance to wall: 2124,998 (144,69504% of viewport)
[18:39:05] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4763.307, 2293.115), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1523.3232, 3180.5383), shooter_id=176412430548, bullet_pos=(51.589325, 710.79443)
[18:39:05] [INFO] [Bullet] Using shooter_position, distance=2875,002
[18:39:05] [INFO] [Bullet] Distance to wall: 2875,002 (195,76418% of viewport)
[18:39:05] [INFO] [Bullet] Distance-based penetration chance: 10,847166%
[18:39:05] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:05] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4742.345, 2289.15), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:05] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4721.385, 2285.177), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:06] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1524.4962, 3179.6292), shooter_id=176412430548, bullet_pos=(56.063263, 756.5149)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=2833,3333
[18:39:06] [INFO] [Bullet] Distance to wall: 2833,3333 (192,92686% of viewport)
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1527.0172, 3177.78), shooter_id=176412430548, bullet_pos=(53.15246, 1477.7161)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=2249,9988
[18:39:06] [INFO] [Bullet] Distance to wall: 2249,9988 (153,20656% of viewport)
[18:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:06] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:06] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:06] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:06] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1528.0446, 3177.1152), shooter_id=176412430548, bullet_pos=(467.55432, 1287.7227)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=2166,6665
[18:39:06] [INFO] [Bullet] Distance to wall: 2166,6665 (147,5323% of viewport)
[18:39:06] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-169.5°, current=-169.5°, player=(831,1564), corner_timer=0.00
[18:39:06] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:06] [ENEMY] [PatrolEnemy1] Player distracted - priority attack triggered
[18:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:06] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(827,1567), corner_timer=-0.02
[18:39:06] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:06] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(823,1570), corner_timer=0.30
[18:39:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.59, 3233.869), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1527.6632, 3177.2573), shooter_id=176412430548, bullet_pos=(54.860977, 1054.8811)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=2583,3364
[18:39:06] [INFO] [Bullet] Distance to wall: 2583,3364 (175,90413% of viewport)
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1524.6522, 3179.4814), shooter_id=176412430548, bullet_pos=(56.39206, 140.59576)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=3374,9985
[18:39:06] [INFO] [Bullet] Distance to wall: 3374,9985 (229,80986% of viewport)
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1532.4962, 3174.3616), shooter_id=176412430548, bullet_pos=(1060.4496, 1882.9304)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=1374,999
[18:39:06] [INFO] [Bullet] Distance to wall: 1374,999 (93,62621% of viewport)
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1526.859, 3177.9177), shooter_id=176412430548, bullet_pos=(49.465305, 663.11304)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=2916,6648
[18:39:06] [INFO] [Bullet] Distance to wall: 2916,6648 (198,60107% of viewport)
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1524.6522, 3179.4814), shooter_id=176412430548, bullet_pos=(99.98175, 38.24098)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=3449,214
[18:39:06] [INFO] [Bullet] Distance to wall: 3449,214 (234,86333% of viewport)
[18:39:06] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:06] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:06] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4674.476, 2284.223), shooter_id=176060108991, bullet_pos=(3739.929, 1928.383)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=999.999938964844
[18:39:06] [INFO] [Bullet] Distance to wall: 999.999938964844 (68.0918346818594% of viewport)
[18:39:06] [INFO] [Bullet] Distance-based penetration chance: 67.226192871164%
[18:39:06] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:06] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 100.6°
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1524.4962, 3179.6292), shooter_id=176412430548, bullet_pos=(499.04626, 66.9619)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=3277,2312
[18:39:06] [INFO] [Bullet] Distance to wall: 3277,2312 (223,15271% of viewport)
[18:39:06] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1532.545, 3174.3823), shooter_id=176412430548, bullet_pos=(1115.0062, 1952.062)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=1291,6677
[18:39:06] [INFO] [Bullet] Distance to wall: 1291,6677 (87,952034% of viewport)
[18:39:06] [INFO] [Bullet] Distance-based penetration chance: 44,05596%
[18:39:06] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:06] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1529.3898, 3176.221), shooter_id=176412430548, bullet_pos=(59.27465, 951.39264)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=2666,6646
[18:39:06] [INFO] [Bullet] Distance to wall: 2666,6646 (181,5781% of viewport)
[18:39:06] [INFO] [Bullet] Distance-based penetration chance: 13,6843815%
[18:39:06] [INFO] [Bullet] Starting wall penetration at (59.27465, 951.39264)
[18:39:06] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:06] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:39:06] [INFO] [Bullet] Exiting penetration at (33.547646, 912.45807) after traveling 41,66667 pixels through wall
[18:39:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:06] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:06] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(750,1643), corner_timer=-0.02
[18:39:06] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:06] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(746,1647), corner_timer=0.30
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1530.0385, 3175.7393), shooter_id=176412430548, bullet_pos=(60.57614, 656.2868)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=2916,6694
[18:39:06] [INFO] [Bullet] Distance to wall: 2916,6694 (198,6014% of viewport)
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1526.859, 3177.9177), shooter_id=176412430548, bullet_pos=(333.31076, 47.48088)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=3350,2524
[18:39:06] [INFO] [Bullet] Distance to wall: 3350,2524 (228,12486% of viewport)
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1531.7632, 3174.857), shooter_id=176412430548, bullet_pos=(1060.2539, 1838.9617)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=1416,6641
[18:39:06] [INFO] [Bullet] Distance to wall: 1416,6641 (96,463264% of viewport)
[18:39:06] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 100.6°
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1531.7632, 3174.857), shooter_id=176412430548, bullet_pos=(1102.454, 1661.8358)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=1572,749
[18:39:06] [INFO] [Bullet] Distance to wall: 1572,749 (107,09138% of viewport)
[18:39:06] [INFO] [Bullet] Distance-based penetration chance: 28,581726%
[18:39:06] [INFO] [Bullet] Starting wall penetration at (1102.454, 1661.8358)
[18:39:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,249647
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1529.2302, 3176.3484), shooter_id=176412430548, bullet_pos=(145.56287, 52.39905)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=3416,664
[18:39:06] [INFO] [Bullet] Distance to wall: 3416,664 (232,64694% of viewport)
[18:39:06] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:06] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:06] [INFO] [Bullet] Body exited signal received for penetrating body
[18:39:06] [INFO] [Bullet] Exiting penetration at (1111.821, 1622.5195) after traveling 35,416668 pixels through wall
[18:39:06] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1531.5089, 3174.7937), shooter_id=176412430548, bullet_pos=(54.87619, 707.9763)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=2875,0012
[18:39:06] [INFO] [Bullet] Distance to wall: 2875,0012 (195,76413% of viewport)
[18:39:06] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:06] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:06] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:06] [INFO] [ReplayManager] Recording frame 780 (12,4s): player_valid=True, enemies=10
[18:39:06] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:06] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(672,1721), corner_timer=-0.02
[18:39:06] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:06] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(668,1725), corner_timer=0.30
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1532.0587, 3174.5771), shooter_id=176412430548, bullet_pos=(58.649963, 609.2688)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=2958,334
[18:39:06] [INFO] [Bullet] Distance to wall: 2958,334 (201,4384% of viewport)
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1530.4144, 3175.6167), shooter_id=176412430548, bullet_pos=(78.603226, 36.775265)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=3458,3352
[18:39:06] [INFO] [Bullet] Distance to wall: 3458,3352 (235,4844% of viewport)
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1530.4144, 3175.6167), shooter_id=176412430548, bullet_pos=(59.09604, 72.172676)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=3434,5513
[18:39:06] [INFO] [Bullet] Distance to wall: 3434,5513 (233,86493% of viewport)
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1530.4144, 3175.6167), shooter_id=176412430548, bullet_pos=(45.27904, 39.902046)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=3469,6301
[18:39:06] [INFO] [Bullet] Distance to wall: 3469,6301 (236,2535% of viewport)
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1532.593, 3174.3625), shooter_id=176412430548, bullet_pos=(59.450462, 1154.5009)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=2499,998
[18:39:06] [INFO] [Bullet] Distance to wall: 2499,998 (170,22948% of viewport)
[18:39:06] [INFO] [Bullet] Distance-based penetration chance: 15,954107%
[18:39:06] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1530.0385, 3175.7393), shooter_id=176412430548, bullet_pos=(450.25012, 58.79309)
[18:39:06] [INFO] [Bullet] Using shooter_position, distance=3298,6812
[18:39:06] [INFO] [Bullet] Distance to wall: 3298,6812 (224,61327% of viewport)
[18:39:06] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 100.6°
[18:39:06] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:07] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1532.1925, 3174.5793), shooter_id=176412430548, bullet_pos=(159.711, 45.693233)
[18:39:07] [INFO] [Bullet] Using shooter_position, distance=3416,67
[18:39:07] [INFO] [Bullet] Distance to wall: 3416,67 (232,64735% of viewport)
[18:39:07] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:07] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:07] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:07] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1531.5089, 3174.7937), shooter_id=176412430548, bullet_pos=(417.69708, 53.005)
[18:39:07] [INFO] [Bullet] Using shooter_position, distance=3314,535
[18:39:07] [INFO] [Bullet] Distance to wall: 3314,535 (225,69278% of viewport)
[18:39:07] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:07] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:07] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(594,1799), corner_timer=-0.02
[18:39:07] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1532.0587, 3174.5771), shooter_id=176412430548, bullet_pos=(403.13727, 66.92686)
[18:39:07] [INFO] [Bullet] Using shooter_position, distance=3306,3506
[18:39:07] [INFO] [Bullet] Distance to wall: 3306,3506 (225,1355% of viewport)
[18:39:07] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(591,1803), corner_timer=0.30
[18:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1532.6367, 3174.3313), shooter_id=176412430548, bullet_pos=(124.181915, 61.47473)
[18:39:07] [INFO] [Bullet] Using shooter_position, distance=3416,668
[18:39:07] [INFO] [Bullet] Distance to wall: 3416,668 (232,6472% of viewport)
[18:39:07] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:07] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:07] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:07] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:07] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1530.4877, 3175.6714), shooter_id=176412430548, bullet_pos=(67.59862, 996.09216)
[18:39:07] [INFO] [Bullet] Using shooter_position, distance=2624,997
[18:39:07] [INFO] [Bullet] Distance to wall: 2624,997 (178,74088% of viewport)
[18:39:07] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1532.2748, 3174.5757), shooter_id=176412430548, bullet_pos=(220.87968, 64.77562)
[18:39:07] [INFO] [Bullet] Using shooter_position, distance=3374,9983
[18:39:07] [INFO] [Bullet] Distance to wall: 3374,9983 (229,80986% of viewport)
[18:39:07] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 100.6°
[18:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1531.9733, 3174.7036), shooter_id=176412430548, bullet_pos=(62.96672, 182.52222)
[18:39:07] [INFO] [Bullet] Using shooter_position, distance=3333,3362
[18:39:07] [INFO] [Bullet] Distance to wall: 3333,3362 (226,97299% of viewport)
[18:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1531.9733, 3174.7036), shooter_id=176412430548, bullet_pos=(116.51112, 45.978775)
[18:39:07] [INFO] [Bullet] Using shooter_position, distance=3434,014
[18:39:07] [INFO] [Bullet] Distance to wall: 3434,014 (233,82832% of viewport)
[18:39:07] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:07] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:07] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:07] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-175.4°, current=-175.4°, player=(575,1904), corner_timer=0.17
[18:39:07] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:07] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1531.0897, 3175.2144), shooter_id=176412430548, bullet_pos=(117.55079, 64.66124)
[18:39:07] [INFO] [Bullet] Using shooter_position, distance=3416,67
[18:39:07] [INFO] [Bullet] Distance to wall: 3416,67 (232,64735% of viewport)
[18:39:07] [ENEMY] [GuardEnemy4] Warning: No valid flank position (both sides behind walls)
[18:39:07] [ENEMY] [GuardEnemy4] FLANKING started: target=(689.0423, 1743.155), side=left, pos=(4244.164, 2196.811)
[18:39:07] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[18:39:07] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:07] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:07] [ENEMY] [GuardEnemy4] State: FLANKING -> COMBAT
[18:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1531.0897, 3175.2144), shooter_id=176412430548, bullet_pos=(62.812424, 161.51306)
[18:39:07] [INFO] [Bullet] Using shooter_position, distance=3352,3474
[18:39:07] [INFO] [Bullet] Distance to wall: 3352,3474 (228,2675% of viewport)
[18:39:07] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4228.339, 2194.493), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4653.514, 2280.271), shooter_id=176060108991, bullet_pos=(952.5793, 876.1691)
[18:39:07] [INFO] [Bullet] Using shooter_position, distance=3958.33520507813
[18:39:07] [INFO] [Bullet] Distance to wall: 3958.33520507813 (269.530322850389% of viewport)
[18:39:07] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:07] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:07] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4207.093, 2192.626), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:07] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4185.818, 2191.052), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:07] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:07] [ENEMY] [GuardEnemy3] Memory: high confidence (0.90) - transitioning to PURSUING
[18:39:07] [ENEMY] [GuardEnemy3] State: IDLE -> PURSUING
[18:39:07] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4164.542, 2189.489), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:07] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4695.434, 2288.227), shooter_id=176060108991, bullet_pos=(45.15305, 1320.006)
[18:39:07] [INFO] [Bullet] Using shooter_position, distance=4750.00732421875
[18:39:07] [INFO] [Bullet] Distance to wall: 4750.00732421875 (323.436733199336% of viewport)
[18:39:07] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:07] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:07] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-172.9°, current=11.3°, player=(575,1925), corner_timer=0.00
[18:39:07] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 97.1°
[18:39:07] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:07] [INFO] [ReplayManager] Recording frame 840 (13,4s): player_valid=True, enemies=10
[18:39:07] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-172.9°, current=-158.8°, player=(575,1925), corner_timer=0.30
[18:39:07] [ENEMY] [GuardEnemy3] Player distracted - priority attack triggered
[18:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3594.707, 2299.345), source=ENEMY (GuardEnemy3), range=2000, listeners=9
[18:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[18:39:07] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:07] [ENEMY] [GuardEnemy3] Warning: No valid flank position (both sides behind walls)
[18:39:07] [ENEMY] [GuardEnemy3] FLANKING started: target=(653.7235, 2109.875), side=right, pos=(3589.414, 2298.69)
[18:39:07] [ENEMY] [GuardEnemy3] State: PURSUING -> FLANKING
[18:39:07] [ENEMY] [GuardEnemy3] State: FLANKING -> COMBAT
[18:39:07] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4143.267, 2187.925), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:07] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4121.992, 2186.362), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:07] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:07] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4100.716, 2184.798), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:07] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:07] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:07] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:07] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:07] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:39:08] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:08] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4079.44, 2183.235), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4075.277, 2190.749), shooter_id=176060108991, bullet_pos=(3641.103, 1942.771)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=499.999755859375
[18:39:08] [INFO] [Bullet] Distance to wall: 499.999755859375 (34.0459027949436% of viewport)
[18:39:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:08] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:08] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4054.002, 2189.185), shooter_id=176060108991, bullet_pos=(3721.841, 1937.63)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=416.666168212891
[18:39:08] [INFO] [Bullet] Distance to wall: 416.666168212891 (28.3715655751389% of viewport)
[18:39:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:08] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3515.313, 2289.52), source=ENEMY (GuardEnemy3), range=2000, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4058.164, 2181.671), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3515.313, 2289.52), source=ENEMY (GuardEnemy3), range=2000, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=4
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4036.887, 2180.108), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:08] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[18:39:08] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[18:39:08] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:39:08] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(4015.611, 2178.549), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:08] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4096.553, 2192.312), shooter_id=176060108991, bullet_pos=(2838.025, 1901.602)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=1291.6669921875
[18:39:08] [INFO] [Bullet] Distance to wall: 1291.6669921875 (87.9519806642087% of viewport)
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3515.313, 2289.52), source=ENEMY (GuardEnemy3), range=2000, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=3
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3994.332, 2177.021), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:08] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:08] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:08] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3515.313, 2289.52), source=ENEMY (GuardEnemy3), range=2000, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=3
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3973.049, 2175.558), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3515.313, 2289.52), source=ENEMY (GuardEnemy3), range=2000, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=3
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3951.76, 2174.191), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4011.45, 2186.058), shooter_id=176060108991, bullet_pos=(3129.661, 2657.703)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=1000.00024414063
[18:39:08] [INFO] [Bullet] Distance to wall: 1000.00024414063 (68.0918554618395% of viewport)
[18:39:08] [INFO] [Bullet] Distance-based penetration chance: 67.2261686278539%
[18:39:08] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3968.897, 2182.931), shooter_id=176060108991, bullet_pos=(3341.47, 2665.706)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=791.666259765625
[18:39:08] [INFO] [Bullet] Distance to wall: 791.666259765625 (53.9060113733287% of viewport)
[18:39:08] [INFO] [Bullet] Distance-based penetration chance: 83.7763200644498%
[18:39:08] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3968.897, 2182.931), shooter_id=176060108991, bullet_pos=(3341.47, 2665.706)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=791.666259765625
[18:39:08] [INFO] [Bullet] Distance to wall: 791.666259765625 (53.9060113733287% of viewport)
[18:39:08] [INFO] [Bullet] Distance-based penetration chance: 83.7763200644498%
[18:39:08] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3515.313, 2289.52), source=ENEMY (GuardEnemy3), range=2000, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=3
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3930.462, 2172.953), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4117.828, 2193.876), shooter_id=176060108991, bullet_pos=(2149.395, 1839.97)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=1999.9951171875
[18:39:08] [INFO] [Bullet] Distance to wall: 1999.9951171875 (136.183345196029% of viewport)
[18:39:08] [INFO] [Bullet] Distance-based penetration chance: 22.7633309607942%
[18:39:08] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:08] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[18:39:08] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[18:39:08] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:39:08] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:08] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3909.157, 2171.854), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:08] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:08] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:08] [ENEMY] [GuardEnemy3] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3515.313, 2289.52), source=ENEMY (GuardEnemy3), range=2000, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=3
[18:39:08] [ENEMY] [PatrolEnemy1] State: RETREATING -> SUPPRESSED
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3887.846, 2170.887), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3905.083, 2178.896), shooter_id=176060108991, bullet_pos=(3346.722, 2679.626)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=749.998168945313
[18:39:08] [INFO] [Bullet] Distance to wall: 749.998168945313 (51.0687544485109% of viewport)
[18:39:08] [INFO] [Bullet] Distance-based penetration chance: 87.086453143404%
[18:39:08] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3866.531, 2170.028), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4160.341, 2197.134), shooter_id=176060108991, bullet_pos=(1342.411, 1902.054)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=2833.337890625
[18:39:08] [INFO] [Bullet] Distance to wall: 2833.337890625 (192.927187021627% of viewport)
[18:39:08] [INFO] [Bullet] Distance-based penetration chance: 11.4145625956747%
[18:39:08] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:08] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> SEEKING_COVER
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3845.211, 2169.248), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:08] [ENEMY] [PatrolEnemy1] State: SEEKING_COVER -> COMBAT
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3926.353, 2180.081), shooter_id=176060108991, bullet_pos=(2751.081, 1899.354)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=1208.33410644531
[18:39:08] [INFO] [Bullet] Distance to wall: 1208.33410644531 (82.2776912383582% of viewport)
[18:39:08] [INFO] [ReplayManager] Recording frame 900 (14,4s): player_valid=True, enemies=10
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3823.89, 2168.519), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3841.265, 2176.463), shooter_id=176060108991, bullet_pos=(3331.107, 2667.861)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=708.330993652344
[18:39:08] [INFO] [Bullet] Distance to wall: 708.330993652344 (48.2315598636334% of viewport)
[18:39:08] [INFO] [Bullet] Distance-based penetration chance: 90.3965134924277%
[18:39:08] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3841.265, 2176.463), shooter_id=176060108991, bullet_pos=(3331.107, 2667.861)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=708.330993652344
[18:39:08] [INFO] [Bullet] Distance to wall: 708.330993652344 (48.2315598636334% of viewport)
[18:39:08] [INFO] [Bullet] Distance-based penetration chance: 90.3965134924277%
[18:39:08] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4032.726, 2187.622), shooter_id=176060108991, bullet_pos=(1866.598, 1757.915)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=2208.33862304688
[18:39:08] [INFO] [Bullet] Distance to wall: 2208.33862304688 (150.369837619919% of viewport)
[18:39:08] [INFO] [Bullet] Distance-based penetration chance: 19.9260324760161%
[18:39:08] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:08] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[18:39:08] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[18:39:08] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3802.569, 2167.812), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:08] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3777.382, 2174.698), shooter_id=176060108991, bullet_pos=(3482.537, 1942.982)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=375.000427246094
[18:39:08] [INFO] [Bullet] Distance to wall: 375.000427246094 (25.5344686561679% of viewport)
[18:39:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:08] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3781.248, 2167.108), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3756.068, 2174.068), shooter_id=176060108991, bullet_pos=(3453.67, 1952.302)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=374.999938964844
[18:39:08] [INFO] [Bullet] Distance to wall: 374.999938964844 (25.5344354081998% of viewport)
[18:39:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:08] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3756.068, 2174.068), shooter_id=176060108991, bullet_pos=(3453.67, 1952.302)
[18:39:08] [INFO] [Bullet] Using shooter_position, distance=374.999938964844
[18:39:08] [INFO] [Bullet] Distance to wall: 374.999938964844 (25.5344354081998% of viewport)
[18:39:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:08] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=148.5°, player=(575,2061), corner_timer=-0.02
[18:39:08] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=151.4°, player=(575,2061), corner_timer=0.30
[18:39:08] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3759.927, 2166.404), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:09] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[18:39:09] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[18:39:09] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:39:09] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3738.605, 2165.699), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:09] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3734.749, 2173.376), shooter_id=176060108991, bullet_pos=(3468.293, 1701.78)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=541.665344238281
[18:39:09] [INFO] [Bullet] Distance to wall: 541.665344238281 (36.8829893239245% of viewport)
[18:39:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:09] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:09] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3717.284, 2164.995), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:09] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=3/3->2/3
[18:39:09] [INFO] [ImpactEffects] spawn_blood_effect called at (3515.313, 2289.52), dir=(-0.860606, 0.509272), lethal=false
[18:39:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:09] [INFO] [ImpactEffects] Blood effect spawned at (3515.313, 2289.52) (scale=0.5)
[18:39:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=97.1°, current=-30.6°, player=(575,2061), corner_timer=0.30
[18:39:09] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3862.542, 2177.122), shooter_id=176060108991, bullet_pos=(2135.651, 1893.665)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=1750.00012207031
[18:39:09] [INFO] [Bullet] Distance to wall: 1750.00012207031 (119.160726278239% of viewport)
[18:39:09] [INFO] [Bullet] Distance-based penetration chance: 26.1678547443522%
[18:39:09] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:09] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1476.158, 3127.895), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3713.427, 2172.672), shooter_id=176060108991, bullet_pos=(3329.572, 2665.907)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=625.000183105469
[18:39:09] [INFO] [Bullet] Distance to wall: 625.000183105469 (42.5574117416477% of viewport)
[18:39:09] [INFO] [Bullet] Distance-based penetration chance: 97.0163529680777%
[18:39:09] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-175.6°, current=-24.9°, player=(575,2061), corner_timer=0.30
[18:39:09] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:39:09] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3695.963, 2164.291), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=97.1°, current=-27.8°, player=(575,2061), corner_timer=0.30
[18:39:09] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[18:39:09] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[18:39:09] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[18:39:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-175.6°, current=-19.2°, player=(575,2061), corner_timer=0.30
[18:39:09] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:39:09] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3674.641, 2163.587), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(4139.101, 2195.401), shooter_id=176060108991, bullet_pos=(52.52284, 1382.413)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=4166.66162109375
[18:39:09] [INFO] [Bullet] Distance to wall: 4166.66162109375 (283.715651595393% of viewport)
[18:39:09] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:09] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=97.1°, current=-22.0°, player=(575,2061), corner_timer=0.30
[18:39:09] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3990.174, 2184.495), shooter_id=176060108991, bullet_pos=(1333.729, 3666.077)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=3041.67456054688
[18:39:09] [INFO] [Bullet] Distance to wall: 3041.67456054688 (207.113213973962% of viewport)
[18:39:09] [INFO] [Bullet] Distance-based penetration chance: 8.5773572052075%
[18:39:09] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3990.174, 2184.495), shooter_id=176060108991, bullet_pos=(1333.729, 3666.077)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=3041.67456054688
[18:39:09] [INFO] [Bullet] Distance to wall: 3041.67456054688 (207.113213973962% of viewport)
[18:39:09] [INFO] [Bullet] Distance-based penetration chance: 8.5773572052075%
[18:39:09] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:09] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1452.076, 3099.366), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:09] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(575,2061), corner_timer=-0.02
[18:39:09] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3628.142, 2169.856), shooter_id=176060108991, bullet_pos=(3508.422, 1950.385)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=250.000213623047
[18:39:09] [INFO] [Bullet] Distance to wall: 250.000213623047 (17.0229742554499% of viewport)
[18:39:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:09] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:09] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[18:39:09] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(575,2061), corner_timer=0.30
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3798.686, 2175.287), shooter_id=176060108991, bullet_pos=(2368.473, 2946.727)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=1625.0009765625
[18:39:09] [INFO] [Bullet] Distance to wall: 1625.0009765625 (110.649304607451% of viewport)
[18:39:09] [INFO] [Bullet] Distance-based penetration chance: 27.8701390785097%
[18:39:09] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:09] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=2/3->1/3
[18:39:09] [INFO] [ImpactEffects] spawn_blood_effect called at (3515.313, 2289.52), dir=(-0.568553, 0.822646), lethal=false
[18:39:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:09] [INFO] [ImpactEffects] Blood effect spawned at (3515.313, 2289.52) (scale=0.5)
[18:39:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-175.6°, current=-55.4°, player=(575,2061), corner_timer=0.30
[18:39:09] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3653.32, 2162.883), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:09] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:39:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=97.1°, current=-61.1°, player=(575,2061), corner_timer=0.30
[18:39:09] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[18:39:09] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[18:39:09] [ENEMY] [GuardEnemy3] State: SEEKING_COVER -> COMBAT
[18:39:09] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3631.999, 2162.179), source=ENEMY (GuardEnemy4), range=1200, listeners=9
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=0
[18:39:09] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[18:39:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-175.6°, current=-52.5°, player=(575,2061), corner_timer=0.30
[18:39:09] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1427.993, 3070.838), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=1, below_threshold=1
[18:39:09] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=97.1°, current=-55.4°, player=(575,2061), corner_timer=0.30
[18:39:09] [ENEMY] [GuardEnemy3] State: RETREATING -> SUPPRESSED
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3439.47, 2329.215) (added to group)
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3585.5, 2168.448), shooter_id=176060108991, bullet_pos=(3463.343, 1950.325)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=249.99951171875
[18:39:09] [INFO] [Bullet] Distance to wall: 249.99951171875 (17.0229264614957% of viewport)
[18:39:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:09] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3585.5, 2168.448), shooter_id=176060108991, bullet_pos=(3463.343, 1950.325)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=249.99951171875
[18:39:09] [INFO] [Bullet] Distance to wall: 249.99951171875 (17.0229264614957% of viewport)
[18:39:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:09] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:09] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> SEEKING_COVER
[18:39:09] [ENEMY] [GuardEnemy3] Hit: dmg=1, hp=1/3->0/3
[18:39:09] [INFO] [ImpactEffects] spawn_blood_effect called at (3515.313, 2289.52), dir=(-0.536012, 0.844211), lethal=true
[18:39:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:09] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:39:09] [INFO] [ImpactEffects] Blood effect spawned at (3515.313, 2289.52) (scale=0.75)
[18:39:09] [ENEMY] [GuardEnemy3] Enemy died (ricochet: false, penetration: false)
[18:39:09] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:39:09] [ENEMY] [GuardEnemy3] [AllyDeath] Notified 1 enemies
[18:39:09] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy3 (remaining: 8)
[18:39:09] [INFO] [DeathAnim] Started - Angle: 122.4 deg, Index: 20
[18:39:09] [ENEMY] [GuardEnemy3] Death animation started with hit direction: (-0.536012, 0.844211)
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1446.779, 3052.672), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3426.719, 2348.158) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3418.84, 2357.505) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3430.416, 2337.485) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3497.702, 2343.802) (added to group)
[18:39:09] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(575,2061), corner_timer=-0.02
[18:39:09] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3446.489, 2439.469) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3485.237, 2353.352) (added to group)
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1465.565, 3034.505), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:39:09] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(575,2061), corner_timer=0.30
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3499, 2402.148) (added to group)
[18:39:09] [INFO] [LastChance] Threat detected: Bullet
[18:39:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3398.906, 2403.669) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3484.965, 2353.231) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3490.666, 2379.637) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3389.177, 2425.912) (added to group)
[18:39:09] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:39:09] [INFO] [GrenadeBase] Grenade created at (3475.327, 2288.436) (frozen)
[18:39:09] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:39:09] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[18:39:09] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[18:39:09] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[18:39:09] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:39:09] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[18:39:09] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.999633, -0.027084), Speed: 1186.5 (unfrozen)
[18:39:09] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[18:39:09] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[18:39:09] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[18:39:09] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (2917.113, 2243.068), Distance: 600
[18:39:09] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:09] [INFO] [Player] Spawning blood effect at (575.7555, 2061.2542), dir=(1, 0), lethal=False (C#)
[18:39:09] [INFO] [ImpactEffects] spawn_blood_effect called at (575.7555, 2061.254), dir=(1, 0), lethal=false
[18:39:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:09] [INFO] [ImpactEffects] Blood effect spawned at (575.7555, 2061.254) (scale=1)
[18:39:09] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:09] [INFO] [Player] Spawning blood effect at (575.7555, 2061.2542), dir=(1, 0), lethal=False (C#)
[18:39:09] [INFO] [ImpactEffects] spawn_blood_effect called at (575.7555, 2061.254), dir=(1, 0), lethal=false
[18:39:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:09] [INFO] [ImpactEffects] Blood effect spawned at (575.7555, 2061.254) (scale=1)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3428.38, 2457.415) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3421.403, 2389.656) (added to group)
[18:39:09] [INFO] [ReplayManager] Recording frame 960 (15,4s): player_valid=True, enemies=10
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1484.351, 3016.339), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3429.368, 2446.814) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3486.318, 2365.487) (added to group)
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3947.624, 2181.438), shooter_id=176060108991, bullet_pos=(46.16027, 2526.181)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=3916.66528320313
[18:39:09] [INFO] [Bullet] Distance to wall: 3916.66528320313 (266.692941245691% of viewport)
[18:39:09] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:09] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:09] [INFO] [LastChance] Threat detected: @Area2D@1463
[18:39:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3484.542, 2380.737) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3435.915, 2377.285) (added to group)
[18:39:09] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:09] [INFO] [Player] Spawning blood effect at (575.7555, 2061.2542), dir=(1, 0), lethal=False (C#)
[18:39:09] [INFO] [ImpactEffects] spawn_blood_effect called at (575.7555, 2061.254), dir=(1, 0), lethal=false
[18:39:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:09] [INFO] [ImpactEffects] Blood effect spawned at (575.7555, 2061.254) (scale=1)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3432.305, 2393.584) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3410.513, 2415.529) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3447.115, 2393.204) (added to group)
[18:39:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1503.137, 2998.172), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[18:39:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3460.324, 2522.029) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3445.217, 2442.276) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3470.968, 2397.49) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3456.6, 2403.99) (added to group)
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3692.106, 2171.968), shooter_id=176060108991, bullet_pos=(1505.95, 2859.334)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=2291.66967773438
[18:39:09] [INFO] [Bullet] Distance to wall: 2291.66967773438 (156.044002365889% of viewport)
[18:39:09] [INFO] [Bullet] Distance-based penetration chance: 18.7911995268222%
[18:39:09] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:09] [ENEMY] [GuardEnemy3] Ragdoll activated
[18:39:09] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3422.958, 2402.82) (added to group)
[18:39:09] [INFO] [BloodDecal] Blood puddle created at (3435.42, 2415.034) (added to group)
[18:39:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3883.813, 2177.917), shooter_id=176060108991, bullet_pos=(53.308, 2325.238)
[18:39:09] [INFO] [Bullet] Using shooter_position, distance=3833.33715820313
[18:39:09] [INFO] [Bullet] Distance to wall: 3833.33715820313 (261.01897598753% of viewport)
[18:39:09] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:09] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(575,2061), corner_timer=-0.02
[18:39:10] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3418.079, 2433.12) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (630.4805, 2046.91) (added to group)
[18:39:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(575,2061), corner_timer=0.30
[18:39:10] [INFO] [LastChance] Threat detected: @Area2D@1485
[18:39:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1521.923, 2980.006), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[18:39:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3434.907, 2495.873) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3387.895, 2533.365) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3400.312, 2508.071) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3438.177, 2483.932) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (663.4916, 2109.885) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3466.158, 2465.422) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3404.736, 2540.132) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (646.4199, 2086.329) (added to group)
[18:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3649.463, 2170.56), shooter_id=176060108991, bullet_pos=(1349.362, 1778.177)
[18:39:10] [INFO] [Bullet] Using shooter_position, distance=2333.33056640625
[18:39:10] [INFO] [Bullet] Distance to wall: 2333.33056640625 (158.880768883176% of viewport)
[18:39:10] [INFO] [Bullet] Distance-based penetration chance: 18.2238462233647%
[18:39:10] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3392.199, 2534.889) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (660.098, 2125.472) (added to group)
[18:39:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1540.71, 2961.839), source=ENEMY (PatrolEnemy1), range=1469, listeners=8
[18:39:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3504.024, 2505.137) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3392.025, 2494.966) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (655.2989, 2104.924) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (672.7642, 2126.033) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (632.7306, 2078.754) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (678.6745, 2074.88) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (632.5755, 2101.25) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (658.2673, 2087.865) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3466.211, 2514.951) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3382.912, 2501.897) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (658.8311, 2116.736) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (3465.807, 2576.051) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (697.4796, 2107.64) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (630.2648, 2099.963) (added to group)
[18:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1378.4279, 3024.2139), shooter_id=176412430548, bullet_pos=(41.5039, 1650.8062)
[18:39:10] [INFO] [Bullet] Using shooter_position, distance=1916,6676
[18:39:10] [INFO] [Bullet] Distance to wall: 1916,6676 (130,50943% of viewport)
[18:39:10] [INFO] [Bullet] Distance-based penetration chance: 23,898115%
[18:39:10] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (727.5182, 2070.382) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (705.6689, 2164.035) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (732.8752, 2102.377) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (629.6698, 2076.105) (added to group)
[18:39:10] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=90.0°, current=-137.9°, player=(575,2061), corner_timer=0.12
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (730.3184, 2157.767) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (667.7637, 2106.41) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (697.7397, 2163.631) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (711.0942, 2175.637) (added to group)
[18:39:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(575,2061), corner_timer=-0.02
[18:39:10] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:10] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[18:39:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(575,2061), corner_timer=0.30
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (738.3726, 2112.406) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (657.6354, 2139.884) (added to group)
[18:39:10] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (734.5522, 2041.635) (added to group)
[18:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1396.3169, 3007.0522), shooter_id=176412430548, bullet_pos=(51.77781, 1526.4371)
[18:39:10] [INFO] [Bullet] Using shooter_position, distance=2000,0016
[18:39:10] [INFO] [Bullet] Distance to wall: 2000,0016 (136,18379% of viewport)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (725.0035, 2197.065) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (705.7258, 2143.856) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (764.8727, 2192.865) (added to group)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (738.6179, 2163.835) (added to group)
[18:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1414.2097, 2989.8933), shooter_id=176412430548, bullet_pos=(56.958878, 1578.1741)
[18:39:10] [INFO] [Bullet] Using shooter_position, distance=1958,3363
[18:39:10] [INFO] [Bullet] Distance to wall: 1958,3363 (133,34673% of viewport)
[18:39:10] [INFO] [Bullet] Distance-based penetration chance: 23,330656%
[18:39:10] [INFO] [Bullet] Starting wall penetration at (56.958878, 1578.1741)
[18:39:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,654292
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (673.8019, 2102.655) (added to group)
[18:39:10] [INFO] [Bullet] Body exited signal received for penetrating body
[18:39:10] [INFO] [Bullet] Exiting penetration at (24.615889, 1544.5332) after traveling 41,666668 pixels through wall
[18:39:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1432.122, 2972.7534), shooter_id=176412430548, bullet_pos=(58.60438, 1822.3134)
[18:39:10] [INFO] [Bullet] Using shooter_position, distance=1791,6649
[18:39:10] [INFO] [Bullet] Distance to wall: 1791,6649 (121,997765% of viewport)
[18:39:10] [INFO] [Bullet] Distance-based penetration chance: 25,600449%
[18:39:10] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:10] [INFO] [BloodDecal] Blood puddle created at (786.6093, 2187.899) (added to group)
[18:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1450.0542, 2955.631), shooter_id=176412430548, bullet_pos=(53.99361, 1900.4009)
[18:39:10] [INFO] [Bullet] Using shooter_position, distance=1749,9989
[18:39:10] [INFO] [Bullet] Distance to wall: 1749,9989 (119,16065% of viewport)
[18:39:10] [INFO] [Bullet] Distance-based penetration chance: 26,16787%
[18:39:10] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(575,2061), corner_timer=-0.02
[18:39:10] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(575,2061), corner_timer=0.30
[18:39:10] [INFO] [ReplayManager] Recording frame 1020 (16,4s): player_valid=True, enemies=10
[18:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1485.9836, 2921.433), shooter_id=176412430548, bullet_pos=(48.498455, 1923.3691)
[18:39:10] [INFO] [Bullet] Using shooter_position, distance=1749,9987
[18:39:10] [INFO] [Bullet] Distance to wall: 1749,9987 (119,16063% of viewport)
[18:39:10] [INFO] [Bullet] Distance-based penetration chance: 26,167875%
[18:39:10] [INFO] [Bullet] Starting wall penetration at (48.498455, 1923.3691)
[18:39:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,581348
[18:39:10] [INFO] [Bullet] Body exited signal received for penetrating body
[18:39:10] [INFO] [Bullet] Exiting penetration at (10.165504, 1896.7542) after traveling 41,666668 pixels through wall
[18:39:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1468.0077, 2938.5247), shooter_id=176412430548, bullet_pos=(53.31992, 1297.4553)
[18:39:10] [INFO] [Bullet] Using shooter_position, distance=2166,668
[18:39:10] [INFO] [Bullet] Distance to wall: 2166,668 (147,53241% of viewport)
[18:39:10] [ENEMY] [GuardEnemy3] Death animation completed
[18:39:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(575,2061), corner_timer=-0.02
[18:39:10] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:10] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(575,2061), corner_timer=0.30
[18:39:11] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(575,2061), corner_timer=-0.02
[18:39:11] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:11] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(575,2061), corner_timer=0.30
[18:39:11] [INFO] [ReplayManager] Recording frame 1080 (17,4s): player_valid=True, enemies=10
[18:39:12] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3424.116, 2155.314), source=ENEMY (GuardEnemy4), range=1200, listeners=8
[18:39:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:39:12] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3424.116, 2155.314), source=ENEMY (GuardEnemy4), range=1200, listeners=8
[18:39:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:39:12] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3424.116, 2155.314), source=ENEMY (GuardEnemy4), range=1200, listeners=8
[18:39:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:39:12] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3424.116, 2155.314), source=ENEMY (GuardEnemy4), range=1200, listeners=8
[18:39:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[18:39:12] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[18:39:12] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[18:39:12] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-139.0°, current=90.0°, player=(575,2061), corner_timer=0.12
[18:39:12] [ENEMY] [PatrolEnemy1] Hit: dmg=50, hp=3/3->-47/3
[18:39:12] [INFO] [ImpactEffects] spawn_blood_effect called at (1565.488, 2922.75), dir=(1, 0), lethal=true
[18:39:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:12] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:39:12] [INFO] [ImpactEffects] Blood effect spawned at (1565.488, 2922.75) (scale=1.5)
[18:39:12] [ENEMY] [PatrolEnemy1] Enemy died (ricochet: false, penetration: false)
[18:39:12] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:39:12] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy1 (remaining: 7)
[18:39:12] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:39:12] [ENEMY] [PatrolEnemy1] Death animation started with hit direction: (1, 0)
[18:39:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(575.7555, 2061.254), source=PLAYER (SniperRifle), range=3000, listeners=7
[18:39:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[18:39:12] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3424.116, 2155.314), source=ENEMY (GuardEnemy4), range=1200, listeners=7
[18:39:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:12] [INFO] [ReplayManager] Recording frame 1140 (18,4s): player_valid=True, enemies=10
[18:39:12] [ENEMY] [GuardEnemy4] Player distracted - priority attack triggered
[18:39:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3424.116, 2155.314), source=ENEMY (GuardEnemy4), range=1200, listeners=7
[18:39:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:12] [ENEMY] [GuardEnemy4] State: COMBAT -> SEEKING_COVER
[18:39:12] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=100.6°, current=-61.3°, player=(575,2061), corner_timer=0.15
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1661.157, 2913.217) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1620.522, 2928.391) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1609.536, 2963.746) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1629.209, 2939.729) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1644.467, 2985.486) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1675.082, 2964.411) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1637.149, 2954.944) (added to group)
[18:39:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3356.296, 2160.878), shooter_id=176060108991, bullet_pos=(1888.012, 1950.13)
[18:39:13] [INFO] [Bullet] Using shooter_position, distance=1483.3310546875
[18:39:13] [INFO] [Bullet] Distance to wall: 1483.3310546875 (101.002739118967% of viewport)
[18:39:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=-25.2°, player=(575,2061), corner_timer=-0.01
[18:39:13] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1656.337, 2967.134) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1701.327, 3002.479) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1678.047, 2956.82) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1658.132, 3002.791) (added to group)
[18:39:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=-22.9°, player=(575,2061), corner_timer=0.30
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1699.927, 2949.262) (added to group)
[18:39:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3356.296, 2160.878), shooter_id=176060108991, bullet_pos=(1856.412, 1948.083)
[18:39:13] [INFO] [Bullet] Using shooter_position, distance=1514.90368652344
[18:39:13] [INFO] [Bullet] Distance to wall: 1514.90368652344 (103.152577677627% of viewport)
[18:39:13] [INFO] [Bullet] Distance-based penetration chance: 29.3694844644746%
[18:39:13] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:13] [ENEMY] [PatrolEnemy1] Ragdoll activated
[18:39:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1654.498, 2991.112) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1672.146, 2927.214) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1637.327, 2961.864) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1764.117, 2940.263) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1727.141, 3077.187) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1725.072, 3060.748) (added to group)
[18:39:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3356.296, 2160.878), shooter_id=176060108991, bullet_pos=(2147.172, 1683.366)
[18:39:13] [INFO] [Bullet] Using shooter_position, distance=1299.99926757813
[18:39:13] [INFO] [Bullet] Distance to wall: 1299.99926757813 (88.5193406172598% of viewport)
[18:39:13] [INFO] [Bullet] Distance-based penetration chance: 43.3941026131969%
[18:39:13] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1723.212, 2941.502) (added to group)
[18:39:13] [INFO] [BloodDecal] Blood puddle created at (1731.864, 3097.631) (added to group)
[18:39:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(575,2061), corner_timer=-0.01
[18:39:13] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.3°, player=(575,2061), corner_timer=0.30
[18:39:13] [INFO] [ReplayManager] Recording frame 1200 (19,2s): player_valid=True, enemies=10
[18:39:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3356.296, 2160.878), shooter_id=176060108991, bullet_pos=(1056.263, 1883.783)
[18:39:13] [INFO] [Bullet] Using shooter_position, distance=2316.66381835938
[18:39:13] [INFO] [Bullet] Distance to wall: 2316.66381835938 (157.745899361217% of viewport)
[18:39:13] [INFO] [Bullet] Distance-based penetration chance: 18.4508201277565%
[18:39:13] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:14] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(575,2059), corner_timer=-0.01
[18:39:14] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:14] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[18:39:14] [INFO] [GrenadeTimer] EXPLODED at (976.22284, 2220.7258)!
[18:39:14] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[18:39:14] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[18:39:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(976.2228, 2220.726), source=NEUTRAL (FragGrenade), range=2938, listeners=7
[18:39:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[18:39:14] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (976.22284, 2220.7258) (shadow-based wall occlusion)
[18:39:14] [INFO] [LastChance] Threat detected: @Area2D@1615
[18:39:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:14] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.3°, player=(575,2059), corner_timer=0.30
[18:39:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3356.296, 2160.878), shooter_id=176060108991, bullet_pos=(42.04967, 2287.585)
[18:39:14] [INFO] [Bullet] Using shooter_position, distance=3316.66723632813
[18:39:14] [INFO] [Bullet] Distance to wall: 3316.66723632813 (225.83797093485% of viewport)
[18:39:14] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:14] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:14] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:14] [INFO] [Player] Spawning blood effect at (575.7555, 2053.574), dir=(1, 0), lethal=False (C#)
[18:39:14] [INFO] [ImpactEffects] spawn_blood_effect called at (575.7555, 2053.574), dir=(1, 0), lethal=false
[18:39:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:14] [INFO] [ImpactEffects] Blood effect spawned at (575.7555, 2053.574) (scale=1)
[18:39:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3356.296, 2160.878), shooter_id=176060108991, bullet_pos=(56.43061, 2494.311)
[18:39:14] [INFO] [Bullet] Using shooter_position, distance=3316.66796875
[18:39:14] [INFO] [Bullet] Distance to wall: 3316.66796875 (225.838020806802% of viewport)
[18:39:14] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:14] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:14] [INFO] [BloodDecal] Blood puddle created at (653.7605, 2046.291) (added to group)
[18:39:14] [INFO] [BloodDecal] Blood puddle created at (616.5555, 2067.071) (added to group)
[18:39:14] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(575,1985), corner_timer=-0.01
[18:39:14] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:14] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.3°, player=(575,1981), corner_timer=0.30
[18:39:14] [ENEMY] [PatrolEnemy1] Death animation completed
[18:39:14] [INFO] [BloodDecal] Blood puddle created at (641.6539, 2122.005) (added to group)
[18:39:14] [ENEMY] [GuardEnemy4] State: SEEKING_COVER -> IN_COVER
[18:39:14] [INFO] [BloodDecal] Blood puddle created at (702.9736, 2121.89) (added to group)
[18:39:14] [ENEMY] [GuardEnemy4] State: IN_COVER -> PURSUING
[18:39:14] [INFO] [BloodDecal] Blood puddle created at (668.9208, 2112.628) (added to group)
[18:39:14] [ENEMY] [GuardEnemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-178.8°, current=100.6°, player=(575,1928), corner_timer=0.15
[18:39:14] [INFO] [BloodDecal] Blood puddle created at (687.4372, 2051.525) (added to group)
[18:39:14] [INFO] [ReplayManager] Recording frame 1260 (20,0s): player_valid=True, enemies=10
[18:39:14] [INFO] [BloodDecal] Blood puddle created at (753.095, 2107.78) (added to group)
[18:39:14] [INFO] [BloodDecal] Blood puddle created at (698.4202, 2147.724) (added to group)
[18:39:14] [INFO] [BloodDecal] Blood puddle created at (779.0083, 2115.053) (added to group)
[18:39:14] [INFO] [BloodDecal] Blood puddle created at (720.4236, 2193.569) (added to group)
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [ENEMY] [GuardEnemy4] State: PURSUING -> RETREATING
[18:39:15] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=100.6°, current=-174.2°, player=(610,1691), corner_timer=0.15
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [ENEMY] [GuardEnemy4] State: RETREATING -> IN_COVER
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [ENEMY] [GuardEnemy4] State: IN_COVER -> SUPPRESSED
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [ReplayManager] Recording frame 1320 (20,8s): player_valid=True, enemies=10
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:15] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:16] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(837,1509), corner_timer=-0.02
[18:39:16] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:16] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(842,1509), corner_timer=0.30
[18:39:16] [INFO] [ReplayManager] Recording frame 1380 (21,8s): player_valid=True, enemies=10
[18:39:16] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:39:16] [INFO] [GrenadeBase] Grenade created at (3469.553, 1988.236) (frozen)
[18:39:16] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:39:16] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[18:39:16] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[18:39:16] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[18:39:16] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:39:16] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[18:39:16] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.999852, -0.017231), Speed: 1186.5 (unfrozen)
[18:39:16] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[18:39:16] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[18:39:16] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[18:39:16] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (2909.729, 2003.713), Distance: 600
[18:39:16] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(947,1509), corner_timer=-0.02
[18:39:16] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:16] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(952,1509), corner_timer=0.30
[18:39:17] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1057,1509), corner_timer=-0.02
[18:39:17] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:17] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1062,1509), corner_timer=0.30
[18:39:17] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1167,1509), corner_timer=-0.02
[18:39:17] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:17] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1172,1509), corner_timer=0.30
[18:39:17] [ENEMY] [GuardEnemy5] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-94.1°, current=-78.7°, player=(1205,1509), corner_timer=0.00
[18:39:17] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:17] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-94.0°, current=-94.1°, player=(1211,1509), corner_timer=0.00
[18:39:17] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-93.9°, current=-93.9°, player=(1216,1509), corner_timer=0.00
[18:39:17] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-93.8°, current=-93.8°, player=(1222,1509), corner_timer=0.00
[18:39:17] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-93.7°, current=-93.7°, player=(1227,1509), corner_timer=0.00
[18:39:17] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-93.5°, current=-93.5°, player=(1233,1509), corner_timer=0.00
[18:39:17] [INFO] [ReplayManager] Recording frame 1440 (22,8s): player_valid=True, enemies=10
[18:39:17] [ENEMY] [GuardEnemy4] State: SUPPRESSED -> IN_COVER
[18:39:18] [ENEMY] [GuardEnemy4] State: IN_COVER -> PURSUING
[18:39:18] [ENEMY] [GuardEnemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-167.6°, current=100.6°, player=(1322,1509), corner_timer=0.15
[18:39:18] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-91.2°, current=-91.2°, player=(1339,1509), corner_timer=0.00
[18:39:18] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:18] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1392.994, 4018.829), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:18] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[18:39:18] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1390.277, 3981.967), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:18] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[18:39:18] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.108, 3947.854), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:18] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1395.488, 3949.557), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:18] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1386.204, 3941.153), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:18] [INFO] [ReplayManager] Recording frame 1500 (23,8s): player_valid=True, enemies=10
[18:39:18] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1380.679, 3938.409), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:18] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1391.675, 3946.715), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:19] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1374.075, 3943.382), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1381.4081, 3914.499), shooter_id=177117073662, bullet_pos=(1341.869, 1914.8931)
[18:39:19] [INFO] [Bullet] Using shooter_position, distance=1999,9968
[18:39:19] [INFO] [Bullet] Distance to wall: 1999,9968 (136,18347% of viewport)
[18:39:19] [INFO] [Bullet] Distance-based penetration chance: 22,76331%
[18:39:19] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:19] [INFO] [LastChance] Threat detected: Bullet
[18:39:19] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:19] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1387.289, 3950.04), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:19] [INFO] [Player] Spawning blood effect at (1351.1537, 1509.8867), dir=(1, 0), lethal=False (C#)
[18:39:19] [INFO] [ImpactEffects] spawn_blood_effect called at (1351.154, 1509.887), dir=(1, 0), lethal=false
[18:39:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:19] [INFO] [ImpactEffects] Blood effect spawned at (1351.154, 1509.887) (scale=1)
[18:39:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1366.6447, 3880.334), shooter_id=177117073662, bullet_pos=(1338.4401, 1922.2034)
[18:39:19] [INFO] [Bullet] Using shooter_position, distance=1958,3337
[18:39:19] [INFO] [Bullet] Distance to wall: 1958,3337 (133,34654% of viewport)
[18:39:19] [INFO] [Bullet] Distance-based penetration chance: 23,330692%
[18:39:19] [INFO] [Bullet] Starting wall penetration at (1338.4401, 1922.2034)
[18:39:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:39:19] [INFO] [Bullet] Exiting penetration at (1337.768, 1875.5415) after traveling 41,666668 pixels through wall
[18:39:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:19] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1380.779, 3940.773), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:19] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=168.5°, player=(1351,1509), corner_timer=-0.02
[18:39:19] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:19] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1389.284, 3948.072), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:19] [INFO] [GrenadeBase] Collision detected with WallRight (type: StaticBody2D)
[18:39:19] [INFO] [FragGrenade] Impact detected! Body: WallRight (type: StaticBody2D), triggering explosion
[18:39:19] [INFO] [FragGrenade] Impact detected - exploding immediately!
[18:39:19] [INFO] [GrenadeBase] EXPLODED at (1356.623, 1957.31)!
[18:39:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1356.623, 1957.31), source=NEUTRAL (FragGrenade), range=2937, listeners=7
[18:39:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[18:39:19] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -15.4 degrees
[18:39:19] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 97.9 degrees
[18:39:19] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 178.4 degrees
[18:39:19] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 283.1 degrees
[18:39:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (1356.623, 1957.31) (radius=225) - using shadow-based wall occlusion
[18:39:19] [INFO] [GrenadeTimer] Impact detected with WallRight - EXPLODING!
[18:39:19] [INFO] [GrenadeTimer] EXPLODED at (1356.6233, 1957.3096)!
[18:39:19] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[18:39:19] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[18:39:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1356.623, 1957.31), source=NEUTRAL (FragGrenade), range=2938, listeners=7
[18:39:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[18:39:19] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (1356.6233, 1957.3096) (shadow-based wall occlusion)
[18:39:19] [INFO] [GrenadeBase] Collision detected with WallBottom3 (type: StaticBody2D)
[18:39:19] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=171.4°, player=(1351,1509), corner_timer=0.30
[18:39:19] [INFO] [LastChance] Threat detected: @Area2D@1687
[18:39:19] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:19] [ENEMY] [GuardEnemy4] Warning: No valid flank position (both sides behind walls)
[18:39:19] [ENEMY] [GuardEnemy4] FLANKING started: target=(1486.307, 1362.463), side=left, pos=(3509.547, 1988.926)
[18:39:19] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[18:39:19] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.046, 3926.28), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1437.163, 1499.794) (added to group)
[18:39:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:19] [INFO] [Player] Spawning blood effect at (1351.1537, 1509.8867), dir=(1, 0), lethal=False (C#)
[18:39:19] [INFO] [ImpactEffects] spawn_blood_effect called at (1351.154, 1509.887), dir=(1, 0), lethal=false
[18:39:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:19] [INFO] [ImpactEffects] Blood effect spawned at (1351.154, 1509.887) (scale=1)
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1450.926, 1498.789) (added to group)
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1440.919, 1490.536) (added to group)
[18:39:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1377.4308, 3873.6726), shooter_id=177117073662, bullet_pos=(1309.8804, 1666.3701)
[18:39:19] [INFO] [Bullet] Using shooter_position, distance=2208,336
[18:39:19] [INFO] [Bullet] Distance to wall: 2208,336 (150,36966% of viewport)
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1406.76, 1566.454) (added to group)
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1408.912, 1532.356) (added to group)
[18:39:19] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1386.909, 3941.442), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:19] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 107.2°
[18:39:19] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1351,1509), corner_timer=-0.02
[18:39:19] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1445.254, 1609.592) (added to group)
[18:39:19] [INFO] [ReplayManager] Recording frame 1560 (24,8s): player_valid=True, enemies=10
[18:39:19] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1351,1509), corner_timer=0.30
[18:39:19] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1387.448, 3945.899), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1474.594, 1526.545) (added to group)
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1390.625, 1537.552) (added to group)
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1392.865, 1548.211) (added to group)
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1532.313, 1578.053) (added to group)
[18:39:19] [INFO] [LastChance] Threat detected: @Area2D@1692
[18:39:19] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1372.0575, 3870.909), shooter_id=177117073662, bullet_pos=(1392.4467, 1287.659)
[18:39:19] [INFO] [Bullet] Using shooter_position, distance=2583,3303
[18:39:19] [INFO] [Bullet] Distance to wall: 2583,3303 (175,90372% of viewport)
[18:39:19] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1380.812, 3936.743), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1529.748, 1551.101) (added to group)
[18:39:19] [INFO] [LastChance] Threat detected: @Area2D@1690
[18:39:19] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:19] [INFO] [Player] Spawning blood effect at (1351.1537, 1509.8867), dir=(1, 0), lethal=False (C#)
[18:39:19] [INFO] [ImpactEffects] spawn_blood_effect called at (1351.154, 1509.887), dir=(1, 0), lethal=false
[18:39:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:19] [INFO] [ImpactEffects] Blood effect spawned at (1351.154, 1509.887) (scale=1)
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1449.203, 1530.405) (added to group)
[18:39:19] [INFO] [BloodDecal] Blood puddle created at (1478.685, 1645.045) (added to group)
[18:39:20] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1393.9, 3951.019), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:20] [ENEMY] [GuardEnemy4] State: FLANKING -> RETREATING
[18:39:20] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=107.2°, current=174.2°, player=(1351,1509), corner_timer=0.00
[18:39:20] [ENEMY] [GuardEnemy4] State: RETREATING -> IN_COVER
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1429.624, 1594.21) (added to group)
[18:39:20] [ENEMY] [GuardEnemy4] State: IN_COVER -> SUPPRESSED
[18:39:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1351,1509), corner_timer=-0.02
[18:39:20] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1351,1509), corner_timer=0.30
[18:39:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1365.6384, 3875.8586), shooter_id=177117073662, bullet_pos=(1397.0471, 1292.717)
[18:39:20] [INFO] [Bullet] Using shooter_position, distance=2583,3325
[18:39:20] [INFO] [Bullet] Distance to wall: 2583,3325 (175,90387% of viewport)
[18:39:20] [INFO] [Bullet] Distance-based penetration chance: 14,819227%
[18:39:20] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:20] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.108, 3935.189), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1524.481, 1610.529) (added to group)
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1467.347, 1530.823) (added to group)
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1408.625, 1511.012) (added to group)
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1533.31, 1636.161) (added to group)
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1566.052, 1647.771) (added to group)
[18:39:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1378.489, 3882.5632), shooter_id=177117073662, bullet_pos=(1417.3374, 1299.5254)
[18:39:20] [INFO] [Bullet] Using shooter_position, distance=2583,3298
[18:39:20] [INFO] [Bullet] Distance to wall: 2583,3298 (175,90369% of viewport)
[18:39:20] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1387.755, 3950.069), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1547.02, 1658.646) (added to group)
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1546.929, 1595.904) (added to group)
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1450.962, 1548.968) (added to group)
[18:39:20] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1380.239, 3941.807), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1480.457, 1567.398) (added to group)
[18:39:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1351,1509), corner_timer=-0.02
[18:39:20] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1446.476, 1524.37) (added to group)
[18:39:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1351,1509), corner_timer=0.30
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1519.609, 1505.635) (added to group)
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1481.475, 1635.955) (added to group)
[18:39:20] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1389.354, 3948.465), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1508.798, 1559.169) (added to group)
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1542.026, 1575.649) (added to group)
[18:39:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1378.6415, 3878.4226), shooter_id=177117073662, bullet_pos=(1344.8029, 1920.3838)
[18:39:20] [INFO] [Bullet] Using shooter_position, distance=1958,3312
[18:39:20] [INFO] [Bullet] Distance to wall: 1958,3312 (133,34637% of viewport)
[18:39:20] [INFO] [Bullet] Distance-based penetration chance: 23,330725%
[18:39:20] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1510.208, 1592.482) (added to group)
[18:39:20] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1382.915, 3939.301), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:20] [INFO] [BloodDecal] Blood puddle created at (1536.969, 1688.397) (added to group)
[18:39:20] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1383.073, 3934.286), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1366.578, 3858.7607), shooter_id=177117073662, bullet_pos=(1524.2062, 946.35767)
[18:39:20] [INFO] [Bullet] Using shooter_position, distance=2916,6658
[18:39:20] [INFO] [Bullet] Distance to wall: 2916,6658 (198,60114% of viewport)
[18:39:20] [INFO] [Bullet] Distance-based penetration chance: 10,279773%
[18:39:20] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1368,1491), corner_timer=-0.02
[18:39:20] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:20] [INFO] [ReplayManager] Recording frame 1620 (25,8s): player_valid=True, enemies=10
[18:39:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1371,1490), corner_timer=0.30
[18:39:20] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1389.611, 3945.478), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1372.1555, 3873.2734), shooter_id=177117073662, bullet_pos=(1111.6536, 48.803574)
[18:39:20] [INFO] [Bullet] Using shooter_position, distance=3833,3318
[18:39:20] [INFO] [Bullet] Distance to wall: 3833,3318 (261,01862% of viewport)
[18:39:20] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:20] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:20] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:39:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1366.641, 3867.6694), shooter_id=177117073662, bullet_pos=(1284.726, 1952.751)
[18:39:20] [INFO] [Bullet] Using shooter_position, distance=1916,6697
[18:39:20] [INFO] [Bullet] Distance to wall: 1916,6697 (130,50957% of viewport)
[18:39:21] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1384.853, 3948.059), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1380.428, 3880.6025), shooter_id=177117073662, bullet_pos=(1155.2571, 53.887695)
[18:39:21] [INFO] [Bullet] Using shooter_position, distance=3833,3337
[18:39:21] [INFO] [Bullet] Distance to wall: 3833,3337 (261,01874% of viewport)
[18:39:21] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1380.204, 3956.293), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1444,1531), corner_timer=-0.02
[18:39:21] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1448,1535), corner_timer=0.30
[18:39:21] [INFO] [LastChance] Threat detected: @Area2D@1776
[18:39:21] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:21] [ENEMY] [GuardEnemy5] Player distracted - priority attack triggered
[18:39:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1371.341, 3961.159), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1372.1865, 3869.2432), shooter_id=177117073662, bullet_pos=(1495.1497, 663.2686)
[18:39:21] [INFO] [Bullet] Using shooter_position, distance=3208,3318
[18:39:21] [INFO] [Bullet] Distance to wall: 3208,3318 (218,46123% of viewport)
[18:39:21] [INFO] [Bullet] Distance-based penetration chance: 6,3077555%
[18:39:21] [INFO] [Bullet] Starting wall penetration at (1495.1497, 663.2686)
[18:39:21] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:21] [INFO] [Player] Spawning blood effect at (1467.8372, 1555.2914), dir=(1, 0), lethal=False (C#)
[18:39:21] [INFO] [ImpactEffects] spawn_blood_effect called at (1467.837, 1555.291), dir=(1, 0), lethal=false
[18:39:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:21] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:21] [INFO] [ImpactEffects] Blood effect spawned at (1467.837, 1555.291) (scale=1)
[18:39:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,3883
[18:39:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1378.1157, 3873.9639), shooter_id=177117073662, bullet_pos=(1075.185, 52.61748)
[18:39:21] [INFO] [Bullet] Using shooter_position, distance=3833,335
[18:39:21] [INFO] [Bullet] Distance to wall: 3833,335 (261,01883% of viewport)
[18:39:21] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:21] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:21] [INFO] [Bullet] Body exited signal received for penetrating body
[18:39:21] [INFO] [Bullet] Exiting penetration at (1496.9382, 616.6362) after traveling 41,66667 pixels through wall
[18:39:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1371.631, 3874.305), shooter_id=177117073662, bullet_pos=(1311.0614, 1666.8071)
[18:39:21] [INFO] [Bullet] Using shooter_position, distance=2208,3286
[18:39:21] [INFO] [Bullet] Distance to wall: 2208,3286 (150,36916% of viewport)
[18:39:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1369.036, 3964.746), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1364.869, 3969.156), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[18:39:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:39:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1490,1622), corner_timer=-0.02
[18:39:21] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1490,1628), corner_timer=0.30
[18:39:21] [INFO] [BloodDecal] Blood puddle created at (1518.257, 1567.653) (added to group)
[18:39:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1374.234, 3871.8088), shooter_id=177117073662, bullet_pos=(1279.8083, 1665.491)
[18:39:21] [INFO] [Bullet] Using shooter_position, distance=2208,3374
[18:39:21] [INFO] [Bullet] Distance to wall: 2208,3374 (150,36977% of viewport)
[18:39:21] [INFO] [Bullet] Distance-based penetration chance: 19,926048%
[18:39:21] [INFO] [Bullet] Starting wall penetration at (1279.8083, 1665.491)
[18:39:21] [ENEMY] [GuardEnemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=174.1°, current=-86.5°, player=(1490,1644), corner_timer=0.00
[18:39:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,16156
[18:39:21] [INFO] [Bullet] Body exited signal received for penetrating body
[18:39:21] [INFO] [Bullet] Exiting penetration at (1277.813, 1618.867) after traveling 41,66667 pixels through wall
[18:39:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1384.9175, 3883.566), shooter_id=177117073662, bullet_pos=(1196.7959, 54.85198)
[18:39:21] [INFO] [Bullet] Using shooter_position, distance=3833,3328
[18:39:21] [INFO] [Bullet] Distance to wall: 3833,3328 (261,01868% of viewport)
[18:39:21] [INFO] [BloodDecal] Blood puddle created at (1516.078, 1606.276) (added to group)
[18:39:21] [ENEMY] [GuardEnemy5] State: RETREATING -> IN_COVER
[18:39:21] [ENEMY] [GuardEnemy5] State: IN_COVER -> SUPPRESSED
[18:39:21] [INFO] [BloodDecal] Blood puddle created at (1594.183, 1591.479) (added to group)
[18:39:21] [INFO] [BloodDecal] Blood puddle created at (1610.708, 1621.493) (added to group)
[18:39:21] [INFO] [LastChance] Threat detected: @Area2D@1805
[18:39:21] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:21] [ENEMY] [GuardEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=151.1°, current=101.3°, player=(1504,1694), corner_timer=0.00
[18:39:21] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2400, 1200), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:21] [INFO] [BloodDecal] Blood puddle created at (1590.036, 1603.472) (added to group)
[18:39:21] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:21] [INFO] [Player] Spawning blood effect at (1514.5063, 1706.4598), dir=(1, 0), lethal=False (C#)
[18:39:21] [INFO] [ImpactEffects] spawn_blood_effect called at (1514.506, 1706.46), dir=(1, 0), lethal=false
[18:39:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:21] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:21] [INFO] [ImpactEffects] Blood effect spawned at (1514.506, 1706.46) (scale=1)
[18:39:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1374.6282, 3866.7634), shooter_id=177117073662, bullet_pos=(1439.6101, 1284.2448)
[18:39:21] [INFO] [Bullet] Using shooter_position, distance=2583,336
[18:39:21] [INFO] [Bullet] Distance to wall: 2583,336 (175,9041% of viewport)
[18:39:21] [INFO] [Bullet] Distance-based penetration chance: 14,819182%
[18:39:21] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(1526,1718), corner_timer=-0.02
[18:39:21] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:21] [INFO] [BloodDecal] Blood puddle created at (1555.813, 1624.855) (added to group)
[18:39:21] [INFO] [BloodDecal] Blood puddle created at (1582.417, 1665.172) (added to group)
[18:39:21] [INFO] [ReplayManager] Recording frame 1680 (26,8s): player_valid=True, enemies=10
[18:39:21] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2372.268, 1215.965), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(1530,1722), corner_timer=0.30
[18:39:21] [INFO] [BloodDecal] Blood puddle created at (1579.795, 1640.623) (added to group)
[18:39:21] [INFO] [BloodDecal] Blood puddle created at (1571.945, 1685.48) (added to group)
[18:39:21] [INFO] [BloodDecal] Blood puddle created at (1566.21, 1667.409) (added to group)
[18:39:21] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:21] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:39:21] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2340.55, 1235.651), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:21] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1565.97, 1705.439) (added to group)
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1574.158, 1699.395) (added to group)
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1561.518, 1703.252) (added to group)
[18:39:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1381.7313, 3893.9082), shooter_id=177117073662, bullet_pos=(1343.7733, 1935.9386)
[18:39:22] [INFO] [Bullet] Using shooter_position, distance=1958,3375
[18:39:22] [INFO] [Bullet] Distance to wall: 1958,3375 (133,3468% of viewport)
[18:39:22] [INFO] [Bullet] Distance-based penetration chance: 23,330639%
[18:39:22] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1381.7313, 3893.9082), shooter_id=177117073662, bullet_pos=(1343.7733, 1935.9386)
[18:39:22] [INFO] [Bullet] Using shooter_position, distance=1958,3375
[18:39:22] [INFO] [Bullet] Distance to wall: 1958,3375 (133,3468% of viewport)
[18:39:22] [INFO] [Bullet] Distance-based penetration chance: 23,330639%
[18:39:22] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:22] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2332.488, 1216.402), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1380.4961, 3880.9949), shooter_id=177117073662, bullet_pos=(1096.4214, 58.205166)
[18:39:22] [INFO] [Bullet] Using shooter_position, distance=3833,33
[18:39:22] [INFO] [Bullet] Distance to wall: 3833,33 (261,0185% of viewport)
[18:39:22] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:22] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:22] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2328.331, 1190.601), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1624.617, 1743.815) (added to group)
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1627.145, 1767.848) (added to group)
[18:39:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1376.263, 3902.0757), shooter_id=177117073662, bullet_pos=(1211.7113, 1950.6692)
[18:39:22] [INFO] [Bullet] Using shooter_position, distance=1958,332
[18:39:22] [INFO] [Bullet] Distance to wall: 1958,332 (133,34644% of viewport)
[18:39:22] [INFO] [Bullet] Distance-based penetration chance: 23,330711%
[18:39:22] [INFO] [Bullet] Starting wall penetration at (1211.7113, 1950.6692)
[18:39:22] [INFO] [LastChance] Threat detected: @Area2D@1842
[18:39:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,938274
[18:39:22] [INFO] [Bullet] Body exited signal received for penetrating body
[18:39:22] [INFO] [Bullet] Exiting penetration at (1207.79, 1904.1676) after traveling 41,666668 pixels through wall
[18:39:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2318.3413, 1257.4673), shooter_id=175355465877, bullet_pos=(1350.6416, 1831.2107)
[18:39:22] [INFO] [Bullet] Using shooter_position, distance=1124,9996
[18:39:22] [INFO] [Bullet] Distance to wall: 1124,9996 (76,603294% of viewport)
[18:39:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2344.5793, 1239.4862), shooter_id=175355465877, bullet_pos=(1107.8096, 1930.3893)
[18:39:22] [INFO] [Bullet] Using shooter_position, distance=1416,6674
[18:39:22] [INFO] [Bullet] Distance to wall: 1416,6674 (96,463486% of viewport)
[18:39:22] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2324.173, 1164.801), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1666.112, 1726.889) (added to group)
[18:39:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2344.5793, 1239.4862), shooter_id=175355465877, bullet_pos=(1049.0281, 1882.4784)
[18:39:22] [INFO] [Bullet] Using shooter_position, distance=1446,3375
[18:39:22] [INFO] [Bullet] Distance to wall: 1446,3375 (98,48378% of viewport)
[18:39:22] [INFO] [Bullet] Distance-based penetration chance: 31,76893%
[18:39:22] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1602.745, 1815.802) (added to group)
[18:39:22] [INFO] [LastChance] Threat detected: @Area2D@1850
[18:39:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1693.823, 1771.074) (added to group)
[18:39:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2288.1064, 1279.0135), shooter_id=175355465877, bullet_pos=(1341.4651, 1886.8761)
[18:39:22] [INFO] [Bullet] Using shooter_position, distance=1125,0007
[18:39:22] [INFO] [Bullet] Distance to wall: 1125,0007 (76,60337% of viewport)
[18:39:22] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2320.016, 1139), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:22] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:22] [INFO] [Player] Spawning blood effect at (1574.4136, 1766.3671), dir=(1, 0), lethal=False (C#)
[18:39:22] [INFO] [ImpactEffects] spawn_blood_effect called at (1574.414, 1766.367), dir=(1, 0), lethal=false
[18:39:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:22] [INFO] [ImpactEffects] Blood effect spawned at (1574.414, 1766.367) (scale=1)
[18:39:22] [ENEMY] [GuardEnemy4] State: SUPPRESSED -> IN_COVER
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1694.026, 1792.869) (added to group)
[18:39:22] [ENEMY] [GuardEnemy4] State: IN_COVER -> PURSUING
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1667.594, 1895.522) (added to group)
[18:39:22] [ENEMY] [GuardEnemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-174.8°, current=107.2°, player=(1574,1766), corner_timer=0.00
[18:39:22] [INFO] [LastChance] Threat detected: @Area2D@1853
[18:39:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:22] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2315.859, 1113.199), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1380.1027, 3897.6116), shooter_id=177117073662, bullet_pos=(1475.3616, 940.81506)
[18:39:22] [INFO] [Bullet] Using shooter_position, distance=2958,3303
[18:39:22] [INFO] [Bullet] Distance to wall: 2958,3303 (201,43817% of viewport)
[18:39:22] [INFO] [Bullet] Distance-based penetration chance: 9,712368%
[18:39:22] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1393.3358, 3880.5417), shooter_id=177117073662, bullet_pos=(1214.1649, 51.40002)
[18:39:22] [INFO] [Bullet] Using shooter_position, distance=3833,3313
[18:39:22] [INFO] [Bullet] Distance to wall: 3833,3313 (261,0186% of viewport)
[18:39:22] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:22] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:22] [INFO] [LastChance] Threat detected: @Area2D@1859
[18:39:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:22] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2311.702, 1087.399), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1389.5721, 3888.8926), shooter_id=177117073662, bullet_pos=(1335.8007, 55.933926)
[18:39:22] [INFO] [Bullet] Using shooter_position, distance=3833,336
[18:39:22] [INFO] [Bullet] Distance to wall: 3833,336 (261,0189% of viewport)
[18:39:22] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:22] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1667.508, 1751.568) (added to group)
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1657.642, 1798.455) (added to group)
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1666.165, 1808.304) (added to group)
[18:39:22] [INFO] [LastChance] Threat detected: @Area2D@1866
[18:39:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:22] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2307.545, 1061.598), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1678.958, 1797.16) (added to group)
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1656.183, 1770.906) (added to group)
[18:39:22] [INFO] [ReplayManager] Recording frame 1740 (27,8s): player_valid=True, enemies=10
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1695.606, 1864.828) (added to group)
[18:39:22] [INFO] [LastChance] Threat detected: @Area2D@1871
[18:39:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:22] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2303.388, 1035.798), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:22] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:22] [INFO] [Player] Spawning blood effect at (1574.4136, 1766.3671), dir=(1, 0), lethal=False (C#)
[18:39:22] [INFO] [ImpactEffects] spawn_blood_effect called at (1574.414, 1766.367), dir=(1, 0), lethal=false
[18:39:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:22] [INFO] [ImpactEffects] Blood effect spawned at (1574.414, 1766.367) (scale=1)
[18:39:22] [INFO] [LastChance] Threat detected: Bullet
[18:39:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:22] [INFO] [BloodDecal] Blood puddle created at (1721.164, 1788.731) (added to group)
[18:39:22] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2299.231, 1009.997), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1755.14, 1871.552) (added to group)
[18:39:23] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:23] [INFO] [Player] Spawning blood effect at (1574.4136, 1766.3671), dir=(1, 0), lethal=False (C#)
[18:39:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1574.414, 1766.367), dir=(1, 0), lethal=false
[18:39:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:23] [INFO] [ImpactEffects] Blood effect spawned at (1574.414, 1766.367) (scale=1)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1732.177, 1872.98) (added to group)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1769.397, 1829.624) (added to group)
[18:39:23] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2295.074, 984.1968), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1670.337, 1787.914) (added to group)
[18:39:23] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2302.736, 985.6428), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1628.137, 1798.345) (added to group)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1642.761, 1777.017) (added to group)
[18:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2279.34, 1237.8296), shooter_id=175355465877, bullet_pos=(51.33301, 2988.186)
[18:39:23] [INFO] [Bullet] Using shooter_position, distance=2833,3308
[18:39:23] [INFO] [Bullet] Distance to wall: 2833,3308 (192,92671% of viewport)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1646.534, 1815.05) (added to group)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1627.125, 1763.554) (added to group)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1641.619, 1811.883) (added to group)
[18:39:23] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2310.084, 979.3896), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1683.823, 1828.489) (added to group)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1679.361, 1762.365) (added to group)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1660.926, 1820.021) (added to group)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1678.814, 1790.525) (added to group)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1637.648, 1821.356) (added to group)
[18:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2261.1614, 1089.1599), shooter_id=175355465877, bullet_pos=(1296.7556, 1948.4147)
[18:39:23] [INFO] [Bullet] Using shooter_position, distance=1291,6646
[18:39:23] [INFO] [Bullet] Distance to wall: 1291,6646 (87,95181% of viewport)
[18:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2276.3284, 1213.1892), shooter_id=175355465877, bullet_pos=(51.46395, 3034.071)
[18:39:23] [INFO] [Bullet] Using shooter_position, distance=2875,0015
[18:39:23] [INFO] [Bullet] Distance to wall: 2875,0015 (195,76413% of viewport)
[18:39:23] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2321.768, 988.7391), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1722.343, 1828.7) (added to group)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1756.831, 1837.352) (added to group)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1722.926, 1882.901) (added to group)
[18:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2258.0908, 1064.2017), shooter_id=175355465877, bullet_pos=(1346.3179, 1919.2859)
[18:39:23] [INFO] [Bullet] Using shooter_position, distance=1249,9996
[18:39:23] [INFO] [Bullet] Distance to wall: 1249,9996 (85,11478% of viewport)
[18:39:23] [INFO] [Bullet] Distance-based penetration chance: 47,3661%
[18:39:23] [INFO] [Bullet] Starting wall penetration at (1346.3179, 1919.2859)
[18:39:23] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:39:23] [INFO] [Bullet] Exiting penetration at (1312.2783, 1951.209) after traveling 41,666668 pixels through wall
[18:39:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1789.558, 1868.225) (added to group)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1653.014, 1822.198) (added to group)
[18:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2261.1614, 1089.1599), shooter_id=175355465877, bullet_pos=(1056.4945, 1789.0078)
[18:39:23] [INFO] [Bullet] Using shooter_position, distance=1393,2012
[18:39:23] [INFO] [Bullet] Distance to wall: 1393,2012 (94,86563% of viewport)
[18:39:23] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2320.592, 976.8611), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1739.925, 1912.234) (added to group)
[18:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2264.2166, 1114.07), shooter_id=175355465877, bullet_pos=(856.79956, 2650.121)
[18:39:23] [INFO] [Bullet] Using shooter_position, distance=2083,333
[18:39:23] [INFO] [Bullet] Distance to wall: 2083,333 (141,85799% of viewport)
[18:39:23] [INFO] [Bullet] Distance-based penetration chance: 21,628403%
[18:39:23] [INFO] [Bullet] Starting wall penetration at (856.79956, 2650.121)
[18:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2273.313, 1188.4912), shooter_id=175355465877, bullet_pos=(45.81668, 3135.2844)
[18:39:23] [INFO] [Bullet] Using shooter_position, distance=2958,3347
[18:39:23] [INFO] [Bullet] Distance to wall: 2958,3347 (201,43845% of viewport)
[18:39:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,130136
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1734.053, 1797.54) (added to group)
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1708.908, 1853.022) (added to group)
[18:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2255.0046, 1039.1973), shooter_id=175355465877, bullet_pos=(1348.9915, 1900.3826)
[18:39:23] [INFO] [Bullet] Using shooter_position, distance=1250
[18:39:23] [INFO] [Bullet] Distance to wall: 1250 (85,1148% of viewport)
[18:39:23] [INFO] [Bullet] Body exited signal received for penetrating body
[18:39:23] [INFO] [Bullet] Exiting penetration at (825.2734, 2684.5286) after traveling 41,666668 pixels through wall
[18:39:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:23] [INFO] [BloodDecal] Blood puddle created at (1731.52, 1852.663) (added to group)
[18:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2261.1614, 1089.1599), shooter_id=175355465877, bullet_pos=(1235.9241, 1669.2408)
[18:39:23] [INFO] [Bullet] Using shooter_position, distance=1177,9667
[18:39:23] [INFO] [Bullet] Distance to wall: 1177,9667 (80,209915% of viewport)
[18:39:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=-5.7°, player=(1574,1766), corner_timer=-0.02
[18:39:23] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:23] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2335.135, 990.051), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=-2.9°, player=(1574,1766), corner_timer=0.30
[18:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2261.1614, 1089.1599), shooter_id=175355465877, bullet_pos=(1351.8389, 1734.3375)
[18:39:23] [INFO] [Bullet] Using shooter_position, distance=1114,9536
[18:39:23] [INFO] [Bullet] Distance to wall: 1114,9536 (75,91925% of viewport)
[18:39:23] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2335.008, 977.5541), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:23] [INFO] [LastChance] Threat detected: @Area2D@1913
[18:39:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:23] [INFO] [ReplayManager] Recording frame 1800 (28,8s): player_valid=True, enemies=10
[18:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2269.6187, 1034.0992), shooter_id=175355465877, bullet_pos=(1343.7661, 1934.7643)
[18:39:23] [INFO] [Bullet] Using shooter_position, distance=1291,6658
[18:39:23] [INFO] [Bullet] Distance to wall: 1291,6658 (87,9519% of viewport)
[18:39:23] [INFO] [Bullet] Distance-based penetration chance: 44,05612%
[18:39:23] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2269.6187, 1034.0992), shooter_id=175355465877, bullet_pos=(1343.7661, 1934.7643)
[18:39:23] [INFO] [Bullet] Using shooter_position, distance=1291,6658
[18:39:23] [INFO] [Bullet] Distance to wall: 1291,6658 (87,9519% of viewport)
[18:39:23] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2352.708, 996.7806), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:23] [INFO] [LastChance] Threat detected: @Area2D@1922
[18:39:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:23] [ENEMY] [GuardEnemy4] FLANKING started: target=(1658.433, 1947.863), side=right, pos=(3367.572, 1928.269)
[18:39:23] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[18:39:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2261.1614, 1089.1599), shooter_id=175355465877, bullet_pos=(1066.2804, 1902.2231)
[18:39:24] [INFO] [Bullet] Using shooter_position, distance=1445,2723
[18:39:24] [INFO] [Bullet] Distance to wall: 1445,2723 (98,411255% of viewport)
[18:39:24] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 89.3°
[18:39:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1574,1766), corner_timer=-0.02
[18:39:24] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:24] [ENEMY] [GuardEnemy5] State: SUPPRESSED -> IN_COVER
[18:39:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1574,1766), corner_timer=0.30
[18:39:24] [ENEMY] [GuardEnemy5] State: IN_COVER -> PURSUING
[18:39:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2261.1614, 1089.1599), shooter_id=175355465877, bullet_pos=(1117.4075, 1934.5005)
[18:39:24] [INFO] [Bullet] Using shooter_position, distance=1422,2426
[18:39:24] [INFO] [Bullet] Distance to wall: 1422,2426 (96,84311% of viewport)
[18:39:24] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2346.858, 978.7532), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:24] [ENEMY] [GuardEnemy5] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-83.6°, current=-106.1°, player=(1574,1766), corner_timer=0.00
[18:39:24] [INFO] [LastChance] Threat detected: @Area2D@1931
[18:39:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2262.3271, 1040.3939), shooter_id=175355465877, bullet_pos=(945.46216, 2654.7495)
[18:39:24] [INFO] [Bullet] Using shooter_position, distance=2083,3333
[18:39:24] [INFO] [Bullet] Distance to wall: 2083,3333 (141,85799% of viewport)
[18:39:24] [INFO] [Bullet] Distance-based penetration chance: 21,628403%
[18:39:24] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2262.3271, 1040.3939), shooter_id=175355465877, bullet_pos=(945.46216, 2654.7495)
[18:39:24] [INFO] [Bullet] Using shooter_position, distance=2083,3333
[18:39:24] [INFO] [Bullet] Distance to wall: 2083,3333 (141,85799% of viewport)
[18:39:24] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2360.853, 991.566), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:24] [INFO] [LastChance] Threat detected: @Area2D@1936
[18:39:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2293.3926, 1043.7931), shooter_id=175355465877, bullet_pos=(1351.8461, 1928.0386)
[18:39:24] [INFO] [Bullet] Using shooter_position, distance=1291,6655
[18:39:24] [INFO] [Bullet] Distance to wall: 1291,6655 (87,95188% of viewport)
[18:39:24] [INFO] [Bullet] Distance-based penetration chance: 44,05614%
[18:39:24] [INFO] [Bullet] Starting wall penetration at (1351.8461, 1928.0386)
[18:39:24] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:39:24] [INFO] [Bullet] Exiting penetration at (1317.829, 1959.9855) after traveling 41,666668 pixels through wall
[18:39:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:24] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2351.8, 975.1265), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:24] [INFO] [LastChance] Threat detected: @Area2D@1940
[18:39:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2261.1614, 1089.1599), shooter_id=175355465877, bullet_pos=(1340.1031, 1807.3613)
[18:39:24] [INFO] [Bullet] Using shooter_position, distance=1167,9733
[18:39:24] [INFO] [Bullet] Distance to wall: 1167,9733 (79,52945% of viewport)
[18:39:24] [INFO] [Bullet] Distance-based penetration chance: 53,882313%
[18:39:24] [INFO] [Bullet] Starting wall penetration at (1340.1031, 1807.3613)
[18:39:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,318337
[18:39:24] [INFO] [Bullet] Body exited signal received for penetrating body
[18:39:24] [INFO] [Bullet] Exiting penetration at (1358.0924, 1797.0911) after traveling 15,714564 pixels through wall
[18:39:24] [INFO] [Bullet] Damage multiplier after penetration: 0,0140625
[18:39:24] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 89.3°
[18:39:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1574,1766), corner_timer=-0.02
[18:39:24] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2280.5498, 1042.8837), shooter_id=175355465877, bullet_pos=(784.35535, 2667.1213)
[18:39:24] [INFO] [Bullet] Using shooter_position, distance=2208,3357
[18:39:24] [INFO] [Bullet] Distance to wall: 2208,3357 (150,36964% of viewport)
[18:39:24] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:24] [INFO] [Player] Spawning blood effect at (1574.4136, 1766.3671), dir=(1, 0), lethal=False (C#)
[18:39:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1574.414, 1766.367), dir=(1, 0), lethal=false
[18:39:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:24] [INFO] [ImpactEffects] Blood effect spawned at (1574.414, 1766.367) (scale=1)
[18:39:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1574,1766), corner_timer=0.30
[18:39:24] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2365.461, 990.152), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:24] [INFO] [LastChance] Threat detected: Bullet
[18:39:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2279.8276, 1031.3483), shooter_id=175355465877, bullet_pos=(778.2424, 2650.6003)
[18:39:24] [INFO] [Bullet] Using shooter_position, distance=2208,3333
[18:39:24] [INFO] [Bullet] Distance to wall: 2208,3333 (150,36948% of viewport)
[18:39:24] [INFO] [Bullet] Distance-based penetration chance: 19,926105%
[18:39:24] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:24] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:24] [INFO] [Player] Spawning blood effect at (1574.4136, 1766.3671), dir=(1, 0), lethal=False (C#)
[18:39:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1574.414, 1766.367), dir=(1, 0), lethal=false
[18:39:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:24] [INFO] [ImpactEffects] Blood effect spawned at (1574.414, 1766.367) (scale=1)
[18:39:24] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:24] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2359.474, 982.5682), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:24] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:24] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:24] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:24] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1660.306, 1809.561) (added to group)
[18:39:24] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2353.866, 983.7994), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1623.229, 1772.748) (added to group)
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1630.602, 1767.829) (added to group)
[18:39:24] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 89.3°
[18:39:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1574,1766), corner_timer=-0.02
[18:39:24] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1670.809, 1808.827) (added to group)
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1669.902, 1814.608) (added to group)
[18:39:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(1574,1766), corner_timer=0.30
[18:39:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2293.7012, 1031.6311), shooter_id=175355465877, bullet_pos=(750.495, 2669.007)
[18:39:24] [INFO] [Bullet] Using shooter_position, distance=2249,9966
[18:39:24] [INFO] [Bullet] Distance to wall: 2249,9966 (153,2064% of viewport)
[18:39:24] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2361.082, 983.9808), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1659.801, 1789.115) (added to group)
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1639.468, 1801.709) (added to group)
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1673.643, 1776.728) (added to group)
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1685.611, 1789.204) (added to group)
[18:39:24] [INFO] [ReplayManager] Recording frame 1860 (29,8s): player_valid=True, enemies=10
[18:39:24] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2368.636, 984.7585), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1657.679, 1836.73) (added to group)
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1677.503, 1789.978) (added to group)
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1686.696, 1810.356) (added to group)
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1650.161, 1841.429) (added to group)
[18:39:24] [INFO] [LastChance] Threat detected: Bullet
[18:39:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1737.026, 1809.917) (added to group)
[18:39:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2322.6733, 1043.0653), shooter_id=175355465877, bullet_pos=(1348.4893, 1891.2211)
[18:39:24] [INFO] [Bullet] Using shooter_position, distance=1291,6666
[18:39:24] [INFO] [Bullet] Distance to wall: 1291,6666 (87,95196% of viewport)
[18:39:24] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:24] [INFO] [BloodDecal] Blood puddle created at (1741.008, 1913.495) (added to group)
[18:39:24] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:24] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2357.826, 980.6802), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1729.071, 1796.679) (added to group)
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1709.718, 1877.704) (added to group)
[18:39:25] [INFO] [LastChance] Threat detected: @Area2D@1959
[18:39:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 89.3°
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2318.1711, 1044.5652), shooter_id=175355465877, bullet_pos=(876.6897, 2662.1511)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=2166,6687
[18:39:25] [INFO] [Bullet] Distance to wall: 2166,6687 (147,53247% of viewport)
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2317.1458, 1035.8501), shooter_id=175355465877, bullet_pos=(1343.052, 1946.2993)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1333,3328
[18:39:25] [INFO] [Bullet] Distance to wall: 1333,3328 (90,78908% of viewport)
[18:39:25] [INFO] [Bullet] Distance-based penetration chance: 40,746075%
[18:39:25] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2317.1458, 1035.8501), shooter_id=175355465877, bullet_pos=(1343.052, 1946.2993)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1333,3328
[18:39:25] [INFO] [Bullet] Distance to wall: 1333,3328 (90,78908% of viewport)
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1712.555, 1856.553) (added to group)
[18:39:25] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2352.443, 981.9242), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[18:39:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=1
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1671.87, 1843.772) (added to group)
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2309.9875, 1028.8137), shooter_id=175355465877, bullet_pos=(891.9162, 2666.9622)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=2166,6694
[18:39:25] [INFO] [Bullet] Distance to wall: 2166,6694 (147,53252% of viewport)
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1699.913, 1836.766) (added to group)
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2311.6873, 1037.1995), shooter_id=175355465877, bullet_pos=(1336.156, 1946.1096)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1333,3337
[18:39:25] [INFO] [Bullet] Distance to wall: 1333,3337 (90,789154% of viewport)
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2311.6873, 1037.1995), shooter_id=175355465877, bullet_pos=(1339.346, 1949.9598)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1333,6338
[18:39:25] [INFO] [Bullet] Distance to wall: 1333,6338 (90,80958% of viewport)
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2318.6511, 1037.181), shooter_id=175355465877, bullet_pos=(1292.8185, 1952.7659)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1375,0012
[18:39:25] [INFO] [Bullet] Distance to wall: 1375,0012 (93,626366% of viewport)
[18:39:25] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 89.2°
[18:39:25] [INFO] [LastChance] Threat detected: @Area2D@1981
[18:39:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2325.926, 1037.7343), shooter_id=175355465877, bullet_pos=(1347.0496, 1880.4673)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1291,6648
[18:39:25] [INFO] [Bullet] Distance to wall: 1291,6648 (87,951836% of viewport)
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:25] [INFO] [Player] Spawning blood effect at (1574.4136, 1766.3671), dir=(1, 0), lethal=False (C#)
[18:39:25] [INFO] [ImpactEffects] spawn_blood_effect called at (1574.414, 1766.367), dir=(1, 0), lethal=false
[18:39:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:25] [INFO] [ImpactEffects] Blood effect spawned at (1574.414, 1766.367) (scale=1)
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2318.6511, 1037.181), shooter_id=175355465877, bullet_pos=(1068.0808, 1719.7273)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1424,7089
[18:39:25] [INFO] [Bullet] Distance to wall: 1424,7089 (97,01105% of viewport)
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2318.6511, 1037.181), shooter_id=175355465877, bullet_pos=(1138.8151, 1655.8435)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1332,1998
[18:39:25] [INFO] [Bullet] Distance to wall: 1332,1998 (90,71194% of viewport)
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:25] [ENEMY] [GuardEnemy5] Warning: No valid flank position (both sides behind walls)
[18:39:25] [ENEMY] [GuardEnemy5] FLANKING started: target=(1735.468, 1884.948), side=left, pos=(1327.386, 3981.462)
[18:39:25] [ENEMY] [GuardEnemy5] State: PURSUING -> FLANKING
[18:39:25] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 167.8°
[18:39:25] [ENEMY] [GuardEnemy5] Hit: dmg=50, hp=2/2->-48/2
[18:39:25] [INFO] [ImpactEffects] spawn_blood_effect called at (1326.26, 3976.249), dir=(1, 0), lethal=true
[18:39:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:25] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:39:25] [INFO] [ImpactEffects] Blood effect spawned at (1326.26, 3976.249) (scale=1.5)
[18:39:25] [ENEMY] [GuardEnemy5] Enemy died (ricochet: false, penetration: false)
[18:39:25] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:39:25] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy5 (remaining: 6)
[18:39:25] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:39:25] [ENEMY] [GuardEnemy5] Death animation started with hit direction: (1, 0)
[18:39:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1574.414, 1766.367), source=PLAYER (SniperRifle), range=3000, listeners=6
[18:39:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2310.377, 1035.4132), shooter_id=175355465877, bullet_pos=(1339.7827, 1912.7312)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1308,3348
[18:39:25] [INFO] [Bullet] Distance to wall: 1308,3348 (89,08693% of viewport)
[18:39:25] [INFO] [Bullet] Distance-based penetration chance: 42,731922%
[18:39:25] [INFO] [Bullet] Starting wall penetration at (1339.7827, 1912.7312)
[18:39:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,538336
[18:39:25] [INFO] [Bullet] Body exited signal received for penetrating body
[18:39:25] [INFO] [Bullet] Exiting penetration at (1311.345, 1938.436) after traveling 33,333336 pixels through wall
[18:39:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2310.377, 1035.4132), shooter_id=175355465877, bullet_pos=(1311.345, 1938.436)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1346,6682
[18:39:25] [INFO] [Bullet] Distance to wall: 1346,6682 (91,69711% of viewport)
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2318.6511, 1037.181), shooter_id=175355465877, bullet_pos=(1330.8356, 1791.8314)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1243,0916
[18:39:25] [INFO] [Bullet] Distance to wall: 1243,0916 (84,644394% of viewport)
[18:39:25] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 111.9°
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1667.893, 1807.811) (added to group)
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1645.479, 1761.844) (added to group)
[18:39:25] [INFO] [ReplayManager] Recording frame 1920 (30,8s): player_valid=True, enemies=10
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1668.327, 1834.005) (added to group)
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1402.901, 3952.492) (added to group)
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1413.744, 3981.717) (added to group)
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1379.905, 4023.656) (added to group)
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2318.6511, 1037.181), shooter_id=175355465877, bullet_pos=(1086.5929, 1935.5764)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1524,8219
[18:39:25] [INFO] [Bullet] Distance to wall: 1524,8219 (103,82793% of viewport)
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1727.512, 1834.553) (added to group)
[18:39:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2318.6511, 1037.181), shooter_id=175355465877, bullet_pos=(1058.6769, 1915.1683)
[18:39:25] [INFO] [Bullet] Using shooter_position, distance=1535,7073
[18:39:25] [INFO] [Bullet] Distance to wall: 1535,7073 (104,56914% of viewport)
[18:39:25] [INFO] [BloodDecal] Blood puddle created at (1379.799, 4019.271) (added to group)
[18:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1706.405, 1858.021) (added to group)
[18:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1413.025, 3993.373) (added to group)
[18:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:26] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-129.6°, current=-129.7°, player=(1574,1766), corner_timer=0.00
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1659.808, 1870.55) (added to group)
[18:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:26] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 111.3°
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1462.599, 4003.368) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1723.37, 1849.16) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1688.62, 1847.642) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1768.66, 1805.139) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1426.099, 3995.953) (added to group)
[18:39:26] [ENEMY] [GuardEnemy5] Ragdoll activated
[18:39:26] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1755.032, 1883.381) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1401.807, 4050.789) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1407.114, 4024.728) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1476.282, 4049.648) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1445.023, 4043.39) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1407.88, 4062.816) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1409.592, 4044.415) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1506.406, 4078.207) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1408.798, 4084.843) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1416.727, 4055.483) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1424.739, 4055.434) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1475.161, 4030.891) (added to group)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1452.401, 4041.42) (added to group)
[18:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2318.6511, 1037.181), shooter_id=175355465877, bullet_pos=(1330.3168, 1683.5114)
[18:39:26] [INFO] [Bullet] Using shooter_position, distance=1180,9097
[18:39:26] [INFO] [Bullet] Distance to wall: 1180,9097 (80,41032% of viewport)
[18:39:26] [INFO] [BloodDecal] Blood puddle created at (1474.504, 4011.367) (added to group)
[18:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2318.6511, 1037.181), shooter_id=175355465877, bullet_pos=(1310.074, 1666.6086)
[18:39:26] [INFO] [Bullet] Using shooter_position, distance=1188,8679
[18:39:26] [INFO] [Bullet] Distance to wall: 1188,8679 (80,9522% of viewport)
[18:39:26] [INFO] [Bullet] Distance-based penetration chance: 52,22243%
[18:39:26] [INFO] [Bullet] Starting wall penetration at (1310.074, 1666.6086)
[18:39:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:39:26] [INFO] [Bullet] Exiting penetration at (1298.0336, 1656.5549) after traveling 10,6859045 pixels through wall
[18:39:26] [INFO] [Bullet] Damage multiplier after penetration: 0,00703125
[18:39:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1574,1756), corner_timer=-0.01
[18:39:26] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.3°, player=(1574,1754), corner_timer=0.30
[18:39:26] [INFO] [ReplayManager] Recording frame 1980 (31,6s): player_valid=True, enemies=10
[18:39:27] [ENEMY] [GuardEnemy2] State: RETREATING -> IN_COVER
[18:39:27] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1574,1664), corner_timer=-0.01
[18:39:27] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.3°, player=(1574,1660), corner_timer=0.30
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [ENEMY] [GuardEnemy5] Death animation completed
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1619,1604), corner_timer=-0.01
[18:39:27] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.3°, player=(1623,1603), corner_timer=0.30
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [ReplayManager] Recording frame 2040 (32,4s): player_valid=True, enemies=10
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> IN_COVER
[18:39:27] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[18:39:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1723,1602), corner_timer=-0.01
[18:39:27] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.3°, player=(1728,1602), corner_timer=0.30
[18:39:27] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:27] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[18:39:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:28] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> IN_COVER
[18:39:28] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[18:39:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:28] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> SEEKING_COVER
[18:39:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:28] [ENEMY] [GuardEnemy2] State: SEEKING_COVER -> IN_COVER
[18:39:28] [ENEMY] [GuardEnemy2] State: IN_COVER -> PURSUING
[18:39:28] [ENEMY] [GuardEnemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=130.5°, current=-69.9°, player=(1789,1602), corner_timer=0.00
[18:39:28] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(1829,1602), corner_timer=-0.01
[18:39:28] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.0°
[18:39:28] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.3°, player=(1833,1602), corner_timer=0.30
[18:39:28] [INFO] [ReplayManager] Recording frame 2100 (33,2s): player_valid=True, enemies=10
[18:39:28] [ENEMY] [GuardEnemy4] FLANKING stuck (2.0s), pos=(2740.004, 1859.999), fail=1
[18:39:28] [ENEMY] [GuardEnemy4] State: FLANKING -> PURSUING
[18:39:28] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:39:28] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[18:39:29] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=119.7°, current=168.1°, player=(2023,1602), corner_timer=0.00
[18:39:29] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2498.158, 771.9316), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:39:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:29] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:39:29] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2489.426, 796.6), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:39:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2464.666, 859.984), shooter_id=175355465877, bullet_pos=(2426.192, 933.90405)
[18:39:29] [INFO] [Bullet] Using shooter_position, distance=83,33325
[18:39:29] [INFO] [Bullet] Distance to wall: 83,33325 (5,6743145% of viewport)
[18:39:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:29] [INFO] [Bullet] Starting wall penetration at (2426.192, 933.90405)
[18:39:29] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:39:29] [INFO] [Bullet] Exiting penetration at (2404.6465, 975.29926) after traveling 41,666668 pixels through wall
[18:39:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:39:29] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=34.3°, current=115.1°, player=(2122,1602), corner_timer=0.00
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [ENEMY] [GuardEnemy2] State: RETREATING -> IN_COVER
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[18:39:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2471.4097, 834.50256), shooter_id=175355465877, bullet_pos=(1991.5935, 1664.0688)
[18:39:29] [INFO] [Bullet] Using shooter_position, distance=958,33386
[18:39:29] [INFO] [Bullet] Distance to wall: 958,33386 (65,254715% of viewport)
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [ReplayManager] Recording frame 2160 (34,2s): player_valid=True, enemies=10
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:39:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=134.2°, player=(2402,1674), corner_timer=-0.01
[18:39:30] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=137.0°, player=(2404,1679), corner_timer=0.30
[18:39:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(2410,1781), corner_timer=-0.02
[18:39:30] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(2410,1787), corner_timer=0.30
[18:39:30] [INFO] [ReplayManager] Recording frame 2220 (35,2s): player_valid=True, enemies=10
[18:39:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(2410,1891), corner_timer=-0.02
[18:39:30] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:30] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(2410,1896), corner_timer=0.30
[18:39:31] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[18:39:31] [INFO] [ScoreManager] Combo ended at 1. Max combo: 2
[18:39:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(2377,1948), corner_timer=-0.02
[18:39:31] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(2373,1948), corner_timer=0.30
[18:39:31] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[18:39:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(2278,1951), corner_timer=-0.02
[18:39:31] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(2273,1951), corner_timer=0.30
[18:39:31] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> IN_COVER
[18:39:31] [ENEMY] [GuardEnemy2] State: IN_COVER -> PURSUING
[18:39:31] [ENEMY] [GuardEnemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=102.9°, current=97.5°, player=(2242,1951), corner_timer=0.00
[18:39:31] [INFO] [ReplayManager] Recording frame 2280 (36,2s): player_valid=True, enemies=10
[18:39:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(2221,1951), corner_timer=-0.02
[18:39:31] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:31] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(2221,1951), corner_timer=0.30
[18:39:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(2221,1951), corner_timer=-0.02
[18:39:32] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[18:39:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(2221,1951), corner_timer=0.30
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-148.1°, current=180.0°, player=(2221,1951), corner_timer=0.15
[18:39:32] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:32] [INFO] [ReplayManager] Recording frame 2340 (37,2s): player_valid=True, enemies=10
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:32] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2225.359, 1387.591)
[18:39:33] [ENEMY] [GuardEnemy2] PURSUING corner check: angle -125.2°
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2222.615, 1391.471)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2219.891, 1395.329)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2217.189, 1399.162)
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2214.51, 1402.97)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2211.854, 1406.753)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2209.495, 1408.994)
[18:39:33] [INFO] [EnemyGrenade] Throw path blocked to (2207.165, 1411.23)
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=101.5°, current=131.3°, player=(2221,1951), corner_timer=0.15
[18:39:33] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2441.057, 871.4846), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:39:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2435.2356, 939.28357), shooter_id=175355465877, bullet_pos=(2435.2356, 939.28357)
[18:39:33] [INFO] [Bullet] Using shooter_position, distance=0
[18:39:33] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:39:33] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:39:33] [INFO] [Bullet] Starting wall penetration at (2435.2356, 939.28357)
[18:39:33] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:39:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,715336
[18:39:33] [INFO] [Bullet] Body exited signal received for penetrating body
[18:39:33] [INFO] [Bullet] Exiting penetration at (2425.6226, 984.9494) after traveling 41,666668 pixels through wall
[18:39:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2425.452, 899.3605), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:39:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:39:33] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2407.013, 924.6819), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:39:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2392.918, 926.6431), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:39:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:33] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:39:33] [INFO] [GrenadeBase] Grenade created at (2379.016, 963.7471) (frozen)
[18:39:33] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:39:33] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[18:39:33] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[18:39:33] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[18:39:33] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:39:33] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[18:39:33] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.343677, 0.939088), Speed: 1044.5 (unfrozen)
[18:39:33] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[18:39:33] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[18:39:33] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[18:39:33] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (2204.865, 1413.46), Distance: 522
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [ReplayManager] Recording frame 2400 (38,2s): player_valid=True, enemies=10
[18:39:33] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2391.912, 924.0415), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:39:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [LastChance] Threat detected: Bullet
[18:39:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:33] [INFO] [Player] Spawning blood effect at (2221.4602, 1951.8566), dir=(1, 0), lethal=False (C#)
[18:39:33] [INFO] [ImpactEffects] spawn_blood_effect called at (2221.46, 1951.857), dir=(1, 0), lethal=false
[18:39:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:33] [INFO] [ImpactEffects] Blood effect spawned at (2221.46, 1951.857) (scale=1)
[18:39:33] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [LastChance] Threat detected: @Area2D@2068
[18:39:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:33] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2390.98, 922.2065), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:39:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:34] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:34] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:34] [INFO] [LastChance] Threat detected: @Area2D@2070
[18:39:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:34] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2390.161, 920.8578), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:39:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:34] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:34] [INFO] [Player] Spawning blood effect at (2221.4602, 1951.8566), dir=(1, 0), lethal=False (C#)
[18:39:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2221.46, 1951.857), dir=(1, 0), lethal=false
[18:39:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:34] [INFO] [ImpactEffects] Blood effect spawned at (2221.46, 1951.857) (scale=1)
[18:39:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2402.6714, 992.5918), shooter_id=175355465877, bullet_pos=(2168.6714, 2305.2324)
[18:39:34] [INFO] [Bullet] Using shooter_position, distance=1333,3347
[18:39:34] [INFO] [Bullet] Distance to wall: 1333,3347 (90,789215% of viewport)
[18:39:34] [INFO] [Bullet] Distance-based penetration chance: 40,74592%
[18:39:34] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2263.75, 1981.907) (added to group)
[18:39:34] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:34] [INFO] [LastChance] Threat detected: @Area2D@2072
[18:39:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:34] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2389.447, 919.8221), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:39:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2301.107, 1961.748) (added to group)
[18:39:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:34] [INFO] [Player] Spawning blood effect at (2221.4602, 1951.8566), dir=(1, 0), lethal=False (C#)
[18:39:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2221.46, 1951.857), dir=(1, 0), lethal=false
[18:39:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:34] [INFO] [ImpactEffects] Blood effect spawned at (2221.46, 1951.857) (scale=1)
[18:39:34] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:34] [INFO] [LastChance] Threat detected: Bullet
[18:39:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:34] [ENEMY] [GuardEnemy2] Player distracted - priority attack triggered
[18:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2386.535, 916.487), source=ENEMY (GuardEnemy2), range=1469, listeners=6
[18:39:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:34] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2320.55, 1954.642) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2373.198, 2023.878) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2260.454, 1973.081) (added to group)
[18:39:34] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-125.2°, current=98.4°, player=(2221,1951), corner_timer=0.15
[18:39:34] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2289.313, 1942.117) (added to group)
[18:39:34] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-148.2°, current=-148.2°, player=(2221,1951), corner_timer=0.15
[18:39:34] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2314.751, 1967.476) (added to group)
[18:39:34] [INFO] [LastChance] Threat detected: @Area2D@2074
[18:39:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2281.347, 1989.119) (added to group)
[18:39:34] [ENEMY] [GuardEnemy2] State: RETREATING -> IN_COVER
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2297.438, 1979.155) (added to group)
[18:39:34] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2328.5, 2048.847) (added to group)
[18:39:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2387.6946, 990.1756), shooter_id=175355465877, bullet_pos=(2177.1008, 2306.7725)
[18:39:34] [INFO] [Bullet] Using shooter_position, distance=1333,3331
[18:39:34] [INFO] [Bullet] Distance to wall: 1333,3331 (90,78911% of viewport)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2323.811, 2033.498) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2266.702, 1976.303) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2300.485, 1929.497) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2417.109, 1999.278) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2318.499, 1951.745) (added to group)
[18:39:34] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[18:39:34] [INFO] [FragGrenade] Impact detected! Body: WallTop (type: StaticBody2D), triggering explosion
[18:39:34] [INFO] [FragGrenade] Impact detected - exploding immediately!
[18:39:34] [INFO] [GrenadeBase] EXPLODED at (2129.156, 1640.06)!
[18:39:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2129.156, 1640.06), source=NEUTRAL (FragGrenade), range=2937, listeners=6
[18:39:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[18:39:34] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -10.6 degrees
[18:39:34] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 94.9 degrees
[18:39:34] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 161.5 degrees
[18:39:34] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 282.7 degrees
[18:39:34] [INFO] [ImpactEffects] Spawning explosion visual effect at (2129.156, 1640.06) (radius=225) - using shadow-based wall occlusion
[18:39:34] [INFO] [GrenadeTimer] Impact detected with WallTop - EXPLODING!
[18:39:34] [INFO] [GrenadeTimer] EXPLODED at (2129.1558, 1640.0598)!
[18:39:34] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[18:39:34] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[18:39:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2129.156, 1640.06), source=NEUTRAL (FragGrenade), range=2938, listeners=6
[18:39:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[18:39:34] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (2129.1558, 1640.0598) (shadow-based wall occlusion)
[18:39:34] [INFO] [LastChance] Threat detected: @Area2D@2079
[18:39:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2310.168, 1971.292) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2351.542, 2042.082) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2311.635, 1968.109) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2325.195, 2004.832) (added to group)
[18:39:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:34] [INFO] [Player] Spawning blood effect at (2221.4602, 1951.8566), dir=(0.29340672, 0.9559877), lethal=False (C#)
[18:39:34] [INFO] [ImpactEffects] spawn_blood_effect called at (2221.46, 1951.857), dir=(0.293407, 0.955988), lethal=false
[18:39:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:34] [INFO] [ImpactEffects] Blood effect spawned at (2221.46, 1951.857) (scale=1)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2364.071, 2079.664) (added to group)
[18:39:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2386.9426, 988.8302), shooter_id=175355465877, bullet_pos=(2184.591, 2306.7207)
[18:39:34] [INFO] [Bullet] Using shooter_position, distance=1333,3347
[18:39:34] [INFO] [Bullet] Distance to wall: 1333,3347 (90,789215% of viewport)
[18:39:34] [INFO] [Bullet] Distance-based penetration chance: 40,74592%
[18:39:34] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:34] [INFO] [LastChance] Threat detected: @Area2D@2083
[18:39:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2298.46, 2047.516) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2323.366, 2020.632) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2364.573, 2102.566) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2391.85, 2068.747) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2395.073, 2001.002) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2346.695, 1996.696) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2406.743, 2004.472) (added to group)
[18:39:34] [INFO] [ReplayManager] Recording frame 2460 (39,2s): player_valid=True, enemies=10
[18:39:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2383.5942, 984.4719), shooter_id=175355465877, bullet_pos=(2215.438, 2307.1594)
[18:39:34] [INFO] [Bullet] Using shooter_position, distance=1333,3337
[18:39:34] [INFO] [Bullet] Distance to wall: 1333,3337 (90,789154% of viewport)
[18:39:34] [INFO] [Bullet] Distance-based penetration chance: 40,74599%
[18:39:34] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2250.41, 2011.832) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2400.88, 1973.679) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2369.48, 2034.818) (added to group)
[18:39:34] [INFO] [BloodDecal] Blood puddle created at (2426.359, 2131.102) (added to group)
[18:39:35] [INFO] [BloodDecal] Blood puddle created at (2209.676, 2087.25) (added to group)
[18:39:35] [INFO] [BloodDecal] Blood puddle created at (2218.807, 2120.527) (added to group)
[18:39:35] [ENEMY] [GuardEnemy4] Warning: No valid flank position (both sides behind walls)
[18:39:35] [ENEMY] [GuardEnemy4] FLANKING started: target=(2350.155, 2104.95), side=right, pos=(2740.067, 1859.934)
[18:39:35] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[18:39:35] [INFO] [BloodDecal] Blood puddle created at (2286.031, 2094.328) (added to group)
[18:39:35] [INFO] [BloodDecal] Blood puddle created at (2270.979, 2102.047) (added to group)
[18:39:35] [INFO] [BloodDecal] Blood puddle created at (2255.886, 2093.873) (added to group)
[18:39:35] [INFO] [BloodDecal] Blood puddle created at (2245.149, 2142.431) (added to group)
[18:39:35] [INFO] [BloodDecal] Blood puddle created at (2331.459, 2177.831) (added to group)
[18:39:35] [INFO] [BloodDecal] Blood puddle created at (2189.35, 2243.051) (added to group)
[18:39:35] [INFO] [BloodDecal] Blood puddle created at (2285.696, 2134.437) (added to group)
[18:39:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2386.2852, 987.79706), shooter_id=175355465877, bullet_pos=(1890.5967, 3650.3848)
[18:39:35] [INFO] [Bullet] Using shooter_position, distance=2708,3352
[18:39:35] [INFO] [Bullet] Distance to wall: 2708,3352 (184,41553% of viewport)
[18:39:35] [INFO] [ReplayManager] Recording frame 2520 (40,2s): player_valid=True, enemies=10
[18:39:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2221.46, 1951.857), source=PLAYER (SniperRifle), range=3000, listeners=6
[18:39:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[18:39:35] [ENEMY] [PatrolEnemy2] FLANKING started: target=(2215.2, 2151.759), side=right, pos=(3451.512, 2714.335)
[18:39:35] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[18:39:36] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -65.5°
[18:39:36] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-148.3°, current=-126.6°, player=(2221,1951), corner_timer=0.05
[18:39:36] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.239, 2663.57), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:36] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[18:39:36] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.118, 2655.196), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:36] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.118, 2652.168), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:36] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3374.117, 2649.181), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:36] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3373.831, 2646.237), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:36] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3373.201, 2643.386), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:36] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3372.259, 2640.699), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:36] [INFO] [ReplayManager] Recording frame 2580 (41,2s): player_valid=True, enemies=10
[18:39:36] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3371.061, 2638.244), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:36] [INFO] [LastChance] Threat detected: Bullet9mm
[18:39:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:36] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:36] [INFO] [Player] Spawning blood effect at (2221.4602, 1951.8566), dir=(1, 0), lethal=False (C#)
[18:39:36] [INFO] [ImpactEffects] spawn_blood_effect called at (2221.46, 1951.857), dir=(1, 0), lethal=false
[18:39:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:36] [INFO] [ImpactEffects] Blood effect spawned at (2221.46, 1951.857) (scale=1)
[18:39:36] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3369.663, 2636.039), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3312.241, 2620.864), shooter_id=176764752105, bullet_pos=(2706.626, 1878.143)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=958.333312988281
[18:39:37] [INFO] [Bullet] Distance to wall: 958.333312988281 (65.2546775009461% of viewport)
[18:39:37] [INFO] [Bullet] Distance-based penetration chance: 70.5362095822296%
[18:39:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3368.13, 2634.104), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3311.905, 2618.029), shooter_id=176764752105, bullet_pos=(2705.774, 1875.728)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=958.334167480469
[18:39:37] [INFO] [Bullet] Distance to wall: 958.334167480469 (65.2547356848904% of viewport)
[18:39:37] [INFO] [Bullet] Distance-based penetration chance: 70.5361417009612%
[18:39:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3363.82, 2629.84), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [ENEMY] [GuardEnemy4] FLANKING stuck (2.0s), pos=(2740.067, 1859.934), fail=1
[18:39:37] [ENEMY] [GuardEnemy4] State: FLANKING -> PURSUING
[18:39:37] [ENEMY] [GuardEnemy4] State: PURSUING -> COMBAT
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3343.919, 2624.7), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [ENEMY] [GuardEnemy4] State: COMBAT -> RETREATING
[18:39:37] [ENEMY] [GuardEnemy4] State: RETREATING -> IN_COVER
[18:39:37] [ENEMY] [GuardEnemy4] State: IN_COVER -> SUPPRESSED
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3323.008, 2625.876), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [BloodDecal] Blood puddle created at (2300.106, 1964.283) (added to group)
[18:39:37] [INFO] [BloodDecal] Blood puddle created at (2268.237, 1992.763) (added to group)
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3302.441, 2625.934), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [BloodDecal] Blood puddle created at (2276.744, 1953.228) (added to group)
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3261.275, 2597.247), shooter_id=176764752105, bullet_pos=(3104.34, 2653.363)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=166.666717529297
[18:39:37] [INFO] [Bullet] Distance to wall: 166.666717529297 (11.3486432696393% of viewport)
[18:39:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:37] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> IN_COVER
[18:39:37] [ENEMY] [GuardEnemy2] State: IN_COVER -> PURSUING
[18:39:37] [ENEMY] [GuardEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=97.2°, current=-125.2°, player=(2221,1951), corner_timer=0.15
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3281.871, 2625.934), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [BloodDecal] Blood puddle created at (2291.525, 1964.25) (added to group)
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3307.598, 2608.136), shooter_id=176764752105, bullet_pos=(2720.167, 1697.895)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=1083.33483886719
[18:39:37] [INFO] [Bullet] Distance to wall: 1083.33483886719 (73.7662612555786% of viewport)
[18:39:37] [INFO] [Bullet] Distance-based penetration chance: 60.6060285351583%
[18:39:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:37] [INFO] [BloodDecal] Blood puddle created at (2365.29, 2017.22) (added to group)
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3311.23, 2615.276), shooter_id=176764752105, bullet_pos=(1991.409, 1667.286)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=1624.99572753906
[18:39:37] [INFO] [Bullet] Distance to wall: 1624.99572753906 (110.648947191793% of viewport)
[18:39:37] [INFO] [Bullet] Distance-based penetration chance: 27.8702105616413%
[18:39:37] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3265.441, 2621.659), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3220.637, 2596.251), shooter_id=176764752105, bullet_pos=(3064.446, 2654.406)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=166.666366577148
[18:39:37] [INFO] [Bullet] Distance to wall: 166.666366577148 (11.3486193726621% of viewport)
[18:39:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3220.637, 2596.251), shooter_id=176764752105, bullet_pos=(3064.446, 2654.406)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=166.666366577148
[18:39:37] [INFO] [Bullet] Distance to wall: 166.666366577148 (11.3486193726621% of viewport)
[18:39:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3281.927, 2596.634), shooter_id=176764752105, bullet_pos=(2537.006, 2683.764)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=749.999694824219
[18:39:37] [INFO] [Bullet] Distance to wall: 749.999694824219 (51.0688583484114% of viewport)
[18:39:37] [INFO] [Bullet] Distance-based penetration chance: 87.0863319268533%
[18:39:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:37] [ENEMY] [GuardEnemy4] Hit: dmg=1, hp=3/3->2/3
[18:39:37] [INFO] [ImpactEffects] spawn_blood_effect called at (2740.067, 1859.934), dir=(-0.584354, -0.811499), lethal=false
[18:39:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:37] [INFO] [ImpactEffects] Wall found for blood splatter at (2716, 1826.512) (dist=41 px)
[18:39:37] [INFO] [BloodDecal] Blood puddle created at (2717, 1826.512) (added to group)
[18:39:37] [INFO] [ImpactEffects] Blood effect spawned at (2740.067, 1859.934) (scale=0.5)
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3252.219, 2612.681), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [BloodDecal] Blood puddle created at (2296.285, 1981.597) (added to group)
[18:39:37] [INFO] [BloodDecal] Blood puddle created at (2397.623, 2065.945) (added to group)
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3231.011, 2612.029), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [BloodDecal] Blood puddle created at (2428.535, 1999.387) (added to group)
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3209.771, 2611.786), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [BloodDecal] Blood puddle created at (2444.995, 2025.611) (added to group)
[18:39:37] [INFO] [BloodDecal] Blood puddle created at (2435.996, 2044.073) (added to group)
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3188.463, 2612.81), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3170.944, 2608.591), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3310.25, 2612.673), shooter_id=176764752105, bullet_pos=(1132.898, 1664.113)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=2375.00122070313
[18:39:37] [INFO] [Bullet] Distance to wall: 2375.00122070313 (161.718200359827% of viewport)
[18:39:37] [INFO] [Bullet] Distance-based penetration chance: 17.6563599280346%
[18:39:37] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3153.454, 2602.175), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3191.1, 2582.763), shooter_id=176764752105, bullet_pos=(2440.7, 2945.18)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=833.334777832031
[18:39:37] [INFO] [Bullet] Distance to wall: 833.334777832031 (56.7432973901187% of viewport)
[18:39:37] [INFO] [Bullet] Distance-based penetration chance: 80.4661530448615%
[18:39:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:37] [INFO] [ReplayManager] Recording frame 2640 (42,2s): player_valid=True, enemies=10
[18:39:37] [INFO] [BloodDecal] Blood puddle created at (2721.034, 1838.159) (added to group)
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3138.801, 2589.219), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3312.295, 2623.734), shooter_id=176764752105, bullet_pos=(50.32304, 1757.615)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=3374.99951171875
[18:39:37] [INFO] [Bullet] Distance to wall: 3374.99951171875 (229.809922829794% of viewport)
[18:39:37] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:37] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3170.165, 2581.559), shooter_id=176764752105, bullet_pos=(2899.075, 1705.894)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=916.667785644531
[18:39:37] [INFO] [Bullet] Distance to wall: 916.667785644531 (62.4175951279612% of viewport)
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3170.165, 2581.559), shooter_id=176764752105, bullet_pos=(2901.19, 1701.363)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=920.376403808594
[18:39:37] [INFO] [Bullet] Distance to wall: 920.376403808594 (62.6701217582997% of viewport)
[18:39:37] [INFO] [Bullet] Distance-based penetration chance: 73.551524615317%
[18:39:37] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3204.333, 2591.72), shooter_id=176764752105, bullet_pos=(2992.918, 1317.474)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=1291.666015625
[18:39:37] [INFO] [Bullet] Distance to wall: 1291.666015625 (87.9519141682723% of viewport)
[18:39:37] [INFO] [Bullet] Distance-based penetration chance: 44.0561001370156%
[18:39:37] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:37] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3121.281, 2577.047), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3149.221, 2580.733), shooter_id=176764752105, bullet_pos=(2898.996, 1785.854)
[18:39:37] [INFO] [Bullet] Using shooter_position, distance=833.33349609375
[18:39:37] [INFO] [Bullet] Distance to wall: 833.33349609375 (56.7432101142022% of viewport)
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3128.252, 2581.103), shooter_id=176764752105, bullet_pos=(2736.911, 1892.924)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=791.668029785156
[18:39:38] [INFO] [Bullet] Distance to wall: 791.668029785156 (53.9061318972134% of viewport)
[18:39:38] [INFO] [Bullet] Distance-based penetration chance: 83.7761794532511%
[18:39:38] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:38] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3103.762, 2564.874), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3312.349, 2626.643), shooter_id=176764752105, bullet_pos=(302.4312, 55.88879)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=3958.3310546875
[18:39:38] [INFO] [Bullet] Distance to wall: 3958.3310546875 (269.530040242659% of viewport)
[18:39:38] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:38] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:38] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3086.242, 2552.701), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:38] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3068.723, 2540.528), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3240.952, 2596.783), shooter_id=176764752105, bullet_pos=(949.9796, 2653.3)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=2291.66967773438
[18:39:38] [INFO] [Bullet] Distance to wall: 2291.66967773438 (156.044002365889% of viewport)
[18:39:38] [INFO] [Bullet] Distance-based penetration chance: 18.7911995268222%
[18:39:38] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3240.952, 2596.783), shooter_id=176764752105, bullet_pos=(949.9796, 2653.3)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=2291.66967773438
[18:39:38] [INFO] [Bullet] Distance to wall: 2291.66967773438 (156.044002365889% of viewport)
[18:39:38] [INFO] [Bullet] Distance-based penetration chance: 18.7911995268222%
[18:39:38] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:38] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3051.203, 2528.355), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3309.021, 2610.287), shooter_id=176764752105, bullet_pos=(34.93972, 1984.565)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=3333.33642578125
[18:39:38] [INFO] [Bullet] Distance to wall: 3333.33642578125 (226.97300669665% of viewport)
[18:39:38] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:38] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:38] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3033.684, 2516.182), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3306.047, 2606.242), shooter_id=176764752105, bullet_pos=(59.98317, 2446.319)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=3250.00122070313
[18:39:38] [INFO] [Bullet] Distance to wall: 3250.00122070313 (221.298559342951% of viewport)
[18:39:38] [INFO] [Bullet] Distance-based penetration chance: 5.74028813140989%
[18:39:38] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:38] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3016.164, 2504.01), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:38] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2998.645, 2491.837), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3149.221, 2580.733), shooter_id=176764752105, bullet_pos=(2976.245, 1303.671)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=1288.72399902344
[18:39:38] [INFO] [Bullet] Distance to wall: 1288.72399902344 (87.7515868479804% of viewport)
[18:39:38] [INFO] [Bullet] Distance-based penetration chance: 44.2898153440228%
[18:39:38] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:38] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2981.125, 2479.664), source=ENEMY (PatrolEnemy2), range=1200, listeners=6
[18:39:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=1
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3026.276, 2520.535), shooter_id=176764752105, bullet_pos=(1967.479, 1938.277)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=1208.33569335938
[18:39:38] [INFO] [Bullet] Distance to wall: 1208.33569335938 (82.2777992942548% of viewport)
[18:39:38] [INFO] [Bullet] Distance-based penetration chance: 50.6759008233694%
[18:39:38] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3093.553, 2569.888), shooter_id=176764752105, bullet_pos=(1721.233, 947.4344)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=2124.99853515625
[18:39:38] [INFO] [Bullet] Distance to wall: 2124.99853515625 (144.695057786538% of viewport)
[18:39:38] [INFO] [Bullet] Distance-based penetration chance: 21.0609884426924%
[18:39:38] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2921.159, 2447.498), shooter_id=176764752105, bullet_pos=(2897.008, 1864.665)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=583.332824707031
[18:39:38] [INFO] [Bullet] Distance to wall: 583.332824707031 (39.7202046887821% of viewport)
[18:39:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:38] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:38] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[18:39:38] [ENEMY] [GuardEnemy2] FLANKING started: target=(2062.184, 1830.897), side=left, pos=(2354.454, 901.1909)
[18:39:38] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[18:39:38] [INFO] [ReplayManager] Recording frame 2700 (43,2s): player_valid=True, enemies=10
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2938.678, 2459.671), shooter_id=176764752105, bullet_pos=(2145.277, 1662.088)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=1124.99987792969
[18:39:38] [INFO] [Bullet] Distance to wall: 1124.99987792969 (76.6033103805953% of viewport)
[18:39:38] [INFO] [Bullet] Distance-based penetration chance: 57.2961378893055%
[18:39:38] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2938.678, 2459.671), shooter_id=176764752105, bullet_pos=(2145.277, 1662.088)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=1124.99987792969
[18:39:38] [INFO] [Bullet] Distance to wall: 1124.99987792969 (76.6033103805953% of viewport)
[18:39:38] [INFO] [Bullet] Distance-based penetration chance: 57.2961378893055%
[18:39:38] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2991.237, 2496.189), shooter_id=176764752105, bullet_pos=(1112.192, 1944.583)
[18:39:38] [INFO] [Bullet] Using shooter_position, distance=1958.33569335938
[18:39:38] [INFO] [Bullet] Distance to wall: 1958.33569335938 (133.346678422646% of viewport)
[18:39:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3110.91, 2576.551), shooter_id=176764752105, bullet_pos=(60.57952, 3570.99)
[18:39:39] [INFO] [Bullet] Using shooter_position, distance=3208.33666992188
[18:39:39] [INFO] [Bullet] Distance to wall: 3208.33666992188 (218.461543465902% of viewport)
[18:39:39] [INFO] [Bullet] Distance-based penetration chance: 6.30769130681959%
[18:39:39] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3078.835, 2557.053), shooter_id=176764752105, bullet_pos=(1517.372, 44.37076)
[18:39:39] [INFO] [Bullet] Using shooter_position, distance=2958.33374023438
[18:39:39] [INFO] [Bullet] Distance to wall: 2958.33374023438 (201.438384268629% of viewport)
[18:39:39] [INFO] [Bullet] Distance-based penetration chance: 9.71232314627419%
[18:39:39] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2973.718, 2484.016), shooter_id=176764752105, bullet_pos=(1518.001, 935.9495)
[18:39:39] [INFO] [Bullet] Using shooter_position, distance=2124.99877929688
[18:39:39] [INFO] [Bullet] Distance to wall: 2124.99877929688 (144.695074410522% of viewport)
[18:39:39] [INFO] [Bullet] Distance-based penetration chance: 21.0609851178955%
[18:39:39] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3008.757, 2508.362), shooter_id=176764752105, bullet_pos=(1784.502, 45.90298)
[18:39:39] [INFO] [Bullet] Using shooter_position, distance=2750.00048828125
[18:39:39] [INFO] [Bullet] Distance to wall: 2750.00048828125 (187.252590052071% of viewport)
[18:39:39] [INFO] [Bullet] Distance-based penetration chance: 12.5494819895859%
[18:39:39] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3061.315, 2544.88), shooter_id=176764752105, bullet_pos=(34.9938, 1360.021)
[18:39:39] [INFO] [Bullet] Using shooter_position, distance=3250.001953125
[18:39:39] [INFO] [Bullet] Distance to wall: 3250.001953125 (221.298609214903% of viewport)
[18:39:39] [INFO] [Bullet] Distance-based penetration chance: 5.74027815701943%
[18:39:39] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(3043.796, 2532.708), shooter_id=176764752105, bullet_pos=(61.33751, 3465.758)
[18:39:39] [INFO] [Bullet] Using shooter_position, distance=3125.00244140625
[18:39:39] [INFO] [Bullet] Distance to wall: 3125.00244140625 (212.787162608139% of viewport)
[18:39:39] [INFO] [Bullet] Distance-based penetration chance: 7.44256747837219%
[18:39:39] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2956.198, 2471.844), shooter_id=176764752105, bullet_pos=(1688.064, 31.69518)
[18:39:39] [INFO] [Bullet] Using shooter_position, distance=2749.99780273438
[18:39:39] [INFO] [Bullet] Distance to wall: 2749.99780273438 (187.252407188246% of viewport)
[18:39:39] [INFO] [Bullet] Distance-based penetration chance: 12.5495185623509%
[18:39:39] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:39] [INFO] [ReplayManager] Recording frame 2760 (44,2s): player_valid=True, enemies=10
[18:39:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2991.237, 2496.189), shooter_id=176764752105, bullet_pos=(53.00774, 2445.52)
[18:39:40] [INFO] [Bullet] Using shooter_position, distance=2938.666015625
[18:39:40] [INFO] [Bullet] Distance to wall: 2938.666015625 (200.09917273422% of viewport)
[18:39:40] [INFO] [Bullet] Distance-based penetration chance: 9.98016545315596%
[18:39:40] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:40] [ENEMY] [GuardEnemy4] Hit: dmg=50, hp=2/3->-48/3
[18:39:40] [INFO] [ImpactEffects] spawn_blood_effect called at (2740.067, 1859.934), dir=(1, 0), lethal=true
[18:39:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:40] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:39:40] [INFO] [ImpactEffects] Blood effect spawned at (2740.067, 1859.934) (scale=1.5)
[18:39:40] [ENEMY] [GuardEnemy4] Enemy died (ricochet: false, penetration: false)
[18:39:40] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:39:40] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy4 (remaining: 5)
[18:39:40] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:39:40] [ENEMY] [GuardEnemy4] Death animation started with hit direction: (1, 0)
[18:39:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2234.682, 1951.857), source=PLAYER (SniperRifle), range=3000, listeners=5
[18:39:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[18:39:40] [INFO] [BloodDecal] Blood puddle created at (2812.063, 1880.057) (added to group)
[18:39:40] [INFO] [BloodDecal] Blood puddle created at (2800.358, 1883.324) (added to group)
[18:39:40] [INFO] [BloodDecal] Blood puddle created at (2819.238, 1879.712) (added to group)
[18:39:40] [INFO] [ReplayManager] Recording frame 2820 (45,2s): player_valid=True, enemies=10
[18:39:40] [INFO] [BloodDecal] Blood puddle created at (2792.532, 1863.533) (added to group)
[18:39:40] [INFO] [BloodDecal] Blood puddle created at (2836.108, 1918.385) (added to group)
[18:39:40] [INFO] [BloodDecal] Blood puddle created at (2821.738, 1857.126) (added to group)
[18:39:40] [INFO] [BloodDecal] Blood puddle created at (2835.092, 1875.514) (added to group)
[18:39:41] [INFO] [BloodDecal] Blood puddle created at (2850.153, 1931.697) (added to group)
[18:39:41] [ENEMY] [GuardEnemy4] Ragdoll activated
[18:39:41] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:39:41] [INFO] [BloodDecal] Blood puddle created at (2905.395, 1961.346) (added to group)
[18:39:41] [ENEMY] [GuardEnemy2] FLANKING stuck (2.0s), pos=(2290.005, 909.9252), fail=1
[18:39:41] [ENEMY] [GuardEnemy2] State: FLANKING -> PURSUING
[18:39:41] [ENEMY] [PatrolEnemy2] State: COMBAT -> SEEKING_COVER
[18:39:41] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:39:41] [ENEMY] [PatrolEnemy2] State: SEEKING_COVER -> COMBAT
[18:39:41] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2799.642, 2353.906), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:41] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2781.68, 2342.397), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:41] [INFO] [ReplayManager] Recording frame 2880 (46,0s): player_valid=True, enemies=10
[18:39:41] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2763.392, 2331.415), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:41] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2744.756, 2321.034), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:41] [INFO] [LastChance] Threat detected: Bullet9mm
[18:39:41] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:42] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2725.786, 2311.277), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2738.792, 2323.444), shooter_id=176764752105, bullet_pos=(2036.44, 1940.423)
[18:39:42] [INFO] [Bullet] Using shooter_position, distance=800.002014160156
[18:39:42] [INFO] [Bullet] Distance to wall: 800.002014160156 (54.4736082181531% of viewport)
[18:39:42] [INFO] [Bullet] Distance-based penetration chance: 83.1141237454881%
[18:39:42] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:42] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2706.5, 2302.163), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:42] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2686.914, 2293.709), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2661.605, 2288.663), shooter_id=176764752105, bullet_pos=(2228.292, 2292.716)
[18:39:42] [INFO] [Bullet] Using shooter_position, distance=433.332183837891
[18:39:42] [INFO] [Bullet] Distance to wall: 433.332183837891 (29.5063852251456% of viewport)
[18:39:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:42] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:42] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2667.059, 2285.91), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2720.041, 2313.566), shooter_id=176764752105, bullet_pos=(1922.146, 1656.95)
[18:39:42] [INFO] [Bullet] Using shooter_position, distance=1033.33410644531
[18:39:42] [INFO] [Bullet] Distance to wall: 1033.33410644531 (70.3616194417336% of viewport)
[18:39:42] [INFO] [Bullet] Distance-based penetration chance: 64.5781106513109%
[18:39:42] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:42] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2646.993, 2278.668), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:42] [ENEMY] [GuardEnemy4] Death animation completed
[18:39:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2641.59, 2281.734), shooter_id=176764752105, bullet_pos=(2144.437, 1945.821)
[18:39:42] [INFO] [Bullet] Using shooter_position, distance=599.999084472656
[18:39:42] [INFO] [Bullet] Distance to wall: 599.999084472656 (40.8550409627729% of viewport)
[18:39:42] [INFO] [Bullet] Distance-based penetration chance: 99.0024522100983%
[18:39:42] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2641.59, 2281.734), shooter_id=176764752105, bullet_pos=(2144.437, 1945.821)
[18:39:42] [INFO] [Bullet] Using shooter_position, distance=599.999084472656
[18:39:42] [INFO] [Bullet] Distance to wall: 599.999084472656 (40.8550409627729% of viewport)
[18:39:42] [INFO] [Bullet] Distance-based penetration chance: 99.0024522100983%
[18:39:42] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:42] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2626.781, 2271.846), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2621.345, 2275.51), shooter_id=176764752105, bullet_pos=(2135.463, 1923.489)
[18:39:42] [INFO] [Bullet] Using shooter_position, distance=599.999206542969
[18:39:42] [INFO] [Bullet] Distance to wall: 599.999206542969 (40.855049274765% of viewport)
[18:39:42] [INFO] [Bullet] Distance-based penetration chance: 99.0024425127742%
[18:39:42] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:42] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2606.474, 2265.309), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2700.855, 2304.587), shooter_id=176764752105, bullet_pos=(1277.873, 1949.289)
[18:39:42] [INFO] [Bullet] Using shooter_position, distance=1466.66821289063
[18:39:42] [INFO] [Bullet] Distance to wall: 1466.66821289063 (99.8681355807538% of viewport)
[18:39:42] [INFO] [Bullet] Distance-based penetration chance: 30.1538418224539%
[18:39:42] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:42] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2586.092, 2259.009), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:42] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2565.642, 2252.936), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2681.368, 2296.285), shooter_id=176764752105, bullet_pos=(1121.137, 1941.76)
[18:39:42] [INFO] [Bullet] Using shooter_position, distance=1600.00268554688
[18:39:42] [INFO] [Bullet] Distance to wall: 1600.00268554688 (108.947125004394% of viewport)
[18:39:42] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2545.127, 2247.084), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2539.637, 2252.522), shooter_id=176764752105, bullet_pos=(2147.125, 1942.788)
[18:39:42] [INFO] [Bullet] Using shooter_position, distance=500.000915527344
[18:39:42] [INFO] [Bullet] Distance to wall: 500.000915527344 (34.0459817588681% of viewport)
[18:39:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:42] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2539.637, 2252.522), shooter_id=176764752105, bullet_pos=(2147.125, 1942.788)
[18:39:42] [INFO] [Bullet] Using shooter_position, distance=500.000915527344
[18:39:42] [INFO] [Bullet] Distance to wall: 500.000915527344 (34.0459817588681% of viewport)
[18:39:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:42] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2580.539, 2264.026), shooter_id=176764752105, bullet_pos=(2004.965, 1661.4)
[18:39:42] [INFO] [Bullet] Using shooter_position, distance=833.3330078125
[18:39:42] [INFO] [Bullet] Distance to wall: 833.3330078125 (56.7431768662341% of viewport)
[18:39:42] [INFO] [Bullet] Distance-based penetration chance: 80.4662936560603%
[18:39:42] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:42] [INFO] [ReplayManager] Recording frame 2940 (46,8s): player_valid=True, enemies=10
[18:39:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2681.368, 2296.285), shooter_id=176764752105, bullet_pos=(1063.464, 1950.512)
[18:39:42] [INFO] [Bullet] Using shooter_position, distance=1654.43981933594
[18:39:42] [INFO] [Bullet] Distance to wall: 1654.43981933594 (112.653849545153% of viewport)
[18:39:42] [INFO] [Bullet] Distance-based penetration chance: 27.4692300909693%
[18:39:42] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2524.552, 2241.446), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2503.92, 2236.021), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [LastChance] Threat detected: @Area2D@2349
[18:39:43] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2483.237, 2230.794), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2462.507, 2225.76), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2436.519, 2226.77), shooter_id=176764752105, bullet_pos=(2118.758, 1932.14)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=433.334014892578
[18:39:43] [INFO] [Bullet] Distance to wall: 433.334014892578 (29.5065099050263% of viewport)
[18:39:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:43] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2441.732, 2220.91), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2600.967, 2269.712), shooter_id=176764752105, bullet_pos=(1546.658, 649.1522)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=1933.33410644531
[18:39:43] [INFO] [Bullet] Distance to wall: 1933.33410644531 (131.644274395803% of viewport)
[18:39:43] [INFO] [Bullet] Distance-based penetration chance: 23.6711451208393%
[18:39:43] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2420.916, 2216.239), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2400.063, 2211.74), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2394.945, 2217.754), shooter_id=176764752105, bullet_pos=(1939.249, 1940.651)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=533.332885742188
[18:39:43] [INFO] [Bullet] Distance to wall: 533.332885742188 (36.3156169028854% of viewport)
[18:39:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:43] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2457.244, 2231.539), shooter_id=176764752105, bullet_pos=(1540.718, 2708.784)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=1033.33605957031
[18:39:43] [INFO] [Bullet] Distance to wall: 1033.33605957031 (70.3617524336063% of viewport)
[18:39:43] [INFO] [Bullet] Distance-based penetration chance: 64.577955494126%
[18:39:43] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2379.174, 2207.407), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2360.347, 2203.643), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2415.751, 2222.177), shooter_id=176764752105, bullet_pos=(1581.268, 2899.868)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=1075.00036621094
[18:39:43] [INFO] [Bullet] Distance to wall: 1075.00036621094 (73.1987516866707% of viewport)
[18:39:43] [INFO] [Bullet] Distance-based penetration chance: 61.2681230322175%
[18:39:43] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2498.538, 2241.637), shooter_id=176764752105, bullet_pos=(1739.155, 674.2347)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=1741.669921875
[18:39:43] [INFO] [Bullet] Distance to wall: 1741.669921875 (118.593507629053% of viewport)
[18:39:43] [INFO] [Bullet] Distance-based penetration chance: 26.2812984741895%
[18:39:43] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2332.319, 2205.438), shooter_id=176764752105, bullet_pos=(1962.49, 1949.067)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=449.999969482422
[18:39:43] [INFO] [Bullet] Distance to wall: 449.999969482422 (30.6413253990369% of viewport)
[18:39:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:43] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2339.399, 2199.606), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2292.521, 2198.326), shooter_id=176764752105, bullet_pos=(2157.795, 2296.443)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=166.666656494141
[18:39:43] [INFO] [Bullet] Distance to wall: 166.666656494141 (11.3486391136432% of viewport)
[18:39:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:43] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2318.423, 2195.719), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2311.383, 2201.632), shooter_id=176764752105, bullet_pos=(2140.338, 1740.677)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=491.666442871094
[18:39:43] [INFO] [Bullet] Distance to wall: 491.666442871094 (33.4784721899602% of viewport)
[18:39:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:43] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2353.226, 2209.389), shooter_id=176764752105, bullet_pos=(1683.478, 2883.141)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=950.002075195313
[18:39:43] [INFO] [Bullet] Distance to wall: 950.002075195313 (64.6873881998274% of viewport)
[18:39:43] [INFO] [Bullet] Distance-based penetration chance: 71.1980471002014%
[18:39:43] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2353.226, 2209.389), shooter_id=176764752105, bullet_pos=(1683.478, 2883.141)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=950.002075195313
[18:39:43] [INFO] [Bullet] Distance to wall: 950.002075195313 (64.6873881998274% of viewport)
[18:39:43] [INFO] [Bullet] Distance-based penetration chance: 71.1980471002014%
[18:39:43] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2297.421, 2191.975), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2276.394, 2188.371), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2519.116, 2246.979), shooter_id=176764752105, bullet_pos=(38.52567, 2481.65)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=2491.66577148438
[18:39:43] [INFO] [Bullet] Distance to wall: 2491.66577148438 (169.662104149715% of viewport)
[18:39:43] [INFO] [Bullet] Distance-based penetration chance: 16.0675791700571%
[18:39:43] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:43] [INFO] [ReplayManager] Recording frame 3000 (47,6s): player_valid=True, enemies=10
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2255.345, 2184.901), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2374.102, 2213.493), shooter_id=176764752105, bullet_pos=(818.6958, 2654.313)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=1616.66662597656
[18:39:43] [INFO] [Bullet] Distance to wall: 1616.66662597656 (110.081803350536% of viewport)
[18:39:43] [INFO] [Bullet] Distance-based penetration chance: 27.9836393298929%
[18:39:43] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2234.275, 2181.56), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2208.446, 2184.913), shooter_id=176764752105, bullet_pos=(1980.179, 1942.003)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=333.333557128906
[18:39:43] [INFO] [Bullet] Distance to wall: 333.333557128906 (22.6972948512706% of viewport)
[18:39:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:43] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2477.908, 2236.491), shooter_id=176764752105, bullet_pos=(41.82578, 1541.305)
[18:39:43] [INFO] [Bullet] Using shooter_position, distance=2533.33374023438
[18:39:43] [INFO] [Bullet] Distance to wall: 2533.33374023438 (172.499352762541% of viewport)
[18:39:43] [INFO] [Bullet] Distance-based penetration chance: 15.5001294474919%
[18:39:43] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2213.186, 2178.342), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2250.527, 2191.366), shooter_id=176764752105, bullet_pos=(1546.588, 2711.075)
[18:39:44] [INFO] [Bullet] Using shooter_position, distance=875.001525878906
[18:39:44] [INFO] [Bullet] Distance to wall: 875.001525878906 (59.5804628830241% of viewport)
[18:39:44] [INFO] [Bullet] Distance-based penetration chance: 77.1561266364719%
[18:39:44] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2166.289, 2178.93), shooter_id=176764752105, bullet_pos=(2003.928, 1936.632)
[18:39:44] [INFO] [Bullet] Using shooter_position, distance=291.666473388672
[18:39:44] [INFO] [Bullet] Distance to wall: 291.666473388672 (19.8601065003871% of viewport)
[18:39:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2192.079, 2175.245), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2176.238, 2172.99), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=0
[18:39:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2145.185, 2176.104), shooter_id=176764752105, bullet_pos=(1908.535, 1941.354)
[18:39:44] [INFO] [Bullet] Using shooter_position, distance=333.333129882813
[18:39:44] [INFO] [Bullet] Distance to wall: 333.333129882813 (22.6972657592984% of viewport)
[18:39:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2271.536, 2194.781), shooter_id=176764752105, bullet_pos=(937.4177, 2671.304)
[18:39:44] [INFO] [Bullet] Using shooter_position, distance=1416.6669921875
[18:39:44] [INFO] [Bullet] Distance to wall: 1416.6669921875 (96.4634605189406% of viewport)
[18:39:44] [INFO] [Bullet] Distance-based penetration chance: 34.1259627279026%
[18:39:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2108.216, 2171.49), shooter_id=176764752105, bullet_pos=(2010.393, 1941.423)
[18:39:44] [INFO] [Bullet] Using shooter_position, distance=250.000045776367
[18:39:44] [INFO] [Bullet] Distance to wall: 250.000045776367 (17.0229628264609% of viewport)
[18:39:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2124.066, 2173.382), shooter_id=176764752105, bullet_pos=(1849.444, 1755.551)
[18:39:44] [INFO] [Bullet] Using shooter_position, distance=499.999908447266
[18:39:44] [INFO] [Bullet] Distance to wall: 499.999908447266 (34.0459131849337% of viewport)
[18:39:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2229.497, 2188.079), shooter_id=176764752105, bullet_pos=(647.944, 2937.198)
[18:39:44] [INFO] [Bullet] Using shooter_position, distance=1749.9970703125
[18:39:44] [INFO] [Bullet] Distance to wall: 1749.9970703125 (119.160518478438% of viewport)
[18:39:44] [INFO] [Bullet] Distance-based penetration chance: 26.1678963043124%
[18:39:44] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2229.497, 2188.079), shooter_id=176764752105, bullet_pos=(647.944, 2937.198)
[18:39:44] [INFO] [Bullet] Using shooter_position, distance=1749.9970703125
[18:39:44] [INFO] [Bullet] Distance to wall: 1749.9970703125 (119.160518478438% of viewport)
[18:39:44] [INFO] [Bullet] Distance-based penetration chance: 26.1678963043124%
[18:39:44] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:44] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:39:44] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:39:44] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:39:44] [ENEMY] [GuardEnemy2] Player reloading: false -> true
[18:39:44] [ENEMY] [PatrolEnemy2] Player reloading: false -> true
[18:39:44] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:39:44] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1523.048, 2031.609), source=PLAYER (Player), range=900, listeners=5
[18:39:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=1
[18:39:44] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=4391), can_see=false
[18:39:44] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=4873), can_see=false
[18:39:44] [ENEMY] [GuardEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1359), can_see=false
[18:39:44] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:39:44] [ENEMY] [PatrolEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=668), can_see=true
[18:39:44] [ENEMY] [PatrolEnemy2] Player vulnerable (reloading) - pursuing to attack (dist=668)
[18:39:44] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[18:39:44] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2868), can_see=false
[18:39:44] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:39:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2187.376, 2181.865), shooter_id=176764752105, bullet_pos=(59.48445, 2589.943)
[18:39:44] [INFO] [Bullet] Using shooter_position, distance=2166.66796875
[18:39:44] [INFO] [Bullet] Distance to wall: 2166.66796875 (147.532406143269% of viewport)
[18:39:44] [INFO] [Bullet] Distance-based penetration chance: 20.4935187713463%
[18:39:44] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:44] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[18:39:44] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[18:39:44] [INFO] [ReplayManager] Recording frame 3060 (48,6s): player_valid=True, enemies=10
[18:39:45] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=4332), can_see=false
[18:39:45] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=4969), can_see=false
[18:39:45] [ENEMY] [GuardEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1223), can_see=false
[18:39:45] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:39:45] [ENEMY] [PatrolEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=725), can_see=true
[18:39:45] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2999), can_see=false
[18:39:45] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[18:39:45] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[18:39:45] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:39:45] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:39:45] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:39:45] [ENEMY] [GuardEnemy2] Player reloading: true -> false
[18:39:45] [ENEMY] [PatrolEnemy2] Player reloading: true -> false
[18:39:45] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:39:45] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:39:45] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:39:45] [ENEMY] [PatrolEnemy2] State: PURSUING -> COMBAT
[18:39:45] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-144.6°, current=-134.4°, player=(1521,1707), corner_timer=0.05
[18:39:45] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:39:45] [INFO] [ReplayManager] Recording frame 3120 (49,6s): player_valid=True, enemies=10
[18:39:45] [ENEMY] [PatrolEnemy2] State: COMBAT -> PURSUING
[18:39:46] [INFO] [ScoreManager] Combo ended at 1. Max combo: 2
[18:39:46] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:39:46] [INFO] [ReplayManager] Recording frame 3180 (50,6s): player_valid=True, enemies=10
[18:39:47] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:39:47] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 147.5°
[18:39:47] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:39:47] [INFO] [ReplayManager] Recording frame 3240 (51,6s): player_valid=True, enemies=10
[18:39:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1322.612, 1497.332), source=PLAYER (SniperRifle), range=3000, listeners=5
[18:39:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[18:39:48] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[18:39:48] [ENEMY] [GuardEnemy2] FLANKING started: target=(1563.384, 1583.948), side=right, pos=(2290.066, 877.792)
[18:39:48] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[18:39:48] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:39:48] [INFO] [ReplayManager] Recording frame 3300 (52,6s): player_valid=True, enemies=10
[18:39:49] [ENEMY] [PatrolEnemy2] FLANKING started: target=(1740.804, 1535.402), side=left, pos=(1995.735, 1988.837)
[18:39:49] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[18:39:49] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 131.5°
[18:39:49] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle 135.0°
[18:39:49] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-147.3°, current=-146.7°, player=(1554,1758), corner_timer=0.30
[18:39:49] [ENEMY] [PatrolEnemy2] State: FLANKING -> COMBAT
[18:39:49] [INFO] [ReplayManager] Recording frame 3360 (53,6s): player_valid=True, enemies=10
[18:39:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1827.005, 1965.197), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:49] [INFO] [LastChance] Threat detected: Bullet9mm
[18:39:49] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1812.603, 1949.47), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:50] [INFO] [Player] Spawning blood effect at (1554.0901, 1862.7509), dir=(1, 0), lethal=False (C#)
[18:39:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1554.09, 1862.751), dir=(1, 0), lethal=false
[18:39:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:50] [INFO] [ImpactEffects] Blood effect spawned at (1554.09, 1862.751) (scale=1)
[18:39:50] [INFO] [LastChance] Threat detected: @Area2D@2446
[18:39:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1796.644, 1935.328), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [LastChance] Threat detected: Bullet9mm
[18:39:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:50] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:50] [INFO] [Player] Spawning blood effect at (1554.0901, 1884.7509), dir=(1, 0), lethal=False (C#)
[18:39:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1554.09, 1884.751), dir=(1, 0), lethal=false
[18:39:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:50] [INFO] [ImpactEffects] Blood effect spawned at (1554.09, 1884.751) (scale=1)
[18:39:50] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:50] [INFO] [Player] Spawning blood effect at (1554.0901, 1901.2509), dir=(1, 0), lethal=False (C#)
[18:39:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1554.09, 1901.251), dir=(1, 0), lethal=false
[18:39:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:50] [INFO] [ImpactEffects] Blood effect spawned at (1554.09, 1901.251) (scale=1)
[18:39:50] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [LastChance] Threat detected: Bullet9mm
[18:39:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:50] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1597.719, 1889.487) (added to group)
[18:39:50] [INFO] [LastChance] Threat detected: @Area2D@2457
[18:39:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1720.149, 1927.104), shooter_id=176764752105, bullet_pos=(1350.905, 1734.051)
[18:39:50] [INFO] [Bullet] Using shooter_position, distance=416.666381835938
[18:39:50] [INFO] [Bullet] Distance to wall: 416.666381835938 (28.371580121125% of viewport)
[18:39:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:50] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:50] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1622.246, 1922.241) (added to group)
[18:39:50] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:50] [INFO] [Player] Spawning blood effect at (1554.0901, 1964.473), dir=(1, 0), lethal=False (C#)
[18:39:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1554.09, 1964.473), dir=(1, 0), lethal=false
[18:39:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:50] [INFO] [ImpactEffects] Blood effect spawned at (1554.09, 1964.473) (scale=1)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1602.949, 1883.606) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1619.974, 1891.342) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1609.189, 1882.553) (added to group)
[18:39:50] [ENEMY] [PatrolEnemy2] Player distracted - priority attack triggered
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1661.239, 1905.416) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1656.305, 1900.798) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1648.109, 1888.078) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1622.521, 1936.794) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1611.388, 1933.878) (added to group)
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1630.383, 1905.879) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1601.176, 1908.564) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1662.229, 1888.311) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1628.881, 1918.981) (added to group)
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1644.155, 1947.917) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1682.873, 1914.389) (added to group)
[18:39:50] [INFO] [LastChance] Threat detected: @Area2D@2486
[18:39:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1705.404, 1872.76) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1623.59, 1912.581) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1636.147, 1958.966) (added to group)
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1713.461, 1926.731) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1682.792, 1948.192) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1721.413, 1932.046) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1644.935, 2017.558) (added to group)
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1754.188, 1940.233) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1671.557, 1989.692) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1663.711, 2022.643) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1714.658, 1929.687) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1629.287, 1987.096) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1626.514, 1996.329) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1661.406, 2004.316) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1655.465, 1941.165) (added to group)
[18:39:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1724.565, 1952.8), shooter_id=176764752105, bullet_pos=(1168.175, 1668.098)
[18:39:50] [INFO] [Bullet] Using shooter_position, distance=624.999633789063
[18:39:50] [INFO] [Bullet] Distance to wall: 624.999633789063 (42.5573743376835% of viewport)
[18:39:50] [INFO] [Bullet] Distance-based penetration chance: 97.0163966060359%
[18:39:50] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1725.812, 2051.916) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1732.935, 2051.602) (added to group)
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1668.231, 1965.56) (added to group)
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1634.972, 2032.051) (added to group)
[18:39:50] [INFO] [LastChance] Threat detected: @Area2D@2519
[18:39:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1700.168, 2005.64) (added to group)
[18:39:50] [INFO] [ReplayManager] Recording frame 3420 (54,6s): player_valid=True, enemies=10
[18:39:50] [ENEMY] [GuardEnemy2] FLANKING stuck (2.0s), pos=(2290.076, 909.9982), fail=1
[18:39:50] [ENEMY] [GuardEnemy2] State: FLANKING -> PURSUING
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:50] [INFO] [Player] Spawning blood effect at (1554.0901, 1996.973), dir=(1, 0), lethal=False (C#)
[18:39:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1554.09, 1996.973), dir=(1, 0), lethal=false
[18:39:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:50] [INFO] [ImpactEffects] Blood effect spawned at (1554.09, 1996.973) (scale=1)
[18:39:50] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1646.312, 2049.469) (added to group)
[18:39:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(1347.946, 1778.862)
[18:39:50] [INFO] [Bullet] Using shooter_position, distance=416.666931152344
[18:39:50] [INFO] [Bullet] Distance to wall: 416.666931152344 (28.3716175250892% of viewport)
[18:39:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:50] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [LastChance] Threat detected: @Area2D@2532
[18:39:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1674.426, 2000.48) (added to group)
[18:39:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:50] [INFO] [BloodDecal] Blood puddle created at (1646.33, 2088.088) (added to group)
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1731.563, 2156.298) (added to group)
[18:39:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1722.201, 1945.517), shooter_id=176764752105, bullet_pos=(45.01917, 1017.796)
[18:39:51] [INFO] [Bullet] Using shooter_position, distance=1916.66528320313
[18:39:51] [INFO] [Bullet] Distance to wall: 1916.66528320313 (130.50926356998% of viewport)
[18:39:51] [INFO] [Bullet] Distance-based penetration chance: 23.8981472860041%
[18:39:51] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [LastChance] Threat detected: Bullet9mm
[18:39:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1608.026, 2005.212) (added to group)
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1723.445, 1949.832), shooter_id=176764752105, bullet_pos=(53.77051, 3050.831)
[18:39:51] [INFO] [Bullet] Using shooter_position, distance=2000.00280761719
[18:39:51] [INFO] [Bullet] Distance to wall: 2000.00280761719 (136.183868851528% of viewport)
[18:39:51] [INFO] [Bullet] Distance-based penetration chance: 22.7632262296944%
[18:39:51] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:51] [INFO] [LastChance] Threat detected: @Area2D@2546
[18:39:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(1338.704, 1800.176)
[18:39:51] [INFO] [Bullet] Using shooter_position, distance=416.66650390625
[18:39:51] [INFO] [Bullet] Distance to wall: 416.66650390625 (28.371588433117% of viewport)
[18:39:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:51] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.225, 1954.577), shooter_id=176764752105, bullet_pos=(36.55984, 2553.312)
[18:39:51] [INFO] [Bullet] Using shooter_position, distance=1791.66735839844
[18:39:51] [INFO] [Bullet] Distance to wall: 1791.66735839844 (121.997925019113% of viewport)
[18:39:51] [INFO] [Bullet] Distance-based penetration chance: 25.6004149961775%
[18:39:51] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [LastChance] Threat detected: @Area2D@2556
[18:39:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.455, 1955.221), shooter_id=176764752105, bullet_pos=(40.49704, 2868.752)
[18:39:51] [INFO] [Bullet] Using shooter_position, distance=1916.66918945313
[18:39:51] [INFO] [Bullet] Distance to wall: 1916.66918945313 (130.509529553725% of viewport)
[18:39:51] [INFO] [Bullet] Distance-based penetration chance: 23.898094089255%
[18:39:51] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:51] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1679.098, 2111.649) (added to group)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1692.39, 2056.049) (added to group)
[18:39:51] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:51] [INFO] [Player] Spawning blood effect at (1554.0901, 1996.973), dir=(1, 0), lethal=False (C#)
[18:39:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1554.09, 1996.973), dir=(1, 0), lethal=false
[18:39:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:51] [INFO] [ImpactEffects] Blood effect spawned at (1554.09, 1996.973) (scale=1)
[18:39:51] [INFO] [LastChance] Threat detected: @Area2D@2559
[18:39:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1710.949, 2115.147) (added to group)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1642.918, 2057.908) (added to group)
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:51] [INFO] [Player] Spawning blood effect at (1554.0901, 1996.973), dir=(1, 0), lethal=False (C#)
[18:39:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1554.09, 1996.973), dir=(1, 0), lethal=false
[18:39:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:51] [INFO] [ImpactEffects] Blood effect spawned at (1554.09, 1996.973) (scale=1)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1716.511, 2115.569) (added to group)
[18:39:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(59.87343, 635.568)
[18:39:51] [INFO] [Bullet] Using shooter_position, distance=2125.0009765625
[18:39:51] [INFO] [Bullet] Distance to wall: 2125.0009765625 (144.695224026379% of viewport)
[18:39:51] [INFO] [Bullet] Distance-based penetration chance: 21.0609551947242%
[18:39:51] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1698.945, 2133.66) (added to group)
[18:39:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(45.66076, 1644.225)
[18:39:51] [INFO] [Bullet] Using shooter_position, distance=1708.33410644531
[18:39:51] [INFO] [Bullet] Distance to wall: 1708.33410644531 (116.323610657286% of viewport)
[18:39:51] [INFO] [Bullet] Distance-based penetration chance: 26.7352778685428%
[18:39:51] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:51] [INFO] [LastChance] Threat detected: @Area2D@2572
[18:39:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1765.28, 2035.067) (added to group)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1734.873, 2042.468) (added to group)
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1710.816, 2086.562) (added to group)
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(29.61814, 2651.843)
[18:39:51] [INFO] [Bullet] Using shooter_position, distance=1833.33508300781
[18:39:51] [INFO] [Bullet] Distance to wall: 1833.33508300781 (124.835157007954% of viewport)
[18:39:51] [INFO] [Bullet] Distance-based penetration chance: 25.0329685984091%
[18:39:51] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1632.685, 2026.838) (added to group)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1600.272, 1997.508) (added to group)
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1608.314, 2020.33) (added to group)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1612.58, 2035.643) (added to group)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1634.569, 1983.349) (added to group)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1633.457, 2026.639) (added to group)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1635.025, 1997.729) (added to group)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1598.39, 2017.925) (added to group)
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1618.479, 2019.792) (added to group)
[18:39:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(29.81266, 2163.124)
[18:39:51] [INFO] [Bullet] Using shooter_position, distance=1708.33325195313
[18:39:51] [INFO] [Bullet] Distance to wall: 1708.33325195313 (116.323552473342% of viewport)
[18:39:51] [INFO] [Bullet] Distance-based penetration chance: 26.7352895053317%
[18:39:51] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:51] [INFO] [ReplayManager] Recording frame 3480 (55,6s): player_valid=True, enemies=10
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(29.05276, 2156.828)
[18:39:51] [INFO] [Bullet] Using shooter_position, distance=1708.3330078125
[18:39:51] [INFO] [Bullet] Distance to wall: 1708.3330078125 (116.323535849358% of viewport)
[18:39:51] [INFO] [Bullet] Distance-based penetration chance: 26.7352928301285%
[18:39:51] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1650.454, 2028.388) (added to group)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1635.774, 2044.24) (added to group)
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1624.145, 2022.09) (added to group)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1727.253, 2129.992) (added to group)
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1652.86, 2056.256) (added to group)
[18:39:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(47.83929, 3752.174)
[18:39:51] [INFO] [Bullet] Using shooter_position, distance=2458.33325195313
[18:39:51] [INFO] [Bullet] Distance to wall: 2458.33325195313 (167.392431601733% of viewport)
[18:39:51] [INFO] [Bullet] Distance-based penetration chance: 16.5215136796534%
[18:39:51] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1788.175, 1928.843), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:51] [INFO] [BloodDecal] Blood puddle created at (1661.699, 2065.592) (added to group)
[18:39:52] [INFO] [BloodDecal] Blood puddle created at (1712.398, 2158.374) (added to group)
[18:39:52] [INFO] [BloodDecal] Blood puddle created at (1692.293, 2094.935) (added to group)
[18:39:52] [INFO] [BloodDecal] Blood puddle created at (1666.833, 2067.46) (added to group)
[18:39:52] [INFO] [BloodDecal] Blood puddle created at (1744.34, 2022.249) (added to group)
[18:39:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(56.80365, 573.167)
[18:39:52] [INFO] [Bullet] Using shooter_position, distance=2166.6689453125
[18:39:52] [INFO] [Bullet] Distance to wall: 2166.6689453125 (147.532472639205% of viewport)
[18:39:52] [INFO] [Bullet] Distance-based penetration chance: 20.493505472159%
[18:39:52] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(524.2393, 1286.103)
[18:39:52] [INFO] [Bullet] Using shooter_position, distance=1374.99987792969
[18:39:52] [INFO] [Bullet] Distance to wall: 1374.99987792969 (93.6262700900591% of viewport)
[18:39:52] [INFO] [Bullet] Distance-based penetration chance: 37.4360182282643%
[18:39:52] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:52] [INFO] [BloodDecal] Blood puddle created at (1694.675, 2071.312) (added to group)
[18:39:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(1138.655, 3648.075)
[18:39:52] [INFO] [Bullet] Using shooter_position, distance=1791.66809082031
[18:39:52] [INFO] [Bullet] Distance to wall: 1791.66809082031 (121.997974891065% of viewport)
[18:39:52] [INFO] [Bullet] Distance-based penetration chance: 25.600405021787%
[18:39:52] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(58.91867, 1976.595)
[18:39:52] [INFO] [Bullet] Using shooter_position, distance=1666.66638183594
[18:39:52] [INFO] [Bullet] Distance to wall: 1666.66638183594 (113.486378668444% of viewport)
[18:39:52] [INFO] [Bullet] Distance-based penetration chance: 27.3027242663112%
[18:39:52] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(950.3282, 2882.183)
[18:39:52] [INFO] [Bullet] Using shooter_position, distance=1208.33142089844
[18:39:52] [INFO] [Bullet] Distance to wall: 1208.33142089844 (82.2775083745332% of viewport)
[18:39:52] [INFO] [Bullet] Distance-based penetration chance: 50.6762402297112%
[18:39:52] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(64.58688, 2911.857)
[18:39:52] [INFO] [Bullet] Using shooter_position, distance=1916.66613769531
[18:39:52] [INFO] [Bullet] Distance to wall: 1916.66613769531 (130.509321753924% of viewport)
[18:39:52] [INFO] [Bullet] Distance-based penetration chance: 23.8981356492152%
[18:39:52] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(44.09167, 1652.828)
[18:39:52] [INFO] [Bullet] Using shooter_position, distance=1708.33312988281
[18:39:52] [INFO] [Bullet] Distance to wall: 1708.33312988281 (116.32354416135% of viewport)
[18:39:52] [INFO] [Bullet] Distance-based penetration chance: 26.7352911677301%
[18:39:52] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(41.34418, 2870.326)
[18:39:52] [INFO] [Bullet] Using shooter_position, distance=1916.66882324219
[18:39:52] [INFO] [Bullet] Distance to wall: 1916.66882324219 (130.509504617749% of viewport)
[18:39:52] [INFO] [Bullet] Distance-based penetration chance: 23.8980990764502%
[18:39:52] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:52] [INFO] [ReplayManager] Recording frame 3540 (56,6s): player_valid=True, enemies=10
[18:39:52] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:39:52] [ENEMY] [PatrolEnemy2] State: COMBAT -> SEEKING_COVER
[18:39:52] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=135.0°, current=36.7°, player=(1563,1996), corner_timer=0.30
[18:39:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2290.067, 904.0792), source=ENEMY (GuardEnemy2), range=1469, listeners=5
[18:39:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1725.448, 1955.223), shooter_id=176764752105, bullet_pos=(216.4125, 5066.953)
[18:39:53] [INFO] [Bullet] Using shooter_position, distance=3458.33081054688
[18:39:53] [INFO] [Bullet] Distance to wall: 3458.33081054688 (235.484104199748% of viewport)
[18:39:53] [INFO] [Bullet] Distance-based penetration chance: 5%
[18:39:53] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2290.067, 903.9186), source=ENEMY (GuardEnemy2), range=1469, listeners=5
[18:39:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:53] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[18:39:53] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=90.0°, current=123.7°, player=(1563,1996), corner_timer=-0.02
[18:39:53] [ENEMY] [GuardEnemy2] State: RETREATING -> IN_COVER
[18:39:53] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[18:39:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=166.3°, current=117.0°, player=(1563,1996), corner_timer=0.30
[18:39:53] [INFO] [LastChance] Threat detected: Bullet
[18:39:53] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:53] [INFO] [Player] Spawning blood effect at (1563.2568, 1996.973), dir=(1, 0), lethal=False (C#)
[18:39:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1563.257, 1996.973), dir=(1, 0), lethal=false
[18:39:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:53] [INFO] [ImpactEffects] Blood effect spawned at (1563.257, 1996.973) (scale=1)
[18:39:53] [INFO] [LastChance] Threat detected: @Area2D@2626
[18:39:53] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1563.257, 1996.973), source=PLAYER (SniperRifle), range=3000, listeners=5
[18:39:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[18:39:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:53] [INFO] [Player] Spawning blood effect at (1563.2568, 1996.973), dir=(1, 0), lethal=False (C#)
[18:39:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1563.257, 1996.973), dir=(1, 0), lethal=false
[18:39:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:53] [INFO] [ImpactEffects] Blood effect spawned at (1563.257, 1996.973) (scale=1)
[18:39:53] [INFO] [ReplayManager] Recording frame 3600 (57,6s): player_valid=True, enemies=10
[18:39:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=135.0°, current=-131.3°, player=(1563,1996), corner_timer=0.30
[18:39:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=166.3°, current=-145.6°, player=(1563,1996), corner_timer=0.30
[18:39:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=135.0°, current=86.8°, player=(1563,1996), corner_timer=0.30
[18:39:53] [INFO] [BloodDecal] Blood puddle created at (1660.278, 2009.349) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1643.714, 2012.704) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1681.746, 1992.802) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1625.766, 2028.939) (added to group)
[18:39:54] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=167.3°, current=118.3°, player=(1563,1996), corner_timer=0.30
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1705.899, 1982.783) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1736.871, 2111.893) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1687.587, 2035.196) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1671.683, 2071.692) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1677.093, 2018.839) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1675.9, 2062.8) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1706.872, 2100.565) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1724.707, 2085.825) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1736.586, 2139.398) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1713.533, 2023.404) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1770.619, 2046.306) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1670.843, 2098.292) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1709.706, 2010.023) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1733.691, 2049.368) (added to group)
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1771.852, 2160.055) (added to group)
[18:39:54] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=135.0°, current=-142.4°, player=(1563,1996), corner_timer=0.30
[18:39:54] [INFO] [BloodDecal] Blood puddle created at (1663.946, 2143.376) (added to group)
[18:39:54] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=167.3°, current=-145.3°, player=(1563,1996), corner_timer=0.30
[18:39:54] [INFO] [ReplayManager] Recording frame 3660 (58,6s): player_valid=True, enemies=10
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [LastChance] Threat detected: Bullet9mm
[18:39:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [LastChance] Threat detected: @Area2D@2652
[18:39:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [LastChance] Threat detected: @Area2D@2654
[18:39:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(1341.357, 1869.041)
[18:39:55] [INFO] [Bullet] Using shooter_position, distance=416.666809082031
[18:39:55] [INFO] [Bullet] Distance to wall: 416.666809082031 (28.3716092130971% of viewport)
[18:39:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:55] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [LastChance] Threat detected: @Area2D@2666
[18:39:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(1331.029, 1942.619)
[18:39:55] [INFO] [Bullet] Using shooter_position, distance=416.666809082031
[18:39:55] [INFO] [Bullet] Distance to wall: 416.666809082031 (28.3716092130971% of viewport)
[18:39:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:55] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(1331.029, 1942.619)
[18:39:55] [INFO] [Bullet] Using shooter_position, distance=416.666809082031
[18:39:55] [INFO] [Bullet] Distance to wall: 416.666809082031 (28.3716092130971% of viewport)
[18:39:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:55] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [LastChance] Threat detected: @Area2D@2673
[18:39:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(1333.671, 1912.245)
[18:39:55] [INFO] [Bullet] Using shooter_position, distance=416.667144775391
[18:39:55] [INFO] [Bullet] Distance to wall: 416.667144775391 (28.3716320710753% of viewport)
[18:39:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:55] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(31.52933, 2308.578)
[18:39:55] [INFO] [Bullet] Using shooter_position, distance=1749.99975585938
[18:39:55] [INFO] [Bullet] Distance to wall: 1749.99975585938 (119.160701342263% of viewport)
[18:39:55] [INFO] [Bullet] Distance-based penetration chance: 26.1678597315474%
[18:39:55] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(62.73864, 2248.271)
[18:39:55] [INFO] [Bullet] Using shooter_position, distance=1708.33337402344
[18:39:55] [INFO] [Bullet] Distance to wall: 1708.33337402344 (116.323560785334% of viewport)
[18:39:55] [INFO] [Bullet] Distance-based penetration chance: 26.7352878429333%
[18:39:55] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:55] [INFO] [LastChance] Threat detected: Bullet9mm
[18:39:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:55] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> IN_COVER
[18:39:55] [ENEMY] [GuardEnemy2] State: IN_COVER -> PURSUING
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [ReplayManager] Recording frame 3720 (59,6s): player_valid=True, enemies=10
[18:39:55] [ENEMY] [GuardEnemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=123.8°, current=120.8°, player=(1563,1996), corner_timer=-0.02
[18:39:55] [INFO] [LastChance] Threat detected: @Area2D@2687
[18:39:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(1351.604, 1832.603)
[18:39:55] [INFO] [Bullet] Using shooter_position, distance=416.666931152344
[18:39:55] [INFO] [Bullet] Distance to wall: 416.666931152344 (28.3716175250892% of viewport)
[18:39:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:55] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(51.59641, 2396.556)
[18:39:55] [INFO] [Bullet] Using shooter_position, distance=1750.00073242188
[18:39:55] [INFO] [Bullet] Distance to wall: 1750.00073242188 (119.160767838199% of viewport)
[18:39:55] [INFO] [Bullet] Distance-based penetration chance: 26.1678464323601%
[18:39:55] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(656.473, 2655.451)
[18:39:55] [INFO] [Bullet] Using shooter_position, distance=1291.66625976563
[18:39:55] [INFO] [Bullet] Distance to wall: 1291.66625976563 (87.9519307922564% of viewport)
[18:39:55] [INFO] [Bullet] Distance-based penetration chance: 44.0560807423675%
[18:39:55] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(656.473, 2655.451)
[18:39:55] [INFO] [Bullet] Using shooter_position, distance=1291.66625976563
[18:39:55] [INFO] [Bullet] Distance to wall: 1291.66625976563 (87.9519307922564% of viewport)
[18:39:55] [INFO] [Bullet] Distance-based penetration chance: 44.0560807423675%
[18:39:55] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:55] [INFO] [LastChance] Threat detected: @Area2D@2697
[18:39:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(50.30653, 2761.186)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=1875.00244140625
[18:39:56] [INFO] [Bullet] Distance to wall: 1875.00244140625 (127.67236406082% of viewport)
[18:39:56] [INFO] [Bullet] Distance-based penetration chance: 24.465527187836%
[18:39:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [LastChance] Threat detected: @Area2D@2707
[18:39:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:56] [INFO] [Player] Spawning blood effect at (1570.2568, 1996.973), dir=(1, 0), lethal=False (C#)
[18:39:56] [INFO] [ImpactEffects] spawn_blood_effect called at (1570.257, 1996.973), dir=(1, 0), lethal=false
[18:39:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:56] [INFO] [ImpactEffects] Blood effect spawned at (1570.257, 1996.973) (scale=1)
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(1252.3, 1654.678)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=583.333618164063
[18:39:56] [INFO] [Bullet] Distance to wall: 583.333618164063 (39.7202587167304% of viewport)
[18:39:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(30.50765, 2303.46)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=1749.99987792969
[18:39:56] [INFO] [Bullet] Distance to wall: 1749.99987792969 (119.160709654255% of viewport)
[18:39:56] [INFO] [Bullet] Distance-based penetration chance: 26.167858069149%
[18:39:56] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(64.43855, 2578.719)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=1791.66687011719
[18:39:56] [INFO] [Bullet] Distance to wall: 1791.66687011719 (121.997891771144% of viewport)
[18:39:56] [INFO] [Bullet] Distance-based penetration chance: 25.6004216457711%
[18:39:56] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.303, 1963.789), shooter_id=176764752105, bullet_pos=(1342.643, 1670.106)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=499.999908447266
[18:39:56] [INFO] [Bullet] Distance to wall: 499.999908447266 (34.0459131849337% of viewport)
[18:39:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [BloodDecal] Blood puddle created at (1632.741, 2030.056) (added to group)
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.461, 1964.282), shooter_id=176764752105, bullet_pos=(1343.506, 1862.147)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=416.666839599609
[18:39:56] [INFO] [Bullet] Distance to wall: 416.666839599609 (28.3716112910951% of viewport)
[18:39:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(57.49268, 2419.023)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=1750.00134277344
[18:39:56] [INFO] [Bullet] Distance to wall: 1750.00134277344 (119.160809398159% of viewport)
[18:39:56] [INFO] [Bullet] Distance-based penetration chance: 26.1678381203681%
[18:39:56] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [BloodDecal] Blood puddle created at (1682.659, 2003.892) (added to group)
[18:39:56] [INFO] [BloodDecal] Blood puddle created at (1654.929, 2017.758) (added to group)
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(43.68478, 2092.096)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=1708.3330078125
[18:39:56] [INFO] [Bullet] Distance to wall: 1708.3330078125 (116.323535849358% of viewport)
[18:39:56] [INFO] [Bullet] Distance-based penetration chance: 26.7352928301285%
[18:39:56] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:56] [INFO] [BloodDecal] Blood puddle created at (1639.083, 2055.348) (added to group)
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.447, 1964.285), shooter_id=176764752105, bullet_pos=(1349.781, 1839.895)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=416.666961669922
[18:39:56] [INFO] [Bullet] Distance to wall: 416.666961669922 (28.3716196030872% of viewport)
[18:39:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.45, 1964.16), shooter_id=176764752105, bullet_pos=(1047.638, 1694.412)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=749.999816894531
[18:39:56] [INFO] [Bullet] Distance to wall: 749.999816894531 (51.0688666604035% of viewport)
[18:39:56] [INFO] [Bullet] Distance-based penetration chance: 87.0863222295293%
[18:39:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(63.62331, 2253.455)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=1708.33312988281
[18:39:56] [INFO] [Bullet] Distance to wall: 1708.33312988281 (116.32354416135% of viewport)
[18:39:56] [INFO] [Bullet] Distance-based penetration chance: 26.7352911677301%
[18:39:56] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:56] [INFO] [LastChance] Threat detected: @Area2D@2741
[18:39:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:56] [INFO] [BloodDecal] Blood puddle created at (1680.617, 2082.594) (added to group)
[18:39:56] [INFO] [BloodDecal] Blood puddle created at (1701.504, 2062.98) (added to group)
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [BloodDecal] Blood puddle created at (1723.537, 2037.958) (added to group)
[18:39:56] [INFO] [LastChance] Threat detected: @Area2D@2751
[18:39:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [BloodDecal] Blood puddle created at (1735.879, 2034.571) (added to group)
[18:39:56] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:56] [INFO] [Player] Spawning blood effect at (1576.479, 1996.973), dir=(1, 0), lethal=False (C#)
[18:39:56] [INFO] [ImpactEffects] spawn_blood_effect called at (1576.479, 1996.973), dir=(1, 0), lethal=false
[18:39:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:56] [INFO] [ImpactEffects] Blood effect spawned at (1576.479, 1996.973) (scale=1)
[18:39:56] [INFO] [BloodDecal] Blood puddle created at (1686.447, 2082.309) (added to group)
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [ReplayManager] Recording frame 3780 (60,6s): player_valid=True, enemies=10
[18:39:56] [INFO] [LastChance] Threat detected: @Area2D@2759
[18:39:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:56] [INFO] [BloodDecal] Blood puddle created at (1723.784, 2137.546) (added to group)
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.172, 1963.514), shooter_id=176764752105, bullet_pos=(38.45105, 436.4231)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=2291.66577148438
[18:39:56] [INFO] [Bullet] Distance to wall: 2291.66577148438 (156.043736382144% of viewport)
[18:39:56] [INFO] [Bullet] Distance-based penetration chance: 18.7912527235713%
[18:39:56] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:56] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:39:56] [INFO] [Player] Spawning blood effect at (1576.479, 1996.973), dir=(1, 0), lethal=False (C#)
[18:39:56] [INFO] [ImpactEffects] spawn_blood_effect called at (1576.479, 1996.973), dir=(1, 0), lethal=false
[18:39:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:39:56] [INFO] [ImpactEffects] Blood effect spawned at (1576.479, 1996.973) (scale=1)
[18:39:56] [INFO] [LastChance] Threat detected: @Area2D@2763
[18:39:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:39:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.447, 1964.285), shooter_id=176764752105, bullet_pos=(1349.84, 1839.707)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=416.667175292969
[18:39:56] [INFO] [Bullet] Distance to wall: 416.667175292969 (28.3716341490733% of viewport)
[18:39:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.447, 1964.285), shooter_id=176764752105, bullet_pos=(862.2418, 2658.573)
[18:39:56] [INFO] [Bullet] Using shooter_position, distance=1124.99987792969
[18:39:56] [INFO] [Bullet] Distance to wall: 1124.99987792969 (76.6033103805953% of viewport)
[18:39:56] [INFO] [Bullet] Distance-based penetration chance: 57.2961378893055%
[18:39:56] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1811.402, 1941.04), source=ENEMY (PatrolEnemy2), range=1200, listeners=5
[18:39:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=1
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1638.043, 2051.094) (added to group)
[18:39:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.447, 1964.285), shooter_id=176764752105, bullet_pos=(1335.814, 1899.718)
[18:39:57] [INFO] [Bullet] Using shooter_position, distance=416.66650390625
[18:39:57] [INFO] [Bullet] Distance to wall: 416.66650390625 (28.371588433117% of viewport)
[18:39:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.447, 1964.285), shooter_id=176764752105, bullet_pos=(63.64488, 1352.008)
[18:39:57] [INFO] [Bullet] Using shooter_position, distance=1791.66796875
[18:39:57] [INFO] [Bullet] Distance to wall: 1791.66796875 (121.997966579073% of viewport)
[18:39:57] [INFO] [Bullet] Distance-based penetration chance: 25.6004066841854%
[18:39:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1704.815, 2062.866) (added to group)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1672.798, 2013.269) (added to group)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1666.332, 2064.288) (added to group)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1663.67, 2060.391) (added to group)
[18:39:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.447, 1964.285), shooter_id=176764752105, bullet_pos=(1351.815, 1833.571)
[18:39:57] [INFO] [Bullet] Using shooter_position, distance=416.666687011719
[18:39:57] [INFO] [Bullet] Distance to wall: 416.666687011719 (28.3716009011051% of viewport)
[18:39:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:39:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1666.288, 2061.466) (added to group)
[18:39:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.447, 1964.285), shooter_id=176764752105, bullet_pos=(39.12705, 1957.364)
[18:39:57] [INFO] [Bullet] Using shooter_position, distance=1708.33422851563
[18:39:57] [INFO] [Bullet] Distance to wall: 1708.33422851563 (116.323618969278% of viewport)
[18:39:57] [INFO] [Bullet] Distance-based penetration chance: 26.7352762061444%
[18:39:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1690.383, 2016.33) (added to group)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1665.911, 1992.127) (added to group)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1709.813, 2056.741) (added to group)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1674.046, 2096.174) (added to group)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1746.817, 2101.653) (added to group)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1695.634, 2100.825) (added to group)
[18:39:57] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[18:39:57] [ENEMY] [GuardEnemy2] FLANKING started: target=(1486.567, 1818.323), side=left, pos=(2290.066, 909.9964)
[18:39:57] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1707.206, 2005.109) (added to group)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1681.585, 2028.852) (added to group)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1737.112, 2088.471) (added to group)
[18:39:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.447, 1964.285), shooter_id=176764752105, bullet_pos=(49.02762, 2939.191)
[18:39:57] [INFO] [Bullet] Using shooter_position, distance=1958.33361816406
[18:39:57] [INFO] [Bullet] Distance to wall: 1958.33361816406 (133.346537118782% of viewport)
[18:39:57] [INFO] [Bullet] Distance-based penetration chance: 23.3306925762437%
[18:39:57] [INFO] [Bullet] Caliber cannot penetrate walls
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1698.673, 2080.714) (added to group)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1790.29, 2007.87) (added to group)
[18:39:57] [ENEMY] [PatrolEnemy2] Hit: dmg=50, hp=4/4->-46/4
[18:39:57] [INFO] [ImpactEffects] spawn_blood_effect called at (1811.402, 1941.04), dir=(1, 0), lethal=true
[18:39:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:39:57] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:39:57] [INFO] [ImpactEffects] Wall found for blood splatter at (1850, 1941.04) (dist=38 px)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1849, 1941.04) (added to group)
[18:39:57] [INFO] [ImpactEffects] Blood effect spawned at (1811.402, 1941.04) (scale=1.5)
[18:39:57] [ENEMY] [PatrolEnemy2] Enemy died (ricochet: false, penetration: false)
[18:39:57] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:39:57] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy2 (remaining: 4)
[18:39:57] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:39:57] [ENEMY] [PatrolEnemy2] Death animation started with hit direction: (1, 0)
[18:39:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1576.479, 1996.973), source=PLAYER (SniperRifle), range=3000, listeners=4
[18:39:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1684.564, 2048.905) (added to group)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1695.155, 2100.428) (added to group)
[18:39:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.447, 1964.285), shooter_id=176764752105, bullet_pos=(805.438, 2652.568)
[18:39:57] [INFO] [Bullet] Using shooter_position, distance=1166.66821289063
[18:39:57] [INFO] [Bullet] Distance to wall: 1166.66821289063 (79.4405839293972% of viewport)
[18:39:57] [INFO] [Bullet] Distance-based penetration chance: 53.9859854157033%
[18:39:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1729.063, 2061.488) (added to group)
[18:39:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.447, 1964.285), shooter_id=176764752105, bullet_pos=(60.32373, 2488.426)
[18:39:57] [INFO] [Bullet] Using shooter_position, distance=1766.66625976563
[18:39:57] [INFO] [Bullet] Distance to wall: 1766.66625976563 (120.295554240238% of viewport)
[18:39:57] [INFO] [Bullet] Distance-based penetration chance: 25.9408891519525%
[18:39:57] [INFO] [Bullet] Penetration failed (distance roll)
[18:39:57] [INFO] [ReplayManager] Recording frame 3840 (61,6s): player_valid=True, enemies=10
[18:39:57] [INFO] [BloodDecal] Blood puddle created at (1908.927, 1968.658) (added to group)
[18:39:58] [INFO] [BloodDecal] Blood puddle created at (1904.829, 1970.3) (added to group)
[18:39:58] [ENEMY] [PatrolEnemy2] Ragdoll activated
[18:39:58] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:39:58] [INFO] [BloodDecal] Blood puddle created at (1920.514, 2003.466) (added to group)
[18:39:58] [INFO] [BloodDecal] Blood puddle created at (1994.45, 2015.094) (added to group)
[18:39:58] [INFO] [BloodDecal] Blood puddle created at (1908.385, 1986.064) (added to group)
[18:39:58] [INFO] [BloodDecal] Blood puddle created at (1931.407, 1997.526) (added to group)
[18:39:58] [INFO] [BloodDecal] Blood puddle created at (1943.526, 1976.804) (added to group)
[18:39:58] [INFO] [BloodDecal] Blood puddle created at (1937.41, 2078.154) (added to group)
[18:39:58] [INFO] [BloodDecal] Blood puddle created at (2034.362, 2079.725) (added to group)
[18:39:58] [INFO] [BloodDecal] Blood puddle created at (2014.431, 2109.576) (added to group)
[18:39:58] [INFO] [BloodDecal] Blood puddle created at (1942.617, 2077.513) (added to group)
[18:39:58] [INFO] [BloodDecal] Blood puddle created at (1968.938, 1996.102) (added to group)
[18:39:58] [INFO] [ReplayManager] Recording frame 3900 (62,4s): player_valid=True, enemies=10
[18:39:59] [ENEMY] [PatrolEnemy2] Death animation completed
[18:39:59] [ENEMY] [GuardEnemy2] FLANKING stuck (2.0s), pos=(2290.066, 909.9964), fail=1
[18:39:59] [ENEMY] [GuardEnemy2] State: FLANKING -> PURSUING
[18:39:59] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:39:59] [INFO] [ReplayManager] Recording frame 3960 (63,2s): player_valid=True, enemies=10
[18:40:00] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:40:00] [INFO] [ReplayManager] Recording frame 4020 (64,0s): player_valid=True, enemies=10
[18:40:01] [INFO] [ReplayManager] Recording frame 4080 (65,0s): player_valid=True, enemies=10
[18:40:01] [ENEMY] [GuardEnemy2] State: PURSUING -> COMBAT
[18:40:02] [ENEMY] [GuardEnemy2] State: COMBAT -> PURSUING
[18:40:02] [INFO] [ReplayManager] Recording frame 4140 (66,0s): player_valid=True, enemies=10
[18:40:02] [ENEMY] [GuardEnemy2] Hit: dmg=50, hp=3/3->-47/3
[18:40:02] [INFO] [ImpactEffects] spawn_blood_effect called at (2290.067, 875.4328), dir=(1, 0), lethal=true
[18:40:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:40:02] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:40:02] [INFO] [ImpactEffects] Blood effect spawned at (2290.067, 875.4328) (scale=1.5)
[18:40:02] [ENEMY] [GuardEnemy2] Enemy died (ricochet: false, penetration: false)
[18:40:02] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:40:02] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy2 (remaining: 3)
[18:40:02] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:40:02] [ENEMY] [GuardEnemy2] Death animation started with hit direction: (1, 0)
[18:40:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1536.376, 1564.282), source=PLAYER (SniperRifle), range=3000, listeners=3
[18:40:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2373.968, 904.9938) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2344.019, 881.5715) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2338.425, 878.4457) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2355.592, 869.017) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2358.379, 917.7693) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2396.326, 921.0562) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2375.043, 897.5712) (added to group)
[18:40:03] [ENEMY] [GuardEnemy2] Ragdoll activated
[18:40:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2375.713, 913.0747) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2398.878, 943.465) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2445.446, 970.7739) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2473.674, 993.6644) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2422.4, 920.3964) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2504.509, 1026.097) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2436.625, 972.7654) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2472.247, 915.9119) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2431.606, 971.0016) (added to group)
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2396.788, 928.4407) (added to group)
[18:40:03] [INFO] [ReplayManager] Recording frame 4200 (66,9s): player_valid=True, enemies=10
[18:40:03] [INFO] [BloodDecal] Blood puddle created at (2433.115, 974.4981) (added to group)
[18:40:04] [INFO] [ReplayManager] Recording frame 4260 (67,7s): player_valid=True, enemies=10
[18:40:04] [ENEMY] [GuardEnemy2] Death animation completed
[18:40:05] [INFO] [ReplayManager] Recording frame 4320 (68,5s): player_valid=True, enemies=10
[18:40:05] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:40:06] [INFO] [ReplayManager] Recording frame 4380 (69,4s): player_valid=True, enemies=10
[18:40:07] [ENEMY] [SniperEnemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=176.4°, current=-123.8°, player=(1331,666), corner_timer=0.00
[18:40:07] [ENEMY] [SniperEnemy1] State: IDLE -> COMBAT
[18:40:07] [INFO] [ReplayManager] Recording frame 4440 (70,4s): player_valid=True, enemies=10
[18:40:08] [ENEMY] [SniperEnemy1] SNIPER: detection delay elapsed (0.22s)
[18:40:08] [ENEMY] [SniperEnemy1] SNIPER: shooting at visible player
[18:40:08] [ENEMY] [SniperEnemy1] SNIPER _shoot: blocked - aim_dot=-0.966 (164.9 deg off), can_see=true, rot=12.4
[18:40:08] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[18:40:08] [INFO] [ReplayManager] Recording frame 4500 (71,4s): player_valid=True, enemies=10
[18:40:09] [ENEMY] [GuardEnemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-115.1°, current=-123.8°, player=(1618,392), corner_timer=0.00
[18:40:09] [ENEMY] [GuardEnemy6] Player distracted - priority attack triggered
[18:40:09] [INFO] [ReplayManager] Recording frame 4560 (72,4s): player_valid=True, enemies=10
[18:40:09] [ENEMY] [GuardEnemy6] Player distracted - priority attack triggered
[18:40:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3300.549, 3969.945), source=ENEMY (GuardEnemy6), range=2000, listeners=3
[18:40:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [ENEMY] [GuardEnemy6] Player distracted - priority attack triggered
[18:40:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3390.392, 3850.869), source=ENEMY (GuardEnemy6), range=2000, listeners=3
[18:40:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [ReplayManager] Recording frame 4620 (73,4s): player_valid=True, enemies=10
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-22.9°, current=-111.8°, player=(2104,572), corner_timer=0.00
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:10] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [ENEMY] [SniperEnemy1] SNIPER: shooting at visible player
[18:40:11] [ENEMY] [SniperEnemy1] 
[18:40:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 400), source=ENEMY (SniperEnemy1), range=3000, listeners=3
[18:40:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [ReplayManager] Recording frame 4680 (74,4s): player_valid=True, enemies=10
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:40:12] [ENEMY] [SniperEnemy1] Player reloading: false -> true
[18:40:12] [ENEMY] [SniperEnemy2] Player reloading: false -> true
[18:40:12] [ENEMY] [GuardEnemy6] Player reloading: false -> true
[18:40:12] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2530.523, 618.1008), source=PLAYER (Player), range=900, listeners=3
[18:40:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[18:40:12] [ENEMY] [SniperEnemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=3077), can_see=true
[18:40:12] [ENEMY] [SniperEnemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=5107), can_see=false
[18:40:12] [ENEMY] [GuardEnemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=3342), can_see=false
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:40:12] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:40:12] [INFO] [Player.Reload.Anim] LeftArm: pos=(15.55146, 5.775096), target=(16, 6), base=(28, 6)
[18:40:12] [INFO] [Player.Reload.Anim] RightArm: pos=(-3.0002208, 7.887373), target=(-3, 8), base=(-3, 6)
[18:40:12] [INFO] [ReplayManager] Recording frame 4740 (75,4s): player_valid=True, enemies=10
[18:40:12] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:40:12] [ENEMY] [SniperEnemy1] Player reloading: true -> false
[18:40:12] [ENEMY] [SniperEnemy2] Player reloading: true -> false
[18:40:12] [ENEMY] [GuardEnemy6] Player reloading: true -> false
[18:40:12] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:40:13] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:40:13] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> IN_COVER
[18:40:13] [ENEMY] [GuardEnemy6] State: IN_COVER -> PURSUING
[18:40:13] [ENEMY] [GuardEnemy6] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-105.3°, current=-106.1°, player=(2534,626), corner_timer=0.00
[18:40:13] [INFO] [ReplayManager] Recording frame 4800 (76,4s): player_valid=True, enemies=10
[18:40:14] [ENEMY] [SniperEnemy1] SNIPER: shooting at visible player
[18:40:14] [ENEMY] [SniperEnemy1] 
[18:40:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 400), source=ENEMY (SniperEnemy1), range=3000, listeners=3
[18:40:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[18:40:14] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=174.1°, current=174.1°, player=(2640,703), corner_timer=0.00
[18:40:14] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:40:14] [INFO] [GrenadeBase] Grenade created at (3403.982, 3802.078) (frozen)
[18:40:14] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:40:14] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[18:40:14] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[18:40:14] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[18:40:14] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:40:14] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[18:40:14] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.261894, -0.965097), Speed: 1186.5 (unfrozen)
[18:40:14] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[18:40:14] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[18:40:14] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[18:40:14] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (3190.668, 3283.979), Distance: 600
[18:40:14] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-103.3°, current=-103.4°, player=(2682,746), corner_timer=0.00
[18:40:14] [ENEMY] [GuardEnemy6] Player distracted - priority attack triggered
[18:40:14] [ENEMY] [GuardEnemy6] State: PURSUING -> COMBAT
[18:40:14] [INFO] [ReplayManager] Recording frame 4860 (77,4s): player_valid=True, enemies=10
[18:40:15] [INFO] [GrenadeBase] Collision detected with WallBottomL (type: StaticBody2D)
[18:40:15] [INFO] [FragGrenade] Impact detected! Body: WallBottomL (type: StaticBody2D), triggering explosion
[18:40:15] [INFO] [FragGrenade] Impact detected - exploding immediately!
[18:40:15] [INFO] [GrenadeBase] EXPLODED at (3177.808, 2937.31)!
[18:40:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(3177.808, 2937.31), source=NEUTRAL (FragGrenade), range=2937, listeners=3
[18:40:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[18:40:15] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 7.3 degrees
[18:40:15] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 92.0 degrees
[18:40:15] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 182.9 degrees
[18:40:15] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 281.3 degrees
[18:40:15] [INFO] [ImpactEffects] Spawning explosion visual effect at (3177.808, 2937.31) (radius=225) - using shadow-based wall occlusion
[18:40:15] [INFO] [GrenadeTimer] Impact detected with WallBottomL - EXPLODING!
[18:40:15] [INFO] [GrenadeTimer] EXPLODED at (3177.8076, 2937.3098)!
[18:40:15] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[18:40:15] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[18:40:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(3177.808, 2937.31), source=NEUTRAL (FragGrenade), range=2938, listeners=3
[18:40:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[18:40:15] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (3177.8076, 2937.3098) (shadow-based wall occlusion)
[18:40:15] [ENEMY] [GuardEnemy6] Player distracted - priority attack triggered
[18:40:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3369.58, 3637.581), source=ENEMY (GuardEnemy6), range=2000, listeners=3
[18:40:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[18:40:15] [ENEMY] [GuardEnemy6] Hit: dmg=1, hp=3/3->2/3
[18:40:15] [INFO] [ImpactEffects] spawn_blood_effect called at (3362.723, 3606.324), dir=(0.25543, 0.966828), lethal=false
[18:40:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:40:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:40:15] [INFO] [ImpactEffects] Blood effect spawned at (3362.723, 3606.324) (scale=1)
[18:40:15] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[18:40:15] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=26.1°, current=-63.2°, player=(2754,831), corner_timer=0.00
[18:40:15] [INFO] [BloodDecal] Blood puddle created at (3402.022, 3673.589) (added to group)
[18:40:15] [INFO] [BloodDecal] Blood puddle created at (3411.587, 3681.212) (added to group)
[18:40:15] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[18:40:15] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[18:40:15] [INFO] [BloodDecal] Blood puddle created at (3393.078, 3720.085) (added to group)
[18:40:15] [INFO] [BloodDecal] Blood puddle created at (3416.36, 3720.139) (added to group)
[18:40:15] [INFO] [BloodDecal] Blood puddle created at (3379.657, 3749.249) (added to group)
[18:40:15] [INFO] [BloodDecal] Blood puddle created at (3450.053, 3746.126) (added to group)
[18:40:15] [INFO] [BloodDecal] Blood puddle created at (3373.762, 3722.634) (added to group)
[18:40:15] [INFO] [BloodDecal] Blood puddle created at (3345.805, 3817.026) (added to group)
[18:40:15] [INFO] [ReplayManager] Recording frame 4920 (78,4s): player_valid=True, enemies=10
[18:40:15] [INFO] [BloodDecal] Blood puddle created at (3418.573, 3790.688) (added to group)
[18:40:15] [INFO] [BloodDecal] Blood puddle created at (3353.615, 3846.036) (added to group)
[18:40:16] [INFO] [ReplayManager] Recording frame 4980 (79,4s): player_valid=True, enemies=10
[18:40:17] [ENEMY] [SniperEnemy1] SNIPER: shooting through 0 walls
[18:40:17] [ENEMY] [SniperEnemy1] 
[18:40:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 400), source=ENEMY (SniperEnemy1), range=3000, listeners=3
[18:40:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[18:40:17] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:40:17] [INFO] [GrenadeBase] Grenade created at (5560.505, 406.3389) (frozen)
[18:40:17] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:40:17] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[18:40:17] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[18:40:17] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[18:40:17] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:40:17] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[18:40:17] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.987363, 0.158472), Speed: 1186.5 (unfrozen)
[18:40:17] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[18:40:17] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[18:40:17] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[18:40:17] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (5003.043, 460.3528), Distance: 600
[18:40:17] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> IN_COVER
[18:40:17] [ENEMY] [GuardEnemy6] State: IN_COVER -> PURSUING
[18:40:17] [INFO] [ReplayManager] Recording frame 5040 (80,4s): player_valid=True, enemies=10
[18:40:17] [ENEMY] [GuardEnemy6] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-102.9°, current=31.9°, player=(2754,831), corner_timer=0.00
[18:40:18] [INFO] [ReplayManager] Recording frame 5100 (81,4s): player_valid=True, enemies=10
[18:40:19] [INFO] [GrenadeBase] Collision detected with WallTop3 (type: StaticBody2D)
[18:40:19] [INFO] [FragGrenade] Impact detected! Body: WallTop3 (type: StaticBody2D), triggering explosion
[18:40:19] [INFO] [FragGrenade] Impact detected - exploding immediately!
[18:40:19] [INFO] [GrenadeBase] EXPLODED at (4068.861, 641.8312)!
[18:40:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(4068.861, 641.8312), source=NEUTRAL (FragGrenade), range=2937, listeners=3
[18:40:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[18:40:19] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -4.7 degrees
[18:40:19] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 91.4 degrees
[18:40:19] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 171.3 degrees
[18:40:19] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 285.4 degrees
[18:40:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (4068.861, 641.8312) (radius=225) - using shadow-based wall occlusion
[18:40:19] [INFO] [GrenadeTimer] Impact detected with WallTop3 - EXPLODING!
[18:40:19] [INFO] [GrenadeTimer] EXPLODED at (4068.861, 641.83124)!
[18:40:19] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[18:40:19] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[18:40:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(4068.861, 641.8312), source=NEUTRAL (FragGrenade), range=2938, listeners=3
[18:40:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[18:40:19] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (4068.861, 641.83124) (shadow-based wall occlusion)
[18:40:19] [ENEMY] [GuardEnemy6] FLANKING started: target=(3039.497, 1050.695), side=left, pos=(3382.306, 3578.749)
[18:40:19] [ENEMY] [GuardEnemy6] State: PURSUING -> FLANKING
[18:40:19] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 172.3°
[18:40:19] [ENEMY] [SniperEnemy1] Hit: dmg=1, hp=5/5->4/5
[18:40:19] [INFO] [ImpactEffects] spawn_blood_effect called at (5600, 400), dir=(-0.990888, -0.134691), lethal=false
[18:40:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:40:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:40:19] [INFO] [ImpactEffects] Blood effect spawned at (5600, 400) (scale=1)
[18:40:19] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 171.9°
[18:40:19] [INFO] [ReplayManager] Recording frame 5160 (82,4s): player_valid=True, enemies=10
[18:40:19] [INFO] [BloodDecal] Blood puddle created at (5501.66, 423.828) (added to group)
[18:40:20] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 171.6°
[18:40:20] [INFO] [BloodDecal] Blood puddle created at (5518.351, 393.1708) (added to group)
[18:40:20] [INFO] [BloodDecal] Blood puddle created at (5494.144, 406.3174) (added to group)
[18:40:20] [INFO] [BloodDecal] Blood puddle created at (5494.865, 448.5135) (added to group)
[18:40:20] [ENEMY] [SniperEnemy1] SNIPER: shooting through 0 walls
[18:40:20] [ENEMY] [SniperEnemy1] 
[18:40:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 400), source=ENEMY (SniperEnemy1), range=3000, listeners=3
[18:40:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[18:40:20] [INFO] [BloodDecal] Blood puddle created at (5522.739, 429.3804) (added to group)
[18:40:20] [INFO] [BloodDecal] Blood puddle created at (5480.351, 428.0749) (added to group)
[18:40:20] [INFO] [BloodDecal] Blood puddle created at (5461.921, 457.6442) (added to group)
[18:40:20] [INFO] [BloodDecal] Blood puddle created at (5434.7, 399.166) (added to group)
[18:40:20] [INFO] [BloodDecal] Blood puddle created at (5476.018, 531.3221) (added to group)
[18:40:20] [INFO] [BloodDecal] Blood puddle created at (5481.624, 539.794) (added to group)
[18:40:20] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 171.1°
[18:40:20] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 171.3°
[18:40:20] [INFO] [ReplayManager] Recording frame 5220 (83,4s): player_valid=True, enemies=10
[18:40:21] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 172.6°
[18:40:21] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 153.0°
[18:40:21] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 157.2°
[18:40:21] [INFO] [ReplayManager] Recording frame 5280 (84,4s): player_valid=True, enemies=10
[18:40:22] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -179.2°
[18:40:22] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -179.0°
[18:40:22] [ENEMY] [SniperEnemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-133.2°, current=-123.8°, player=(3067,2002), corner_timer=0.00
[18:40:22] [ENEMY] [SniperEnemy2] State: IDLE -> COMBAT
[18:40:22] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -178.8°
[18:40:22] [INFO] [ReplayManager] Recording frame 5340 (85,4s): player_valid=True, enemies=10
[18:40:22] [ENEMY] [SniperEnemy2] SNIPER: detection delay elapsed (0.22s)
[18:40:22] [ENEMY] [SniperEnemy2] SNIPER: shooting at visible player
[18:40:22] [ENEMY] [SniperEnemy2] SNIPER _shoot: blocked - aim_dot=-0.523 (121.5 deg off), can_see=true, rot=-12.4
[18:40:23] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 158.2°
[18:40:23] [ENEMY] [SniperEnemy1] SNIPER: shooting through 0 walls
[18:40:23] [ENEMY] [SniperEnemy1] 
[18:40:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 400), source=ENEMY (SniperEnemy1), range=3000, listeners=3
[18:40:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[18:40:23] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-135.2°, current=-136.1°, player=(3067,2188), corner_timer=0.00
[18:40:23] [ENEMY] [GuardEnemy6] FLANKING corner check: angle -178.2°
[18:40:23] [ENEMY] [SniperEnemy1] SEARCHING started: center=(5600, 400), radius=100, waypoints=5
[18:40:23] [ENEMY] [SniperEnemy1] State: COMBAT -> SEARCHING
[18:40:23] [ENEMY] [GuardEnemy6] FLANKING stuck (2.0s), pos=(3235.346, 2974.067), fail=1
[18:40:23] [ENEMY] [GuardEnemy6] State: FLANKING -> PURSUING
[18:40:23] [ENEMY] [GuardEnemy6] PURSUING corner check: angle 133.4°
[18:40:23] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-102.1°, current=-142.7°, player=(3067,2230), corner_timer=0.30
[18:40:23] [ENEMY] [GuardEnemy6] Player distracted - priority attack triggered
[18:40:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3226.732, 2974.066), source=ENEMY (GuardEnemy6), range=2000, listeners=3
[18:40:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[18:40:23] [INFO] [ReplayManager] Recording frame 5400 (86,4s): player_valid=True, enemies=10
[18:40:23] [ENEMY] [GuardEnemy6] State: PURSUING -> RETREATING
[18:40:24] [ENEMY] [GuardEnemy6] Player distracted - priority attack triggered
[18:40:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3190.021, 2920.646), source=ENEMY (GuardEnemy6), range=2000, listeners=3
[18:40:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=0
[18:40:24] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle -180.0°
[18:40:24] [INFO] [ReplayManager] Recording frame 5460 (87,4s): player_valid=True, enemies=10
[18:40:25] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=133.4°, current=-102.1°, player=(3067,2358), corner_timer=0.10
[18:40:25] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[18:40:25] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[18:40:25] [INFO] [ReplayManager] Recording frame 5520 (88,4s): player_valid=True, enemies=10
[18:40:25] [ENEMY] [SniperEnemy2] SNIPER: shooting through 0 walls
[18:40:25] [ENEMY] [SniperEnemy2] 
[18:40:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 4700), source=ENEMY (SniperEnemy2), range=3000, listeners=3
[18:40:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=1
[18:40:26] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle -28.5°
[18:40:26] [INFO] [ReplayManager] Recording frame 5580 (89,4s): player_valid=True, enemies=10
[18:40:27] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> IN_COVER
[18:40:27] [ENEMY] [GuardEnemy6] State: IN_COVER -> PURSUING
[18:40:27] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-180.0°, current=133.4°, player=(2954,2918), corner_timer=0.10
[18:40:27] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 66.5°
[18:40:27] [ENEMY] [GuardEnemy6] Hit: dmg=50, hp=2/3->-48/3
[18:40:27] [INFO] [ImpactEffects] spawn_blood_effect called at (3188.158, 2918.207), dir=(1, 0), lethal=true
[18:40:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:40:27] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:40:27] [INFO] [ImpactEffects] Blood effect spawned at (3188.158, 2918.207) (scale=1.5)
[18:40:27] [ENEMY] [GuardEnemy6] Enemy died (ricochet: false, penetration: false)
[18:40:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:40:27] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy6 (remaining: 2)
[18:40:27] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:40:27] [ENEMY] [GuardEnemy6] Death animation started with hit direction: (1, 0)
[18:40:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2954.976, 2918.855), source=PLAYER (SniperRifle), range=3000, listeners=2
[18:40:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=0
[18:40:27] [INFO] [ReplayManager] Recording frame 5640 (90,4s): player_valid=True, enemies=10
[18:40:28] [INFO] [BloodDecal] Blood puddle created at (3274.417, 2922.313) (added to group)
[18:40:28] [INFO] [BloodDecal] Blood puddle created at (3260.675, 2923.763) (added to group)
[18:40:28] [INFO] [BloodDecal] Blood puddle created at (3271.364, 2983.234) (added to group)
[18:40:28] [INFO] [BloodDecal] Blood puddle created at (3247.194, 2966.756) (added to group)
[18:40:28] [INFO] [BloodDecal] Blood puddle created at (3300.235, 2923.922) (added to group)
[18:40:28] [ENEMY] [GuardEnemy6] Ragdoll activated
[18:40:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:40:28] [INFO] [BloodDecal] Blood puddle created at (3359.584, 3066.712) (added to group)
[18:40:28] [INFO] [BloodDecal] Blood puddle created at (3287.116, 3045.413) (added to group)
[18:40:28] [INFO] [BloodDecal] Blood puddle created at (3323.073, 3039.321) (added to group)
[18:40:28] [INFO] [BloodDecal] Blood puddle created at (3380.985, 3117.363) (added to group)
[18:40:28] [INFO] [ReplayManager] Recording frame 5700 (91,2s): player_valid=True, enemies=10
[18:40:29] [INFO] [BloodyFeet:SniperEnemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:40:29] [ENEMY] [SniperEnemy2] SNIPER: shooting through 0 walls
[18:40:29] [ENEMY] [SniperEnemy2] 
[18:40:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 4700), source=ENEMY (SniperEnemy2), range=3000, listeners=2
[18:40:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:29] [ENEMY] [GuardEnemy6] Death animation completed
[18:40:29] [INFO] [ReplayManager] Recording frame 5760 (92,0s): player_valid=True, enemies=10
[18:40:30] [ENEMY] [SniperEnemy1] SEARCHING: Expand outer ring r=175 wps=4
[18:40:30] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle -154.5°
[18:40:30] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:40:30] [INFO] [ReplayManager] Recording frame 5820 (92,8s): player_valid=True, enemies=10
[18:40:31] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle 127.5°
[18:40:31] [INFO] [ReplayManager] Recording frame 5880 (93,8s): player_valid=True, enemies=10
[18:40:31] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:40:31] [INFO] [BloodyFeet:SniperEnemy1] Blood ran out - no more footprints
[18:40:32] [ENEMY] [SniperEnemy1] SEARCHING corner check: angle -52.5°
[18:40:32] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=122.2°, current=123.7°, player=(3888,3220), corner_timer=0.12
[18:40:32] [ENEMY] [SniperEnemy1] SEARCHING: Player spotted! Transitioning to COMBAT
[18:40:32] [ENEMY] [SniperEnemy1] State: SEARCHING -> COMBAT
[18:40:32] [ENEMY] [SniperEnemy2] SNIPER: shooting through 0 walls
[18:40:32] [ENEMY] [SniperEnemy2] 
[18:40:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 4700), source=ENEMY (SniperEnemy2), range=3000, listeners=2
[18:40:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:32] [ENEMY] [SniperEnemy1] SNIPER: detection delay elapsed (0.22s)
[18:40:32] [ENEMY] [SniperEnemy1] SNIPER: shooting at visible player
[18:40:32] [ENEMY] [SniperEnemy1] SNIPER _shoot: blocked - aim_dot=0.542 (57.2 deg off), can_see=true, rot=64.0
[18:40:32] [INFO] [ReplayManager] Recording frame 5940 (94,8s): player_valid=True, enemies=10
[18:40:33] [ENEMY] [SniperEnemy2] SEARCHING started: center=(5600, 4700), radius=100, waypoints=5
[18:40:33] [ENEMY] [SniperEnemy2] State: COMBAT -> SEARCHING
[18:40:33] [INFO] [ScoreManager] Combo ended at 1. Max combo: 2
[18:40:33] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=116.8°, current=117.8°, player=(4137,3469), corner_timer=0.12
[18:40:33] [INFO] [ReplayManager] Recording frame 6000 (95,8s): player_valid=True, enemies=10
[18:40:34] [INFO] [Player] Invincibility mode: OFF
[18:40:34] [INFO] [ExperimentalSettings] Invincibility mode disabled
[18:40:34] [INFO] [GameManager] Invincibility mode toggled: OFF
[18:40:34] [ENEMY] [SniperEnemy2] SEARCHING corner check: angle 180.0°
[18:40:34] [ENEMY] [SniperEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-136.7°, current=-138.4°, player=(4436,3557), corner_timer=0.17
[18:40:34] [ENEMY] [SniperEnemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[18:40:34] [ENEMY] [SniperEnemy2] State: SEARCHING -> COMBAT
[18:40:34] [ENEMY] [SniperEnemy2] SNIPER: detection delay elapsed (0.22s)
[18:40:34] [INFO] [Player] Invincibility mode: ON
[18:40:34] [INFO] [ExperimentalSettings] Invincibility mode enabled
[18:40:34] [INFO] [GameManager] Invincibility mode toggled: ON
[18:40:34] [INFO] [ReplayManager] Recording frame 6060 (96,8s): player_valid=True, enemies=10
[18:40:35] [ENEMY] [SniperEnemy2] SNIPER: shooting at visible player
[18:40:35] [ENEMY] [SniperEnemy2] 
[18:40:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 4651.229), source=ENEMY (SniperEnemy2), range=3000, listeners=2
[18:40:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:35] [ENEMY] [SniperEnemy1] SNIPER: shooting through 0 walls
[18:40:35] [ENEMY] [SniperEnemy1] 
[18:40:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5760.318, 257.9249), source=ENEMY (SniperEnemy1), range=3000, listeners=2
[18:40:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:35] [INFO] [ReplayManager] Recording frame 6120 (97,8s): player_valid=True, enemies=10
[18:40:36] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=103.4°, current=103.4°, player=(4856,4046), corner_timer=0.12
[18:40:36] [INFO] [ReplayManager] Recording frame 6180 (98,8s): player_valid=True, enemies=10
[18:40:37] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=101.7°, current=101.7°, player=(4947,4201), corner_timer=0.12
[18:40:37] [ENEMY] [SniperEnemy2] SNIPER: retreating, player very close (733)
[18:40:37] [ENEMY] [SniperEnemy2] State: COMBAT -> SEEKING_COVER
[18:40:37] [ENEMY] [SniperEnemy2] State: SEEKING_COVER -> IN_COVER
[18:40:37] [INFO] [ReplayManager] Recording frame 6240 (99,9s): player_valid=True, enemies=10
[18:40:38] [ENEMY] [SniperEnemy2] SNIPER: shooting from cover at visible player
[18:40:38] [ENEMY] [SniperEnemy2] 
[18:40:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 4651.229), source=ENEMY (SniperEnemy2), range=3000, listeners=2
[18:40:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:38] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=96.5°, current=96.5°, player=(5277,4524), corner_timer=0.12
[18:40:38] [ENEMY] [SniperEnemy1] SNIPER: shooting at visible player
[18:40:38] [ENEMY] [SniperEnemy1] 
[18:40:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5760.318, 257.9249), source=ENEMY (SniperEnemy1), range=3000, listeners=2
[18:40:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:38] [INFO] [ReplayManager] Recording frame 6300 (100,9s): player_valid=True, enemies=10
[18:40:39] [INFO] [ReplayManager] Recording frame 6360 (101,9s): player_valid=True, enemies=10
[18:40:40] [INFO] [Player.Debug] Debug mode toggled: ON
[18:40:40] [INFO] [GameManager] Debug mode toggled: ON
[18:40:40] [ENEMY] [SniperEnemy2] State: IN_COVER -> SEEKING_COVER
[18:40:40] [ENEMY] [SniperEnemy2] State: SEEKING_COVER -> IN_COVER
[18:40:40] [INFO] [ReplayManager] Recording frame 6420 (102,9s): player_valid=True, enemies=10
[18:40:41] [ENEMY] [SniperEnemy2] SNIPER: shooting from cover at visible player
[18:40:41] [ENEMY] [SniperEnemy2] SNIPER _shoot: blocked - _can_shoot()=false (bolt=true, reloading=true, ammo=0)
[18:40:41] [ENEMY] [SniperEnemy1] SNIPER: shooting at visible player
[18:40:41] [ENEMY] [SniperEnemy1] 
[18:40:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5760.318, 257.9249), source=ENEMY (SniperEnemy1), range=3000, listeners=2
[18:40:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:41] [INFO] [ReplayManager] Recording frame 6480 (103,9s): player_valid=True, enemies=10
[18:40:42] [INFO] [ReplayManager] Recording frame 6540 (104,9s): player_valid=True, enemies=10
[18:40:43] [INFO] [Player] Invincibility mode: OFF
[18:40:43] [INFO] [ExperimentalSettings] Invincibility mode disabled
[18:40:43] [INFO] [GameManager] Invincibility mode toggled: OFF
[18:40:43] [ENEMY] [SniperEnemy2] State: IN_COVER -> SEEKING_COVER
[18:40:43] [ENEMY] [SniperEnemy2] State: SEEKING_COVER -> IN_COVER
[18:40:43] [INFO] [ReplayManager] Recording frame 6600 (105,9s): player_valid=True, enemies=10
[18:40:43] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=96.5°, current=96.5°, player=(5270,4541), corner_timer=0.12
[18:40:44] [ENEMY] [SniperEnemy2] SNIPER: shooting from cover at visible player
[18:40:44] [ENEMY] [SniperEnemy2] 
[18:40:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 4651.229), source=ENEMY (SniperEnemy2), range=3000, listeners=2
[18:40:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:44] [ENEMY] [SniperEnemy1] SNIPER: shooting through 0 walls
[18:40:44] [ENEMY] [SniperEnemy1] 
[18:40:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5760.318, 257.9249), source=ENEMY (SniperEnemy1), range=3000, listeners=2
[18:40:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:44] [INFO] [ReplayManager] Recording frame 6660 (106,9s): player_valid=True, enemies=10
[18:40:45] [INFO] [ReplayManager] Recording frame 6720 (107,9s): player_valid=True, enemies=10
[18:40:46] [ENEMY] [SniperEnemy2] State: IN_COVER -> SEEKING_COVER
[18:40:46] [ENEMY] [SniperEnemy2] State: SEEKING_COVER -> IN_COVER
[18:40:46] [INFO] [ReplayManager] Recording frame 6780 (108,9s): player_valid=True, enemies=10
[18:40:47] [ENEMY] [SniperEnemy2] SNIPER: shooting from cover at visible player
[18:40:47] [ENEMY] [SniperEnemy2] 
[18:40:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 4651.229), source=ENEMY (SniperEnemy2), range=3000, listeners=2
[18:40:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:47] [ENEMY] [SniperEnemy1] SNIPER: shooting through 0 walls
[18:40:47] [ENEMY] [SniperEnemy1] 
[18:40:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5760.318, 257.9249), source=ENEMY (SniperEnemy1), range=3000, listeners=2
[18:40:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:47] [INFO] [ReplayManager] Recording frame 6840 (109,9s): player_valid=True, enemies=10
[18:40:47] [ENEMY] [SniperEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=96.5°, current=96.5°, player=(5340,3966), corner_timer=0.12
[18:40:48] [INFO] [ReplayManager] Recording frame 6900 (110,9s): player_valid=True, enemies=10
[18:40:49] [INFO] [ReplayManager] Recording frame 6960 (111,9s): player_valid=True, enemies=10
[18:40:50] [ENEMY] [SniperEnemy2] SNIPER: shooting from cover at visible player
[18:40:50] [ENEMY] [SniperEnemy2] 
[18:40:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 4651.229), source=ENEMY (SniperEnemy2), range=3000, listeners=2
[18:40:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:50] [ENEMY] [SniperEnemy1] SNIPER: shooting at visible player
[18:40:50] [ENEMY] [SniperEnemy1] SNIPER _shoot: blocked - _can_shoot()=false (bolt=true, reloading=true, ammo=0)
[18:40:50] [INFO] [ReplayManager] Recording frame 7020 (112,9s): player_valid=True, enemies=10
[18:40:51] [INFO] [ReplayManager] Recording frame 7080 (113,9s): player_valid=True, enemies=10
[18:40:52] [INFO] [ReplayManager] Recording frame 7140 (114,9s): player_valid=True, enemies=10
[18:40:53] [ENEMY] [SniperEnemy2] SNIPER: shooting from cover at visible player
[18:40:53] [ENEMY] [SniperEnemy2] 
[18:40:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 4651.229), source=ENEMY (SniperEnemy2), range=3000, listeners=2
[18:40:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:53] [ENEMY] [SniperEnemy1] SNIPER: shooting at visible player
[18:40:53] [ENEMY] [SniperEnemy1] 
[18:40:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5760.318, 257.9249), source=ENEMY (SniperEnemy1), range=3000, listeners=2
[18:40:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:53] [INFO] [ReplayManager] Recording frame 7200 (115,9s): player_valid=True, enemies=10
[18:40:54] [INFO] [ReplayManager] Recording frame 7260 (116,9s): player_valid=True, enemies=10
[18:40:55] [INFO] [ReplayManager] Recording frame 7320 (117,9s): player_valid=True, enemies=10
[18:40:56] [ENEMY] [SniperEnemy2] SNIPER: shooting from cover at visible player
[18:40:56] [ENEMY] [SniperEnemy2] 
[18:40:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 4651.229), source=ENEMY (SniperEnemy2), range=3000, listeners=2
[18:40:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:56] [ENEMY] [SniperEnemy1] SNIPER: shooting at visible player
[18:40:56] [ENEMY] [SniperEnemy1] 
[18:40:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5760.318, 257.9249), source=ENEMY (SniperEnemy1), range=3000, listeners=2
[18:40:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:40:56] [INFO] [ReplayManager] Recording frame 7380 (118,9s): player_valid=True, enemies=10
[18:40:57] [ENEMY] [SniperEnemy1] SNIPER: retreating, player very close (731)
[18:40:57] [ENEMY] [SniperEnemy1] State: COMBAT -> SEEKING_COVER
[18:40:57] [INFO] [ReplayManager] Recording frame 7440 (119,9s): player_valid=True, enemies=10
[18:40:58] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:40:58] [INFO] [ReplayManager] Recording frame 7500 (120,9s): player_valid=True, enemies=10
[18:40:59] [ENEMY] [SniperEnemy2] SNIPER: shooting from cover at visible player
[18:40:59] [ENEMY] [SniperEnemy2] SNIPER _shoot: blocked - _can_shoot()=false (bolt=true, reloading=true, ammo=0)
[18:40:59] [ENEMY] [SniperEnemy1] SNIPER _shoot: blocked - aim_dot=-0.923 (157.3 deg off), can_see=true, rot=11.1
[18:40:59] [INFO] [ReplayManager] Recording frame 7560 (121,9s): player_valid=True, enemies=10
[18:41:00] [INFO] [ReplayManager] Recording frame 7620 (122,9s): player_valid=True, enemies=10
[18:41:01] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:41:01] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=180.0°, current=-95.0°, player=(5208,142), corner_timer=0.17
[18:41:01] [INFO] [ReplayManager] Recording frame 7680 (123,9s): player_valid=True, enemies=10
[18:41:02] [ENEMY] [SniperEnemy1] SNIPER _shoot: blocked - aim_dot=-0.637 (129.5 deg off), can_see=true, rot=12.0
[18:41:02] [INFO] [ReplayManager] Recording frame 7740 (124,9s): player_valid=True, enemies=10
[18:41:03] [INFO] [ReplayManager] Recording frame 7800 (125,9s): player_valid=True, enemies=10
[18:41:03] [ENEMY] [SniperEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=IN_COVER, target=-94.9°, current=180.0°, player=(5251,588), corner_timer=0.17
[18:41:03] [ENEMY] [SniperEnemy2] SNIPER: shooting from cover at visible player
[18:41:03] [ENEMY] [SniperEnemy2] 
[18:41:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 4651.229), source=ENEMY (SniperEnemy2), range=3000, listeners=2
[18:41:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:41:04] [ENEMY] [SniperEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=180.0°, current=-94.9°, player=(5232,400), corner_timer=0.17
[18:41:04] [INFO] [ReplayManager] Recording frame 7860 (126,9s): player_valid=True, enemies=10
[18:41:05] [ENEMY] [SniperEnemy1] SNIPER _shoot: blocked - aim_dot=-0.860 (149.4 deg off), can_see=true, rot=13.0
[18:41:05] [INFO] [ReplayManager] Recording frame 7920 (127,9s): player_valid=True, enemies=10
[18:41:06] [INFO] [ReplayManager] Recording frame 7980 (128,9s): player_valid=True, enemies=10
[18:41:07] [INFO] [ReplayManager] Recording frame 8040 (129,9s): player_valid=True, enemies=10
[18:41:08] [INFO] [ReplayManager] Recording frame 8100 (130,9s): player_valid=True, enemies=10
[18:41:08] [ENEMY] [SniperEnemy1] SNIPER _shoot: blocked - aim_dot=-0.884 (152.1 deg off), can_see=true, rot=13.9
[18:41:09] [INFO] [ReplayManager] Recording frame 8160 (131,9s): player_valid=True, enemies=10
[18:41:10] [ENEMY] [SniperEnemy1] State: SEEKING_COVER -> IN_COVER
[18:41:10] [ENEMY] [SniperEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=-52.5°, current=172.0°, player=(3564,751), corner_timer=0.12
[18:41:10] [INFO] [ReplayManager] Recording frame 8220 (132,9s): player_valid=True, enemies=10
[18:41:11] [INFO] [ReplayManager] Recording frame 8280 (133,9s): player_valid=True, enemies=10
[18:41:12] [INFO] [ReplayManager] Recording frame 8340 (134,9s): player_valid=True, enemies=10
[18:41:13] [INFO] [ReplayManager] Recording frame 8400 (135,9s): player_valid=True, enemies=10
[18:41:14] [INFO] [ReplayManager] Recording frame 8460 (136,9s): player_valid=True, enemies=10
[18:41:15] [INFO] [ReplayManager] Recording frame 8520 (137,9s): player_valid=True, enemies=10
[18:41:16] [ENEMY] [SniperEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=IN_COVER, target=150.3°, current=-52.5°, player=(4574,704), corner_timer=0.12
[18:41:16] [ENEMY] [SniperEnemy1] SNIPER: shooting from cover at visible player
[18:41:16] [ENEMY] [SniperEnemy1] SNIPER _shoot: blocked - aim_dot=-0.614 (127.9 deg off), can_see=true, rot=22.4
[18:41:16] [INFO] [ReplayManager] Recording frame 8580 (138,9s): player_valid=True, enemies=10
[18:41:17] [INFO] [ReplayManager] Recording frame 8640 (139,9s): player_valid=True, enemies=10
[18:41:18] [ENEMY] [SniperEnemy1] State: IN_COVER -> SEEKING_COVER
[18:41:18] [INFO] [ReplayManager] Recording frame 8700 (140,9s): player_valid=True, enemies=10
[18:41:19] [ENEMY] [SniperEnemy2] ROT_CHANGE: P3:corner -> P1:visible, state=IN_COVER, target=-94.9°, current=180.0°, player=(5236,408), corner_timer=0.17
[18:41:19] [ENEMY] [SniperEnemy2] SNIPER: shooting from cover at visible player
[18:41:19] [ENEMY] [SniperEnemy2] 
[18:41:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(5600, 4651.229), source=ENEMY (SniperEnemy2), range=3000, listeners=2
[18:41:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=0
[18:41:19] [ENEMY] [SniperEnemy1] SNIPER _shoot: blocked - aim_dot=0.179 (79.7 deg off), can_see=true, rot=-143.3
[18:41:19] [INFO] [ReplayManager] Recording frame 8760 (141,9s): player_valid=True, enemies=10
[18:41:20] [INFO] [ReplayManager] Recording frame 8820 (142,9s): player_valid=True, enemies=10
[18:41:21] [INFO] [ReplayManager] Recording frame 8880 (143,9s): player_valid=True, enemies=10
[18:41:22] [INFO] ------------------------------------------------------------
[18:41:22] [INFO] GAME LOG ENDED: 2026-02-08T18:41:22
[18:41:22] [INFO] ============================================================
