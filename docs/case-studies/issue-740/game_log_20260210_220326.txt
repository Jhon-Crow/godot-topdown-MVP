[22:03:26] [INFO] ============================================================
[22:03:26] [INFO] GAME LOG STARTED
[22:03:26] [INFO] ============================================================
[22:03:26] [INFO] Timestamp: 2026-02-10T22:03:26
[22:03:26] [INFO] Log file: I:/Загрузки/godot exe/ПРЕвзрыватель/game_log_20260210_220326.txt
[22:03:26] [INFO] Executable: I:/Загрузки/godot exe/ПРЕвзрыватель/Godot-Top-Down-Template.exe
[22:03:26] [INFO] OS: Windows
[22:03:26] [INFO] Debug build: false
[22:03:26] [INFO] Engine version: 4.3-stable (official)
[22:03:26] [INFO] Project: Godot Top-Down Template
[22:03:26] [INFO] ------------------------------------------------------------
[22:03:26] [INFO] [GameManager] GameManager ready
[22:03:26] [INFO] [ScoreManager] ScoreManager ready
[22:03:26] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[22:03:26] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[22:03:26] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[22:03:26] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[22:03:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:03:26] [INFO] [PenultimateHit] Saturation shader loaded successfully
[22:03:26] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[22:03:26] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[22:03:26] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[22:03:26] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[22:03:26] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[22:03:26] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[22:03:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:03:26] [INFO] [LastChance] Last chance shader loaded successfully
[22:03:26] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[22:03:26] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[22:03:26] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[22:03:26] [INFO] [LastChance]   Sepia intensity: 0.70
[22:03:26] [INFO] [LastChance]   Brightness: 0.60
[22:03:27] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[22:03:27] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[22:03:27] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[22:03:27] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/AggressionGasGrenade.tscn
[22:03:27] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[22:03:27] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[22:03:27] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:03:27] [INFO] [CinemaEffects] Created effects layer at layer 99
[22:03:27] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[22:03:27] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[22:03:27] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[22:03:27] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[22:03:27] [INFO] [CinemaEffects]   Grain intensity: 0.15
[22:03:27] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[22:03:27] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[22:03:27] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[22:03:27] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[22:03:27] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[22:03:27] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[22:03:27] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[22:03:27] [INFO] [GrenadeTimerHelper] Autoload ready
[22:03:27] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:03:27] [INFO] [PowerFantasy] Saturation shader loaded successfully
[22:03:27] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[22:03:27] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[22:03:27] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[22:03:27] [INFO] [ProgressManager] ProgressManager ready, loaded 8 entries
[22:03:27] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[22:03:27] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:03:27] [INFO] [FlashbangPlayer] Flashbang player shader loaded successfully
[22:03:27] [INFO] [FlashbangPlayer] Starting shader warmup (Issue #343 fix)...
[22:03:27] [INFO] [FlashbangPlayer] FlashbangPlayerEffectsManager ready
[22:03:27] [INFO] [FlashbangPlayer]   Duration range: 1.0-5.0 seconds
[22:03:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:27] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:03:27] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:03:27] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:03:27] [ENEMY] [Enemy1] Death animation component initialized
[22:03:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:27] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:03:27] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:03:27] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:03:27] [ENEMY] [Enemy2] Death animation component initialized
[22:03:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:27] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:03:27] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:03:27] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:03:27] [ENEMY] [Enemy3] Death animation component initialized
[22:03:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:27] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:03:27] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:03:27] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:03:27] [ENEMY] [Enemy4] Death animation component initialized
[22:03:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:27] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:03:27] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:03:27] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:03:27] [ENEMY] [Enemy5] Death animation component initialized
[22:03:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:27] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:03:27] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:03:27] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:03:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:03:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:03:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:03:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:03:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:03:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:03:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:03:27] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:03:27] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:03:27] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:03:27] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:03:27] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:03:27] [INFO] [Player.BreakerBullets] Breaker bullets not selected in ActiveItemManager
[22:03:27] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:03:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:03:27] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[22:03:27] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:03:27] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:03:27] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:03:27] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:03:27] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:03:27] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:03:27] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:03:27] [INFO] [LabyrinthLevel] Setting up weapon: makarov_pm
[22:03:27] [INFO] [ScoreManager] Level started with 5 enemies
[22:03:27] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:03:27] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:03:27] [INFO] [ReplayManager] Replay data cleared
[22:03:27] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:03:27] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:03:27] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:03:27] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:03:27] [INFO] [ReplayManager] Player: Player (valid: True)
[22:03:27] [INFO] [ReplayManager] Enemies count: 5
[22:03:27] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:03:27] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:03:27] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:03:27] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:03:27] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:03:27] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:03:27] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:03:27] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:03:27] [INFO] [CinemaEffects] Found player node: Player
[22:03:27] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:03:27] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:03:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[22:03:27] [ENEMY] [Enemy1] Registered as sound listener
[22:03:27] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[22:03:27] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:03:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[22:03:27] [ENEMY] [Enemy2] Registered as sound listener
[22:03:27] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:03:27] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:03:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[22:03:27] [ENEMY] [Enemy3] Registered as sound listener
[22:03:27] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[22:03:27] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:03:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[22:03:27] [ENEMY] [Enemy4] Registered as sound listener
[22:03:27] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[22:03:27] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:03:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[22:03:27] [ENEMY] [Enemy5] Registered as sound listener
[22:03:27] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[22:03:27] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:03:27] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:27] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:27] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:27] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:03:27] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:03:27] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:03:27] [INFO] [PenultimateHit] Shader warmup complete in 591 ms
[22:03:27] [INFO] [LastChance] Shader warmup complete in 589 ms
[22:03:27] [INFO] [CinemaEffects] Cinema shader warmup complete in 510 ms
[22:03:27] [INFO] [FlashbangPlayer] Shader warmup complete in 500 ms
[22:03:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:03:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:03:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:03:27] [INFO] [LastChance] Found player: Player
[22:03:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:03:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:03:27] [INFO] [LastChance] Connected to player Died signal (C#)
[22:03:27] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:03:27] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 998 ms
[22:03:28] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:03:29] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:03:29] [INFO] [PauseMenu] Armory button pressed
[22:03:29] [INFO] [PauseMenu] Creating new armory menu instance
[22:03:29] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[22:03:29] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[22:03:29] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[22:03:29] [INFO] [PauseMenu] back_pressed signal exists on instance
[22:03:29] [INFO] [PauseMenu] back_pressed signal connected
[22:03:29] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[22:03:29] [INFO] [PauseMenu] _populate_weapon_grid method exists
[22:03:30] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[22:03:31] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[22:03:31] [INFO] [ActiveItemManager] Active item changed from None to Breaker Bullets
[22:03:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:31] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:03:31] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:03:31] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:03:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:03:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:03:31] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:03:31] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:03:31] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:03:31] [ENEMY] [Enemy1] Death animation component initialized
[22:03:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:31] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:03:31] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:03:31] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:03:31] [ENEMY] [Enemy2] Death animation component initialized
[22:03:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:31] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:03:31] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:03:31] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:03:31] [ENEMY] [Enemy3] Death animation component initialized
[22:03:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:31] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:03:31] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:03:31] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:03:31] [ENEMY] [Enemy4] Death animation component initialized
[22:03:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:31] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:03:31] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:03:31] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:03:31] [ENEMY] [Enemy5] Death animation component initialized
[22:03:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:31] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:03:31] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:03:31] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:03:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:03:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:03:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:03:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:03:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:03:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:03:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:03:31] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:03:31] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:03:31] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:03:31] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:03:31] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:03:31] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:03:31] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: MakarovPM
[22:03:31] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:03:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:03:31] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:03:31] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:03:31] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:03:31] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:03:31] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:03:31] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:03:31] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:03:31] [INFO] [LabyrinthLevel] Setting up weapon: makarov_pm
[22:03:31] [INFO] [ScoreManager] Level started with 5 enemies
[22:03:31] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:03:31] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:03:31] [INFO] [ReplayManager] Replay data cleared
[22:03:31] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:03:31] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:03:31] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:03:31] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:03:31] [INFO] [ReplayManager] Player: Player (valid: True)
[22:03:31] [INFO] [ReplayManager] Enemies count: 5
[22:03:31] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:03:31] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:03:31] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:03:31] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:03:31] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:03:31] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:03:31] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:03:31] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:03:31] [INFO] [CinemaEffects] Found player node: Player
[22:03:31] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:03:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[22:03:31] [ENEMY] [Enemy1] Registered as sound listener
[22:03:31] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[22:03:31] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:03:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[22:03:31] [ENEMY] [Enemy2] Registered as sound listener
[22:03:31] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:03:31] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:03:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[22:03:31] [ENEMY] [Enemy3] Registered as sound listener
[22:03:31] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[22:03:31] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:03:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[22:03:31] [ENEMY] [Enemy4] Registered as sound listener
[22:03:31] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[22:03:31] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:03:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[22:03:31] [ENEMY] [Enemy5] Registered as sound listener
[22:03:31] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[22:03:31] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:03:31] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:03:31] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:31] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:31] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:31] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:03:31] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:03:31] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:03:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:03:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:03:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:03:32] [INFO] [LastChance] Found player: Player
[22:03:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:03:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:03:32] [INFO] [LastChance] Connected to player Died signal (C#)
[22:03:32] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:03:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1006), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:03:32] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[22:03:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:03:32] [INFO] [ImpactEffects] Spawning explosion visual effect at (283.9472, 1002.239) (radius=15) - using shadow-based wall occlusion
[22:03:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(283.9472, 1002.239), source=PLAYER (Bullet9mm), range=500, listeners=5
[22:03:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[22:03:32] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:03:33] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:33] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1000), corner_timer=0.30
[22:03:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:33] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:03:33] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:03:33] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:03:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:03:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:03:33] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:03:33] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:03:33] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:03:33] [ENEMY] [Enemy1] Death animation component initialized
[22:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:33] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:03:33] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:03:33] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:03:33] [ENEMY] [Enemy2] Death animation component initialized
[22:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:33] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:03:33] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:03:33] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:03:33] [ENEMY] [Enemy3] Death animation component initialized
[22:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:33] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:03:33] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:03:33] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:03:33] [ENEMY] [Enemy4] Death animation component initialized
[22:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:33] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:03:33] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:03:33] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:03:33] [ENEMY] [Enemy5] Death animation component initialized
[22:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:33] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:03:33] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:03:33] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:03:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:03:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:03:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:03:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:03:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:03:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:03:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:03:33] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:03:33] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:03:33] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:03:33] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:03:33] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:03:33] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:03:33] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: MakarovPM
[22:03:33] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:03:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:03:33] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:03:33] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:03:33] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:03:33] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:03:33] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:03:33] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:03:33] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:03:33] [INFO] [LabyrinthLevel] Setting up weapon: makarov_pm
[22:03:33] [INFO] [ScoreManager] Level started with 5 enemies
[22:03:33] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:03:33] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:03:33] [INFO] [ReplayManager] Replay data cleared
[22:03:33] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:03:33] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:03:33] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:03:33] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:03:33] [INFO] [ReplayManager] Player: Player (valid: True)
[22:03:33] [INFO] [ReplayManager] Enemies count: 5
[22:03:33] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:03:33] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:03:33] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:03:33] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:03:33] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:03:33] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:03:33] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:03:33] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:03:33] [INFO] [CinemaEffects] Found player node: Player
[22:03:33] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:03:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[22:03:33] [ENEMY] [Enemy1] Registered as sound listener
[22:03:33] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[22:03:33] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:03:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[22:03:33] [ENEMY] [Enemy2] Registered as sound listener
[22:03:33] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:03:33] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:03:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[22:03:33] [ENEMY] [Enemy3] Registered as sound listener
[22:03:33] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[22:03:33] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:03:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[22:03:33] [ENEMY] [Enemy4] Registered as sound listener
[22:03:33] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[22:03:33] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:03:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[22:03:33] [ENEMY] [Enemy5] Registered as sound listener
[22:03:33] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[22:03:33] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:03:33] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:03:33] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:33] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:33] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:33] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:03:33] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:03:33] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:03:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:03:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:03:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:03:33] [INFO] [LastChance] Found player: Player
[22:03:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:03:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:03:33] [INFO] [LastChance] Connected to player Died signal (C#)
[22:03:33] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:03:34] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:03:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1006), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:03:35] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[22:03:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:03:35] [INFO] [ImpactEffects] Spawning explosion visual effect at (283.5821, 995.4249) (radius=15) - using shadow-based wall occlusion
[22:03:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(283.5821, 995.4249), source=PLAYER (Bullet9mm), range=500, listeners=5
[22:03:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[22:03:35] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:03:35] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(167.5832, 1044.644), source=NEUTRAL (null), range=900, listeners=5
[22:03:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[22:03:35] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(168.228, 1045.626), source=NEUTRAL (null), range=900, listeners=5
[22:03:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[22:03:35] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(169.6042, 1047.003), source=NEUTRAL (null), range=900, listeners=5
[22:03:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[22:03:35] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(171.8023, 1048.628), source=NEUTRAL (null), range=900, listeners=5
[22:03:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[22:03:35] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(174.8871, 1050.32), source=NEUTRAL (null), range=900, listeners=5
[22:03:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[22:03:35] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:35] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1096), corner_timer=0.30
[22:03:36] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(150,1111), corner_timer=-0.02
[22:03:36] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:36] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(150,1111), corner_timer=0.30
[22:03:36] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[22:03:37] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[22:03:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1117.987), source=PLAYER (MakarovPM), range=1469, listeners=5
[22:03:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:03:38] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.8°, player=(150,1111), corner_timer=-0.02
[22:03:38] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:38] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=55.6°, player=(150,1111), corner_timer=0.30
[22:03:38] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.2°, player=(150,1111), corner_timer=-0.02
[22:03:38] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:38] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=4.1°, player=(150,1111), corner_timer=0.30
[22:03:38] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=5
[22:03:38] [INFO] [ImpactEffects] Spawning explosion visual effect at (834.8968, 970.1682) (radius=15) - using shadow-based wall occlusion
[22:03:38] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(834.8968, 970.1682), source=PLAYER (Bullet9mm), range=500, listeners=5
[22:03:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[22:03:38] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[22:03:38] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.793408, -0.60869), lethal=false
[22:03:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:03:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:03:38] [INFO] [ImpactEffects] Wall found for blood splatter at (939.1041, 920) (dist=49 px)
[22:03:38] [INFO] [BloodDecal] Blood puddle created at (939.1041, 921) (added to group)
[22:03:38] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1)
[22:03:38] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[22:03:38] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.954741, -0.297438), lethal=true
[22:03:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:03:38] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:03:38] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1.5)
[22:03:38] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[22:03:38] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:03:38] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:03:38] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:03:38] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:03:38] [INFO] [PowerFantasy]   - Duration: 300ms
[22:03:38] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[22:03:38] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[22:03:38] [INFO] [DeathAnim] Started - Angle: -17.3 deg, Index: 10
[22:03:38] [ENEMY] [Enemy2] Death animation started with hit direction: (0.954741, -0.297438)
[22:03:39] [INFO] [PowerFantasy] Effect duration expired after 315.00 ms
[22:03:39] [INFO] [PowerFantasy] Ending power fantasy effect
[22:03:39] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[22:03:39] [INFO] [ImpactEffects] spawn_blood_effect called at (1104.667, 1000), dir=(0.992746, 0.120232), lethal=false
[22:03:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:03:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:03:39] [INFO] [ImpactEffects] Blood effect spawned at (1104.667, 1000) (scale=1)
[22:03:39] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=173.3°, current=-173.1°, player=(150,1111), corner_timer=0.02
[22:03:39] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (921.3316, 921.05) (added to group)
[22:03:39] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (969.1765, 976.1866) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (966.5674, 967.8096) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (982.9292, 961.4766) (added to group)
[22:03:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1053.464, 1014.016), source=ENEMY (Enemy3), range=1469, listeners=4
[22:03:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1005.692, 929.7802) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (975.9214, 908.9868) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1150.93, 1016.034) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1189.311, 1024.876) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (982.4611, 909.2077) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1009.442, 976.0596) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (981.1597, 967.4253) (added to group)
[22:03:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1055.821, 1024.419), source=ENEMY (Enemy3), range=1469, listeners=4
[22:03:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1047.482, 982.4743) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (962.9025, 958.3685) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (975.3548, 992.4725) (added to group)
[22:03:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1058.177, 1034.822), source=ENEMY (Enemy3), range=1469, listeners=4
[22:03:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[22:03:39] [ENEMY] [Enemy2] Ragdoll activated
[22:03:39] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1016.134, 1018.664) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1039.833, 981.1464) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1211.714, 1049.875) (added to group)
[22:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(987.0994, 1029.058), shooter_id=144703490410, bullet_pos=(669.8626, 1131.39)
[22:03:39] [INFO] [Bullet] Using shooter_position, distance=333,33322
[22:03:39] [INFO] [Bullet] Distance to wall: 333,33322 (22,697273% of viewport)
[22:03:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (968.0869, 956.8495) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1008.519, 960.0762) (added to group)
[22:03:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1060.533, 1045.225), source=ENEMY (Enemy3), range=1469, listeners=4
[22:03:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1025.618, 969.1376) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1173.684, 1080.084) (added to group)
[22:03:39] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-90.0°, current=114.6°, player=(150,1111), corner_timer=0.02
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1019.294, 974.8333) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1206.798, 1059.154) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1107.062, 988.8849) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1232.587, 1059.09) (added to group)
[22:03:39] [INFO] [ReplayManager] Recording frame 360 (5,7s): player_valid=True, enemies=5
[22:03:39] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=177.6°, current=149.3°, player=(150,1111), corner_timer=0.02
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1029.78, 985.7645) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1072.274, 1060.432) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1056.526, 992.6476) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (979.9663, 987.8502) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1058.971, 970.5115) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1008.234, 964.4865) (added to group)
[22:03:39] [INFO] [LastChance] Threat detected: @Area2D@574
[22:03:39] [INFO] [LastChance] Not in hard mode - effect disabled
[22:03:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (997.8828, 921.954) (added to group)
[22:03:39] [INFO] [BloodDecal] Blood puddle created at (1029.738, 964.7119) (added to group)
[22:03:39] [INFO] [Player] Spawning blood effect at (150, 1111.9867), dir=(1, 0), lethal=False (C#)
[22:03:39] [INFO] [ImpactEffects] spawn_blood_effect called at (150, 1111.987), dir=(1, 0), lethal=false
[22:03:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:03:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:03:39] [INFO] [ImpactEffects] Blood effect spawned at (150, 1111.987) (scale=1)
[22:03:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[22:03:39] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[22:03:39] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-90.0°, current=-69.8°, player=(150,1111), corner_timer=0.02
[22:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(987.0994, 1029.058), shooter_id=144703490410, bullet_pos=(36.04781, 1026.1039)
[22:03:39] [INFO] [Bullet] Using shooter_position, distance=951,0562
[22:03:39] [INFO] [Bullet] Distance to wall: 951,0562 (64,75917% of viewport)
[22:03:39] [INFO] [Bullet] Distance-based penetration chance: 71,1143%
[22:03:39] [INFO] [Bullet] Starting wall penetration at (36.04781, 1026.1039)
[22:03:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,094147
[22:03:39] [INFO] [Bullet] Body exited signal received for penetrating body
[22:03:39] [INFO] [Bullet] Exiting penetration at (-3.8225098, 1019.48083) after traveling 35,41667 pixels through wall
[22:03:39] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[22:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(992.98865, 1048.0376), shooter_id=144703490410, bullet_pos=(34.70536, 1038.2474)
[22:03:39] [INFO] [Bullet] Using shooter_position, distance=958,3333
[22:03:39] [INFO] [Bullet] Distance to wall: 958,3333 (65,254684% of viewport)
[22:03:39] [INFO] [Bullet] Distance-based penetration chance: 70,53621%
[22:03:39] [INFO] [Bullet] Starting wall penetration at (34.70536, 1038.2474)
[22:03:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,960335
[22:03:39] [INFO] [Bullet] Body exited signal received for penetrating body
[22:03:39] [INFO] [Bullet] Exiting penetration at (-11.958876, 1037.7708) after traveling 41,66667 pixels through wall
[22:03:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:03:39] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:03:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:40] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:03:40] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:03:40] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:03:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:03:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:03:40] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:03:40] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:03:40] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:03:40] [ENEMY] [Enemy1] Death animation component initialized
[22:03:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:40] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:03:40] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:03:40] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:03:40] [ENEMY] [Enemy2] Death animation component initialized
[22:03:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:40] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:03:40] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:03:40] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:03:40] [ENEMY] [Enemy3] Death animation component initialized
[22:03:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:40] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:03:40] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:03:40] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:03:40] [ENEMY] [Enemy4] Death animation component initialized
[22:03:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:40] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:03:40] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:03:40] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:03:40] [ENEMY] [Enemy5] Death animation component initialized
[22:03:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:40] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:03:40] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:03:40] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:03:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:03:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:03:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:03:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:03:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:03:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:03:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:03:40] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:03:40] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:03:40] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:03:40] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:03:40] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:03:40] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:03:40] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: MakarovPM
[22:03:40] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:03:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:03:40] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:03:40] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:03:40] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:03:40] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:03:40] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:03:40] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:03:40] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:03:40] [INFO] [LabyrinthLevel] Setting up weapon: makarov_pm
[22:03:40] [INFO] [ScoreManager] Level started with 5 enemies
[22:03:40] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:03:40] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:03:40] [INFO] [ReplayManager] Replay data cleared
[22:03:40] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:03:40] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:03:40] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:03:40] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:03:40] [INFO] [ReplayManager] Player: Player (valid: True)
[22:03:40] [INFO] [ReplayManager] Enemies count: 5
[22:03:40] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:03:40] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:03:40] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:03:40] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:03:40] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:03:40] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:03:40] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:03:40] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:03:40] [INFO] [CinemaEffects] Found player node: Player
[22:03:40] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:03:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 5)
[22:03:40] [ENEMY] [Enemy1] Registered as sound listener
[22:03:40] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[22:03:40] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:03:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 6)
[22:03:40] [ENEMY] [Enemy2] Registered as sound listener
[22:03:40] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[22:03:40] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:03:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 7)
[22:03:40] [ENEMY] [Enemy3] Registered as sound listener
[22:03:40] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[22:03:40] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:03:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 8)
[22:03:40] [ENEMY] [Enemy4] Registered as sound listener
[22:03:40] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[22:03:40] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:03:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 9)
[22:03:40] [ENEMY] [Enemy5] Registered as sound listener
[22:03:40] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[22:03:40] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:03:40] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:03:40] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:40] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:40] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:40] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:03:40] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:03:40] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:03:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:03:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:03:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:03:40] [INFO] [LastChance] Found player: Player
[22:03:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:03:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:03:40] [INFO] [LastChance] Connected to player Died signal (C#)
[22:03:40] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:03:40] [INFO] [BloodDecal] Blood puddle created at (206.9333, 1112.26) (added to group)
[22:03:40] [INFO] [BloodDecal] Blood puddle created at (270.866, 1097.772) (added to group)
[22:03:40] [INFO] [BloodDecal] Blood puddle created at (288.3571, 1116.655) (added to group)
[22:03:40] [INFO] [BloodDecal] Blood puddle created at (312.9055, 1126.194) (added to group)
[22:03:41] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:03:41] [INFO] [PauseMenu] Armory button pressed
[22:03:41] [INFO] [PauseMenu] Creating new armory menu instance
[22:03:41] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[22:03:41] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[22:03:41] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[22:03:41] [INFO] [PauseMenu] back_pressed signal exists on instance
[22:03:41] [INFO] [PauseMenu] back_pressed signal connected
[22:03:41] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[22:03:41] [INFO] [PauseMenu] _populate_weapon_grid method exists
[22:03:42] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:03:43] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[22:03:43] [INFO] [GameManager] Weapon selected: m16
[22:03:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:43] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:03:43] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:03:43] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:03:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:03:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:03:43] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:03:43] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:03:43] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:03:43] [ENEMY] [Enemy1] Death animation component initialized
[22:03:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:43] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:03:43] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:03:43] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:03:43] [ENEMY] [Enemy2] Death animation component initialized
[22:03:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:43] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:03:43] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:03:43] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:03:43] [ENEMY] [Enemy3] Death animation component initialized
[22:03:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:43] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:03:43] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:03:43] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:03:43] [ENEMY] [Enemy4] Death animation component initialized
[22:03:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:43] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:03:43] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:03:43] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:03:43] [ENEMY] [Enemy5] Death animation component initialized
[22:03:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:43] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:03:43] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:03:43] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:03:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:03:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:03:43] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[22:03:43] [INFO] [Player.Weapon] Removed default MakarovPM
[22:03:43] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[22:03:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:03:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:03:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:03:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:03:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:03:43] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:03:43] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:03:43] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:03:43] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:03:43] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:03:43] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:03:43] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: AssaultRifle
[22:03:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:03:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:03:43] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:03:43] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:03:43] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:03:43] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:03:43] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:03:43] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:03:43] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:03:43] [INFO] [LabyrinthLevel] Setting up weapon: m16
[22:03:43] [INFO] [LabyrinthLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[22:03:43] [INFO] [ScoreManager] Level started with 5 enemies
[22:03:43] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:03:43] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:03:43] [INFO] [ReplayManager] Replay data cleared
[22:03:43] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:03:43] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:03:43] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:03:43] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:03:43] [INFO] [ReplayManager] Player: Player (valid: True)
[22:03:43] [INFO] [ReplayManager] Enemies count: 5
[22:03:43] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:03:43] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:03:43] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:03:43] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:03:43] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:03:43] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:03:43] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:03:43] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:03:43] [INFO] [CinemaEffects] Found player node: Player
[22:03:43] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:03:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[22:03:43] [ENEMY] [Enemy1] Registered as sound listener
[22:03:43] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[22:03:43] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:03:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[22:03:43] [ENEMY] [Enemy2] Registered as sound listener
[22:03:43] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:03:43] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:03:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[22:03:43] [ENEMY] [Enemy3] Registered as sound listener
[22:03:43] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[22:03:43] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:03:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[22:03:43] [ENEMY] [Enemy4] Registered as sound listener
[22:03:43] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[22:03:43] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:03:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[22:03:43] [ENEMY] [Enemy5] Registered as sound listener
[22:03:43] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[22:03:43] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:03:43] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:03:43] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:43] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:43] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:43] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:03:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[22:03:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:03:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:03:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:03:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:03:43] [INFO] [LastChance] Found player: Player
[22:03:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:03:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:03:43] [INFO] [LastChance] Connected to player Died signal (C#)
[22:03:43] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:03:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1000), source=PLAYER (AssaultRifle), range=1469, listeners=14
[22:03:44] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[22:03:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:03:44] [INFO] [ImpactEffects] Spawning explosion visual effect at (285.1971, 1006.07) (radius=15) - using shadow-based wall occlusion
[22:03:44] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(285.1971, 1006.07), source=PLAYER (Bullet), range=500, listeners=5
[22:03:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[22:03:44] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:03:45] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:45] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1000), corner_timer=0.30
[22:03:45] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(150,1000), corner_timer=-0.02
[22:03:45] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:45] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(150,1000), corner_timer=0.30
[22:03:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1000), source=PLAYER (AssaultRifle), range=1469, listeners=5
[22:03:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:03:45] [INFO] [ImpactEffects] Spawning explosion visual effect at (285.0423, 991.1296) (radius=15) - using shadow-based wall occlusion
[22:03:45] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(285.0423, 991.1296), source=PLAYER (Bullet), range=500, listeners=5
[22:03:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[22:03:45] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:03:46] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(165.3287, 1051.614), source=NEUTRAL (null), range=900, listeners=5
[22:03:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[22:03:46] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(166.0832, 1052.193), source=NEUTRAL (null), range=900, listeners=5
[22:03:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[22:03:46] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(167.7292, 1053.139), source=NEUTRAL (null), range=900, listeners=5
[22:03:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[22:03:46] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(170.3246, 1054.171), source=NEUTRAL (null), range=900, listeners=5
[22:03:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[22:03:46] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(170.3246, 1054.171), source=NEUTRAL (null), range=900, listeners=5
[22:03:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[22:03:46] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(171.3007, 1053.803), source=NEUTRAL (null), range=900, listeners=5
[22:03:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[22:03:46] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(173.1069, 1052.895), source=NEUTRAL (null), range=900, listeners=5
[22:03:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[22:03:46] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[22:03:47] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.8°, player=(150,1111), corner_timer=-0.02
[22:03:47] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:47] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=55.6°, player=(150,1111), corner_timer=0.30
[22:03:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.996), source=PLAYER (AssaultRifle), range=1469, listeners=5
[22:03:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:03:47] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[22:03:47] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.2°, player=(150,1111), corner_timer=-0.02
[22:03:47] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:47] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=4.1°, player=(150,1111), corner_timer=0.30
[22:03:47] [INFO] [ImpactEffects] Spawning explosion visual effect at (854.5436, 970.2209) (radius=15) - using shadow-based wall occlusion
[22:03:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(854.5436, 970.2209), source=PLAYER (Bullet), range=500, listeners=5
[22:03:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[22:03:47] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[22:03:47] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.999637, -0.026937), lethal=false
[22:03:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:03:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:03:47] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1)
[22:03:47] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[22:03:47] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.995963, -0.08977), lethal=true
[22:03:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:03:47] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:03:47] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1.5)
[22:03:47] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[22:03:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:03:47] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:03:47] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:03:47] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:03:47] [INFO] [PowerFantasy]   - Duration: 300ms
[22:03:47] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[22:03:47] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[22:03:47] [INFO] [DeathAnim] Started - Angle: -5.2 deg, Index: 11
[22:03:47] [ENEMY] [Enemy2] Death animation started with hit direction: (0.995963, -0.08977)
[22:03:48] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[22:03:48] [INFO] [PowerFantasy] Ending power fantasy effect
[22:03:48] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/1->0/1
[22:03:48] [INFO] [ImpactEffects] spawn_blood_effect called at (1108.7, 1000), dir=(0.99425, 0.107084), lethal=true
[22:03:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:03:48] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:03:48] [INFO] [ImpactEffects] Blood effect spawned at (1108.7, 1000) (scale=1.5)
[22:03:48] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[22:03:48] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[22:03:48] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:03:48] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:03:48] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:03:48] [INFO] [PowerFantasy]   - Duration: 300ms
[22:03:48] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[22:03:48] [INFO] [DeathAnim] Started - Angle: 6.1 deg, Index: 12
[22:03:48] [ENEMY] [Enemy3] Death animation started with hit direction: (0.99425, 0.107084)
[22:03:48] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[22:03:48] [INFO] [PowerFantasy] Ending power fantasy effect
[22:03:48] [INFO] [ReplayManager] Recording frame 300 (4,5s): player_valid=True, enemies=5
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (998.4484, 958.5632) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (943.1924, 980.672) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1000.759, 950.9719) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (955.0181, 959.7037) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (984.6224, 989.444) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (975.8003, 969.6848) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1001.634, 989.1034) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (962.3281, 954.8762) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (957.0508, 970.2034) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1027.704, 956.6822) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (973.9833, 996.2299) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (990.5696, 997.1152) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (998.1255, 978.4489) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (968.2366, 993.5533) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1203.633, 1042.019) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1048.797, 988.4993) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1169.726, 1069.644) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1183.693, 1019.197) (added to group)
[22:03:48] [ENEMY] [Enemy2] Ragdoll activated
[22:03:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1050.859, 979.6173) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1000.863, 963.3076) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1218.029, 1029.88) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1238.676, 1010.288) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1213.357, 1095.608) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1185.183, 1080.35) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1233.783, 1091.501) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1016.125, 985.4956) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (980.7183, 1045.908) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1210.229, 1113.091) (added to group)
[22:03:48] [ENEMY] [Enemy3] Ragdoll activated
[22:03:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1004.064, 973.822) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1214.291, 1115.124) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1070.589, 1017.253) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1026.326, 1063.551) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1230.853, 1076.004) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1043.274, 1010.913) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1216.385, 1085.877) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (986.2894, 994.7392) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1050.643, 958.9228) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1047.414, 1117.012) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1072.984, 984.3152) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1207.185, 1081.766) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1080.054, 985.8118) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1030.197, 973.105) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1254.901, 1026.028) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1277.448, 1027.098) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1023.389, 1002.131) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1292.385, 1064.16) (added to group)
[22:03:48] [INFO] [BloodDecal] Blood puddle created at (1266.437, 1022.659) (added to group)
[22:03:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:49] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:03:49] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:03:49] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:03:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:03:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:03:49] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:03:49] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:03:49] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:03:49] [ENEMY] [Enemy1] Death animation component initialized
[22:03:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:49] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:03:49] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:03:49] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:03:49] [ENEMY] [Enemy2] Death animation component initialized
[22:03:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:49] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:03:49] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:03:49] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:03:49] [ENEMY] [Enemy3] Death animation component initialized
[22:03:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:49] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:03:49] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:03:49] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:03:49] [ENEMY] [Enemy4] Death animation component initialized
[22:03:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:49] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:03:49] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:03:49] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:03:49] [ENEMY] [Enemy5] Death animation component initialized
[22:03:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:49] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:03:49] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:03:49] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:03:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:03:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:03:49] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[22:03:49] [INFO] [Player.Weapon] Removed default MakarovPM
[22:03:49] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[22:03:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:03:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:03:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:03:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:03:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:03:49] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:03:49] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:03:49] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:03:49] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:03:49] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:03:49] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:03:49] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: AssaultRifle
[22:03:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:03:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:03:49] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:03:49] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:03:49] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:03:49] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:03:49] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:03:49] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:03:49] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:03:49] [INFO] [LabyrinthLevel] Setting up weapon: m16
[22:03:49] [INFO] [LabyrinthLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[22:03:49] [INFO] [ScoreManager] Level started with 5 enemies
[22:03:49] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:03:49] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:03:49] [INFO] [ReplayManager] Replay data cleared
[22:03:49] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:03:49] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:03:49] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:03:49] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:03:49] [INFO] [ReplayManager] Player: Player (valid: True)
[22:03:49] [INFO] [ReplayManager] Enemies count: 5
[22:03:49] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:03:49] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:03:49] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:03:49] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:03:49] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:03:49] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:03:49] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:03:49] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:03:49] [INFO] [CinemaEffects] Found player node: Player
[22:03:49] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:03:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[22:03:49] [ENEMY] [Enemy1] Registered as sound listener
[22:03:49] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[22:03:49] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:03:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[22:03:49] [ENEMY] [Enemy2] Registered as sound listener
[22:03:49] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:03:49] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:03:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[22:03:49] [ENEMY] [Enemy3] Registered as sound listener
[22:03:49] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[22:03:49] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:03:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[22:03:49] [ENEMY] [Enemy4] Registered as sound listener
[22:03:49] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[22:03:49] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:03:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[22:03:49] [ENEMY] [Enemy5] Registered as sound listener
[22:03:49] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[22:03:49] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:03:49] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:03:49] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(150,999), corner_timer=0.00
[22:03:49] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,999), corner_timer=0.00
[22:03:49] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,999), corner_timer=0.00
[22:03:49] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,999), corner_timer=0.00
[22:03:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:03:49] [INFO] [Player] Detected weapon: Rifle (default pose)
[22:03:49] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:03:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:03:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:03:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:03:49] [INFO] [LastChance] Found player: Player
[22:03:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:03:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:03:49] [INFO] [LastChance] Connected to player Died signal (C#)
[22:03:49] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:03:49] [INFO] [BloodDecal] Blood puddle created at (1272.351, 1127.719) (added to group)
[22:03:50] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:03:50] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:50] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1079), corner_timer=0.30
[22:03:50] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=169.0°, current=-168.8°, player=(150,1096), corner_timer=0.00
[22:03:50] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[22:03:50] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.3°, current=-5.9°, player=(150,1107), corner_timer=0.00
[22:03:50] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(150,1111), corner_timer=-0.02
[22:03:50] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:50] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(150,1111), corner_timer=0.30
[22:03:51] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:03:51] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:03:51] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=164.5°, current=116.1°, player=(150,1111), corner_timer=0.00
[22:03:51] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:51] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:03:51] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:03:51] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:03:51] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:51] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:03:51] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:03:51] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:03:51] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:03:51] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:03:51] [ENEMY] [Enemy1] Death animation component initialized
[22:03:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:51] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:03:51] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:03:51] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:03:51] [ENEMY] [Enemy2] Death animation component initialized
[22:03:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:51] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:03:51] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:03:51] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:03:51] [ENEMY] [Enemy3] Death animation component initialized
[22:03:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:51] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:03:51] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:03:51] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:03:51] [ENEMY] [Enemy4] Death animation component initialized
[22:03:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:51] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:03:51] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:03:51] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:03:51] [ENEMY] [Enemy5] Death animation component initialized
[22:03:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:51] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:03:51] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:03:51] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:03:51] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:03:51] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:03:51] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[22:03:51] [INFO] [Player.Weapon] Removed default MakarovPM
[22:03:51] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[22:03:51] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:03:51] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:03:51] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:03:51] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:03:51] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:03:51] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:03:51] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:03:51] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:03:51] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:03:51] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:03:51] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:03:51] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: AssaultRifle
[22:03:51] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:03:51] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:03:51] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:03:51] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:03:51] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:03:51] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:03:51] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:03:51] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:03:51] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:03:51] [INFO] [LabyrinthLevel] Setting up weapon: m16
[22:03:51] [INFO] [LabyrinthLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[22:03:51] [INFO] [ScoreManager] Level started with 5 enemies
[22:03:51] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:03:51] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:03:51] [INFO] [ReplayManager] Replay data cleared
[22:03:51] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:03:51] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:03:51] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:03:51] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:03:51] [INFO] [ReplayManager] Player: Player (valid: True)
[22:03:51] [INFO] [ReplayManager] Enemies count: 5
[22:03:51] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:03:51] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:03:51] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:03:51] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:03:51] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:03:51] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:03:51] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:03:51] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:03:51] [INFO] [CinemaEffects] Found player node: Player
[22:03:51] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:03:51] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[22:03:51] [ENEMY] [Enemy1] Registered as sound listener
[22:03:51] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[22:03:51] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:03:51] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[22:03:51] [ENEMY] [Enemy2] Registered as sound listener
[22:03:51] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:03:51] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:03:51] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[22:03:51] [ENEMY] [Enemy3] Registered as sound listener
[22:03:51] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[22:03:51] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:03:51] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[22:03:51] [ENEMY] [Enemy4] Registered as sound listener
[22:03:51] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[22:03:51] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:03:51] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[22:03:51] [ENEMY] [Enemy5] Registered as sound listener
[22:03:51] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[22:03:51] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:03:51] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:03:51] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:51] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:51] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:51] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:51] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:03:51] [INFO] [Player] Detected weapon: Rifle (default pose)
[22:03:51] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:03:51] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:03:51] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:03:51] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:03:51] [INFO] [LastChance] Found player: Player
[22:03:51] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:03:51] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:03:51] [INFO] [LastChance] Connected to player Died signal (C#)
[22:03:51] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:03:52] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:03:53] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:53] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1111), corner_timer=0.30
[22:03:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.996), source=PLAYER (AssaultRifle), range=1469, listeners=13
[22:03:53] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[22:03:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:03:53] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(150,1111), corner_timer=-0.02
[22:03:53] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:53] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(150,1111), corner_timer=0.30
[22:03:53] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:03:53] [INFO] [ImpactEffects] Spawning explosion visual effect at (853.8171, 966.6574) (radius=15) - using shadow-based wall occlusion
[22:03:53] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(853.8171, 966.6574), source=PLAYER (Bullet), range=500, listeners=5
[22:03:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[22:03:53] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[22:03:53] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.97376, -0.227578), lethal=false
[22:03:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:03:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:03:53] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1)
[22:03:53] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[22:03:53] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.995271, -0.097141), lethal=true
[22:03:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:03:53] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:03:53] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1.5)
[22:03:53] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[22:03:53] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:03:53] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:03:53] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:03:53] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:03:53] [INFO] [PowerFantasy]   - Duration: 300ms
[22:03:53] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[22:03:53] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[22:03:53] [INFO] [DeathAnim] Started - Angle: -5.6 deg, Index: 11
[22:03:53] [ENEMY] [Enemy2] Death animation started with hit direction: (0.995271, -0.097141)
[22:03:53] [INFO] [PowerFantasy] Effect duration expired after 318.00 ms
[22:03:53] [INFO] [PowerFantasy] Ending power fantasy effect
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (952.6941, 963.4103) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (977.1202, 933.9457) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (965.317, 993.3371) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1010.127, 962.2727) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1004.57, 930.5022) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (975.2719, 987.4616) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (977.5449, 955.0385) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (960.3635, 961.9009) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1032.885, 1012.948) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1002.678, 1010.208) (added to group)
[22:03:54] [ENEMY] [Enemy2] Ragdoll activated
[22:03:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1013.418, 925.4428) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1051.724, 994.7418) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1029.928, 957.0427) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (980.2353, 972.2152) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1059.37, 1048.784) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (996.285, 963.6608) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1042.044, 1018.412) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1024.205, 1051.437) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1062.238, 1078.85) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1059.493, 1019.005) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1048.971, 1068.207) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1099.069, 1050.318) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1025.508, 1058.801) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1043.292, 1091.157) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1103.927, 1084.566) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1043.643, 951.4529) (added to group)
[22:03:54] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=5
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1094.095, 1051.839) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1111.33, 953.6588) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1082.776, 1003.576) (added to group)
[22:03:54] [INFO] [BloodDecal] Blood puddle created at (1091.665, 1010.197) (added to group)
[22:03:55] [ENEMY] [Enemy2] Death animation completed
[22:03:55] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=5
[22:03:55] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.8°, player=(209,991), corner_timer=-0.02
[22:03:55] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:03:55] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=55.6°, player=(210,987), corner_timer=0.30
[22:03:55] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:55] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:03:55] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:03:55] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:03:55] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:03:55] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:03:55] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:03:55] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:03:55] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:03:55] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:03:55] [ENEMY] [Enemy1] Death animation component initialized
[22:03:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:55] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:03:55] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:03:55] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:03:55] [ENEMY] [Enemy2] Death animation component initialized
[22:03:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:55] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:03:55] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:03:55] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:03:55] [ENEMY] [Enemy3] Death animation component initialized
[22:03:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:55] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:03:55] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:03:55] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:03:55] [ENEMY] [Enemy4] Death animation component initialized
[22:03:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:55] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:03:55] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:03:55] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:03:55] [ENEMY] [Enemy5] Death animation component initialized
[22:03:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:03:55] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:03:55] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:03:55] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:03:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:03:55] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:03:55] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[22:03:55] [INFO] [Player.Weapon] Removed default MakarovPM
[22:03:55] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[22:03:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:03:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:03:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:03:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:03:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:03:55] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:03:55] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:03:55] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:03:55] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:03:55] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:03:55] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:03:55] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: AssaultRifle
[22:03:55] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:03:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:03:55] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:03:55] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:03:55] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:03:55] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:03:55] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:03:55] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:03:55] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:03:55] [INFO] [LabyrinthLevel] Setting up weapon: m16
[22:03:55] [INFO] [LabyrinthLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[22:03:55] [INFO] [ScoreManager] Level started with 5 enemies
[22:03:55] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:03:55] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:03:55] [INFO] [ReplayManager] Replay data cleared
[22:03:55] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:03:55] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:03:55] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:03:55] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:03:55] [INFO] [ReplayManager] Player: Player (valid: True)
[22:03:55] [INFO] [ReplayManager] Enemies count: 5
[22:03:55] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:03:55] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:03:55] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:03:55] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:03:55] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:03:55] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:03:55] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:03:55] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:03:55] [INFO] [CinemaEffects] Found player node: Player
[22:03:55] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:03:55] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 5)
[22:03:55] [ENEMY] [Enemy1] Registered as sound listener
[22:03:55] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[22:03:55] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:03:55] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 6)
[22:03:55] [ENEMY] [Enemy2] Registered as sound listener
[22:03:55] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[22:03:55] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:03:55] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 7)
[22:03:55] [ENEMY] [Enemy3] Registered as sound listener
[22:03:55] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[22:03:55] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:03:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 8)
[22:03:55] [ENEMY] [Enemy4] Registered as sound listener
[22:03:55] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[22:03:55] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:03:55] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 9)
[22:03:55] [ENEMY] [Enemy5] Registered as sound listener
[22:03:55] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[22:03:55] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:03:55] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:03:55] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:55] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:55] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:55] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:03:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:03:55] [INFO] [Player] Detected weapon: Rifle (default pose)
[22:03:55] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:03:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:03:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:03:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:03:55] [INFO] [LastChance] Found player: Player
[22:03:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:03:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:03:55] [INFO] [LastChance] Connected to player Died signal (C#)
[22:03:55] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:03:56] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:03:57] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=169.1°, current=146.3°, player=(150,1094), corner_timer=0.00
[22:03:57] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[22:03:57] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.4°, current=-39.4°, player=(150,1105), corner_timer=0.00
[22:03:57] [ENEMY] [Enemy3] Memory: high confidence (0.88) - transitioning to PURSUING
[22:03:57] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:03:57] [ENEMY] [Enemy3] ROT_CHANGE: none -> P2:combat_state, state=PURSUING, target=173.9°, current=0.0°, player=(150,1111), corner_timer=0.00
[22:03:57] [ENEMY] [Enemy3] PURSUING corner check: angle -64.3°
[22:03:57] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.8°, current=-148.6°, player=(150,1111), corner_timer=0.30
[22:03:57] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:03:57] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[22:03:57] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=164.5°, current=-146.6°, player=(150,1111), corner_timer=0.00
[22:03:57] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:03:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.999), source=PLAYER (AssaultRifle), range=1469, listeners=9
[22:03:57] [INFO] [SoundPropagation] Cleaned up 4 invalid listeners
[22:03:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:03:58] [INFO] [ImpactEffects] Spawning explosion visual effect at (897.6659, 973.7878) (radius=15) - using shadow-based wall occlusion
[22:03:58] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(897.6659, 973.7878), source=PLAYER (Bullet), range=500, listeners=5
[22:03:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[22:03:58] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/1->0/1
[22:03:58] [INFO] [ImpactEffects] spawn_blood_effect called at (923.3472, 991.1287), dir=(0.9985, -0.054749), lethal=true
[22:03:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:03:58] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:03:58] [INFO] [ImpactEffects] Blood effect spawned at (923.3472, 991.1287) (scale=1.5)
[22:03:58] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[22:03:58] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:03:58] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:03:58] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:03:58] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:03:58] [INFO] [PowerFantasy]   - Duration: 300ms
[22:03:58] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[22:03:58] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 4)
[22:03:58] [INFO] [DeathAnim] Started - Angle: -3.1 deg, Index: 11
[22:03:58] [ENEMY] [Enemy3] Death animation started with hit direction: (0.9985, -0.054749)
[22:03:58] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[22:03:58] [INFO] [PowerFantasy] Ending power fantasy effect
[22:03:58] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[22:03:58] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:03:58] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:03:58] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=5
[22:03:58] [INFO] [BloodDecal] Blood puddle created at (970.4935, 994.2715) (added to group)
[22:03:58] [INFO] [BloodDecal] Blood puddle created at (990.1544, 1029.292) (added to group)
[22:03:58] [INFO] [BloodDecal] Blood puddle created at (971.6955, 1028.036) (added to group)
[22:03:58] [INFO] [BloodDecal] Blood puddle created at (1021.367, 985.636) (added to group)
[22:03:58] [INFO] [BloodDecal] Blood puddle created at (977.0493, 989.0466) (added to group)
[22:03:58] [INFO] [BloodDecal] Blood puddle created at (1013.474, 974.5373) (added to group)
[22:03:58] [INFO] [BloodDecal] Blood puddle created at (1028.008, 1007.252) (added to group)
[22:03:58] [INFO] [BloodDecal] Blood puddle created at (985.4414, 1029.836) (added to group)
[22:03:58] [INFO] [BloodDecal] Blood puddle created at (1025.62, 1060.492) (added to group)
[22:03:58] [ENEMY] [Enemy3] Ragdoll activated
[22:03:58] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:03:59] [INFO] [BloodDecal] Blood puddle created at (1070.419, 1003.716) (added to group)
[22:03:59] [INFO] [BloodDecal] Blood puddle created at (1006.615, 1034.2) (added to group)
[22:03:59] [INFO] [BloodDecal] Blood puddle created at (1081.42, 1035.721) (added to group)
[22:03:59] [INFO] [BloodDecal] Blood puddle created at (1011.426, 1005.063) (added to group)
[22:03:59] [INFO] [BloodDecal] Blood puddle created at (1114.342, 1079.87) (added to group)
[22:03:59] [INFO] [BloodDecal] Blood puddle created at (1066.796, 1064.353) (added to group)
[22:03:59] [INFO] [BloodDecal] Blood puddle created at (1040.483, 1082.696) (added to group)
[22:03:59] [INFO] [BloodDecal] Blood puddle created at (1104.676, 1091.2) (added to group)
[22:03:59] [INFO] [BloodDecal] Blood puddle created at (1080.894, 1007.708) (added to group)
[22:03:59] [INFO] [BloodDecal] Blood puddle created at (1108.358, 1008.828) (added to group)
[22:03:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.999), source=PLAYER (AssaultRifle), range=1469, listeners=4
[22:03:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:03:59] [INFO] [ImpactEffects] Spawning explosion visual effect at (321.0718, 1066.574) (radius=15) - using shadow-based wall occlusion
[22:03:59] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(321.0718, 1066.574), source=PLAYER (Bullet), range=500, listeners=4
[22:03:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[22:03:59] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=5
[22:04:00] [ENEMY] [Enemy3] Death animation completed
[22:04:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.999), source=PLAYER (AssaultRifle), range=1469, listeners=4
[22:04:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 1111.9994), shooter_id=426040626151, bullet_pos=(362.69452, 1061.2434)
[22:04:00] [INFO] [Bullet] Using shooter_position, distance=218,6667
[22:04:00] [INFO] [Bullet] Distance to wall: 218,6667 (14,889418% of viewport)
[22:04:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:04:00] [INFO] [Bullet] Starting wall penetration at (362.69452, 1061.2434)
[22:04:00] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:04:00] [INFO] [Bullet] Exiting penetration at (408.08664, 1050.4114) after traveling 41,666668 pixels through wall
[22:04:00] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:04:00] [INFO] [ReplayManager] Recording frame 300 (4,7s): player_valid=True, enemies=5
[22:04:01] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[22:04:01] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(171.8929, 1126.193), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(169.153, 1123.854), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(171.9864, 1125.872), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(169.2361, 1123.932), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(172.1017, 1125.535), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(169.4402, 1124.092), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(172.3868, 1125.339), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(169.8075, 1124.223), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(172.8812, 1125.317), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(170.3745, 1124.656), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(173.6177, 1125.507), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(171.1682, 1125.293), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(174.5396, 1125.871), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(172.2043, 1126.184), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(178.8466, 1126.3), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(175.6516, 1126.451), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(173.4829, 1127.046), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(178.9266, 1126.3), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(176.0951, 1126.272), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(174.3396, 1127.682), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(179.0341, 1126.3), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(176.8479, 1126.745), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(174.3396, 1126.554), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(179.0816, 1126.3), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(176.8479, 1126.277), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(174.5314, 1127.08), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(179.0816, 1126.3), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(177.0176, 1126.918), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(174.5314, 1126.366), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(179.0816, 1126.3), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(177.0176, 1126.418), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(174.3887, 1127.029), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(179.0816, 1126.3), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(176.7293, 1127.164), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(174.3887, 1126.438), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(179.0816, 1126.3), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(176.9546, 1127.116), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(173.8712, 1126.985), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(179.0816, 1126.3), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(176.9546, 1126.46), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(173.8198, 1126.43), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(179.0816, 1126.3), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(176.1237, 1126.984), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(178.8963, 1126.3), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(208.6588, 1111.924), source=PLAYER (AssaultRifle), range=1469, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(247.1588, 1111.924), source=PLAYER (AssaultRifle), range=1469, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(236.6885, 1117.64), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [ENEMY] [Enemy2] Heard CASING_KICK at (236.6885, 1117.64), intensity=0.01, dist=494
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(236.0181, 1119.301), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [ENEMY] [Enemy2] Heard CASING_KICK at (236.0181, 1119.301), intensity=0.01, dist=490
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(234.3927, 1121.205), source=NEUTRAL (null), range=900, listeners=4
[22:04:01] [ENEMY] [Enemy2] Heard CASING_KICK at (234.3927, 1121.205), intensity=0.01, dist=487
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (656.4149, 973.4937) (radius=15) - using shadow-based wall occlusion
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(656.4149, 973.4937), source=PLAYER (Bullet), range=500, listeners=4
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[22:04:01] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/1->0/1
[22:04:01] [INFO] [ImpactEffects] spawn_blood_effect called at (689.8495, 964.4372), dir=(0.957719, -0.287704), lethal=true
[22:04:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:01] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:04:01] [INFO] [ImpactEffects] Blood effect spawned at (689.8495, 964.4372) (scale=1.5)
[22:04:01] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[22:04:01] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[22:04:01] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:04:01] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:04:01] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:04:01] [INFO] [PowerFantasy]   - Duration: 300ms
[22:04:01] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 3)
[22:04:01] [INFO] [DeathAnim] Started - Angle: -16.7 deg, Index: 10
[22:04:01] [ENEMY] [Enemy2] Death animation started with hit direction: (0.957719, -0.287704)
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(280.7088, 1111.924), source=PLAYER (AssaultRifle), range=1469, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(271.2795, 1120.511), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(271.1901, 1120.781), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(271.0172, 1121.12), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(270.7601, 1121.527), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(270.4185, 1121.999), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(270.3648, 1121.962), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(270.2233, 1121.995), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(270.1252, 1121.937), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(269.9371, 1121.94), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(269.6586, 1122.001), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(269.4023, 1122.005), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(269.0805, 1122.036), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [ReplayManager] Recording frame 360 (5,5s): player_valid=True, enemies=5
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(268.8531, 1121.89), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(268.5331, 1121.793), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(268.1202, 1121.744), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(267.6146, 1121.74), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(267.0163, 1121.78), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[22:04:01] [INFO] [PowerFantasy] Ending power fantasy effect
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(266.3257, 1121.86), source=NEUTRAL (null), range=900, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (802.4539, 926.824) (radius=15) - using shadow-based wall occlusion
[22:04:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(802.4539, 926.824), source=PLAYER (@Area2D@1688), range=500, listeners=3
[22:04:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(312.5625, 1114.905), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(312.9717, 1116.79), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(312.8865, 1118.981), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(312.3619, 1121.415), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(311.4589, 1124.042), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(312.0054, 1124.674), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [ImpactEffects] Spawning explosion visual effect at (827.2005, 914.183) (radius=15) - using shadow-based wall occlusion
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(827.2005, 914.183), source=PLAYER (Bullet), range=500, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(312.2435, 1125.087), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (747.9998, 967.2413) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (745.4826, 928.6968) (added to group)
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(312.1765, 1125.685), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(311.8598, 1126.424), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(311.3484, 1126.816), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (779.906, 951.5284) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (740.4244, 977.1362) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (748.4802, 927.3607) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (767.0703, 947.4733) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (768.5042, 984.9332) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (792.0862, 979.6527) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (790.0485, 965.2889) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (794.3781, 944.7414) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (820.9434, 974.0594) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (752.3478, 1012.779) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (808.6943, 962.6539) (added to group)
[22:04:02] [ENEMY] [Enemy2] Ragdoll activated
[22:04:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (772.8296, 971.947) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (762.4482, 973.7094) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (793.0333, 1025.071) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (850.3201, 1011.837) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (797.6597, 1017.678) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (816.456, 1100.25) (added to group)
[22:04:02] [INFO] [BloodDecal] Blood puddle created at (925.9988, 1024.731) (added to group)
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(311.3484, 1126.3), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(311.2756, 1126.3), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(311.1644, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(311.0085, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(310.8854, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(310.8854, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(310.8854, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(310.8854, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(310.8854, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(310.8854, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [ReplayManager] Recording frame 420 (6,5s): player_valid=True, enemies=5
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(310.8854, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(310.8854, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(311.0082, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(311.3031, 1126.249), source=NEUTRAL (null), range=900, listeners=3
[22:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[22:04:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:02] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:04:02] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:04:02] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:04:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:04:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:04:02] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:04:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:04:02] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:04:02] [ENEMY] [Enemy1] Death animation component initialized
[22:04:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:02] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:04:02] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:04:02] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:04:02] [ENEMY] [Enemy2] Death animation component initialized
[22:04:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:02] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:04:02] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:04:02] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:04:02] [ENEMY] [Enemy3] Death animation component initialized
[22:04:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:02] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:04:02] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:04:02] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:04:02] [ENEMY] [Enemy4] Death animation component initialized
[22:04:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:02] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:04:02] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:04:02] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:04:02] [ENEMY] [Enemy5] Death animation component initialized
[22:04:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:04:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:04:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:04:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:04:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:04:02] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[22:04:02] [INFO] [Player.Weapon] Removed default MakarovPM
[22:04:03] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[22:04:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:04:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:04:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:04:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:04:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:04:03] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:04:03] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:04:03] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:04:03] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:04:03] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:04:03] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:04:03] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: AssaultRifle
[22:04:03] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:04:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:04:03] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:04:03] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:04:03] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:04:03] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:04:03] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:04:03] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:04:03] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:04:03] [INFO] [LabyrinthLevel] Setting up weapon: m16
[22:04:03] [INFO] [LabyrinthLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[22:04:03] [INFO] [ScoreManager] Level started with 5 enemies
[22:04:03] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:04:03] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:04:03] [INFO] [ReplayManager] Replay data cleared
[22:04:03] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:04:03] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:04:03] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:04:03] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:04:03] [INFO] [ReplayManager] Player: Player (valid: True)
[22:04:03] [INFO] [ReplayManager] Enemies count: 5
[22:04:03] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:04:03] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:04:03] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:04:03] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:04:03] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:04:03] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:04:03] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:04:03] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:04:03] [INFO] [CinemaEffects] Found player node: Player
[22:04:03] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:04:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[22:04:03] [ENEMY] [Enemy1] Registered as sound listener
[22:04:03] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[22:04:03] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:04:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[22:04:03] [ENEMY] [Enemy2] Registered as sound listener
[22:04:03] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:04:03] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:04:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[22:04:03] [ENEMY] [Enemy3] Registered as sound listener
[22:04:03] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[22:04:03] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:04:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[22:04:03] [ENEMY] [Enemy4] Registered as sound listener
[22:04:03] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[22:04:03] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:04:03] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[22:04:03] [ENEMY] [Enemy5] Registered as sound listener
[22:04:03] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[22:04:03] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:04:03] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:04:03] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:03] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:03] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:03] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:04:03] [INFO] [Player] Detected weapon: Rifle (default pose)
[22:04:03] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:04:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:04:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:04:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:04:03] [INFO] [LastChance] Found player: Player
[22:04:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:04:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:04:03] [INFO] [LastChance] Connected to player Died signal (C#)
[22:04:03] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:04:04] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:04:04] [INFO] [PauseMenu] Armory button pressed
[22:04:04] [INFO] [PauseMenu] Creating new armory menu instance
[22:04:04] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[22:04:04] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[22:04:04] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[22:04:04] [INFO] [PauseMenu] back_pressed signal exists on instance
[22:04:04] [INFO] [PauseMenu] back_pressed signal connected
[22:04:04] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[22:04:04] [INFO] [PauseMenu] _populate_weapon_grid method exists
[22:04:05] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:04:05] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[22:04:06] [INFO] [GameManager] Weapon selected: shotgun
[22:04:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:06] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:04:06] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:04:06] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:04:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:04:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:04:06] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:04:06] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:04:06] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:04:06] [ENEMY] [Enemy1] Death animation component initialized
[22:04:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:06] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:04:06] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:04:06] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:04:06] [ENEMY] [Enemy2] Death animation component initialized
[22:04:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:06] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:04:06] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:04:06] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:04:06] [ENEMY] [Enemy3] Death animation component initialized
[22:04:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:06] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:04:06] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:04:06] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:04:06] [ENEMY] [Enemy4] Death animation component initialized
[22:04:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:06] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:04:06] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:04:06] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:04:06] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:04:06] [ENEMY] [Enemy5] Death animation component initialized
[22:04:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:06] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:04:06] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:04:06] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:04:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:04:06] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:04:06] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[22:04:06] [INFO] [Player.Weapon] Removed default MakarovPM
[22:04:06] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[22:04:06] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:04:06] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:04:06] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:04:06] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:04:06] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:04:06] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:04:06] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:04:06] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:04:06] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:04:06] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:04:06] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:04:06] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[22:04:06] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 10/10
[22:04:06] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:04:06] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:04:06] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:04:06] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:04:06] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:04:06] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:04:06] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:04:06] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:04:06] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[22:04:06] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[22:04:06] [INFO] [ScoreManager] Level started with 5 enemies
[22:04:06] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:04:06] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:04:06] [INFO] [ReplayManager] Replay data cleared
[22:04:06] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:04:06] [INFO] [ReplayManager] Detected player weapon: Shotgun
[22:04:06] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:04:06] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:04:06] [INFO] [ReplayManager] Player: Player (valid: True)
[22:04:06] [INFO] [ReplayManager] Enemies count: 5
[22:04:06] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[22:04:06] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:04:06] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:04:06] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:04:06] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:04:06] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:04:06] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:04:06] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:04:06] [INFO] [CinemaEffects] Found player node: Player
[22:04:06] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:04:06] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[22:04:06] [ENEMY] [Enemy1] Registered as sound listener
[22:04:06] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[22:04:06] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:04:06] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[22:04:06] [ENEMY] [Enemy2] Registered as sound listener
[22:04:06] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[22:04:06] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:04:06] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[22:04:06] [ENEMY] [Enemy3] Registered as sound listener
[22:04:06] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[22:04:06] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:04:06] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[22:04:06] [ENEMY] [Enemy4] Registered as sound listener
[22:04:06] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[22:04:06] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:04:06] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[22:04:06] [ENEMY] [Enemy5] Registered as sound listener
[22:04:06] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[22:04:06] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:04:06] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:04:06] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:06] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:06] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:06] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:04:06] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[22:04:06] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[22:04:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:04:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:04:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:04:06] [INFO] [LastChance] Found player: Player
[22:04:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:04:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:04:06] [INFO] [LastChance] Connected to player Died signal (C#)
[22:04:06] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:04:07] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:04:07] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:04:07] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1111), corner_timer=0.30
[22:04:08] [ENEMY] [Enemy1] Player ammo empty: false -> true
[22:04:08] [ENEMY] [Enemy2] Player ammo empty: false -> true
[22:04:08] [ENEMY] [Enemy3] Player ammo empty: false -> true
[22:04:08] [ENEMY] [Enemy4] Player ammo empty: false -> true
[22:04:08] [ENEMY] [Enemy5] Player ammo empty: false -> true
[22:04:08] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(150, 1111.986), source=PLAYER (Player), range=600, listeners=13
[22:04:08] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[22:04:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[22:04:08] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(150, 1111.9861)
[22:04:08] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-0,4, distance=51,6px, pos=(199.8636, 1098.5454)
[22:04:08] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-1,9, distance=50,1px, pos=(199.00925, 1101.4089)
[22:04:08] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-14,8, distance=37,2px, pos=(186.53795, 1104.9987)
[22:04:08] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=1,0, distance=53,0px, pos=(202.00136, 1101.9775)
[22:04:08] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=14,9, distance=66,9px, pos=(215.97522, 1100.9362)
[22:04:08] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-12,4, distance=39,6px, pos=(189.27888, 1106.7804)
[22:04:08] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=1,0, distance=53,0px, pos=(202.54967, 1105.2932)
[22:04:08] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=12,3, distance=64,3px, pos=(214.08916, 1106.6263)
[22:04:08] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=-2,0, distance=50,0px, pos=(199.92244, 1109.2028)
[22:04:08] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=9,5, distance=61,5px, pos=(211.50543, 1110.287)
[22:04:08] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=0,0, distance=52,0px, pos=(202.03563, 1110.8567)
[22:04:08] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-8,6, distance=43,4px, pos=(193.41295, 1111.8629)
[22:04:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.986), source=PLAYER (Shotgun), range=1469, listeners=5
[22:04:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:04:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=850), can_see=false
[22:04:08] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=767), can_see=false
[22:04:08] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1107), can_see=false
[22:04:08] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1570), can_see=false
[22:04:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1575), can_see=false
[22:04:08] [INFO] [ImpactEffects] Spawning explosion visual effect at (320.5559, 1066.013) (radius=15) - using shadow-based wall occlusion
[22:04:08] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(320.5559, 1066.013), source=PLAYER (ShotgunPellet), range=500, listeners=5
[22:04:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[22:04:08] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(150,1111), corner_timer=-0.02
[22:04:08] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:04:08] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(150,1111), corner_timer=0.30
[22:04:08] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:04:08] [INFO] [ImpactEffects] Spawning explosion visual effect at (850.6723, 960.7678) (radius=15) - using shadow-based wall occlusion
[22:04:08] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(850.6723, 960.7678), source=PLAYER (@Area2D@2223), range=500, listeners=5
[22:04:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[22:04:08] [INFO] [ImpactEffects] Spawning explosion visual effect at (841.3387, 979.7764) (radius=15) - using shadow-based wall occlusion
[22:04:08] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(841.3387, 979.7764), source=PLAYER (@Area2D@2224), range=500, listeners=5
[22:04:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[22:04:08] [INFO] [ImpactEffects] Spawning explosion visual effect at (856.6528, 975.978) (radius=15) - using shadow-based wall occlusion
[22:04:08] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(856.6528, 975.978), source=PLAYER (@Area2D@2225), range=500, listeners=5
[22:04:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[22:04:08] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/1->0/1
[22:04:08] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.818344, -0.574728), lethal=true
[22:04:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:08] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:04:08] [INFO] [ImpactEffects] Wall found for blood splatter at (942.7164, 920) (dist=52 px)
[22:04:08] [INFO] [BloodDecal] Blood puddle created at (942.7164, 921) (added to group)
[22:04:08] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1.5)
[22:04:08] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[22:04:08] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:04:08] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:04:08] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:04:08] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:04:08] [INFO] [PowerFantasy]   - Duration: 300ms
[22:04:08] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[22:04:08] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[22:04:08] [INFO] [DeathAnim] Started - Angle: -35.1 deg, Index: 9
[22:04:08] [ENEMY] [Enemy2] Death animation started with hit direction: (0.818344, -0.574728)
[22:04:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=850), can_see=false
[22:04:08] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1151), can_see=false
[22:04:08] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1570), can_see=false
[22:04:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1575), can_see=false
[22:04:08] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[22:04:08] [INFO] [PowerFantasy] Ending power fantasy effect
[22:04:08] [INFO] [ImpactEffects] Spawning explosion visual effect at (1239.676, 1020.857) (radius=15) - using shadow-based wall occlusion
[22:04:08] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1239.676, 1020.857), source=PLAYER (@Area2D@2229), range=500, listeners=4
[22:04:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[22:04:08] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[22:04:08] [INFO] [ImpactEffects] spawn_blood_effect called at (1295.332, 1000), dir=(0.993816, -0.111035), lethal=false
[22:04:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:04:08] [INFO] [ImpactEffects] Blood effect spawned at (1295.332, 1000) (scale=1)
[22:04:08] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[22:04:08] [INFO] [ImpactEffects] spawn_blood_effect called at (1295.332, 1000), dir=(0.996402, 0.084756), lethal=true
[22:04:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:08] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:04:08] [INFO] [ImpactEffects] Blood effect spawned at (1295.332, 1000) (scale=1.5)
[22:04:08] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[22:04:08] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[22:04:08] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:04:08] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:04:08] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:04:08] [INFO] [PowerFantasy]   - Duration: 300ms
[22:04:08] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[22:04:08] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[22:04:08] [INFO] [DeathAnim] Started - Angle: 4.9 deg, Index: 12
[22:04:08] [ENEMY] [Enemy3] Death animation started with hit direction: (0.996402, 0.084756)
[22:04:08] [INFO] [ImpactEffects] Spawning explosion visual effect at (1381.891, 1077.953) (radius=15) - using shadow-based wall occlusion
[22:04:08] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1381.891, 1077.953), source=PLAYER (@Area2D@2231), range=500, listeners=3
[22:04:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (1378.942, 906.1532) (radius=15) - using shadow-based wall occlusion
[22:04:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1378.942, 906.1532), source=PLAYER (@Area2D@2226), range=500, listeners=3
[22:04:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[22:04:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (1380.924, 1085.268) (radius=15) - using shadow-based wall occlusion
[22:04:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1380.924, 1085.268), source=PLAYER (@Area2D@2232), range=500, listeners=3
[22:04:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (1381.42, 1043.33) (radius=15) - using shadow-based wall occlusion
[22:04:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1381.42, 1043.33), source=PLAYER (@Area2D@2230), range=500, listeners=3
[22:04:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[22:04:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (1380.534, 955.2612) (radius=15) - using shadow-based wall occlusion
[22:04:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1380.534, 955.2612), source=PLAYER (@Area2D@2228), range=500, listeners=3
[22:04:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[22:04:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (1378.876, 949.1197) (radius=15) - using shadow-based wall occlusion
[22:04:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1378.876, 949.1197), source=PLAYER (@Area2D@2227), range=500, listeners=3
[22:04:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[22:04:09] [INFO] [PowerFantasy] Effect duration expired after 312.00 ms
[22:04:09] [INFO] [PowerFantasy] Ending power fantasy effect
[22:04:09] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=850), can_see=false
[22:04:09] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1570), can_see=false
[22:04:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1575), can_see=false
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (966.7415, 945.0233) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (950.9519, 921.8434) (added to group)
[22:04:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (1926.739, 1106.946) (radius=15) - using shadow-based wall occlusion
[22:04:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1926.739, 1106.946), source=PLAYER (@Area2D@2233), range=500, listeners=3
[22:04:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (965.0782, 949.7214) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (973.4335, 933.4088) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (956.8559, 950.8971) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (935.4422, 933.4046) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (948.3666, 952.7257) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (993.1516, 961.6771) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (948.3965, 920.7912) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (951.418, 944.3636) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1346.898, 1002.384) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1352.555, 1041.681) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1333.646, 1026.769) (added to group)
[22:04:09] [INFO] [ReplayManager] Recording frame 180 (2,5s): player_valid=True, enemies=5
[22:04:09] [ENEMY] [Enemy2] Ragdoll activated
[22:04:09] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1384.561, 1015.656) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1349.149, 998.7479) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1402.568, 975.7716) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1404.505, 1067.402) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1380.49, 1019.911) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1348.886, 1051.952) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1346.922, 1017.84) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1399.37, 1022.143) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1385.03, 1017.56) (added to group)
[22:04:09] [ENEMY] [Enemy3] Ragdoll activated
[22:04:09] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (997.668, 955.9014) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (948.382, 949.3432) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1418.5, 1015.141) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1372.652, 1015.967) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1390.312, 1044.545) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1384.112, 1065.962) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1416.096, 1073.197) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1393.294, 1079.696) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1386.253, 1035.705) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (991.7067, 985.8812) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1089.72, 1013.939) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1395.649, 1055.816) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1018.098, 886.9143) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1014.148, 982.7516) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (984.4666, 995.7333) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1423.838, 1002.25) (added to group)
[22:04:09] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=850), can_see=false
[22:04:09] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1570), can_see=false
[22:04:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1575), can_see=false
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1415.572, 1101.062) (added to group)
[22:04:09] [INFO] [BloodDecal] Blood puddle created at (1415.584, 1093.553) (added to group)
[22:04:10] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=850), can_see=false
[22:04:10] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1570), can_see=false
[22:04:10] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1575), can_see=false
[22:04:10] [INFO] [ReplayManager] Recording frame 240 (3,5s): player_valid=True, enemies=5
[22:04:11] [INFO] [PauseMenu] Armory button pressed
[22:04:11] [INFO] [PauseMenu] Creating new armory menu instance
[22:04:11] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[22:04:11] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[22:04:11] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[22:04:11] [INFO] [PauseMenu] back_pressed signal exists on instance
[22:04:11] [INFO] [PauseMenu] back_pressed signal connected
[22:04:11] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[22:04:11] [INFO] [PauseMenu] _populate_weapon_grid method exists
[22:04:11] [INFO] [ReplayManager] Recording frame 300 (4,5s): player_valid=True, enemies=5
[22:04:12] [INFO] [ReplayManager] Recording frame 360 (5,5s): player_valid=True, enemies=5
[22:04:12] [INFO] [GameManager] Weapon selected: mini_uzi
[22:04:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:12] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:04:12] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:04:12] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:04:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:04:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:04:12] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:04:12] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:04:12] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:04:12] [ENEMY] [Enemy1] Death animation component initialized
[22:04:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:12] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:04:12] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:04:12] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:04:12] [ENEMY] [Enemy2] Death animation component initialized
[22:04:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:12] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:04:12] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:04:12] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:04:12] [ENEMY] [Enemy3] Death animation component initialized
[22:04:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:12] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:04:12] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:04:12] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:04:12] [ENEMY] [Enemy4] Death animation component initialized
[22:04:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:12] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:04:12] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:04:12] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:04:12] [ENEMY] [Enemy5] Death animation component initialized
[22:04:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:12] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:04:12] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:04:12] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:04:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:04:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:04:12] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[22:04:12] [INFO] [Player.Weapon] Removed default MakarovPM
[22:04:12] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[22:04:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:04:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:04:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:04:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:04:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:04:12] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:04:12] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:04:12] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:04:12] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:04:12] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:04:12] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:04:12] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: MiniUzi
[22:04:12] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 10/10
[22:04:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:04:12] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:04:12] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:04:12] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:04:12] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:04:12] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:04:12] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:04:12] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:04:12] [INFO] [LabyrinthLevel] Setting up weapon: mini_uzi
[22:04:12] [INFO] [LabyrinthLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[22:04:12] [INFO] [ScoreManager] Level started with 5 enemies
[22:04:12] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:04:12] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:04:12] [INFO] [ReplayManager] Replay data cleared
[22:04:12] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:04:12] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[22:04:12] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:04:12] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:04:12] [INFO] [ReplayManager] Player: Player (valid: True)
[22:04:12] [INFO] [ReplayManager] Enemies count: 5
[22:04:12] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[22:04:12] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:04:12] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:04:12] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:04:12] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:04:12] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:04:12] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:04:12] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:04:12] [INFO] [CinemaEffects] Found player node: Player
[22:04:12] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:04:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[22:04:12] [ENEMY] [Enemy1] Registered as sound listener
[22:04:12] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[22:04:12] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:04:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[22:04:12] [ENEMY] [Enemy2] Registered as sound listener
[22:04:12] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:04:12] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:04:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[22:04:12] [ENEMY] [Enemy3] Registered as sound listener
[22:04:12] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[22:04:12] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:04:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[22:04:12] [ENEMY] [Enemy4] Registered as sound listener
[22:04:12] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[22:04:12] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:04:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[22:04:12] [ENEMY] [Enemy5] Registered as sound listener
[22:04:12] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[22:04:12] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:04:12] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:04:12] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:12] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:12] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:12] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=67.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:04:12] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[22:04:12] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[22:04:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:04:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:04:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:04:12] [INFO] [LastChance] Found player: Player
[22:04:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:04:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:04:12] [INFO] [LastChance] Connected to player Died signal (C#)
[22:04:12] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:04:13] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:04:14] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:04:14] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(219,1111), corner_timer=0.30
[22:04:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 1111.924), source=PLAYER (MiniUzi), range=1469, listeners=8
[22:04:14] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[22:04:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:04:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 1111.924), source=PLAYER (MiniUzi), range=1469, listeners=5
[22:04:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:04:14] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(219,1111), corner_timer=-0.02
[22:04:14] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:04:14] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(219,1111), corner_timer=0.30
[22:04:14] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:04:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (837.4205, 967.3401) (radius=15) - using shadow-based wall occlusion
[22:04:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(837.4205, 967.3401), source=PLAYER (Bullet9mm), range=500, listeners=5
[22:04:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[22:04:14] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[22:04:14] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.872935, -0.487836), lethal=false
[22:04:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:04:14] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1)
[22:04:14] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[22:04:14] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.978967, -0.204017), lethal=true
[22:04:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:14] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:04:14] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1.5)
[22:04:14] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[22:04:14] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:04:14] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:04:14] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:04:14] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:04:14] [INFO] [PowerFantasy]   - Duration: 300ms
[22:04:14] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[22:04:14] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[22:04:14] [INFO] [DeathAnim] Started - Angle: -11.8 deg, Index: 11
[22:04:14] [ENEMY] [Enemy2] Death animation started with hit direction: (0.978967, -0.204017)
[22:04:15] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[22:04:15] [INFO] [PowerFantasy] Ending power fantasy effect
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (941.6087, 956.1226) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (983.095, 985.7264) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (962.3213, 923.1665) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (968.7957, 941.6846) (added to group)
[22:04:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(233.2448, 1125.94), source=NEUTRAL (null), range=900, listeners=4
[22:04:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=1
[22:04:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(233.1517, 1125.631), source=NEUTRAL (null), range=900, listeners=4
[22:04:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=1
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (968.0641, 911.8832) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (987.675, 967.7722) (added to group)
[22:04:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(233.19, 1125.479), source=NEUTRAL (null), range=900, listeners=4
[22:04:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=1
[22:04:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(233.3381, 1125.123), source=NEUTRAL (null), range=900, listeners=4
[22:04:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=1
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (995.2938, 914.2686) (added to group)
[22:04:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(233.5165, 1124.755), source=NEUTRAL (null), range=900, listeners=4
[22:04:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=1
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (951.6597, 951.5724) (added to group)
[22:04:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(233.9088, 1124.713), source=NEUTRAL (null), range=900, listeners=4
[22:04:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=1
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1012.833, 1005.731) (added to group)
[22:04:15] [INFO] [ImpactEffects] Spawning explosion visual effect at (1383.153, 850.7147) (radius=15) - using shadow-based wall occlusion
[22:04:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1383.153, 850.7147), source=PLAYER (@Area2D@2727), range=500, listeners=4
[22:04:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[22:04:15] [ENEMY] [Enemy2] Ragdoll activated
[22:04:15] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1001.386, 918.4276) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1027.323, 962.1411) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1039.195, 999.9304) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1044.157, 1001.288) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1045.065, 948.1436) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1035.762, 1027.709) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (995.0496, 995.9323) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1048.864, 969.488) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1002.309, 961.6558) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1083.315, 1066.714) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1031.985, 1054.378) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (999.6138, 1049.823) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1044.307, 975.1639) (added to group)
[22:04:15] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=5
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1112.011, 1026.938) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1029.557, 1011.156) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1116.679, 1028.799) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1059.259, 954.364) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1101.16, 941.3322) (added to group)
[22:04:15] [INFO] [BloodDecal] Blood puddle created at (1059.219, 1066.542) (added to group)
[22:04:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 1018.424), source=PLAYER (MiniUzi), range=1469, listeners=4
[22:04:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=3
[22:04:16] [INFO] [ImpactEffects] Spawning explosion visual effect at (292.982, 1005.524) (radius=15) - using shadow-based wall occlusion
[22:04:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(292.982, 1005.524), source=PLAYER (Bullet9mm), range=500, listeners=4
[22:04:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=0
[22:04:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 1018.035), source=PLAYER (MiniUzi), range=1469, listeners=4
[22:04:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=3
[22:04:16] [INFO] [ImpactEffects] Spawning explosion visual effect at (292.6828, 1003.525) (radius=15) - using shadow-based wall occlusion
[22:04:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(292.6828, 1003.525), source=PLAYER (Bullet9mm), range=500, listeners=4
[22:04:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=0
[22:04:16] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/1->0/1
[22:04:16] [INFO] [ImpactEffects] spawn_blood_effect called at (1276.999, 1000), dir=(0.999935, -0.011392), lethal=true
[22:04:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:16] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:04:16] [INFO] [ImpactEffects] Blood effect spawned at (1276.999, 1000) (scale=1.5)
[22:04:16] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[22:04:16] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[22:04:16] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:04:16] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:04:16] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:04:16] [INFO] [PowerFantasy]   - Duration: 300ms
[22:04:16] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[22:04:16] [INFO] [DeathAnim] Started - Angle: -0.7 deg, Index: 11
[22:04:16] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999935, -0.011392)
[22:04:16] [ENEMY] [Enemy2] Death animation completed
[22:04:16] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=5
[22:04:16] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[22:04:16] [INFO] [PowerFantasy] Ending power fantasy effect
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1347.561, 1031.487) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1330.811, 1040.326) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1323.376, 1013.759) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1342.703, 1031.569) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1346.791, 1003.854) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1358.98, 1026.759) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1360.318, 1031.755) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1344.708, 1008.258) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1367.938, 1032.957) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1419.191, 1089.636) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1358.632, 1037.885) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1387.334, 1003.639) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1418.148, 1102.289) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1390.26, 1091.928) (added to group)
[22:04:17] [INFO] [BloodDecal] Blood puddle created at (1381.991, 1077.54) (added to group)
[22:04:17] [INFO] [ReplayManager] Recording frame 300 (4,5s): player_valid=True, enemies=5
[22:04:18] [ENEMY] [Enemy3] Ragdoll activated
[22:04:18] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:04:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 976.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:18] [INFO] [ImpactEffects] Spawning explosion visual effect at (293.6565, 968.0601) (radius=15) - using shadow-based wall occlusion
[22:04:18] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(293.6565, 968.0601), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 970.0352), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:18] [INFO] [ImpactEffects] Spawning explosion visual effect at (293.5872, 961.2813) (radius=15) - using shadow-based wall occlusion
[22:04:18] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(293.5872, 961.2813), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:18] [INFO] [ReplayManager] Recording frame 360 (5,5s): player_valid=True, enemies=5
[22:04:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 965.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (293.2213, 953.7564) (radius=15) - using shadow-based wall occlusion
[22:04:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(293.2213, 953.7564), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 965.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (293.3294, 954.4803) (radius=15) - using shadow-based wall occlusion
[22:04:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(293.3294, 954.4803), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:19] [INFO] [ReplayManager] Recording frame 420 (6,5s): player_valid=True, enemies=5
[22:04:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 965.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (290.5725, 942.472) (radius=15) - using shadow-based wall occlusion
[22:04:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(290.5725, 942.472), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 965.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (290.6892, 942.8422) (radius=15) - using shadow-based wall occlusion
[22:04:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(290.6892, 942.8422), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:20] [INFO] [ReplayManager] Recording frame 480 (7,5s): player_valid=True, enemies=5
[22:04:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 965.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:21] [INFO] [ImpactEffects] Spawning explosion visual effect at (287.9658, 935.4955) (radius=15) - using shadow-based wall occlusion
[22:04:21] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(287.9658, 935.4955), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 965.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:21] [INFO] [ImpactEffects] Spawning explosion visual effect at (288.0582, 935.7104) (radius=15) - using shadow-based wall occlusion
[22:04:21] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(288.0582, 935.7104), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:21] [INFO] [ReplayManager] Recording frame 540 (8,5s): player_valid=True, enemies=5
[22:04:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 965.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:21] [INFO] [ImpactEffects] Spawning explosion visual effect at (293.8819, 959.489) (radius=15) - using shadow-based wall occlusion
[22:04:21] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(293.8819, 959.489), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 965.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:21] [INFO] [ImpactEffects] Spawning explosion visual effect at (293.8822, 959.4935) (radius=15) - using shadow-based wall occlusion
[22:04:21] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(293.8822, 959.4935), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:21] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[22:04:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 965.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (293.5923, 973.9115) (radius=15) - using shadow-based wall occlusion
[22:04:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(293.5923, 973.9115), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 965.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (293.5307, 974.4232) (radius=15) - using shadow-based wall occlusion
[22:04:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(293.5307, 974.4232), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:22] [INFO] [ReplayManager] Recording frame 600 (9,5s): player_valid=True, enemies=5
[22:04:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 965.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:23] [INFO] [ImpactEffects] Spawning explosion visual effect at (291.8448, 983.4545) (radius=15) - using shadow-based wall occlusion
[22:04:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(291.8448, 983.4545), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(219.0998, 965.2018), source=PLAYER (MiniUzi), range=1469, listeners=3
[22:04:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[22:04:23] [INFO] [ImpactEffects] Spawning explosion visual effect at (291.3012, 985.4986) (radius=15) - using shadow-based wall occlusion
[22:04:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(291.3012, 985.4986), source=PLAYER (Bullet9mm), range=500, listeners=3
[22:04:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[22:04:23] [INFO] [ReplayManager] Recording frame 660 (10,5s): player_valid=True, enemies=5
[22:04:24] [INFO] [PauseMenu] Armory button pressed
[22:04:24] [INFO] [PauseMenu] Creating new armory menu instance
[22:04:24] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[22:04:24] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[22:04:24] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[22:04:24] [INFO] [PauseMenu] back_pressed signal exists on instance
[22:04:24] [INFO] [PauseMenu] back_pressed signal connected
[22:04:24] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[22:04:24] [INFO] [PauseMenu] _populate_weapon_grid method exists
[22:04:24] [INFO] [ReplayManager] Recording frame 720 (11,5s): player_valid=True, enemies=5
[22:04:25] [INFO] [ReplayManager] Recording frame 780 (12,5s): player_valid=True, enemies=5
[22:04:26] [INFO] [GameManager] Weapon selected: silenced_pistol
[22:04:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:26] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:04:26] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:04:26] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:04:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:04:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:04:26] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:04:26] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:04:26] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:04:26] [ENEMY] [Enemy1] Death animation component initialized
[22:04:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:26] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:04:26] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:04:26] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:04:26] [ENEMY] [Enemy2] Death animation component initialized
[22:04:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:26] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:04:26] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:04:26] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:04:26] [ENEMY] [Enemy3] Death animation component initialized
[22:04:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:26] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:04:26] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:04:26] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:04:26] [ENEMY] [Enemy4] Death animation component initialized
[22:04:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:26] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:04:26] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:04:26] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:04:26] [ENEMY] [Enemy5] Death animation component initialized
[22:04:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:26] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:04:26] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:04:26] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:04:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:04:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:04:26] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[22:04:26] [INFO] [Player.Weapon] Removed default MakarovPM
[22:04:26] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[22:04:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:04:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:04:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:04:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:04:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:04:26] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:04:26] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:04:26] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:04:26] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:04:26] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:04:26] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:04:26] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: SilencedPistol
[22:04:26] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 10/10
[22:04:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:04:26] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:04:26] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:04:26] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:04:26] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:04:26] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:04:26] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:04:26] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:04:26] [INFO] [LabyrinthLevel] Setting up weapon: silenced_pistol
[22:04:26] [INFO] [LabyrinthLevel] SilencedPistol already equipped by C# Player - skipping GDScript weapon swap
[22:04:26] [INFO] [ScoreManager] Level started with 5 enemies
[22:04:26] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:04:26] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:04:26] [INFO] [ReplayManager] Replay data cleared
[22:04:26] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:04:26] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[22:04:26] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:04:26] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:04:26] [INFO] [ReplayManager] Player: Player (valid: True)
[22:04:26] [INFO] [ReplayManager] Enemies count: 5
[22:04:26] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[22:04:26] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:04:26] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:04:26] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:04:26] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:04:26] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:04:26] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:04:26] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:04:26] [INFO] [CinemaEffects] Found player node: Player
[22:04:26] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:04:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[22:04:26] [ENEMY] [Enemy1] Registered as sound listener
[22:04:26] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[22:04:26] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:04:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[22:04:26] [ENEMY] [Enemy2] Registered as sound listener
[22:04:26] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:04:26] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:04:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[22:04:26] [ENEMY] [Enemy3] Registered as sound listener
[22:04:26] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[22:04:26] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:04:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[22:04:26] [ENEMY] [Enemy4] Registered as sound listener
[22:04:26] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[22:04:26] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:04:26] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[22:04:26] [ENEMY] [Enemy5] Registered as sound listener
[22:04:26] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[22:04:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:04:26] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:04:26] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:26] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:26] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:26] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:04:26] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[22:04:26] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:04:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:04:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:04:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:04:26] [INFO] [LastChance] Found player: Player
[22:04:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:04:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:04:26] [INFO] [LastChance] Connected to player Died signal (C#)
[22:04:26] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:04:27] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=167.8°, current=-143.2°, player=(150,1111), corner_timer=0.00
[22:04:27] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[22:04:27] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.0°, current=18.8°, player=(150,1111), corner_timer=0.00
[22:04:27] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:04:27] [ENEMY] [Enemy3] Memory: high confidence (0.88) - transitioning to PURSUING
[22:04:27] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:04:27] [ENEMY] [Enemy3] ROT_CHANGE: none -> P2:combat_state, state=PURSUING, target=173.9°, current=0.0°, player=(150,1111), corner_timer=0.00
[22:04:27] [ENEMY] [Enemy3] PURSUING corner check: angle -64.3°
[22:04:27] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.8°, current=-148.6°, player=(150,1111), corner_timer=0.30
[22:04:28] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[22:04:28] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:04:28] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=164.5°, current=115.8°, player=(150,1111), corner_timer=0.00
[22:04:28] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:04:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(870.6537, 999.3644), source=ENEMY (Enemy3), range=1469, listeners=8
[22:04:28] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[22:04:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[22:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(833.7682, 1005.129), source=ENEMY (Enemy3), range=1469, listeners=5
[22:04:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[22:04:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(852.2139, 986.3425), source=NEUTRAL (null), range=900, listeners=5
[22:04:29] [ENEMY] [Enemy2] Heard CASING_KICK at (852.2139, 986.3425), intensity=0.19, dist=115
[22:04:29] [ENEMY] [Enemy3] Heard CASING_KICK at (852.2139, 986.3425), intensity=1.00, dist=35
[22:04:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=2
[22:04:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(159.6632, 1126.3), source=NEUTRAL (null), range=900, listeners=5
[22:04:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:04:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(159.589, 1126.04), source=NEUTRAL (null), range=900, listeners=5
[22:04:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:04:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(159.6157, 1125.957), source=NEUTRAL (null), range=900, listeners=5
[22:04:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:04:29] [INFO] [ImpactEffects] Spawning explosion visual effect at (758.9641, 1006.706) (radius=15) - using shadow-based wall occlusion
[22:04:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(758.9641, 1006.706), source=PLAYER (Bullet9mm), range=500, listeners=5
[22:04:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[22:04:29] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=164.8°, current=164.7°, player=(150,1108), corner_timer=0.00
[22:04:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(159.7331, 1126.031), source=NEUTRAL (null), range=900, listeners=5
[22:04:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[22:04:29] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[22:04:29] [INFO] [ImpactEffects] spawn_blood_effect called at (807.4133, 1009.194), dir=(0.991339, 0.131326), lethal=false
[22:04:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:04:29] [INFO] [ImpactEffects] Blood effect spawned at (807.4133, 1009.194) (scale=1)
[22:04:29] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[22:04:29] [INFO] [ImpactEffects] spawn_blood_effect called at (807.4133, 1009.194), dir=(0.999067, -0.043184), lethal=true
[22:04:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:29] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:04:29] [INFO] [ImpactEffects] Blood effect spawned at (807.4133, 1009.194) (scale=1.5)
[22:04:29] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[22:04:29] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:04:29] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:04:29] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:04:29] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:04:29] [INFO] [PowerFantasy]   - Duration: 300ms
[22:04:29] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[22:04:29] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 4)
[22:04:29] [INFO] [DeathAnim] Started - Angle: -2.5 deg, Index: 11
[22:04:29] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999067, -0.043184)
[22:04:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(159.988, 1126.411), source=NEUTRAL (null), range=900, listeners=4
[22:04:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[22:04:29] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[22:04:29] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:04:29] [INFO] [LastChance] Threat detected: Bullet
[22:04:29] [INFO] [LastChance] Not in hard mode - effect disabled
[22:04:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:04:29] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:04:29] [INFO] [PowerFantasy] Effect duration expired after 315.00 ms
[22:04:29] [INFO] [PowerFantasy] Ending power fantasy effect
[22:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(805.06903, 1017.50964), shooter_id=778479602127, bullet_pos=(151.4263, 1125.4812)
[22:04:29] [INFO] [Bullet] Using shooter_position, distance=662,5003
[22:04:29] [INFO] [Bullet] Distance to wall: 662,5003 (45,110867% of viewport)
[22:04:29] [INFO] [Bullet] Distance-based penetration chance: 94,03732%
[22:04:29] [INFO] [Bullet] Starting wall penetration at (151.4263, 1125.4812)
[22:04:29] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:04:29] [INFO] [Bullet] Exiting penetration at (105.38356, 1133.0867) after traveling 41,666668 pixels through wall
[22:04:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:04:29] [INFO] [LastChance] Threat detected: @Area2D@3274
[22:04:29] [INFO] [LastChance] Not in hard mode - effect disabled
[22:04:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(768.1836, 1023.27466), shooter_id=778479602127, bullet_pos=(71.572205, 1126.1486)
[22:04:29] [INFO] [Bullet] Using shooter_position, distance=704,1665
[22:04:29] [INFO] [Bullet] Distance to wall: 704,1665 (47,947994% of viewport)
[22:04:29] [INFO] [Bullet] Distance-based penetration chance: 90,72734%
[22:04:29] [INFO] [Bullet] Penetration failed (distance roll)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (847.6459, 1039.22) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (871.8864, 1011.931) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (887.7396, 1027.798) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (868.2631, 1005.779) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (896.2203, 1025.351) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (910.5615, 1032.014) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (903.0602, 1071.947) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (883.8495, 1051.457) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (872.1111, 1023.785) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (865.2084, 1024.873) (added to group)
[22:04:29] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=5
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (870.9276, 1051.897) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (873.767, 1032.695) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (891.6144, 1024.003) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (951.6389, 1100.744) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (884.752, 1101.939) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (916.7972, 1074.767) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (878.4969, 1034.372) (added to group)
[22:04:29] [ENEMY] [Enemy3] Ragdoll activated
[22:04:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (890.5135, 1038.309) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (905.8758, 1014.298) (added to group)
[22:04:29] [INFO] [BloodDecal] Blood puddle created at (897.5911, 1042.217) (added to group)
[22:04:30] [INFO] [BloodDecal] Blood puddle created at (903.1063, 1065.148) (added to group)
[22:04:30] [INFO] [BloodDecal] Blood puddle created at (905.5673, 1054.182) (added to group)
[22:04:30] [INFO] [BloodDecal] Blood puddle created at (954.6, 1058.788) (added to group)
[22:04:30] [INFO] [BloodDecal] Blood puddle created at (1022.355, 1101.79) (added to group)
[22:04:30] [INFO] [BloodDecal] Blood puddle created at (902.0056, 1115.42) (added to group)
[22:04:30] [INFO] [BloodDecal] Blood puddle created at (978.5675, 1091.699) (added to group)
[22:04:30] [INFO] [BloodDecal] Blood puddle created at (1026.659, 1091.319) (added to group)
[22:04:30] [INFO] [BloodDecal] Blood puddle created at (928.5925, 1060.92) (added to group)
[22:04:30] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=5
[22:04:31] [INFO] [ImpactEffects] Spawning explosion visual effect at (290.3077, 1054.964) (radius=15) - using shadow-based wall occlusion
[22:04:31] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(290.3077, 1054.964), source=PLAYER (Bullet9mm), range=500, listeners=4
[22:04:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[22:04:31] [INFO] [ReplayManager] Recording frame 300 (4,7s): player_valid=True, enemies=5
[22:04:32] [INFO] [ReplayManager] Recording frame 360 (5,7s): player_valid=True, enemies=5
[22:04:33] [INFO] [PauseMenu] Armory button pressed
[22:04:33] [INFO] [PauseMenu] Creating new armory menu instance
[22:04:33] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[22:04:33] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[22:04:33] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[22:04:33] [INFO] [PauseMenu] back_pressed signal exists on instance
[22:04:33] [INFO] [PauseMenu] back_pressed signal connected
[22:04:33] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[22:04:33] [INFO] [PauseMenu] _populate_weapon_grid method exists
[22:04:33] [INFO] [ReplayManager] Recording frame 420 (6,7s): player_valid=True, enemies=5
[22:04:34] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[22:04:34] [INFO] [ReplayManager] Recording frame 480 (7,7s): player_valid=True, enemies=5
[22:04:34] [INFO] [GameManager] Weapon selected: sniper
[22:04:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:34] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:04:34] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:04:34] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:04:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:04:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:04:34] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:04:34] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:04:34] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:04:34] [ENEMY] [Enemy1] Death animation component initialized
[22:04:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:34] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:04:34] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:04:34] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:04:34] [ENEMY] [Enemy2] Death animation component initialized
[22:04:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:34] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:04:34] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:04:34] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:04:34] [ENEMY] [Enemy3] Death animation component initialized
[22:04:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:34] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:04:34] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:04:34] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:04:34] [ENEMY] [Enemy4] Death animation component initialized
[22:04:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:34] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:04:34] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:04:34] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:04:34] [ENEMY] [Enemy5] Death animation component initialized
[22:04:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:34] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:04:34] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:04:34] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:04:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:04:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:04:34] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[22:04:34] [INFO] [Player.Weapon] Removed default MakarovPM
[22:04:34] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[22:04:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:04:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:04:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:04:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:04:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:04:34] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:04:34] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:04:34] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:04:34] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:04:34] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:04:34] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:04:34] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: SniperRifle
[22:04:34] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[22:04:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:04:34] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:04:34] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:04:34] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:04:34] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:04:34] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:04:34] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:04:34] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:04:34] [INFO] [LabyrinthLevel] Setting up weapon: sniper
[22:04:34] [INFO] [LabyrinthLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[22:04:34] [INFO] [ScoreManager] Level started with 5 enemies
[22:04:34] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:04:34] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:04:34] [INFO] [ReplayManager] Replay data cleared
[22:04:34] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:04:34] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[22:04:34] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:04:34] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:04:34] [INFO] [ReplayManager] Player: Player (valid: True)
[22:04:34] [INFO] [ReplayManager] Enemies count: 5
[22:04:34] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[22:04:34] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:04:34] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:04:34] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:04:34] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:04:34] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:04:34] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:04:34] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:04:34] [INFO] [CinemaEffects] Found player node: Player
[22:04:34] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:04:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 5)
[22:04:34] [ENEMY] [Enemy1] Registered as sound listener
[22:04:34] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[22:04:34] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:04:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 6)
[22:04:34] [ENEMY] [Enemy2] Registered as sound listener
[22:04:34] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:04:34] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:04:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 7)
[22:04:34] [ENEMY] [Enemy3] Registered as sound listener
[22:04:34] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[22:04:34] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:04:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 8)
[22:04:34] [ENEMY] [Enemy4] Registered as sound listener
[22:04:34] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[22:04:34] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:04:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 9)
[22:04:34] [ENEMY] [Enemy5] Registered as sound listener
[22:04:34] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[22:04:34] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:04:35] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:04:35] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:35] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:35] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:35] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:04:35] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[22:04:35] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[22:04:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:04:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:04:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:04:35] [INFO] [LastChance] Found player: Player
[22:04:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:04:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:04:35] [INFO] [LastChance] Connected to player Died signal (C#)
[22:04:35] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:04:35] [INFO] [ImpactEffects] Spawning explosion visual effect at (278.1254, 964.538) (radius=15) - using shadow-based wall occlusion
[22:04:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(278.1254, 964.538), source=PLAYER (SniperRifle), range=500, listeners=9
[22:04:35] [INFO] [SoundPropagation] Cleaned up 4 invalid listeners
[22:04:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[22:04:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 972.8333), source=PLAYER (SniperRifle), range=3000, listeners=5
[22:04:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[22:04:35] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:04:36] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:04:36] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,970), corner_timer=0.30
[22:04:36] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(150,970), corner_timer=-0.02
[22:04:36] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:04:36] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(150,970), corner_timer=0.30
[22:04:36] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:04:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:37] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:04:37] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:04:37] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:04:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:04:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:04:37] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:04:37] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:04:37] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:04:37] [ENEMY] [Enemy1] Death animation component initialized
[22:04:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:37] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:04:37] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:04:37] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:04:37] [ENEMY] [Enemy2] Death animation component initialized
[22:04:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:37] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:04:37] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:04:37] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:04:37] [ENEMY] [Enemy3] Death animation component initialized
[22:04:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:37] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:04:37] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:04:37] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:04:37] [ENEMY] [Enemy4] Death animation component initialized
[22:04:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:37] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:04:37] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:04:37] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:04:37] [ENEMY] [Enemy5] Death animation component initialized
[22:04:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:37] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:04:37] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:04:37] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:04:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:04:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:04:37] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[22:04:37] [INFO] [Player.Weapon] Removed default MakarovPM
[22:04:37] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[22:04:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:04:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:04:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:04:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:04:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:04:37] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:04:37] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:04:37] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:04:37] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:04:37] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:04:37] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:04:37] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: SniperRifle
[22:04:37] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[22:04:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:04:38] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:04:38] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:04:38] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:04:38] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:04:38] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:04:38] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:04:38] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:04:38] [INFO] [LabyrinthLevel] Setting up weapon: sniper
[22:04:38] [INFO] [LabyrinthLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[22:04:38] [INFO] [ScoreManager] Level started with 5 enemies
[22:04:38] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:04:38] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:04:38] [INFO] [ReplayManager] Replay data cleared
[22:04:38] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:04:38] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[22:04:38] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:04:38] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:04:38] [INFO] [ReplayManager] Player: Player (valid: True)
[22:04:38] [INFO] [ReplayManager] Enemies count: 5
[22:04:38] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[22:04:38] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:04:38] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:04:38] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:04:38] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:04:38] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:04:38] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:04:38] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:04:38] [INFO] [CinemaEffects] Found player node: Player
[22:04:38] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:04:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[22:04:38] [ENEMY] [Enemy1] Registered as sound listener
[22:04:38] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[22:04:38] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:04:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[22:04:38] [ENEMY] [Enemy2] Registered as sound listener
[22:04:38] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:04:38] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:04:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[22:04:38] [ENEMY] [Enemy3] Registered as sound listener
[22:04:38] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[22:04:38] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:04:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[22:04:38] [ENEMY] [Enemy4] Registered as sound listener
[22:04:38] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[22:04:38] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:04:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[22:04:38] [ENEMY] [Enemy5] Registered as sound listener
[22:04:38] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[22:04:38] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:04:38] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:04:38] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:38] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:38] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:38] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=67.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:04:38] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[22:04:38] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[22:04:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:04:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:04:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:04:38] [INFO] [LastChance] Found player: Player
[22:04:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:04:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:04:38] [INFO] [LastChance] Connected to player Died signal (C#)
[22:04:38] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:04:38] [INFO] [ImpactEffects] Spawning explosion visual effect at (278.108, 987.1339) (radius=15) - using shadow-based wall occlusion
[22:04:38] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(278.108, 987.1339), source=PLAYER (SniperRifle), range=500, listeners=10
[22:04:38] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[22:04:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[22:04:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(64.0005, 1000), source=PLAYER (SniperRifle), range=3000, listeners=5
[22:04:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[22:04:39] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:04:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:39] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:04:39] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:04:39] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:04:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:04:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:04:39] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:04:39] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:04:39] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:04:39] [ENEMY] [Enemy1] Death animation component initialized
[22:04:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:39] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:04:39] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:04:39] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:04:39] [ENEMY] [Enemy2] Death animation component initialized
[22:04:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:39] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:04:39] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:04:39] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:04:39] [ENEMY] [Enemy3] Death animation component initialized
[22:04:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:39] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:04:39] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:04:39] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:04:39] [ENEMY] [Enemy4] Death animation component initialized
[22:04:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:39] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:04:39] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:04:39] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:04:39] [ENEMY] [Enemy5] Death animation component initialized
[22:04:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:39] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:04:39] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:04:39] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:04:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:04:39] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:04:39] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[22:04:39] [INFO] [Player.Weapon] Removed default MakarovPM
[22:04:39] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[22:04:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:04:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:04:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:04:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:04:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:04:39] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:04:39] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:04:39] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:04:39] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:04:39] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:04:39] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:04:39] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: SniperRifle
[22:04:39] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[22:04:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:04:39] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:04:39] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:04:39] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:04:39] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:04:39] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:04:39] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:04:39] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:04:39] [INFO] [LabyrinthLevel] Setting up weapon: sniper
[22:04:39] [INFO] [LabyrinthLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[22:04:39] [INFO] [ScoreManager] Level started with 5 enemies
[22:04:39] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:04:39] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:04:39] [INFO] [ReplayManager] Replay data cleared
[22:04:39] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:04:39] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[22:04:39] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:04:39] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:04:39] [INFO] [ReplayManager] Player: Player (valid: True)
[22:04:39] [INFO] [ReplayManager] Enemies count: 5
[22:04:39] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[22:04:39] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:04:39] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:04:39] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:04:39] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:04:39] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:04:39] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:04:39] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:04:39] [INFO] [CinemaEffects] Found player node: Player
[22:04:39] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:04:39] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[22:04:39] [ENEMY] [Enemy1] Registered as sound listener
[22:04:39] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[22:04:39] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:04:39] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[22:04:39] [ENEMY] [Enemy2] Registered as sound listener
[22:04:39] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:04:39] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:04:39] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[22:04:39] [ENEMY] [Enemy3] Registered as sound listener
[22:04:39] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[22:04:39] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:04:39] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[22:04:39] [ENEMY] [Enemy4] Registered as sound listener
[22:04:39] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[22:04:39] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:04:39] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[22:04:39] [ENEMY] [Enemy5] Registered as sound listener
[22:04:39] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[22:04:39] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:04:39] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:04:39] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:39] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:39] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:39] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:04:39] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[22:04:39] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[22:04:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:04:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:04:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:04:39] [INFO] [LastChance] Found player: Player
[22:04:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:04:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:04:39] [INFO] [LastChance] Connected to player Died signal (C#)
[22:04:39] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:04:40] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=167.8°, current=-143.2°, player=(150,1111), corner_timer=0.00
[22:04:40] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[22:04:40] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.0°, current=18.8°, player=(150,1111), corner_timer=0.00
[22:04:40] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:04:40] [ENEMY] [Enemy3] Memory: high confidence (0.88) - transitioning to PURSUING
[22:04:40] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:04:40] [ENEMY] [Enemy3] ROT_CHANGE: none -> P2:combat_state, state=PURSUING, target=173.9°, current=0.0°, player=(150,1111), corner_timer=0.00
[22:04:40] [ENEMY] [Enemy3] PURSUING corner check: angle -64.3°
[22:04:40] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.8°, current=-148.6°, player=(150,1111), corner_timer=0.30
[22:04:40] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[22:04:41] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:04:41] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=164.5°, current=115.8°, player=(150,1111), corner_timer=0.00
[22:04:41] [INFO] [ImpactEffects] Spawning explosion visual effect at (924.5797, 985.1243) (radius=15) - using shadow-based wall occlusion
[22:04:41] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(924.5797, 985.1243), source=PLAYER (SniperRifle), range=500, listeners=10
[22:04:41] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[22:04:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[22:04:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.999), source=PLAYER (SniperRifle), range=3000, listeners=5
[22:04:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[22:04:41] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[22:04:41] [INFO] [ImpactEffects] spawn_blood_effect called at (991.8487, 980.4221), dir=(0.986674, -0.162709), lethal=false
[22:04:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:04:41] [INFO] [ImpactEffects] Blood effect spawned at (991.8487, 980.4221) (scale=1)
[22:04:41] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[22:04:41] [INFO] [ImpactEffects] spawn_blood_effect called at (991.8487, 980.4221), dir=(0.999347, 0.036138), lethal=true
[22:04:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:41] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:04:41] [INFO] [ImpactEffects] Blood effect spawned at (991.8487, 980.4221) (scale=1.5)
[22:04:41] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[22:04:41] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:04:41] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:04:41] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:04:41] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:04:41] [INFO] [PowerFantasy]   - Duration: 300ms
[22:04:41] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[22:04:41] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 4)
[22:04:41] [INFO] [DeathAnim] Started - Angle: 2.1 deg, Index: 12
[22:04:41] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999347, 0.036138)
[22:04:41] [INFO] [ReplayManager] Recording frame 120 (1,8s): player_valid=True, enemies=5
[22:04:41] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[22:04:41] [INFO] [PowerFantasy] Ending power fantasy effect
[22:04:41] [INFO] [BloodDecal] Blood puddle created at (1049.167, 1000.022) (added to group)
[22:04:41] [INFO] [BloodDecal] Blood puddle created at (1059.284, 1002.386) (added to group)
[22:04:41] [INFO] [BloodDecal] Blood puddle created at (1076.214, 1019.471) (added to group)
[22:04:41] [INFO] [BloodDecal] Blood puddle created at (1041.761, 999.325) (added to group)
[22:04:41] [INFO] [BloodDecal] Blood puddle created at (1071.736, 1034.562) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1083.142, 1012.998) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1060.738, 961.1603) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1080.259, 974.8888) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1045.66, 1037.769) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1095.462, 1025.116) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1101.83, 1073.078) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1101.588, 1009.183) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1064.653, 1041.278) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1146.093, 1007.619) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1072.328, 1022.103) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1099.423, 1015.997) (added to group)
[22:04:42] [ENEMY] [Enemy3] Ragdoll activated
[22:04:42] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1108.995, 1052.163) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1148.028, 1045.224) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1142.55, 1057.087) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1085.167, 1081.883) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1086.136, 1018.552) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1118.802, 1107.599) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1110.936, 1034.008) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1155.316, 1038.878) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1119.092, 1039.612) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1163.723, 987.5145) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1145.535, 1021.793) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1166.847, 1021.142) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1092.052, 1102.971) (added to group)
[22:04:42] [INFO] [BloodDecal] Blood puddle created at (1198.248, 1110.43) (added to group)
[22:04:42] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=164.8°, current=164.7°, player=(150,1108), corner_timer=0.00
[22:04:42] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=5
[22:04:42] [ENEMY] [Enemy2] PURSUING corner check: angle 98.0°
[22:04:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:43] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:04:43] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:04:43] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:04:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:04:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:04:43] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:04:43] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:04:43] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:04:43] [ENEMY] [Enemy1] Death animation component initialized
[22:04:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:43] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:04:43] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:04:43] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:04:43] [ENEMY] [Enemy2] Death animation component initialized
[22:04:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:43] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:04:43] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:04:43] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:04:43] [ENEMY] [Enemy3] Death animation component initialized
[22:04:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:43] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:04:43] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:04:43] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:04:43] [ENEMY] [Enemy4] Death animation component initialized
[22:04:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:43] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:04:43] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:04:43] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:04:43] [ENEMY] [Enemy5] Death animation component initialized
[22:04:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:43] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:04:43] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:04:43] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:04:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:04:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:04:43] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[22:04:43] [INFO] [Player.Weapon] Removed default MakarovPM
[22:04:43] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[22:04:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:04:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:04:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:04:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:04:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:04:43] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:04:43] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:04:43] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:04:43] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:04:43] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:04:43] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:04:43] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: SniperRifle
[22:04:43] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[22:04:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:04:43] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:04:43] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:04:43] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:04:43] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:04:43] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:04:43] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:04:43] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:04:43] [INFO] [LabyrinthLevel] Setting up weapon: sniper
[22:04:43] [INFO] [LabyrinthLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[22:04:43] [INFO] [ScoreManager] Level started with 5 enemies
[22:04:43] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:04:43] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:04:43] [INFO] [ReplayManager] Replay data cleared
[22:04:43] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:04:43] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[22:04:43] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:04:43] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:04:43] [INFO] [ReplayManager] Player: Player (valid: True)
[22:04:43] [INFO] [ReplayManager] Enemies count: 5
[22:04:43] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[22:04:43] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:04:43] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:04:43] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:04:43] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:04:43] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:04:43] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:04:43] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:04:43] [INFO] [CinemaEffects] Found player node: Player
[22:04:43] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:04:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 5)
[22:04:43] [ENEMY] [Enemy1] Registered as sound listener
[22:04:43] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[22:04:43] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:04:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 6)
[22:04:43] [ENEMY] [Enemy2] Registered as sound listener
[22:04:43] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[22:04:43] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:04:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 7)
[22:04:43] [ENEMY] [Enemy3] Registered as sound listener
[22:04:43] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[22:04:43] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:04:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 8)
[22:04:43] [ENEMY] [Enemy4] Registered as sound listener
[22:04:43] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[22:04:43] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:04:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 9)
[22:04:43] [ENEMY] [Enemy5] Registered as sound listener
[22:04:43] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[22:04:43] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:04:43] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:04:43] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:43] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:43] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:43] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:04:43] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[22:04:43] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[22:04:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:04:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:04:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:04:43] [INFO] [LastChance] Found player: Player
[22:04:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:04:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:04:43] [INFO] [LastChance] Connected to player Died signal (C#)
[22:04:43] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:04:44] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:04:44] [INFO] [PauseMenu] Armory button pressed
[22:04:44] [INFO] [PauseMenu] Creating new armory menu instance
[22:04:44] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[22:04:44] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[22:04:44] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[22:04:44] [INFO] [PauseMenu] back_pressed signal exists on instance
[22:04:44] [INFO] [PauseMenu] back_pressed signal connected
[22:04:44] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[22:04:44] [INFO] [PauseMenu] _populate_weapon_grid method exists
[22:04:45] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:04:45] [INFO] [GameManager] Weapon selected: revolver
[22:04:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:45] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:04:45] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:04:45] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:04:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:04:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:04:45] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:04:45] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:04:45] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:04:45] [ENEMY] [Enemy1] Death animation component initialized
[22:04:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:45] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:04:45] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:04:45] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:04:45] [ENEMY] [Enemy2] Death animation component initialized
[22:04:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:45] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:04:45] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:04:45] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:04:45] [ENEMY] [Enemy3] Death animation component initialized
[22:04:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:45] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:04:45] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:04:45] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:04:45] [ENEMY] [Enemy4] Death animation component initialized
[22:04:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:45] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:04:45] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:04:45] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:04:45] [ENEMY] [Enemy5] Death animation component initialized
[22:04:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:45] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:04:45] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:04:45] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:04:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:04:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:04:45] [INFO] [Player.Weapon] GameManager weapon selection: revolver (Revolver)
[22:04:45] [INFO] [Player.Weapon] Removed default MakarovPM
[22:04:45] [INFO] [Player.Weapon] Equipped Revolver (ammo: 5/5)
[22:04:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:04:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:04:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:04:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:04:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:04:45] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:04:45] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:04:45] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:04:45] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:04:45] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:04:45] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:04:45] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Revolver
[22:04:45] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[22:04:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:04:45] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:04:45] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:04:45] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:04:45] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:04:45] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:04:45] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:04:45] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:04:45] [INFO] [LabyrinthLevel] Setting up weapon: revolver
[22:04:45] [INFO] [ScoreManager] Level started with 5 enemies
[22:04:45] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:04:45] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:04:45] [INFO] [ReplayManager] Replay data cleared
[22:04:45] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:04:45] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:04:45] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:04:45] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:04:45] [INFO] [ReplayManager] Player: Player (valid: True)
[22:04:45] [INFO] [ReplayManager] Enemies count: 5
[22:04:45] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:04:45] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:04:45] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:04:45] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:04:45] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:04:45] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:04:45] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:04:45] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:04:45] [INFO] [CinemaEffects] Found player node: Player
[22:04:45] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:04:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[22:04:45] [ENEMY] [Enemy1] Registered as sound listener
[22:04:45] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[22:04:45] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:04:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[22:04:45] [ENEMY] [Enemy2] Registered as sound listener
[22:04:45] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[22:04:45] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:04:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[22:04:45] [ENEMY] [Enemy3] Registered as sound listener
[22:04:45] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[22:04:45] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:04:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[22:04:45] [ENEMY] [Enemy4] Registered as sound listener
[22:04:45] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[22:04:45] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:04:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[22:04:45] [ENEMY] [Enemy5] Registered as sound listener
[22:04:45] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[22:04:45] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:04:46] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:04:46] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:46] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:46] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:46] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:04:46] [INFO] [Player] Detected weapon: RSh-12 Revolver (Pistol pose)
[22:04:46] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:04:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:04:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:04:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:04:46] [INFO] [LastChance] Found player: Player
[22:04:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:04:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:04:46] [INFO] [LastChance] Connected to player Died signal (C#)
[22:04:46] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:04:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1000), source=PLAYER (Revolver), range=2500, listeners=14
[22:04:46] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[22:04:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[22:04:46] [INFO] [ImpactEffects] Spawning explosion visual effect at (308.465, 1013.033) (radius=15) - using shadow-based wall occlusion
[22:04:46] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(308.465, 1013.033), source=PLAYER (Bullet12p7mm), range=500, listeners=5
[22:04:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[22:04:46] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:04:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:47] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:04:47] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:04:47] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:04:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:04:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:04:47] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:04:47] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:04:47] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:04:47] [ENEMY] [Enemy1] Death animation component initialized
[22:04:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:47] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:04:47] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:04:47] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:04:47] [ENEMY] [Enemy2] Death animation component initialized
[22:04:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:47] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:04:47] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:04:47] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:04:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:04:47] [ENEMY] [Enemy3] Death animation component initialized
[22:04:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:47] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:04:47] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:04:47] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:04:47] [ENEMY] [Enemy4] Death animation component initialized
[22:04:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:47] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:04:47] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:04:47] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:04:47] [ENEMY] [Enemy5] Death animation component initialized
[22:04:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:47] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:04:47] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:04:47] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:04:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:04:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:04:47] [INFO] [Player.Weapon] GameManager weapon selection: revolver (Revolver)
[22:04:47] [INFO] [Player.Weapon] Removed default MakarovPM
[22:04:47] [INFO] [Player.Weapon] Equipped Revolver (ammo: 5/5)
[22:04:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:04:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:04:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:04:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:04:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:04:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:04:47] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:04:47] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:04:47] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:04:47] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:04:47] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:04:47] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Revolver
[22:04:47] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[22:04:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:04:47] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:04:47] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:04:47] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:04:47] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:04:47] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:04:47] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:04:47] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:04:47] [INFO] [LabyrinthLevel] Setting up weapon: revolver
[22:04:47] [INFO] [ScoreManager] Level started with 5 enemies
[22:04:47] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:04:47] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:04:47] [INFO] [ReplayManager] Replay data cleared
[22:04:47] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:04:47] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:04:47] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:04:47] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:04:47] [INFO] [ReplayManager] Player: Player (valid: True)
[22:04:47] [INFO] [ReplayManager] Enemies count: 5
[22:04:47] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:04:47] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:04:47] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:04:47] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:04:47] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:04:47] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:04:47] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:04:47] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:04:47] [INFO] [CinemaEffects] Found player node: Player
[22:04:47] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:04:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[22:04:47] [ENEMY] [Enemy1] Registered as sound listener
[22:04:47] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[22:04:47] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:04:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[22:04:47] [ENEMY] [Enemy2] Registered as sound listener
[22:04:47] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:04:47] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:04:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[22:04:47] [ENEMY] [Enemy3] Registered as sound listener
[22:04:47] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[22:04:47] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:04:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[22:04:47] [ENEMY] [Enemy4] Registered as sound listener
[22:04:47] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[22:04:47] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:04:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[22:04:47] [ENEMY] [Enemy5] Registered as sound listener
[22:04:47] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[22:04:47] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:04:47] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:04:47] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:47] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:47] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:47] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:04:47] [INFO] [Player] Detected weapon: RSh-12 Revolver (Pistol pose)
[22:04:47] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:04:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:04:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:04:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:04:47] [INFO] [LastChance] Found player: Player
[22:04:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:04:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:04:47] [INFO] [LastChance] Connected to player Died signal (C#)
[22:04:47] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:04:48] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:04:48] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:04:48] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[22:04:48] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1111), corner_timer=0.30
[22:04:49] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(150,1111), corner_timer=-0.02
[22:04:49] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[22:04:49] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(150,1111), corner_timer=0.30
[22:04:49] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[22:04:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.973), source=PLAYER (Revolver), range=2500, listeners=10
[22:04:49] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[22:04:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[22:04:49] [INFO] [ImpactEffects] Spawning explosion visual effect at (834.777, 963.6014) (radius=15) - using shadow-based wall occlusion
[22:04:49] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(834.777, 963.6014), source=PLAYER (Bullet12p7mm), range=500, listeners=5
[22:04:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[22:04:49] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[22:04:49] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.995629, -0.093392), lethal=false
[22:04:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:04:49] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1)
[22:04:49] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[22:04:49] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.936217, -0.351423), lethal=true
[22:04:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:49] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:04:49] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1.5)
[22:04:49] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[22:04:49] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:04:49] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:04:49] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:04:49] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:04:49] [INFO] [PowerFantasy]   - Duration: 300ms
[22:04:49] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[22:04:49] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[22:04:49] [INFO] [DeathAnim] Started - Angle: -20.6 deg, Index: 10
[22:04:49] [ENEMY] [Enemy2] Death animation started with hit direction: (0.936217, -0.351423)
[22:04:50] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[22:04:50] [INFO] [PowerFantasy] Ending power fantasy effect
[22:04:50] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=5
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (938.8203, 952.1994) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (949.4793, 945.4918) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (941.939, 966.6089) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (943.0729, 959.2903) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (944.7191, 940.5835) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (996.0507, 998.0442) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (979.7639, 913.2209) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (955.8542, 945.8373) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (994.2715, 955.8624) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (946.002, 944.1243) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1007.124, 941.2632) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (964.8118, 921.8104) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (966.4644, 981.6816) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1060.581, 1009.712) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (991.9137, 940.5433) (added to group)
[22:04:50] [ENEMY] [Enemy2] Ragdoll activated
[22:04:50] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1045.581, 969.3925) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1027.837, 1009.838) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (995.6964, 987.2562) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1014.11, 912.6335) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1015.817, 964.6832) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1005.837, 1023.448) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1044.627, 939.2195) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1030.074, 1029.846) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1102.344, 1016.899) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1077.577, 1015.167) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1104.345, 970.9244) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1030.052, 990.2728) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1086.208, 979.2275) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1019.287, 930.1749) (added to group)
[22:04:50] [INFO] [BloodDecal] Blood puddle created at (1014.575, 996.7999) (added to group)
[22:04:51] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=5
[22:04:51] [INFO] [PauseMenu] Armory button pressed
[22:04:51] [INFO] [PauseMenu] Creating new armory menu instance
[22:04:51] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[22:04:51] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[22:04:51] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[22:04:51] [INFO] [PauseMenu] back_pressed signal exists on instance
[22:04:51] [INFO] [PauseMenu] back_pressed signal connected
[22:04:51] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[22:04:51] [INFO] [PauseMenu] _populate_weapon_grid method exists
[22:04:52] [INFO] [ReplayManager] Recording frame 300 (4,7s): player_valid=True, enemies=5
[22:04:53] [INFO] [GameManager] Weapon selected: ak_gl
[22:04:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:53] [INFO] [ReplayManager] Recording frame 360 (5,7s): player_valid=True, enemies=5
[22:04:53] [INFO] [ReplayManager] Recording frame 360 (5,7s): player_valid=True, enemies=5
[22:04:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:53] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:04:53] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:04:53] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:04:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:04:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:04:53] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:04:53] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:04:53] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:04:53] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:04:53] [ENEMY] [Enemy1] Death animation component initialized
[22:04:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:53] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:04:53] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:04:53] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:04:53] [ENEMY] [Enemy2] Death animation component initialized
[22:04:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:53] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:04:53] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:04:53] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:04:53] [ENEMY] [Enemy3] Death animation component initialized
[22:04:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:53] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:04:53] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:04:53] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:04:53] [ENEMY] [Enemy4] Death animation component initialized
[22:04:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:53] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:04:53] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:04:53] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:04:53] [ENEMY] [Enemy5] Death animation component initialized
[22:04:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:53] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:04:53] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:04:53] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:04:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:04:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:04:53] [INFO] [Player.Weapon] GameManager weapon selection: ak_gl (AKGL)
[22:04:53] [INFO] [Player.Weapon] Removed default MakarovPM
[22:04:53] [INFO] [Player.Weapon] Equipped AKGL (ammo: 30/30)
[22:04:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:04:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:04:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:04:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:04:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:04:53] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:04:53] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:04:53] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:04:53] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:04:53] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:04:53] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:04:53] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: AKGL
[22:04:53] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:04:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:04:53] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:04:53] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:04:53] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:04:53] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:04:53] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:04:53] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:04:53] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:04:53] [INFO] [LabyrinthLevel] Setting up weapon: ak_gl
[22:04:53] [INFO] [ScoreManager] Level started with 5 enemies
[22:04:53] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:04:53] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:04:53] [INFO] [ReplayManager] Replay data cleared
[22:04:53] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:04:53] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:04:53] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:04:53] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:04:53] [INFO] [ReplayManager] Player: Player (valid: True)
[22:04:53] [INFO] [ReplayManager] Enemies count: 5
[22:04:53] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:04:53] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:04:53] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:04:53] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:04:53] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:04:53] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:04:53] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:04:53] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:04:53] [INFO] [CinemaEffects] Found player node: Player
[22:04:53] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:04:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 5)
[22:04:53] [ENEMY] [Enemy1] Registered as sound listener
[22:04:53] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[22:04:53] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:04:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 6)
[22:04:53] [ENEMY] [Enemy2] Registered as sound listener
[22:04:53] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:04:53] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:04:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 7)
[22:04:53] [ENEMY] [Enemy3] Registered as sound listener
[22:04:53] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[22:04:53] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:04:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 8)
[22:04:53] [ENEMY] [Enemy4] Registered as sound listener
[22:04:53] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[22:04:53] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:04:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 9)
[22:04:53] [ENEMY] [Enemy5] Registered as sound listener
[22:04:53] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[22:04:53] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:04:53] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:53] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:53] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:04:53] [INFO] [Player] Detected weapon: AK + GL (Rifle pose)
[22:04:53] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:04:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:04:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:04:53] [INFO] [LastChance] Found player: Player
[22:04:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:04:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:04:53] [INFO] [LastChance] Connected to player Died signal (C#)
[22:04:53] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1000), source=PLAYER (AKGL), range=1600, listeners=9
[22:04:54] [INFO] [SoundPropagation] Cleaned up 4 invalid listeners
[22:04:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (294.2805, 982.538) (radius=15) - using shadow-based wall occlusion
[22:04:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(294.2805, 982.538), source=PLAYER (Bullet), range=500, listeners=5
[22:04:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[22:04:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:54] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:04:54] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:04:54] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:04:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:04:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:04:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:04:54] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[22:04:54] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:04:54] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:04:54] [ENEMY] [Enemy1] Death animation component initialized
[22:04:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:54] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:04:54] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:04:54] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:04:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:04:54] [ENEMY] [Enemy2] Death animation component initialized
[22:04:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:54] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:04:54] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:04:54] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:04:54] [ENEMY] [Enemy3] Death animation component initialized
[22:04:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:54] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:04:54] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:04:54] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:04:54] [ENEMY] [Enemy4] Death animation component initialized
[22:04:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:54] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:04:54] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:04:54] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:04:54] [ENEMY] [Enemy5] Death animation component initialized
[22:04:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:04:54] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:04:54] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:04:54] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:04:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:04:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:04:54] [INFO] [Player.Weapon] GameManager weapon selection: ak_gl (AKGL)
[22:04:54] [INFO] [Player.Weapon] Removed default MakarovPM
[22:04:54] [INFO] [Player.Weapon] Equipped AKGL (ammo: 30/30)
[22:04:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:04:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:04:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:04:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:04:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:04:54] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:04:54] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:04:54] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[22:04:54] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[22:04:54] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[22:04:54] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[22:04:54] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: AKGL
[22:04:54] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:04:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:04:54] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[22:04:54] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:04:54] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:04:54] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:04:54] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:04:54] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:04:54] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[22:04:54] [INFO] [LabyrinthLevel] Setting up weapon: ak_gl
[22:04:54] [INFO] [ScoreManager] Level started with 5 enemies
[22:04:54] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[22:04:54] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[22:04:54] [INFO] [ReplayManager] Replay data cleared
[22:04:54] [INFO] [LabyrinthLevel] Previous replay data cleared
[22:04:54] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:04:54] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:04:54] [INFO] [ReplayManager] Level: LabyrinthLevel
[22:04:54] [INFO] [ReplayManager] Player: Player (valid: True)
[22:04:54] [INFO] [ReplayManager] Enemies count: 5
[22:04:54] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:04:54] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:04:54] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:04:54] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:04:54] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:04:54] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:04:54] [INFO] [LabyrinthLevel] Replay recording started successfully
[22:04:54] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:04:54] [INFO] [CinemaEffects] Found player node: Player
[22:04:54] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:04:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[22:04:54] [ENEMY] [Enemy1] Registered as sound listener
[22:04:54] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[22:04:54] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:04:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[22:04:54] [ENEMY] [Enemy2] Registered as sound listener
[22:04:54] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[22:04:54] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:04:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[22:04:54] [ENEMY] [Enemy3] Registered as sound listener
[22:04:54] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[22:04:54] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:04:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[22:04:54] [ENEMY] [Enemy4] Registered as sound listener
[22:04:54] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[22:04:54] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:04:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[22:04:54] [ENEMY] [Enemy5] Registered as sound listener
[22:04:54] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[22:04:54] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:04:55] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[22:04:55] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:55] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:55] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:55] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[22:04:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:04:55] [INFO] [Player] Detected weapon: AK + GL (Rifle pose)
[22:04:55] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:04:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:04:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:04:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:04:55] [INFO] [LastChance] Found player: Player
[22:04:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:04:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:04:55] [INFO] [LastChance] Connected to player Died signal (C#)
[22:04:55] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:04:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.973), source=PLAYER (AKGL), range=1600, listeners=10
[22:04:55] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[22:04:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[22:04:55] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[22:04:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.973), source=PLAYER (AKGL), range=1600, listeners=5
[22:04:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[22:04:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.973), source=PLAYER (AKGL), range=1600, listeners=5
[22:04:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[22:04:56] [INFO] [ImpactEffects] Spawning explosion visual effect at (1130.225, 1011.773) (radius=15) - using shadow-based wall occlusion
[22:04:56] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1130.225, 1011.773), source=PLAYER (Bullet), range=500, listeners=5
[22:04:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[22:04:56] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/1->0/1
[22:04:56] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.898513, -0.438947), lethal=true
[22:04:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:04:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:04:56] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1.5)
[22:04:56] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[22:04:56] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:04:56] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:04:56] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:04:56] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:04:56] [INFO] [PowerFantasy]   - Duration: 300ms
[22:04:56] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (1200, 1000), entering SEARCHING
[22:04:56] [ENEMY] [Enemy2] SEARCHING started: center=(1200, 1000), radius=100, waypoints=5
[22:04:56] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[22:04:56] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 4)
[22:04:56] [INFO] [DeathAnim] Started - Angle: -26.0 deg, Index: 10
[22:04:56] [ENEMY] [Enemy3] Death animation started with hit direction: (0.898513, -0.438947)
[22:04:56] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=167.8°, current=11.3°, player=(150,1111), corner_timer=0.00
[22:04:56] [ENEMY] [Enemy2] SEARCHING corner check: angle 99.5°
[22:04:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.973), source=PLAYER (AKGL), range=1600, listeners=4
[22:04:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[22:04:56] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[22:04:56] [INFO] [PowerFantasy] Ending power fantasy effect
[22:04:56] [INFO] [ImpactEffects] Spawning explosion visual effect at (1401.691, 1008.031) (radius=15) - using shadow-based wall occlusion
[22:04:56] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1401.691, 1008.031), source=PLAYER (@Area2D@5102), range=500, listeners=4
[22:04:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[22:04:56] [INFO] [BloodDecal] Blood puddle created at (1224.284, 984.2661) (added to group)
[22:04:56] [INFO] [BloodDecal] Blood puddle created at (1282.552, 1008.543) (added to group)
[22:04:56] [INFO] [BloodDecal] Blood puddle created at (1260.681, 995.0909) (added to group)
[22:04:56] [INFO] [BloodDecal] Blood puddle created at (1261.907, 967.8477) (added to group)
[22:04:56] [INFO] [BloodDecal] Blood puddle created at (1258.725, 993.8726) (added to group)
[22:04:56] [INFO] [BloodDecal] Blood puddle created at (1294.19, 1017.429) (added to group)
[22:04:56] [INFO] [ImpactEffects] Spawning explosion visual effect at (1402.593, 1019.521) (radius=15) - using shadow-based wall occlusion
[22:04:56] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1402.593, 1019.521), source=PLAYER (@Area2D@5105), range=500, listeners=4
[22:04:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[22:04:56] [ENEMY] [Enemy2] SEARCHING corner check: angle -80.5°
[22:04:56] [INFO] [BloodDecal] Blood puddle created at (1254.003, 1009.166) (added to group)
[22:04:56] [INFO] [BloodDecal] Blood puddle created at (1304.803, 948.2015) (added to group)
[22:04:56] [INFO] [BloodDecal] Blood puddle created at (1323.254, 1006.695) (added to group)
[22:04:56] [INFO] [ReplayManager] Recording frame 120 (1,7s): player_valid=True, enemies=5
[22:04:56] [INFO] [BloodDecal] Blood puddle created at (1342.765, 1015.635) (added to group)
[22:04:56] [INFO] [ImpactEffects] Spawning explosion visual effect at (1393.62, 1024.865) (radius=15) - using shadow-based wall occlusion
[22:04:56] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1393.62, 1024.865), source=PLAYER (Bullet), range=500, listeners=4
[22:04:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[22:04:56] [ENEMY] [Enemy3] Ragdoll activated
[22:04:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:04:57] [INFO] [BloodDecal] Blood puddle created at (1274.165, 983.918) (added to group)
[22:04:57] [INFO] [BloodDecal] Blood puddle created at (1270.786, 985.8606) (added to group)
[22:04:57] [INFO] [BloodDecal] Blood puddle created at (1362.662, 974.8337) (added to group)
[22:04:57] [INFO] [BloodDecal] Blood puddle created at (1363.585, 1018.675) (added to group)
[22:04:57] [INFO] [BloodDecal] Blood puddle created at (1338.942, 994.3055) (added to group)
[22:04:57] [INFO] [BloodDecal] Blood puddle created at (1313.414, 1051.285) (added to group)
[22:04:57] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=171.9°, current=122.8°, player=(150,1111), corner_timer=0.05
[22:04:57] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[22:04:57] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[22:04:57] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:04:57] [INFO] [BloodDecal] Blood puddle created at (1306.72, 1029.685) (added to group)
[22:04:57] [INFO] [BloodDecal] Blood puddle created at (1288.37, 999.8844) (added to group)
[22:04:57] [INFO] [BloodDecal] Blood puddle created at (1397.355, 1076.412) (added to group)
[22:04:57] [INFO] [BloodDecal] Blood puddle created at (1277.47, 1016.163) (added to group)
[22:04:57] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-80.5°, current=-135.9°, player=(150,1111), corner_timer=0.05
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=5
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:04:57] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:57] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:04:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1081.597), source=PLAYER (AKGL), range=1600, listeners=4
[22:04:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[22:04:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:58] [ENEMY] [Enemy3] Death animation completed
[22:04:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:58] [INFO] [ImpactEffects] Spawning explosion visual effect at (293.8408, 1060.822) (radius=15) - using shadow-based wall occlusion
[22:04:58] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(293.8408, 1060.822), source=PLAYER (Bullet), range=500, listeners=4
[22:04:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=0
[22:04:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[22:04:58] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=5
[22:04:59] [INFO] ------------------------------------------------------------
[22:04:59] [INFO] GAME LOG ENDED: 2026-02-10T22:04:59
[22:04:59] [INFO] ============================================================
